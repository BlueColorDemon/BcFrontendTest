(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function init(){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,e=o.length;r<e;++r)lookup[r]=o[r],revLookup[o.charCodeAt(r)]=r;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(o){var r,e,t,u,n,p,a=o.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");n="="===o[a-2]?2:"="===o[a-1]?1:0,p=new Arr(3*a/4-n),t=n>0?a-4:a;var k=0;for(r=0,e=0;r<t;r+=4,e+=3)u=revLookup[o.charCodeAt(r)]<<18|revLookup[o.charCodeAt(r+1)]<<12|revLookup[o.charCodeAt(r+2)]<<6|revLookup[o.charCodeAt(r+3)],p[k++]=u>>16&255,p[k++]=u>>8&255,p[k++]=255&u;return 2===n?(u=revLookup[o.charCodeAt(r)]<<2|revLookup[o.charCodeAt(r+1)]>>4,p[k++]=255&u):1===n&&(u=revLookup[o.charCodeAt(r)]<<10|revLookup[o.charCodeAt(r+1)]<<4|revLookup[o.charCodeAt(r+2)]>>2,p[k++]=u>>8&255,p[k++]=255&u),p}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,u=[],n=r;n<e;n+=3)t=(o[n]<<16)+(o[n+1]<<8)+o[n+2],u.push(tripletToBase64(t));return u.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,u="",n=[],p=16383,a=0,k=e-t;a<k;a+=p)n.push(encodeChunk(o,a,a+p>k?k:a+p));return 1===t?(r=o[e-1],u+=lookup[r>>2],u+=lookup[r<<4&63],u+="=="):2===t&&(r=(o[e-2]<<8)+o[e-1],u+=lookup[r>>10],u+=lookup[r>>4&63],u+=lookup[r<<2&63],u+="="),n.push(u),n.join("")}exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array;init();

},{}],2:[function(require,module,exports){
(function (global){
"use strict";function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=Buffer.prototype):(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,r)}function from(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?fromArrayBuffer(t,e,r,n):"string"==typeof e?fromString(t,e,r):fromObject(t,e)}function assertSize(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function alloc(t,e,r,n){return assertSize(e),e<=0?createBuffer(t,e):void 0!==r?"string"==typeof n?createBuffer(t,e).fill(r,n):createBuffer(t,e).fill(r):createBuffer(t,e)}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function fromString(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(e,r);t=createBuffer(t,n);var f=t.write(e,r);return f!==n&&(t=t.slice(0,f)),t}function fromArrayLike(t,e){var r=e.length<0?0:0|checked(e.length);t=createBuffer(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),Buffer.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=Buffer.prototype):t=fromArrayLike(t,e),t}function fromObject(t,e){if(Buffer.isBuffer(e)){var r=0|checked(e.length);return t=createBuffer(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||isnan(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&isArray(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(t){return+t!=t&&(t=0),Buffer.alloc(+t)}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"latin1":case"binary":return latin1Slice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function swap(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function bidirectionalIndexOf(t,e,r,n,f){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=f?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(f)return-1;r=t.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof e&&(e=Buffer.from(e,n)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,r,n,f);if("number"==typeof e)return e=255&e,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):arrayIndexOf(t,[e],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,r,n,f){function i(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,u=t.length,s=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(t,a)===i(e,h===-1?0:a-h)){if(h===-1&&(h=a),a-h+1===s)return h*o}else h!==-1&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(t,a+l)!==i(e,l)){c=!1;break}if(c)return a}return-1}function hexWrite(t,e,r,n){r=Number(r)||0;var f=t.length-r;n?(n=Number(n),n>f&&(n=f)):n=f;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))return o;t[r+o]=u}return o}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(asciiToBytes(e),t,r,n)}function latin1Write(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(utf16leToBytes(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?base64.fromByteArray(t):base64.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],f=e;f<r;){var i=t[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=t[f+1],128===(192&s)&&(c=(31&i)<<6|63&s,c>127&&(o=c));break;case 3:s=t[f+1],a=t[f+2],128===(192&s)&&128===(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:s=t[f+1],a=t[f+2],h=t[f+3],128===(192&s)&&128===(192&a)&&128===(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(t){var e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;++f)n+=String.fromCharCode(127&t[f]);return n}function latin1Slice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;++f)n+=String.fromCharCode(t[f]);return n}function hexSlice(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=e;i<r;++i)f+=toHex(t[i]);return f}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,f,i){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>f||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,r,n){e<0&&(e=65535+e+1);for(var f=0,i=Math.min(t.length-r,2);f<i;++f)t[r+f]=(e&255<<8*(n?f:1-f))>>>8*(n?f:1-f)}function objectWriteUInt32(t,e,r,n){e<0&&(e=4294967295+e+1);for(var f=0,i=Math.min(t.length-r,4);f<i;++f)t[r+f]=e>>>8*(n?f:3-f)&255}function checkIEEE754(t,e,r,n,f,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(t,e,r,n,f){return f||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,f){return f||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){if(t=stringtrim(t).replace(INVALID_BASE64_RE,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var r,n=t.length,f=null,i=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!f){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),f=r;continue}r=(f-55296<<10|r-56320)+65536}else f&&(e-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t,e){for(var r,n,f,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(t){return base64.toByteArray(base64clean(t))}function blitBuffer(t,e,r,n){for(var f=0;f<n&&!(f+r>=e.length||f>=t.length);++f)e[f+r]=t[f];return f}function isnan(t){return t!==t}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,r){return from(null,t,e,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,r){return alloc(null,t,e,r)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,f=0,i=Math.min(r,n);f<i;++f)if(t[f]!==e[f]){r=t[f],n=e[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Buffer.allocUnsafe(e),f=0;for(r=0;r<t.length;++r){var i=t[r];if(!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t,e,r,n,f){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),e<0||r>t.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&e>=r)return 0;if(n>=f)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,f>>>=0,this===t)return 0;for(var i=f-n,o=r-e,u=Math.min(i,o),s=this.slice(n,f),a=t.slice(e,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},Buffer.prototype.indexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!0)},Buffer.prototype.lastIndexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!1)},Buffer.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-e;if((void 0===r||r>f)&&(r=f),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"latin1":case"binary":return latin1Write(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=Buffer.prototype;else{var f=e-t;n=new Buffer(f,void 0);for(var i=0;i<f;++i)n[i]=this[i+t]}return n},Buffer.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return n},Buffer.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t+--e],f=1;e>0&&(f*=256);)n+=this[t+--e]*f;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=e,f=1,i=this[t+--n];n>0&&(f*=256);)i+=this[t+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e=0|e,r=0|r,!n){var f=Math.pow(2,8*r)-1;checkInt(this,t,e,r,f,0)}var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},Buffer.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e=0|e,r=0|r,!n){var f=Math.pow(2,8*r)-1;checkInt(this,t,e,r,f,0)}var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=0,o=1,u=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var f,i=n-r;if(this===t&&r<e&&e<n)for(f=i-1;f>=0;--f)t[f+e]=this[f+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(f=0;f<i;++f)t[f+e]=this[f+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var f=t.charCodeAt(0);f<256&&(t=f)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t=255&t);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var i;if("number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,n).toString()),u=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"base64-js":1,"ieee754":4,"isarray":6}],3:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(i=this._events[e],isUndefined(i))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),o=i.slice(),n=o.length,r=0;r<n;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],isFunction(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};

},{}],4:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:(s?-1:1)*(1/0);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};

},{}],5:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],6:[function(require,module,exports){
var toString={}.toString;module.exports=Array.isArray||function(r){return"[object Array]"==toString.call(r)};

},{}],7:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),i=Math.min(n.length,s.length),o=i,u=0;u<i;u++)if(n[u]!==s[u]){o=u;break}for(var l=[],u=o;u<n.length;u++)l.push("..");return l=l.concat(s.slice(o)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};

}).call(this,require('_process'))
},{"_process":8}],8:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)t[u-1]=arguments[u];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],9:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;t<u;)o=e.charCodeAt(t++),o>=55296&&o<=56319&&t<u?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function f(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),r<0&&(r=0),t=0;t<r;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;f<g;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=d<=j?y:d>=j+C?C:d-j,!(a<p);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;s<g;++s)v=e[s],v<128&&F.push(P(v));for(u=i=F.length,i&&F.push(E);u<g;){for(d=x,s=0;s<g;++s)v=e[s],v>=n&&v<d&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;s<g;++s)if(v=e[s],v<n&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=p<=l?y:p>=l+C?C:p-l,!(a<h);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],10:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;y<p;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};

},{}],11:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};

},{}],12:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":10,"./encode":11}],13:[function(require,module,exports){
"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&util.isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}var punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t.indexOf("?"),r=h!==-1&&h<t.indexOf("#")?"?":"#",a=t.split(r),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(r);var n=t;if(n=n.trim(),!e&&1===t.split("#").length){var i=simplePathPattern.exec(n);if(i)return this.path=n,this.href=n,this.pathname=i[1],i[2]?(this.search=i[2],s?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):s&&(this.search="",this.query={}),this}var l=protocolPattern.exec(n);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,n=n.substr(l.length)}if(e||l||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===n.substr(0,2);!p||l&&hostlessProtocol[l]||(n=n.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(p||l&&!slashedProtocol[l])){for(var c=-1,f=0;f<hostEndingChars.length;f++){var m=n.indexOf(hostEndingChars[f]);m!==-1&&(c===-1||m<c)&&(c=m)}var v,g;g=c===-1?n.lastIndexOf("@"):n.lastIndexOf("@",c),g!==-1&&(v=n.slice(0,g),n=n.slice(g+1),this.auth=decodeURIComponent(v)),c=-1;for(var f=0;f<nonHostChars.length;f++){var m=n.indexOf(nonHostChars[f]);m!==-1&&(c===-1||m<c)&&(c=m)}c===-1&&(c=n.length),this.host=n.slice(0,c),n=n.slice(c),this.parseHost(),this.hostname=this.hostname||"";var y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!y)for(var P=this.hostname.split(/\./),f=0,d=P.length;f<d;f++){var q=P[f];if(q&&!q.match(hostnamePartPattern)){for(var b="",O=0,j=q.length;O<j;O++)b+=q.charCodeAt(O)>127?"x":q[O];if(!b.match(hostnamePartPattern)){var x=P.slice(0,f),U=P.slice(f+1),C=q.match(hostnamePartStart);C&&(x.push(C[1]),U.unshift(C[2])),U.length&&(n="/"+U.join(".")+n),this.hostname=x.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=punycode.toASCII(this.hostname));var A=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+A,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!unsafeProtocol[u])for(var f=0,d=autoEscape.length;f<d;f++){var E=autoEscape[f];if(n.indexOf(E)!==-1){var I=encodeURIComponent(E);I===E&&(I=escape(E)),n=n.split(E).join(I)}}var R=n.indexOf("#");R!==-1&&(this.hash=n.substr(R),n=n.slice(0,R));var S=n.indexOf("?");if(S!==-1?(this.search=n.substr(S),this.query=n.substr(S+1),s&&(this.query=querystring.parse(this.query)),n=n.slice(0,S)):s&&(this.search="",this.query={}),n&&(this.pathname=n),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var A=this.pathname||"",k=this.search||"";this.path=A+k}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(a=querystring.stringify(this.query));var o=this.search||a&&"?"+a||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),o&&"?"!==o.charAt(0)&&(o="?"+o),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),s+r+e+o+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(util.isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}for(var e=new Url,h=Object.keys(this),r=0;r<h.length;r++){var a=h[r];e[a]=this[a]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n];"protocol"!==i&&(e[i]=t[i])}return slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var p=l[u];e[p]=t[p]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var f=e.pathname||"",m=e.search||"";e.path=f+m}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var v=e.pathname&&"/"===e.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=g||v||e.host&&t.pathname,P=y,d=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],q=e.protocol&&!slashedProtocol[e.protocol];if(q&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),y=y&&(""===c[0]||""===d[0])),g)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,d=c;else if(c.length)d||(d=[]),d.pop(),d=d.concat(c),e.search=t.search,e.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(q){e.hostname=e.host=d.shift();var b=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return e.search=t.search,e.query=t.query,util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!d.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var O=d.slice(-1)[0],j=(e.host||t.host||d.length>1)&&("."===O||".."===O)||""===O,x=0,U=d.length;U>=0;U--)O=d[U],"."===O?d.splice(U,1):".."===O?(d.splice(U,1),x++):x&&(d.splice(U,1),x--);if(!y&&!P)for(;x--;x)d.unshift("..");!y||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),j&&"/"!==d.join("/").substr(-1)&&d.push("");var C=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(q){e.hostname=e.host=C?"":d.length?d.shift():"";var b=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return y=y||e.host&&d.length,y&&!C&&d.unshift(""),d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null),util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};

},{"./util":14,"punycode":9,"querystring":12}],14:[function(require,module,exports){
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};

},{}],15:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],16:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var c="",a=!1,l=["{","}"];if(isArray(r)&&(a=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";c=" [Function"+p+"]"}if(isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(t<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(f,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;s<u;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(e){return"[Circular]"}default:return e}}),s=n[t];t<i;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./support/isBuffer":15,"_process":8,"inherits":5}],17:[function(require,module,exports){
module.exports={
    "p_id": "hongbao",
    "p_name": "红包",
    "type": 2,
    "icon": "hongbao.png",
    "emotions": [
        {
            "p_id": "hongbao",
            "e_id": 8,
            "e_name": "老板有赏",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI4-G3h4",
            "b_mediaid": "@lAHOBI4-HczwzPA",
            "f_size": 70969
        },
        {
            "p_id": "hongbao",
            "e_id": 12,
            "e_name": "拿去花",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5d9Xh4",
            "b_mediaid": "@lAHOBI5PoszwzPA",
            "f_size": 73925
        },
        {
            "p_id": "hongbao",
            "e_id": 4,
            "e_name": "发红包啦",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBI5aKnh4",
            "b_mediaid": "@lAHOBI5aLMzwzPA",
            "f_size": 25185
        },
        {
            "p_id": "hongbao",
            "e_id": 10,
            "e_name": "快点发",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5H5nh4",
            "b_mediaid": "@lAHOBI46CczwzPA",
            "f_size": 86616
        },
        {
            "p_id": "hongbao",
            "e_id": 9,
            "e_name": "错过几个亿",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5EhXh4",
            "b_mediaid": "@lAHOBI5UF8zwzPA",
            "f_size": 30600
        },
        {
            "p_id": "hongbao",
            "e_id": 20,
            "e_name": "新年快乐",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI46Dnh4",
            "b_mediaid": "@lAHOBI5H58zwzPA",
            "f_size": 31914
        },
        {
            "p_id": "hongbao",
            "e_id": 15,
            "e_name": "赏你5毛",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBI5L6nh4",
            "b_mediaid": "@lAHOBI5PqszwzPA",
            "f_size": 84322
        },
        {
            "p_id": "hongbao",
            "e_id": 14,
            "e_name": "求被羞辱",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5UHXh4",
            "b_mediaid": "@lAHOBI4-PszwzPA",
            "f_size": 32413
        },
        {
            "p_id": "hongbao",
            "e_id": 18,
            "e_name": "感谢",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5aMXh4",
            "b_mediaid": "@lAHOBI4-QMzwzPA",
            "f_size": 34557
        },
        {
            "p_id": "hongbao",
            "e_id": 3,
            "e_name": "不要停",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBI4-Qnh4",
            "b_mediaid": "@lAHOBI5H7MzwzPA",
            "f_size": 23973
        },
        {
            "p_id": "hongbao",
            "e_id": 19,
            "e_name": "谢主隆恩",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5Ejnh4",
            "b_mediaid": "@lAHOBI5UI8zwzPA",
            "f_size": 42116
        },
        {
            "p_id": "hongbao",
            "e_id": 5,
            "e_name": "伐开心",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI4-Q3h4",
            "b_mediaid": "@lAHOBI5PrMzwzPA",
            "f_size": 21985
        },
        {
            "p_id": "hongbao",
            "e_id": 11,
            "e_name": "冷静一下",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5Wynh4",
            "b_mediaid": "@lAHOBI46GczwzPA",
            "f_size": 46011
        },
        {
            "p_id": "hongbao",
            "e_id": 24,
            "e_name": "人生巅峰",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBI5UKHh4",
            "b_mediaid": "@lAHOBI5WzMzwzPA",
            "f_size": 25534
        },
        {
            "p_id": "hongbao",
            "e_id": 22,
            "e_name": "想要红包",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBI5L9Hh4",
            "b_mediaid": "@lAHOBI5ULszwzPA",
            "f_size": 30231
        },
        {
            "p_id": "hongbao",
            "e_id": 17,
            "e_name": "掀桌子",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBI46Hnh4",
            "b_mediaid": "@lAHOBI5eBMzwzPA",
            "f_size": 79839
        },
        {
            "p_id": "hongbao",
            "e_id": 1,
            "e_name": "榜样",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5H8Hh4",
            "b_mediaid": "@lAHOBI46IMzwzPA",
            "f_size": 19100
        },
        {
            "p_id": "hongbao",
            "e_id": 2,
            "e_name": "抱大腿",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBKQs73h4",
            "b_mediaid": "@lAHOBKQs7szwzPA",
            "f_size": 73925
        },
        {
            "p_id": "hongbao",
            "e_id": 7,
            "e_name": "鼓掌",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5Psnh4",
            "b_mediaid": "@lAHOBI5W1MzwzPA",
            "f_size": 23060
        },
        {
            "p_id": "hongbao",
            "e_id": 21,
            "e_name": "有钱花啦",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5UNXh4",
            "b_mediaid": "@lAHOBI5eB8zwzPA",
            "f_size": 49444
        },
        {
            "p_id": "hongbao",
            "e_id": 23,
            "e_name": "重发",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBI4-UXh4",
            "b_mediaid": "@lAHOBI5PtMzwzPA",
            "f_size": 47324
        },
        {
            "p_id": "hongbao",
            "e_id": 16,
            "e_name": "做牛做马",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBI5eCXh4",
            "b_mediaid": "@lAHOBI5En8zwzPA",
            "f_size": 35675
        },
        {
            "p_id": "hongbao",
            "e_id": 13,
            "e_name": "你帅你先发",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBI5L-nh4",
            "b_mediaid": "@lAHOBI4-UszwzPA",
            "f_size": 35406
        },
        {
            "p_id": "hongbao",
            "e_id": 6,
            "e_name": "恭喜发财",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBI5L_Hh4",
            "b_mediaid": "@lAHOBI5PwczwzPA",
            "f_size": 15720
        }
    ],
    "icon_mediaid": "@lALOBI4-GmBg"
}

},{}],18:[function(require,module,exports){
module.exports={
    "p_id": "lxt",
    "p_name": "来小兔",
    "type": 1,
    "icon": "lxt.png",
    "emotions": [
        {
            "p_id": "lxt",
            "e_id": 1,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJgzg3Bw",
            "b_mediaid": "@lALOBJhFXcz6zPo",
            "f_size": 13038
        },
        {
            "p_id": "lxt",
            "e_id": 2,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJgsS3Bw",
            "b_mediaid": "@lALOBJgpFMz6zPo",
            "f_size": 16506
        },
        {
            "p_id": "lxt",
            "e_id": 3,
            "e_name": "",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBJhFXnBw",
            "b_mediaid": "@lALOBJg6eMz6zNI",
            "f_size": 13116
        },
        {
            "p_id": "lxt",
            "e_id": 4,
            "e_name": "",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBJgsVHBw",
            "b_mediaid": "@lALOBJgsVcz6zNI",
            "f_size": 12224
        },
        {
            "p_id": "lxt",
            "e_id": 5,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJhJH3Bw",
            "b_mediaid": "@lALOBJg6fMz6zPo",
            "f_size": 16592
        },
        {
            "p_id": "lxt",
            "e_id": 6,
            "e_name": "",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBJgzjHBw",
            "b_mediaid": "@lALOBJg6fcz6zNI",
            "f_size": 13715
        },
        {
            "p_id": "lxt",
            "e_id": 7,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJhJInBw",
            "b_mediaid": "@lALOBJg6f8z6zPo",
            "f_size": 18092
        },
        {
            "p_id": "lxt",
            "e_id": 8,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJhB0XBw",
            "b_mediaid": "@lALOBJg6gMz6zPo",
            "f_size": 17112
        },
        {
            "p_id": "lxt",
            "e_id": 9,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJg2vHBw",
            "b_mediaid": "@lALOBJg2vsz6zPo",
            "f_size": 17979
        },
        {
            "p_id": "lxt",
            "e_id": 10,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJg2wHBw",
            "b_mediaid": "@lALOBJhFaMz6zPo",
            "f_size": 14324
        },
        {
            "p_id": "lxt",
            "e_id": 11,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJhJLXBw",
            "b_mediaid": "@lALOBJgzmMz6zPo",
            "f_size": 15059
        },
        {
            "p_id": "lxt",
            "e_id": 12,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJgpKHBw",
            "b_mediaid": "@lALOBJgzmcz6zPo",
            "f_size": 15900
        },
        {
            "p_id": "lxt",
            "e_id": 13,
            "e_name": "",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBJg6kHBw",
            "b_mediaid": "@lALOBJgv48z6zNI",
            "f_size": 15255
        },
        {
            "p_id": "lxt",
            "e_id": 14,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJhB4HBw",
            "b_mediaid": "@lALOBJg6kcz6zPo",
            "f_size": 13900
        },
        {
            "p_id": "lxt",
            "e_id": 15,
            "e_name": "",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBJgznXBw",
            "b_mediaid": "@lALOBJgsg8z6zNI",
            "f_size": 14105
        },
        {
            "p_id": "lxt",
            "e_id": 16,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJg-znBw",
            "b_mediaid": "@lALOBJg2ysz6zPo",
            "f_size": 15879
        },
        {
            "p_id": "lxt",
            "e_id": 17,
            "e_name": "",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBJg2zHBw",
            "b_mediaid": "@lALOBJgzosz6zNI",
            "f_size": 12266
        },
        {
            "p_id": "lxt",
            "e_id": 18,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJhJOnBw",
            "b_mediaid": "@lALOBJg6lMz6zPo",
            "f_size": 13101
        },
        {
            "p_id": "lxt",
            "e_id": 19,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJgsjHBw",
            "b_mediaid": "@lALOBJgsjcz6zPo",
            "f_size": 13284
        },
        {
            "p_id": "lxt",
            "e_id": 20,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJg6lXBw",
            "b_mediaid": "@lALOBJhFhsz6zPo",
            "f_size": 13455
        },
        {
            "p_id": "lxt",
            "e_id": 21,
            "e_name": "",
            "width": 250,
            "height": 250,
            "s_mediaid": "@lALOBJg21HBw",
            "b_mediaid": "@lALOBJgv-8z6zPo",
            "f_size": 15251
        },
        {
            "p_id": "lxt",
            "e_id": 22,
            "e_name": "",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBJhFiXBw",
            "b_mediaid": "@lALOBJhFi8z6zNI",
            "f_size": 12557
        },
        {
            "p_id": "lxt",
            "e_id": 23,
            "e_name": "",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBJhB9HBw",
            "b_mediaid": "@lALOBJgslMz6zNI",
            "f_size": 11829
        },
        {
            "p_id": "lxt",
            "e_id": 24,
            "e_name": "",
            "width": 210,
            "height": 250,
            "s_mediaid": "@lALOBJgv_3Bw",
            "b_mediaid": "@lALOBJhJScz6zNI",
            "f_size": 12693
        }
    ],
    "icon_mediaid": "@lALOBJgzgmBg"
}

},{}],19:[function(require,module,exports){
(function (process){
"use strict";var angular=require("angular");require("angular-ui-router"),require("angular-ui-router.statehelper"),require("angular-sanitize"),require("angular-translate"),require("@ali/ui-select");var path=require("path"),WK=require("@ali/wksdk"),appKey=require("./service/appInfo").APP_KEY,hostConfig=require("./service/hostConfig"),dbCollection=require("./service/db/dbCollection"),AtOpenIdType=require("./service/conversation/AtOpenIdType"),ua=require("./service/ua"),multiLanguage=require("./service/pcMedusaService/medusa"),storage=require("./service/storage/storage"),nw=require("./service/app/nw");WK.config.set("appKey",appKey),WK.config.set("beforeAuthLWPWhiteList",["/r/Adaptor/LoginI/umidToken","/r/Adaptor/LoginI/login","/r/Adaptor/LoginI/sendSmsCode","/r/Adaptor/LoginI/tokenLogin"]),WK.config.set("ua",ua.fullUA),WK.config.set("AtOpenIdType",AtOpenIdType),WK.config.set("log",require("./service/log/localLog")),WK.config.set("didByCookie",!0),WK.config.set("backUpWSURL",hostConfig.wsAlternative),WK.config.set("aladinUrl",hostConfig.aladin),ua.isDesktop&&WK.config.set("dbCollection",dbCollection),ua.isNw&&(process.env.UV_THREADPOOL_SIZE=10),WK.mainInit(),require("./module/chat/index"),require("./module/contact/index"),require("./module/contact/friendRequest"),require("./module/login/auth"),require("./module/login/index"),require("./module/list/index"),require("./module/companyCallCenter/index"),require("./module/nocontent/nocontent"),require("./module/home/index"),require("./module/im/index"),require("./directive/infiniteScroll"),require("./directive/log"),require("./filter/filter"),require("./directive/widget/preventDrag"),require("./service/goldlog/staylog"),require("./module/login/scanCodeLogin"),require("./service/widget/screenshot.js"),require("./service/log/exceptionLog"),require("./service/toast/toast"),require("./service/appInit/init"),require("./directive/widget/avatar/avatar"),require("./directive/widget/breadcrumbs"),require("./directive/widget/hoverTip"),angular.module("ddWeb",["ui.router","ui.router.stateHelper","ddWeb.contact","ddWeb.chat","ddWeb.home","ddWeb.im","ddWeb.list","ddWeb.companyCallCenter","ddWeb.auth","ddWeb.nocontent","ddWeb.login","ddWeb.filter","ddWeb.infiniteScroll","ddWeb.log","ddWeb.scanCodeLogin","ddWeb.friendRequest","ddWeb.service.screenshot","ddWeb.log.exceptionLog","ddWeb.preventDrag","ddWeb.goldlog.staylog","ddWeb.widget.avatar","ddWeb.widget.breadcrumbs","ddWeb.widget.hoverTip","ddWeb.appInit.init","pascalprecht.translate",require("./module/contact/groupRequest"),require("./directive/widget/loading/loading"),require("./service/log/log"),require("./directive/widget/ddCopy"),require("./directive/widget/ddClickUrl"),require("./module/apiTest/apiTest"),require("./module/microApp/index"),require("./service/app/silentUpdate"),require("./module/cspace/index"),require("./module/cmail/index"),require("./module/contact/arch"),require("./module/contact/clients"),require("./module/contact/externalContact")]).config(["stateHelperProvider","$compileProvider","$translateProvider",function(n,e,i){multiLanguage.init(i),e.imgSrcSanitizationWhitelist(/^\s*((https?|ftp|file|blob|app|chrome-extension):|data:image\/)/),n.setNestedState({name:"auth",controller:"auth as auth",template:'<div class="welcome">\n    <img ng-src="{{auth.welcomeImg}}" alt="">\n    <p translate="pc_login_auth_connect"></p>\n</div>\n'}),n.setNestedState({name:"login",template:'<div id="header" class="login-header" ng-dblclick="login.onHeaderDblClick()"><!-- 此dom不可变更 -->\r\n    <window-operations></window-operations>\r\n</div>\r\n<div class="login-form tab login-tab">\r\n    <ul class="tab-items" ng-click="login.changeLanguage()">\r\n        <li class="tab-item" ng-class="{current:login.currentState===\'login.scanCodeLogin\'}" ui-sref=".scanCodeLogin" >{{::login.text.scancode}}</li>\r\n        <li class="tab-item" ng-class="{current:login.currentState===\'login.passwordLogin\'}" ui-sref=".passwordLogin" >{{::login.text.password}}</li>\r\n        <li class="tab-item" ng-class="{current:login.currentState===\'login.verLogin\'}" ui-sref=".verLogin" >{{::login.text.code}}</li>\r\n    </ul>\r\n    <div ui-view class="tab-contents" ></div>\r\n</div>\r\n<div class="networkdetect" ng-click="login.networkdetect()" >{{::login.text.abnormal}}</div>\r\n',controller:"login as login",children:[{name:"verLogin",template:'<div class="tab-content ver-login current">\n    <form id="verLoginForm" name="verLoginForm" ng-submit="verLoginForm.$valid && verLogin.submit()" novalidate>\n        <div class="avatar-halo" ng-show="verLogin.connecting"></div>\n        <div class="avatar biger border-thick" ng-if="(!verLogin.user.nick && !verLogin.user.avatarMediaId)||!verLogin.isCurrentUser">\n            <img src="https://gtms03.alicdn.com/tps/i3/TB1opXxHXXXXXahXpXXvBLt6FXX-230-230.png" class="country-img" alt="" />\n        </div>\n        <dd-avatar mediaid="verLogin.user.avatarMediaId" nick="verLogin.user.nick" class="biger border-thick" ng-if="(verLogin.user.nick || verLogin.user.avatarMediaId)&&verLogin.isCurrentUser"></dd-avatar>\n        <div class="clearfix">\n            <phone-input phone="verLogin.telephone" country-key="verLogin.countryKey" focus-on="verLogin.focusTelephone" on-change="verLogin.onPhoneChange(data)">\n            </phone-input>\n            <div class="send-form-button-wrapper">\n                <countdown count-from="verLogin.countFrom" on-timeout="verLogin.countTimeout()" ng-show="verLogin.countFrom > 0"></countdown>\n                <button type="button" ng-class="{disabled:verLogin.codedisable || !verLogin.phoneValid}"  ng-click="verLogin.phoneValid && verLogin.sendCode()" class="send-form-button" >{{::verLogin.text.pc_login_code_send}}</button>\n            </div>\n        </div>\n        <div class="clearfix">\n            <input autocomplete="off" form-number length="4" ng-change="verLogin.submitDisable=false" ng-model="verLogin.code"  focus="verLogin.focusTelephone" type="text" name="verification" placeholder="{{::verLogin.text.pc_login_code_placeholder}}" class="fm-input ver-code" required>\n        </div>\n        <button type="submit" ng-class="{disabled:verLoginForm.$invalid || verLogin.submitDisable}"  class="blue big">{{::verLogin.text.pc_login_button}}</button>\n        <div class="toast warning" ng-click="verLogin.loginError.msg=\'\'"ng-if="verLogin.loginError.msg"><i class="iconfont">&#xe63d;</i>{{verLogin.loginError.msg}}</div>\n        <div class="auto-login-box" ng-if="verLogin.isDesktop" htitle="{{::verLogin.text.pc_login_button_auto_tip}}" htitle-direction="top" htitle-offset="left">\n            <input type="checkbox" id="auto-login-input" ng-model="loginState.isAutoLogin"/>\n            <label for="auto-login-input">{{::verLogin.text.pc_login_button_auto}}</label>\n        </div>\n    </form>\n</div>\n',controller:"verLogin as verLogin"},{name:"scanCodeLogin",template:'<div class="tab-content qrcode-login current" id="qrcode-login">\n    <div class="qrcode-wrapper">\n        <qrcode class="qrcode-img" text="scanCodeLogin.qrcodeOpt.data" size="scanCodeLogin.qrcodeOpt.size" version="scanCodeLogin.qrcodeOpt.version" correct-level="scanCodeLogin.qrcodeOpt.level" ng-show="scanCodeLogin.hasQrcode"></qrcode>\n        <div class="qr-mask" ng-if="scanCodeLogin.maskDisplay"></div>\n        <loading ng-if="!scanCodeLogin.hasQrcode && !scanCodeLogin.maskDisplay && !scanCodeLogin.errMsg || scanCodeLogin.maskDisplay && !scanCodeLogin.errMsg"></loading>\n        <span class="err-info" ng-if="scanCodeLogin.maskDisplay && scanCodeLogin.errMsg">{{scanCodeLogin.errMsg}}</span>\n    </div>\n\t<p class="rem">\n        <span>{{::scanCodeLogin.text.pc_login_scancode_tip}}</span>\n        <a ng-class="{\'refresh-disabled\':!scanCodeLogin.canRefresh}" class="refresh-qrcode" href="#" ng-click="scanCodeLogin.updateQrCode()"><i class="iconfont">&#xe636;</i><span >{{::scanCodeLogin.text.pc_login_scancode_refresh}}</span></a>\n    </p>\n    <new-user-info></new-user-info>\n</div>\n',controller:"scanCodeLogin as scanCodeLogin"},{name:"passwordLogin",template:'<div class="tab-content password-login current">\n    <form ng-submit="passwordLogin.submit()" name="passwordForm">\n        <div class="avatar-halo" ng-show="passwordLogin.connecting"></div>\n        <div class="avatar biger border-thick" ng-if="(!passwordLogin.user.nick && !passwordLogin.user.avatarMediaId)|| !passwordLogin.isCurrentUser">\n            <img src="https://gtms03.alicdn.com/tps/i3/TB1opXxHXXXXXahXpXXvBLt6FXX-230-230.png" class="country-img" alt="" />\n        </div>\n        <dd-avatar mediaid="passwordLogin.user.avatarMediaId" nick="passwordLogin.user.nick" class="biger border-thick" ng-if="(passwordLogin.user.nick || passwordLogin.user.avatarMediaId) && passwordLogin.isCurrentUser"></dd-avatar>\n        <div class="clearfix">\n            <phone-input phone="passwordLogin.telephone" country-key="passwordLogin.countryKey" focus-on="passwordLogin.focusPhone" on-change="passwordLogin.onPhoneChange(data)"></phone-input>\n        </div>\n        <div class="clearfix">\n            <input class="fm-input password" ng-change="passwordLogin.submitable=true" ng-minlength="4" ng-model="passwordLogin.password" focus="passwordLogin.focusPhone" type="password" name="verification" placeholder="{{::passwordLogin.text.password_input_placeholder}}" ng-class="{disabled:!passwordLogin.phoneValid}" required>\n        </div>\n        <button type="submit" class="blue big" ng-class="{disabled:!passwordLogin.submitable|| !passwordLogin.phoneValid || passwordForm.$invalid}" >{{::passwordLogin.text.button}}</button>\n        <div class="toast warning" ng-click="passwordLogin.loginError.msg=\'\'"ng-if="passwordLogin.loginError.msg"><i class="iconfont">&#xe63d;</i>{{passwordLogin.loginError.msg}}</div>\n        <new-user-info></new-user-info>\n        <div class="auto-login-box" ng-if="passwordLogin.isDesktop" htitle="{{::passwordLogin.text.button_auto_tip}}" htitle-direction="top" htitle-offset="left">\n            <input type="checkbox" id="auto-login-input" ng-model="loginState.isAutoLogin"/>\n            <label for="auto-login-input" >{{::passwordLogin.text.button_auto}}</label>\n        </div>\n    </form>\n    <div class="sms-verify shadow" ng-show="passwordLogin.needSmsVerify">\n        <form ng-submit="passwordLogin.verifySmsCode()">\n            <p class="desc" >{{::passwordLogin.text.smscode_tip}}</p>\n            <div class="info-field clearfix">\n                <input class="fm-input phone" disabled="true" value="{{ passwordLogin.fullPhone }}" />\n                <div class="send-form-button-wrapper">\n                    <countdown count-from="passwordLogin.countFrom" on-timeout="passwordLogin.countTimeout()" ng-show="passwordLogin.countFrom > 0"></countdown>\n                    <button type="button" ng-class="{disabled:passwordLogin.sendCodeDisable}"  ng-click="passwordLogin.sendSmsCode()" class="send-form-button">{{::passwordLogin.text.code_send}}</button>\n                </div>\n            </div>\n            <input autocomplete="off" class="fm-input smscode" ng-change="passwordLogin.smsCodeChange()" placeholder="{{::passwordLogin.text.code_placeholder}}" ng-model="passwordLogin.smsCode" />\n            <button type="submit" class="blue big"  ng-disabled="!passwordLogin.smsCode || passwordLogin.smsCodeSubmitDisabled" >{{::passwordLogin.text.botton_confirm}}</button>\n            <div class="toast warning" ng-show="passwordLogin.smsCodeErrMsg" ng-click="passwordLogin.clearSendSmsErrMsg()"><i class="iconfont">&#xe63d;</i>{{passwordLogin.smsCodeErrMsg}}</div>\n        </form>\n    </div>\n</div>\n',controller:"passwordLogin as passwordLogin"}]}),n.setNestedState({name:"authorized",template:'<div id="layout-main">\n    <div id="header" ng-dblclick="home.onHeaderDblClick($event)">\n        <window-operations></window-operations>\n        <upload-list htitle="{{::home.text.pc_menu_upload_download}}" htitle-offset="left"></upload-list>\n        <!-- <div class="call-entry" htitle="{{::home.text.dt_menu_tel_title}}" htitle-offset="left">\n            <unread-call></unread-call>\n            <i class="iconfont" ng-click="home.onTelClick()">&#xe6ef;</i>\n        </div> -->\n        <search-bar2 support-activate-shortcut="true" ng-cloak></search-bar2>\n    </div>\n    <div id="body">\n        <div id="menu-pannel"><!-- 此dom不可变更 -->\n            <div class="profile">\n                <user-avatar class="big-52 with-border" uid="{{ home.$my.userProfileModel.uid }}" open-profile="1"></user-avatar>\n                <div class="connecting-bar" >\n                    <div class="connecting-bar-inner" ng-if="home.login_state === 1">\n                        <div class="connecting-icon error"></div>\n                        <span class="connecting-tip">{{::home.text.pc_main_panel_connecting}}</span>\n                    </div>\n                </div>\n            </div>\n\n            <ul class="main-menus">\n                <li class="menu-item menu-message" ng-click="home.goState(\'authorized.im\')"\n                    ng-class="{selected:home.$state.includes(\'authorized.im\')}"\n                    ng-dblclick="home.scrollToUnReadConv()">\n                    <i class="iconfont menu-icon" htitle="{{::home.text.dt_menu_conversation_title}}" htitle-direction="right"></i>\n                    <all-conv-unread-count></all-conv-unread-count>\n                </li>\n                <li class="menu-item menu-ding" ng-click="home.goState(\'authorized.ding\')"\n                    ng-class="{selected:home.$state.includes(\'authorized.ding\')}">\n                    <i class="iconfont menu-icon" htitle="{{::home.text.dt_menu_ding_title}}" htitle-direction="right"></i>\n                    <span class="unread-num ding-unread-num" ng-if="home.receiveList.newCount!==0"><em>{{home.receiveList.newCount}}</em></span>\n                    <i ng-if="home.receiveList.newCount===0&&(home.receiveList.hasNewComment||home.sendList.hasNewComment)" class="iconfont unread-dot ding-unread-dot">&#xe608;</i>\n                </li>\n                <li class="menu-item menu-company-call-center" ng-click="home.onTelClick()"\n                    ng-class="{selected:home.$state.includes(\'authorized.companyCallCenter\')}" >\n                    <i class="iconfont menu-icon" htitle="{{::home.text.dt_menu_tel_title}}" htitle-direction="right"></i>\n                    <unread-call></unread-call>\n                </li>\n                <li class="menu-item menu-contact"\n                    ng-click="home.onContactClick()"\n                    ng-class="{selected:home.$state.includes(\'authorized.contact\')}">\n                    <i class="iconfont menu-icon" htitle="{{::home.text.dt_menu_contact_title}}" htitle-direction="right"></i>\n                </li>\n                <li class="menu-item menu-micro-app" ng-click="home.onMicroAppClick()"\n                    ng-class="{selected:home.$state.includes(\'authorized.microApp\')}"\n                    ng-if="home.isShowMicroApp">\n                    <i class="iconfont menu-icon" htitle="{{::home.text.dt_menu_work_title}}" htitle-direction="right"></i>\n                </li>\n                <li class="menu-item menu-cspace" ng-click="home.goState(\'authorized.cspace\')"\n                    ng-class="{selected:home.$state.includes(\'authorized.cspace\')}"\n                    log="tab_space_click">\n                    <i class="iconfont menu-icon" htitle="{{::home.text.dt_menu_space_title}}" htitle-direction="right"></i>\n                    <unread-cspace></unread-cspace>\n                </li>\n            </ul>\n            <ul class="extra-options">\n                <div class="extra-options-inner">\n                    <org-email></org-email>\n                    <li class="extra-item more-actions">\n                        <div function-menu></div>\n                    </li>\n                    <org-admin></org-admin>\n                    <li class="extra-item settings" >\n                        <div setting-menu></div>\n                    </li>\n                </div>\n            </ul>\n        </div>\n        <div ui-view id="menu-pannel-body"></div>\n    </div>\n</div>\n',controller:"home as home",children:[{name:"im",template:'<div id="sub-menu-pannel" class="conv-list-pannel"\n    layout-resize="im.layoutResizeConf.direction"\n    min-width="im.layoutResizeConf.minWidth"\n    max-width="im.layoutResizeConf.maxWidth"\n    storage-key="im.layoutResizeConf.storageKey"\n    get-max-width="im.layoutResizeConf.getMaxWidth()">\n    <conv-list></conv-list>\n</div>\n<div ui-view id="content-pannel"></div>\n',controller:"im as im",children:[{name:"nocontent",template:'<div class="conv-detail-pannel">\n    <div class="nocontent-logo" >\n        <div>\n            <img ng-src="{{nocontent.welcomeImg}}" alt="欢迎">\n        </div>\n    </div>\n    <div class="nocontent-tips" >\n        <p ng-show="nocontent.timeType == \'morning\'"><img ng-src="{{nocontent.morningImg}}" alt="早上好"> 早上好，今天请继续加油！</p>\n        <p ng-show="nocontent.timeType == \'afternoon\'"><img ng-src="{{nocontent.afternoonImg}}" alt="下午好"> 下午好，喝杯茶吧，让精神抖擞起来。</p>\n        <p ng-show="nocontent.timeType == \'night\'"><img ng-src="{{nocontent.nightImg}}" alt="晚上好"> 晚上好，请注意休息。</p>\n    </div>\n\n</div>\n',controller:"nocontent as nocontent"},{name:"chat",template:'<div class="conv-detail-pannel" drag-to-upload>\n    <div class="content-pannel-head chat-head">\n        <!--<dd-avatar tag="chat.conv.baseConversation.tag"-->\n                   <!--icon="chat.conv.baseConversation.icon"-->\n                   <!--extension="chat.conv.baseConversation.extension"-->\n                   <!--type="chat.conv.avatarType"></dd-avatar>-->\n        <div class="avatar-wrap">\n            <group-avatar cid="{{ chat.conv.convId }}"></group-avatar>\n            <user-ding-title-list just-show-main ng-if="chat.isSingle" uid=\'{{chat.uid}}\' class="user-ding-title-list"></user-ding-title-list>\n        </div>\n        <div class="conv-title">\n            <div class="title">\n                <span ng-bind-html="chat.conv.baseConversation.title|emoj"></span>\n                <i class="icon-company"ng-click="chat.showSafetyProfile($event)" ng-if="chat.conv.baseConversation.tag==chat.ConvType.COMPANY_GROUP||chat.conv.baseConversation.tag==chat.ConvType.ENCRYPT_CHAT" ng-class="{\'icon-safety-single\': chat.conv.isSafetySingle, \'icon-dept-company\':chat.conv.isDeptGroup ,\'icon-all-user-company\': chat.conv.isAllUserGroup, \'icon-safety\': chat.conv.isSafety}"></i>\n                <div class="conv-title-typing" ng-if="chat.conv.isShowTyping">({{chat.typingWords}})</div>\n            </div>\n            <div class="desc">{{ chat.titleDesc }}</div>\n        </div>\n        <div class="conv-operations">\n            <i class="iconfont icon-onebox" ng-class="{\'has-new\': chat.hasNewOneBoxMsg}"  ng-if="chat.isShowOnebox" ng-click="chat.showOnebox($event)"></i>\n            <i ng-if="chat.conv.baseConversation.type===2&&chat.conv.baseConversation.tag!==chat.ConvType.ANNOUNCEMENT" ng-click="chat.showGroupBulletinModal($event)" class="iconfont icon-group-announcement" htitle="{{::chat.text.dt_chatbox_operations_announcement}}" htitle-offset="left"></i>\n            <i ng-if="chat.conv.baseConversation.tag!==chat.ConvType.ANNOUNCEMENT&&chat.conv.baseConversation.tag!==chat.ConvType.FILEHELPER&&chat.conv.baseConversation.tag!==chat.ConvType.SECRETARY" ng-click="chat.goCloudDisk($event)" class="iconfont org-cloud-disk" htitle="{{::chat.spaceText}}" htitle-offset="left"></i>\n            <i ng-click="chat.createConference()" class="iconfont icon-createvideoconf" htitle="{{::chat.text.dt_chatbox_operations_videoconf}}" htitle-offset="left" ng-if="chat.conv.baseConversation.type===2&& chat.conv.baseConversation.tag!==chat.ConvType.ANNOUNCEMENT && chat.ua.isDesktop">&#xe72f;</i>\n            <i ng-click="chat.showGroupSettingModal($event)" class="iconfont icon-group-setting" htitle="{{::chat.text.dt_chatbox_operations_groupsetting}}" ng-if="chat.conv.baseConversation.type===2&&chat.conv.baseConversation.tag!==chat.ConvType.ANNOUNCEMENT" htitle-offset="left" log="groupchat_setting"></i>\n            <i ng-click="chat.addMember()" class="iconfont icon-add-new-member" htitle="{{::chat.text.dt_chatbox_operations_addMember}}" htitle-offset="left" ng-if="chat.isSingle&&chat.conv.baseConversation.tag!==chat.ConvType.FILEHELPER&&chat.conv.baseConversation.tag!==chat.ConvType.SECRETARY&&chat.uid!==chat.myuid"></i>\n            <i ng-click="chat.remoteAssist()" class="iconfont icon-yuanchengxiezhu" htitle="{{::chat.text.dt_chatbox_operetions_remote_assist}}" htitle-offset="left" ng-if="chat.isSingle&&chat.conv.baseConversation.tag!==chat.ConvType.FILEHELPER&&chat.conv.baseConversation.tag!==chat.ConvType.SECRETARY&&chat.uid!==chat.myuid && chat.ua.isDingTalkWin && chat.isShowRemoteAssist"></i>\n            <chat-call ng-if="chat.isSingle" uid=\'chat.uid\' nick="chat.conv.baseConversation.title" cid="chat.conv.convId"></chat-call>\n            <i ng-click="chat.showProfile()" class="iconfont icon-profile" htitle="{{::chat.text.dt_chatbox_operations_profile}}" htitle-offset="left" ng-if="chat.conv.baseConversation.type===1&&chat.conv.baseConversation.tag!==chat.ConvType.FILEHELPER&&chat.conv.baseConversation.tag!==chat.ConvType.SECRETARY"></i>\n        </div>\n    </div>\n    <!--<div chat-box conv="chat.conv" class="content-pannel-body" id="chat-box"></div>-->\n    <div chat-box-new conv="chat.conv" search-message-id="chat.searchMessageId" search-keyword="chat.keyword" class="content-pannel-body" id="chat-box"></div>\n    <div responsive-input conv="chat.conv" ng-if="!chat.conv.isOAConv"></div>\n</div>\n',controller:"chat as chat",params:{id:void 0,searchMessageId:void 0,keyword:void 0}},{name:"friendRequest",template:'<div class="friend-request-pannel"><!-- 根据不同场景使用不同的class -->\n    <div class="content-pannel-head"><!-- 此dom，结构不可变更，但可根据场景确定是否要引入它 -->\n        <p class="head-title group-name">新的好友</p>\n    </div>\n    <div class="content-pannel-body"><!-- 如果没有content-pannel-head，则此dom不需引用 -->\n       <loading ng-if="friendRequest.friendData.isLoading"></loading>\n        <ul class="list-with-avatar-and-info group-member-lists" style="width:100%">\n            <li class="list-item group-member-item" ng-repeat="item in friendRequest.friendData.friendList track by item.user.userProfileModel.uid" ng-click=\'item.showProfileModal()\'>\n              <div class="avatar"><user-avatar class="normal" uid="{{::item.user.userProfileModel.uid }}"></user-avatar></div>\n                <div class="info">\n                    <p class="name">\n                    <span ng-if="item.user.status == 1"><strong ng-bind-html="::(item.userInstance.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></strong>想加你为好友</span>\n                    <span ng-if="item.user.status == 3">你已添加<strong ng-bind-html="::(item.userInstance.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></strong>为好友</span>\n                    <span ng-if="item.user.status == 2||item.user.status == 4"><strong ng-bind-html="::(item.userInstance.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></strong></span>\n                    </p>\n                </div>  \n                <div class="info">\n                  <p class="title" ng-bind-html="::item.remark|emoj"></p>\n                </div>\n                <div class="status">\n                    <button class="blue small" ng-if="item.user.status === 1" ng-click=\'friendRequest.acceptFriend(item,$event)\'>接受</button>\n                    <span ng-if="item.user.status === 2">已发送</span>\n                    <a ng-if="item.user.status === 3" ng-click=\'item.showProfileModal($event)\' class="right floated view">查看/设置备注名</a>\n                    <button class="blue small" ng-if="item.user.status == 4" ng-click=\'item.showProfileModal(true,$event)\'>添加</button>\n                </div>\n            </li>\n        </ul>\n    </div>\n</div>\n',controller:"friendRequest as friendRequest"},{name:"groupRequest",template:'<div class="group-request-pannel">\n    <div class="content-pannel-head">\n        <p class="head-title group-name">入群申请</p>\n        <div class="head-operations contact-operations">\n          <span ng-if="groupRequest.groupData.groupRequestItems.length !== 0" class="operation clean-group-request" ng-click="groupRequest.cleanAll()">\n            清空\n          </span>\n          <span ng-if="groupRequest.groupData.groupRequestItems.length === 0" class="operation disable-clean" >\n            清空\n          </span>\n        </div>\n    </div>\n    <div class="content-pannel-body" >\n      <loading ng-if="groupRequest.isLoading"></loading>\n      <div class="group-member-wrapper" infinite-scroll infinite-scroll-bottom="groupRequest.loadMore()">\n        <div ng-if="groupRequest.groupData.groupRequestItems.length === 0" class="group-request-default">\n            <p class="group-request-default-text">暂无入群申请</p>\n        </div>\n        <ul class="list-with-avatar-and-info group-member-lists" >\n          <li class="list-item group-member-item" ng-repeat="item in groupRequest.groupData.groupRequestItems track by item.id" ng-click=\'groupRequest.showProfileModal(item.applicant.userProfileModel.uid, $event)\'>\n            <div class="avatar"><user-avatar class="normal" uid={{::item.applicant.userProfileModel.uid}}></user-avatar></div>\n              <div class="info">\n                  <p class="name">\n                  <span><strong ng-bind-html="::(item.applicant.remarkNameObj.alias || item.applicant.userProfileModel.nick)|emoj"></strong> 申请加入 <strong ng-bind-html="::(item.groupRequestModel.baseConversation.title)|emoj"></strong> 群</span>\n                  </p>\n              </div>\n              <div class="info">\n                <p class="title" ng-bind-html="::item.groupRequestModel.joinDescription|emoj"></p>\n              </div>\n              <div class="status">\n                  <button class="blue small" ng-if="item.groupRequestModel.status === groupRequest.JOIN_GROUP_STATUS.PENDING" ng-click="groupRequest.acceptGroupRequest(item, $event)">通过</button>\n                  <span class="accpeted" ng-if="item.groupRequestModel.status === groupRequest.JOIN_GROUP_STATUS.PASS">已通过</span>\n              </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n</div>\n',controller:"groupRequest as groupRequest"}]},{name:"contact",template:'<div id="sub-menu-pannel" class="contact-group-pannel">\n    <div class="org-list-pannel" ng-if="contact.isShowArchContact">\n        <div class="sub-menu-list">\n            <organization-list ></organization-list>\n        </div>\n    </div>\n    <ul class="list-with-icon-and-title contact-groups">\n        <li class="list-item contact-group-item" ng-class="{active:contact.currentState==\'authorized.contact.friend\'}" ui-sref=".friend" log=\'contact_myfriend_button_click\'>\n            <div class="item-wrapper">\n                <i class="iconfont">&#xe627;</i>\n                <span class="item-title group-name">{{::contact.text.pc_contact_my_friends}}</span>\n            </div>\n        </li>\n        <li class="list-item contact-group-item" ng-class="{active:contact.currentState==\'authorized.contact.group\'}" ui-sref=".group" log=\'contact_group_button_click\'>\n            <div class="item-wrapper">\n                <i class="iconfont">&#xe60d;</i>\n                <span class="item-title group-name">{{::contact.text.pc_contact_my_groups}}</span>\n            </div>\n        </li>\n        <li class="list-item contact-group-item" ng-class="{active:contact.currentState==\'authorized.contact.follow\'}" ui-sref=".follow" log=\'contact_group_button_click\'>\n            <div class="item-wrapper">\n                <i class="iconfont follow-icon">&#xe662;</i>\n                <span class="item-title group-name">{{::contact.text.pc_contact_my_concern}}</span>\n            </div>\n        </li>\n    </ul>\n</div>\n<div id="content-pannel" ui-view></div>\n',controller:"contact as contact",children:[{name:"friend",template:'<div class="contact-group-member-pannel">\n     <div class="content-pannel-head">\n         <p class="head-title group-name">{{::friendContact.text.pc_contact_my_friends}}</p>\n         <div class="head-operations contact-operations" log="mainpage_addfriend_click" ng-click="friendContact.searchFriend();">\n             <i class="iconfont icon-add-friend" htitle="添加好友" htitle-offset="left">&#xe631;</i>\n         </div>\n     </div>\n     <div class="content-pannel-body">\n        <loading ng-if="friendContact.friendData.isLoading"></loading>\n         <ul class="list-with-avatar-and-info group-member-lists" ng-if="friendContact.friendData.friendList.length!==0">\n             <li class="list-item group-member-item has-no-title" ng-repeat="item in friendContact.friendData.friendList" ng-click=\'item.showProfileModal()\' ng-if="item.user.status===3">\n                 <dd-avatar class="profile" uid="item.user.userProfileModel.uid" nick="item.user.userProfileModel.nick"></dd-avatar>\n                 <div class="info">\n                     <p class="name"><span ng-bind-html="(item.userInstance.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></span></p>\n                 </div>\n             </li>\n         </ul>\n         <div class="empty-container" ng-if="friendContact.friendData.friendList.length===0&&!friendContact.friendData.hasMore">\n             <div class="sprite-empty empty-contact"></div>\n             <p class="empty-info">暂时没有好友</p>\n         </div>\n     </div>\n </div>\n',controller:"friendContact as friendContact"},{name:"group",template:' <div class="contact-group-member-pannel">\n     <div class="content-pannel-head">\n         <p class="head-title group-name">{{::groupContact.text.pc_contact_my_groups}}</p>\n     </div>\n     <div class="content-pannel-body">\n         <group-list></group-list>\n     </div>\n </div>\n',controller:"groupContact as groupContact"},{name:"follow",template:'<div class="contact-group-member-pannel">\n     <div class="content-pannel-head">\n         <p class="head-title group-name">{{::followContact.text.pc_contact_my_concern}}</p>\n         <!-- <div class="head-operations contact-operations" log="mainpage_addfriend_click" ng-click="friendContact.searchFriend();">\n             <i class="iconfont icon-add-friend" htitle="添加好友" htitle-offset="left">&#xe631;</i>\n         </div> -->\n     </div>\n     <div class="content-pannel-body">\n         <ul class="list-with-avatar-and-info group-member-lists" ng-if="followContact.followList.length!==0">\n             <li class="list-item group-member-item has-no-title" ng-repeat="item in followContact.followList" ng-click="followContact.showProfile(item)">\n                 <dd-avatar class="profile" uid="item.userProfileModel.uid" nick="item.userProfileModel.nick"></dd-avatar>\n                 <div class="info">\n                     <p class="name"><span ng-bind-html="(item.remarkNameObj.alias || item.userProfileModel.nick)|emoj"></span></p>\n                 </div>\n             </li>\n         </ul>\n         <div class="empty-container" ng-if="followContact.followList.length===0">\n             <div class="sprite-empty empty-contact"></div>\n             <p class="empty-info">暂时没有特别关注</p>\n         </div>\n     </div>\n </div>\n',controller:"followContact as followContact"},{name:"arch",template:'<div class="org-detail-pannel">\n    <div class="content-pannel-head">\n        <p class="head-title org-name">{{arch.orgData.orgDetail.orgName}}</p>\n        <div class="head-operations contact-operations" ng-if="arch.leavePermission === true && !arch.orgState.externalContact" ng-click="arch.onQuitClick()">\n            <span class="operation">\n                <i class="iconfont" htitle="{{arch.btnText}}" htitle-offset="left">&#xe645;</i>\n            </span>\n        </div>\n    </div>\n    <org-list class="content-pannel-body"></org-list>\n</div>\n',
controller:"arch as arch"},{name:"clients",template:'<div class="org-detail-pannel client-contact-panel">\n    <div class="content-pannel-head">\n        <p class="head-title org-name">我的客户</p>\n        <div class="head-operations contact-operations">\n            <span class="operation" ng-click="clients.goToBatchManage()">批量管理</span>\n        </div>\n    </div>\n    <div class="content-pannel-body">\n        <loading ng-if="clients.isLoading"></loading>\n        <div infinite-scroll\n             infinite-scroll-bottom="clients.loadMore()"\n             ng-if="clients.contactClientList.showItems.length > 0"\n             class="org-member-inner">\n            <div class="org-member-inner-content" >\n                <ul class="list-with-avatar-and-info member-lists" >\n                    <li class="list-item member-item team-item"\n                        ng-class="{\'has-no-title\':!client.crmModel.summary}"\n                        ng-if="!client.EOF"\n                        ng-repeat="client in clients.contactClientList.showItems track by client.crmModel.customerId"\n                        ng-click="clients.openClientDetail($event,client.crmModel)">\n                        <div class="info">\n                            <p class="name">{{client.crmModel.name}}</p>\n                        </div>\n                        <div class="info"><p class="title">{{client.crmModel.summary}}</p></div>\n                        <span class="see-team extra">{{client.crmModel.ext}}</span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div ng-if="clients.contactClientList.showItems.length === 0 && !clients.isLoading" class="client-body-empty">\n            <p>当前还没有客户，请到手机钉钉上添加</p>\n        </div>\n    </div>\n</div>\n',controller:"clients as clients"},{name:"externalContact",template:'<div class="external-contact">\n    <nav class="nav">\n        <loading ng-if="externalContact.isLoadScope"></loading>\n        <ul class="tabs">\n            <li ng-class="{\'active\':item === externalContact.currentExternalContactList.scope}"\n                ng-repeat="item in externalContact.visibleScopes"\n                ng-click="externalContact.changeScope(item)"\n                ><p>\n                    {{::externalContact.scopeText[item]}}\n                </p></li>\n        </ul>\n        <div class="operations">\n            <a href="javascript:void();" ng-click="externalContact.showFilter()">{{::externalContact.text.pc_contact_external_contact_filter}}</a>\n            <a href="javascript:void();" ng-click="externalContact.goImportUrl()">{{::externalContact.text.pc_contact_external_contact_batch_manage}}</a>\n        </div>\n    </nav>\n    <div class="external-contact-body">\n        <div class="filter-bar" ng-if="externalContact.currentExternalContactList.queryModel.labelIds.length">\n            {{externalContact.labelText}}\n        </div>\n        <external-contact-list></external-contact-list>\n    </div>\n</div>\n',controller:"externalContact as externalContact"}]},{name:"ding",template:'<div id="sub-menu-pannel" class="ding-group-pannel">\n    <ul class="list-with-icon-and-title ding-groups">\n        <li class="list-item ding-group-item" ui-sref=".receive" ng-class="{\'active\':list.$state.is(\'authorized.ding.receive\')}" log=\'ding_tab_receive\'>\n            <div class="item-wrapper ding-group-wrapper">\n                <i class="iconfont my-received ding-list-icon">&#xe62c;</i>\n                <span class="item-title ding-group-name">我收到的</span>\n                <i  class="iconfont unread-dot ding-unread-dot" ng-if="list.receiveList.hasNewComment">&#xe608;</i>\n            </div>\n        </li>\n        <li class="list-item ding-group-item" ui-sref=".send" ng-class="{\'active\':list.$state.is(\'authorized.ding.send\')}" log=\'ding_tab_send\'>\n            <div class="item-wrapper ding-group-wrapper">\n                <i class="iconfont ding-list-icon">&#xe630;</i>\n                <span class="item-title ding-group-name">我发出的</span>\n                <i class="iconfont unread-dot ding-unread-dot" ng-if="list.sendList.hasNewComment">&#xe608;</i>\n            </div>\n        </li>\n    </ul>\n</div>\n<div ui-view id="content-pannel"></div>\n',controller:"list as list",children:[{name:"receive",template:'<div class="ding-list-pannel">\r\n    <div class="content-pannel-head">\r\n        <p class="head-title ding-group-name">我收到的DING</p>\r\n        <div class="head-operations ding-operations">\r\n            <i class="iconfont" ng-click="receive.showDingModal()" htitle="DING一下" htitle-offset="left">&#xe62a;</i>\r\n        </div>\r\n    </div>\r\n    <div class="content-pannel-body" infinite-scroll infinite-scroll-bottom="receive.loadMore()">\r\n        <loading ng-if="receive.dingstate === 0"></loading>\r\n    \t<ul class="ding-lists" ng-if="receive.dingstate === 2">\r\n    \t\t<div ding-item ng-repeat="ding in receive.receiveList.showItems" ng-if="!ding.EOF" ding="ding"></div>\r\n    \t</ul>\r\n        <div class="empty-container" ng-if="receive.dingstate === 1">\r\n            <div class="sprite-empty empty-ding"></div>\r\n            <p class="empty-info">暂时没有收到任何钉</p>\r\n        </div>\r\n        <loading ng-if="!receive.isOver&&receive.isLoading&&receive.dingstate==2" position="\'bottom\'" class="bottom-loading"></loading>\r\n    </div>\r\n</div>',controller:"receive as receive"},{name:"send",template:'<div class="ding-list-pannel">\r\n    <div class="content-pannel-head">\r\n        <p class="head-title ding-group-name">我发出的DING</p>\r\n        <div class="head-operations ding-operations">\r\n            <i class="iconfont" ng-click="send.showDingModal()" htitle="DING一下" htitle-offset="left">&#xe62a;</i>\r\n        </div>\r\n    </div>\r\n    <div class="content-pannel-body" infinite-scroll infinite-scroll-bottom="send.loadMore()">\r\n        <loading ng-if="send.dingstate === 0"></loading>\r\n        <ul class="ding-lists" ng-if="send.dingstate === 2">\r\n    \t\t<div ding-item ng-repeat="ding in send.sendList.showItems" ng-if="!ding.EOF" ding="ding"></div>\r\n    \t</ul>\r\n        <div class="empty-container" ng-if="send.dingstate === 1">\r\n            <div class="sprite-empty empty-ding"></div>\r\n            <p class="empty-info">暂时没有发过任何钉</p>\r\n        </div>\r\n        <loading ng-if="!send.isOver&&send.isLoading&&send.dingstate===2" position="\'bottom\'" class="bottom-loading"></loading>\r\n    </div>\r\n</div>',controller:"send as send"}]},{name:"apiTest",template:'<div id="sub-menu-pannel">\n    <h4>API Test</h4>\n    <!--<form ng-submit="apiTest.submitTestUrl()" style="padding:12px">-->\n    <input type="text" ng-model="apiTest.testUrl" style="margin-bottom:8px" />\n    <button class="button small" ng-click="apiTest.submitTestUrl();">打开</button>\n    <!--</form>-->\n</div>\n<div id="content-pannel">\n    <micro-app-container app-url="apiTest.resultUrl"></micro-app-container>\n</div>\n',controller:"apiTestCtrl as apiTest"},{name:"microApp",template:'<div id="sub-menu-pannel" class="micro-app-list-pannel" >\n\n                <dd-drop-down\n                    class="micro-app-selector"\n                    repeat-data="microApp.orgList"\n                    on-select="microApp.onOrgSelect"\n                    ng-model="microApp.currentOrg"\n                    ng-if="!microApp.isOnlyOneOrg">\n                    <dd-drop-down-match class="eye selected-country">\n                        <i class="iconfont title-icon">&#xe62e;</i>\n                        <span class="selector-panel-org-name">{{$selectItem.orgName}}</span>\n                        <i class="iconfont tri arrow">&#xe633;</i>\n                    </dd-drop-down-match>\n                    <dd-drop-down-choices>\n                        <span>{{$repeatItem.orgName}}</span>\n                    </dd-drop-down-choices>\n                </dd-drop-down>\n\n    <ul class="list-with-icon-and-title micro-app-list" ng-class="{\'only-one-org\': microApp.isOnlyOneOrg}">\n        <div class="list-item">\n            <li class="list-item icro-app-item sub-list-item" ng-if="microApp.apps.length !== 0" ng-class="{\'active\': microApp.currentApp.agent === app.agent}" ng-repeat="app in microApp.apps" ng-click="microApp.onAppClick(app)" >\n                <div class="item-wrapper micro-app-wrapper">\n                    <img class="micro-app-icon-img" ng-src="{{app.iconUrl}}" />\n                    <span class="item-title micro-app-name">{{app.name}}</span>\n                </div>\n            </li>\n            <li class="micro-app-empty" ng-if="microApp.apps.length === 0">该企业暂无PC端支持的微应用</li>\n        </div>\n    </ul>\n\n</div>\n<div id="content-pannel">\n    <micro-app-container ng-if="!microApp.showDefaultPage" app-url="microApp.resultUrl"></micro-app-container>\n    <div class="content-pannel-body" ng-if="microApp.showDefaultPage">\n        <div class="micro-app-default-page">\n            <div class="micro-app-default-icon"></div>\n            <p class="micro-app-default-text">\n                <span>欢迎使用微应用，更多应用持续开发中，敬请期待！</span>\n            </p>\n        </div>\n    </div>\n</div>\n',controller:"microAppSelector as microApp"},{name:"cspace",template:'<loading ng-if="cspace.isLoading"></loading>\n<div class="space-file-iframe-wrap" style="background-color:#FFFFFF;position: relative;width: 100%;" cspace-iframe></div>\n',controller:"cspaceSelector as cspace"},{name:"companyCallCenter",template:'<div id="sub-menu-pannel" class="conv-list-pannel">\n    <free-call-list class="free-call-list-wrap"></free-call-list>\n</div>\n<div  id="content-pannel">\n    <div>\n        <div class="content-pannel-head">\n            <ul class="telDial-videoConf-select-head">\n                <li  ng-click="companyCallCenter.goTelDial()" ng-class="{\'font-color-change\':companyCallCenter.isTabOnVideo}">{{::companyCallCenter.text.pc_tel_dial_title}}<div ng-hide="companyCallCenter.isTabOnVideo" class="tel-video-bar"></div></li>\n                <li  ng-click="companyCallCenter.goVideoConf()" ng-class="{\'font-color-change\':!companyCallCenter.isTabOnVideo}">{{::companyCallCenter.text.pc_tel_conf_video}}<div  ng-show="companyCallCenter.isTabOnVideo" class="tel-video-bar"></div></li>\n            </ul>\n        </div>\n        <div ui-view class="telDial-videoConf-select-body"></div>\n    </div>\n</div>\n',controller:"companyCallCenter as companyCallCenter",children:[{name:"videoConf",template:'<div>\n    <div class="video-conf-img"><img ng-src="{{::videoConf.videoConfImg}}" alt="{{::videoConf.text.pc_tel_conf_video}}"> </div>\n    <div>\n        <button ng-if="videoConf.isDesktop" ng-click="videoConf.createConf()" class="call-button green"> <i class="iconfont video-conf-call-button-icon">&#xe6a2;</i>{{::videoConf.text.pc_tel_conf_video}}</button>\n        <div ng-if="!videoConf.isDesktop" class="call-nonsupport-tips">{{::videoConf.text.pc_tel_conf_tips_nonsupport_web}} <a href="{{videoConf.DOWNLOAD_URL}}" target="_blank">{{::videoConf.text.pc_tips_download_pc}}</a></div>\n        <div class="call-button-tips">{{::videoConf.text.pc_tel_conf_tips_support_types}}</div>\n    </div>\n</div>\n',controller:"videoConf as videoConf"},{name:"telDial",template:'<div>\n    <telephone-dial></telephone-dial>\n    <div class="call-button-tips">{{::telDial.text.pc_tel_dial_tips_who_call}}</div>\n</div>\n',controller:"telDial as telDial"},{name:"openCompCallCenter",template:'<div class="open-company-call-center">\n    <img ng-src="{{openCompCallCenter.noDialImgUrl}}">\n\t<div class="open-company-call-center-tip1">{{::openCompCallCenter.text.pc_tel_dial_tips_open_call}}</div>\n\t<div class="open-company-call-sub-tip">{{::openCompCallCenter.text.pc_tel_dial_explain_open_call}}</div>\n</div>\n',controller:"openCompCallCenter as openCompCallCenter"}]},{name:"cmail",template:'<div class="mail-iframe-wrap" style="background-color:#FFFFFF;position: relative;width: 100%;" cmail-iframe></div>\r\n',controller:"cmailSelector as cmail",params:{cmailPageType:void 0,loginEmail:void 0}}]})}]).run(["$rootScope","$state","screenshotService","exceptionLog","staylog","$appInit","silentUpdate",function(n,e,i,t,o,a,s){t.init(),e.go("auth"),o.init(),a.init(),ua.isDesktop&&s.init();try{var l=ua.isDesktop?nw.version():"";storage.local.setItem("appVersion",[window.version,l].join("#"))}catch(n){console.log(n)}}]),angular.bootstrap(document,["ddWeb"]);
}).call(this,require('_process'))
},{"./directive/infiniteScroll":114,"./directive/log":115,"./directive/widget/avatar/avatar":141,"./directive/widget/breadcrumbs":145,"./directive/widget/ddClickUrl":151,"./directive/widget/ddCopy":152,"./directive/widget/hoverTip":161,"./directive/widget/loading/loading":163,"./directive/widget/preventDrag":166,"./filter/filter":194,"./module/apiTest/apiTest":204,"./module/chat/index":205,"./module/cmail/index":206,"./module/companyCallCenter/index":207,"./module/contact/arch":211,"./module/contact/clients":212,"./module/contact/externalContact":213,"./module/contact/friendRequest":216,"./module/contact/groupRequest":218,"./module/contact/index":219,"./module/cspace/index":220,"./module/home/index":221,"./module/im/index":222,"./module/list/index":223,"./module/login/auth":226,"./module/login/index":227,"./module/login/scanCodeLogin":229,"./module/microApp/index":231,"./module/nocontent/nocontent":232,"./service/app/nw":255,"./service/app/silentUpdate":259,"./service/appInfo":262,"./service/appInit/init":264,"./service/conversation/AtOpenIdType":290,"./service/db/dbCollection":328,"./service/goldlog/staylog":400,"./service/hostConfig":405,"./service/log/exceptionLog":418,"./service/log/localLog":421,"./service/log/log":422,"./service/pcMedusaService/medusa":542,"./service/storage/storage":606,"./service/toast/toast":611,"./service/ua":621,"./service/widget/screenshot.js":664,"@ali/ui-select":748,"@ali/wksdk":779,"_process":8,"angular":889,"angular-sanitize":884,"angular-translate":885,"angular-ui-router":887,"angular-ui-router.statehelper":886,"path":7}],20:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.avatar.staticGroupAvatar",wksdk=require("@ali/wksdk"),IconOptionType=wksdk.iconOptionModelType,batchGetConvIcon=wksdk.batchGetConvIcon,uriResolve=require("../../service/uriResolve/resolve"),localLog=require("../../service/log/localLog"),my=require("../../service/user/my"),_=require("lodash"),defaultIcon=uriResolve.assetsResolve("app/img/default_group_avatar.png"),staticGroupAvatarCtrl=function(o){var e=function(o){var e=null;if(o.baseConversation&&o.baseConversation.iconOption&&"undefined"!=typeof o.baseConversation.iconOption.type){var t=o.baseConversation.iconOption,n=t.type;if(n===IconOptionType.AUTO)t.automaticIcon&&t.automaticIcon.automaticIconMediaId?e=t.automaticIcon.automaticIconMediaId:localLog.error("icontype is auto, but no automaticIconMediaId",a);else if(n===IconOptionType.CUSTOM)t.customIcon&&t.customIcon.customIconMediaId?e=t.customIcon.customIconMediaId:localLog.error("icontype is custom but no customIconMediaId",a);else if(n===IconOptionType.ORG)if(o.baseConversation.extension){var i=o.baseConversation.extension.id||o.baseConversation.extension.orgId;if(i){var r=my.getOrgByOid(i);r&&r.orgDetail?e=r.orgDetail.logoMediaId:localLog.error("icon type is ORG ,but cannot find org data",a)}else localLog.error("icon type is ORG ,but cannot find cid from extension",a)}else localLog.error("icon type is ORG ,but no baseconversation extension",a)}return e},t=e(this.convData),a=_.get(this.convData,"baseConversation.conversationId");t?this.icon=t:(this.icon=defaultIcon,batchGetConvIcon.getConvIcon(a).then(function(t){this.convData.baseConversation.iconOption=t;var a=e(this.convData);a&&(this.icon=a),o.$evalAsync()}.bind(this)).catch(function(o){localLog.error("get conv icon error",o)}))};staticGroupAvatarCtrl.$inject=["$scope"],angular.module(moduleName,[require("../../directive/avatar/groupLogoAvatar")]).component("staticGroupAvatar",{controller:staticGroupAvatarCtrl,template:'<div class="group-avatar">\n    <group-logo-avatar class="normal" media-id="{{ $ctrl.icon }}"></group-logo-avatar>\n</div>\n',bindings:{convData:"<"}}),module.exports=moduleName;

},{"../../directive/avatar/groupLogoAvatar":52,"../../service/log/localLog":421,"../../service/uriResolve/resolve":628,"../../service/user/my":635,"@ali/wksdk":779,"lodash":919,"path":7}],21:[function(require,module,exports){
var moduleName=module.exports="ddWeb.component.contact.externalLabelGroups",componentName="externalLabelGroups",path=require("path"),externalLabelGroupModeTypes=require("../../service/contact/externalContact/externalLabelGroupModeTypes.js"),labelActionTypes=require("../../service/contact/externalContact/labelActionTypes.js"),externalLabelGroupsCtrl=function(e,t,n,l){function a(){try{e.$evalAsync()}catch(e){}}this.text={pc_contact_external_contact_empty_labels:t.instant("pc_contact_external_contact_empty_labels")},this.isLoading=!0,this.modeTypes=externalLabelGroupModeTypes;var i=function(){this.labels=n.getLabels(this.orgId)||[],this.selectedLabels=this.selectedLabels||[],this.labels.forEach(function(e){e.labels&&e.labels.forEach(function(e){this.selectedLabels.indexOf(e.id)!==-1&&(e.isChecked=!0)}.bind(this))}.bind(this))}.bind(this),s=function(){i(),this.isLoading=!1,a()}.bind(this),c=function(){a()}.bind(this),o=function(e){l.dispatch({type:labelActionTypes.TOGGLE_LABEL,orgId:this.orgId,labelId:e.id,mode:this.mode})}.bind(this),r=function(){n.removeListener(n.Events.FETCH_COMPLETE,s),n.removeListener(n.Events.LABEL_STATE_UPDATE,c)}.bind(this);this.onClickLabelCheckBox=o,i(),n.fetch(this.orgId),n.on(n.Events.FETCH_COMPLETE,s),n.on(n.Events.LABEL_STATE_UPDATE,c),this.$onDestroy=r};externalLabelGroupsCtrl.$inject=["$scope","$translate","labelStore","externalContactDispatcher"],angular.module(moduleName,[require("../../service/contact/externalContact/labelStore.js"),require("../../service/contact/externalContact/dispatcher.js"),require("../../directive/widget/loading/loading.js")]).component(componentName,{template:'<loading ng-if="$ctrl.isLoading"></loading>\n<ul class="filter-list" ng-if="$ctrl.labels.length>0">\n    <li class="filter-list-item" ng-repeat="item in $ctrl.labels">\n        <p class="class-title" >\n            <i class="class-point" ng-style="item.bgStyle"></i>\n            <span ng-style="item.colorStyle">{{item.name}}</span>\n        </p>\n        <div class="checkbox-list">\n            <section ng-repeat="label in item.labels" class="checkbox-item">\n                <!-- <input ng-if="$ctrl.mode === $ctrl.modeTypes.EDIT" type="radio" ng-model="item.checkId" ng-value="label.id" /> -->\n                <input type="checkbox" ng-checked="label.isChecked" ng-click="$ctrl.onClickLabelCheckBox(label)" />\n                <span>{{label.name}}</span>\n            </section>\n        </div>\n    </li>\n</ul>\n<div class="has-no-labels" ng-if="$ctrl.labels.length===0">\n    <p>\n        {{::$ctrl.text.pc_contact_external_contact_empty_labels}}\n    </p>\n</div>\n',controller:externalLabelGroupsCtrl,bindings:{orgId:"=",selectedLabels:"=",mode:"="}});

},{"../../directive/widget/loading/loading.js":163,"../../service/contact/externalContact/dispatcher.js":282,"../../service/contact/externalContact/externalLabelGroupModeTypes.js":285,"../../service/contact/externalContact/labelActionTypes.js":286,"../../service/contact/externalContact/labelStore.js":287,"path":7}],22:[function(require,module,exports){
"use strict";var moduleName="ddWeb.component.cspace.unreadCspace",path=require("path"),unreadCspaceCtrl=function(e,n){function a(){e.$evalAsync(function(){})}var t=this;t.unreadPointNum=n.getUnreadPointSync();var c=function(e){t.unreadPointNum=e,a()};n.on(n.EventsName.UNREAD_POINT_UPDATE,c),this.$onDestroy=function(){n.off(n.EventsName.UNREAD_POINT_UPDATE,c)}};unreadCspaceCtrl.$inject=["$scope","cspaceWithSDK"],angular.module(moduleName,[require("../../service/conversation/cspace/cspaceWithSDK")]).component("unreadCspace",{template:'<i ng-if="$ctrl.unreadPointNum > 0" class="iconfont unread-dot cspace-unread-dot">&#xe608;</i>',controller:unreadCspaceCtrl,transclude:!0}),module.exports=moduleName;

},{"../../service/conversation/cspace/cspaceWithSDK":309,"path":7}],23:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingInfo.fileItem",path=require("path"),DING_INFO_TYPE=require("../../../service/ding/DingInfoType"),ContentType=require("../../../service/conversation/ContentType"),dingInfoFileItemCtrl=function(n,i,e,t,l){var o=function(){try{n.$evalAsync()}catch(n){}},I=this;this.DingAttachmentType=e,this.ContentType=ContentType,this.DING_INFO_TYPE=DING_INFO_TYPE,this.dingInfoItem=t(this.fileItem),this.text={pc_ding_info_file_item_preview:i.instant("pc_ding_info_file_item_preview"),pc_ding_info_file_item_save:i.instant("pc_ding_info_file_item_save"),pc_ding_info_file_item_download:i.instant("pc_ding_info_file_item_download")},this.dingInfoItem.on(this.dingInfoItem.EventsName.UPDATE,o),l.hasPermission().then(function(n){I.isShowCSpace=I.isShowCSpace||n,o()}),this.$onDestroy=function(){this.dingInfoItem.off(this.dingInfoItem.EventsName.UPDATE,o)}};dingInfoFileItemCtrl.$inject=["$scope","$translate","DingAttachmentType","getDingInfoItem","spaceApp"],angular.module(moduleName,[require("../../../service/ding/DingAttachmentType"),require("../../../service/ding/getDingInfoItem"),require("../../../service/serviceWindow/spaceApp")]).component("dingInfoFileItem",{controller:dingInfoFileItemCtrl,bindings:{fileItem:"<"},transclude:!0,template:'<div >\n  <div class="ding-info-file" ng-if="$ctrl.dingInfoItem.dingInfoType === $ctrl.DING_INFO_TYPE.FILE">\n    <div class="ding-info-title">{{::$ctrl.dingInfoItem.viewInfo.fileName}}</div>\n    <div class="ding-info-size">{{::$ctrl.dingInfoItem.viewInfo.fileSize}}</div>\n    <div class="page-tri"></div>\n    <div class="page-tri-border"></div>\n  </div>\n  <div class="ding-info-image" ng-if="$ctrl.dingInfoItem.dingInfoType === $ctrl.DING_INFO_TYPE.IMAGE">\n    <img ng-src="{{$ctrl.dingInfoItem.viewInfo.thumbUrl}}" ng-click="$ctrl.dingInfoItem.preview()"/>\n  </div>\n  <div class="ding-info-link" ng-if="$ctrl.dingInfoItem.dingInfoType === $ctrl.DING_INFO_TYPE.LINK">\n    <a class="ding-info-link-avatar" ng-click="$ctrl.dingInfoItem.openLink()" href="javascript:;" ng-if="$ctrl.dingInfoItem.linkType === $ctrl.ContentType.OA">\n      <img ng-src="{{::$ctrl.dingInfoItem.viewInfo.thumbUrl}}" ng-if="$ctrl.dingInfoItem.viewInfo.thumbUrl" />\n      <div class="share-icon" ng-if="!$ctrl.dingInfoItem.viewInfo.thumbUrl"></div>\n    </a>\n    <a class="ding-info-link-avatar" target="_blank" ng-href="{{::$ctrl.dingInfoItem.viewInfo.linkUrl}}" ng-if="$ctrl.dingInfoItem.linkType !== $ctrl.ContentType.OA">\n      <img ng-src="{{::$ctrl.dingInfoItem.viewInfo.thumbUrl}}" ng-if="$ctrl.dingInfoItem.viewInfo.thumbUrl" />\n      <div class="share-icon" ng-if="!$ctrl.dingInfoItem.viewInfo.thumbUrl"></div>\n    </a>\n    <div class="ding-info-link-info">\n      <a class="title" ng-click="$ctrl.dingInfoItem.openLink()" href="javascript:;" ng-if="$ctrl.dingInfoItem.linkType === $ctrl.ContentType.OA">{{::$ctrl.dingInfoItem.dingInfoItem.linkContent.title}}</a>\n      <a class="title" target="_blank" ng-href="{{::$ctrl.dingInfoItem.dingInfoItem.linkContent.linkUrl}}" ng-if="$ctrl.dingInfoItem.linkType !== $ctrl.ContentType.OA">{{::$ctrl.dingInfoItem.dingInfoItem.linkContent.title}}</a>\n      <div class="desc">{{::$ctrl.dingInfoItem.dingInfoItem.linkContent.text}}</div>\n    </div>\n\n  </div>\n  <div class="ding-info-meta" ng-if="$ctrl.dingInfoItem.dingInfoType === $ctrl.DING_INFO_TYPE.FILE || $ctrl.dingInfoItem.dingInfoType === $ctrl.DING_INFO_TYPE.IMAGE">\n    <a class="ding-info-preview" ng-click="$ctrl.dingInfoItem.preview()">{{:: $ctrl.text.pc_ding_info_file_item_preview}}</a>\n    <a class="ding-info-space" ng-click="$ctrl.dingInfoItem.saveFile()" ng-if="$ctrl.isShowCSpace">{{:: $ctrl.text.pc_ding_info_file_item_save}}</a>\n    <a class="ding-info-download" href="javascript:;" ng-click="$ctrl.dingInfoItem.download()" nwsaveas={{ ::$ctrl.dingInfoItem.fileName}} nwdirectory>{{ ::$ctrl.text.pc_ding_info_file_item_download}}</a>\n  </div>\n</div>\n'}),module.exports=moduleName;

},{"../../../service/conversation/ContentType":293,"../../../service/ding/DingAttachmentType":335,"../../../service/ding/DingInfoType":338,"../../../service/ding/getDingInfoItem":360,"../../../service/serviceWindow/spaceApp":601,"path":7}],24:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingInfo.dingInfoFileList",path=require("path"),ContentType=require("../../../service/conversation/ContentType"),dingInfoFileListCtrl=function(i,t,n){this.fileList=this.fileList||[],this.isSupport=!1,this.text={pc_ding_info_file_msg_type:t.instant("pc_ding_info_file_msg_type"),pc_ding_info_file_mail_type:t.instant("pc_ding_info_file_mail_type")};var e=this.fileList[0];if(e){if([n.FILE,n.IMAGE,n.SPACE_FILE].indexOf(e.type)!==-1&&(this.isSupport=!0),e.type===n.LINK){var s=_.get(e,"linkContent.type");[ContentType.OA,ContentType.IM_SPACE_FILE,ContentType.ORG_SPACE_FILE,ContentType.LINK,ContentType.SHARE].indexOf(s)!==-1&&(this.isSupport=!0)}this.isSupport||(this.tips=t.instant("pc_ding_info_support_tips",{value1:this.text.pc_ding_info_file_msg_type}),e.linkContent&&e.linkContent.type===ContentType.MAIL?this.tips=t.instant("pc_ding_info_support_tips",{value1:this.text.pc_ding_info_file_mail_type}):e.linkContent&&e.linkContent.type===ContentType.OA&&e.linkContent.title&&(this.tips=t.instant("pc_ding_info_support_tips",{value1:e.linkContent.title})))}};dingInfoFileListCtrl.$inject=["$scope","$translate","DingAttachmentType"],angular.module(moduleName,[require("./dingInfoFileItem"),require("../../../service/ding/DingAttachmentType")]).component("dingInfoFileList",{controller:dingInfoFileListCtrl,bindings:{fileList:"="},transclude:!0,template:'<div class="ding-info-file-list">\n\t\t<ding-info-file-item class="ding-info-file-item" file-item=\'fileItem\' ng-repeat="fileItem in $ctrl.fileList" ng-if="$ctrl.isSupport"></ding-info-file-item>\n    <div ng-if="!$ctrl.isSupport && $ctrl.fileList.length !== 0" class="ding-info-err-attachment">\n        <i class="iconfont err-icon">&#xe63c;</i>\n        <span>{{:: $ctrl.tips }}</span>\n    </div>\n</div>\n'}),module.exports=moduleName;

},{"../../../service/conversation/ContentType":293,"../../../service/ding/DingAttachmentType":335,"./dingInfoFileItem":23,"path":7}],25:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingInfo.replyList",path=require("path"),dingInfoReplyListCtrl=function(t,n){function e(){try{t.$evalAsync()}catch(t){}}var i=this;this.dingDetail.comments.commentList.on(this.dingDetail.comments.commentList.EventsName.UPDATE_ITEMS,e),this.dingDetail.comments.commentList.on(this.dingDetail.comments.commentList.EventsName.DELETE_ITEM,e),this.$onDestroy=function(){i.dingDetail.comments.commentList.off(i.dingDetail.comments.commentList.EventsName.UPDATE_ITEMS,e),i.dingDetail.comments.commentList.off(i.dingDetail.comments.commentList.EventsName.DELETE_ITEM,e)}};dingInfoReplyListCtrl.$inject=["$scope","$translate"],angular.module(moduleName,[require("./dingReplyTextItem"),require("../../../directive/dingInfo/dingReplyVoiceItem")]).component("dingReplyList",{controller:dingInfoReplyListCtrl,bindings:{dingDetail:"=",isCommentAuth:"<",info:"="},transclude:!0,template:'<div class="ding-reply-list" >\n\t<div ng-repeat="comment in $ctrl.dingDetail.comments.commentList.showItems track by comment.data.commentId" >\n    <ding-reply-text-item ding-detail="$ctrl.dingDetail" comment="comment.data" is-comment-auth="$ctrl.isCommentAuth" ng-if="comment.data"></ding-reply-text-item>\n\t</div>\n\n    <loading ng-if="$ctrl.info.status.isLoading" position="\'bottom\'" class="ding-info-reply-loading"></loading>\n</div>\t\n\n'}),module.exports=moduleName;

},{"../../../directive/dingInfo/dingReplyVoiceItem":106,"./dingReplyTextItem":26,"path":7}],26:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingInfo.replyTextItem",path=require("path"),DING_INFO_EVENT=require("../../../service/ding/dingInfoEvent"),$my=require("../../../service/user/my"),localLog=require("../../../service/log/localLog"),dingInfoReplyTextItemCtrl=function(e,t,i,n,d){var r=this;this.uid=this.comment.commenterUidEx.uid,this.commenterUid=_.get(this.comment,"replyIds[0]"),this.content=_.get(this.comment,"commentContentModel.textContent.textContent")||"",this.isMe=$my.uid===this.uid,this.isSender=this.dingDetail.senderUidEx.uid===this.commenterUid,this.text={dt_ding_detail_comment_secret_tip:t.instant("dt_ding_detail_comment_secret_tip"),pc_ding_detail_me:t.instant("pc_ding_detail_me"),pc_ding_detail_reply:t.instant("pc_ding_detail_reply"),dt_ding_detail_comment_public_tip:t.instant("dt_ding_detail_comment_public_tip")};var c={TEXT:1,AUDIO:2,IMG:3,SPACE_FILE:4};this.DING_COMMENT_TYPE=c;var l=function(){try{e.$evalAsync()}catch(e){}},m=[this.uid];if(this.commenterUid&&this.commenterUid!=this.uid&&m.push(this.commenterUid),i.getUsers(m).then(function(e){e&&0!==e.length&&(e.forEach(function(e){this.uid===e.openId&&(this.user=e),this.commenterUid===e.openId&&(this.commenter=e)}.bind(this)),l())}.bind(this)),this.commentType=c.TEXT,1===this.comment.commentContentModel.type&&(this.attachment=_.get(this,"comment.attachments[0]"),this.attachment))switch(this.attachment.type){case n.IMAGE:this.commentType=c.IMG;break;case n.SPACE_FILE:this.commentType=c.SPACE_FILE}2===this.comment.commentContentModel.type&&(this.commentType=c.AUDIO,this.audio={},this.audio.duration=parseInt(this.comment.commentContentModel.audioContent.duration/1e3),this.audio.mediaId=this.comment.commentContentModel.audioContent.mediaId),this.sendComment=function(t){t.stopPropagation(),t.preventDefault(),e.$emit(DING_INFO_EVENT.SEND_COMMENT,r.user)}};dingInfoReplyTextItemCtrl.$inject=["$scope","$translate","userManager","DingAttachmentType","mediaId"],angular.module(moduleName,[require("../../../service/user/userManager"),require("../../../directive/avatar/userAvatar"),require("../../../directive/avatar/openProfile"),require("../../../service/ding/DingAttachmentType"),require("../../../service/mediaId/mediaId"),require("../dingReply/dingReplyImg"),require("../dingReply/dingReplySpaceFile")]).component("dingReplyTextItem",{controller:dingInfoReplyTextItemCtrl,bindings:{dingDetail:"<",comment:"<",isCommentAuth:"<"},transclude:!0,template:'<div class="ding-reply-item">\n\t<div class="avatar-wrap">\n\t\t<user-avatar open-profile="1" class="normal" uid="{{ ::$ctrl.uid }}"></user-avatar>\n\t</div>\n\t<div class="ding-reply-item-info">\n    <div class="ding-reply-header">\n      <div class="ding-reply-name" ng-if="$ctrl.user && !$ctrl.isMe" ng-bind-html="($ctrl.user.remarkNameObj.alias || $ctrl.user.userProfileModel.nick)|emoj"></div>\n      <div class="ding-reply-name" ng-if="$ctrl.isMe">{{:: $ctrl.text.pc_ding_detail_me }}</div>\n      <div class="ding-reply-text public" ng-if="$ctrl.commenter && $ctrl.isCommentAuth && !$ctrl.dingDetail.isReceive">{{ ::$ctrl.text.dt_ding_detail_comment_secret_tip }}</div>\n      <div class="ding-reply-text private" ng-if="!$ctrl.commenter && $ctrl.isCommentAuth && !$ctrl.dingDetail.isReceive && $ctrl.isMe">{{ ::$ctrl.text.dt_ding_detail_comment_public_tip }}</div>\n      <div class="ding-reply-commenter" ng-if="$ctrl.commenter && $ctrl.isCommentAuth && !$ctrl.dingDetail.isReceive && !$ctrl.isSender" ng-bind-html="::($ctrl.commenter.remarkNameObj.alias ||$ctrl.commenter.userProfileModel.nick)|emoj"></div>\n      <div class="ding-reply-commenter" ng-if="$ctrl.commenter && $ctrl.isCommentAuth && !$ctrl.dingDetail.isReceive && $ctrl.isSender">{{:: $ctrl.text.pc_ding_detail_me }}</div>\n      <div class="ding-reply-comment-btn" ng-click="$ctrl.sendComment($event)" ng-if="$ctrl.isCommentAuth && !$ctrl.isMe && !$ctrl.dingDetail.isReceive">{{ ::$ctrl.text.pc_ding_detail_reply }}</div>\n    </div>\n\t\t<div class="ding-reply-content" ng-bind-html="$ctrl.content|msgfilter" ng-if="$ctrl.commentType === $ctrl.DING_COMMENT_TYPE.TEXT"></div>\n\t\t<div class="ding-reply-content" ng-if="$ctrl.commentType === $ctrl.DING_COMMENT_TYPE.IMG">\n      <ding-reply-img attachment="$ctrl.attachment" ></ding-reply-img>\n    </div>\n\t\t<div class="ding-reply-content" ng-if="$ctrl.commentType === $ctrl.DING_COMMENT_TYPE.SPACE_FILE">\n      <ding-reply-space-file attachment="$ctrl.attachment" ></ding-reply-space-file>\n    </div>\n\t\t<div class="ding-reply-content" ng-if="$ctrl.commentType === $ctrl.DING_COMMENT_TYPE.AUDIO">\n      <div class="ding-info-audio-box">\n          <audio-player audio-media-id="$ctrl.audio.mediaId" audio-duration="$ctrl.audio.duration" log="ding_voice_play"></audio-player>\n      </div>\n    </div>\n\t</div>\n  <div class="ding-replay-time">{{::$ctrl.comment.createAt|dateTime:true}}</div>\n</div>\n'}),module.exports=moduleName;
},{"../../../directive/avatar/openProfile":53,"../../../directive/avatar/userAvatar":55,"../../../service/ding/DingAttachmentType":335,"../../../service/ding/dingInfoEvent":353,"../../../service/log/localLog":421,"../../../service/mediaId/mediaId":433,"../../../service/user/my":635,"../../../service/user/userManager":641,"../dingReply/dingReplyImg":28,"../dingReply/dingReplySpaceFile":29,"path":7}],27:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingReply.dingReplyToolBar",path=require("path"),localLog=require("../../../service/log/localLog"),dingReplyToolBarCtrl=function(e,l){var i=this;this.isShowCSpace=!1;var n=function(){try{e.$evalAsync()}catch(e){}};l.hasPermission().then(function(e){i.isShowCSpace=i.isShowCSpace||e,n()})};dingReplyToolBarCtrl.$inject=["$scope","spaceApp"],angular.module(moduleName,[require("../dingReplyToolBar/dingReplyFace"),require("../dingReplyToolBar/dingReplySelectSpaceFile"),require("../../../service/serviceWindow/spaceApp")]).component("dingReplyToolBar",{controller:dingReplyToolBarCtrl,bindings:{responseInput:"=",insertText:"="},transclude:!0,template:'<ul class="ding-reply-tool-bar">\n    <li class="tool-item">\n        <ding-reply-face insert-text="$ctrl.insertText" ></ding-reply-face>\n    </li>\n    <li class="tool-item">\n        <ding-reply-select-space-file send-space-file="$ctrl.responseInput.sendSpaceFile" ng-if="$ctrl.isShowCSpace"></ding-reply-select-space-file>\n    </li>\n</ul>\n'}),module.exports=moduleName;
},{"../../../service/log/localLog":421,"../../../service/serviceWindow/spaceApp":601,"../dingReplyToolBar/dingReplyFace":30,"../dingReplyToolBar/dingReplySelectSpaceFile":31,"path":7}],28:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingReply.dingReplyImg",path=require("path"),localLog=require("../../../service/log/localLog"),dingReplyImgCtrl=function(e,i,t,r,n){function a(e,i,t,r){if(e){var n=i;i=t,t=n}if(i>o){var a=i/o;i=o,t/=a}d.width(i).height(t)}var g=this,m=150,c=150,d=$(t.find(".ding-info-img")),o=d.width();if(!this.attachment.mediaId)return void localLog.error("ding reply content error",JSON.stringify(this.attachment));try{var l=i.mid2Object(this.attachment.mediaId,{autoRotate:!0});this.imgSrc=l.url,m=l.height,c=l.width}catch(e){localLog.error(JSON.stringify(e))}var s=n(_.get(this.attachment,"extension.orientation")),h=90===s||270===s;a(h,c,m,s),this.preview=function(e){var i={mediaId:g.attachment.mediaId,rotate:s,picSize:g.attachment.size,isOriginalPic:"1"===_.get(g.attachment,"extension.o")};r.preview(i)}};dingReplyImgCtrl.$inject=["$scope","mediaId","$element","imgPreviewService","Rotate"],angular.module(moduleName,[require("../../../service/mediaId/mediaId"),require("../../../service/img/imgPreviewService"),require("../../../service/img/Rotate")]).component("dingReplyImg",{controller:dingReplyImgCtrl,bindings:{attachment:"<"},transclude:!0,template:'<div class="ding-reply-img">\n  <img class="ding-info-img" ng-src="{{$ctrl.imgSrc}}" ng-click="$ctrl.preview($event)"></img>\n</div>\n'}),module.exports=moduleName;

},{"../../../service/img/Rotate":407,"../../../service/img/imgPreviewService":408,"../../../service/log/localLog":421,"../../../service/mediaId/mediaId":433,"path":7}],29:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingReply.dingReplySpaceFile",path=require("path"),localLog=require("../../../service/log/localLog"),fileTypes=require("@ali/ding-filetypes"),spaceFileHelper=require("../../../service/file/spaceFileHelper"),ua=require("../../../service/ua"),previewFileConfig=require("../../../service/file/previewFileConfig"),dingReplySpaceFileCtrl=function(e,i,l,t,a,n,s){var c=this,r=function(){try{e.$evalAsync()}catch(e){}};this.fileIconClass=fileTypes.getFileIconByType(this.attachment.detailType),this.fileSizeFormatted=i.formatFileSize(this.attachment.size),this.isDesktop=ua.isDesktop,this.savingFile=!1,this.fileUri=spaceFileHelper.getFileUri({s_id:this.attachment.fileSpaceId,f_id:this.attachment.mediaId}),this.file=l.getFileObj(this.fileUri,this.attachment.fileName),this.preview=function(){var e={f_name:c.attachment.fileName,f_size:c.attachment.size,s_id:c.attachment.fileSpaceId,f_id:c.attachment.mediaId};spaceFileHelper.getPreviewUri(e,previewFileConfig.iframe_width,previewFileConfig.iframe_height).then(function(e){n(e)}).catch(function(e){t.show(e.statusMsg,{type:"error"})})},this.saveFile=function(){var e={spaceId:this.attachment.fileSpaceId,path:"/",fileName:this.attachment.fileName,id:this.attachment.mediaId};a.showModal({dialogType:"2",file:e,onSelect:function(){c.savingFile=!0,r()},onSuccess:function(){c.savingFile=!1,r()},onError:function(){c.savingFile=!1,r()}})},this.download=function(e){ua.isDesktop&&(e.preventDefault(),e.stopPropagation(),c.file.download())},this.cancelDownload=function(e){ua.isDesktop&&(e.preventDefault(),c.file.isActive&&!c.file.isFinish&&(c.file.cancelDownload(),c.file.reset()))},this.openFile=function(e){e.preventDefault(),s.open({url:c.file.url}).then(function(){},function(){c.file.reset()})},this.file.proxy.on(this.file.EVENTS.STRAT,r),this.file.proxy.on(this.file.EVENTS.PROGRESS,r),this.file.proxy.on(this.file.EVENTS.FINISH,r),this.$onDestroy=function(){this.file.proxy.off(this.file.EVENTS.STRAT,r),this.file.proxy.off(this.file.EVENTS.PROGRESS,r),this.file.proxy.off(this.file.EVENTS.FINISH,r)}};dingReplySpaceFileCtrl.$inject=["$scope","$fileHelper","fileFactory","toastService","spaceFileModal","previewFileModal","openFileService"],angular.module(moduleName,[require("../../../service/file/fileHelper"),require("../../../service/app/download/fileFactory"),require("../../../service/toast/toast"),require("../../../service/modal/spaceFileModal"),require("../../../service/modal/previewFileModal"),require("../../../service/app/download/openFile")]).component("dingReplySpaceFile",{controller:dingReplySpaceFileCtrl,bindings:{attachment:"<"},transclude:!0,template:'<div class="ding-info-space-file">\n  <div class="file-main">\n    <div class="file-icon" ng-class="$ctrl.fileIconClass" ng-click="$ctrl.preview()">\n    </div>\n    <div class="file-meta">\n      <p class="file-name" htitle="{{$ctrl.attachment.fileName}}">\n          <span ng-click="$ctrl.preview()">{{$ctrl.attachment.fileName}}</span>\n      </p>\n      <p class="file-size">({{$ctrl.fileSizeFormatted}})</p> \n      <div class="file-operation">\n        <a href="javascript:;" class="preview-span" ng-click="$ctrl.preview()">预览</a>\n        <a href="javascript:;" class="save-file-btn" ng-if="!$ctrl.savingFile" ng-click="$ctrl.saveFile($event)">转存钉盘</a>\n        <a href="javascript:;" class="save-span" ng-if="$ctrl.savingFile">正在转存</a>\n        <a ng-click="$ctrl.download($event)" ng-if="!$ctrl.file.isActive&&!$ctrl.file.isFinish&&!$ctrl.file.isError" href="{{$ctrl.fileUri}}" target="_blank" class="download-file-btn" nwdirectory nwsaveas="{{$ctrl.attachment.fileName}}"  >下载文件</a>\n      <a href="javascript:;" class="download-span" ng-show="$ctrl.file.isActive&&!$ctrl.file.isFinish">正在下载</a>\n        <a href="javascript:;" class="open-file-link" ng-if="$ctrl.file.isError" ng-click="$ctrl.download($event)">重新下载</a>\n        <a href="javascript:;" class="open-file-link" ng-if="$ctrl.isDesktop&&$ctrl.file.isFinish" ng-click="$ctrl.openFile($event)">打开文件夹</a>\n      </div>\n    </div>\n    <div progress-bar progress="$ctrl.file.progress" ng-if="$ctrl.file.isActive"></div>\n    <i class="cancel-downloading-icon" htitle="取消下载" htitle-direction="bottom" ng-if="$ctrl.file.isActive&&!$ctrl.file.isFinish" ng-click="$ctrl.cancelDownload($event)"></i>\n  </div>\n</div>\n'}),module.exports=moduleName;

},{"../../../service/app/download/fileFactory":252,"../../../service/app/download/openFile":253,"../../../service/file/fileHelper":379,"../../../service/file/previewFileConfig":382,"../../../service/file/spaceFileHelper":385,"../../../service/log/localLog":421,"../../../service/modal/previewFileModal":465,"../../../service/modal/spaceFileModal":474,"../../../service/toast/toast":611,"../../../service/ua":621,"@ali/ding-filetypes":714,"path":7}],30:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingReplyToolBar.dingReplyFace",path=require("path"),localLog=require("../../../service/log/localLog"),dingReplyFaceCtrl=function(e,n,i,t){var c=this,o=function(){try{e.$evalAsync()}catch(e){}};this.emotions=n,this.open=function(){c.isFaceOpen=!c.isFaceOpen},this.selectEmotion=function(e,n){e.preventDefault(),e.stopPropagation(),c.insertText("["+n.name+"]"),c.isFaceOpen=!1},this.$postLink=function(){$(document).on("click.ding-reply-face",function(e){var n=t.find(e.target).length>0;(n||c.isFaceOpen)&&(!n&&c.isFaceOpen&&(c.isFaceOpen=!1),o())})},this.$onDestroy=function(){$(document).off("click.ding-reply-face")}};dingReplyFaceCtrl.$inject=["$scope","faces_default","textCellService","$element"],angular.module(moduleName,[require("../../../directive/chat/face/emotionContent"),require("../../../service/face/default"),require("../../../service/chat/textCellService")]).component("dingReplyFace",{controller:dingReplyFaceCtrl,bindings:{insertText:"="},transclude:!0,template:'<span class="ding-reply-face">\n  <i class="iconfont tool-icon" ng-click="$ctrl.open()">&#xe626;</i>\n  <ul class="emotions" ng-if="$ctrl.isFaceOpen">\n      <li class="emotion"\n        ng-repeat="emotion in $ctrl.emotions track by emotion.id"\n        htitle="{{::emotion.name}}"\n      >\n        <img ng-src="{{::emotion.src}}" alt="{{::emotion.name}}" ng-click="$ctrl.selectEmotion($event, emotion)" draggable="false">\n      </li>\n  </ul>\n  <div class="emotion-tri" ng-if="$ctrl.isFaceOpen"></div>\n  <div class="emotion-tri-shadow" ng-if="$ctrl.isFaceOpen"></div>\n</span>\n'}),module.exports=moduleName;

},{"../../../directive/chat/face/emotionContent":58,"../../../service/chat/textCellService":275,"../../../service/face/default":377,"../../../service/log/localLog":421,"path":7}],31:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingReplyToolBar.dingReplySelectSpaceFile",path=require("path"),localLog=require("../../../service/log/localLog"),dingReplySelectSpaceFileCtrl=function(e,l){var i=this;this.selectSpaceFile=function(e){l.showModal({dialogType:"3",orgId:null,targetSpaceId:null,dingSelectCustomLimit:1,targetUserOrgList:[],onSuccess:function(e){e.length>0?i.sendSpaceFile(null,e[0]):localLog.error("ding reply get spaceFileObj error",JSON.stringify(e))},onError:function(){}})}};dingReplySelectSpaceFileCtrl.$inject=["$scope","spaceFileModal"],angular.module(moduleName,[require("../../../service/modal/spaceFileModal")]).component("dingReplySelectSpaceFile",{controller:dingReplySelectSpaceFileCtrl,bindings:{sendSpaceFile:"="},transclude:!0,template:'<span class="ding-reply-select-space">\n  <i class="iconfont tool-icon" ng-click="$ctrl.selectSpaceFile($event)">&#xe664;</i>\n</span>\n\n'}),module.exports=moduleName;

},{"../../../service/log/localLog":421,"../../../service/modal/spaceFileModal":474,"path":7}],32:[function(require,module,exports){
"use strict";var path=require("path"),mediaIdFactory=require("@ali/ding-mediaid"),moduleName="ddWeb.ding.sendDing.dingAttachmentUpload",ATTACHMENT_INSTANCE_TYPE=require("../../../service/ding/AttachmentInstanceType"),localLog=require("../../../service/log/localLog"),ContentType=require("../../../service/conversation/ContentType"),ATTACHMENT_TYPE={FILE:0,LINK:1},dingAttachmentUploadCtrl=function(t,n,e,a,i,c){var d=this;this.ATTACHMENT_TYPE=ATTACHMENT_TYPE,this.attachmentType=ATTACHMENT_TYPE.FILE,this.isShowCSpace=!1;var l=function(){try{t.$evalAsync()}catch(t){}},s=this.dingAttachmentManager.attachments[0];if(s&&s.getDingAttachmentType()===i.LINK){var o=s.attachment.linkContent;if(o.type!==ContentType.IM_SPACE_FILE&&o.type!==ContentType.ORG_SPACE_FILE){if(this.attachmentType=ATTACHMENT_TYPE.LINK,this.title=o.title,o.picMediaId&&"@"===o.picMediaId.charAt(0))try{this.picMediaId=mediaIdFactory.mid2Url(o.picMediaId)}catch(t){this.picMediaId=""}else this.picMediaId=o.picMediaId;this.desc=o.text}}c.hasPermission().then(function(t){d.isShowCSpace=d.isShowCSpace||t,l()}),this.showMenu=!1,this.text={pc_ding_file_upload_attachment_number:a.instant("pc_ding_file_upload_attachment_number"),pc_ding_file_upload_add_attachment:a.instant("pc_ding_file_upload_add_attachment"),pc_ding_file_upload_local_file:a.instant("pc_ding_file_upload_local_file"),pc_ding_file_upload_space_file:a.instant("pc_ding_file_upload_space_file"),pc_ding_file_upload_over_limit:a.instant("pc_ding_file_upload_over_limit")},d.showAttachment=function(){n.showModal({disableEdit:d.disableUpload,dingAttachmentManager:d.dingAttachmentManager})},this.active=function(){d.showMenu=!0},this.deactive=function(){d.showMenu=!1},this.upload=function(t){for(var n=t.target.files||[],e=[],a=0;a<n.length;a++){var i=n[a];i.instanceType=ATTACHMENT_INSTANCE_TYPE.LOCAL,e.push(i)}d.dingAttachmentManager.addAttachments(e),d.showAttachment()},this.uploadFromSpace=function(){e.showModal({dialogType:"3",orgId:null,targetSpaceId:null,targetUserOrgList:[],onSuccess:function(t){var n=t.map(function(t){return t.instanceType=ATTACHMENT_INSTANCE_TYPE.SPACE,t});d.dingAttachmentManager.addAttachments(n),d.showAttachment()},onError:function(){}})}};dingAttachmentUploadCtrl.$inject=["$scope","uploadDingFileModal","spaceFileModal","$translate","DingAttachmentType","spaceApp"],angular.module(moduleName,[require("../../../service/modal/uploadDingFileModal"),require("../../../service/modal/spaceFileModal"),require("../../../service/ding/DingAttachmentType"),require("../../../directive/widget/ddInput"),require("../../../service/serviceWindow/spaceApp")]).component("dingAttachmentUpload",{controller:dingAttachmentUploadCtrl,bindings:{disableUpload:"<",dingAttachmentManager:"="},transclude:!0,template:'<div>\n  <div class="ding-attachment-upload" ng-if="$ctrl.attachmentType === $ctrl.ATTACHMENT_TYPE.FILE">\n    <div class="ding-attachment-upload-info" ng-click="$ctrl.showAttachment()" ng-if="$ctrl.dingAttachmentManager.attachments.length !== 0">\n      <i class="iconfont icon-attachement"></i>\n      <p>{{$ctrl.dingAttachmentManager.attachments.length}}{{::$ctrl.text.pc_ding_file_upload_attachment_number}}</p>\n    </div>\n    <div class="ding-attachment-upload-action" \n      ng-show="$ctrl.dingAttachmentManager.attachments.length < $ctrl.dingAttachmentManager.limit && !$ctrl.disableUpload"\n      ng-mouseenter="$ctrl.active()"\n      ng-mouseleave="$ctrl.deactive()"\n    >\n      <i class="iconfont icon-attachement" ng-if="$ctrl.dingAttachmentManager.attachments.length === 0"></i>\n      <p>{{::$ctrl.text.pc_ding_file_upload_add_attachment}}</p>\n      <div class="ding-attachment-upload-menu" ng-show="$ctrl.showMenu" ng-class="{\'show-space\': $ctrl.isShowCSpace}">\n        <ul class="items">\n          <li class="item">\n            <div class="add-attachment">\n              {{::$ctrl.text.pc_ding_file_upload_local_file}}\n            </div>\n            <dd-input is-multi="true" on-change="$ctrl.upload" class="add-attachment-file"></dd-input>\n          </li>\n          <li class="item" ng-click="$ctrl.uploadFromSpace()" ng-if="$ctrl.isShowCSpace">\n            {{::$ctrl.text.pc_ding_file_upload_space_file}}\n          </li>\n        </ul>\n        <div class="ding-attachment-upload-menu-tri"></div>\n        <div class="ding-attachment-upload-menu-tri-border"></div>\n      </div>\n    </div>\n    <div class="ding-attachment-upload-overlimit" ng-show="$ctrl.dingAttachmentManager.attachments.length >= $ctrl.dingAttachmentManager.limit">\n      {{::$ctrl.text.pc_ding_file_upload_over_limit}}\n    </div>\n  </div>\n  <div class="attachment-link" ng-if="$ctrl.attachmentType === $ctrl.ATTACHMENT_TYPE.LINK"> \n    <div class="attachment-link-avatar">\n      <img ng-src="{{::$ctrl.picMediaId}}" ng-if="$ctrl.picMediaId" />\n      <div class="share-icon" ng-if="!$ctrl.picMediaId"></div>\n    </div>\n    <div class="attachment-link-info">\n      <div class="attachment-link-title">{{::$ctrl.title}}</div>\n      <div class="attachment-link-desc">{{::$ctrl.desc}}</div>\n    </div>\n  </div>\n</div>\n'}),module.exports=moduleName;

},{"../../../directive/widget/ddInput":153,"../../../service/conversation/ContentType":293,"../../../service/ding/AttachmentInstanceType":331,"../../../service/ding/DingAttachmentType":335,"../../../service/log/localLog":421,"../../../service/modal/spaceFileModal":474,"../../../service/modal/uploadDingFileModal":480,"../../../service/serviceWindow/spaceApp":601,"@ali/ding-mediaid":716,"path":7}],33:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.uploadDingFileModal.dingFileItem",path=require("path"),fileTypes=require("@ali/ding-filetypes"),dingFileItemCtrl=function(i,e){var t=this;this.isError=!1,this.text={pc_ding_file_item_remove:e.instant("pc_ding_file_item_remove"),pc_ding_file_item_retry:e.instant("pc_ding_file_item_retry")};var n=function(){t.info=t.item.getDingFileItem(),t.fileIconClass=fileTypes.getFileIconByType(t.info.ext)},s=function(){n();try{i.$evalAsync()}catch(i){}},r=function(){t.isError=!0,s()};this.item.on(this.item.EventsName.FILE_UPLOAD_ERROR,r),this.item.on(this.item.EventsName.FILE_PROGRESS,s),this.item.on(this.item.EventsName.FILE_UPLOAD_SUCCESS,s),this.item.on(this.item.EventsName.UPDATE,s),this.retry=function(){t.isError=!1,t.item.retry()},this.remove=function(){t.onRemove&&t.onRemove()},this.$onDestroy=function(){this.item.off(this.item.EventsName.FILE_UPLOAD_ERROR,r),this.item.off(this.item.EventsName.FILE_PROGRESS,s),this.item.off(this.item.EventsName.FILE_UPLOAD_SUCCESS,s),this.item.off(this.item.EventsName.UPDATE,s)},n()};dingFileItemCtrl.$inject=["$scope","$translate"],angular.module(moduleName,[require("../../../directive/widget/progressBar")]).component("dingFileItem",{controller:dingFileItemCtrl,bindings:{disableEdit:"<",item:"<",onRemove:"&"},transclude:!0,template:'<div class="upload-ding-file-item">\n  <div class="info">\n    <div class="file-icon file-avatar" ng-class="$ctrl.fileIconClass" ng-if="!$ctrl.info.isImg"></div>\n    <div class="file-avatar" ng-if="$ctrl.info.isImg">\n      <img ng-src="{{$ctrl.info.imageUrl}}"/>\n    </div>\n    <span class="desc">{{::$ctrl.info.name}}</span>\n    <span class="size" ng-if="!$ctrl.item.isUploading && $ctrl.info.size !== 0">{{::$ctrl.info.displaySize}}</span>\n    <span class="action" ng-click="$ctrl.remove()" ng-if="!$ctrl.isError && !$ctrl.disableEdit">{{::$ctrl.text.pc_ding_file_item_remove}}</span>\n    <span class="action" ng-click="$ctrl.retry()" ng-if="$ctrl.isError && !$ctrl.disableEdit">{{::$ctrl.text.pc_ding_file_item_retry}}</span>\n  </div>\n  <div progress-bar progress="$ctrl.item.percent" ng-if="$ctrl.item.isUploading"></div>\n</div>\n'}),module.exports=moduleName;

},{"../../../directive/widget/progressBar":167,"@ali/ding-filetypes":714,"path":7}],34:[function(require,module,exports){
"use strcit";var moduleName=module.exports="ddWeb.component.freeCallList",path=require("path"),$my=require("../../service/user/my"),_=require("lodash"),callStatus=require("../../service/conversation/freeCall/callStatus"),callType=require("../../service/conversation/freeCall/callType"),localLog=require("../../service/log/localLog.js"),ua=require("../../service/ua.js"),freeCallListCtrl=function(e,t,n,r,s,a,c,o,i,l,d){function p(){e.$evalAsync(function(){})}var g=this,_={};_[callType.OTO]=r.instant("dt_conference_history_conferencetype_call"),_[callType.MTM]=r.instant("dt_conference_history_conferencetype_call"),_[callType.VoIPOTO]=r.instant("dt_conference_history_conferencetype_voipoto"),_[callType.VoIPMTM]=r.instant("dt_conference_history_conferencetype_voipoto"),_[callType.VideoOTO]=r.instant("dt_conference_history_conferencetype_videooto"),_[callType.VideoMTM]=r.instant("dt_conference_history_conferencetype_videooto"),_[callType.BizCall]=r.instant("dt_conference_bizcall_histovry_type"),_[callType.SysCall]=r.instant("dt_conference_syscall_histovry_type");var v={};v[callType.MTM]=r.instant("dt_conference_start_btntitle_voipconf"),v[callType.VoIPMTM]=r.instant("dt_conference_history_conferencetype_voipoto_conftitle"),v[callType.VideoMTM]=r.instant("dt_conference_history_conferencetype_video_conftitle"),g.text={pc_tel_phone_norecords:r.instant("pc_tel_phone_norecords"),pc_tel_phone_norecords_tip:r.instant("pc_tel_phone_norecords_tip"),pc_toast_error_getcallrecord:r.instant("pc_toast_error_getcallrecord"),dt_common_delete:r.instant("dt_common_delete"),pc_video_bizcall_nosupport:r.instant("pc_video_bizcall_nosupport"),pc_video_bizcall:r.instant("pc_video_bizcall"),pc_video_networkcall:r.instant("pc_video_networkcall"),pc_video_confvideocall:r.instant("pc_video_confvideocall"),dt_conference_history_conferencetype_video_conftitle:r.instant("dt_conference_history_conferencetype_video_conftitle")},g.callStatus=callStatus,g.typeToShow=_,g.convTitle=v,g.callType=callType,g.myuid=$my.uid,g.ua=ua,g.isSupportBizCall=i.isSupport,g.isSupportConf=l.isSupport,g.isSupportVoIP=d.isSupport,t.active(100).catch(function(e){n.show(g.text.pc_toast_error_getcallrecord,{type:"error"})}),g.delMergedMessage=function(e,s){s.stopPropagation(),t.delMergedMessage(e).catch(function(){n.show(r.instant("pc_toast_error_delete_conv"),{type:"error"})})},g.createCall=function(e,t,r){o.commLog("phone_record_click","");var s,i=e.split(",");v[t]&&g.isSupportConf?a.showModal({selectedUids:i}).catch(function(e){e instanceof Error&&n.show(e.message,{type:"error"})}):(1===i.length&&$my.uid!=i[0]?s=i[0]:2===i.length&&i.forEach(function(e){e!=$my.uid&&(s=e)}),s&&c({uid:s}).catch(function(e){localLog.error("callSelectorModal create call ",e)}))},this.voip=function(e,t){t.stopPropagation(),l.getCurrentConference()?n.show(g.text.pc_toast_error_opening_videoconf,{type:"error"}):(o.commLog("phone_record_start_voip_click",""),d.createCall(e).then(function(){}).catch(function(){n.show(g.text.pc_toast_error_launch,{type:"error"})}))}.bind(this),this.conf=function(e,t){t.stopPropagation();var r=e.split(",");r=r.filter(function(e){return parseInt(e,10)!==parseInt(g.myuid)}),o.commLog("phone_record_start_video_click",""),l.requestCreateConference(r).then(function(){}).catch(function(e){n.show(e.cause||e.reason,{type:"error"})})},this.bizCall=function(e,t){t.stopPropagation(),o.commLog("phone_record_start_servicephone_click",""),i.createBizCallByUid(e).then(function(){})}.bind(this);var u=function(){g.mergedMessageList=t.getMergedMessageList(),g.mergedMessageList.forEach(function(e){e.confPersonNumToBeShow=r.instant("dt_commom_person_num",{value1:e.confPersonNum})}),p()};u(),t.on(t.EventsName.MERGED_MSG_CHANGE,u),e.$on("$destroy",function(){t.off(t.EventsName.MERGED_MSG_CHANGE,u),t.deactive()})};freeCallListCtrl.$inject=["$scope","freeCallWithSDK","toastService","$translate","chatCallService","createConference","callSelectorModal","lwlog","callCenter","confManager","voipWindowManager"],angular.module(moduleName,[require("../../directive/avatar/userAvatar"),require("./../../service/conversation/freeCall/freeCallWithSDK"),require("../../service/toast/toast"),require("../../service/chat/chatCallService"),require("../../service/modal/createConference"),require("../../service/modal/callSelectorModal"),require("../../service/log/lwlog"),require("../../service/callCenter/callCenter.js"),require("../../service/voipService/voipWindowManager.js"),require("../../service/videoConf/confManager.js")]).component("freeCallList",{controller:freeCallListCtrl,template:'<div class="free-call-list">\n    <div class="free-call-item" ng-repeat="mergedMessage in $ctrl.mergedMessageList track by mergedMessage.targetUids" ng-class="{ \'missed-call\' : mergedMessage.lastMsgCallStatus === $ctrl.callStatus.MISSED && mergedMessage.lastMsgCallerId !== $ctrl.myuid}" ng-click="$ctrl.createCall(mergedMessage.targetUids, mergedMessage.lastMsgCallType, $event)">\n        <i class="iconfont delete icon-yuejuancuohao" htitle="{{::$ctrl.text.dt_common_delete}}" htitle-direction="left" ng-click="$ctrl.delMergedMessage(mergedMessage.targetUids, $event)"></i>\n        <div class="group-avatar" >\n            <user-avatar class="normal" ng-if="mergedMessage.userAvatarUids.length === 1" uid="{{ mergedMessage.userAvatarUids[0] }}"></user-avatar>\n            <div class="avatar-list" ng-class="{three: mergedMessage.userAvatarUids.length === 3 || mergedMessage.userAvatarUids.length === 2}" ng-if="mergedMessage.userAvatarUids.length >= 2">\n                <user-avatar class="mini" uid="{{:: uid }}" ng-repeat="uid in mergedMessage.userAvatarUids"></user-avatar>\n                <i class="ellipsis iconfont icon-nvggengduo" ng-if="mergedMessage.userAvatarUids.length === 2"></i>\n            </div>\n        </div>\n        <div class="content" ng-class="{ \'web\':  !$ctrl.ua.isDesktop}">\n            <div class="title-wrap">\n                <span class="name" ng-if="$ctrl.convTitle[mergedMessage.lastMsgCallType]">{{$ctrl.convTitle[mergedMessage.lastMsgCallType]}}&nbsp;{{::mergedMessage.confPersonNumToBeShow}}</span>\n                <span class="name" ng-if="!$ctrl.convTitle[mergedMessage.lastMsgCallType]">{{mergedMessage.targetNicks}}<span ng-if=\'mergedMessage.missedNum > 1\'>&nbsp;({{mergedMessage.missedNum}})</span> </span>\n            </div>\n            <div class="last-msg-wrap">\n                <span class="call-type iconfont"\n                      ng-class="{\'icon-exhale\': mergedMessage.lastMsgCallerId === $ctrl.myuid, \'icon-incoming\': mergedMessage.lastMsgCallerId !== $ctrl.myuid}"\n                ></span>\n                <span class="phone-type">{{ $ctrl.typeToShow[mergedMessage.lastMsgCallType] }}</span>\n                <span class="time">{{mergedMessage.lastMessage.baseMessage.createdAt | dateTime}}</span>\n            </div>\n            <div class="hover-quick-button">\n                <div class="button-wrap" ng-click="$ctrl.bizCall(mergedMessage.userAvatarUids[0], $event)" ng-if="$ctrl.isSupportBizCall && mergedMessage.userAvatarUids.length === 1" htitle="{{::$ctrl.text.pc_video_bizcall}}">\n                    <i class="iconfont icon-bizcall normal">&#xe728;</i>\n                    <i class="iconfont icon-bizcallhover hover">&#xe722;</i>\n                </div>\n                <div class="button-wrap" ng-if="!$ctrl.isSupportBizCall && mergedMessage.userAvatarUids.length === 1" htitle="{{::$ctrl.text.pc_video_bizcall_nosupport}}">\n                    <i class="iconfont icon-bizcall disabled">&#xe728;</i>\n                </div>\n                <div class="button-wrap" ng-click="$ctrl.voip(mergedMessage.userAvatarUids[0], $event)" ng-if="$ctrl.isSupportVoIP && mergedMessage.userAvatarUids.length === 1" htitle="{{::$ctrl.text.pc_video_networkcall}}">\n                    <i class="iconfont icon-networkcall normal">&#xe723;</i>\n                    <i class="iconfont icon-networkcallhover hover">&#xe725;</i>\n                </div>\n                <div class="button-wrap" ng-click="$ctrl.conf(mergedMessage.targetUids, $event)" ng-if="$ctrl.isSupportConf && mergedMessage.userAvatarUids.length === 1" htitle="{{::$ctrl.text.pc_video_confvideocall}}">\n                    <i class="iconfont icon-videoconference normal">&#xe724;</i>\n                    <i class="iconfont icon-videoconferencehover hover">&#xe726;</i>\n                </div>\n                <div class="button-wrap" ng-click="$ctrl.conf(mergedMessage.targetUids, $event)" ng-if="$ctrl.isSupportConf && mergedMessage.userAvatarUids.length >= 2" htitle="{{::$ctrl.text.dt_conference_history_conferencetype_video_conftitle}}">\n                    <i class="iconfont icon-videoconference normal">&#xe724;</i>\n                    <i class="iconfont icon-videoconferencehover hover">&#xe726;</i>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n<div class="companyCallCenter-noCalls" ng-if="$ctrl.mergedMessageList.length === 0">\n    <div class="companyCallCenter-noCalls-inner">\n\t    <i class="iconfont noCalls-icon">&#xe6bd;</i>\n\t    <div class="noCalls-content">{{::$ctrl.text.pc_tel_phone_norecords}}</div>\n        <div class="norecord-tip">{{::$ctrl.text.pc_tel_phone_norecords_tip}}</div>\n\t</div>\n</div>\n'});

},{"../../directive/avatar/userAvatar":55,"../../service/callCenter/callCenter.js":269,"../../service/chat/chatCallService":272,"../../service/conversation/freeCall/callStatus":310,"../../service/conversation/freeCall/callType":311,"../../service/log/localLog.js":421,"../../service/log/lwlog":424,"../../service/modal/callSelectorModal":446,"../../service/modal/createConference":449,"../../service/toast/toast":611,"../../service/ua.js":621,"../../service/user/my":635,"../../service/videoConf/confManager.js":645,"../../service/voipService/voipWindowManager.js":652,"./../../service/conversation/freeCall/freeCallWithSDK":312,"lodash":919,"path":7}],35:[function(require,module,exports){
"use strict";var moduleName="ddWeb.component.unreadCall",path=require("path"),unreadCallCtrl=function(e,n){function a(){e.$evalAsync(function(){})}var t=this;t.unreadPointNum=n.getUnreadPointSync();var r=function(e){t.unreadPointNum=e,a()};n.on(n.EventsName.UNREAD_POINT_UPDATE,r),this.$onDestroy=function(){n.off(n.EventsName.UNREAD_POINT_UPDATE,r)}};unreadCallCtrl.$inject=["$scope","freeCallWithSDK"],angular.module(moduleName,[require("../../service/conversation/freeCall/freeCallWithSDK")]).component("unreadCall",{template:'<span class="unread-num" ng-if="$ctrl.unreadPointNum > 0"><em>{{$ctrl.unreadPointNum}}</em></span>\n',controller:unreadCallCtrl,transclude:!0}),module.exports=moduleName;

},{"../../service/conversation/freeCall/freeCallWithSDK":312,"path":7}],36:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.group.groupList",ConvType=require("../../service/conversation/ConvType"),groupSupportType=require("../../service/groupSupportType/groupSupportType"),wksdk=require("@ali/wksdk"),conversationService=wksdk.conversationService,localLog=require("../../service/log/localLog"),_=require("lodash"),IMLogType=require("../../service/log/imLogType"),groupListCtrl=function(i,e,o,t){function r(i){return Promise.all(i.map(function(i){var e=_.get(i,"baseConversation.extension.id"),t=_.get(i,"baseConversation.tag");return i.isCompanyGroup=t===ConvType.COMPANY_GROUP,i.isAllUserGroup="1"===_.get(i,"baseConversation.extension.isAllUsrGrp"),i.isDeptGroup=!!_.get(i,"baseConversation.extension.deptId")&&!i.isAllUserGroup,o.getSafetyApp(e).then(function(){return i.isSafety=!0,i.isSafetySingle=t===ConvType.ENCRYPT_CHAT,Promise.resolve(i)}).catch(function(){return i.isSafety=!1,i.isSafetySingle=!1,Promise.resolve(i)})}))}this.groupConv={},this.groupConvIdList=[],this.requestFinish=!1,this.ConvType=ConvType;var n=100,s=function(i){return r(i).then(function(i){i.forEach(function(i){var e=_.get(i,"baseConversation.conversationId");e&&!this.groupConv[e]&&(this.groupConv[e]=i,this.groupConvIdList.push(e))}.bind(this))}.bind(this)).then(function(){e.$evalAsync()})}.bind(this),a=!0;this.getMoreGroup=function(){if(a===!1)return Promise.reject();var i=0;if(this.groupConvIdList.length>0){var o=this.groupConvIdList[this.groupConvIdList.length-1],t=this.groupConv[o],r=_.get(t,"baseConversation.createAt");r&&(i=r)}return conversationService.listAllGroup(i,n).then(function(i){return this.requestFinish=!0,i.body&&Array.isArray(i.body)?(i.body.length<n&&(a=!1),s(i.body)):(a=!1,e.$evalAsync(),localLog.error("list all group get empty result",JSON.stringify(i)),void 0)}.bind(this)).catch(function(i){localLog.error("list all group get error",i),this.requestFinish=!0,e.$evalAsync()}.bind(this))}.bind(this);var c=function(){this.getMoreGroup()}.bind(this);this.onItemClick=function(e){t.trace(e,IMLogType.CONTACT_GROUP),i.$broadcast("leftpannel.openChatByGroup",{conversationId:e})},c()};groupListCtrl.$inject=["$rootScope","$scope","microAppData","imLog"],angular.module(moduleName,[require("../../service/microApp/microAppData"),require("../avatar/static-group-avatar"),require("../../directive/infiniteScroll"),require("../../service/log/imLog")]).component("groupList",{controller:groupListCtrl,template:'<div class="group-list" infinite-scroll infinite-scroll-bottom="$ctrl.getMoreGroup()" infinite-scroll-threshold="60">\n    <loading ng-if="!$ctrl.requestFinish"></loading>\n    <ul class="list-with-avatar-and-info group-member-lists"  ng-if="groupList.groups.length!==0">\n        <li class="list-item group-member-item" conversation-id="cid" ng-repeat="cid in $ctrl.groupConvIdList track by cid" ng-click=\'$ctrl.onItemClick(cid);\' ng-if="$ctrl.groupConv[cid].baseConversation.type == 2">\n            <static-group-avatar conv-data="$ctrl.groupConv[cid]"></static-group-avatar>\n            <div class="content">\n                <div class="info">\n                    <p class="name"><span ng-bind-html="$ctrl.groupConv[cid].baseConversation.title|emoj"></span></p>\n                    <i class="icon-company" ng-if="$ctrl.groupConv[cid].isCompanyGroup" ng-class="{\'icon-dept-company\': $ctrl.groupConv[cid].isDeptGroup ,\'icon-all-user-company\': $ctrl.groupConv[cid].isAllUserGroup, \'icon-safety\': $ctrl.groupConv[cid].isSafety}"></i>\n                </div>\n                <div class="info">\n                    <p class="title">{{$ctrl.groupConv[cid].baseConversation.memberCount}} 人</p>\n                </div>\n            </div>\n        </li>\n    </ul>\n    <div class="empty-container" ng-if="$ctrl.groupConvIdList.length===0 && $ctrl.requestFinish">\n        <div class="sprite-empty empty-group"></div>\n        <p class="empty-info">暂时没有群组</p>\n    </div>\n</div>\n'}),module.exports=moduleName;

},{"../../directive/infiniteScroll":114,"../../service/conversation/ConvType":294,"../../service/groupSupportType/groupSupportType":404,"../../service/log/imLog":419,"../../service/log/imLogType":420,"../../service/log/localLog":421,"../../service/microApp/microAppData":437,"../avatar/static-group-avatar":20,"@ali/wksdk":779,"lodash":919,"path":7}],37:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.email",ua=require("../../service/ua"),path=require("path"),ddStorage=require("../../service/storage/ddStorage"),EVENTS=require("../../service/events"),orgEmailCtrl=function(i,e,t,o,a,n,l,r,m){function s(){c.isShowNum="false"!==ddStorage.getItemWithUid("dingEmailNotification")}var c=this;c.emailConv=null,c.isShowNum="false"!==ddStorage.getItemWithUid("dingEmailNotification"),c.text={dt_option_mail_title:r.instant("dt_option_mail_title")},i.$on(EVENTS.SETTING_MODAL_CLOSE,s);var d=function(){if(0==this.emailConv.newMsg)try{i.$digest()}catch(i){}}.bind(this),g=function(e){if(!this.emailConv){this.emailConv=e,this.emailConv.EventEmitter.on(this.emailConv.EVENTS.UNREAD_POINT_UPDATE,d);try{i.$digest()}catch(i){}}}.bind(this);l.on(l.EventsName.SHOW_EMAIL,g),this.openEmail=function(){n.cmailStatus(function(i){if(200==i.code){var a=i.body;if(a)if(a.bind)if(a.alimail)o.openEmail(),c.emailConv&&c.emailConv.clearNewMsg(),t.commLog("mail_jump_webmail_view","");else if(a.proxyMailUrl){var n=new m;n.resolve(a.proxyMailUrl),t.commLog("mail_jump_proxy_view","")}else e.go("authorized.cmail",{cmailPageType:"3",loginEmail:a.bindEmail}),t.commLog("mail_jump_binding_view","");else{var l=a.extension&&"1"==a.extension.showQrCode;l?t.commLog("mail_jump_nobinding_code_view",""):t.commLog("mail_jump_nobinding_nocode_view",""),e.go("authorized.cmail",{cmailPageType:l?"1":"2"})}}})},this.$onDestroy=function(){l.removeListener(l.EventsName.SHOW_EMAIL,g),c.emailConv&&c.emailConv.EventEmitter.off(c.emailConv.EVENTS.UNREAD_POINT_UPDATE,d)}};orgEmailCtrl.$inject=["$scope","$state","lwlog","emailOpenService","UserI","CMailI","emailNotify","$translate","$OpenWindow"],angular.module(moduleName,["ui.router.state",require("../../service/log/lwlog"),require("../../service/widget/emailOpenService"),require("../../service/email/emailNotify"),require("@ali/ding-api").interface.UserI,require("@ali/ding-api").interface.CMailI,require("../../service/openWindow/openWindow")]).component("orgEmail",{controller:orgEmailCtrl,template:'<li  class="extra-item org-email" log="tab_mail_click">\n    <div class="extra-item-box" ng-click="$ctrl.openEmail()">\n        <i class="iconfont" htitle="{{::$ctrl.text.dt_option_mail_title}}" htitle-direction="right">&#xe6f5;</i>\n        <span class="unread-num" ng-if="$ctrl.isShowNum && $ctrl.emailConv.newMsg > 0 ">\n            <em>{{$ctrl.emailConv.newMsg}}</em>\n        </span>\n    </div>\n</li>\n',transclude:!0}),module.exports=moduleName;

},{"../../service/email/emailNotify":363,"../../service/events":376,"../../service/log/lwlog":424,"../../service/openWindow/openWindow":532,"../../service/storage/ddStorage":605,"../../service/ua":621,"../../service/widget/emailOpenService":661,"@ali/ding-api":711,"path":7}],38:[function(require,module,exports){
"use strict";var moduleName="ddWeb.home.unreadCount",unreadCountCtrl=function(n,e){this.unreadMsgCount=e.unreadMsgCount,this.unreadMsgCountForDisplay=this.unreadMsgCount>99?"99+":this.unreadMsgCount;var t=function(e){var t=e.unreadMsgCount;this.unreadMsgCount!==t&&(this.unreadMsgCount=t,this.unreadMsgCountForDisplay=this.unreadMsgCount>99?"99+":this.unreadMsgCount,n.$evalAsync(function(){}))}.bind(this);e.addListener(e.EventsName.UNREAD_UPDATE,t),this.$onDestroy=function(){e.removeListener(e.EventsName.UNREAD_UPDATE,t)}};unreadCountCtrl.$inject=["$scope","unreadConv"],angular.module(moduleName,[require("../../service/conversation/unreadConv")]).component("allConvUnreadCount",{template:'<span class="unread-num" ng-if="$ctrl.unreadMsgCount > 0"><em>{{$ctrl.unreadMsgCountForDisplay}}</em></span>',controller:unreadCountCtrl,transclude:!0}),module.exports=moduleName;

},{"../../service/conversation/unreadConv":322}],39:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.msgContent.msgEncryptAudio",spaceFileHelper=require("../../service/file/spaceFileHelper"),safetyEncryptFileStatus=require("../../service/safety/safetyEncryptFileStatus"),localLog=require("../../service/log/localLog"),msgEncryptAudioCtrl=function(e,t,s,r,i,a,o){var l=this;this.msg=this.info.msg;var n=_.get(this.msg,"baseMessage.content.attachments[0].extension")||{};this.audioDuration=parseInt(n.duration/1e3),this.text={pc_safety_download_safety_file_toast_success:o.instant("pc_safety_download_safety_file_toast_success")};this.play=function(){var e=[n.s_id,n.f_id].join("_")+"."+n.f_type,r=t.getAudioPath(e),o=t.statsSync(r);if(o)return Promise.resolve(e);var c=spaceFileHelper.getFileUri(n),u=n.f_name,d=s.getFileObj(c,u);return a.decryptFile(d,n.s_id,n.f_id,{savePath:r}).then(function(){return i.show(l.text.pc_safety_download_safety_file_toast_success,{type:"success"}),Promise.resolve(e)})},this.onPlayStart=function(){l.msg.updateAudioMsgToRead()}};msgEncryptAudioCtrl.$inject=["$scope","$fileHelper","fileFactory","$sce","toastService","safetyHelper","$translate"],angular.module(moduleName,[require("../../directive/player/encryptAudioPlayer"),require("../../service/file/fileHelper"),require("../../service/app/download/fileFactory"),require("../../service/toast/toast"),require("../../service/safety/safetyHelper")]).component("msgEncryptAudio",{controller:msgEncryptAudioCtrl,template:'<div class="msg-bubble audio-msg">\n    <encrypt-audio-player on-play="$ctrl.play()" audio-duration="$ctrl.audioDuration" on-play-start="$ctrl.onPlayStart()"></audio-player>\n</div>\n',bindings:{info:"="}}),module.exports=moduleName;

},{"../../directive/player/encryptAudioPlayer":124,"../../service/app/download/fileFactory":252,"../../service/file/fileHelper":379,"../../service/file/spaceFileHelper":385,"../../service/log/localLog":421,"../../service/safety/safetyEncryptFileStatus":555,"../../service/safety/safetyHelper":557,"../../service/toast/toast":611,"path":7}],40:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.msgContent.msgEncryptFile",ua=require("../../service/ua"),spaceFileHelper=require("../../service/file/spaceFileHelper"),SendStatus=require("../../service/conversation/SendStatus"),$my=require("../../service/user/my"),fileTypes=require("@ali/ding-filetypes"),safetyEncryptFileStatus=require("../../service/safety/safetyEncryptFileStatus"),localLog=require("../../service/log/localLog"),msgEncryptFileCtrl=function(e,i,s,t,n,l,r,a){var c=this,o=function(){try{e.$digest()}catch(e){}};this.msg=this.info.msg,this.SendStatus=SendStatus;var f=_.get(this.msg,"baseMessage.content.attachments[0].extension")||{};this.extension=f,this.isDesktop=ua.isDesktop,this.fileName=f.f_name,this.fileSizeFormatted=s.formatFileSize(f.f_size),this.fileIconClass=fileTypes.getFileIconByType(f.f_type),this.msg.sendStatus!==SendStatus.SENDED&&void 0!==this.msg.sendStatus||(this.fileUri=spaceFileHelper.getFileUri(f));var g=function(){var e=c.msg.baseMessage.content.attachments[0];c.messageId=c.msg.baseMessage.messageId,c.file.name=c.fileName=e.extension.f_name,c.file.url=c.fileUri=spaceFileHelper.getFileUri(e.extension),o()};this.file=i.getFileObj(this.fileUri,this.fileName),this.download=function(e){e.preventDefault(),e.stopPropagation(),c.msg.sendStatus===SendStatus.SENDED&&a.decryptFile(c.file,f.s_id,f.f_id),t.commLog("chat_filebubble_download","")},this.openFileList=function(e){if(e.stopPropagation(),e.preventDefault(),_.has(this.msg,"baseMessage.content.attachments[0].extension")){var i=this.msg.baseMessage.content.attachments[0].extension;l({cid:this.msg.baseMessage.conversationId,orgId:i.oid?i.oid:this.info.orgId,spaceId:i.s_id})}},this.openFile=function(e){e.preventDefault(),n.open({url:c.file.url}).then(function(){},function(){c.file.reset()})},this.cancelDownload=function(e){if(ua.isDesktop){e.preventDefault();var i=c.file;i.isActive&&!i.isFinish&&(i.cancelDownload(),i.reset())}};var d=function(){c.msg.updateSpaceFileMsgToRead(),o()};this.file.proxy.on(this.file.EVENTS.STRAT,o),this.file.proxy.on(this.file.EVENTS.PROGRESS,o),this.file.proxy.on(this.file.EVENTS.FINISH,d),this.msg.on(this.msg.EventsName.PROGRESS_UPDATE,o),this.msg.on(this.msg.EventsName.SEND_SUCCESS,g),this.$onDestroy=function(){this.file.proxy.off(this.file.EVENTS.STRAT,o),this.file.proxy.off(this.file.EVENTS.PROGRESS,o),this.file.proxy.off(this.file.EVENTS.FINISH,d),this.msg.off(this.msg.EventsName.PROGRESS_UPDATE,o),this.msg.off(this.msg.EventsName.SEND_SUCCESS,g)}};msgEncryptFileCtrl.$inject=["$scope","fileFactory","$fileHelper","lwlog","openFileService","openGroupFileList","toastService","safetyHelper"],angular.module(moduleName,[require("../../service/file/fileHelper"),require("../../service/app/download/fileFactory"),require("../../service/file/fileHelper"),require("../../service/log/lwlog"),require("../../service/app/download/openFile"),require("../../service/unPopModal/groupFileList"),require("../../service/toast/toast"),require("../../service/safety/safetyHelper")]).component("msgEncryptFile",{controller:msgEncryptFileCtrl,template:'<div class="msg-bubble file-msg">\n    <div class="file-icon" ng-class="$ctrl.fileIconClass" ng-click="$ctrl.download($event)">\n      <i class="icon-safety-file"></i>\n    </div>\n    <p class="file-name" htitle="{{$ctrl.fileName}}">\n        <span ng-click="$ctrl.download($event)">{{$ctrl.fileName}}</span>\n    </p>\n    <p class="file-size">({{$ctrl.fileSizeFormatted}})</p> <a ng-click="$ctrl.download($event)" href="{{$ctrl.fileUri}}" target="_blank" class="download-file-btn" nwdirectory nwsaveas="{{$ctrl.fileName}}" ng-show="!$ctrl.file.isActive&&!$ctrl.file.isFinish&&!$ctrl.file.isError&&($ctrl.msg.sendStatus === $ctrl.SendStatus.SENDED || $ctrl.msg.sendStatus === undefined)" >下载文件</a>\n    <a href="{{$ctrl.fileUri}}" target="_blank" class="download-file-btn" ng-click="$ctrl.download($event)" nwdirectory nwsaveas="{{$ctrl.fileName}}" ng-show="$ctrl.file.isError" >重新下载</a>\n    <a href="javascript:;" class="download-file-btn msg-open-file-link" ng-click="$ctrl.openFile($event)" ng-show="$ctrl.isDesktop&&$ctrl.file.isFinish">打开文件夹</a>\n    <a href="javascript:;" class="download-span" ng-show="$ctrl.file.isActive&&!$ctrl.file.isFinish">正在下载</a>\n    <div progress-bar progress="$ctrl.file.progress" ng-if="$ctrl.file.isActive"></div>\n    <div progress-bar progress="$ctrl.msg.uploadProgress" ng-if="$ctrl.msg.sendStatus === $ctrl.SendStatus.WAITING_SEND||$ctrl.msg.sendStatus === $ctrl.SendStatus.SENDING"></div>\n    <div class="msg-tips" ng-if="!$ctrl.isSingleChat&&$ctrl.msg.sendStatus===$ctrl.SendStatus.SENDED&&!$ctrl.file.isActive" ng-click="$ctrl.openFileList($event)">群文件</div>\n    <span class="cancel-sending"  ng-if="$ctrl.msg.sendStatus === $ctrl.SendStatus.WAITING_SEND && $ctrl.extension.isEncrypt === \'1\'">等待发送</span>\n    <span class="cancel-sending"  ng-if="$ctrl.msg.sendStatus === $ctrl.SendStatus.WAITING_SEND && $ctrl.extension.isEncrypt === \'0\'">正在加密</span>\n    <span class="cancel-sending"  ng-if="$ctrl.msg.sendStatus === $ctrl.SendStatus.SENDING">正在发送</span>\n    <i class="cancel-sending-icon" ng-click="$ctrl.msg.cancelSending($event)" htitle="取消发送" htitle-direction="left" ng-if="$ctrl.msg.sendStatus === $ctrl.SendStatus.SENDING || $ctrl.msg.sendStatus === $ctrl.SendStatus.WAITING_SEND" ></i>\n    <i class="cancel-downloading-icon" ng-click="$ctrl.cancelDownload($event)" htitle="取消下载" htitle-direction="right" ng-if="$ctrl.file.isActive&&!$ctrl.file.isFinish" ></i>\n</div>\n',bindings:{info:"="}}),module.exports=moduleName;
},{"../../service/app/download/fileFactory":252,"../../service/app/download/openFile":253,"../../service/conversation/SendStatus":304,"../../service/file/fileHelper":379,"../../service/file/spaceFileHelper":385,"../../service/log/localLog":421,"../../service/log/lwlog":424,"../../service/safety/safetyEncryptFileStatus":555,"../../service/safety/safetyHelper":557,"../../service/toast/toast":611,"../../service/ua":621,"../../service/unPopModal/groupFileList":625,"../../service/user/my":635,"@ali/ding-filetypes":714,"path":7}],41:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.msgContent.msgEncryptImg",spaceFileHelper=require("../../service/file/spaceFileHelper"),SendStatus=require("../../service/conversation/SendStatus"),$my=require("../../service/user/my"),fileTypes=require("@ali/ding-filetypes"),ua=require("../../service/ua"),EVENTS=require("../../service/events"),uriResolve=require("../../service/uriResolve/resolve"),limitConfig=require("../../service/limitConfig"),msgEncryptImgCtrl=function(e,i,s,t,a,n,r,l,o,c){function g(i,s,t,a){if(s>m){var n=s/m;s=m,t/=n}i&&(u.width(t).height(s),S.css({"margin-top":(s-t)/2+"px","margin-left":(t-s)/2+"px"})),e.$emit(EVENTS.CHAT_BUBBLE_SIZE_CHANGE,{mid:p.msg.baseMessage.messageId}),E(),S.width(s).height(t),S.css("-webkit-transform","rotate("+a+"deg)")}function f(e){var i=_.get(p.msg,"baseMessage.content.attachments[0].extension")||{},s=c(parseInt(i.orientation)),t=90===s||270===s;S&&S.length>0&&(S[0].style.visibility="hidden",S[0].onload=function(){p.msg.updateToRead(),S[0].style.visibility="visible"},S[0].onerror=function(){S[0].style.visibility="visible"},g(t,i.p_width,i.p_height,s),S[0].src=e)}var m=230,p=this,d=function(){try{e.$evalAsync()}catch(e){}};this.msg=this.info.msg,this.SendStatus=SendStatus;var h=_.get(this.msg,"baseMessage.content.attachments[0].extension")||{},v=([h.s_id,h.f_id].join("_")+"."+h.f_type,!1);this.fileName=h.f_name,this.fileUri=spaceFileHelper.getFileUri(h),this.file=s.getFileObj(this.fileUri,this.fileName),this.fileIconClass=fileTypes.getFileIconByType(h.f_type);var S=$(l.find(".encrypt-chat-img")),u=$(l.find(".msg-bubble")),E=function(){l.find(".direct-show").css("display","block"),l.find(".click-to-show").css("display","none"),l.find(".msg-bubble").removeClass("file-msg").addClass("img-msg")},y=function(){var i=_.get(p.msg,"baseMessage.content.attachments[0].extension")||{},s=[i.s_id,i.f_id].join("_")+"."+i.f_type;if(p.file.url=p.fileUri=spaceFileHelper.getFileUri(i),p.file.name=p.fileName=i.f_name,i.p_width&&i.p_height&&i.orientation&&parseInt(i.f_size)<limitConfig.SAFETY_AUTO_DECRYPT_IMAGE_LIMIT&&!v){var a=c(parseInt(i.orientation)),n=90===a||270===a;if(p.msg.sendStatus===SendStatus.SENDED){var r=t.statsSync(t.getImagePath(s));r?f(t.getImageUri(s)):o.decryptFile(p.file,i.s_id,i.f_id,{savePath:t.getImagePath(s)}).then(function(){f(t.getImageUri(s))})}else{var r=t.statsSync(i.path);if(r){var l=t.getTmpUri(i.path);v=!0}else{var l=_.get(p.msg,"_local.localURI")||_.get(p.msg,"localInfo.dataURI");l&&(l=uriResolve.assetsResolve("app/img/filelogo/pic.png"),a=0,n=!1)}E(),S[0].src=l,S[0].style.display="none",S[0].onload=function(){e.$emit(EVENTS.CHAT_BUBBLE_SIZE_CHANGE,{mid:p.msg.baseMessage.messageId}),S[0].style.display="block",g(n,this.width,this.height,a)}}}};y(),this.preview=function(e){e.preventDefault();var i=_.get(p.msg,"baseMessage.content.attachments[0].extension")||{},s=spaceFileHelper.getFileUri(i),a=[i.s_id,i.f_id].join("_")+"."+i.f_type,r={msgId:p.msg.baseMessage.messageId,picSize:parseInt(i.f_size),rotate:c(parseInt(i.orientation)),onRead:function(){p.msg.updateToRead()},fileName:i.f_name,isOriginalPic:!0};if(p.msg.sendStatus===SendStatus.SENDED){var l=i.oid;if(l)var o=!$my.getOrgByOid(l);else var o=!1;r.mediaId=t.getImageUri(a),r.encryptDetail={savePath:t.getImagePath(a),fileUri:s,isLeave:o,spaceId:i.s_id,fileId:i.f_id},n.preview(r)}else{var g=t.getTmpUri(i.path);r.mediaId=g,n.preview(r)}},this.file.proxy.on(this.file.EVENTS.STRAT,d),this.file.proxy.on(this.file.EVENTS.PROGRESS,d),this.file.proxy.on(this.file.EVENTS.FINISH,d),this.file.proxy.on(this.file.EVENTS.ERROR,d),this.msg.on(this.msg.EventsName.PROGRESS_UPDATE,d),this.msg.on(this.msg.EventsName.SEND_SUCCESS,y),this.$onDestroy=function(){this.file.proxy.off(this.file.EVENTS.STRAT,d),this.file.proxy.off(this.file.EVENTS.PROGRESS,d),this.file.proxy.off(this.file.EVENTS.FINISH,d),this.file.proxy.off(this.file.EVENTS.ERROR,d),this.msg.off(this.msg.EventsName.PROGRESS_UPDATE,d),this.msg.off(this.msg.EventsName.SEND_SUCCESS,y)}};msgEncryptImgCtrl.$inject=["$scope","conversationWithSDK","fileFactory","$fileHelper","lwlog","imgPreviewService","DLLocalCache","$element","safetyHelper","Rotate"],angular.module(moduleName,[require("../../service/file/fileHelper"),require("../../service/conversation/conversationWithSDK"),require("../../service/app/download/fileFactory"),require("../../service/log/lwlog"),require("../../service/img/imgPreviewService"),require("../../service/app/download/LocalCache"),require("../../service/safety/safetyHelper"),require("../../service/img/Rotate")]).component("msgEncryptImg",{controller:msgEncryptImgCtrl,template:'<div class="msg-bubble file-msg">\n  <div class="click-to-show">\n    <div class="file-icon" ng-class="$ctrl.fileIconClass" >\n      <i class="icon-safety-file"></i>\n    </div>\n    <p class="file-name" ng-click="$ctrl.preview($event)">\n      <span class="view-encrypt-img">点击查看加密图片</span>\n    </p>\n  </div>\n  <div class="direct-show" style="display: none">\n    <img class="encrypt-chat-img" ng-click="$ctrl.preview($event)"></img>\n  </div>\n    <div progress-bar progress="$ctrl.msg.uploadProgress" ng-if="$ctrl.msg.sendStatus === $ctrl.SendStatus.WAITING_SEND|| $ctrl.msg.sendStatus === $ctrl.SendStatus.SENDING"></div>\n</div>\n',bindings:{info:"="}}),module.exports=moduleName;

},{"../../service/app/download/LocalCache":249,"../../service/app/download/fileFactory":252,"../../service/conversation/SendStatus":304,"../../service/conversation/conversationWithSDK":308,"../../service/events":376,"../../service/file/fileHelper":379,"../../service/file/spaceFileHelper":385,"../../service/img/Rotate":407,"../../service/img/imgPreviewService":408,"../../service/limitConfig":414,"../../service/log/lwlog":424,"../../service/safety/safetyHelper":557,"../../service/ua":621,"../../service/uriResolve/resolve":628,"../../service/user/my":635,"@ali/ding-filetypes":714,"path":7}],42:[function(require,module,exports){
"use strict";var moduleName="ddWeb.onebox.businessItemList",path=require("path"),_=require("lodash"),moment=require("moment"),localLog=require("../../service/log/localLog"),bizItemListCtrl=function(e,i){this.tips="";var t=Number.MAX_SAFE_INTEGER,s=20,r=parseInt(this.openId),n=null;if("number"==typeof r){this.itemList=[],this.itemIds=[];var o=null,m=!1,l=!0;this.$onChanges=function(e){if(e.orgId&&e.orgId.currentValue){if(m=!0,n=parseInt(e.orgId.currentValue),"number"!=typeof n)return;this.getNew()}}.bind(this);var u="";this.getNew=function(){return"number"!=typeof r||"number"!=typeof n||l===!1?Promise.reject():i.getBusinessItems(r,n,t,s).then(function(r){if(r.body&&Array.isArray(r.body)){var n=r.body;if(n.forEach(function(e){if(!(this.itemIds.indexOf(e.id)>-1))if(this.itemIds.push(e.id),e.creatorType===i.CREATOR_TYPE.SYSTEM)this.tips=e.title;else if(e.creatorType===i.CREATOR_TYPE.NORMAL){var t=moment(e.createAt).format("MM/DD");t!==u&&(e.date=t,u=t),this.itemList.push(e)}}.bind(this)),this.itemList.length>0){var m=this.itemList[0];m.id!==o&&(i.readBusinessItem(parseInt(this.openId),m.orgId,m.id),o=m.id)}this.itemList.length>0&&(t=this.itemList[this.itemList.length-1].createAt),r.body.length<s&&(l=!1),e.$evalAsync()}}.bind(this)).catch(function(e){localLog.error("get business items error",e,JSON.stringify(e._originMsg))})}}};bizItemListCtrl.$inject=["$scope","oneboxService"],angular.module(moduleName,[require("./business-item"),require("../../service/onebox/onebox"),require("../../directive/infiniteScroll")]).component("businessItemList",{controller:bizItemListCtrl,template:'<div infinite-scroll infinite-scroll-bottom="$ctrl.getNew()" infinite-scroll-threshold="50" class="business-item-list">\n    <business-item business-item="businessItem" ng-repeat="businessItem in $ctrl.itemList track by businessItem.id"></business-item>\n    <div class="safe-tips">{{ $ctrl.tips }}</div>\n</div>',bindings:{orgId:"<",openId:"<"}}),module.exports=moduleName;

},{"../../directive/infiniteScroll":114,"../../service/log/localLog":421,"../../service/onebox/onebox":488,"./business-item":43,"lodash":919,"moment":923,"path":7}],43:[function(require,module,exports){
"use strict";var moduleName="ddWeb.onebox.businessItem",path=require("path"),moment=require("moment"),mediaId=require("@ali/ding-mediaid"),textFormat=require("../../service/textFormat/textFormat"),bizItemCtrl=function(t,e){this.id=this.businessItem.id,this.creatorType=this.businessItem.creatorType,this.time=moment(this.businessItem.createAt).format("HH:mm"),this.date=this.businessItem.date,this.businessItem.icon&&(this.icon=mediaId.mid2Url(this.businessItem.icon)),this.title=this.businessItem.title;var i=this.businessItem.titleFormat||[],s=i.map(function(t){var e=textFormat.formatFuncs.default;return t.bold&&(e=textFormat.formatFuncs.bold),{start:t.start,end:t.end,formatFunc:e}});this.formatedTitle=textFormat.format(this.title,s),this.content=this.businessItem.content,this.url=this.businessItem.pcUrl||null,this.onContentClick=function(t){t.preventDefault(),this.url&&e({url:this.url,title:this.title})}.bind(this)};bizItemCtrl.$inject=["$scope","openSlidePanelContainer"],angular.module(moduleName,[require("../../service/frameContainer/slidePanel")]).component("businessItem",{controller:bizItemCtrl,template:'<div class="onebox-business-item">\n    <div class="item-wrap" ng-if="$ctrl.date">\n        <div class="date">{{ $ctrl.date}}</div>\n        <div class="icon">\n        </div>\n    </div>\n    <div class="item-wrap">\n        <div class="time">{{ $ctrl.time}}</div>\n        <div class="icon">\n            <img ng-src="{{ $ctrl.icon }}" ng-if="$ctrl.icon" />\n            <span class="gray-ball" ng-if="!$ctrl.icon"></span>\n        </div>\n        <div class="content" ng-click="$ctrl.onContentClick($event)" ng-class="{clickable: $ctrl.url}">\n            <div class="content-area">\n                <h4 class="title" ng-bind-html="$ctrl.formatedTitle"></h4>\n                <div class="desc">{{ $ctrl.content }}</div>\n            </div>\n            <div ng-if="$ctrl.url" class="link-icon">\n                <i class="iconfont">&#xe65b;</i>\n            </div>\n        </div>\n    </div>\n</div>',bindings:{businessItem:"<"}}),module.exports=moduleName;

},{"../../service/frameContainer/slidePanel":388,"../../service/textFormat/textFormat":607,"@ali/ding-mediaid":716,"moment":923,"path":7}],44:[function(require,module,exports){
"use strict";var moduleName="ddWeb.onebox.miniprofile",path=require("path"),colorTrans=require("../../service/widget/colorTrans"),_=require("lodash"),miniProfileCtrl=function(e,r){this.$onChanges=function(e){e.profileData&&e.profileData.currentValue&&Array.isArray(e.profileData.currentValue.tags)&&(this.tags=e.profileData.currentValue.tags.map(function(e){return{text:e.text,color:colorTrans.transFromARGB(e.color)}}))}.bind(this),r.getUsers([this.openId]).then(function(r){1===r.length&&(this.nickName=_.get(r[0],"userProfileModel.nick"),e.$evalAsync())}.bind(this))};miniProfileCtrl.$inject=["$scope","userManager"],angular.module(moduleName,[require("../../directive/avatar/userAvatar"),require("../../service/user/userManager")]).component("miniProfile",{controller:miniProfileCtrl,template:'<div class="mini-profile">\n    <div class="avatar-wrapper">\n        <user-avatar class="big-64" uid="{{ $ctrl.openId }}"></user-avatar>\n    </div>\n    <div class="info">\n        <dl>\n            <dt>{{ $ctrl.nickName }}</dt>\n            <dd>{{ $ctrl.profileData.identity }}</dd>\n            <dd><em ng-repeat="tag in $ctrl.tags" ng-style="{\'color\': tag.color}" class="tag">{{ tag.text }}</em></dd>\n        </dl>\n    </div>\n</div>',bindings:{profileData:"<",openId:"<"}}),module.exports=moduleName;

},{"../../directive/avatar/userAvatar":55,"../../service/user/userManager":641,"../../service/widget/colorTrans":658,"lodash":919,"path":7}],45:[function(require,module,exports){
"use strict";var moduleName="ddWeb.onebox.workItemList",path=require("path"),localLog=require("../../service/log/localLog"),DEFAULT_COUNT=5,workItemListCtrl=function(t,e,r){var i=null,s=null,o=[];s=parseInt(this.openId),i=parseInt(this.orgId);var n=Number.MAX_SAFE_INTEGER;this.workItemList=[],this.workItemIds=[],this.requestFinish=!1,this.text={},this.text.emptyTitle=r.instant("dt_no_work_agent"),this.userName&&!this.isOaConv?this.text.emptyDesc=r.instant("dt_work_agent_empty_tips_AT",{value1:this.userName}):this.isOaConv&&this.orgName?this.text.emptyDesc=r.instant("dt_work_agent_empty_tips_for_ov_conv",{value1:this.orgName}):this.text.emptyDesc="";var l=function(t){var e=t.filter(function(t){return this.workItemIds.indexOf(t.id)===-1}.bind(this)),r=e.map(function(t){return t.id});this.workItemList=this.workItemList.concat(e),this.workItemIds=this.workItemIds.concat(r),this.workItemList.length>0&&(n=this.workItemList[this.workItemList.length-1].createAt)}.bind(this),a=!0;if(this.getNew=function(){var r=null;if(a===!1)return Promise.reject();if(this.isOaConv){if("number"!=typeof i)return localLog.error("orgid is",i,"get all work items error"),Promise.reject();r=e.getAllWorkItems(i,n,DEFAULT_COUNT)}else{if("number"!=typeof s||!Array.isArray(o))return localLog.error("openid is",s,"colleagueOrgIds is",o,"get work items error"),Promise.reject();r=e.getWorkItemsBatch(s,o,n,DEFAULT_COUNT)}return r.then(function(e){e.body&&Array.isArray(e.body)?(l(e.body),e.body.length<DEFAULT_COUNT&&(a=!1)):a=!1,this.requestFinish=!0,t.$evalAsync()}.bind(this)).catch(function(e){this.requestFinish=!0,t.$evalAsync(),localLog.error("geta ll work items error",e,JSON.stringify(e._originMsg))}.bind(this))}.bind(this),this.isOaConv)this.getNew();else{var c=!1;this.$onChanges=function(t){t.colleagueOrgIds&&t.colleagueOrgIds.currentValue&&Array.isArray(t.colleagueOrgIds.currentValue)&&(c=!0,o=t.colleagueOrgIds.currentValue,this.getNew())}.bind(this)}};workItemListCtrl.$inject=["$scope","oneboxService","$translate"],angular.module(moduleName,[require("./work-item"),require("../../service/onebox/onebox"),require("../../directive/infiniteScroll")]).component("workItemList",{controller:workItemListCtrl,template:'<div class="onebox-work-item-list" infinite-scroll infinite-scroll-bottom="$ctrl.getNew()" infinite-scroll-threshold="50" >\n    <work-item work-item="workItem" ng-repeat="workItem in $ctrl.workItemList track by workItem.id"></work-item>\n    <div class="empty-result" ng-if="$ctrl.workItemList.length === 0 && $ctrl.requestFinish">\n        <i class="iconfont icon-good"></i>\n        <dl>\n            <dt>{{ $ctrl.text.emptyTitle }}</dt>\n            <dd>{{ $ctrl.text.emptyDesc }}</dd>\n        </dl>\n    </div>\n</div>',bindings:{openId:"<",orgId:"<",colleagueOrgIds:"<",orgName:"<",userName:"<",isOaConv:"<"}}),module.exports=moduleName;

},{"../../directive/infiniteScroll":114,"../../service/log/localLog":421,"../../service/onebox/onebox":488,"./work-item":46,"path":7}],46:[function(require,module,exports){
"use strict";var moduleName="ddWeb.onebox.workItem",path=require("path"),mediaId=require("@ali/ding-mediaid"),localLog=require("../../service/log/localLog"),_=require("lodash"),colorTrans=require("../../service/widget/colorTrans"),workItemCtrl=function(t,i,o,n,r){var e={CLICKABLE:1,UNCLICKABLE:0};this.url=null;var c=function(t){this.actions=t.map(function(t){var i={};return i.borderColor=colorTrans.transFromARGB(t.frameColor),i.color=colorTrans.transFromARGB(t.textColor),i.bgColor=colorTrans.transFromARGB(t.backgroundColor),i.id=t.id,i.text=t.text,i.action=t.action,i.clickable=t.status===e.CLICKABLE,i})}.bind(this);this.isDoingAction=!1,this.$onChanges=function(t){if(t.workItem){var o=t.workItem.currentValue;this.icon=mediaId.mid2Url(o.icon),this.url=o.pcUrl,this.dateTime=i("dateTime")(o.createAt),c(o.actions)}}.bind(this),this.onClick=function(){this.url&&r({url:this.url,title:_.get(this.workItem,"title")})}.bind(this),this.doAction=function(i,r){r.preventDefault(),r.stopPropagation();var i=_.find(this.workItem.actions,function(t){return t.action===i});if(i){if(i.status!==e.CLICKABLE)return;this.isDoingAction=!0,o.doAction(i).result.then(function(i){this.isDoingAction=!1,i.body&&c(i.body),t.$evalAsync()}.bind(this)).catch(function(o){this.isDoingAction=!1,localLog.error("doaction error",JSON.stringify(i),o),n.show(o.message,{type:"error"}),t.$evalAsync()}.bind(this))}else localLog.error("find action error",id)}.bind(this)};workItemCtrl.$inject=["$scope","$filter","IDLOnebox","toastService","openSlidePanelContainer"],angular.module(moduleName,[require("@ali/ding-api").interface.IDLOnebox,require("../../service/toast/toast"),require("../../service/frameContainer/slidePanel")]).component("workItem",{controller:workItemCtrl,template:'<div class="onebox-work-item" ng-click="$ctrl.onClick($event)" ng-class="{clickable: $ctrl.url}">\n    <div class="title">\n        <div class="icon"><img ng-src="{{ $ctrl.icon }}" /></div>\n        <div class="text">{{ $ctrl.workItem.title }}</div>\n    </div>\n    <div class="content">\n        <dl ng-repeat="formItem in $ctrl.workItem.contents">\n            <dt>{{ formItem.title }}:</dt><dd>{{ formItem.content }}</dd>\n        </dl>\n    </div>\n    <div class="footer">\n        <div class="time">{{:: $ctrl.dateTime }}</div>\n        <div ng-if="!$ctrl.isDoingAction" class="actions">\n            <div ng-repeat="action in $ctrl.actions" class="action">\n                <button ng-class="{clickable: action.clickable}" ng-click="$ctrl.doAction(action.action, $event)" ng-style="{color:action.color, \'background-color\': action.bgColor, \'border-color\': action.borderColor }">{{ action.text }}</button>\n            </div>\n        </div>\n        <div ng-if="$ctrl.isDoingAction" class="actions">\n            <span>处理中...</span>\n        </div>\n    </div>\n</div>',bindings:{workItem:"<"}}),module.exports=moduleName;

},{"../../service/frameContainer/slidePanel":388,"../../service/log/localLog":421,"../../service/toast/toast":611,"../../service/widget/colorTrans":658,"@ali/ding-api":711,"@ali/ding-mediaid":716,"lodash":919,"path":7}],47:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.user.userDingTitle",dingTitlesEnum=require("../../service/user/dingtitlesEnum.js"),userDingTitleCtrl=function(t){this.dingTitleTypes=dingTitlesEnum.dingTitleTypes,this.dtRankTitles=dingTitlesEnum.dtRankTitles,this.dtRankLevels=dingTitlesEnum.dtRankLevels};userDingTitleCtrl.$inject=["$scope"],angular.module(moduleName,[]).component("userDingTitle",{controller:userDingTitleCtrl,template:"<div class=\"item dt\" ng-if=\"$ctrl.dingTitle.type === $ctrl.dingTitleTypes.DT\"\n     ng-class=\"{'dt-v1':$ctrl.dingTitle.rank === $ctrl.dtRankTitles.DT_V1,\n               'dt-v2':$ctrl.dingTitle.rank === $ctrl.dtRankTitles.DT_V2,\n               'dt-v3':$ctrl.dingTitle.rank === $ctrl.dtRankTitles.DT_v3,\n               'dt-v4':$ctrl.dingTitle.rank === $ctrl.dtRankTitles.DT_v4,\n               'dt-v5':$ctrl.dingTitle.rank === $ctrl.dtRankTitles.DT_v5}\" ></div>\n<div class=\"item deploy\" ng-if=\"$ctrl.dingTitle.type === $ctrl.dingTitleTypes.DEPLOY\" ></div>\n<div class=\"item dd-rank\" ng-if=\"$ctrl.dingTitle.type === $ctrl.dingTitleTypes.DD_RANK\"\n    ng-class=\"{'rank-1':$ctrl.dingTitle.rank === $ctrl.dtRankLevels.LEVEL_1,\n                'rank-2':$ctrl.dingTitle.rank === $ctrl.dtRankLevels.LEVEL_2,\n                'rank-3':$ctrl.dingTitle.rank === $ctrl.dtRankLevels.LEVEL_3,\n                'rank-4':$ctrl.dingTitle.rank === $ctrl.dtRankLevels.LEVEL_4,\n                'rank-5':$ctrl.dingTitle.rank === $ctrl.dtRankLevels.LEVEL_5}\"></div>\n<div class=\"item dt-xiaoer\" ng-if=\"$ctrl.dingTitle.type === $ctrl.dingTitleTypes.DT_XIAOER\"></div>\n",bindings:{dingTitle:"<"}}),module.exports=moduleName;

},{"../../service/user/dingtitlesEnum.js":634,"path":7}],48:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.user.userDingTitleList",userDingTitleCtrl=function(i,e){function t(){i.$evalAsync(function(){})}this.showMain=void 0!==this.justShowMain,this.uid=parseInt(this.uid),isNaN(this.uid)||e.getUsers([this.uid]).then(function(i){i&&i[0]&&(this.user=i[0]),t()}.bind(this))};userDingTitleCtrl.$inject=["$scope","userManager"],angular.module(moduleName,[require("../../service/user/userManager.js"),require("./userDingTitle.js")]).component("userDingTitleList",{controller:userDingTitleCtrl,template:'<user-ding-title ding-title="dingTitle" ng-if="!$ctrl.showMain && $ctrl.user" ng-repeat="dingTitle in $ctrl.user.dingTitles" class="user-ding-title"></user-ding-title>\n<user-ding-title ding-title="$ctrl.user.mainDingTitle" ng-if="$ctrl.showMain && $ctrl.user.mainDingTitle" class="user-ding-title"></user-ding-title>\n',bindings:{uid:"@",justShowMain:"@"}}),module.exports=moduleName;

},{"../../service/user/userManager.js":641,"./userDingTitle.js":47,"path":7}],49:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.user.userName",localLog=require("../../service/log/localLog"),userNameCtrl=function(e,t,s,r){var n,i=this;this.displayName="";var a=r.getConvObj(this.cid),o=function(){n.getName(i.cid,i.scene,{oid:a.orgId}).then(function(s){i.displayName=t("emoj")(s),e.$evalAsync()})};s.getUsers([this.uid]).then(function(t){e.$$destroyed!==!0&&(t&&t[0]?(n=t[0],o(),n.addListener(n.EventsName.ALIAS_UPDATE,o),n.addListener(n.EventsName.PROFILE_UPDATE,o),n.addListener(n.EventsName.GROUP_NICK_UPDATE+this.cid,o)):localLog.error("get users failed",this.uid))}.bind(this)),this.$onDestroy=function(){n&&n.EventsName&&n.removeListener(n.EventsName.ALIAS_UPDATE,o),n&&n.EventsName&&n.removeListener(n.EventsName.PROFILE_UPDATE,o),n&&n.EventsName&&n.removeListener(n.EventsName.GROUP_NICK_UPDATE+this.cid,o)}};userNameCtrl.$inject=["$scope","$filter","userManager","conversationWithSDK"],angular.module(moduleName,[require("../../service/user/userManager"),require("../../service/conversation/conversationWithSDK")]).component("userName",{controller:userNameCtrl,template:'<span ng-bind-html="$ctrl.displayName" ></span>\n',bindings:{cid:"<",uid:"<",scene:"<",option:"<"}}),module.exports=moduleName;

},{"../../service/conversation/conversationWithSDK":308,"../../service/log/localLog":421,"../../service/user/userManager":641,"path":7}],50:[function(require,module,exports){
"use strict";var path=require("path"),moduleName=module.exports="ddWeb.arch.organizationList",$my=require("../../service/user/my"),mediaIdFactory=require("@ali/ding-mediaid"),_=require("lodash"),orgContactAppIds=require("../../service/org/orgContactAppIds"),actionTypes=require("../../service/contact/externalContact/actionTypes.js");require("../../service/tool/multiOrgTool");var appListWhiteList=require("../../service/microApp/appListWhiteList"),microAppLocationScene=require("../../service/microApp/microAppLocationScene"),uriResolve=require("../../service/uriResolve/resolve"),sourceTypes=require("../../service/contact/externalContact/sourceType.js"),userHelper=require("../../service/user/userHelper");angular.module(moduleName,["ddWeb.service.multiOrgTool",require("../../service/user/userManager"),require("../../service/org/orgStateManager"),require("../../service/microApp/microAppData"),require("../../service/contact/externalContact/dispatcher.js"),require("../../service/log/lwlog.js")]).directive("organizationList",["multiOrgTool","userManager","$state","orgStateManager","microAppData","externalContactDispatcher","$translate","lwlog",function(t,e,o,n,i,a,r,c){return{restrict:"AE",replace:!0,scope:{},controller:["$scope",function(s){function g(){try{s.$digest()}catch(t){}}function p(){L.isLoading=!0,e.getUserWithExt($my.getId()).then(function(t){t&&(L.user=t,L.isLoading=!1,L.orgEmployees=l(L.user.orgEmployees),d(),m()),g()})}function l(t){var e=_.cloneDeep(t);return e&&e.length>0&&e.forEach(function(t){var e=_.get(t,"orgDetail.logoMediaId");e&&0===e.indexOf("@")&&(t.orgDetail.logoMediaId=mediaIdFactory.mid2Url(e,{imageSize:"thumb"}))}),e}function d(){L.orgEmployees.forEach(function(t){t.isExpand=void 0===n.orgExpandState[t.orgDetail.orgId]||n.orgExpandState[t.orgDetail.orgId]}),g()}function m(){L.orgEmployees.forEach(function(t){i.getDataByOrgId(t.orgDetail.orgId).then(function(t){return t.oa_app&&"object"==typeof t.oa_app?Promise.resolve(Object.keys(t.oa_app).map(function(e){return t.oa_app[e]})):Promise.resolve([])}).then(function(t){return i.filterAppByLocationScene(t,microAppLocationScene.CRMV2)}).then(function(e){t.contactApps=e,t.isShowContactApps=e.filter(function(t){return t.appId!==orgContactAppIds.EXTERNAL_CONTACT}).length>0,g()})})}function u(t){n.toggleOrgExpandState(t)}function I(e,i,a){var r=userHelper.getOrgByOid(L.user,e);t.setCurrentOrgData({orgName:r.orgDetail.orgName,oid:r.orgDetail.orgId});var c={orgId:e,deptId:i,uid:$my.getId(),staffId:null,externalContact:a};n.changeOrgState(c),"authorized.contact.arch"!==o.current.name&&o.go("authorized.contact.arch"),L.appId=null}function A(){o.go("authorized.contact.clients")}function h(t){c.commLog("contact_exter_enter_click",""),I(t),a.dispatch({orgId:t,source:sourceTypes.CONTACT,type:actionTypes.CHANGE_ORG}),o.go("authorized.contact.externalContact")}function C(){return"authorized.contact.externalContact"===o.current.name}function E(t,e,o){switch(e){case orgContactAppIds.EXTERNAL_CONTACT:I(t,"-1",{name:o});break;case orgContactAppIds.CLIENTS_CONTACT:I(t,"-1"),A()}L.appId=e}var L=this;this.appId=null,this.isShowContactApps=!1,this.text={pc_contact_company_organization_structure:r.instant("pc_contact_company_organization_structure"),pc_contact_company_external_contact:r.instant("pc_contact_company_external_contact")},this.defaultArchIcon=uriResolve.assetsResolve("app/img/icons/arch.png"),this.orgState=n.orgState,n.on(n.EventsName.ORG_STATE_CHANGE,g),n.on(n.EventsName.ORG_EXPAND_STATE_CHANGE,d),p(),L.changeOrg=I,L.changeExpandState=u,L.changeContactApp=E,L.orgContactAppIds=orgContactAppIds,L.goToExternalContact=h,L.isInExternalContact=C,s.$on("$destroy",function(){n.removeListener(n.EventsName.ORG_STATE_CHANGE,g),n.removeListener(n.EventsName.ORG_EXPAND_STATE_CHANGE,d)})}],controllerAs:"organizationList",link:function(t,e,o){},template:'<div ng-class="{\'is-loading-state\':organizationList.isLoading}">\n    <loading ng-if="organizationList.isLoading"></loading>\n    <ul class="list-with-icon-and-title">\n        <li class="list-item my-org-list-item"\n            ng-class="{\'expand\':orgItem.isExpand}"\n            ng-repeat="orgItem in organizationList.orgEmployees">\n            <div class="item-wrapper"\n                 ng-class="{\'active\':organizationList.orgState.orgId === orgItem.orgDetail.orgId}"\n                 ng-click="organizationList.changeExpandState(orgItem.orgDetail.orgId)">\n                <img class="item-org-icon" ng-if="!orgItem.orgDetail.logoMediaId" ng-src="{{organizationList.defaultArchIcon}}"/>\n                <img class="item-org-icon" ng-if="orgItem.orgDetail.logoMediaId" img-error-log ng-src="{{ orgItem.orgDetail.logoMediaId }}" />\n                <span class="item-title org-name" htitle-direction="top" htitle="{{orgItem.orgDetail.orgName}}">{{orgItem.orgDetail.orgName}}</span>\n                <i class="iconfont expand-icon" ng-if="orgItem.isExpand">&#xe682;</i>\n                <i class="iconfont expand-icon" ng-if="!orgItem.isExpand">&#xe683;</i>\n            </div>\n            <div class="org-item-detail" ng-if="orgItem.isExpand">\n                <ul class="list-with-icon-and-title sub-items sub-org-lists">\n                    <li class="list-item sub-list-item sub-org-item">\n                        <p class="dept-name"\n                           ng-class="{\'active\':organizationList.orgState.orgId == orgItem.orgDetail.orgId && organizationList.orgState.deptId === \'-1\' && !organizationList.appId}"\n                           ng-click="organizationList.changeOrg(orgItem.orgDetail.orgId,\'-1\')">{{::organizationList.text.pc_contact_company_organization_structure}}</p>\n                    </li>\n                    <li class="list-item sub-list-item sub-org-item"\n                    ng-repeat="orgSubItem in orgItem.orgEmployeeModel.depts">\n                        <p class="dept-name"\n                           htitle-direction="top"\n                           htitle="{{orgSubItem.deptName}}"\n                           ng-click="organizationList.changeOrg(orgItem.orgDetail.orgId,orgItem.orgNodeItemList[$index].deptId)"\n                           ng-class="{\'active\':organizationList.orgState.orgId == orgItem.orgDetail.orgId && organizationList.orgState.deptId == orgItem.orgNodeItemList[$index].deptId}"\n                            >{{orgSubItem.deptName}}</p>\n                    </li>\n                    <li class="llist-item sub-list-item sub-org-item">\n                        <p class="dept-name ext-contact-dept-name"\n                            ng-class="{\'active\':organizationList.isInExternalContact() && organizationList.orgState.orgId == orgItem.orgDetail.orgId}"\n                            ng-click="organizationList.goToExternalContact(orgItem.orgDetail.orgId)"\n                            ng-if="!orgItem.orgDetail.organizationSettingsModel.closeExtContact"\n                        >\n                            <i class="iconfont">&#xe6e9;</i>{{::organizationList.text.pc_contact_company_external_contact}}\n                        </p>\n                    </li>\n                </ul>\n                <ul class="list-with-icon-and-title sub-items sub-org-lists org-more-list" ng-if="orgItem.isShowContactApps">\n                    <li class="list-item sub-list-item sub-org-item"\n                        ng-repeat="contactApp in orgItem.contactApps"\n                        ng-click="organizationList.changeContactApp(orgItem.orgDetail.orgId,contactApp.appId,contactApp.name)"\n                        ng-if="contactApp.appId !== organizationList.orgContactAppIds.EXTERNAL_CONTACT"\n                        >\n                        <p class="dept-name"\n                           ng-class="{\'active\': organizationList.appId === contactApp.appId && organizationList.orgState.orgId == orgItem.orgDetail.orgId}"\n                            >\n                            <span ng-if="organizationList.orgContactAppIds.CLIENTS_CONTACT === contactApp.appId">客户管理</span>\n                            <span ng-if="organizationList.orgContactAppIds.CLIENTS_CONTACT !== contactApp.appId">{{contactApp.name}}</span>\n                        </p>\n                    </li>\n                </ul>\n            </div>\n        </li>\n    </ul>\n</div>\n'}}]);

},{"../../service/contact/externalContact/actionTypes.js":281,"../../service/contact/externalContact/dispatcher.js":282,"../../service/contact/externalContact/sourceType.js":289,"../../service/log/lwlog.js":424,"../../service/microApp/appListWhiteList":435,"../../service/microApp/microAppData":437,"../../service/microApp/microAppLocationScene":438,"../../service/org/orgContactAppIds":540,"../../service/org/orgStateManager":541,"../../service/tool/multiOrgTool":614,"../../service/uriResolve/resolve":628,"../../service/user/my":635,"../../service/user/userHelper":640,"../../service/user/userManager":641,"@ali/ding-mediaid":716,"lodash":919,"path":7}],51:[function(require,module,exports){
"use strict";var moduleName="ddWeb.avatar.groupAvatar",path=require("path"),my=require("../../service/user/my"),localLog=require("../../service/log/localLog"),wksdk=require("@ali/wksdk"),IconOptionType=wksdk.iconOptionModelType,uriResolve=require("../../service/uriResolve/resolve");angular.module(moduleName,[require("./userAvatar"),require("./groupLogoAvatar"),require("./staticUserAvatar"),require("../../service/conversation/conversationWithSDK")]).directive("groupAvatar",["conversationWithSDK",function(e){return{restrict:"AE",replace:!0,scope:{cid:"@"},template:'<div class="group-avatar">\n    <user-avatar class="normal" ng-if="isSingleChat" uid="{{ oppositedUid }}"></user-avatar>\n    <group-logo-avatar ng-if="isGroupIcon" class="normal" media-id="{{ groupIcon }}"></group-logo-avatar>\n</div>',link:function(o,i,n){var t=o.cid;if(t){var a=e.getConvObj(t);a.isSingleChat||a.baseConversation.iconOption&&"undefined"!=typeof a.baseConversation.iconOption.type||a.getIconOption(),o.isSingleChat=!1,o.isGroupIcon=!1,o.groupIcon=null,o.oppositedUid=null,o.mediaId=null;var r=function(e){var o=uriResolve.assetsResolve("app/img/default_group_avatar.png");if(e.baseConversation&&e.baseConversation.iconOption&&"undefined"!=typeof e.baseConversation.iconOption.type){var i=e.baseConversation.iconOption,n=i.type;if(n===IconOptionType.AUTO)i.automaticIcon&&i.automaticIcon.automaticIconMediaId?o=i.automaticIcon.automaticIconMediaId:localLog.error("icontype is auto, but no automaticIconMediaId",t);else if(n===IconOptionType.CUSTOM)i.customIcon&&i.customIcon.customIconMediaId?o=i.customIcon.customIconMediaId:localLog.error("icontype is custom but no customIconMediaId",t);else if(n===IconOptionType.ORG)if(e.baseConversation.extension){var a=e.baseConversation.extension.id||e.baseConversation.extension.orgId;if(a){var r=my.getOrgByOid(a);r&&r.orgDetail?o=r.orgDetail.logoMediaId:localLog.error("icon type is ORG ,but cannot find org data",t)}else localLog.error("icon type is ORG ,but cannot find cid from extension",t)}else localLog.error("icon type is ORG ,but no baseconversation extension",t)}if(e.baseConversation&&e.baseConversation.extension&&e.baseConversation.extension.use_enterprise_icon&&e.baseConversation.extension.use_enterprise_icon+""=="1"){var a=e.baseConversation.extension.id||e.baseConversation.extension.orgId;if(a){var r=my.getOrgByOid(a);r&&r.orgDetail&&(o=r.orgDetail.logoMediaId)}}else e.baseConversation&&e.baseConversation.extension&&e.baseConversation.extension.icon&&(o=e.baseConversation.extension.icon);return o},s=function(){a.isSingleChat?(o.isSingleChat=!0,o.isGroupIcon=!1,o.oppositedUid=a.oppositeUid):(o.isSingleChat=!1,o.groupIcon=r(a),o.isGroupIcon=!0),o.$evalAsync()}.bind(this);a&&(a.EventEmitter.addListener(a.EVENTS.UPDATE_BASE_CONV,s),s(),o.$on("$destroy",function(){a.EventEmitter.removeListener(a.EVENTS.UPDATE_BASE_CONV,s)}))}}}}]),module.exports=moduleName;

},{"../../service/conversation/conversationWithSDK":308,"../../service/log/localLog":421,"../../service/uriResolve/resolve":628,"../../service/user/my":635,"./groupLogoAvatar":52,"./staticUserAvatar":54,"./userAvatar":55,"@ali/wksdk":779,"path":7}],52:[function(require,module,exports){
"use strict";var moduleName="ddWeb.avatar.groupLogoAvatar",path=require("path"),mediaIdDocoder=require("@ali/ding-mediaid");angular.module(moduleName,[]).directive("groupLogoAvatar",[function(){return{restrict:"AE",replace:!0,scope:{mediaId:"@"},template:'<div class="group-logo-avatar"></div>',link:function(e,a,r){var d=a[0];e.$watch("mediaId",function(e){try{if(0!==e.indexOf("@"))var e=mediaIdDocoder.url2Mid(e);var a=mediaIdDocoder.mid2Url(e,{imageSize:"thumb"})}catch(a){var a=e}d.style.backgroundImage="url('"+a+"')"})}}}]),module.exports=moduleName;

},{"@ali/ding-mediaid":716,"path":7}],53:[function(require,module,exports){
"use strict";var moduleName="ddWeb.avatar.openProfile",path=require("path");angular.module(moduleName,[require("../../service/user/userManager"),require("../../service/modal/profileModal"),require("../../service/user/UserType")]).directive("openProfile",["userManager","profileModalService","$filter","UserType",function(e,r,i,a){return{restrict:"A",link:function(i,a,u){var o=parseInt(u.uid);isNaN(o)||a.on("click",function(){e.getUsers([o]).then(function(e){if(e&&e[0]){e[0];r(o)}})})}}}]),module.exports=moduleName;

},{"../../service/modal/profileModal":466,"../../service/user/UserType":632,"../../service/user/userManager":641,"path":7}],54:[function(require,module,exports){
"use strict";var moduleName="ddWeb.avatar.staticUserAvatar",path=require("path"),mediaIdDocoder=require("@ali/ding-mediaid");angular.module(moduleName,[require("../../service/widget/avatar")]).directive("staticUserAvatar",["$filter","avatarService",function(e,a){return{restrict:"AE",replace:!0,scope:{mediaId:"@",name:"@",onClickAvatar:"&"},template:'<div class="user-avatar"></div>\n',link:function(r,i,t){var d=i[0],n=function(){if(r.mediaId){var i=r.mediaId;try{0!==i.indexOf("@")&&(i=mediaIdDocoder.url2Mid(i));var t=mediaIdDocoder.mid2Url(i,{imageSize:"thumb"})}catch(e){var t=i}d.style.backgroundImage="url('"+t+"')",d.innerHTML=""}else if(r.name){var n=a.getShowName(r.name),c=a.getColor(n);d.innerHTML='<div class="avatar-text">'+e("emoj")(n)+"</div>",d.style.backgroundImage="",d.style.backgroundColor=c}},c=function(){r.onClickAvatar&&r.onClickAvatar({})};d.addEventListener("click",c),r.$watch("mediaId",function(e){n()}),r.$watch("name",function(e){n()}),r.$on("$destroy",function(){d.removeEventListener("click",c)})}}}]),module.exports=moduleName;

},{"../../service/widget/avatar":656,"@ali/ding-mediaid":716,"path":7}],55:[function(require,module,exports){
"use strict";var moduleName="ddWeb.avatar.userAvatar",path=require("path");angular.module(moduleName,[require("../../service/user/userManager"),require("../../service/widget/avatar")]).directive("userAvatar",["userManager","avatarService","$filter",function(e,r,a){return{restrict:"AE",replace:!0,scope:{uid:"@",onClickAvatar:"&"},template:'<div class="user-avatar"></div>',link:function(t,i,n){var o=i[0],s=parseInt(t.uid),l=null;if(!isNaN(s)){var u=function(){if(l&&l.userProfileModel&&l.userProfileModel.avatarUrl)o.style.backgroundImage="url('"+l.userProfileModel.avatarUrl+"')",o.innerHTML="";else{var e=l.userProfileModel.nick,t=l.userProfileModel.name,i=r.getShowName(e,t),n=r.getColor(i);o.innerHTML='<div class="avatar-text">'+a("emoj")(i)+"</div>",o.style.backgroundImage="",o.style.backgroundColor=n}};e.getUsers([s]).then(function(e){e&&e[0]&&t.$$destroyed!==!0&&(l=e[0],u(),l.addListener(l.EventsName.PROFILE_UPDATE,u))});var v=function(){t.onClickAvatar&&t.onClickAvatar({})};o.addEventListener("click",v),t.$on("$destroy",function(){l&&l.EventsName&&l.removeListener(l.EventsName.PROFILE_UPDATE,u),o.removeEventListener("click",v)})}}}}]),module.exports=moduleName;

},{"../../service/user/userManager":641,"../../service/widget/avatar":656,"path":7}],56:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.chatBoxNew",path=require("path"),_=require("lodash"),fileTypes=require("@ali/ding-filetypes"),ConvType=require("../../service/conversation/ConvType"),localLog=require("../../service/log/localLog"),nwWindow=require("../../service/app/nwWindow"),WKErrorCode=require("@ali/wksdk").errorCode,MsgType=require("@ali/wksdk").messageType,watermarkLocation=require("../../service/watermark/watermarkLocation"),SCROLL_STATUS={KEEP_BOTTOM:0,KEEP_POSITION_RELATIVE_TO_TOP:1,KEEP_POSITION_RELATIVE_TO_BOTTOM:2},VIEW_MODE={NORMAL:0,SEARCH_FOCUSING:1,SEARCH_FOCUSED:2},BOTTOM_MAX_DISTANCE=50,TOP_MAX_DISTANCE=50,EVENTS=require("../../service/events");angular.module(moduleName,[require("./msgBox"),require("./imgPreview"),require("../watermark")]).directive("chatBoxNew",["$rootScope",function(e){return{restrict:"AE",replace:!0,scope:{conv:"=conv",searchMessageId:"=searchMessageId",searchKeyword:"=searchKeyword"},link:function(n,o){function s(){"visible"===nwWindow.visibilityState?(h(),r.messages.length>0&&r.messages[r.messages.length-1].updateToView(),r.setUIVisibleStatus(!0)):r.setUIVisibleStatus(!1)}function t(e,n){var s=null,t=null,i=!1,a=o.find(".chat-item");localLog.info("updateReadStatus:","top:"+e,"bottom"+n);for(var l=a.length-1;l>=0;l--)if(a[l]&&a[l].offsetTop){var c=a[l].offsetTop;if(i===!1&&c<=n){t=a[l].getAttribute("msg-id"),s=t,i=!0;continue}if(i===!0){if(c<e)break;s=a[l].getAttribute("msg-id")}}localLog.info("updateReadStatus:","topId:"+s,"bottomId:"+t),r.updateToRead(s,t)}function i(n){r.sendSpaceFileMsg(n),e.$broadcast(EVENTS.SENDMSG_SCROLLTOBOTTOM)}function a(n){r.sendImgMsg(n),e.$broadcast(EVENTS.SENDMSG_SCROLLTOBOTTOM)}var r=n.conv,l=r.isSingleChat,c=r.isCompanyGroup,d=r.isSafetySingle,T=void 0;n.watermarkLocation=watermarkLocation,(c||d)&&r.baseConversation.extension&&r.baseConversation.extension.id&&(T=r.baseConversation.extension.id),n.orgId=T,n.hasNewMsg=!1;var g=o[0].querySelector(".main-chat"),u=o.find(".main-chat"),E=parseInt(n.searchMessageId),S=n.searchKeyword;E&&r.search(E);var m=(SCROLL_STATUS.KEEP_BOTTOM,0),v=VIEW_MODE.NORMAL,O=9999999,f=-9999999,p=_.debounce(function(){var e=g.scrollHeight-g.scrollTop-g.clientHeight;if(e<BOTTOM_MAX_DISTANCE&&(v===VIEW_MODE.SEARCH_FOCUSED&&(r.clearSearchResult(),v=VIEW_MODE.NORMAL,S=null,E=null,localLog.info("clear search result",r.convId)),n.hasNewMsg===!0)){n.hasNewMsg=!1;try{n.$digest()}catch(e){}}},130),I=null,h=function(e){var n=g.scrollTop,o=g.clientHeight;O=O<n?O:n,f=f>n?f:n,p(),clearTimeout(I),I=setTimeout(function(){t(O,f+o),O=9999999,f=-9999999},300)};nwWindow.addListener(nwWindow.EventsName.VISIBILITY_CHANGE,s);var L=null,M=null,A=function(e,o){e.stopPropagation&&e.stopPropagation(),window.cancelAnimationFrame(L);var s=g.scrollHeight,t=g.clientHeight,i=s-g.scrollTop-t;null===M&&(i<BOTTOM_MAX_DISTANCE?M=SCROLL_STATUS.KEEP_BOTTOM:g.scrollTop<TOP_MAX_DISTANCE?(M=SCROLL_STATUS.KEEP_POSITION_RELATIVE_TO_BOTTOM,m=i):M=SCROLL_STATUS.KEEP_POSITION_RELATIVE_TO_TOP),s===t&&o.mid&&r.updateToRead(o.mid,o.mid),L=window.requestAnimationFrame(function(){M===SCROLL_STATUS.KEEP_BOTTOM?N():M===SCROLL_STATUS.KEEP_POSITION_RELATIVE_TO_BOTTOM&&y(),M!==SCROLL_STATUS.KEEP_BOTTOM&&B===!0&&(n.hasNewMsg=!0,n.$evalAsync(function(){})),B=!1,M=null})},C=function(e){setTimeout(function(){var n=e.target,o=n.offsetTop,s=n.getBoundingClientRect(),t=g.clientHeight,i=o-t/2+s.height/2;i>o&&(i=o),i<0&&(i=0),g.scrollTop=i,v=VIEW_MODE.SEARCH_FOCUSED},10)},w=n.$on(EVENTS.CHAT_BUBBLE_SIZE_CHANGE,A);g.addEventListener("scroll",h),g.addEventListener("msgRequestFocus",C);var N=function(){g.scrollTop=g.scrollHeight+1e3,n.hasNewMsg=!1};n.scrollToBottom=N,n.$on(EVENTS.SENDMSG_SCROLLTOBOTTOM,function(e){N()});var y=function(){g.scrollTop=g.scrollHeight-g.clientHeight-m},R=n.conv.baseConversation.tag===ConvType.FILEHELPER,b=n.conv.baseConversation.tag===ConvType.SECRETARY,B=!1,P=function(){var e=0,o=[],s={};Array.isArray(n.msgInfoList)&&n.msgInfoList.forEach(function(e){s[e.msg._localId]=e});for(var t=0;t<r.messages.length;t++){var i=r.messages[t],a=!1,d=i.baseMessage.createdAt,g=d-e>6e5?d:null;if(e=d,i.baseMessage.type===MsgType.GAP)break;var u=null;if(E){v=VIEW_MODE.SEARCH_FOCUSING;try{var m=i.getMessageId();m===E&&(a=!0)}catch(e){}}a&&(u=S),s[i._localId]?(s[i._localId].time=g,o.push(s[i._localId])):(o.push({msg:i,type:_.get(i,"baseMessage.content.contentType"),position:!i.isMySend(),isSingleChat:l,isCompanyGroup:c,isFocused:a,isSpecialConv:R||b,highlightKeyword:u,orgId:T,isOAConv:r.isOAConv,uid:i.getSenderOpenId(),mid:i.getId(),time:g,isSuperGroup:r.baseConversation.superGroup,isGroupShowRealName:r.isGroupShowRealName}),t!==r.messages.length-1||i.isMySend()||(B=!0))}r.messages.length>0&&"visible"===nwWindow.visibilityState&&r.messages[r.messages.length-1].updateToView(),n.msgInfoList=o};P();var V=function(){P(),n.$evalAsync(function(){})};r.EventEmitter.addListener(r.EVENTS.UPDATE_MSG,V);var H=['<span class="loading">','<div class="bounce1"></div>','<div class="bounce2"></div>','<div class="bounce3"></div>',"</span>"].join(""),D=angular.element(H),G=!1;n.pullHistory=function(){return G===!0?Promise.resolve():(u.prepend(D),n.conv.pullHistory().then(function(){return D.remove(),!0}).catch(function(e){return e.code===WKErrorCode.CONVERSATION.NO_MORE_MSGS&&(G=!0),D.remove(),!0}))};var U=function(e){var n=e.file,o=fileTypes.getTypeByName(n.name),s=fileTypes.isImg(o);s?a(n):i(n)};n.$on("uploadFile:send",function(o,s){if(s&&s.file&&s.file.mediaId){var t={mediaId:s.file.mediaId,name:s.file.name,type:1};try{n.conv.sendImgMsg(null,t),e.$broadcast(EVENTS.SENDMSG_SCROLLTOBOTTOM)}catch(e){console.log(e)}}else U(s);e.$broadcast("afterSendAttatchment")}),n.$on("spaceFile:send",function(n,o){o&&o.files&&o.files.length&&(o.files.forEach(function(n){try{n.orgId=o.orgId,n.spaceId=o.spaceId,r.sendSpaceFileMsg(null,n),e.$broadcast(EVENTS.SENDMSG_SCROLLTOBOTTOM)}catch(e){console.log(e),localLog.error("send space file error : "+e.toString())}}),e.$broadcast("afterSendAttatchment"))}),n.$on("$destroy",function(){r.EventEmitter.removeListener(r.EVENTS.UPDATE_MSG,V),g.removeEventListener("scroll",h),g.removeEventListener("msgRequestFocus",C),nwWindow.removeListener(nwWindow.EventsName.VISIBILITY_CHANGE,s),w(),p.cancel()})},controllerAs:"chatBox",template:'<div class="chat-box-new">\n    <div class="main-chat chat-items" img-preview infinite-scroll infinite-scroll-top="pullHistory();" infinite-scroll-threshold=\'5\'  watermark="watermarkLocation.GROUP" org-id="orgId" is-safety="conv.isSafety" is-safety-single="conv.isSafetySingle">\n        <div class="msg-items">\n          <msg-box ng-repeat="info in msgInfoList track by info.msg._localId" info="info" class="msg-box"></msg-box>\n        </div>\n    </div>\n    <a href="javascript:;" style="" class="new-chat-reminder" ng-show="hasNewMsg" ng-click="scrollToBottom()">\n        <span>您有新消息</span>\n    </a>\n</div>\n'}}]),module.exports=moduleName;

},{"../../service/app/nwWindow":257,"../../service/conversation/ConvType":294,"../../service/events":376,"../../service/log/localLog":421,"../../service/watermark/watermarkLocation":654,"../watermark":138,"./imgPreview":60,"./msgBox":66,"@ali/ding-filetypes":714,"@ali/wksdk":779,"lodash":919,"path":7}],57:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.dragToUpload",nwWindow=require("../../service/app/nwWindow");angular.module(moduleName,[require("../../service/toast/toast"),require("../../service/file/fileHelper")]).directive("dragToUpload",["toastService","$rootScope","$fileHelper","$translate",function(e,n,t,a){var i=document.createElement("div");return i.className="drag-to-upload-pop",i.style.display="none",{restrict:"A",link:function(n,r){function o(e){n.$broadcast("uploadFile:send",{file:e})}var s=null,d=r[0],l=function(){n.chat.conv.getBanWordsStatus()?(s||(s=nwWindow.addListener(nwWindow.EventsName.VISIBILITY_CHANGE,l)),i.innerHTML='<div class="article"><i class="iconfont">&#xe621;</i><span>'+a.instant("dt_group_setting_all_silent_input_tips_all_member")+"</span></div>"):(s&&(nwWindow.removeListener(nwWindow.EventsName.VISIBILITY_CHANGE,l),s=null),i.innerHTML='<div class="article"><i class="iconfont">&#xe621;</i><span>拖拽文件到此上传</span></div>')};l(),d.appendChild(i);var c=function(e){e.preventDefault(),e.dataTransfer.files.length>0&&(i.style.display="block")},v=function(e){i.style.display="none"},u=function(a){if(a.preventDefault(),i.style.display="none",!n.chat.conv.getBanWordsStatus()){for(var r=a.dataTransfer.files,s=[],d=a.dataTransfer.items.length,l=[],c=0;c<d;c++){var v=a.dataTransfer.items[c],u=r[c];if(v.webkitGetAsEntry){var p=v.webkitGetAsEntry();if(!p)continue;if(!p.isFile){l.push([u.name,"目前只能拖拽上传文件，上传文件夹请在钉盘内点击上传文件-上传文件夹"]);continue}}var f=t.checkFileV2(u);f[0]===!0?s.push(u):l.push([u.name,f[2]])}if(l.length>0){var m="以下文件未上传 \n"+l.map(function(e){return e[0]+": "+e[1]}).join("\n");e.show(m,{type:"error"})}s.length>0&&s.forEach(function(e){o(e)})}};n.chat.conv.EventEmitter.on(n.chat.conv.EVENTS.UPDATE_BAN_WORDS_STATUS,l),r[0].addEventListener("dragover",c),r[0].addEventListener("dragleave",v),r[0].addEventListener("drop",u),r.on("$destroy",function(){r[0].removeEventListener("dragover",c),r[0].removeEventListener("dragleave",v),r[0].removeEventListener("drop",u),nwWindow.removeListener(nwWindow.EventsName.VISIBILITY_CHANGE,l),n.chat.conv.EventEmitter.off(n.chat.conv.EVENTS.UPDATE_BAN_WORDS_STATUS,l)})}}}]),module.exports=moduleName;

},{"../../service/app/nwWindow":257,"../../service/file/fileHelper":379,"../../service/toast/toast":611}],58:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.face.emotionContent";angular.module(moduleName,["angularFileUpload",require("../../../service/file/fileHelper")]).directive("emotionContent",["FileUploader","$fileHelper",function(e,t){return{restrict:"AE",replace:!0,scope:{emotionPackage:"=",onClickEmotion:"&"},controller:["$scope",function(e){var t=this;t.emotionPackage=e.emotionPackage,t.clickEmotion=e.onClickEmotion(),t.isEdit=!1;var n=function(){o();try{e.$digest()}catch(e){}},o=function(){t.emotionGroup=t.emotionPackage.getCurrEmotions()};o(),t.selectEmotion=function(e){t.clickEmotion(e)},t.editEmotion=function(){t.isEdit=!t.isEdit,t.isPreviewing=!1},t.removeEmotion=function(e,n){n&&n.preventDefault(),n&&n.stopPropagation(),t.emotionPackage.removeEmotion(e.id),t.isPreviewing=!1};var i=function(){t.currPage=0,t.isEdit=!1,t.isPreviewing=!1,n()};t.emotionPackage.on(t.emotionPackage.EventsName.EMOTION_UPDATE,n),t.emotionPackage.on(t.emotionPackage.EventsName.CHANGE_EMOTION,i),e.$on("$destroy",function(){t.emotionPackage.off(t.emotionPackage.EventsName.EMOTION_UPDATE,n),t.emotionPackage.off(t.emotionPackage.EventsName.CHANGE_EMOTION,i)})}],link:function(e,t,n){var o=e.emotionContent,i=null,a=function(e){if("default"!==o.emotionPackage.activeItem){var t=e.target.getAttribute("panel-src");if(t){if(i){var n=i.getAttribute("panel-src");i.setAttribute("src",n)}i=e.target;var a=i.getAttribute("org-src");i.setAttribute("src",a)}else if(i){var n=i.getAttribute("panel-src");i.setAttribute("src",n),i=null}}},c=function(e){if(i){var t=i.getAttribute("panel-src");i.setAttribute("src",t),i=null}},m=function(e){var t=e.target.files,n=t[0];n&&(o.emotionPackage.uploadEmotion(n),e.target.value="")},r=t.find(".emotion-content-section");r.on("mouseover",a),r.on("mouseleave",c),t.on("change",m),e.$on("$destroy",function(){r.off("mouseover",a),r.off("mouseleave",c),t.off("change",m)})},controllerAs:"emotionContent",template:'<div class="emotion-content-wraper">\n    <div class="emotion-content-section" ng-class="{\'custom\': emotionContent.emotionPackage.activeItem === \'custom\'}" >\n      <ul class="emotions" ng-if="emotionContent.emotionPackage.activeItem !== \'custom\'">\n          <li class="emotion"\n            ng-class="{\'user-emotion\': emotionContent.emotionPackage.activeItem !== \'default\'}"\n            ng-repeat="item in emotionContent.emotionGroup track by item.id"\n            htitle="{{::item.name}}"\n          >\n          <img ng-src="{{::item.src}}" alt="{{::item.name}}"  panel-src="{{::item.src}}" org-src="{{::item.orgSrc}}" ng-click="emotionContent.selectEmotion(item)">\n          </li>\n      </ul>\n\n      <ul class="emotions" ng-if="emotionContent.emotionPackage.activeItem === \'custom\'">\n          <li class="emotion user-emotion" ng-repeat="item in emotionContent.emotionGroup track by item.id" ng-if="emotionContent.emotionGroup.length !== 0">\n            <img ng-click="emotionContent.selectEmotion(item)" ng-src="{{::item.src}}" alt="" panel-src="{{::item.src}}" org-src="{{::item.orgSrc}}" draggable="false"/>\n            <i class="iconfont emotion-remove-btn" ng-click="emotionContent.removeEmotion(item, $event)" ng-if="emotionContent.isEdit">&#xe607;</i>\n          </li>\n          <div class="custom-emotion-empty" ng-if="emotionContent.emotionGroup.length === 0">\n            下载更多表情<br/>\n            请使用手机端表情商店\n          </div>\n      </ul>\n    </div>\n\n    <ul class="action-wrapper" ng-if="emotionContent.emotionPackage.activeItem === \'custom\'">\n      <li class="section">\n        <a href="javascript:;">添加</a>\n        <input type="file"  accept=".jpg,.gif,.png,.bmp,.webp"/>\n      </li>\n      <li class="section" ng-if="emotionContent.emotionGroup.length!==0">\n        <a href="javascript:;" ng-show="emotionContent.isEdit" ng-click="emotionContent.editEmotion()">完成</a>\n        <a href="javascript:;" ng-show="!emotionContent.isEdit"  ng-click="emotionContent.editEmotion()">管理</a>\n      </li>\n    </ul>\n</div>\n'}}]),module.exports=moduleName;
},{"../../../service/file/fileHelper":379,"path":7}],59:[function(require,module,exports){
require("../../../service/chat/chatCallService");var EVENTS=require("../../../service/events");require("../../../service/user/userManager");var _=require("lodash"),ua=require("../../../service/ua"),localLog=require("../../../service/log/localLog"),app=angular.module("ddWeb.chat.chatCall",["ddWeb.service.chaCallService","ddWeb.user.userManager",require("../../../service/log/lwlog"),require("../../../service/modal/callSelectorModal")]);app.directive("chatCall",["chatCallService","$rootScope","userManager","lwlog","$translate","callSelectorModal",function(e,a,l,c,t,i){return{restrict:"AE",template:'<i ng-show="chatCall.isShowCall"  class="iconfont effect-jagoda chat-call-link" htitle-offset="left" ng-class="chatCall.hasUsedClass" htitle="{{chatCall.callText}}" ng-click="chatCall.createCall()">&#xe6ef;</i>',scope:{uid:"=uid",nick:"=nick",cid:"=cid"},link:function(s,r,n){function o(){h.removeClass("calling"),h.removeClass("effect-animate")}function d(){h.addClass("calling"),h.addClass("effect-animate")}function u(){try{s.$digest()}catch(e){}}var C=s.chatCall,h=r.find("i.chat-call-link");C.isShowCall=!1,l.getUserWithExt(s.uid,null).then(function(e){e&&e.userPermissionModel&&e.userPermissionModel.canBeSendConference&&(C.isShowCall=!0,setTimeout(function(){r.find("i").addClass("fade-in")},500)),u()});var f=e.chatCallStates;r.on("mouseover",function(){C.hasUsedClass="",e.setCallUseState(v.MOUSEOVER),u()});var v=e.chatCallUseStates,S=e.getCallUseState();S===v.MOUSEOVER?C.hasUsedClass="":S!==v.UNWATCH&&S||(C.hasUsedClass="animate-phone-call");var g=s.uid,m=a.$on(EVENTS.CHANGE_CALL_STATE,function(e,a){a===f.UNCALL?o():a===f.CALLSUCCESS&&d()});e.checkCallState()?o():d(),C.createCall=function(){c.commLog("chat_single_makephone_click","");({calleeUid:g,cid:s.cid});i({uid:g})},C.callText=t.instant("dt_chatbox_operations_call"),r.on("$destroy",function(){m(),r.off("mouseover")})},controllerAs:"chatCall",controller:["$scope",function(e){}]}}]);

},{"../../../service/chat/chatCallService":272,"../../../service/events":376,"../../../service/log/localLog":421,"../../../service/log/lwlog":424,"../../../service/modal/callSelectorModal":446,"../../../service/ua":621,"../../../service/user/userManager":641,"lodash":919}],60:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.imgPreview",_=require("lodash");require("../../service/mediaId/mediaId");var SENDSTATUS=require("../../service/conversation/SendStatus"),_=require("lodash"),msgContentTypeChecker=require("../../service/conversation/msgContentTypeChecker"),app=angular.module(moduleName,["ddWeb.mediaId",require("../../service/img/imgPreviewService"),require("../../service/img/Rotate")]);app.directive("imgPreview",["mediaId","imgPreviewService","Rotate",function(e,t,n){return{restrict:"A",link:function(e,o,i){function s(e){return $(e).closest(".chat-item").attr("msg-id")}function a(e){return e.baseMessage.content.photoContent.mediaId}function r(e){return e.baseMessage.content.photoContent.picSize}function c(e){return 1===e.baseMessage.content.photoContent.type}function g(e){return e.baseMessage.content.photoContent.filename}o.on("click",".chat-img",function(o){var i=s(this);if(i){var m=e.conv.getMsgById(i);if(!msgContentTypeChecker.isEmotionImage(m)&&msgContentTypeChecker.hasImageMediaId(m)&&m.sendStatus!==SENDSTATUS.SENDING&&m.sendStatus!==SENDSTATUS.SENDING_WITH_PROGRESS){var d={msgId:i,mediaId:a(m),picSize:r(m),fileName:g(m),rotate:1!==m.baseMessage.content.photoContent.type?0:n(m.baseMessage.content.photoContent.orientation),isOriginalPic:c(m)};t.preview(d,function(t){var o=e.conv.imgMsgList.getPre(t.msgId);return null!=o&&{msgId:o.baseMessage.messageId,mediaId:o.baseMessage.content.photoContent.mediaId,picSize:o.baseMessage.content.photoContent.picSize,fileName:o.baseMessage.content.photoContent.filename,rotate:1!==o.baseMessage.content.photoContent.type?0:n(o.baseMessage.content.photoContent.orientation),isOriginalPic:c(o)}},function(t){var o=e.conv.imgMsgList.getNext(t.msgId);return null!=o&&{msgId:o.baseMessage.messageId,mediaId:o.baseMessage.content.photoContent.mediaId,picSize:o.baseMessage.content.photoContent.picSize,fileName:o.baseMessage.content.photoContent.filename,rotate:1!==o.baseMessage.content.photoContent.type?0:n(o.baseMessage.content.photoContent.orientation),isOriginalPic:c(o)}},{extension:{orgId:_.get(e,"conv.baseConversation.extension.id","")},onSaveToCloud:function(){return m.hasRecall?Promise.reject("该消息已经被撤回，不能转存到钉盘"):Promise.resolve()}})}}}),o.on("$destroy",function(){o.off("click")})}}}]),module.exports=moduleName;

},{"../../service/conversation/SendStatus":304,"../../service/conversation/msgContentTypeChecker":319,"../../service/img/Rotate":407,"../../service/img/imgPreviewService":408,"../../service/mediaId/mediaId":433,"lodash":919}],61:[function(require,module,exports){
require("../../../service/user/userManager"),require("../../../service/widget/avatar"),require("../../../service/safe/safe"),require("../../../service/chat/textCellService");var $my=require("../../../service/user/my"),emoji=require("../../../service/emoji/emoji"),localLog=require("../../../service/log/localLog"),AtOpenIdType=require("../../../service/conversation/AtOpenIdType"),MainScene=require("../../../service/user/MainScene"),app=angular.module("ddWeb.chat.atInput",["ddWeb.user.userManager","ddWeb.service.avatar","ddWeb.safe","ddWeb.service.textCellService",require("../../../service/search/search/SearchUserName")]);app.directive("atInput",["$timeout","userManager","$compile","avatarService","safe","textCellService","$filter","searchUserName",function(e,t,i,r,n,a,o,s){"use strict";return{restrict:"AE",require:"^responsiveInput",controller:["$scope",function(e){}],link:function(i,c,u){function l(){var e=c[0];return{st:e.selectionStart,ed:e.selectionEnd}}function d(e,c){var u=C.val(),l=a.filterAtCell(u).filterCellMap;i.conv.getMembers(function(a){var u=a.map(function(e){return e.openIdEx.openId});t.getUsers(u).then(function(t){if(!t&&0===t.length)return localLog.error("get users error when input at ",JSON.stringify(u),i.conv.convId),Promise.reject(new Error("users is empty"));if(e)var a=s(e,t,{cid:M.convId,orgId:b,limit:g});else var a=Promise.resolve(t.slice(0,g));a.then(function(t){t=t.filter(function(e){return e.userProfileModel.uid!==m&&!l[e.userProfileModel.uid]});var i=[];t.forEach(function(e){var t=e.userProfileModel,a=M.convId;i.push(Promise.all([e.getName(a,M.getScene(MainScene.CHAT),{oid:b}),e.getName(a,M.getScene(MainScene.AT_CONTENT),{oid:b})]).then(function(e){return{nick:n.escapeHTML(e[1]),displayName:o("emoj")(e[0]),avatarMediaId:t.avatarMediaId,uid:t.uid,avatar:t.avatarMediaId?r.createImgDomString(t.avatarMediaId):r.createNickDomString(t.nick,t.name)}}))}),Promise.all(i).then(function(t){e||(t.sort(function(e,t){var i=A.indexOf(e.uid),r=A.indexOf(t.uid);return i===-1&&(i=Number.MAX_VALUE),r===-1&&(r=Number.MAX_VALUE),i-r}),l[AtOpenIdType.ALL]||t.unshift({nick:"所有人",displayName:"所有人",avatarMediaId:void 0,uid:AtOpenIdType.ALL,avatar:'<div class="avatar"><i class="iconfont at-all">&#xe6ab;</i></div>'})),c(t)})})})})}function f(e){var t=a.createCell({replaceText:"@"+e.uid+" ",toReplaceText:"@"+e.nick+" "});return t}function v(e,t){var i={};return i.uid=t.attr("uid"),i.nick=t.attr("nick"),f(i)}function p(){c.atwho({at:"@",tpl:'<li class="clearfix" data-value="${atwho-at}${nick}" uid="${uid}" nick="${nick}">${avatar}<span class="at-nick">${displayName}</span></li>',search_key:"nick",start_with_space:!1,delay:120,callbacks:{remote_filter:d,before_insert:v,sorter:function(e,t,i){return t}},limit:g,suffix:""}),c.on("shown.atwho",function(){i.input.isAtOpen=!0,$(".atwho-view").scrollTop(0)}),c.on("hidden.atwho",function(){e(function(){i.input.isAtOpen=!1},0)}),c.on("inserted.atwho",function(e,t){var i=t.attr("uid"),r=t.attr("nick"),n={};n.uid=i,n.nick=r}),c.on("reposition.atwho",function(e,t){var i=$(".atwho-view"),r=t.top,n=t.left;i.height();r>600&&i.css({top:r-20,left:n})})}var h={},m=$my.uid,A=i.conv.recentAtUids,g=100;i.input.isAtOpen=!1,h.isAtUsable=!1;var M=i.conv,b=null,S=function(){var e=M.isCompanyGroup;e&&(b=M.baseConversation.extension.id)}.bind(this);if(S(),M&&M.EventEmitter.addListener(M.EVENTS.UPDATE_BASE_CONV,S),M){if(M.isSingleChat)return h.isAtUsable=!1,i.isAtUsable=h.isAtUsable,!1;h.isAtUsable=!0,i.isAtUsable=h.isAtUsable}i.input.beforeSendMsg(function(e){if(i.input.isAtOpen)return!1;var t=e.textContent.text,r=a.filterAtCell(t);return e.textContent.text=r.filterMsg,M&&!M.isSingleChat&&(e.atOpenIds=r.filterCellMap,E(r.filterCellMap)),e});var C=c,E=function(e){Object.keys(e).forEach(function(e){var t=parseInt(e),i=A.indexOf(t);i!==-1&&A.splice(i,1),A.unshift(t)})};p(),i.addAt=function(){C.focus(),i.insertText("@",1),I()};var I=function(){c.atwho("run")};i.$on("add-at",function(e,t){var r=(l(),C.val()),n=a.filterAtCell(r).filterCellMap;if(!n[t.uid+""]){var o=f(t);i.insertText(o)}}),c.on("$destroy",function(){c.atwho("destroy"),c.off("show.atwho"),c.off("hidden.atwho"),a.reset(),M&&M.EventEmitter.removeListener(M.EVENTS.UPDATE_BASE_CONV,S)})}}}]);

},{"../../../service/chat/textCellService":275,"../../../service/conversation/AtOpenIdType":290,"../../../service/emoji/emoji":364,"../../../service/log/localLog":421,"../../../service/safe/safe":545,"../../../service/search/search/SearchUserName":584,"../../../service/user/MainScene":629,"../../../service/user/my":635,"../../../service/user/userManager":641,"../../../service/widget/avatar":656}],62:[function(require,module,exports){
require("../../../service/chat/textCellService");var app=angular.module("ddWeb.chat.cursorAdjust",["ddWeb.service.textCellService"]);app.directive("cursorAdjust",["$timeout","textCellService",function(t,e){return{restrict:"AE",link:function(t,s,r){function o(){return{st:f.selectionStart,ed:f.selectionEnd}}function n(t){f.selectionStart=t,f.selectionEnd=t}function i(t,e){e?f.selectionStart=t:f.selectionEnd=t}function u(t,e,s){var r=t.substr(0,e.st)+s+t.substr(e.ed,t.length-e.ed+1);return pointer=e.st+s.length,{msg:r,pointer:pointer}}function d(t,e,s,r,o){var u,d=t.length,c=!1,f=0,a=!1,v=0;for(v=o?e.st:e.ed,u=0;u<d;u++){var A=t.charCodeAt(u);if(A==l.START&&v>u)c=!0,f=u;else if(A==l.END){if(c&&u>=v){s?r?o?i(f,s):i(f,!s):n(f):r?o?i(u+1,!s):i(u+1,s):n(u+1),a=!0;break}c=!1}}}var c=s,f=c[0],a=!1,l=e.FLAG_CODE,v={LEFT:37,RIGHT:39,UP:38,DOWN:40,BACKSPACE:8,PGUP:33,PGDN:34,DEL:46},A={st:0,ed:0},g={st:0,ed:0};c.on("cursor",function(t,s,r,o){var n=c.val();if(o.st===o.ed&&r.st===r.ed)o.st>r.st?d(n,o,!1,!1,!0):o.st<r.st&&d(n,o,!0,!1,!0);else if(o.st===r.st&&o.ed>r.ed)d(n,o,!1,!0,!1);else if(o.st===r.st&&o.ed<r.ed)d(n,o,!0,!0,!1);else if(o.ed===r.ed&&o.st>r.st)d(n,o,!1,!0,!0);else if(o.ed===r.ed&&o.st<r.st)d(n,o,!0,!0,!0);else{var i=e.strictCell(n,o);f.selectionStart=i.st,f.selectionEnd=i.ed}}),c.on("keydown.cursorAdjust",function(t){var e=t.which,s=o();c.val();if(A=s,!t.metaKey&&!t.ctrlKey){if(A.st!==A.ed)return;e==v.BACKSPACE?(g.st=A.st-1,g.ed=A.ed,g.st==A.st&&g.ed==A.ed||c.trigger("cursor",[t,A,g])):e===v.DEL&&(g.st=A.st,g.ed=A.ed+1,g.st==A.st&&g.ed==A.ed||c.trigger("cursor",[t,A,g]))}}),c.on("keyup.cursorAdjust",function(t){var e=t.which,s=o(),r=c.val();g=s,e!=v.BACKSPACE&&e!=v.DEL&&(g.st==A.st&&g.ed==A.ed||c.trigger("cursor",[t,A,g]),e!=v.UP&&e!=v.DOWN||a||d(r,s,!0,t.shiftKey))}),c.on("mousedown.cursorAdjust",function(t){var e=o();A=e,"Range"===window.getSelection().type&&0==t.button&&(f.selectionStart=e.st,f.selectionEnd=e.st)}),c.on("mouseup.cursorAdjust",function(t){var e=o();g=e;var s=c.val();return g.st===g.ed?void d(s,e,!0,!1,!0):void(g.st==A.st&&g.ed==A.ed||c.trigger("cursor",[t,A,g]))}),s.on("shown.atwho",function(){a=!0}),s.on("hidden.atwho",function(){a=!1}),s.on("paste.cursorAdjust",function(t){var s=t.originalEvent.clipboardData,r=s.getData("text/plain");if(1===s.items.length){void 0===r&&(r="");var i=e.trimFlag(r),d=o(),f=c.val(),a=u(f,d,i);setTimeout(function(){c.val(a.msg),n(a.pointer)},0)}}),s.on("$destroy",function(){c.off("keydown.cursorAdjust"),c.off("click.cursorAdjust"),s.off("shown.atwho"),s.off("hidden.atwho"),c.off("keyup.cursorAdjust"),c.off("cut.cursorAdjust"),s.off("paste.cursorAdjust"),c.off("cursor"),c.off("mousedown.cursorAdjust"),c.off("mouseup.cursorAdjust")})}}}]);

},{"../../../service/chat/textCellService":275}],63:[function(require,module,exports){
"use strict";var LocalFile=require("../../../service/file/LocalFile"),ua=require("../../../service/ua"),limitConfig=require("../../../service/limitConfig"),semver=require("semver");require("../../../service/modal/uploadFile"),require("../../../service/file/fileHelper"),require("../../../service/mediaId/mediaId"),require("../../../service/file/fileTypes"),angular.module("ddWeb.chat.ddPaste",["ddWeb.modal.uploadFile","ddWeb.file.fileHelper","ddWeb.mediaId","ddWeb.file.fileTypes",require("../../../service/modal/multiFileUploadPreview")]).directive("ddPaste",["$uploadFilePreview","$rootScope","$fileHelper","mediaId","$fileTypes","$multiFileUpload",function(e,i,r,a,l,n){var t=ua.isNw&&ua.isWin||ua.isDingTalkWin;if(t)if(ua.isNw)var d=_nwrequire("@ali/dingtalk-sqlite3").ClipBoardProvider,u=new d;else if(ua.isDingTalkWin)var u=dingtalk.clip.create();return{restrict:"A",link:function(r,d,f){function o(r){var d=Array.prototype.slice.call(r.items),f=d.map(function(e){return e.type});if(1===f.length&&"text/plain"===f[0])return!1;var o=f.indexOf("text/rtf");if(o!==-1)return!1;var s=null,c=null;if(t&&(s=u.getCustomData("mediaid"),s.indexOf("|")!==-1&&(c=s.slice(Number(s.indexOf("|")+1)),s=s.replace("|"+c,""))),f.indexOf("mediaid")!==-1&&(s=r.getData("mediaid"),s.indexOf("|")!==-1&&(c=s.slice(Number(s.indexOf("|")+1)),s=s.replace("|"+c,""))),s){var m={};if(m.size=0,m.imgSrc=a.mid2Url(s,{imageSize:"origin"}),m.mediaId=s,m.__fileObjType="DingTalkMediaId",m.imgSrc===s)return!1;c?m.name=c:m.name="粘贴图片."+l.getTypeByName(m.imgSrc);var p={isMediaId:!0};return e(m,p).then(function(){i.$broadcast("uploadFile:send",{file:m})}),!0}if(t){var v=u.getFileNames(),g=[];if(v.length>0)return g=v.map(function(e){return new LocalFile(e)}),1===g.length?e(g[0]).then(function(e){i.$broadcast("uploadFile:send",{file:e})}):g.length>1&&n.open(g).then(function(e){e.forEach(function(e){i.$broadcast("uploadFile:send",{file:e})})}),!0}var F=f.indexOf("image/png");if(F!==-1){try{var m=r.items[F].getAsFile()}catch(e){var m=null}if(m&&m.size>0)return m.name="粘贴图片.png",e(m).then(function(e){i.$broadcast("uploadFile:send",{file:e})}),!0;if(ua.isDesktop){var b=f.indexOf("text/html");return b!==-1&&r.items[b].getAsString(function(r){var a=r.match(/src="(.+)"/m)[1];if(a=a.replace("file:///","")){var l=new LocalFile(a);l&&l.size>0&&e(l).then(function(e){i.$broadcast("uploadFile:send",{file:e})})}}),!0}return!1}return!1}d.on("paste",function(e){var i=e.originalEvent.clipboardData,r=o(i);r&&e.preventDefault()}),d.one("$destroy",function(){d.off("paste")})}}}]);

},{"../../../service/file/LocalFile":378,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../../service/limitConfig":414,"../../../service/mediaId/mediaId":433,"../../../service/modal/multiFileUploadPreview":461,"../../../service/modal/uploadFile":481,"../../../service/ua":621,"semver":930}],64:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.responsiveInput",path=require("path"),_=require("lodash"),moment=require("moment");require("../../widget/focus"),require("../../../service/safe/safe"),require("../../../service/toast/toast");var ua=require("../../../service/ua"),LoginStatusCode=require("../../../service/login/LoginStatusCode"),TEXT_LIMIT=5e3,BOTTOM_MAX_DISTANCE=50;require("./atInput"),require("./ddPaste"),require("./cursorAdjust"),require("../../../service/chat/textCellService"),require("../toolBar/toolBar");var storage=require("../../../service/storage/storage"),ddStorage=require("../../../service/storage/ddStorage"),getCaretCoordinates=require("../../../service/widget/textareaCaretPosition"),layoutResizeConf=require("../../../service/layoutResize/layoutResizeConf"),EVENTS=require("../../../service/events"),nwWindow=require("../../../service/app/nwWindow"),app=angular.module(moduleName,["ddWeb.safe","ddWeb.widget.focus","ddWeb.chat.ddPaste","ddWeb.chat.atInput","ddWeb.toast","ddWeb.chat.cursorAdjust","ddWeb.service.textCellService","ddWeb.chat.toolBar",require("./typing"),require("../../../service/microApp/space"),require("../../widget/layoutResize"),require("../../../service/tool/tool")]);app.directive("responsiveInput",["$rootScope","safe","$timeout","toastService","textCellService","spaceApp","$translate","tool",function(e,t,n,i,r,s,a,o){return{restrict:"AE",scope:{conv:"=conv"},controller:["$scope",function(t){var n=this;n.text={dt_chatbox_common_send:a.instant("dt_chatbox_common_send"),dt_group_setting_all_silent_input_tips_all_member:a.instant("dt_group_setting_all_silent_input_tips_all_member"),dt_group_setting_all_silent_input_tips:a.instant("dt_group_setting_all_silent_input_tips_all_member")},this.isMac=ua.isMac,this.isDesktop=ua.isDesktop,this.msgInputFocus=!0,this.beforeSendMsgCallbacks=[],this.beforeSendMsg=function(e){n.beforeSendMsgCallbacks.push(e)},n.conv=t.conv,n._saveDraft=$.proxy(t.conv.saveDraft,n.conv),n.draft=t.conv.draft,n.isShowInputTip="secTip"===storage.local.getItem("newUserState"),s.hasPermission().then(function(e){n.showSelectFileBtn=e,t.$digest()}),n.spaceId=null,n.conv.getIMSpaceId().then(function(e){n.spaceId=e,t.$digest()}),n.layoutResizeObj=layoutResizeConf.inputArea,n.layoutResizeObj.onResizing=function(){e.$broadcast(EVENTS.CHAT_BUBBLE_SIZE_CHANGE)}}],link:function(t,n,s,u){function l(){T=ddStorage.getItem("sendMessageShortcut"),"Ctrl+Enter"===T?(x.enter=p,x.ctrlAndEnter=c,t.hintText="Enter 换行 , Ctrl+Enter 发送"):(x.enter=c,x.ctrlAndEnter=p,t.hintText="Enter 发送 , Ctrl+Enter 换行")}function c(){var n=h.val();if(b.isFaceOpen=!1,0!==n.trim().length){if(n.length>TEXT_LIMIT)return void i.show("您的文字消息过长，请调整至"+TEXT_LIMIT+"字以内再发送",{type:"error"});for(var s={contentType:1,textContent:{text:n}},a=0;a<b.beforeSendMsgCallbacks.length;a++){var o=b.beforeSendMsgCallbacks[a](s);if(!o)return;s=o}s.textContent.text=r.filterFaceCell(s.textContent.text),r.reset(),t.conv.sendTextMsg(s.textContent.text,{atOpenIds:s.atOpenIds}),e.$broadcast(EVENTS.SENDMSG_SCROLLTOBOTTOM),setTimeout(function(){h.val(""),h.trigger("input")},0)}}function d(e){return isNaN(e)?0:e}function p(){f("\n");var e=h[0],t=getComputedStyle(e),n=getCaretCoordinates(e,e.selectionEnd),i=d(parseFloat(t.lineHeight)),r=n.top+i+d(parseFloat(t.paddingBottom)),s=e.scrollTop,a=e.clientHeight;r>s+a&&(e.scrollTop=r-a)}function v(){var e=g(h.val().trim());0===e.length?S.addClass("disabled"):S.removeClass("disabled")}function g(e){var t=/^[\u0000-\u0002\u200B-\u200D\uFEFF]+/g,n=/[\u0000-\u0002\u200B-\u200D\uFEFF]+$/g;return e.replace(t,"").replace(n,"")}function f(e,t,n,i){var r=h[0],s=e,n=_.isNumber(n)?n:r.selectionStart,i=_.isNumber(i)?i:r.selectionEnd,t=_.isNumber(t)?t:e.length,a=r.value;r.value=a.substring(0,n)+s+a.substring(i,a.length),h.focus(),r.selectionStart=r.selectionEnd=i+t,h.trigger("input")}function m(t){b.conv.sendImgMsg(null,t),e.$broadcast(EVENTS.SENDMSG_SCROLLTOBOTTOM)}var b=t.input,h=n.find(".input-msg-box"),S=n.find(".send-message-button"),E=n.find(".input-area"),T=null,C=null,I=function(){var e=h[0],n=h.val();if(b.conv.getBanWordsStatus()){C||(C=nwWindow.addListener(nwWindow.EventsName.VISIBILITY_CHANGE,I)),e.setAttribute("disabled","disabled");var i=b.conv.isInBanBlack()?a.instant("dt_group_setting_all_silent_input_tips",{value1:o.formatBanTime(b.conv.baseConversation.banWordsTime)}):b.text.dt_group_setting_all_silent_input_tips_all_member;e.setAttribute("placeholder",i),S.addClass("disabled"),n.length>0&&(h.val(""),b._saveDraft(n))}else C&&(nwWindow.removeListener(nwWindow.EventsName.VISIBILITY_CHANGE,I),C=null),e.removeAttribute("disabled"),e.removeAttribute("placeholder"),S.removeClass("disabled"),h.val(b.conv.draft),h.trigger("input"),b._saveDraft("");t.$evalAsync()};I();var x={enter:null,ctrlAndEnter:null};l(),t.$on(EVENTS.SETTING_MODAL_CLOSE,l),h.on("keydown",function(e){var n=e.which,i=13===n;i&&!t.input.isAtOpen&&(e.preventDefault(),!e.shiftKey&&!e.altKey||e.ctrlKey?!e.ctrlKey||e.shiftKey||e.altKey?x.enter():x.ctrlAndEnter():p())}),h.on("paste",function(){if(b.conv.getBanWordsStatus())return!1}),h.on("input",function(){v()}),E.on("click",function(){h.focus()}),S.on("click",c),t.insertText=f,b.insertText=f,b.sendImgMsg=m,b.conv.EventEmitter.on(b.conv.EVENTS.UPDATE_BAN_WORDS_STATUS,I),t.$on("afterSendAttatchment",function(){h[0]&&h[0].focus()}),t.$on(EVENTS.QUOTE_MSG,function(e,t){t.getQuoteContent().then(function(e){var t=h[0];f(e.textContent.text,t.value.length+e.textContent.text.length,0,0)})}),n.on("$destroy",function(){if(!b.conv.getBanWordsStatus()){var e=h.val();b._saveDraft(e)}nwWindow.removeListener(nwWindow.EventsName.VISIBILITY_CHANGE,I),b.conv.EventEmitter.off(b.conv.EVENTS.UPDATE_BAN_WORDS_STATUS,I),S.off("click"),E.off("click"),h.off("keydown"),h.off("input"),h.off("paste")})},controllerAs:"input",template:'<div\n    class="send-msg-box-wrapper"\n    layout-resize="input.layoutResizeObj.direction"\n    max-height="input.layoutResizeObj.maxHeight"\n    min-height="input.layoutResizeObj.minHeight"\n    storage-key= "input.layoutResizeObj.storageKey"\n    on-resizing="input.layoutResizeObj.onResizing()"\n    >\n    <div class="input-area">\n        <div tool-bar></div>\n        <span class="user-guide" ng-if="!input.isShowInputTip">{{ hintText }}</span>\n        <div class="msg-box">\n            <textarea class="textarea input-msg-box" dd-paste ng-trim="false" at-input cursor-adjust typing focus="input.msgInputFocus"></textarea>\n        </div>\n    </div>\n    <div class="action-area">\n        <a href="javascript:;" class="send-message-button disabled">{{::input.text.dt_chatbox_common_send}}</a>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../service/app/nwWindow":257,"../../../service/chat/textCellService":275,"../../../service/events":376,"../../../service/layoutResize/layoutResizeConf":412,"../../../service/login/LoginStatusCode":429,"../../../service/microApp/space":440,"../../../service/safe/safe":545,"../../../service/storage/ddStorage":605,"../../../service/storage/storage":606,"../../../service/toast/toast":611,"../../../service/tool/tool":616,"../../../service/ua":621,"../../../service/widget/textareaCaretPosition":673,"../../widget/focus":157,"../../widget/layoutResize":162,"../toolBar/toolBar":97,"./atInput":61,"./cursorAdjust":62,"./ddPaste":63,"./typing":65,"lodash":919,"moment":923,"path":7}],65:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.typing",app=angular.module(moduleName,[require("../../../service/chat/typingType")]);app.directive("typing",["typingType",function(n){return{restrict:"AE",require:"^responsiveInput",link:function(e,t,i){function o(){return e.conv.canSendTyping&&!c}function u(){c&&(clearTimeout(c),c=null)}if(e.conv.sdkConv){var r=function(){var n=t.val();e.conv.inputTextHasChanged(n)};t.on("input.typing",r),t.on("$destroy",function(){t.off("input.typing",r)})}else{var p=e.conv.isSingleChat;if(!p)return;var c=null,a=5e3,v=!1;t.on("input.typing",function(i){var r=t.val();r?(v=!1,o()&&(e.conv.sendTyping(n.TYPING),c=setTimeout(function(){u()},a))):(v||e.conv.sendTyping(n.CANCELTYPING),u())}),e.input.beforeSendMsg(function(n){return v=!0,n}),t.on("$destroy",function(){u(),t.off("input.typing")})}}}}]),module.exports=moduleName;

},{"../../../service/chat/typingType":276}],66:[function(require,module,exports){
"use strict";var path=require("path"),urlParser=require("url"),moduleName="ddWeb.chat.msgBox",SendStatus=require("../../service/conversation/SendStatus"),uriResolve=require("../../service/uriResolve/resolve"),ua=require("../../service/ua"),$my=require("../../service/user/my"),urlParser=require("url"),queryString=require("querystring"),globalSchema=require("../../service/globalSchema"),BASE_MSG_TAG=require("../../service/conversation/baseMsgTag"),EVENTS=require("../../service/events"),_=require("lodash"),MSG_EXT_TYPE={SYSTEM_MSG:"9999",RED_ENVELOPE:"100"},ContentType=require("../../service/conversation/ContentType");angular.module(moduleName,[require("./msgContent/msgContent"),require("./msgContent/content/msgRecalled"),require("./profile"),require("./msgMenu/msgMenu"),require("../../service/user/userManager"),require("../../service/chat/colorTransfer"),require("./msgStatus/unConfirmCount"),require("./msgStatus/unreadCount"),require("../avatar/userAvatar"),require("../avatar/openProfile"),require("../../filter/emoj"),require("../../service/modal/switchOrgModal"),require("../../service/conversation/conversationWithSDK"),require("../../component/user/userDingTitleList")]).directive("msgBox",["userManager","colorTransfer","$filter","conversationWithSDK","switchOrgModalService",function(e,s,n,i,t){return{restrict:"AE",scope:{info:"=info"},replace:!0,controller:["$scope",function(e){function s(){o.shouldShowUnreadCount=!o.info.isSuperGroup&&2!==o.info.msg.baseMessage.memberTag&&!o.info.isSpecialConv&&!o.info.isSendToMyself&&o.info.type!==ContentType.MAIL,o.shouldShowMsgMenu=!(t.indexOf(o.info.type)>-1)&&!o.info.msg.needDecrypt()&&o.info.msg.isSupport2Show();try{e.$digest()}catch(e){console.log(e)}}this.info=e.info,e.ContentType=ContentType,e.SendStatus=SendStatus,e.isShowMsgMenu=!1,e.isShowTime=!1,this.isSafetyTips=_.get(this.info.msg,"baseMessage.tag")===BASE_MSG_TAG.SAFETY_TIPS;var t=[ContentType.RED_ENVELOPE_ENTERPRISE,ContentType.RED_ENVELOPE_RANDOM,ContentType.RED_ENVELOPE_NORMAL,ContentType.RED_ENVELOPE_SYSTEM,ContentType.RED_ENVELOPE_ALIPAY];this.shouldShowUnreadCount=!this.info.isSuperGroup&&2!==this.info.msg.baseMessage.memberTag&&!this.info.isSpecialConv&&!this.info.isSendToMyself&&this.info.type!==ContentType.MAIL&&this.info.type!==ContentType.IMG_TEXT&&this.info.type!==ContentType.VOIP,this.shouldShowMsgMenu=!(t.indexOf(this.info.type)>-1)&&!this.info.msg.needDecrypt()&&this.info.msg.isSupport2Show(),this.getSysMsg=function(){var e,s=n("emoj"),t=this.info.msg.getContent().textContent.text,o=_.get(this.info.msg,"baseMessage.extension.links"),r=_.get(this.info.msg,"baseMessage.extension.type")||"",a=s(t);if(o&&"string"==typeof o&&(o=JSON.parse(o)),Array.isArray(o)&&(e=o[0],e.url=uriResolve.uniformLinkProtocolResolve(e.url)),r===MSG_EXT_TYPE.SYSTEM_MSG&&e){var g=urlParser.parse(e.url);if(g.pathname===globalSchema.CHANGE_ENT_GROUP){var m=this.info.msg.getConvId(),u=i.getConvObj(m);u.isCompanyGroup&&(e=null)}}if(r===MSG_EXT_TYPE.RED_ENVELOPE&&(e=null),e&&e.url){var l=parseInt(e.loc),f=parseInt(e.len);a=s(t.substring(0,l))+'<a href="'+e.url+'" target="_blank" type="'+r+'" class="system-link">'+s(t.substr(l,f))+"</a>"+s(t.substr(l+f,t.length))}return"1"===_.get(this.info.msg,"baseMessage.extension.style")&&(a='<i class="icon-green-safety"></i>'+a),a};var o=this,r=this.info.msg;e.$watch(function(){return this.info.time}.bind(this),function(e,s){e&&_.get(r,"baseMessage.content.contentType")!==ContentType.OA?this.showTime=e:this.showTime=null}.bind(this)),this.resend=function(){r.reSend()},r.on(r.EventsName.UPDATE_TO_DING,s),r.on(r.EventsName.RECALL_STATUS_CHANGE,s),r.on(r.EventsName.PRIVATE_TAG_CHANGE,s),r.on(r.EventsName.SEND_FAIL,s),r.on(r.EventsName.DELETED_CHANGE,s),e.$on("$destroy",function(){r.off(r.EventsName.UPDATE_TO_DING,s),r.off(r.EventsName.RECALL_STATUS_CHANGE,s),r.off(r.EventsName.PRIVATE_TAG_CHANGE,s),r.off(r.EventsName.SEND_FAIL,s),r.off(r.EventsName.DELETED_CHANGE,s)})}],link:{pre:function(e,s,n){function i(){s.find(".chat-item").attr("msg-id",t.baseMessage.messageId),e.$evalAsync(function(){})}var t=e.info.msg;if(1===t.baseMessage.creatorType){var o=null;s.delegate("div.msg-bubble-box","mouseleave",function(s){s.preventDefault(),s.stopPropagation(),clearTimeout(o),o=setTimeout(function(){e.isShowMsgMenu=!1,e.isShowTime=!1,e.$digest()},100)}),s.delegate("div.msg-bubble-box","mouseenter",function(s){s.preventDefault(),s.stopPropagation(),clearTimeout(o),e.isShowMsgMenu=!0,e.isShowTime=!0,e.$digest()})}t.on(t.EventsName.SEND_SUCCESS,i),s.one("$destroy",function(){e.info.msg.off(e.info.msg.EventsName.SEND_SUCCESS,i),1===t.baseMessage.creatorType&&(clearTimeout(o),s.undelegate("div.msg-bubble-box","mouseleave"),s.undelegate("div.msg-bubble-box","mouseenter"))})},post:function(e,s,n){var o=e.info.msg;s[0].style.display="block",e.$emit(EVENTS.CHAT_BUBBLE_SIZE_CHANGE,{mid:e.info.mid});var r=function(e){if("system-link"===e.target.className){var s=e.target.getAttribute("href"),n=urlParser.parse(s);if(n.pathname===globalSchema.CHANGE_ENT_GROUP){e.preventDefault(),e.stopPropagation();var r=i.getConvObj(_.get(o,"baseMessage.conversationId"));if(r)return t.showModal($my).then(function(e){var s=e.oid,n=e.orgName;r.convertToOrgGroup(s,{id:s,orgName:n})}),!1}}},a=function(e){var s=e.target;"IMG"===s.tagName},g=function(e){var s=e.target;"IMG"===s.tagName};s[0].addEventListener("load",a,!0),s[0].addEventListener("error",g,!0),s[0].addEventListener("click",r);var m=null,u=null;if(e.msg.info.isFocused===!0){var l=new Event("msgRequestFocus",{bubbles:!0});setTimeout(function(){s[0].dispatchEvent(l)},200),m=setTimeout(function(){s.find(".chat-item").addClass("focused-msg")},700),u=setTimeout(function(){s.find(".chat-item").removeClass("focused-msg")},1700)}s.one("$destroy",function(){clearTimeout(m),clearTimeout(u),s[0].removeEventListener("load",a,!0),s[0].removeEventListener("error",g,!0),s[0].removeEventListener("click",r)})}},controllerAs:"msg",template:'<div style="display: none;">\n    <!-- 普通消息 -->\n    <div class="chat-item" ng-if="msg.info.msg.baseMessage.creatorType===1 && msg.info.msg.isDisplay()" ng-class="{\'me\':!msg.info.position, \'not-me\':msg.info.position}" msg-id="{{msg.info.msg.getId()}}">\n        <!-- OA消息，不显示chat-time -->\n         <div class="chat-status" ng-if="msg.showTime">{{::msg.showTime | dateTime:true}}</div>\n         <div class="chat-profile-info clearfix" ng-class="{\'img-text-msg-display-none\':msg.isShowImgTextMsgTri}">\n            <profile ng-if="!msg.info.isOAConv && !msg.info.msg.isMySend()" cid="msg.info.msg.getConvId()" uid="msg.info.uid" ></profile>\n            <span class="chat-time" ng-show="isShowTime" ng-class="{\'oa-chat-time\':msg.info.isOAConv, \'my-send-time\': msg.info.msg.isMySend()}">{{msg.info.msg.baseMessage.createdAt | dateTime:true:true}}</span>\n         </div>\n        <div class="clearfix" ng-class="{\'img-text-msg\':msg.isShowImgTextMsgTri}">\n            <div class="avatar"><user-avatar class="normal" uid="{{msg.info.uid}}" open-profile="1"></user-avatar></div>\n            <user-ding-title-list just-show-main uid="{{msg.info.uid}}" class="user-ding-title-list" open-profile\n                    ng-class="{\'msg-left-title\':!msg.info.msg.isMySend(),\'msg-right-title\':msg.info.msg.isMySend()}"></user-ding-title-list>\n            <div class="msg-bubble-box">\n                <div class="msg-bubble-area">\n                    <msg-content info="msg.info"></msg-content>\n                    <!-- 消息菜单 -->\n                    <msg-menu msg="msg.info.msg" is-special-conv="msg.info.isSpecialConv" ng-if="msg.info.msg.sendStatus===SendStatus.SENDED&&msg.shouldShowMsgMenu&&isShowMsgMenu"></msg-menu>\n                    <!-- 普通消息有未读状态 -->\n                    <unread-count msg="msg.info.msg" ng-if="msg.shouldShowUnreadCount"></unread-count>\n                    <!-- ding消息有确认状态 -->\n                    <un-confirm-count msg="msg.info.msg" ng-if="msg.info.msg.baseMessage.memberTag===2&&!msg.info.position&&msg.info.msg.isDingContentType()"></un-confirm-count>\n                    <!-- 重发按钮 -->\n                    <a href="#" ng-click="msg.resend()" ng-if="msg.info.msg.sendStatus===SendStatus.SENDFAIL"><i class="iconfont icon-resend">&#xe63c;</i></a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- 系统消息 -->\n    <div ng-if="msg.info.msg.baseMessage.creatorType===2" class="chat-status chat-system-notice" ng-class="{\'safety-tips\': msg.isSafetyTips}" ng-bind-html="msg.getSysMsg()"></div>\n    <msg-recalled msg="msg.info.msg" ng-if="msg.info.msg.baseMessage.recallStatus === 1"></msg-recalled>\n</div>\n'}}]),module.exports=moduleName;

},{"../../component/user/userDingTitleList":48,"../../filter/emoj":193,"../../service/chat/colorTransfer":273,"../../service/conversation/ContentType":293,"../../service/conversation/SendStatus":304,"../../service/conversation/baseMsgTag":306,"../../service/conversation/conversationWithSDK":308,"../../service/events":376,"../../service/globalSchema":397,"../../service/modal/switchOrgModal":475,"../../service/ua":621,"../../service/uriResolve/resolve":628,"../../service/user/my":635,"../../service/user/userManager":641,"../avatar/openProfile":53,"../avatar/userAvatar":55,"./msgContent/content/msgRecalled":79,"./msgContent/msgContent":86,"./msgMenu/msgMenu":87,"./msgStatus/unConfirmCount":88,"./msgStatus/unreadCount":89,"./profile":90,"lodash":919,"path":7,"querystring":12,"url":13}],67:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.dingText";require("../../../../service/modal/profileModal.js"),require("../../../../filter/msgfilter"),require("../../../../service/ding/dinglist");var $my=require("../../../../service/user/my");angular.module(moduleName,["ddWeb.filter.msgfilter","ddWeb.service.profileModal",require("../../../../service/unPopModal/dingDetail"),"ddWeb.ding"]).directive("dingText",["profileModalService","openDingDetail","dinglist",function(i,e,n){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){var o=this;this.info=e.info,this.msgModel=this.info.msg,n.getDingById(this.msgModel.baseMessage.memberExtension.dingId,function(i){o.dingModel=i;try{}catch(i){}}),this.confirmDing=function(i,e){e.preventDefault(),e.stopPropagation(),o.isConfirming=!0,o.dingModel.confirm(function(i){o.dingModel.confirmStatus=1,o.isConfirming=!1})},this.onPeopleClick=function(e){i(e)}}],link:function(i,n,o){function d(n){n.target.href||(n.preventDefault(),n.stopPropagation()),e(s),i.$apply()}var t=i.ding,s={uid:t.msgModel.baseMessage.openIdEx.openId,dingId:t.msgModel.baseMessage.memberExtension.dingId,isMyDing:t.msgModel.baseMessage.openIdEx.openId==$my.uid};n.on("click",d),n.on("$destroy",function(){n.off()})},controllerAs:"ding",template:'<div class="msg-bubble text-msg ding-type">\n    <pre class="text" ng-bind-html="ding.msgModel.getContent().textContent.text|msgfilter"></pre>\n    <div class="icon-ding-wrapper">\n        <i class="iconfont icon-ding"></i>\n    </div>\n    <p class="ding-confirm" ng-class="{\'confirmed\':ding.dingModel.confirmStatus!==0||ding.isConfirming}" ng-show="ding.dingModel.isReceive||(ding.dingModel.isMy&&ding.dingModel.confirmStatus===0)">\n        <a href="javascript:;" ng-if="ding.dingModel.confirmStatus===1">已确认</a>\n        <a href="javascript:;" ng-if="ding.isConfirming">确定中</a>\n        <a href="javascript:;" ng-if="ding.dingModel.confirmStatus===0&&!ding.isConfirming" ng-click="ding.confirmDing(ding.msgModel.baseMessage.memberExtension.dingId,$event)" log="ding_confirm_click">确认收到</a>\n    </p>\n</div>'}}]),module.exports=moduleName;

},{"../../../../filter/msgfilter":195,"../../../../service/ding/dinglist":359,"../../../../service/modal/profileModal.js":466,"../../../../service/unPopModal/dingDetail":623,"../../../../service/user/my":635,"path":7}],68:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.dingVoice";require("../../../../service/mediaId/mediaId"),require("../../../../service/modal/profileModal.js"),require("../../../../service/ding/dinglist");var $my=require("../../../../service/user/my");angular.module(moduleName,["ddWeb.mediaId","ddWeb.service.profileModal",require("../../../../service/unPopModal/dingDetail"),"ddWeb.ding"]).directive("dingVoice",["mediaId","$timeout","$rootScope","profileModalService","$state","openDingDetail","dinglist",function(i,e,n,d,o,s,a){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(i){var e=this;this.info=i.info,this.msgModel=this.info.msg,this.audioDuration=parseInt(this.msgModel.baseMessage.content.audioContent.duration/1e3),a.getDingById(this.msgModel.baseMessage.memberExtension.dingId,function(n){e.dingModel=n;try{i.$digest()}catch(i){}}),this.confirmDing=function(i,n){n.preventDefault(),n.stopPropagation(),e.isConfirming=!0,e.dingModel.confirm(function(i){e.dingModel.confirmStatus=1,e.isConfirming=!1})},this.onPeopleClick=function(i){d(i)}}],link:function(i,e,n){function d(e){e.preventDefault(),e.stopPropagation(),s(a),i.$apply()}var o=i.ding,a={uid:o.msgModel.baseMessage.openIdEx.openId,dingId:o.msgModel.baseMessage.memberExtension.dingId,isMyDing:o.msgModel.baseMessage.openIdEx.openId==$my.uid};e.on("click",d),e.on("$destroy",function(){e.off()})},controllerAs:"ding",template:'<div class="msg-bubble audio-msg ding-type">\n    <audio-player audio-media-id="ding.msgModel.baseMessage.content.audioContent.mediaId" audio-duration="ding.audioDuration" log="ding_voice_play"></audio-player>\n    <div class="icon-ding-wrapper">\n        <i class="iconfont icon-ding"></i>\n    </div>\n    <p class="ding-confirm" ng-class="{\'confirmed\':ding.dingModel.confirmStatus!==0||ding.isConfirming}" ng-show="ding.dingModel.isReceive||(ding.dingModel.isMy&&ding.dingModel.confirmStatus===0)">\n        <a href="javascript:;" ng-if="ding.dingModel.confirmStatus===1">已确认</a>\n        <a href="javascript:;" ng-if="ding.isConfirming">确定中</a>\n        <a href="javascript:;" ng-if="ding.dingModel.confirmStatus===0&&!ding.isConfirming" ng-click="ding.confirmDing(ding.msgModel.baseMessage.memberExtension.dingId,$event)" log="ding_confirm_click">确认收到</a>\n    </p>\n</div>'}}]),module.exports=moduleName;

},{"../../../../service/ding/dinglist":359,"../../../../service/mediaId/mediaId":433,"../../../../service/modal/profileModal.js":466,"../../../../service/unPopModal/dingDetail":623,"../../../../service/user/my":635,"path":7}],69:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),localLog=require("../../../../service/log/localLog"),moduleName="ddWeb.chat.encryptedMsgInWeb",gloablUrl=require("../../../../service/globalUrl");angular.module(moduleName,[]).directive("encryptedMsgInWeb",[function(){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){}],link:function(e,l,r){e.downloadUrl=gloablUrl.DOWNLOAD_URL},controllerAs:"msg",template:'<div class="msg-bubble encrypted-msg-in-web">\n    <i class="icon-company icon-safety-single"></i><span class="text">加密消息暂时不支持显示，快到手机版或者桌面版钉钉查看。<a target="_blank" href="{{:: downloadUrl }}">下载链接</a></span>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/globalUrl":398,"../../../../service/log/localLog":421,"lodash":919,"path":7}],70:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.msgCard";require("../../../../filter/msgfilter"),require("../../../../service/modal/profileModal"),angular.module(moduleName,["ddWeb.filter.msgfilter","ddWeb.service.profileModal",require("../../../avatar/staticUserAvatar")]).directive("msgCard",["profileModalService",function(e){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(a){this.info=a.info,this.msgModel=this.info.msg;var s=this.msgModel.getContent();s&&s.attachments&&s.attachments[0]&&s.attachments[0].extension&&(this.card=s.attachments[0].extension),this.showProfile=function(){this.card&&this.card.uid&&e(this.card.uid,null,null,null,null,this.card)}}],link:function(e,a,s){},controllerAs:"msg",template:'<div class="msg-bubble card-msg" ng-click="msg.showProfile()">\n    <div class="card-msg-detail clearfix">\n        <div class="avatar"><static-user-avatar class="normal" media-id="{{ msg.card.avatarMediaId }}" name="{{ msg.card.name }}"></static-user-avatar></div>\n        <pre class="card-msg-name"><span ng-bind-html="msg.card.name|emoj" ></span></pre>\n    </div>\n    <div class="card-msg-type">名片</div>\n</div>'}}]),module.exports=moduleName;

},{"../../../../filter/msgfilter":195,"../../../../service/modal/profileModal":466,"../../../avatar/staticUserAvatar":54,"path":7}],71:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.msgErr",ContentType=require("../../../../service/conversation/ContentType");angular.module(moduleName,[]).directive("msgErr",[function(){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){this.info=e.info,this.msgModel=this.info.msg;var t=this.msgModel.getContent();this.msgTypeTitle="消息",t.contentType===ContentType.OA&&t.attachments.length&&t.attachments[0].extension&&t.attachments[0].extension.h_tl?this.msgTypeTitle=t.attachments[0].extension.h_tl:t.contentType===ContentType.MAIL&&(this.msgTypeTitle="邮件")}],link:function(e,t,n){},controllerAs:"msg",template:'<div class="msg-bubble">\n    <i class="iconfont msg-err-icon">&#xe63c;</i>\n    <span>本{{msg.msgTypeTitle}}暂时不支持显示，请在手机上查看</span>\n</div>'}}]),module.exports=moduleName;

},{"../../../../service/conversation/ContentType":293,"path":7}],72:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.msgFile",ua=require("../../../../service/ua"),SendStatus=require("../../../../service/conversation/SendStatus"),uriResolve=require("../../../../service/uriResolve/resolve");require("../../../../service/mediaId/mediaId"),require("../../../../service/file/fileTypes"),require("../../../../service/app/download/openFile"),angular.module(moduleName,["ddWeb.mediaId",require("../../../../service/file/fileHelper"),"ddWeb.file.fileTypes","ddWeb.download.openFile",require("../../../../service/microApp/space"),require("../../../../service/app/download/LocalCache"),require("../../../../service/app/download/fileFactory"),require("../../../../service/modal/spaceFileModal")]).directive("msgFile",["mediaId","$fileHelper","$fileTypes","openFileService","spaceApp","DLLocalCache","fileFactory","spaceFileModal",function(e,i,s,n,l,o,t,a){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(s){var n=this;this.info=s.info,this.msgModel=this.info.msg,this.mid=this.msgModel.baseMessage.messageId,this.content=this.msgModel.getContent(),this.fileSrc=e.mid2Url(this.content.fileContent.mediaId),this.fileSize=i.formatFileSize(this.content.fileContent.fileSize);var o=function(){try{s.$digest()}catch(e){}};l.hasPermission().then(function(e){n.showSaveFileBtn=e,o()}),this.savingFile=!1,this.saveFile=function(){var e={fileName:i.escapeFileName(n.content.fileContent.fileName),url:uriResolve.assetsResolve(this.fileSrc)};a.showModal({dialogType:"2",file:e,onSelect:function(){n.savingFile=!0},onSuccess:function(){n.savingFile=!1},onError:function(){n.savingFile=!1}})}}],link:function(e,i,l){var o=e.msg,a=o.content.fileContent.fileType;e.fileIconClass=s.getFileIconByType(a),o.isDesktop=ua.isDesktop;var f=function(){e.$digest()};o.file=t.getFileObj(o.fileSrc,o.msgModel.getContent().fileContent.fileName),o.file.proxy.on(o.file.EVENTS.STRAT,f),o.file.proxy.on(o.file.EVENTS.PROGRESS,f),o.file.proxy.on(o.file.EVENTS.FINISH,f),i.delegate("a[download]","click",function(e){ua.isDesktop&&(event.preventDefault(),o.msgModel.sendStatus===SendStatus.SENDED&&o.file.download())}),i.find(".msg-open-file-link").click(function(e){n.open({url:o.file.url}).then(function(){},function(){o.file.reset()})}),i.on("$destroy",function(){i.find(".msg-open-file-link").unbind(),i.delegate("a[download]","click"),o.file.proxy&&(o.file.proxy.off(o.file.EVENTS.STRAT,f),o.file.proxy.off(o.file.EVENTS.PROGRESS,f),o.file.proxy.off(o.file.EVENTS.FINISH,f))})},controllerAs:"msg",template:'<div class="msg-bubble file-msg">\n    <a href="{{msg.fileSrc}}" download="{{msg.content.fileContent.fileName}}" nwdirectory nwsaveas="{{msg.content.fileContent.fileName}}" mid="{{msg.mid}}"><div class="file-icon" ng-class="fileIconClass"></div></a>\n    <p class="file-name"><a href="{{msg.fileSrc}}" download="{{msg.content.fileContent.fileName}}" nwdirectory nwsaveas="{{msg.content.fileContent.fileName}}" mid="{{msg.mid}}" htitle="{{msg.content.fileContent.fileName}}">{{msg.content.fileContent.fileName}}</a></p>\n    <p class="file-size">({{msg.fileSize}})</p>\n    <a href="{{msg.fileSrc}}" class="download-file-btn" download="{{msg.content.fileContent.fileName}}" nwdirectory nwsaveas="{{msg.content.fileContent.fileName}}" ng-show="!msg.file.isActive&&!msg.file.isFinish&&!msg.file.isError" mid="{{msg.mid}}">下载文件</a>\n    <a href="{{msg.fileSrc}}" class="download-file-btn" download="{{msg.content.fileContent.fileName}}" nwdirectory nwsaveas="{{msg.content.fileContent.fileName}}" ng-show="msg.file.isError" mid="{{msg.mid}}">重新下载</a>\n    <a href="javascript:;" class="download-file-btn msg-open-file-link" mid="{{msg.mid}}" ng-show="msg.isDesktop&&msg.file.isFinish">打开文件夹</a>\n    <a href="javascript:;" class="download-span" ng-show="msg.file.isActive&&!msg.file.isFinish">正在下载</a>\n    <a href="javascript:;" target="_blank" class="save-file-btn" ng-show="msg.showSaveFileBtn && !msg.savingFile" mid="{{msg.mid}}" ng-click="msg.saveFile()">转存钉盘</a>\n    <a href="javascript:;" class="save-span" ng-show="msg.savingFile">正在转存</a>\n    <div progress-bar progress="msg.file.progress" ng-if="msg.file.isActive"></div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/app/download/LocalCache":249,"../../../../service/app/download/fileFactory":252,"../../../../service/app/download/openFile":253,"../../../../service/conversation/SendStatus":304,"../../../../service/file/fileHelper":379,"../../../../service/file/fileTypes":381,"../../../../service/mediaId/mediaId":433,"../../../../service/microApp/space":440,"../../../../service/modal/spaceFileModal":474,"../../../../service/ua":621,"../../../../service/uriResolve/resolve":628,"path":7}],73:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),moduleName="ddWeb.chat.msgGroupAnnounce";angular.module(moduleName,[require("../../../../service/unPopModal/groupAnnounce"),require("../../../../filter/msgfilter")]).directive("groupAnnounce",["groupAnnounceService",function(e){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(n){this.info=n.info,this.msgModel=this.info.msg,this.showGroupBulletinModal=function(n){n.preventDefault(),n.stopPropagation(),e.open({cid:_.get(this.msgModel,"baseMessage.conversationId")})}}],link:function(e,n,o){e.msg},controllerAs:"msg",template:'<div class="msg-bubble group-announce-msg">\n    <pre class="text" ng-bind-html="msg.msgModel.getContent().attachments[0].extension.text|msgfilter"></pre>\n    <a class="msg-tips" ng-click="msg.showGroupBulletinModal($event)">群公告</a>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../filter/msgfilter":195,"../../../../service/unPopModal/groupAnnounce":624,"lodash":919,"path":7}],74:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.msgImg",_=require("lodash"),msgContentTypeChecker=require("../../../../service/conversation/msgContentTypeChecker"),SendStatus=require("@ali/wksdk").messageSendStatus,uriResolve=require("../../../../service/uriResolve/resolve");require("../../../../service/mediaId/mediaId");var EVENTS=require("../../../../service/events");angular.module(moduleName,["ddWeb.mediaId","ddWeb.service.ImgType",require("../../../../service/img/Rotate"),require("../../../log/imgErrorLog")]).directive("msgImg",["mediaId","Rotate",function(e,o){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){this.info=e.info,this.msgModel=this.info.msg,msgContentTypeChecker.isEmotionImage(this.msgModel)?this.isEmotionCollection=!0:this.isEmotionCollection=!1,this.isCustomEmotion=msgContentTypeChecker.isCustomEmotion(this.msgModel)}],link:function(t,i,s){function n(){try{t.$digest()}catch(e){console.log(e)}}function m(e,o,t,i){if(e){var s=o;o=t,t=s}if(o>d){var n=o/d;o=d,t/=n}e?g.width(o).height(t):(r.isEmotionCollection||a.width(o).height(t),r.isCustomEmotion&&a.height(t))}function l(e){r.isEmotionCollection&&(e.stopPropagation(),e.preventDefault())}var r=t.msg,a=$(i.find(".chat-img")),g=$(i),d=230,c=0,u=i[0];r.SendStatus=SendStatus;var v=null,E=null,h=function(){var i=r.msgModel.getContent();r.filename=i.photoContent.filename;var s=!1;if(i.photoContent.mediaId){if(r.isEmotionCollection)var n=e.mid2Url(i.photoContent.mediaId,{imageSize:"origin"});else var n=e.mid2Url(i.photoContent.mediaId,{autoRotate:!0});if(n===E)return;r.imgSrc=E=n,"local"===v&&a[0].removeAttribute("src"),v="mediaId"}else{var n=_.get(r.msgModel,"_local.localURI")||_.get(r.msgModel,"localInfo.dataURI");if(n||(n=uriResolve.assetsResolve("app/img/filelogo/pic.png")),n===E)return;r.imgSrc=E=n,v="local",s=!0}c=1!==i.photoContent.type?0:o(i.photoContent.orientation);var l=90===c||270===c;if(s)a&&a.length>0&&(a[0].style.display="none",a[0].onload=function(){t.$emit(EVENTS.CHAT_BUBBLE_SIZE_CHANGE,{mid:t.info.mid}),a[0].style.display="block",m(l,this.width,this.height,c)});else{var g=/_([0-9]+)_([0-9]+)\./.exec(r.imgSrc);if(!g)return;var d=g[1],u=g[2];try{d=parseInt(d),u=parseInt(u)}catch(e){return}t.$emit(EVENTS.CHAT_BUBBLE_SIZE_CHANGE,{mid:t.info.mid}),a&&a.length>0&&(a[0].style.visibility="hidden",a[0].onload=function(){a[0].style.visibility="visible"},a[0].onerror=function(){a[0].style.visibility="visible"}),m(l,d,u,c)}};r.msgModel.on(r.msgModel.EventsName.SEND_SUCCESS,h),r.msgModel.on(r.msgModel.EventsName.SEND_SUCCESS,n),r.msgModel.on(r.msgModel.EventsName.PROGRESS_UPDATE,n),r.msgModel.on(r.msgModel.EventsName.SEND_FAIL,n),h(),u.addEventListener("contextmenu",l,!1),t.$on("$destroy",function(){u.removeEventListener("contextmenu",l,!1),r.msgModel.off(r.msgModel.EventsName.SEND_SUCCESS,h),r.msgModel.off(r.msgModel.EventsName.SEND_SUCCESS,n),r.msgModel.off(r.msgModel.EventsName.PROGRESS_UPDATE,n),r.msgModel.off(r.msgModel.EventsName.SEND_FAIL,n)})},controllerAs:"msg",template:'<div class="msg-bubble img-msg" ng-class="{ \'img-emotion\': msg.isEmotionCollection, \'no-media-id\': !msg.msgModel.baseMessage.content.photoContent.mediaId}">\n  <img img-error-log class="chat-img" data-ng-imgname="{{msg.filename}}" ng-class="{\'custom-emotion\': msg.isCustomEmotion}" ng-src="{{msg.imgSrc}}" alt="图片" log="chat_image_view_big" msg-id="{{msg.msgModel.baseMessage.messageId}}">\n    <!-- 上传中并且不是自定义表情 -->\n    <div progress-bar progress="msg.msgModel.uploadProgress" ng-if="msg.msgModel.sendStatus === msg.SendStatus.SENDING"></div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/conversation/msgContentTypeChecker":319,"../../../../service/events":376,"../../../../service/img/Rotate":407,"../../../../service/mediaId/mediaId":433,"../../../../service/uriResolve/resolve":628,"../../../log/imgErrorLog":116,"@ali/wksdk":779,"lodash":919,"path":7}],75:[function(require,module,exports){
"use strict";var path=require("path"),ua=require("../../../../service/ua"),_=require("lodash"),moduleName="ddWeb.chat.msgImgText";angular.module(moduleName,[require("../../../../service/mediaId/mediaId"),require("../../../../service/frameContainer/slidePanel")]).directive("msgImgText",["mediaId","openSlidePanelContainer",function(e,t){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){this.info=e.info,this.msgModel=this.info.msg,this.content=this.msgModel.baseMessage.content;var s=_.get(this.content,"attachments[0]");this.showDetail=function(e){if(e.stopPropagation(),e.preventDefault(),s&&s.url){var i=!ua.isDesktop&&"https"!==s.url.slice(0,5);return i?void window.open(s.url):void t({title:s.extension.title,url:s.url})}}}],link:function(t,s,i){var n=t.msg,r=function(){if(_.get(n,"msgModel.baseMessage.content.attachments[0].extension.picUrl"))try{n.imgSrc=e.mid2Url(_.get(n,"msgModel.baseMessage.content.attachments[0].extension.picUrl"))}catch(e){return}};r()},controllerAs:"msg",template:'<div class="msg-bubble-img-text" ng-click="msg.showDetail($event)">\n    <pre  class="img-text-title">{{msg.content.attachments[0].extension.title}}</pre>\n    <pre class="img-text-datetime">{{msg.info.msg.baseMessage.createdAt | dateTime:true}}</pre>\n    <img img-error-log class="img-text-img" ng-src="{{msg.imgSrc}}" />\n    <pre class="img-text-extensiontext">{{msg.content.attachments[0].extension.text}}</pre>\n    <hr class="img-text-hrstyle"/>\n    <p class="img-text-readalltext">阅读全文<i class="iconfont img-text-icon">&#xe652;</i></p>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/frameContainer/slidePanel":388,"../../../../service/mediaId/mediaId":433,"../../../../service/ua":621,"lodash":919,"path":7}],76:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.msgMail",_=require("lodash"),Uri=require("jsuri");require("../../../../filter/msgfilter"),require("../../../../service/mediaId/mediaId");var uriResolve=require("../../../../service/uriResolve/resolve");angular.module(moduleName,["ddWeb.filter.msgfilter","ddWeb.mediaId",require("../../../../service/widget/emailOpenService")]).directive("msgMail",["mediaId","emailOpenService",function(e,t){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){this.info=e.info,this.msgModel=this.info.msg}],link:function(e,n,s){var a=e.msg;if(a.linkImgSrc=uriResolve.assetsResolve("app/img/notification/mail.jpg"),a.hasAttachments=!1,a.content=a.msgModel.getContent(),_.has(a,"content.attachments[0].extension.file_count")){var i=parseInt(a.content.attachments[0].extension.file_count);!isNaN(i)&&i>0&&(a.hasAttachments=!0)}a.contentText="此邮件中没有内容",_.has(a,"content.attachments[0].extension.content")&&!_.isEmpty(a.content.attachments[0].extension.content)&&(a.contentText=a.content.attachments[0].extension.content),a.openEmail=function(){var e=null;if(_.has(a,"content.attachments[0].extension.mail_message_id")){var n=new Uri("/forwardLink/goMailDetail").addQueryParam("messageId",a.content.attachments[0].extension.mail_message_id).toString();e={redirect_url:n}}t.openEmail(e)}},controllerAs:"msg",template:'<div class="msg-bubble share-msg mail-msg" ng-click="msg.openEmail();">\n    <span class="iconfont mail-msg-attachment" ng-if="msg.hasAttachments">&#xe621;</span>\n    <p class="share-title">\n        <a ng-if="msg.content.attachments[0].extension.title.length!==0"><span ng-if="msg.content.attachments[0].extension.tl">{{msg.content.attachments[0].extension.tl}}</span><span ng-if="!msg.content.attachments[0].extension.tl">无主题</span></a>\n    </p>\n    <div class="share-detail">\n        <div class="share-img-wrapper mail-wrapper">\n            <a><img class="share-img" ng-src="{{msg.linkImgSrc}}" alt="图片" /></a>\n        </div>\n        <a class="share-content">{{msg.contentText}}</a>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../filter/msgfilter":195,"../../../../service/mediaId/mediaId":433,"../../../../service/uriResolve/resolve":628,"../../../../service/widget/emailOpenService":661,"jsuri":901,"lodash":919,"path":7}],77:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),localLog=require("../../../../service/log/localLog"),$my=require("../../../../service/user/my"),AnHengResCode=require("../../../../service/safety/anHengResCode"),moduleName="ddWeb.chat.msgNeedDecrypt",ContentType=require("../../../../service/conversation/ContentType");angular.module(moduleName,[require("../../../widget/loading/loading"),require("../../../../service/conversation/conversationWithSDK"),require("../../../../service/toast/toast"),require("../../../../service/modal/updateConfirm")]).directive("msgNeedDecrypt",["conversationWithSDK","toastService","updateConfirmService",function(e,t,s){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope","$translate",function(i,n){var r=this;this.info=i.info,this.msgModel=i.info.msg,this.isDecrypting=!1,this.needDecrypt=this.msgModel.needDecrypt(),this.contentType=_.get(this.msgModel,"baseMessage.content.contentType"),this.canBeDecrypted=this.msgModel.canBeDecrypt();var c=_.get(this.msgModel,"baseMessage.extension.oid");c?this.isLeave=!$my.getOrgByOid(c):this.isLeave=!1,this.text={dt_message_decrypt_error_dismission:n.instant("dt_message_decrypt_error_dismission"),dt_message_decrypt_error_no_key:n.instant("dt_message_decrypt_error_no_key"),pc_safety_upgrade_tips:n.instant("pc_safety_upgrade_tips"),pc_safety_upgrade_action:n.instant("pc_safety_upgrade_action"),pc_safety_upgrade_confirm_title:n.instant("pc_safety_upgrade_confirm_title"),pc_safety_upgrade_confirm_content:n.instant("pc_safety_upgrade_confirm_content"),and_im_encrypt_decrypt_error_prefix:n.instant("and_im_encrypt_decrypt_error_prefix")},this.errorTips=this.text.and_im_encrypt_decrypt_error_prefix;var a=function(){try{i.$digest()}catch(e){}};this.upgrade=function(){return s({title:r.text.pc_safety_upgrade_confirm_title,content:r.text.pc_safety_upgrade_confirm_content})},this._decrypt=function(e){if(!this.isDecrypting)return this.isDecrypting=!0,this.msgModel.decrypt().then(function(){this.isDecrypting=!1,this.needDecrypt=!1}.bind(this)).catch(function(s){localLog.error("msg decrypt fail",this.msgModel.baseMessage.messageId,s),s&&s.code&&(s.code===AnHengResCode.DTMsgRetLocalKeyIsOnRequestButNotReturn||s.code===AnHengResCode.DTMsgRetLocalKeyNoExists)&&(this.errorTips=this.text.dt_message_decrypt_error_no_key),setTimeout(function(){this.isDecrypting=!1,e||t.show("消息解密失败",{type:"error"}),a()}.bind(this),100)}.bind(this))},this.decrypt=function(){this._decrypt().then(function(){e.tryDecryptMsgs(this.msgModel.getConvId())}.bind(this))},this.canBeDecrypted&&this._decrypt(!0)}],link:function(e,t,s){},controllerAs:"msg",template:'<div class="msg-decrypt-box">\n\n  <div class="msg-bubble decrypt-msg" ng-if="!msg.canBeDecrypted">\n    <span class="msg-need-decrypt">{{::msg.text.pc_safety_upgrade_tips}} <a href="javascript:;" ng-click="msg.upgrade()">{{::msg.text.pc_safety_upgrade_action}}</a></span>\n  </div>\n\n  <div class="msg-bubble decrypt-msg" ng-if="msg.canBeDecrypted && !msg.isLeave">\n      <span class="msg-need-decrypt" ng-click="msg.decrypt()">\n        {{msg.errorTips}}\n      </span>\n  </div>\n  <div class="msg-bubble decrypt-msg" ng-if="msg.canBeDecrypted && msg.isLeave">\n      <span class="msg-not-need-decrypt">\n        {{::msg.text.dt_message_decrypt_error_dismission}}\n      </span>\n  </div>\n  <i class="iconfont icon-decrypt-status" ng-if="msg.canBeDecrypted && !msg.isLeave" ng-class="{\'icon-decrypt-loading\': msg.isDecrypting, \'loop-loading\': msg.isDecrypting}" ng-click="msg.decrypt()" title="重新解密" ng-show="msg.msgModel.needDecrypt()">&#xe69e;</i>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/conversation/ContentType":293,"../../../../service/conversation/conversationWithSDK":308,"../../../../service/log/localLog":421,"../../../../service/modal/updateConfirm":478,"../../../../service/safety/anHengResCode":547,"../../../../service/toast/toast":611,"../../../../service/user/my":635,"../../../widget/loading/loading":163,"lodash":919,"path":7}],78:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),ua=require("../../../../service/ua"),moduleName="ddWeb.chat.msgOA";angular.module(moduleName,[require("../../../../service/mediaId/mediaId"),require("../../../../service/frameContainer/slidePanel"),require("../../../../service/chat/colorTransfer"),require("../../../../service/log/log")]).directive("msgOa",["mediaId","openSlidePanelContainer","colorTransfer","log","$translate",function(t,n,e,s,a){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(n){function o(){var t=n.info.position?_.get(i.msgModel,"baseMessage.extension.receiverAction"):_.get(i.msgModel,"baseMessage.extension.senderAction");if(t){var s=null;try{s=JSON.parse(t)}catch(t){s=null}s&&Array.isArray(s)&&s.forEach(function(t){t.bg&&(t._bgColor=e(t.bg))}),i.actionStatus=s}}var i=this;if(i.info=n.info,i.msgModel=i.info.msg,i.content=i.msgModel.getContent(),i.headBgColor=null,i.imgSrc=null,i.showFile=!1,i.text={pc_im_oa_nosupport:a.instant("pc_im_oa_nosupport")},_.has(i.content,"attachments[0].extension")&&(i.headBgColor=e(i.content.attachments[0].extension.h_bg),i.imgSrc=t.mid2Url(i.content.attachments[0].extension.media_id||""),i.showFile=i.content.attachments[0].extension.b_file_count&&0!=i.content.attachments[0].extension.b_file_count),i.extensionForms=[],_.has(i.content,"attachments[0].extension.b_form")){try{JSON.parse(i.content.attachments[0].extension.b_form).forEach(function(t){i.extensionForms.push(t)})}catch(t){s.info("msgOA JSON.parse err: "+i.content.attachments[0].extension.b_form)}}o(),i.msgModel.on(i.msgModel.EventsName.UPDATE_EXTENSION,o),n.$on("$destroy",function(){i.msgModel.off(i.msgModel.EventsName.UPDATE_EXTENSION,o)})}],link:function(t,e,s){var a="";t.content=t.info.msg.getContent(),_.has(t.content,"attachments[0].url")&&(a=t.content.attachments[0].url);var o="";_.has(t.content,"attachments[0].extension.b_tl")&&(o=t.content.attachments[0].extension.b_tl);var i=!1,c=["日志","公告","审批"],m=!1;_.has(t.content,"attachments[0].extension.h_tl")&&_.indexOf(c,t.content.attachments[0].extension.h_tl)>=0&&(i=!0,"日志"===t.content.attachments[0].extension.h_tl&&(m=!0)),22683484===_.get(t.info.msg,"baseMessage.openIdEx.openId")&&"用户社区"===_.get(t.content,"attachments[0].extension.h_tl")&&(i=!0);var r=_.get(t.content,"attachments[0].extension.pc_msg_url");!r||!ua.isDesktop&&"https://"!==r.slice(0,8)||(i=!0,a=r),t.msgOA.showAppPage=i,t.openOAMsg=function(t){t.preventDefault(),t.stopPropagation(),n({url:a,title:o,isBig:m,showAppPage:i})}},controllerAs:"msgOA",template:'<div class="msg-bubble oa-msg">\n    <div class="msg-head" ng-style="{\'background-color\':msgOA.headBgColor}">{{msgOA.content.attachments[0].extension.h_tl}}</div>\n    <div class="msg-body">\n        <h4 class="msg-title" ng-if="msgOA.content.attachments[0].extension.b_tl">{{msgOA.content.attachments[0].extension.b_tl}}</h4>\n        <div class="msg-img-wrp" ng-if="msgOA.imgSrc">\n            <img ng-src="{{msgOA.imgSrc}}" class="msg-img" alt="" />\n        </div>\n        <div class="msg-content" ng-if="msgOA.content.attachments[0].extension.b_content">{{msgOA.content.attachments[0].extension.b_content}}</div>\n        <div class="msg-form" ng-if="msgOA.content.attachments[0].extension.b_form">\n            <div class="msg-form-item clr" ng-repeat="item in msgOA.extensionForms">\n                <span class="msg-form-key">{{item.k}}</span>\n                <span class="msg-form-val">{{item.v}}</span>\n            </div>\n        </div>\n        <div class="msg-attachment" ng-if="msgOA.showFile">\n            <i class="iconfont">&#xe621;</i>\n            <span>{{msgOA.content.attachments[0].extension.b_file_count}}个附件</span>\n        </div>\n        <div class="msg-info" ng-if="msgOA.content.attachments[0].extension.author">\n            <span class="msg-author">{{msgOA.content.attachments[0].extension.author}}</span>\n            <span class="msg-date">{{msgOA.content.attachments[0].extension.date | dateTime:true}}</span>\n        </div>\n        <div ng-if="msgOA.actionStatus && msgOA.actionStatus.length">\n            <span ng-repeat="action in msgOA.actionStatus" class="msg-receiveraction" ng-if="action.tp===\'txt\'" ng-style="{\'color\':action._bgColor}">{{action.txt}}</span>\n        </div>\n        <div class="msg-action" ng-click="openOAMsg($event)">\n            <a href="javascript:;">查看详情</a>\n        </div>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/chat/colorTransfer":273,"../../../../service/frameContainer/slidePanel":388,"../../../../service/log/log":422,"../../../../service/mediaId/mediaId":433,"../../../../service/ua":621,"lodash":919,"path":7}],79:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),MainScene=require("../../../../service/user/MainScene"),moduleName="ddWeb.chat.msgRecalled";angular.module(moduleName,[require("../../../../service/user/userManager"),require("../../../../service/conversation/conversationWithSDK")]).directive("msgRecalled",["userManager","conversationWithSDK",function(e,t){return{restrict:"AE",replace:!0,scope:{msg:"="},link:function(r,n,i){var a=r.msg;if(a.isMySend())r.text="你撤回了一条消息";else{var s=t.getConvObj(a.getConvId());e.getUsers([a.getSenderOpenId()]).then(function(e){if(e&&e[0]){var t=e[0],n=s.convId,i=s.getScene(MainScene.SYSTEM_MSG);t.getName(n,i,{oid:s.orgId}).then(function(e){r.text=e+" 撤回了一条消息";try{r.$digest()}catch(e){}})}})}},controllerAs:"msg",template:'<div class="chat-status chat-system-notice" ng-bind-html="text|emoj"></div>\n'}}]),module.exports=moduleName;
},{"../../../../service/conversation/conversationWithSDK":308,"../../../../service/user/MainScene":629,"../../../../service/user/userManager":641,"lodash":919,"path":7}],80:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.msgRedEnvelope",ContentType=require("../../../../service/conversation/ContentType");angular.module(moduleName,[]).directive("msgRedEnvelope",[function(){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){}],link:function(e,n,o){},controllerAs:"msg",template:'<div class="msg-bubble red-envelope-msg">\n    <i class="icon-red-envelope"></i><span>红包消息暂时不支持显示，快到手机上查看</span>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/conversation/ContentType":293,"path":7}],81:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.msgShare",uriResolve=require("../../../../service/uriResolve/resolve");require("../../../../filter/msgfilter"),require("../../../../service/mediaId/mediaId");var _=require("lodash");angular.module(moduleName,["ddWeb.filter.msgfilter","ddWeb.mediaId"]).directive("msgShare",["mediaId","$sce",function(e,t){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){this.info=e.info,this.msgMoodel=this.info.msg,this.content=this.msgMoodel.getContent()}],link:function(t,s,n){var a=t.msg;if(_.get(a,"content.attachments[0].extension.picUrl"))try{a.linkImgSrc=e.mid2Url(a.content.attachments[0].extension.picUrl)}catch(e){a.linkImgSrc=uriResolve.assetsResolve("app/img/filelogo/share.png")}else a.linkImgSrc=uriResolve.assetsResolve("app/img/filelogo/share.png")},controllerAs:"msg",template:'<div class="msg-bubble share-msg">\n    <p class="share-title">\n        <a href="{{msg.content.attachments[0].url}}"  target="_blank" ng-if="msg.content.attachments[0].extension.title.length!==0">{{msg.content.attachments[0].extension.title}}</a>\n    </p>\n    <div class="share-detail">\n        <div class="share-img-wrapper">\n            <a href="{{msg.content.attachments[0].url}}"  target="_blank"><img class="share-img" ng-src="{{msg.linkImgSrc}}" alt="图片" /></a>\n        </div>\n        <a href="{{msg.content.attachments[0].url}}"  target="_blank" class="share-content">{{msg.content.attachments[0].extension.text}}</a>\n    </div>\n</div>'}}]),module.exports=moduleName;

},{"../../../../filter/msgfilter":195,"../../../../service/mediaId/mediaId":433,"../../../../service/uriResolve/resolve":628,"lodash":919,"path":7}],82:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.msgSpaceFile",fileTypes=require("@ali/ding-filetypes"),_=require("lodash"),spaceFileHelper=require("../../../../service/file/spaceFileHelper"),previewFileConfig=require("../../../../service/file/previewFileConfig"),SendStatus=require("../../../../service/conversation/SendStatus"),ua=require("../../../../service/ua"),$my=require("../../../../service/user/my");angular.module(moduleName,[require("../../../../service/file/fileHelper"),require("../../../../service/toast/toast"),require("../../../../service/app/download/openFile"),require("../../../../service/microApp/space"),require("../../../../service/modal/spaceFileModal"),require("../../../../service/app/download/fileFactory"),require("../../../../service/app/download/LocalCache"),require("../../../../service/unPopModal/groupFileList"),require("../../../../service/modal/previewFileModal"),require("../../../../service/log/lwlog"),require("../../../../service/conversation/conversationWithSDK")]).directive("msgSpaceFile",["$fileHelper","toastService","openFileService","spaceApp","spaceFileModal","fileFactory","DLLocalCache","openGroupFileList","previewFileModal","lwlog","conversationWithSDK",function(e,i,s,n,a,t,o,l,r,c,d){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){this.info=e.info}],link:function(o,f,g){var p=o.info.msg;o.msg=p,o.isMine=p.baseMessage.openIdEx.openId===$my.uid,o.messageId=p.baseMessage.messageId,o.isDesktop=ua.isDesktop;var u=p.baseMessage.conversationId,S=d.getConvObj(u),m=S.baseConversation,v=m.ownerId===$my.uid,h=m.extension||{};o.docReadonly=!v&&"1"===h.doc_readonly||!1,o.watermark="1"===h.doc_readonly&&"1"===h.watermark;var w=function(){try{o.$digest()}catch(e){}};if(p.baseMessage.content&&p.baseMessage.content.attachments&&p.baseMessage.content.attachments[0]){var E=p.baseMessage.content.attachments[0];o.fileName=E.extension.f_name,o.fileSize=E.extension.f_size,o.fileSizeFormatted=e.formatFileSize(o.fileSize),o.fileIconClass=fileTypes.getFileIconByType(E.extension.f_type),o.isDesktop=ua.isDesktop,p.sendStatus===SendStatus.SENDED||void 0===p.sendStatus?o.fileUri=spaceFileHelper.getFileUri(E.extension):o.fileUri="javascript:;"}o.SendStatus=SendStatus,p.on(o.msg.EventsName.PROGRESS_UPDATE,w);var F=function(){var e=p.baseMessage.content.attachments[0];o.messageId=p.baseMessage.messageId,o.file.name=o.fileName=e.extension.f_name,o.file.url=o.fileUri=spaceFileHelper.getFileUri(e.extension),o.$digest()};p.on(o.msg.EventsName.SEND_SUCCESS,F),o.file=t.getFileObj(o.fileUri,o.fileName),o.file.proxy.on(o.file.EVENTS.STRAT,w),o.file.proxy.on(o.file.EVENTS.PROGRESS,w),o.file.proxy.on(o.file.EVENTS.FINISH,w),f.delegate("a[download]","click",function(e){p.updateSpaceFileMsgToRead(),ua.isDesktop&&(e.preventDefault(),p.sendStatus===SendStatus.SENDED&&o.file.download()),c.commLog("chat_filebubble_download","")}),f.delegate("i[canceldownload]","click",function(e){if(ua.isDesktop){e.preventDefault();var i=o.file;i.isActive&&!i.isFinish&&(i.cancelDownload(),i.reset())}}),f.on("click",".msg-open-file-link",function(e){e.preventDefault(),s.open({url:o.file.url}).then(function(){},function(){o.file.reset()})}),n.hasPermission().then(function(e){o.showSaveFileBtn=e,w()}),o.savingFile=!1,o.saveFile=function(){if(_.has(p,"baseMessage.content.attachments[0].extension")){var e=p.baseMessage.content.attachments[0].extension,i={orgId:e.oid&&"0"!==e.oid?e.oid:"",spaceId:e.s_id,path:e.path,fileName:e.f_name,id:e.f_id};a.showModal({dialogType:"2",file:i,onSelect:function(){o.savingFile=!0},onSuccess:function(){o.savingFile=!1},onError:function(){o.savingFile=!1}})}},o.openFileList=function(e){if(e.stopPropagation(),e.preventDefault(),_.has(p,"baseMessage.content.attachments[0].extension")){var i=p.baseMessage.content.attachments[0].extension;l({cid:p.baseMessage.conversationId,orgId:i.oid?i.oid:o.info.orgId,spaceId:i.s_id})}},o.preview=function(){if(o.msg.sendStatus===o.SendStatus.SENDED){var e=(_.get(p,"baseMessage.content.attachments[0].extension"),_.assign({},_.get(p,"baseMessage.content.attachments[0].extension"),{f_readonly:o.docReadonly,f_watermark:o.watermark}));spaceFileHelper.getPreviewUri(e,previewFileConfig.iframe_width,previewFileConfig.iframe_height).then(function(e){e.isUnsupport||p.updateSpaceFileMsgToRead();var i=p.baseMessage.content.attachments[0].extension;e.orgId=i.oid&&"0"!==i.oid?i.oid:"",r(_.assign(e,{onDownload:function(){p.updateSpaceFileMsgToRead()}}))}).catch(function(e){i.show(e.statusMsg,{type:"error"})}),c.commLog("chat_filebubble_view","")}},f.one("$destroy",function(){f.off("click",".msg-open-file-link"),f.off("click","a.disabled"),f.undelegate("a[download]","click"),p.off(o.msg.EventsName.PROGRESS_UPDATE,w),p.off(o.msg.EventsName.SEND_SUCCESS,F),o.file.proxy&&(o.file.proxy.off(o.file.EVENTS.STRAT,w),o.file.proxy.off(o.file.EVENTS.PROGRESS,w),o.file.proxy.off(o.file.EVENTS.FINISH,w))})},controllerAs:"content",template:'<div class="msg-bubble file-msg">\n    <div class="file-icon" ng-class="fileIconClass" ng-click="preview()"></div>\n    <p class="file-name" htitle="{{fileName}}">\n        <span ng-click="preview()">{{fileName}}</span>\n    </p>\n    <p class="file-size">({{fileSizeFormatted}})</p>\n    <a href="{{fileUri}}" target="_blank" class="download-file-btn" download="{{fileName}}" nwdirectory nwsaveas="{{fileName}}" ng-show="!docReadonly&&!file.isActive&&!file.isFinish&&!file.isError&&(msg.sendStatus === SendStatus.SENDED || msg.sendStatus === undefined)" mid="{{messageId}}">下载文件</a>\n    <a href="{{fileUri}}" target="_blank" class="download-file-btn" download="{{fileName}}" nwdirectory nwsaveas="{{fileName}}" ng-show="!docReadonly&&file.isError" mid="{{messageId}}">重新下载</a>\n    <a href="javascript:;" class="download-file-btn msg-open-file-link" mid="{{messageId}}" ng-show="!docReadonly&&isDesktop&&file.isFinish">打开文件夹</a>\n    <a href="javascript:;" class="download-span" ng-show="!docReadonly&&file.isActive&&!file.isFinish">正在下载</a>\n    <a href="javascript:;" class="save-file-btn" ng-show="!docReadonly&&(msg.sendStatus === SendStatus.SENDED || msg.sendStatus === undefined) && showSaveFileBtn && !savingFile" mid="{{messageId}}" ng-click="saveFile($event)">转存钉盘</a>\n    <a href="javascript:;" class="save-span" ng-show="!docReadonly&&savingFile">正在转存</a>\n    <a href="javascript:;" class="preview-span" ng-if="msg.sendStatus === SendStatus.SENDED" ng-click="preview()">预览</a>\n    <div progress-bar progress="file.progress" ng-if="file.isActive"></div>\n    <div progress-bar progress="msg.uploadProgress" ng-if="msg.sendStatus === SendStatus.WAITING_SEND||msg.sendStatus === SendStatus.SENDING"></div>\n    <div class="msg-tips" ng-if="!info.isSingleChat&&msg.sendStatus===SendStatus.SENDED&&!file.isActive" ng-click="openFileList($event)">群文件</div>\n    <span class="cancel-sending"  ng-if="msg.sendStatus === SendStatus.WAITING_SEND">等待发送</span>\n    <span class="cancel-sending"  ng-if="msg.sendStatus === SendStatus.SENDING">正在发送</span>\n    <i class="cancel-sending-icon" canceldownload={{fileName}} htitle="取消发送" htitle-direction="left" ng-click="msg.cancelSending();"  ng-if="msg.sendStatus === SendStatus.SENDING || msg.sendStatus === SendStatus.WAITING_SEND" ></i>\n    <i class="cancel-downloading-icon"  canceldownload={{fileName}}  htitle="取消下载" htitle-direction="right"   ng-if="!docReadonly&&file.isActive&&!file.isFinish" ></i>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/app/download/LocalCache":249,"../../../../service/app/download/fileFactory":252,"../../../../service/app/download/openFile":253,"../../../../service/conversation/SendStatus":304,"../../../../service/conversation/conversationWithSDK":308,"../../../../service/file/fileHelper":379,"../../../../service/file/previewFileConfig":382,"../../../../service/file/spaceFileHelper":385,"../../../../service/log/lwlog":424,"../../../../service/microApp/space":440,"../../../../service/modal/previewFileModal":465,"../../../../service/modal/spaceFileModal":474,"../../../../service/toast/toast":611,"../../../../service/ua":621,"../../../../service/unPopModal/groupFileList":625,"../../../../service/user/my":635,"@ali/ding-filetypes":714,"lodash":919,"path":7}],83:[function(require,module,exports){
"use strict";var path=require("path"),localLog=require("../../../../service/log/localLog"),_=require("lodash"),EVENTS=require("../../../../service/events"),moduleName="ddWeb.chat.msgText";angular.module(moduleName,[require("../../../widget/loading/loading"),require("../../../../service/conversation/conversationWithSDK"),require("../../../../filter/msgfilter"),require("../../../../service/modal/profileModal"),require("../../../../service/toast/toast")]).directive("msgText",["profileModalService","conversationWithSDK","toastService",function(e,t,r){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){this.info=e.info,this.msgModel=this.info.msg,this.content=this.msgModel.baseMessage.content,this.atOpenIds=this.content.atOpenIds}],link:function(t,r,i){var n=r[0],o=function(t){for(var r=t.target;r&&r!==n;){if(Array.prototype.indexOf.call(r.classList,"chat-content-text-link")>-1){var i=r.getAttribute("data-uid");return void(i&&e(i))}r=r.parentElement}},s=function(e){var t=e.target;if("IMG"===t.tagName){var e=new Event(EVENTS.CHAT_BUBBLE_SIZE_CHANGE,{bubbles:!0});n.dispatchEvent(e)}},a=function(e){var t=e.target;if("IMG"===t.tagName){var e=new Event(EVENTS.CHAT_BUBBLE_SIZE_CHANGE,{bubbles:!0});n.dispatchEvent(e)}};n.addEventListener("load",s,!0),n.addEventListener("error",a,!0),n.addEventListener("click",o,!1),t.$on("$destroy",function(){n.removeEventListener("load",s,!0),n.removeEventListener("error",a,!0),n.removeEventListener("click",o,!1)})},controllerAs:"msg",template:'<div class="msg-bubble">\n    <pre class="text" ng-bind-html="msg.content.textContent.text | msgfilter : msg.atOpenIds : msg.info.highlightKeyword"></pre>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../filter/msgfilter":195,"../../../../service/conversation/conversationWithSDK":308,"../../../../service/events":376,"../../../../service/log/localLog":421,"../../../../service/modal/profileModal":466,"../../../../service/toast/toast":611,"../../../widget/loading/loading":163,"lodash":919,"path":7}],84:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.msgVoice";angular.module(moduleName,[require("../../../player/audioPlayer")]).directive("msgVoice",[function(){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(e){var o=this;this.info=e.info,this.msgModel=this.info.msg,this.audioDuration=parseInt(this.msgModel.baseMessage.content.audioContent.duration/1e3),this.onPlayStart=function(){o.msgModel.updateAudioMsgToRead()}}],link:function(e,o,t){},controllerAs:"msg",template:'<div class="msg-bubble audio-msg">\n    <audio-player audio-media-id="msg.msgModel.getContent().audioContent.mediaId" audio-duration="msg.audioDuration" on-play-start="msg.onPlayStart()"></audio-player>\n</div>'}}]),module.exports=moduleName;

},{"../../../player/audioPlayer":123,"path":7}],85:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),moduleName="ddWeb.chat.msgVoip",$my=require("../../../../service/user/my"),localLog=require("../../../../service/log/localLog");angular.module(moduleName,[require("../../../../filter/secondTohhmmss"),require("../../../../service/chat/chatCallService")]).directive("msgVoip",["$filter","voipWindowManager","chatCallService",function(e,i,o){return{restrict:"AE",replace:!0,scope:{info:"="},controller:["$scope",function(i){var t=i.info.msg,r=t.baseMessage.content.attachments[0],a=r.extension.duration;0===parseInt(a)?this.text="语音未接通，点击重拨":this.text="语音通话时长 "+e("secondTohhmmss")(a),this.makeCall=function(){if(i.info.isSingleChat){var e=_.get(t,"baseMessage.conversationId").split(":"),r=e[0]===$my.uid+""?e[1]:e[0];localLog.info("create call from msgVoip to ",r),o.createCall({calleeUid:r}).catch(function(e){localLog.error("create call error",JSON.stringify(e))})}}}],link:function(e,i,o){},controllerAs:"msg",template:'<div class="msg-bubble voip-msg" ng-click="msg.makeCall()">\n    <pre class="text" >{{msg.text}}<i class="iconfont icon-calllog">&#xe6b5;</i></pre>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../filter/secondTohhmmss":196,"../../../../service/chat/chatCallService":272,"../../../../service/log/localLog":421,"../../../../service/user/my":635,"lodash":919,"path":7}],86:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),MsgTag=require("../../../service/conversation/MsgTag"),MsgType=require("../../../service/conversation/MsgType"),ua=require("../../../service/ua"),moduleName="ddWeb.chat.msgContent",ContentType=require("../../../service/conversation/ContentType");angular.module(moduleName,[require("./content/msgText"),require("./content/msgImg"),require("./content/msgImgText"),require("./content/msgVoice"),require("./content/msgVoip"),require("./content/msgFile"),require("./content/msgShare"),require("./content/msgErr"),require("./content/dingText"),require("./content/dingVoice"),require("./content/msgSpaceFile"),require("./content/msgCard"),require("./content/msgMail"),require("./content/msgGroupAnnounce"),require("./content/msgOA"),require("./content/msgNeedDecrypt"),require("./content/msgRedEnvelope"),require("./content/encryptedMsgInWeb"),require("../../../component/msgContent/msgEncryptFile"),require("../../../component/msgContent/msgEncryptAudio"),require("../../../component/msgContent/msgEncryptImg")]).directive("msgContent",[function(){return{restrict:"AE",replace:!0,scope:{info:"=info"},controller:["$scope",function(e){}],link:function(e,n,t){var s=e.info.msg;e.msgType="msg-err",e.needDecrypt=s.needDecrypt();var i=function(){var n=_.get(s,"baseMessage.content.contentType");if(s.needDecrypt())ua.isDesktop?e.msgType="msg-need-decrypt":e.msgType="encrypted-msg-in-web";else{switch(n){case ContentType.TEXT:e.msgType="msg-text";break;case ContentType.AUDIO:e.msgType="msg-audio";break;case ContentType.IMG:e.msgType="msg-img";break;case ContentType.IMG_TEXT:e.msgType="msg-img-text";break;case ContentType.FILE:e.msgType="msg-file";break;case ContentType.SHARE:e.msgType="msg-share";break;case ContentType.CARD:e.msgType="msg-card";break;case ContentType.VOIP:e.msgType="msg-voip";break;case ContentType.MAIL:e.msgType="msg-mail";break;case ContentType.ORG_SPACE_FILE:case ContentType.IM_SPACE_FILE:e.msgType="msg-space-file";break;case ContentType.SAFETY_IM_SPACE_FILE:e.msgType="msg-encrypt-file";break;case ContentType.SAFETY_AUDIO:e.msgType="msg-encrypt-audio";break;case ContentType.SAFETY_IMG:e.msgType="msg-encrypt-img";break;case ContentType.OA:e.msgType="msg-oa";break;case ContentType.GROUP_ANNOUNCE:e.msgType="msg-announce";break;case ContentType.RED_ENVELOPE_ENTERPRISE:case ContentType.RED_ENVELOPE_RANDOM:case ContentType.RED_ENVELOPE_NORMAL:case ContentType.RED_ENVELOPE_SYSTEM:case ContentType.RED_ENVELOPE_ALIPAY:e.msgType="msg-red-envelope";break;default:e.msgType="msg-err"}if(_.get(s,"baseMessage.memberTag")===MsgTag.DING)switch(n){case ContentType.TEXT:e.msgType="ding-text";break;case ContentType.AUDIO:e.msgType="ding-audio"}}};i();var g=function(){i();try{e.$digest()}catch(e){}};s.addListener(s.EventsName.PRIVATE_TAG_CHANGE,g),s.addListener(s.EventsName.DECRYPT_STATUS_CHANGE,g),n.on("$destroy",function(){s.removeListener(s.EventsName.PRIVATE_TAG_CHANGE,g),s.removeListener(s.EventsName.DECRYPT_STATUS_CHANGE,g)})},controllerAs:"content",template:'<div ng-switch="msgType" >\n    <!-- 文字内容 -->\n    <msg-text ng-switch-when="msg-text" info="info"></msg-text>\n    <!-- 图片内容 -->\n    <msg-img ng-switch-when="msg-img" info="info"></msg-img>\n    <!-- 图文内容 -->\n    <msg-img-text ng-switch-when="msg-img-text" info="info"></msg-img-text>\n    <!-- 语音内容 -->\n    <msg-voice ng-switch-when="msg-audio" info="info"></msg-voice>\n    <!-- 语VOIP内容 -->\n    <msg-voip ng-switch-when="msg-voip" info="info"></msg-voip>\n    <!-- 普通文件内容(旧数据) -->\n    <msg-file ng-switch-when="msg-file" info="info"></msg-file>\n    <!-- 分享内容 -->\n    <msg-share ng-switch-when="msg-share" info="info"></msg-share>\n    <!-- 名片内容 -->\n    <msg-card ng-switch-when="msg-card" info="info"></msg-card>\n    <!-- 邮件内容 -->\n    <msg-mail ng-switch-when="msg-mail" info="info"></msg-mail>\n    <!-- 云盘内容 -->\n    <msg-space-file ng-switch-when="msg-space-file" info="info"></msg-space-file>\n    <!-- 不支持消息内容 -->\n    <msg-err info="info" ng-switch-when="msg-err"></msg-err>\n    <!-- OA消息 -->\n    <msg-oa ng-switch-when="msg-oa" info="info"></msg-oa>\n    <!-- ding文字内容 -->\n    <ding-text ng-switch-when="ding-text" info="info"></ding-text>\n    <!-- ding语音内容 -->\n    <ding-voice ng-switch-when="ding-audio" info="info"></ding-voice>\n    <!-- 群公告 -->\n    <group-announce ng-switch-when="msg-announce" info="info"></group-announce>\n    <!-- 红包消息 -->\n    <msg-red-envelope ng-switch-when="msg-red-envelope" info="info"></msg-red-envelope>\n    <msg-need-decrypt ng-switch-when="msg-need-decrypt" info="info"></msg-need-decrypt>\n    <msg-encrypt-file ng-switch-when="msg-encrypt-file" info="info"></msg-encrypt-file>\n    <msg-encrypt-img ng-switch-when="msg-encrypt-img" info="info"></msg-encrypt-img>\n    <msg-encrypt-audio ng-switch-when="msg-encrypt-audio" info="info"></msg-encrypt-audio>\n    <encrypted-msg-in-web ng-switch-when="encrypted-msg-in-web"></encrypted-msg-in-web>\n    <msg-err info="info" ng-switch-default></msg-err>\n</div>\n\n'}}]),module.exports=moduleName;

},{"../../../component/msgContent/msgEncryptAudio":39,"../../../component/msgContent/msgEncryptFile":40,"../../../component/msgContent/msgEncryptImg":41,"../../../service/conversation/ContentType":293,"../../../service/conversation/MsgTag":300,"../../../service/conversation/MsgType":301,"../../../service/ua":621,"./content/dingText":67,"./content/dingVoice":68,"./content/encryptedMsgInWeb":69,"./content/msgCard":70,"./content/msgErr":71,"./content/msgFile":72,"./content/msgGroupAnnounce":73,"./content/msgImg":74,"./content/msgImgText":75,"./content/msgMail":76,"./content/msgNeedDecrypt":77,"./content/msgOA":78,"./content/msgRedEnvelope":80,"./content/msgShare":81,"./content/msgSpaceFile":82,"./content/msgText":83,"./content/msgVoice":84,"./content/msgVoip":85,"lodash":919,"path":7}],87:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.msgMenu",path=require("path"),SendStatus=require("../../../service/conversation/SendStatus"),_=require("lodash"),$my=require("../../../service/user/my"),ua=require("../../../service/ua"),MsgTag=require("../../../service/conversation/MsgTag"),cloudSetting=require("@ali/wksdk").cloudSetting,CSMap=require("../../../service/CSConfig/CSMap"),AtOpenIdType=require("../../../service/conversation/AtOpenIdType"),ConvType=require("../../../service/conversation/ConvType"),ATTACHMENT_INSTANCE_TYPE=require("../../../service/ding/AttachmentInstanceType"),EVENTS=require("../../../service/events"),ContentType=require("../../../service/conversation/ContentType");angular.module(moduleName,[require("../../../service/conversation/conversationWithSDK"),require("../../../service/modal/sendDingModal"),require("../../../service/modal/forwardMsg"),require("../../../service/toast/toast"),require("../../../service/log/log"),require("../../../service/log/lwlog"),require("../../../service/emotion/emotionPackageFactory"),require("../../../service/ding/DingAttachmentType"),require("../../../service/selectorPanel/PanelType"),require("../../../service/tool/multiOrgTool"),require("../../../service/search/search/SearchType")]).directive("msgMenu",["conversationWithSDK","sendDingModalService","forwardMsg","log","lwlog","EmotionPackageFactory","DingAttachmentType","PanelType","multiOrgTool","SearchType",function(e,t,n,s,o,i,a,r,c,d){return{restrict:"AE",replace:!0,scope:{msg:"=",isSpecialConv:"="},controller:["$scope","$rootScope","$element","$translate",function(s,i,a,g){function u(){p.baseMessage.conversationId&&p.baseMessage.messageId&&e.getConvById(p.baseMessage.conversationId).then(function(e){e&&e.getMembers(function(n){var s,o;if(e.isSingleChat){var i;i=e.isToMySelf?n[0].openIdEx.openId:n[0].openIdEx.openId===p.getSenderOpenId()?n[1].openIdEx.openId:n[0].openIdEx.openId,s=[i]}o=n.map(function(e){return e.openIdEx.openId});var a=p.getContent();a.hasOwnProperty("atOpenIds")&&Object.keys(a.atOpenIds).length>0&&(s=Object.keys(a.atOpenIds),s.indexOf(AtOpenIdType.ALL)!==-1&&(s=o)),[ConvType.JUMP,ConvType.SECRETARY,ConvType.FILEHELPER,ConvType.ANNOUNCEMENT,ConvType.CRM_GROUP].indexOf(e.baseConversation.tag)!==-1&&(s=[],o=[$my.uid]);var g,u,m="",l=!0;if(a.contentType===ContentType.TEXT&&(g=p.baseMessage.messageId,m=_.get(a,"textContent.text")||""),a.contentType===ContentType.GROUP_ANNOUNCE&&(g="",m=_.get(a,"attachments[0].extension.text")||""),!e.isSafety||a.contentType!==ContentType.IM_SPACE_FILE&&a.contentType!==ContentType.ORG_SPACE_FILE)if($my.orgEmployees)var T=[r.DING_CONV,r.ORG,r.FRIEND,d.EXTERNAL_CONTACT],y=[d.ORG,d.FRIEND,d.LOCAL],v=c.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees);else var T=[r.DING_CONV,r.FRIEND],y=[d.FRIEND,d.LOCAL];else var E=$my.orgEmployees.filter(function(t){return String(_.get(t,"orgDetail.orgId"))===e.orgId}),T=[r.DING_CONV,r.ORG],y=[d.ORG],v=c.convertOrgEmployeeExtensionModelListToOrgDataList(E);if(u={msgId:g,content:m,selectedUids:s,cid:p.baseMessage.conversationId,searchType:y,panelTypeArr:T,orgDataArr:v,customUids:o,disableEdit:l},a.contentType===ContentType.IMG){g=p.baseMessage.messageId;var C=_.assign({},a.photoContent,{instanceType:ATTACHMENT_INSTANCE_TYPE.IMAGE});u.dingAttachments=[C],u.disableEdit=!1,u.disableUpload=!0,u.msgId=g}if(a.contentType===ContentType.FILE){g=p.baseMessage.messageId;var C=_.assign({},a.fileContent,{instanceType:ATTACHMENT_INSTANCE_TYPE.FILE});u.dingAttachments=[C],u.disableEdit=!1,u.disableUpload=!0,u.msgId=g}if(a.contentType===ContentType.IM_SPACE_FILE||a.contentType===ContentType.ORG_SPACE_FILE){g=p.baseMessage.messageId;var I={extension:_.get(a,"attachments[0].extension"),text:"",type:a.contentType},C={instanceType:ATTACHMENT_INSTANCE_TYPE.LINK,linkContent:I};u.dingAttachments=[C],u.disableEdit=!1,u.disableUpload=!0,u.msgId=g}if(a.contentType===ContentType.SHARE){var I={linkUrl:_.get(a,"attachments[0].url")||"",picMediaId:_.get(a,"attachments[0].extension.picUrl")||"",text:_.get(a,"attachments[0].extension.text")||"",title:_.get(a,"attachments[0].extension.title")||"",type:a.contentType},C={instanceType:ATTACHMENT_INSTANCE_TYPE.LINK,linkContent:I};u.dingAttachments=[C],u.disableEdit=!1,u.disableUpload=!0,u.msgId=p.baseMessage.messageId}if(a.contentType===ContentType.OA){var I={linkUrl:_.get(a,"attachments[0].url")||"",text:_.get(a,"attachments[0].extension.h_tl")||"",title:_.get(a,"attachments[0].extension.b_tl")||"",type:a.contentType},C={instanceType:ATTACHMENT_INSTANCE_TYPE.LINK,linkContent:I};u.dingAttachments=[C],u.disableEdit=!1,u.disableUpload=!0,u.msgId=p.baseMessage.messageId}a.contentType===ContentType.AUDIO&&(u.disableUpload=!0,u.msgId=p.baseMessage.messageId,u.contentType=p.baseMessage.content.contentType,u.content=p.baseMessage.content.audioContent),t.showModal(u)})})}var m=a.find(".tip-menu");s.SendStatus=SendStatus,this.msg=s.msg;var l=s.msgMenu,p=l.msg,T=p.baseMessage.openIdEx.openId===$my.uid,y=864e5,v=cloudSetting.getConfig(CSMap.RECALL.module,CSMap.RECALL.key),E=_.isObject(v)?1e3*parseInt(v.settingValue):y,C={withdraw:1,ding:2,forword:3,quote:4,addEmotion:5,saveAs:6,remove:7},I={withDraw:{isShow:function(){var e=(new Date).getTime(),t=e-p.baseMessage.createdAt,n=cloudSetting.getConfig(CSMap.RECALL.module,CSMap.RECALL.key),s=_.isObject(n)?1e3*parseInt(n.settingValue):y,o=t<=s,i=p.baseMessage.content.contentType;return T&&2!==p.baseMessage.memberTag&&o&&i!==ContentType.OA&&i!==ContentType.MAIL},text:g.instant("dt_chatbox_msgmenu_withdraw"),type:C.withdraw,click:function(){p.withDraw()}},msgToDing:{isShow:function(){p.baseMessage.content.contentType,e.getConvObj(p.baseMessage.conversationId);return!l.msg.isEmotion()&&l.msg.baseMessage.memberTag!==MsgTag.DING&&l.msg.isDingContentType()},text:g.instant("dt_chatbox_msgmenu_ding"),type:C.ding,click:function(){u(),o.commLog("chat_ding_success","")}},quoteMsg:{isShow:function(){return l.msg.canBeQuote()},text:g.instant("dt_chatbox_msgmenu_quote"),type:C.quote,click:function(){i.$broadcast(EVENTS.QUOTE_MSG,p),m.hide()}},addEmotion:{isShow:function(){return l.msg.canAddEmotion()},text:g.instant("dt_chatbox_msgmenu_addemotion"),type:C.addEmotion,click:function(){p.addEmotion().then(function(){i.$broadcast("addEmotion")}),m.hide()}},saveAs:{isShow:function(){return l.msg.canSaveAs()},text:g.instant("dt_chatbox_msgmenu_saveas"),type:C.saveAs,click:function(){p.saveAs()}},forwardMsg:{isShow:function(){var t=e.getConvObj(p.baseMessage.conversationId),n=t.baseConversation,s=n.ownerId===$my.uid,o=n.extension||{},i=!s&&"1"===o.doc_readonly||!1;return l.msg.canBeForward()&&!i},text:g.instant("dt_chatbox_msgmenu_forward"),type:C.forword,click:function(){n.show(p)}}};l.Menu=[],Object.keys(I).forEach(function(e){I[e].isShow()&&l.Menu.push(I[e])}),l.showMenu=l.Menu.length;var M=E-((new Date).getTime()-p.baseMessage.createdAt),h=null;M>0&&M<=E&&(h=setTimeout(function(){l.Menu=l.Menu.filter(function(e){return e.type!==C.withdraw}),s.$digest()},M)),l.isUp=!0,s.$on("$destroy",function(){clearTimeout(h)})}],link:function(e,t,n){var s=t.find(".ellipsis"),o=t.find(".tip-menu"),i=function(){o.toggle()};s.on("click",i);var a=t.offset().top,r=angular.element(document).height();a<r/2&&(e.msgMenu.isUp=!1);var c=null,d=function(e){clearTimeout(c),c=setTimeout(function(){o.hide()},500)},g=function(e){clearTimeout(c)};t.on("mouseleave",".ellipsis,.tip-menu",d),t.on("mouseenter",".ellipsis,.tip-menu",g),t.one("$destroy",function(){s.off("click",i),t.off("mouseleave",d),t.off("mouseenter",g),clearTimeout(c)})},controllerAs:"msgMenu",template:'<div class="msg-menu-box" ng-show="msgMenu.showMenu">\n    <i class="iconfont ellipsis"></i>\n    <div class="tip-menu" ng-class="{down: !msgMenu.isUp, up: msgMenu.isUp}">\n        <div class="msg-menu-tri">\n        </div>\n        <ul class="menus">\n            <li class="menu-item" ng-repeat="item in msgMenu.Menu" ng-click="item.click()">{{item.text}}</a>\n        </ul>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../service/CSConfig/CSMap":236,"../../../service/conversation/AtOpenIdType":290,"../../../service/conversation/ContentType":293,"../../../service/conversation/ConvType":294,"../../../service/conversation/MsgTag":300,"../../../service/conversation/SendStatus":304,"../../../service/conversation/conversationWithSDK":308,"../../../service/ding/AttachmentInstanceType":331,"../../../service/ding/DingAttachmentType":335,"../../../service/emotion/emotionPackageFactory":366,"../../../service/events":376,"../../../service/log/log":422,"../../../service/log/lwlog":424,"../../../service/modal/forwardMsg":456,"../../../service/modal/sendDingModal":472,"../../../service/search/search/SearchType":583,"../../../service/selectorPanel/PanelType":590,"../../../service/toast/toast":611,"../../../service/tool/multiOrgTool":614,"../../../service/ua":621,"../../../service/user/my":635,"@ali/wksdk":779,"lodash":919,"path":7}],88:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.unConfirmCount",path=require("path");angular.module(moduleName,[require("../../../service/ding/dinglist"),require("../../../service/modal/msgReceiverListModal")]).directive("unConfirmCount",["dinglist","msgReceiverListModalService","$translate",function(n,e,i){return{restrict:"AE",replace:!0,scope:{msg:"=msg"},template:'<div log=\'chat_unread_user_click\' ng-show="dataReady">\n    <a href="javascript:;" class="read-status confirm-list" ng-if="ding.unConfirmCount>0&&!isSingleChat">{{ding.unConfirmCount}}{{::text.pc_im_msgstate_peopleconfirm}}</a>\n    <a href="javascript:;" class="read-status confirm-list" ng-if="ding.unConfirmCount>0&&isSingleChat">{{::text.pc_im_msgstate_unconfirm}}</a>\n    <span class="read-status all-read" ng-if="ding.unConfirmCount===0">{{::text.pc_im_msgstate_allconfirmed}}</span>\n</div>\n',link:function(t,a,s){var m=t.msg,r=m.baseMessage.memberExtension.dingId;t.dataReady=!1,t.text={pc_im_msgstate_peopleconfirm:i.instant("pc_im_msgstate_peopleconfirm"),pc_im_msgstate_unconfirm:i.instant("pc_im_msgstate_unconfirm"),pc_im_msgstate_confirmed:i.instant("pc_im_msgstate_confirmed"),pc_im_msgstate_allconfirmed:i.instant("pc_im_msgstate_allconfirmed")};var o=m.baseMessage.conversationId,c=!1;o.indexOf(":")>0&&(c=!0),t.isSingleChat=c,t.ding=null;var d=function(){try{t.$digest()}catch(n){}};n.getDingById(r,function(n){t.ding=n,t.dataReady=!0,d(),t.ding.on(t.ding.EventsName.UPDATE_CONFIRM,d)}),a.on("click",".confirm-list",function(n){n.preventDefault(),e.showModal(m,!1)}),a.one("$destroy",function(){a.off("click",".confirm-list"),t.ding&&t.ding.off(t.ding.EventsName.UPDATE_CONFIRM,d)})}}}]),module.exports=moduleName;

},{"../../../service/ding/dinglist":359,"../../../service/modal/msgReceiverListModal":460,"path":7}],89:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.unreadCount",path=require("path"),$my=require("../../../service/user/my"),ContentType=require("../../../service/conversation/ContentType");angular.module(moduleName,[require("../../../service/modal/msgReceiverListModal")]).directive("unreadCount",["msgReceiverListModalService","$translate",function(e,a){return{restrict:"AE",replace:!0,scope:{msg:"=msg"},template:'<div ng-show="shouldShow">\n    <div ng-show="msg.senderMessageStatus.unReadCount > 0" log=\'chat_unread_user_click\'>\n        <a href="#" class="read-status unreadlist" ng-show="isSingleChat">{{ ::text.unread }}</a>\n        <a href="#" class="read-status unreadlist" ng-show="!isSingleChat">{{ msg.senderMessageStatus.unReadCount }}{{ ::text.groupUnread }}{{ state.isSingleChat }}</a>\n    </div>\n    <div ng-show="msg.senderMessageStatus.unReadCount === 0">\n        <span class="read-status all-read" ng-show="!isSingleChat">{{ ::text.allReaded }}</span>\n        <span class="read-status all-read" ng-show="isSingleChat">{{ ::text.readed }}</span>\n    </div>\n</div>\n',link:function(t,s,n){var i=t.msg;i.baseMessage.openIdEx?t.isMine=i.baseMessage.openIdEx.openId===$my.uid:t.isMine=!0;var r=i.baseMessage.conversationId,d=!1,u=!1;if(r.indexOf(":")>0&&(d=!0),d){var o=r.split(":").map(function(e){return parseInt(e)});o[0]===$my.uid&&o[1]===$my.uid&&(u=!0)}var l=i.baseMessage.content.contentType,c={spaceFile:{unread:a.instant("pc_im_msgstate_unreceive"),groupUnread:a.instant("pc_im_msgstate_peopleunreceive"),readed:a.instant("pc_im_msgstate_received"),allReaded:a.instant("pc_im_msgstate_allreceived")},default:{unread:a.instant("pc_im_msgstate_unread"),groupUnread:a.instant("pc_im_msgstate_peopleunread"),readed:a.instant("pc_im_msgstate_readed"),allReaded:a.instant("pc_im_msgstate_allreaded")}};l===ContentType.IM_SPACE_FILE||l===ContentType.ORG_SPACE_FILE||l===ContentType.SAFETY_IM_SPACE_FILE?t.text=c.spaceFile:t.text=c.default,t.isSingleChat=d,t.shouldShow=t.isMine&&!u;var g=function(){try{t.$digest()}catch(e){}};i.on(i.EventsName.UPDATE_READ_STATUS,g),s.on("click",".unreadlist",function(a){a.preventDefault(),e.showModal(i,!0)}),s.one("$destroy",function(){s.off("click",".unreadlist"),i.off(i.EventsName.UPDATE_READ_STATUS,g)})}}}]),module.exports=moduleName;

},{"../../../service/conversation/ContentType":293,"../../../service/modal/msgReceiverListModal":460,"../../../service/user/my":635,"path":7}],90:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.profile",path=require("path"),moduleName="ddWeb.chat.profile",My=require("../../service/user/my"),_=require("lodash"),localLog=require("../../service/log/localLog"),NAME_SCENE=require("../../service/user/NameScene"),MainScene=require("../../service/user/MainScene");require("../../service/user/userManager"),require("../../service/modal/profileModal");var app=angular.module(moduleName,["ddWeb.service.profileModal","ddWeb.user.userManager",require("../../component/user/userName"),require("../../service/conversation/conversationWithSDK")]);app.directive("profile",["userManager","$rootScope","conversationWithSDK",function(e,i,n){return{restrict:"AE",replace:!0,scope:{uid:"=uid",cid:"=cid"},controller:["$scope","$filter",function(r,s){var o=this,a=r.uid,t=a===My.getId(),l=r.cid,c=null,u=n.getConvObj(l);this.scene=u.getScene(MainScene.CHAT),this.isFollowing=!1,this.isShowAt=!1,t||(this.isShowAt=!0);var d=function(){o.isFollowing=c.isFollowing,r.$evalAsync()};e.getUsers([a]).then(function(e){e&&e[0]?(c=e[0],d(),c.addListener(c.EventsName.FOLLOW_UPDATE,d)):localLog.error("get users fail",a)}.bind(this)).catch(function(e){localLog.error("get users fail",a,e,JSON.stringify(e._originMsg))}),this.onNameClick=function(e){if(e.preventDefault(),e.stopPropagation(),this.isShowAt&&c){var n=u.convId,s=u.getScene(MainScene.AT_CONTENT);c.getName(n,s,{oid:u.orgId}).then(function(e){var n={nick:e,uid:r.uid};i.$broadcast("add-at",n)})}}.bind(this),r.$on("$destroy",function(){c&&c.EventsName&&c.removeListener(c.EventsName.FOLLOW_UPDATE,d)})}],link:function(e,i,n){},controllerAs:"profile",template:'<span class="profile-wrp">\n    <span class="name clearfix">\n        <span ng-if="profile.isFollowing" class="follow-tag">特别关注</span>\n        <a href="#" ng-if="profile.isShowAt" ng-click="profile.onNameClick($event)" class="profile-name">\n            <user-name class="name-text" cid="cid" uid="uid" scene="profile.scene" ></user-name>\n            <span class="name-text" ng-bind-html="profile.showName"></span>\n            <span ng-if="profile.isShowAt" class="at">@</span>\n        </a>\n        <span ng-if="!profile.isShowAt" class="name-text" ng-bind-html="profile.showName"></span>\n    </span>\n</span>\n'}}]),module.exports=moduleName;

},{"../../component/user/userName":49,"../../service/conversation/conversationWithSDK":308,"../../service/log/localLog":421,"../../service/modal/profileModal":466,"../../service/user/MainScene":629,"../../service/user/NameScene":630,"../../service/user/my":635,"../../service/user/userManager":641,"lodash":919,"path":7}],91:[function(require,module,exports){
"use strict";var path=require("path"),app=angular.module("ddWeb.chat.at",[]);app.directive("at",[function(){return{restrict:"AE",replace:!0,require:"^toolBar",scope:{isDisable:"=",addAt:"&"},controller:["$scope","$translate",function(t,a){this.text={dt_chatbox_toolbar_at:a.instant("dt_chatbox_toolbar_at")}}],link:function(t,a,o){},template:'<span>\n  <i class="iconfont tool-icon" ng-click="addAt()" htitle="{{::at.text.dt_chatbox_toolbar_at}}" ng-if="!isDisable">&#xe625;</i>\n  <i class="iconfont tool-icon ban-words" ng-if="isDisable">&#xe625;</i>\n</span>\n',controllerAs:"at"}}]);

},{"path":7}],92:[function(require,module,exports){
"use strict";var path=require("path"),my=require("../../../service/user/my"),emotionRetriver=require("../../../service/emotion/emotionRetriever");require("../../../service/face/default"),require("../../../service/chat/textCellService"),require("../../infiniteScroll");var app=angular.module("ddWeb.chat.face",["ddWeb.faces_default","ddWeb.service.textCellService","ddWeb.infiniteScroll",require("../face/emotionContent"),require("../../../service/emotion/emotionPackageFactory"),require("../../../service/log/lwlog"),require("../../../service/modal/emotionListModal")]).directive("face",["$rootScope","faces_default","textCellService","EmotionPackageFactory","lwlog","emotionListModal","$translate",function(e,n,i,o,t,a,c){return{restrict:"AE",replace:!0,scope:{isDisable:"=isDisable",isFaceOpen:"=isFaceOpen",insertText:"=insertText",beforeSendMsg:"=beforeSendMsg",sendImgMsg:"=sendImgMsg"},controller:["$scope",function(e){var n=this;n.text={dt_chatbox_toolbar_emotion:c.instant("dt_chatbox_toolbar_emotion")},n.emotionPackage=o.getInstance();var m=function(){try{e.$digest()}catch(e){}};n.toggleOpen=function(){n.isFaceOpen=!n.isFaceOpen},n.prev=function(e){e&&e.preventDefault(),e&&e.stopPropagation(),n.emotionPackage.pageStart-=1,n.emotionPackage.pageEnd-=1},n.next=function(e){e&&e.preventDefault(),e&&e.stopPropagation(),n.emotionPackage.pageStart+=1,n.emotionPackage.pageEnd+=1},n.addEmotion=function(){a.showModal()},n.onClick=function(o){if("default"===n.emotionPackage.activeItem)e.insertText(i.createCell("["+o.name+"]"));else if("custom"===n.emotionPackage.activeItem){if(n.emotionPackage.checkMediaIdValid(o.mediaId)||!n.emotionPackage.isSizeValid(o.size,!1))var a={mediaId:o.mediaId,picSize:o.picSize};else{var a={mediaId:o.mediaId,picSize:o.picSize,extension:{e_id:String(o.id),p_id:String(o.packageId),p_type:String(o.type)}},c="packagename=自定义表情&emotionid="+o.id;t.commLog("chat_emoji_send_click",c)}e.sendImgMsg(a)}else{var a={mediaId:o.mediaId,picSize:o.picSize,extension:{e_id:String(o.id),p_id:String(o.packageId),p_type:String(o.type)}},c="packagename="+o.packageName+"&emotionid="+o.id+"&emotiontitle="+o.name;t.commLog("chat_emoji_send_click",c),e.sendImgMsg(a)}n.isFaceOpen=!1},n.changeEmotion=function(e){n.emotionPackage.changeEmotion(e)},n.emotionPackage.on(n.emotionPackage.EventsName.UPDATE_LIST,m),n.emotionPackage.on(n.emotionPackage.EventsName.CHANGE_EMOTION,m),n.emotionPackage.on(n.emotionPackage.EventsName.MY_EMOTION_UPDATE_LIST,m),e.$on("$destroy",function(){n.emotionPackage.off(n.emotionPackage.EventsName.UPDATE_LIST,m),n.emotionPackage.off(n.emotionPackage.EventsName.CHANGE_EMOTION,m),n.emotionPackage.off(n.emotionPackage.EventsName.MY_EMOTION_UPDATE_LIST,m)})}],link:function(n,i,o){function t(){try{n.$digest()}catch(e){}}var a=n.emotionPanel,c=i.find(".add-emotion-tips"),m=e.$on("addEmotion",function(){c.css("display","block"),c.fadeOut(2e3)});$(document).on("click.face",function(e){var n=i.find(e.target).length>0;(n||a.isFaceOpen)&&(!n&&a.isFaceOpen&&(a.isFaceOpen=!1),t())}),i.on("$destroy",function(){$(document).off("click.face"),m()})},template:'<div id="J-face">\n  <span class="add-emotion-tips" >\n    已添加到收藏表情\n    <div class="add-emotion-tri"></div>\n    <div class="add-emotion-tips-tri-shadow"></div>\n  </span>\n  <i class="iconfont tool-icon" ng-if="!isDisable" ng-click="emotionPanel.toggleOpen();" htitle="{{::emotionPanel.text.dt_chatbox_toolbar_emotion}}">&#xe626;</i>\n  <i class="iconfont tool-icon ban-words" ng-if="isDisable" >&#xe626;</i>\n  <div class="emotion-container" ng-if="emotionPanel.isFaceOpen">\n      <emotion-content\n        emotion-package="emotionPanel.emotionPackage"\n        on-click-emotion="emotionPanel.onClick"\n        >\n      </emotion-content>\n\n      <div class="emotion-pannel">\n        <ul class="emotion-headers">\n          <li class="tab-tri-prev" ng-click="emotionPanel.prev($event)" ng-if="emotionPanel.emotionPackage.pageStart !== 0" >\n            <div class="tri-left"></div>\n          </li>\n          <li class="tab-tri-next" ng-click="emotionPanel.next($event)" ng-if="emotionPanel.emotionPackage.pageEnd <= emotionPanel.emotionPackage.emotionHeaders.length -1 ">\n            <div class="tri-right"></div>\n          </li>\n          <li class="emotion-header"\n              ng-repeat="emotionHeader in emotionPanel.emotionPackage.emotionHeaders.slice(emotionPanel.emotionPackage.pageStart, emotionPanel.emotionPackage.pageEnd) track by emotionHeader.packageId"\n              ng-class="{ \'current\': emotionPanel.emotionPackage.activeItem === emotionHeader.packageId }"\n              ng-click="emotionPanel.changeEmotion(emotionHeader.packageId)"\n              htitle="{{::emotionHeader.name}}"\n              >\n              <img ng-src="{{::emotionHeader.icon}}" />\n          </li>\n        </ul>\n        <div class="add-pkg-emotion"><a href="javascript:;" ng-click="emotionPanel.addEmotion()">添加表情</a></div>\n      </div>\n      <div class="emotion-container-tri"></div>\n      <div class="emotion-container-tri-shadow"></div>\n  </div>\n</div>\n',controllerAs:"emotionPanel"}}]);
},{"../../../service/chat/textCellService":275,"../../../service/emotion/emotionPackageFactory":366,"../../../service/emotion/emotionRetriever":368,"../../../service/face/default":377,"../../../service/log/lwlog":424,"../../../service/modal/emotionListModal":452,"../../../service/user/my":635,"../../infiniteScroll":114,"../face/emotionContent":58,"path":7}],93:[function(require,module,exports){
"use strict";var path=require("path"),ua=require("../../../service/ua");require("../../../service/widget/screenshot");var app=angular.module("ddWeb.chat.screenshot",["ddWeb.service.screenshot",require("../../../service/log/log")]);app.directive("screenshot",["screenshotService","log","$translate",function(e,t,s){return{restrict:"E",scope:{isDisable:"="},controller:[function(){this.isScreenShortCanUse=e.isAvaliable(),this.text={dt_chatbox_toolbar_screenshot:s.instant("dt_chatbox_toolbar_screenshot")}}],link:function(t,s,n){var r=s.find(".screenshot-btn");r.on("click",function(s){t.isDisable||e.startCapture(!1,!s.shiftKey)}),s.on("$destroy",function(){r.off("click")})},template:'<span>\n  <i class="iconfont tool-icon screenshot-btn"  ng-show="screenshotCtrl.isScreenShortCanUse && !isDisable" htitle="{{::screenshotCtrl.text.dt_chatbox_toolbar_screenshot}}">&#xe622;</i>\n  <i class="iconfont tool-icon screenshot-btn ban-words"  ng-show="screenshotCtrl.isScreenShortCanUse && isDisable" >&#xe622;</i>\n</span>\n',controllerAs:"screenshotCtrl"}}]);

},{"../../../service/log/log":422,"../../../service/ua":621,"../../../service/widget/screenshot":664,"path":7}],94:[function(require,module,exports){
var path=require("path"),moduleName="ddWeb.chat.selectSpaceFile",_=require("lodash"),$my=require("../../../service/user/my"),ConvType=require("../../../service/conversation/ConvType");angular.module(moduleName,[require("../../../service/modal/spaceFileModal"),require("../../../service/user/userManager"),require("../../../service/log/log"),require("../../../service/log/lwlog")]).directive("selectSpaceFile",["spaceFileModal","$rootScope","userManager","log","lwlog",function(e,o,r,t,i){return{restrict:"E",replace:!0,require:"^responsiveInput",scope:{isDisable:"=",spaceId:"=",conv:"="},controller:["$scope","$translate",function(e,o){this.text={dt_chatbox_toolbar_selectcspacefile:o.instant("dt_chatbox_toolbar_selectcspacefile")}}],link:function(s,n,c){var a=null;s.conv.baseConversation.tag===ConvType.COMPANY_GROUP&&_.has(s.conv.baseConversation,"extension.id")&&(a=s.conv.baseConversation.extension.id);var l=s.spaceId,p=function(r){e.showModal({dialogType:"1",orgId:a,fromIM:!0,targetSpaceId:l,targetUserOrgList:r&&r.targetUserOrgIdList?r.targetUserOrgIdList:[],onSuccess:function(e){o.$broadcast("spaceFile:send",{files:e,orgId:a,spaceId:l})},onError:function(){}})};n.on("click",function(e){if(!s.isDisable){if(s.conv.isSingleChat){var o=[],n=s.conv.convId,c=n.split(":").filter(function(e){return e!=$my.uid});r.getUserWithExt(c[0]).then(function(e){if(!e.orgEmployees)throw new Error("no org employees data");e.orgEmployees.map(function(e){e.orgEmployeeModel&&e.orgEmployeeModel.orgId&&o.push(e.orgEmployeeModel.orgId)}),p({targetUserOrgIdList:o})}).catch(function(e){t.info("toolbar spaceFile getUserWithExt err",JSON.stringify(e),e),p()})}else p();i.commLog("chat_choose_space_file","")}}),n.on("$destroy",function(){n.off("click")})},template:'<span>\n  <i class="iconfont tool-icon select-file-btn" ng-if="!isDisable" htitle="{{::spaceFile.text.dt_chatbox_toolbar_selectcspacefile}}">&#xe664;</i>\n  <i class="iconfont tool-icon select-file-btn ban-words" ng-if="isDisable" >&#xe664;</i>\n</span>\n',controllerAs:"spaceFile"}}]),module.exports=moduleName;

},{"../../../service/conversation/ConvType":294,"../../../service/log/log":422,"../../../service/log/lwlog":424,"../../../service/modal/spaceFileModal":474,"../../../service/user/my":635,"../../../service/user/userManager":641,"lodash":919,"path":7}],95:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.sendCard",EVENTS=require("../../../service/events");angular.module(moduleName,[require("../../../service/modal/selectCardToBeSend")]).directive("sendCard",["selectCardToBeSend","$rootScope",function(e,o){return{restrict:"AE",replace:!0,require:"^toolBar",scope:{conv:"=",isDisable:"="},link:function(e,o,t){},template:'<span>\n  <i class="iconfont tool-icon icon-card" ng-if="!isDisable" ng-click="sendCard.show()" htitle="{{::sendCard.text.dt_chatbox_toolbar_sendcard}}">&#xe6ae;</i>\n  <i class="iconfont tool-icon icon-card ban-words" ng-if="isDisable" >&#xe6ae;</i>\n</span>\n',controller:["$scope","$translate",function(t,n){this.show=function(){e.show(t.conv).then(function(){o.$broadcast(EVENTS.SENDMSG_SCROLLTOBOTTOM)})},this.text={dt_chatbox_toolbar_sendcard:n.instant("dt_chatbox_toolbar_sendcard")}}],controllerAs:"sendCard"}}]),module.exports=moduleName;

},{"../../../service/events":376,"../../../service/modal/selectCardToBeSend":469,"path":7}],96:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.chat.tabLike",EVENTS=require("../../../service/events");angular.module(moduleName,[require("../../../service/log/lwlog")]).directive("tabLike",["$rootScope","lwlog",function(t,e){return{restrict:"AE",replace:!0,scope:{conv:"=",isDisable:"="},controller:["$scope","$translate",function(t,e){this.text={dt_chatbox_toolbar_good:e.instant("dt_chatbox_toolbar_good")}}],link:function(o,i,n){function a(){if(!o.isDisable){var i={contentType:1,textContent:{text:"[赞]"}};e.commLog("chat_like_click",""),o.conv.sendTextMsg(i.textContent.text,{atOpenIds:i.atOpenIds}),t.$broadcast(EVENTS.SENDMSG_SCROLLTOBOTTOM)}}i.on("click",a),i.on("$destroy",function(){i.off("click",a)})},template:'<span>\n  <i class="iconfont tool-icon icon-tablike" ng-if="!isDisable" htitle="{{::tabLike.text.dt_chatbox_toolbar_good}}">&#xe6b2;</i>\n  <i class="iconfont tool-icon icon-tablike ban-words" ng-if="isDisable" >&#xe6b2;</i>\n</span>\n',controllerAs:"tabLike"}}]),module.exports=moduleName;

},{"../../../service/events":376,"../../../service/log/lwlog":424,"path":7}],97:[function(require,module,exports){
"use strict";var path=require("path");require("./face"),require("./upload"),require("./at"),require("./screenshot");var ua=require("../../../service/ua"),app=angular.module("ddWeb.chat.toolBar",["ddWeb.chat.face","ddWeb.chat.upload","ddWeb.chat.at","ddWeb.chat.screenshot",require("./selectSpaceFile"),require("./sendCard"),require("./tabLike")]);app.directive("toolBar",["$translate",function(e){return{restrict:"AE",replace:!0,require:"^responsiveInput",controller:["$scope",function(e){}],link:function(e,t,s){},template:'<ul class="tool-bar">\n  <li class="tool-item" >\n        <upload is-disable="conv.getBanWordsStatus()"  ></upload>\n    </li>\n    <li class="tool-item" >\n        <face is-disable="conv.getBanWordsStatus()" insert-text="input.insertText" is-face-open="input.isFaceOpen" before-send-msg = "input.beforeSendMsg" send-img-msg="input.sendImgMsg" ></face>\n    </li>\n    <li class="tool-item" ng-if="!conv.isSingleChat" >\n        <at is-disable="conv.getBanWordsStatus()" add-at="addAt()"></at>\n    </li>\n    <li class="tool-item" ng-if="input.showSelectFileBtn && input.spaceId" >\n        <select-space-file is-disable="conv.getBanWordsStatus()" conv="conv" space-id="input.spaceId"></select-space-file>\n    </li>\n    <li class="tool-item" ng-if="input.isDesktop" >\n        <screenshot is-disable="conv.getBanWordsStatus()" ></screenshot>\n    </li>\n    <li class="tool-item" >\n        <send-card is-disable="conv.getBanWordsStatus()" conv="conv"></send-card>\n    </li>\n    <li class="tool-item" >\n        <tab-like is-disable="conv.getBanWordsStatus()" conv="conv"></tab-like>\n    </li>\n</ul>\n',controllerAs:"toolBar"}}]);

},{"../../../service/ua":621,"./at":91,"./face":92,"./screenshot":93,"./selectSpaceFile":94,"./sendCard":95,"./tabLike":96,"./upload":98,"path":7}],98:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.upload",path=require("path"),ua=require("../../../service/ua");require("../../widget/angular-file-upload"),require("../../../service/modal/multiFileUploadPreview"),require("../../../service/modal/uploadFile"),require("../../../service/toast/toast");var fileTypes=require("../../../service/file/fileTypes"),app=angular.module(moduleName,["angularFileUpload","ddWeb.modal.multiFileUpload","ddWeb.modal.uploadFile","ddWeb.toast",require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes"),require("../../../service/log/lwlog")]);app.directive("upload",["FileUploader","$multiFileUpload","$uploadFilePreview","toastService","$rootScope","$fileHelper","$fileTypes","lwlog",function(e,l,i,t,a,o,n,r){function u(){p.clearQueue(),p.cancelAll()}function c(e){var l=n.getTypeByName(e.name),i=n.isImg(l);i?r.commLog("space_upload_attachment_pic","count=1"):r.commLog("space_upload_attachment_file","count=1"),a.$broadcast("uploadFile:send",{file:e})}var p=new e;return{restrict:"AE",require:"^responsiveInput",replace:!0,scope:{uploader:"=",isDisable:"="},controller:["$scope","$translate",function(e,l){this.text={dt_chatbox_toolbar_attachment:l.instant("dt_chatbox_toolbar_attachment")},this.uploader=p}],link:function(e,a,n){function r(e){var l=o.checkFileV2(e);return u(),l[0]===!0?(i(e).then(function(e){c(e)}),!0):void t.show(l[2],{type:"error"})}e.upload.uploader.onAfterAddingAll=function(e){if(0!==e.length)if(1===e.length)r(e[0]._file);else{var i=e.map(function(e){return e._file}),t=l.open(i);u(),t.then(function(e){e.forEach(function(e){c(e)})})}}},controllerAs:"upload",template:'<div>\n    <span ng-if="!isDisable" htitle="{{::upload.text.dt_chatbox_toolbar_attachment}}">\n      <i class="iconfont tool-icon" >&#xe621;</i>\n      <input type="file" class="file-input" title=" " class="upload-btn" multiple nv-file-select="" uploader="upload.uploader"/>\n    </span>\n    <span ng-if="isDisable">\n      <i class="iconfont tool-icon ban-words" >&#xe621;</i>\n    </span>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../../service/log/lwlog":424,"../../../service/modal/multiFileUploadPreview":461,"../../../service/modal/uploadFile":481,"../../../service/toast/toast":611,"../../../service/ua":621,"../../widget/angular-file-upload":140,"path":7}],99:[function(require,module,exports){
"use strict";var moduleName="ddWeb.companyCallCenter.telephoneDial",path=require("path"),app=angular.module(moduleName,[require("../../service/callCenter/callCenter.js"),require("../../service/toast/toast.js"),require("../../service/log/lwlog")]);app.directive("telephoneDial",["callCenter","toastService","$translate","lwlog",function(e,t,n,l){return{restrict:"AE",template:'<div>\n    <div>\n        <input  class="phoneInput" type="text" placeholder="{{::telephoneDial.text.pc_tel_dial_input_placeholder}}"  value={{telephoneDial.phoneNum}} focus="telephoneDial.phoneInputFocus" ng-class="{\'add-phonenum-fontsize\':telephoneDial.phoneNum.length!==0}" ng-model="telephoneDial.phoneNum" style="ime-mode:Disabled"><i  class="iconfont telDial-icon-delete">&#xe6c2;</i>\n    </div>\n    <ul class="tel-dial">\n        <li ng-repeat="item in telephoneDial.keyboard">{{ item }}</li>\n    </ul>\n    <div>\n        <button  ng-click="telephoneDial.submit()" class="call-button green"> <i class="iconfont call-button-icon">&#xe6c0;</i>{{::telephoneDial.text.pc_tel_dial_button_call}}</button>\n    </div>\n</div>\n',controller:["$scope",function(i){var o=this;o.keyboard=["1","2","3","4","5","6","7","8","9","*","0","#"],o.phoneNum="",this.phoneInputFocus=!0,o.text={pc_tel_dial_input_placeholder:n.instant("pc_tel_dial_input_placeholder"),pc_tel_dial_button_call:n.instant("pc_tel_dial_button_call")},o.submit=function(){l.commLog("phone_dialplate_dial_click",""),e.createBizCall(o.phoneNum).catch(function(e){e.message&&t.show(e.message,{type:"error"})})}}],controllerAs:"telephoneDial",link:function(e,t,n){function l(){try{e.$digest()}catch(e){}}function i(e){var t=e.keyCode;13==t&&p.submit()}function o(){var e=p.phoneNum.replace(/[^0-9\*#]/g,"");p.phoneNum=e,l()}function a(e){e.preventDefault();var t=p.phoneNum;if(0!==t.length){var n=u[0].selectionStart,i=u[0].selectionEnd;if(n===i){var o=t.split("");o.splice(n-1,1),t=o.join(""),p.phoneNum=t,l(),u.focus(),u[0].setSelectionRange(n-1,n-1)}else{var o=t.split("");o.splice(n,i-n),t=o.join(""),p.phoneNum=t,l(),u.focus(),u[0].setSelectionRange(n,n)}}}function c(e){var t=e.currentTarget.innerText,n=p.phoneNum,i=u[0].selectionStart,o=u[0].selectionEnd,a=i===o?0:o-i,c=n.split("");c.splice(i,a,t),n=c.join(""),p.phoneNum=n,l(),u.focus(),u[0].setSelectionRange(i+1,i+1)}var p=e.telephoneDial,u=t.find("input"),s=t.find(".telDial-icon-delete");u.bind("keydown",i),u.on("input",o),s.on("click",a),t.on("click","ul>li",c),t.on("$destroy",function(){t.off("click",".telDial-icon-delete",a),t.off("click","ul>li",c),u.off("input",o),u.off("keydown",i)})}}}]),module.exports=moduleName;

},{"../../service/callCenter/callCenter.js":269,"../../service/log/lwlog":424,"../../service/toast/toast.js":611,"path":7}],100:[function(require,module,exports){
function directiveDefine(e,t,n,i,s,r,a){return{restrict:"AE",replace:!0,scope:{isSelectPanel:"=",selectedList:"="},controller:["$scope",function(s){function o(){try{s.$digest()}catch(e){}}var l,c=!!s.isSelectPanel;l=c?sourceTypes.SELECTOR_PANEL:sourceTypes.CONTACT;var m=e.getStore(l);this.currentExternalContactList=m.getCurrentExternalContactList(),this.isShowExternalList=!0,this.isLoading=!0,this.text={pc_external_contact_list_owner_tip:r.instant("pc_external_contact_list_owner_tip"),dt_external_no_contacts:r.instant("dt_external_no_contacts")};var d=function(){c&&this.currentExternalContactList&&this.currentExternalContactList.showItems.forEach(function(e){if(!e.EOF){var t={text:e.model.employee.orgUserName,model:e.model.employee},r=n.genSelectedItem(i.USER,t);s.selectedList.hasItem(r)||s.selectedList.isLocked(r)?e.isChecked=!0:e.isChecked=!1}})}.bind(this),E=function(){this.isShowExternalList=!0,0===this.currentExternalContactList.showItems.length?this.isShowExternalList=!1:1===this.currentExternalContactList.showItems.length&&this.currentExternalContactList.showItems[0].EOF&&(this.isShowExternalList=!1),this.isLoading=!1,d(),o()}.bind(this);this.currentExternalContactList&&(this.currentExternalContactList.on(this.currentExternalContactList.EventsName.UPDATE_ITEMS,E),this.currentExternalContactList.on(this.currentExternalContactList.EventsName.UPDATE_ITEM,o));var u=function(){this.isLoading=!0,this.currentExternalContactList=m.getCurrentExternalContactList(),this.currentExternalContactList&&(this.currentExternalContactList.removeListener(this.currentExternalContactList.EventsName.UPDATE_ITEMS,E),this.currentExternalContactList.removeListener(this.currentExternalContactList.EventsName.UPDATE_ITEM,o)),this.currentExternalContactList.on(this.currentExternalContactList.EventsName.UPDATE_ITEMS,E),this.currentExternalContactList.on(this.currentExternalContactList.EventsName.UPDATE_ITEM,o),o()}.bind(this),h=function(e){var t=e.model,s=e.user;return e.user||(s={text:t.employee.orgUserName,model:t.employee}),s.employee=t.employee,n.genSelectedItem(i.USER,s)},L=function(e){t(e.employee.uid,e.employee.orgStaffId,e.employee.orgId,null,null,null,e.employee.orgId)},x=function(e){var t=h(e);s.selectedList.toggleItem(t)},v=function(e){a.commLog("contact_exter_list_detail_click",""),c?x(e):L(e.model)},p=function(){this.currentExternalContactList.hasMore&&(this.isLoading=!0,this.currentExternalContactList.showMore(function(){this.isLoading=!1,o()}.bind(this)),o())}.bind(this);if(this.loadMore=p,this.onItemClick=v,c){var C=function(e,t){this.currentExternalContactList.showItems.forEach(function(n){if(!n.EOF){var i=h(n);e.forEach(function(e){i.id===e.id&&(n.isChecked=t)})}}),o()}.bind(this),g=function(e){C(e,!0)},f=function(e){C(e,!1)};d(),s.selectedList.EventEmitter.on("selectedItems",g),s.selectedList.EventEmitter.on("unselectedItems",f)}m.on(m.Events.CHANGE_INSTANCE,u),s.$on("$destroy",function(){m.removeListener(m.Events.CHANGE_INSTANCE,u),this.currentExternalContactList.removeListener(this.currentExternalContactList.EventsName.UPDATE_ITEMS,E),this.currentExternalContactList.removeListener(this.currentExternalContactList.EventsName.UPDATE_ITEM,o),c&&(s.selectedList.EventEmitter.removeListener("selectedItems",g),s.selectedList.EventEmitter.removeListener("unselectedItems",f))}.bind(this))}],template:'<div class="external-list-container">\n    <loading ng-if="externalContactList.isLoading"></loading>\n    <ul class="external-contact-list" ng-if="externalContactList.isShowExternalList" infinite-scroll infinite-scroll-bottom="externalContactList.loadMore();" >\n        <li class="external-contact-item"\n            ng-class="{\'has-no-labels\':item.model.employee.labels.length === 0}"\n            ng-repeat="item in externalContactList.currentExternalContactList.showItems track by item.id"\n            ng-click="externalContactList.onItemClick(item)"\n            ng-if="!item.EOF">\n            <p class="owner" ng-if="item.model.employee.followerEmpName">\n                {{::item.model.employee.followerEmpName}} <span>&nbsp;{{::externalContactList.text.pc_external_contact_list_owner_tip}}</span>\n            </p>\n            <div class="avatar-container" ng-class="{\'checked\':item.isChecked}">\n                <static-user-avatar class="normal" media-id="{{::item.model.userProfile.avatarMediaId}}" name="{{item.model.userProfile.nick || item.model.employee.orgNickName || item.model.employee.orgUserName}}"></static-user-avatar>\n            </div>\n            <div class="item-detail">\n                <div class="item-info">\n                    <p class="name">{{::item.model.employee.orgUserName}}</p>\n                    <p class="company">\n                        {{::item.model.employee.companyName}}\n                    </p>\n                </div>\n                <div class="item-tags">\n                    <span class="tag" ng-style = "label.style" ng-repeat="label in item.model.employee.labels">{{::label.name}}</span>\n                </div>\n            </div>\n        </li>\n    </ul>\n    <div class="empty-external"  ng-if="!externalContactList.isShowExternalList">\n        <p>\n            {{::externalContactList.text.dt_external_no_contacts}}\n        </p>\n    </div>\n</div>\n',controllerAs:directiveName}}var moduleName=module.exports="ddWeb.contact.externalContactList",directiveName="externalContactList",path=require("path");require("../../service/modal/profileModal.js");var sourceTypes=require("../../service/contact//externalContact/sourceType.js");angular.module(moduleName,[require("../../service/contact/externalContact/externalContactHelper.js"),require("../widget/loading/loading.js"),require("../avatar/staticUserAvatar"),require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("../infiniteScroll.js"),require("../../service/contact/externalContact/labelStore.js"),require("../../service/log/lwlog.js")]).directive(directiveName,["externalContactHelper","profileModalService","selectedItemFactory","selectedItemType","labelStore","$translate","lwlog",directiveDefine]);

},{"../../service/contact//externalContact/sourceType.js":289,"../../service/contact/externalContact/externalContactHelper.js":283,"../../service/contact/externalContact/labelStore.js":287,"../../service/log/lwlog.js":424,"../../service/modal/profileModal.js":466,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../avatar/staticUserAvatar":54,"../infiniteScroll.js":114,"../widget/loading/loading.js":163,"path":7}],101:[function(require,module,exports){
"use strict";var moduleName="ddWeb.directive.convItem",path=require("path"),ConvExtensionType=require("../../service/conversation/convExtensionType"),$my=require("../../service/user/my"),ConvType=require("../../service/conversation/ConvType"),SuperGroupStatus=require("../../service/conversation/SuperGroupStatus"),WKEngine=require("@ali/wksdk"),conversationStatus=WKEngine.conversationStatus,groupAuthority=WKEngine.groupAuthority,RemindText=require("../../service/conversation/RemindText"),RemindEnum=require("../../service/conversation/RemindEnum"),IMLogType=require("../../service/log/imLogType");angular.module(moduleName,[require("../../service/conversation/conversationWithSDK"),require("../../service/modal/confirm"),require("../../service/modal/profileModal"),require("../../service/unPopModal/groupSetting"),require("../../service/user/userManager"),require("../../service/modal/groupAddMembersModal"),require("../widget/contextMenu"),require("../avatar/groupAvatar"),require("../../service/toast/toast"),require("../../service/modal/updateConfirm"),require("../../service/log/imLog")]).directive("convItem",["$rootScope","conversationWithSDK","$confirm","profileModalService","groupSettingService","userManager","groupAddMembersModalService","toastService","updateConfirmService","imLog",function(e,n,t,o,i,r,c,s,a,v){return{restrict:"AE",scope:{convId:"="},controllerAs:"convItem",controller:["$scope",function(r){function a(e){c.showModal(e).then(function(t){t=t.concat(parseInt(e.lockedIds[0]!=$my.uid?e.lockedIds[0]:e.lockedIds[1])),n.createConversation(t,null,{isOrg:!1},function(e,n){e&&u(n)})}).catch(function(e){e instanceof Error&&s.show(e.message,{type:"error"})})}function v(e,t){c.showModal(t).then(function(t){n.addMembers(e,t,function(){u(e)})}).catch(function(e){e instanceof Error&&s.show(e.message,{type:"error"})})}function u(n){e.$broadcast("leftpannel.openChatByGroup",{conversationId:n})}var d=this;d.ConvType=ConvType,d.allConv=n.getAllConv(),d.SuperGroupStatus=SuperGroupStatus,d.convId=r.convId;var m=d.allConv[d.convId];d.conv=m,d.convListObj=n.getConvList(),this.RemindText=RemindText;var p=function(){r.$evalAsync(function(){})};this.hideConv=function(e,t){n.hideConv(e,!0),t.stopPropagation()},this.isShowMsgCount=function(){if(d.conv.notificationOff&&d.conv.newMsg>1){if(!d.conv.remindType)return!0;if(d.conv.remindType===RemindEnum.EMPTY)return!0}return!1};var l={del:{type:"del",text:"删除会话"},groupSetting:{type:"group-setting",text:"群设置"},profile:{type:"profile",text:"个人信息"},addNewMember:{type:"addNewMember",text:"添加新成员"},clearMsg:{type:"clearMsg",text:"清空聊天记录"}};this.getMenuItem=function(e){var t=n.getConvObj(e).baseConversation,o=t.sort>0;if(l.pin={type:"pin",text:o?"取消置顶":"置顶会话"},t.extension&&t.extension.type===ConvExtensionType.FILESHELPER)return[l.pin,l.del];if(t.extension&&t.extension.type===ConvExtensionType.GROUPREQUEST)return[l.del];if(t.extension&&t.extension.type===ConvExtensionType.FRIEND)return[l.del];if(t.tag===ConvType.SECRETARY)return[l.pin,l.del];if(t.tag===ConvType.ANNOUNCEMENT)return[l.pin,l.groupSetting,l.del];if(2===t.type)return t.authority===groupAuthority.ONLY_OWNER&&t.ownerId!=$my.uid?[l.pin,l.groupSetting,l.del,l.clearMsg]:[l.pin,l.groupSetting,l.del,l.addNewMember,l.clearMsg];if(1===t.type){var i=t.conversationId.split(":");return i[0]==$my.uid&&i[1]==$my.uid?[l.pin,l.profile,l.del,l.clearMsg]:[l.pin,l.profile,l.del,l.addNewMember,l.clearMsg]}return[]},this.onMenuItemClick=function(c,s){var u=n.getConvObj(c),d=u.baseConversation;switch(s){case"del":n.hideConv(c);break;case"pin":var m=d.sort>0;n.getConvObj(c).setTop(!m);break;case"profile":var p=d.conversationId.split(":");o(p[0]!=$my.uid?p[0]:p[1]);break;case"group-setting":n.activeConv(c).then(function(){i.open(null,{cid:c})});break;case"addNewMember":var l={isCompanyGroup:!1,oid:null,orgName:null,lockedIds:[],conversationId:c};n.activeConv(c).then(function(){if(1===d.type)l.lockedIds=d.conversationId.split(":").map(function(e){return parseInt(e)}),a(l);else if(2===d.type){if(u.baseConversation.tag===ConvType.COMPANY_GROUP&&(l.isCompanyGroup=!0,u.baseConversation.extension&&u.baseConversation.extension.id)){l.oid=u.baseConversation.extension.id;var n=$my.getOrgByOid(l.oid);n&&(l.orgName=n.orgEmployeeModel.orgName)}u.getMembers(function(e){l.lockedIds=e.map(function(e){return e.openIdEx.openId}),v(d.conversationId,l)})}e.$digest()});break;case"clearMsg":t({title:"清空聊天记录",content:"确定清空此会话聊天记录？"}).then(function(){u.clearMsg(function(){r.$digest()})})}},m.EventEmitter.on(m.EVENTS.UPDATE_BASE_CONV,p),m.EventEmitter.on(m.EVENTS.LAST_MSG_REMIND_UPDATE,p),m.EventEmitter.on(m.EVENTS.NOTIFICATION_STATUS_CHANGE,p),m.EventEmitter.on(m.EVENTS.UPDATE_TITLE,p),r.$on("$destroy",function(){m.EventEmitter.off(m.EVENTS.UPDATE_BASE_CONV,p),m.EventEmitter.off(m.EVENTS.LAST_MSG_REMIND_UPDATE,p),m.EventEmitter.off(m.EVENTS.NOTIFICATION_STATUS_CHANGE,p),m.EventEmitter.off(m.EVENTS.UPDATE_TITLE,p)})}],link:function(e,o){function i(e){return t({title:"确认消息",content:"你已被移出此群，是否删除该对话入口？"}).then(function(){n.deleteConv(e)},function(){n.activeConv(e)})}function r(e,o){return t({title:"确认消息",content:"该群组已经被解散了，是否删除该对话入口？"}).then(function(){n.deleteConv(e)},function(){n.activeConv(e)})}function c(){return a({title:"确认信息",content:"当前版本过低，无法打开本会话"})}var s=e.convId,u=n.getAllConv(),d=u[s],m=function(){d.baseConversation.status===conversationStatus.KICKED?i(s):d.baseConversation.status===conversationStatus.DISBANDED?r(s):d.baseConversation.tag===ConvType.FILEHELPER&&_.values(ConvExtensionType).indexOf(d.baseConversation.extension.type)===-1?c():(v.trace(s,IMLogType.MAIPAGE_MSG_LIST),n.activeConv(s))};o[0].addEventListener("click",m),e.$on("$destroy",function(){o[0].removeEventListener("click",m)})},template:'<div class="list-item conv-item context-menu"\n    ng-class="{\'active\' : convItem.convListObj.activeConvId === convItem.convId,\'pin\':convItem.conv.baseConversation.sort > 0,\'notice-mute\': convItem.conv.notificationOff,\'conv-item-company\':convItem.conv.baseConversation.tag===convItem.ConvType.COMPANY_GROUP || convItem.conv.baseConversation.tag===convItem.ConvType.ENCRYPT_CHAT,\'safety-item\': convItem.conv.isSafety}"\n    context-menu menu-data="{{convItem.conv.convId}}" menu-item-get="convItem.getMenuItem" menu-item-click="convItem.onMenuItemClick">\n    <i class="iconfont icon-delete-conv" htitle="删除会话" htitle-direction="left" ng-click="convItem.hideConv(convItem.conv.convId,$event)">&#xe632;</i>\n    <div class="avatar-wrap"><group-avatar cid="{{:: convItem.conv.convId }}"></group-avatar></div>\n    <div class="conv-item-content">\n        <div class="title-wrap info">\n            <div class="name-wrap">\n                <p class="name" ng-bind-html="convItem.conv.baseConversation.title|emoj"></p>\n                <i class="icon-company" ng-class="{\'icon-safety-single\': convItem.conv.isSafetySingle, \'icon-dept-company\':convItem.conv.isDeptGroup ,\'icon-all-user-company\': convItem.conv.isAllUserGroup, \'icon-safety\': convItem.conv.isSafety}"></i>\n            </div>\n            <span class="time">{{convItem.conv.updateTime|dateTime}}</span>\n        </div>\n        <div class="latest-msg-info">\n            <p class="latest-msg">\n                <span ng-if="convItem.conv.remindType" class="highlight">{{convItem.RemindText[convItem.conv.remindType]}}</span>\n                <span ng-if="convItem.isShowMsgCount()" ng-bind-html="\'[\' + (convItem.conv.newMsg)+\'条]\'"></span>\n                <span ng-bind-html="convItem.conv.lastMessageContent|emoj"></span>\n            </p>\n            <div class="noti">\n                <i class="iconfont icon-mute" ng-if="convItem.conv.notificationOff">&#xe605;</i>\n                <span class="unread-num" ng-if="convItem.conv.newMsg">\n                    <em ng-if="!convItem.conv.notificationOff">{{convItem.conv.newMsg}}</em>\n                    <em ng-if="convItem.conv.notificationOff"></em>\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../service/conversation/ConvType":294,"../../service/conversation/RemindEnum":302,"../../service/conversation/RemindText":303,"../../service/conversation/SuperGroupStatus":305,"../../service/conversation/convExtensionType":307,"../../service/conversation/conversationWithSDK":308,"../../service/log/imLog":419,"../../service/log/imLogType":420,"../../service/modal/confirm":447,"../../service/modal/groupAddMembersModal":457,"../../service/modal/profileModal":466,"../../service/modal/updateConfirm":478,"../../service/toast/toast":611,"../../service/unPopModal/groupSetting":626,"../../service/user/my":635,"../../service/user/userManager":641,"../avatar/groupAvatar":51,"../widget/contextMenu":148,"@ali/wksdk":779,"path":7}],102:[function(require,module,exports){
"use strict";var moduleName="ddWeb.directive.convList",path=require("path"),$my=require("../../service/user/my"),EVENTS=require("../../service/events");angular.module(moduleName,[require("../../service/conversation/conversationWithSDK"),require("./convItem")]).directive("convList",["$rootScope","conversationWithSDK",function(n,i){return{restrict:"AE",replace:!0,scope:{},controllerAs:"convList",controller:["$scope",function(n){function t(){o(),n.$evalAsync(function(){})}this.showType=["pinOrder","order"],this.convListObj=i.getConvList(),this.isEmpty=!0;var o=function(){this.isEmpty===!0&&(this.convListObj.pinOrder.length>0||this.convListObj.order.length>0)&&(this.isEmpty=!1)}.bind(this);o(),this.convListObj.activeConvId!==this.convListObj.lastActiveConvId&&i.activeConv(this.convListObj.lastActiveConvId);var e=i.getConvListChangeEvents();e.emitter.on(e.EVENTS.ORDER_CHANGE,t),n.$on("$destroy",function(){e.emitter.off(e.EVENTS.ORDER_CHANGE,t)})}],link:function(n,t,o){function e(){var n=[];return r.showType.forEach(function(i){r.convListObj[i].forEach(function(i){n.push(i)})}),n}function s(){a||(a=t.find(".conv-item").outerHeight()||d),l=parseInt(v.scrollTop()/a),v.stop();var n=e(),i=c(l+1,n.length,n);i!==-1?v.animate({scrollTop:i*a},u):v.animate({scrollTop:0},u),l=i}function c(n,i,t){for(var o=t.map(function(n){return f[n]}),e=n;e<i;e++)if(0!==o[e].newMsg&&!o[e].notificationOff)return e;for(var e=0;e<n;e++)if(0!==o[e].newMsg&&!o[e].notificationOff)return e;return-1}var r=n.convList,v=t,a=null,d=55,l=0,u=100,f=i.getAllConv(),h=n.$on(EVENTS.SCROLL_TO_UNREAD_CONV,function(){s()});n.$on("$destroy",function(){h()})},template:'<div class="conv-lists-box">\n    <div class="conv-lists" ng-repeat="showType in convList.showType">\n        <conv-item ng-repeat = "convId in convList.convListObj[showType] track by convId" conv-id = "convId" con-id="{{convId}}"></conv-item>\n    </div>\n    <div class="conv-list-loading" ng-if="convList.isEmpty">\n        <div class="loading">\n            <div class="bounce1"></div>\n            <div class="bounce2"></div>\n            <div class="bounce3"></div>\n        </div>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../service/conversation/conversationWithSDK":308,"../../service/events":376,"../../service/user/my":635,"./convItem":101,"path":7}],103:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.dingInfo.dingContent";require("../../service/user/userManager");var app=angular.module(moduleName,[require("../../component/ding/dingInfo/dingInfoFileList"),"ddWeb.user.userManager",require("../player/audioPlayer"),require("../avatar/userAvatar")]);app.directive("dingContent",["userManager",function(t){return{restrict:"AE",replace:!0,template:'<div class="ding-content-box" ng-class="{\'qiaoqiao\': dingContent.dingDetail.commentAuth === 1 && !dingContent.dingDetail.isReceive }">\r\n\t<div class="ding-info-profile">\r\n\t\t<div class="avatar" style="float:left"><user-avatar class="normal" uid="{{ dingContent.info.uid }}"></user-avatar></div>\r\n\t\t<div class="ding-info-name" ng-bind-html="(dingContent.info.user.remarkNameObj.alias || dingContent.info.user.userProfileModel.nick)|emoj"></div>\r\n\t</div>\r\n\t<div class="ding-info-content-box">\r\n\t\t<div class="time-line">\r\n\t\t\t{{dingContent.dingDetail.createAt|dateTime:true}}\r\n\t\t</div>\r\n\t\t<!-- <div class="ding-info-content" ng-switch on="selection">\r\n\t\t\t{{dingContent.dingDetail.dingEntity.data.textContent.text}}\r\n\t\t</div> -->\r\n\t\t<div class="ding-info-content">\r\n\t\t\t<pre ng-if="dingContent.dingDetail.dingEntity.data.contentType===1" ng-bind-html="dingContent.dingDetail.dingEntity.data.textContent.text || \'\' |msgfilter">\r\n\t\t\t</pre>\r\n\t\t\t<div ng-if="dingContent.dingDetail.dingEntity.data.contentType===2" class="ding-info-audio-box">\r\n\t\t\t\t<div class="ding-info-audio-content">\r\n\t\t\t\t\t<audio-player audio-media-id="dingContent.audio.mediaId" audio-duration="dingContent.audio.duration" log="ding_voice_play"></audio-player>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<ding-info-file-list file-list = "dingContent.dingDetail.dingAttachments"></ding-info-file-list>\r\n\r\n\t</div>\r\n</div>\r\n',scope:{info:"=info",dingDetail:"=dingDetail",createParticipants:"=createParticipants"},controller:["$scope",function(n){var i=this;this.info=n.info,this.dingDetail=n.dingDetail,t.getUsers([this.info.uid]).then(function(t){0!==t.length&&(i.info.user=t[0]),n.$digest()}),2==this.dingDetail.dingEntity.data.contentType&&(this.audio={},this.audio.mediaId=this.dingDetail.dingEntity.data.audioContent.mediaId,this.audio.duration=parseInt(this.dingDetail.dingEntity.data.audioContent.duration/1e3))}],link:function(t,n,i){},controllerAs:"dingContent"}}]),module.exports=moduleName;

},{"../../component/ding/dingInfo/dingInfoFileList":24,"../../service/user/userManager":641,"../avatar/userAvatar":55,"../player/audioPlayer":123,"path":7}],104:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.dingInfo.dingParticipator";require("../../service/modal/profileModal");var _=require("lodash"),app=angular.module(moduleName,["ddWeb.service.profileModal",require("../../service/ding/DingSendStatus"),require("../../service/modal/sendDingModal"),require("../../service/toast/toast"),require("../avatar/userAvatar"),require("../avatar/openProfile")]);app.directive("dingParticipator",["profileModalService","DingSendStatus","sendDingModalService","toastService",function(i,n,t,a){return{restrict:"AE",replace:!0,template:'<div class="ding-participator">\n    <div class="ding-info-action-row">\n\t\t<span class="ding-info-show-group" ng-click="dingPartCtrl.showParticipator($event)">\n      {{ ::dingPartCtrl.text.dt_ding_view_confirm_users}}\n\t\t\t<i class="icon iconfont open-part-icon" ng-show="dingPartCtrl.isPartOpen">&#xe633;</i>\n\t\t\t<i class="icon iconfont colse-part-icon" ng-show="!dingPartCtrl.isPartOpen">&#xe633;</i>\n\t\t\t<i class="icon iconfont loop-loading" ng-if="dingPartCtrl.isLoadingParticipator">&#xe657;</i>\n\t\t</span>\n    <span class="ding-info-confirmed" ng-if="dingPartCtrl.dingDetail.confirmStatus===1&&!dingPartCtrl.info.isMyDing">{{ ::dingPartCtrl.text.and_ding_txt_confirmed_already }}</span>\n        <!-- 我发出的ding -->\n        <span class="ding-info-confirmed" ng-if="dingPartCtrl.info.isMyDing&&dingPartCtrl.dingDetail.unConfirmCount!==0&&dingPartCtrl.dingDetail.sendStatus===dingPartCtrl.DingSendStatus.SENT">{{dingPartCtrl.dingDetail.unConfirmCount}}{{ ::dingPartCtrl.text.and_ding_confirm_info}}</span>\n        <span class="ding-info-confirmed" ng-if="dingPartCtrl.info.isMyDing&&dingPartCtrl.dingDetail.unConfirmCount===0&&dingPartCtrl.dingDetail.sendStatus===dingPartCtrl.DingSendStatus.SENT">{{ ::dingPartCtrl.text.pc_im_msgstate_allconfirmed}}</span>\n        <span class="ding-info-confirmed" ng-if="dingPartCtrl.info.isMyDing&&dingPartCtrl.dingDetail.sendStatus===dingPartCtrl.DingSendStatus.NOTSEND">{{ :: dingPartCtrl.text.and_ding_text_to_send}}</span>\n    </div>\n    <div class="participator-box" ng-class="{\'box-open\':dingPartCtrl.isPartOpen}">\n        <div class="unconfirm-box" ng-if="dingPartCtrl.dingDetail.receiverList.unConfirmList.length!==0">\n            <div class="ding-comfirm-box-title">\n                <span>\n                  {{:: dingPartCtrl.text.and_ding_txt_unconfirmed_member }}({{dingPartCtrl.dingDetail.receiverList.unConfirmList.length}})\n                </span>\n                <a class="ding-confirm-box-ding-again" ng-click="dingPartCtrl.dingAgain()" ng-if="dingPartCtrl.info.isMyDing&&dingPartCtrl.dingDetail.sendStatus!==dingPartCtrl.DingSendStatus.NOTSEND">{{ :: dingPartCtrl.text.and_ding_inform_again}}</a>\n            </div>\n            <div class="ding-participator-box">\n                <div class="ding-participator-item" ng-repeat="item in dingPartCtrl.dingDetail.receiverList.unConfirmList"  content="item.user.userProfileModel.nick">\n                    <div class="ding-participator-avatar-box" ng-if="item.status" htitle="{{item.user.remarkNameObj.alias||item.user.userProfileModel.nick}}{{item.status}}">\n                        <div class="avatar-wrap" style="float:left"><user-avatar open-profile="1" class="light-small" uid="{{ item.user.userProfileModel.uid }}"></user-avatar></div>\n                        <div class="unconfirm-loading-box" ng-if="item.statusCode < 10 && dingPartCtrl.info.isMyDing">\n                            <i class="close iconfont unconfirm-loading-btn">&#xe668;</i>\n                        </div>\n                    </div>\n                    <div class="ding-participator-avatar-box" ng-if="!item.status" htitle="{{item.user.remarkNameObj.alias||item.user.userProfileModel.nick}}">\n                        <div class="avatar-wrap" style="float:left"><user-avatar open-profile="1" class="light-small" uid="{{ item.user.userProfileModel.uid }}"></user-avatar></div>\n                        <div class="unconfirm-loading-box" ng-if="item.statusCode < 10 && dingPartCtrl.info.isMyDing">\n                            <i class="close iconfont unconfirm-loading-btn">&#xe668;</i>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="confirm-box" ng-if="dingPartCtrl.dingDetail.receiverList.confirmList.length!==0">\n            <div class="ding-comfirm-box-title">\n              {{:: dingPartCtrl.text.and_ding_txt_confirmed_already }}({{dingPartCtrl.dingDetail.receiverList.confirmList.length}})\n            </div>\n            <div class="ding-participator-box">\n                <div class="ding-participator-item" ng-repeat="item in dingPartCtrl.dingDetail.receiverList.confirmList" content="item.user.userProfileModel.nick" htitle="{{item.user.remarkNameObj.alias||item.user.userProfileModel.nick}}">\n                    <div class="ding-participator-avatar-box">\n                        <div class="avatar-wrap" style="float:left"><user-avatar open-profile="1" class="light-small" uid="{{ item.user.userProfileModel.uid }}"></user-avatar></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n',scope:{dingDetail:"=dingDetail",info:"=info"},controller:["$scope","$translate",function(a,e){function r(){try{a.$digest()}catch(i){}}var d=this;this.text={dt_ding_view_confirm_users:e.instant("dt_ding_view_confirm_users"),and_ding_txt_confirmed_already:e.instant("and_ding_txt_confirmed_already"),and_ding_confirm_info:e.instant("and_ding_confirm_info"),pc_im_msgstate_allconfirmed:e.instant("pc_im_msgstate_allconfirmed"),and_ding_text_to_send:e.instant("and_ding_text_to_send"),and_ding_txt_unconfirmed_member:e.instant("and_ding_txt_unconfirmed_member"),and_ding_inform_again:e.instant("and_ding_inform_again")},this.dingDetail=a.dingDetail,this.info=a.info,this.isPartOpen=!1,this.DingSendStatus=n,d.dingDetail.on(d.dingDetail.EventsName.UPDATE_CONFIRM,r),d.dingDetail.on(d.dingDetail.EventsName.UPDATE_PARTICIPATOR,r),this.showProfile=function(n){n&&i(n)},this.showParticipator=function(i){i.preventDefault(),i.stopPropagation(),d.isPartOpen?d.isPartOpen=!1:(d.isLoadingParticipator=!0,d.dingDetail.getReceiverList(function(i){d.dingDetail.unConfirmCount!==i.unConfirmList.length&&(d.dingDetail.unConfirmCount=i.unConfirmList.length),setTimeout(function(){d.isPartOpen=!0,d.isLoadingParticipator=!1,r()}),r()}))},this.dingAgain=function(){t.dingAgain(d.dingDetail.dingId)},a.$on("$destroy",function(){d.dingDetail.off(d.dingDetail.EventsName.UPDATE_CONFIRM,r),d.dingDetail.off(d.dingDetail.EventsName.UPDATE_PARTICIPATOR,r)})}],controllerAs:"dingPartCtrl"}}]),module.exports=moduleName;

},{"../../service/ding/DingSendStatus":342,"../../service/modal/profileModal":466,"../../service/modal/sendDingModal":472,"../../service/toast/toast":611,"../avatar/openProfile":53,"../avatar/userAvatar":55,"lodash":919,"path":7}],105:[function(require,module,exports){
"use strict";var moduleName="ddWeb.dingInfo.dingReplyFoot",path=require("path"),app=angular.module(moduleName,[require("./dingResponseInput"),require("../../service/ding/DingSendStatus")]);app.directive("dingReplyFoot",function(){return{restrict:"AE",template:'<div>\r\n  <button class="ding-reply-comfirm-btn" ng-if="dingReplyFoot.dingDetail.confirmStatus===0&&(!dingReplyFoot.dingDetail.isSent)" ng-click="dingReplyFoot.confirmDing()">{{:: dingReplyFoot.text.pc_ding_info_confirm_and_reply }}</button>\r\n\t<div ding-response-input="dingReplyFoot.inputOption" ng-if="dingReplyFoot.dingDetail.confirmStatus===1||dingReplyFoot.dingDetail.isSent"></div>\r\n</div>\r\n',scope:{dingDetail:"=dingDetail",info:"=info",inputOption:"=inputOption",confirmDing:"=confirmDing"},controller:["$scope","DingSendStatus","$translate",function(n,i,t){var e=this;this.text={pc_ding_info_confirm_and_reply:t.instant("pc_ding_info_confirm_and_reply")},this.dingDetail=n.dingDetail,this.inputOption=n.inputOption,this.info=n.info,this.DingSendStatus=i;var o=n.$watch(function(){return n.confirmDing},function(n){e.confirmDing=n,o()})}],controllerAs:"dingReplyFoot"}}),module.exports=moduleName;

},{"../../service/ding/DingSendStatus":342,"./dingResponseInput":107,"path":7}],106:[function(require,module,exports){
"use strict";var moduleName="ddWeb.dingInfo.dingReplyVoiceItem";require("../../service/user/userManager");var path=require("path"),app=angular.module(moduleName,["ddWeb.user.userManager",require("../player/audioPlayer"),require("../avatar/userAvatar"),require("../avatar/openProfile")]);app.directive("dingReplyVoiceItem",["userManager",function(e){return{restrict:"AE",replace:!0,scope:{comment:"=comment"},template:'<div class="ding-reply-item">\r\n    <div class="avatar-wrap">\r\n        <user-avatar open-profile="1" class="normal" uid="{{ dingReplyVoiceItem.uid }}"></user-avatar>\r\n    </div>\r\n    <div class="ding-reply-item-info">\r\n        <div class="ding-reply-name" ng-bind-html="(dingReplyVoiceItem.user.remarkNameObj.alias ||dingReplyVoiceItem.user.userProfileModel.nick)|emoj">\r\n\r\n        </div>\r\n        <div class="ding-reply-content" >\r\n            <div class="ding-info-audio-box">\r\n                <audio-player audio-media-id="dingReplyVoiceItem.audio.mediaId" audio-duration="dingReplyVoiceItem.audio.duration" log="ding_voice_play"></audio-player>\r\n            </div>\r\n        </div>\r\n        <div class="ding-replay-time">{{dingReplyVoiceItem.comment.createAt|dateTime:true}}</div>\r\n    </div>\r\n</div>',controller:["$scope",function(i){var r=this,a=this.comment=i.comment.data,n=this.uid=a.commenterUidEx.uid;e.getUsers([n]).then(function(e){0!=e.length&&(r.user=e[0]),i.$digest()}),this.audio={},this.audio.duration=parseInt(a.commentContentModel.audioContent.duration/1e3),this.audio.mediaId=a.commentContentModel.audioContent.mediaId}],link:function(e,i,r){},controllerAs:"dingReplyVoiceItem"}}]),module.exports=moduleName;

},{"../../service/user/userManager":641,"../avatar/openProfile":53,"../avatar/userAvatar":55,"../player/audioPlayer":123,"path":7}],107:[function(require,module,exports){
"use strict";var moduleName="ddWeb.dingInfo.dingResponseInput",DING_INFO_EVENT=require("../../service/ding/dingInfoEvent");require("../../service/safe/safe");var path=require("path"),app=angular.module(moduleName,["ddWeb.safe","ddWeb.toast",require("../../component/ding/dingInfo/dingReplyToolBar")]);app.directive("dingResponseInput",["safe","toastService",function(u,F){return{restrict:"AE",replace:!0,template:'<div>\r\n\t<p class="ding-info-input-error-tips">\r\n\t\t<i class="iconfont">&#xe63c;</i>\r\n    <span>{{::input.text.pc_ding_detail_reply_error_tips}}</span>\r\n\t</p>\r\n\t<div class="ding-input-box">\r\n    <ding-reply-tool-bar response-input="dingResponseInput" insert-text="input.insertText"></ding-reply-tool-bar>\r\n    <textarea class="textarea ding-reply-input" placeholder={{dingResponseInput.placeholder}}></textarea>\r\n\t\t<div class="ding-hidden-input-box"></div>\r\n    <button class="ding-send-reply-btn" ng-click="input.sendMsg($event)" disabled="true">{{::input.text.pc_ding_detail_send_btn}}</button>\r\n\t</div>\r\n</div>\r\n',scope:{dingResponseInput:"=dingResponseInput"},controller:["$scope","$translate",function(u,F){var A=this,B=u.dingResponseInput||{};this.text={pc_ding_detail_send_btn:F.instant("pc_ding_detail_send_btn"),pc_ding_detail_reply_error_tips:F.instant("pc_ding_detail_reply_error_tips")},A._width=B.initWidth||150,A._height=B.initHeight||35,A._maxLength=B.maxLength||9999,A._preSend=B.preSend||function(){},A._sendMsg=B.sendMsg||function(){}}],link:function(F,A,B){function D(u){0===u.trim().length||u.trim().length>140||(t._sendMsg(u),o[0].value="",n())}function C(){var A=u.escapeHTML(o.val());A=A.replace(/\n/g,"<br>")+"z",d.html(A);var B=d.outerHeight();a!=B&&(o.outerHeight(B),a=B,"$apply"!=F.$root.$$phase&&"$digest"!=F.$root.$$phase&&F.$apply())}function E(u){var F=/^[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFC\uFFFE\uFFFF]+/g,A=/[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFC\uFFFE\uFFFF]+$/g;return u.replace(F,"").replace(A,"")}function n(){var u=!0,A=!1,B=o.val().trim();B=E(B),0!==B.length&&B.length<=t._maxLength?u=!1:B.length>t._maxLength&&(A=!0),p!=u&&(p=u,l.attr("disabled",p)),A!==s&&(s=A,A?r.css("display","block"):r.css("display","none"),"$apply"!=F.$root.$$phase&&"$digest"!=F.$root.$$phase&&F.$apply()),C()}function e(u,F){var A=o[0],B=u,D=A.selectionStart,C=A.selectionEnd,E=A.value,F=F||u.length;A.value=E.substring(0,D)+B+E.substring(C,E.length),o.focus(),A.selectionStart=A.selectionEnd=C+F,o.trigger("input")}var t=F.input,i=F.dingResponseInput||{},r=A.find(".ding-info-input-error-tips"),s=!1,p=!0,a=0;t._maxLenWarning=i._maxLenWarning||function(){};var o=A.find(".ding-reply-input"),d=A.find(".ding-hidden-input-box"),l=A.find(".ding-send-reply-btn");t.sendMsg=function(u){u.stopPropagation(),u.preventDefault(),D(o.val())},F.dingResponseInput.setFocus=function(){o.focus()},o.on("keydown",function(u){var F=u.which;(u.ctrlKey||u.altKey)&&13==F?(u.preventDefault(),e("\n")):13==F&&(u.preventDefault(),D(o.val()))}),o.on("input",function(u){n()}),t.insertText=e,A.one("$destroy",function(){o.off("input")})},controllerAs:"input"}}]),module.exports=moduleName;

},{"../../component/ding/dingInfo/dingReplyToolBar":27,"../../service/ding/dingInfoEvent":353,"../../service/safe/safe":545,"path":7}],108:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.dinglist.dingItem";require("./dingItemContent"),require("../../service/ding/dinglist");var $my=require("../../service/user/my");require("../../service/user/userManager"),require("../../service/modal/profileModal");var app=angular.module(moduleName,["ddWeb.dinglist.dingItemContent",require("../../service/unPopModal/dingDetail"),"ddWeb.ding","ddWeb.user.userManager","ddWeb.service.profileModal",require("../../service/user/UserType"),require("../../service/ding/DingSendStatus")]);app.directive("dingItem",["openDingDetail","dinglist","userManager","profileModalService","UserType","$state","DingSendStatus",function(n,i,e,t,d,s,a){return{restrict:"AE",replace:!0,scope:{ding:"=ding"},controller:["$scope","$rootScope",function(g,m){var o=this;this.ding=g.ding,this.$state=s,this.info={},this.isConfirming=!1,this.DingSendStatus=a,e.getUsers([o.ding.senderUidEx.uid]).then(function(n){o.user=n[0],g.$digest()});var r=function(){try{g.$digest()}catch(n){}};o.dingDetail={},i.getDingById(this.ding.dingId,function(n){o.dingDetail=n,r(),o.dingDetail.on(o.dingDetail.EventsName.UPDATE_CONFIRM,r),o.dingDetail.comments.commentList.on(o.dingDetail.comments.commentList.EventsName.UPDATE_ITEMS,r)}),this.confirmDing=function(n){n.preventDefault(),n.stopPropagation(),o.isConfirming=!0,o.dingDetail.confirm(function(n){o.dingDetail.confirmStatus=1,o.isConfirming=!1,r()})},this.showProfileModal=function(n){o.user.userProfileModel.type===d.ORDINARY_USER&&t(n)},this.openDingDetail=function(i){i.preventDefault(),i.stopPropagation(),n({uid:o.ding.senderUidEx.uid,dingId:o.ding.dingId,isMyDing:o.ding.senderUidEx.uid==$my.uid})},g.$on("$destroy",function(){o.dingDetail&&(o.dingDetail.off(o.dingDetail.EventsName.UPDATE_CONFIRM,r),o.dingDetail.comments.commentList.off(o.dingDetail.comments.commentList.EventsName.UPDATE_ITEMS,r))})}],link:function(n,i,e){},controllerAs:"dingItem",template:'<li class="ding-item" ng-class="{\'qiaoqiao\': dingItem.dingDetail.commentAuth === 1 && !dingItem.dingDetail.isReceive,\'not-confirm\':dingItem.dingDetail.confirmStatus===0&&dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.SENT&&(dingItem.dingDetail.isReceive||dingItem.dingDetail.isMy),\'me-sent\':dingItem.$state.is(\'authorized.ding.send\')}">\n    <p class="name"><a href="javascript:;" ng-bind-html="(dingItem.user.remarkNameObj.alias ||dingItem.user.userProfileModel.nick)|emoj" ng-click="dingItem.showProfileModal(dingItem.user.userProfileModel.uid)"></a></p>\n    <span class="attachment-and-time">\n        <i class="iconfont attachment-icon" ng-if="dingItem.ding.dingAttachments && dingItem.ding.dingAttachments.length!==0" htitle="附件">&#xe621;</i>\n        <span class="time">{{dingItem.ding.sendAt|dateTime:true}}</span>\n    </span>\n    <div ding-item-content ding="dingItem.ding" open-ding-detail="dingItem.openDingDetail"></div>\n    <div class="status-bar" ng-class="{\'has-new-reply\':dingItem.ding.comments.commentList.newCount!==0&&dingItem.ding.comments.totalCount!==0}">\n        <!-- 验证状态的div -->\n        <div class="status-bar-border" ng-if="dingItem.dingDetail.confirmStatus===0&&dingItem.dingDetail.sendStatus===0&&(dingItem.dingDetail.isReceive||dingItem.dingDetail.isMy)">\n            <a href="javascript:;" class="action-wrapper" ng-if="!dingItem.isConfirming" ng-click="dingItem.confirmDing($event)" log="ding_confirm_click">\n                <i class="iconfont">&#xe628;</i>\n                <span class="status-article">确认收到</span>\n            </a>\n            <span class="status-article" ng-if="dingItem.isConfirming">确认中</span>\n        </div>\n        <!-- 确认状态 -->\n        <div ng-click="dingItem.openDingDetail($event)" ng-if="dingItem.$state.is(\'authorized.ding.send\')">\n            <a href="javascript:;" class="unconfirmed-member-num" ng-if="dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.SENT&&dingItem.dingDetail.unConfirmCount!==0">{{dingItem.dingDetail.unConfirmCount}}人未确认</a>\n            <a href="javascript:;" class="unconfirmed-member-num all-comfirm" ng-if="dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.SENT&&dingItem.dingDetail.unConfirmCount===0">全部确认</a>\n            <a href="javascript:;" class="unconfirmed-member-num all-comfirm" ng-if="dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.NOTSEND">待发送</a>\n        </div>\n        <!-- 回复信息的div -->\n        <div class="status-bar-border" ng-if="dingItem.dingDetail.confirmStatus===1||dingItem.dingDetail.isSent||(dingItem.dingDetail.isMy&&dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.NOTSEND)">\n            <a class="action-wrapper" ng-click="dingItem.openDingDetail($event)">\n                <i class="iconfont">&#xe629;</i>\n                <span class="status-article" ng-if="dingItem.ding.comments.commentList.newCount===0&&dingItem.ding.comments.totalCount===0">点击到详情页回复</span>\n                <span class="status-article" ng-if="dingItem.ding.comments.commentList.newCount===0&&dingItem.ding.comments.totalCount!==0">共有{{dingItem.ding.comments.totalCount}}条回复</span>\n                <span class="status-article" ng-if="dingItem.ding.comments.commentList.newCount!==0&&dingItem.ding.comments.totalCount!==0">有{{dingItem.ding.comments.commentList.newCount}}条新回复</span>\n            </a>\n        </div>\n    </div>\n</li>\n'}}]),module.exports=moduleName;

},{"../../service/ding/DingSendStatus":342,"../../service/ding/dinglist":359,"../../service/modal/profileModal":466,"../../service/unPopModal/dingDetail":623,"../../service/user/UserType":632,"../../service/user/my":635,"../../service/user/userManager":641,"./dingItemContent":109,"path":7}],109:[function(require,module,exports){
"use strict";var moduleName="ddWeb.dinglist.dingItemContent",path=require("path");require("../../service/mediaId/mediaId"),require("../../service/api/trans"),require("../../service/log/log");var app=angular.module(moduleName,["ddWeb.mediaId","ddWeb.api.trans","ddWeb.log.log"]);app.directive("dingItemContent",["$sce","mediaId","trans","log",function(n,i,t,e){return{restrict:"AE",replace:!0,scope:{ding:"=ding",openDingDetail:"=openDingDetail"},controller:["$scope",function(n){var i=this;if(this.ding=n.ding,i.ding.dingEntity.data&&2===i.ding.dingEntity.data.contentType){var t=i.ding.dingEntity.data;i.audio={},i.audio.duration=parseInt(t.audioContent.duration/1e3),i.audio.mediaId=t.audioContent.mediaId}i.ding.dingEntity.data||e.error("拉ding错误，ding数据为："+JSON.stringify(i.ding))}],link:function(n,i,t){},controllerAs:"dingContent",template:'<div class="ding-content" ng-class="{\'text\':dingContent.ding.dingEntity.data.contentType===1}">\n    <pre ng-if="dingContent.ding.dingEntity.data.contentType===1" ng-bind-html="dingContent.ding.dingEntity.data.textContent.text || \'\' |msgfilter" ng-click="openDingDetail($event)"></pre>\n    <div class="audio" ng-if="dingContent.ding.dingEntity.data.contentType===2">\n        <audio-player audio-media-id="dingContent.audio.mediaId" audio-duration="dingContent.audio.duration" log="ding_voice_play" ng-click="openDingDetail($event)"></audio-player>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../service/api/trans":243,"../../service/log/log":422,"../../service/mediaId/mediaId":433,"path":7}],110:[function(require,module,exports){
"use strict";var path=require("path"),ua=require("../../service/ua"),storage=require("../../service/storage/storage"),$my=require("../../service/user/my"),moduleName="ddWeb.fileList.fileItem";angular.module(moduleName,[require("../../service/spacePlugin/upload"),require("../../service/app/download/openFile"),require("../../service/app/download/DLManager")]).directive("spaceFileItem",["$rootScope","$fileHelper","CSpaceFileUploader","openFileService","DLManager",function(e,i,o,t,s){return{restrict:"AE",scope:{info:"="},replace:!0,controller:["$scope",function(e){}],link:function(e,i,l,n){function a(){var e=storage.local.getItem($my.uid+"_"+storage.KEYS.UPLOAD_LIST_SET);if(e){var i={};try{i=JSON.parse(e)}catch(e){}return i}return{}}function r(e){e&&storage.local.setItem($my.uid+"_"+storage.KEYS.UPLOAD_LIST_SET,JSON.stringify(e))}function c(){try{e.$digest()}catch(e){}}var d=e.spaceFileItem;if(d.info=e.info,d.clientId=d.info&&d.info.clientId,d.info.status.isDownload?d.cancelTipText="取消下载":d.cancelTipText="取消上传",d.isDesktop=ua.isDesktop,d.isNw=ua.isNw,!d.info.status.isDownload&&ua.isDingTalkWin&&(d.info.status.hideFolder=!0),!d.info.status.ignoreStorage){var p=o.initFileUploader();d.clientId&&(d.onFileProgress=function(e){e&&d.clientId==e.clientId&&c()},p.on("fileProgress",d.onFileProgress),p.on("fileDownloadProgress",d.onFileProgress),d.onFileUploadSuccess=function(e){e&&d.clientId==e.clientId&&c()},p.on("fileUploadSuccess",d.onFileUploadSuccess),d.onFileUploadError=function(e){e&&e.clientId&&e.clientId==d.clientId&&(e.reason&&"STOP_REJECT"==e.reason||e.isFromIM?i.remove():c())},p.on("fileUploadError",d.onFileUploadError),d.onFileDownloadError=function(e){e&&e.clientId&&e.clientId==d.clientId&&c()},p.on("fileDownloadError",d.onFileDownloadError),d.onFileDownloadSuccess=function(e){e&&d.clientId==e.clientId&&c()},p.on("fileDownloadSuccess",d.onFileDownloadSuccess),d.onFileUploadStopAll=function(e){e&&e.contains(d.clientId)&&i.remove()},p.on("afterstopallitems",d.onFileUploadStopAll)),d.cancelAction=function(e){if(e.stopPropagation(),d.info.status.isDownload)s.cancelDownload({key:d.clientId});else{p.stopWork(d.clientId);var i=a();i[d.clientId]&&(delete i[d.clientId],r(i))}},d.reStartUpload=function(e){p.reStartWork(d.clientId),e.stopPropagation()}}d.openFile=function(e){t.open({url:d.info.url||d.info.clientId,errorText:"此文件已被删除"}).then(function(){},function(){d.info.status.hideFolder=!0,c()}),e.stopPropagation()},i.on("$destroy",function(){d.info.status.ignoreStorage||(p.off("fileProgress",d.onFileProgress),p.off("fileDownloadProgress",d.onFileProgress),p.off("fileUploadSuccess",d.onFileUploadSuccess),p.off("fileUploadError",d.onFileUploadError),p.off("fileDownloadSuccess",d.onFileDownloadSuccess),p.off("fileDownloadError",d.onFileDownloadError),p.off("afterstopallitems",d.onFileUploadStopAll),d.onFileProgress=d.onFileUploadSuccess=d.onFileUploadError=d.onFileDownloadError=d.onFileDownloadSuccess=d.onFileUploadStopAll=null,p=null),d.info=d.openFile=null})},controllerAs:"spaceFileItem",template:'<div class="upload-file-item">\n    <b class="file-upload-ico-wrap {{spaceFileItem.info.iconClass}}"></b>\n    <div style="position:relative;" ng-if="spaceFileItem.info.status.isDownload">\n        <div class="upload-file-item-text-top  upload-file-item-download ellipsis">{{spaceFileItem.info.name}}</div>\n        <div class="progress download-item-progress" ng-show="spaceFileItem.info.status.isCompress&&!spaceFileItem.info.status.done">\n            <div class="progress-thumb" style="width: 100%;"></div>\n        </div>\n        <div ng-show="!spaceFileItem.info.status.error&& spaceFileItem.info.status.progress" progress-bar progress="spaceFileItem.info.status.progress" is-hide-after-finish="true"></div>\n        <div ng-show="!spaceFileItem.info.status.error&&!spaceFileItem.info.status.done&&!spaceFileItem.info.status.begin" class="upload-file-item-text-bottom upload-file-status">等待下载...</div>\n        <div ng-show="!spaceFileItem.info.status.error&&!spaceFileItem.info.status.done&&spaceFileItem.info.status.begin" class="upload-file-item-text-bottom upload-file-status">正在下载</div>\n        <div ng-show="!spaceFileItem.info.status.error&&spaceFileItem.info.status.done" class="upload-file-item-text-bottom upload-file-status">下载完成</div>\n        <div ng-show="!spaceFileItem.info.status.isCompress&&spaceFileItem.info.status.begin&&!spaceFileItem.info.status.done" class="upload-file-item-text-bottom upload-file-size">{{spaceFileItem.info.status.finishSize}}/{{spaceFileItem.info.status.size}}</div>\n        <div ng-show="!spaceFileItem.info.status.isCompress&&spaceFileItem.info.status.begin&&spaceFileItem.info.status.done&&!spaceFileItem.info.status.error" class="upload-file-item-text-bottom upload-file-size">{{spaceFileItem.info.status.size}}</div>\n        <div ng-show="!spaceFileItem.info.status.isDownloadCancel&&spaceFileItem.info.status.error" class="upload-file-item-text-bottom upload-file-error"><i class="iconfont ico-upload-resend">&#xe63c;</i>{{spaceFileItem.info.status.errorMsg}}</div>\n        <div ng-show="spaceFileItem.info.status.isDownloadCancel&&spaceFileItem.info.status.error" class="upload-file-item-text-bottom upload-file-cancel">{{spaceFileItem.info.status.errorMsg}}</div>\n    </div>\n\n    <div style="position:relative;" ng-if="!spaceFileItem.info.status.isDownload">\n        <div class="upload-file-item-text-top ellipsis">{{spaceFileItem.info.name}}</div>\n        <div ng-show="!spaceFileItem.info.status.error&&!spaceFileItem.info.status.begin" class="upload-file-item-text-bottom upload-file-status">等待上传...</div>\n        <div ng-show="!spaceFileItem.info.status.error&&spaceFileItem.info.status.begin&&!spaceFileItem.info.status.done" class="upload-file-item-text-bottom upload-file-status">正在上传</div>\n        <div ng-show="!spaceFileItem.info.status.error&&spaceFileItem.info.status.done" class="upload-file-item-text-bottom upload-file-status">上传完成</div>\n        <div ng-show="!spaceFileItem.info.status.error&& spaceFileItem.info.status.progress" progress-bar progress="spaceFileItem.info.status.progress" is-hide-after-finish="true"></div>\n        <div ng-show="!spaceFileItem.info.status.error&&spaceFileItem.info.status.begin&&!spaceFileItem.info.status.done" class="upload-file-item-text-bottom upload-file-size">{{spaceFileItem.info.status.finishSize}}/{{spaceFileItem.info.status.size}}</div>\n        <div ng-show="!spaceFileItem.info.status.error&&spaceFileItem.info.status.begin&&spaceFileItem.info.status.done" class="upload-file-item-text-bottom upload-file-size">{{spaceFileItem.info.status.size}}</div>\n        <div ng-show="spaceFileItem.info.status.error" class="upload-file-item-text-bottom upload-file-error"><i class="iconfont ico-upload-resend">&#xe63c;</i>{{spaceFileItem.info.status.errorMsg}}</div>\n    </div>\n    <div class="upload-action-item-wrap">\n        <div class="upload-action-item iconfont ico-upload-cancel" htitle="{{spaceFileItem.cancelTipText}}"  htitle-offset="left" ng-show="!spaceFileItem.info.status.done" ng-click="spaceFileItem.cancelAction($event)">&#xe693;</div>\n        <div class="upload-action-item iconfont ico-upload-retry" htitle="重传" htitle-offset="left"  ng-show="!spaceFileItem.info.status.isDownload && spaceFileItem.info.status.error&& !spaceFileItem.info.status.spaceFull"  ng-click="spaceFileItem.reStartUpload($event)">&#xe695;</div>\n        <div class="upload-action-item iconfont ico-upload-folder" htitle="打开" htitle-offset="left"  ng-show="!spaceFileItem.info.status.error && spaceFileItem.info.status.done && spaceFileItem.isDesktop && !spaceFileItem.info.status.hideFolder" ng-click="spaceFileItem.openFile($event)">&#xe692;</div>\n    </div>\n\n</div>\n'}}]),module.exports=moduleName;

},{"../../service/app/download/DLManager":247,"../../service/app/download/openFile":253,"../../service/spacePlugin/upload":603,"../../service/storage/storage":606,"../../service/ua":621,"../../service/user/my":635,"path":7}],111:[function(require,module,exports){
"use strict";var moduleName="ddWeb.group.fileList",path=require("path"),cspacePlugin=require("@ali/space-plugin");angular.module(moduleName,[require("../../service/spacePlugin/config")]).directive("groupFileList",["spacePluginConfig",function(e){return{restrict:"AE",replace:!0,scope:{cid:"=cid",orgId:"=orgId",spaceId:"=spaceId",docReadonly:"=docReadonly",watermark:"=watermark",containerName:"=containerName"},link:function(a,i,r){e.config();window.location.origin;cspacePlugin.renderCommonFileList({orgId:a.orgId,spaceId:a.spaceId,docReadonly:a.docReadonly,watermark:a.watermark,container:i[0],iframeParam:{name:a.containerName,nwdisable:!0}})},template:'<div class="file-list-container"></div>\n'}}]),module.exports=moduleName;

},{"../../service/spacePlugin/config":602,"@ali/space-plugin":735,"path":7}],112:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.group.convList",ConvType=require("../../service/conversation/ConvType"),$my=require("../../service/user/my");angular.module(moduleName,[require("../../service/conversation/conversationWithSDK"),require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("../avatar/groupAvatar")]).directive("groupConvList",["conversationWithSDK","selectedItemFactory","selectedItemType",function(e,t,i){return{restrict:"AE",replace:!0,controller:["$scope",function(n){function o(e){if(e.isSingleChat)var n=e.convId.split(":"),o=parseInt(n[0])===$my.uid?parseInt(n[1]):parseInt(n[0]),s={model:{uid:o},text:e.baseConversation.title},c=t.genSelectedItem(i.USER,s);else var c=t.genSelectedItem(i.GROUP,e);return c}function s(){n.selectedList.EventEmitter.on("selectedItems",u),n.selectedList.EventEmitter.on("unselectedItems",g),n.$watch(function(){return r.convList},function(){r.convList&&r.convList.forEach(function(e){var t=o(e);n.selectedList.hasItem(t)||n.selectedList.isLocked(t)?e.isSelected=!0:e.isSelected=!1})})}function c(e){return!!(e.baseConversation.tag!==ConvType.JUMP&&e.baseConversation.tag!==ConvType.ANNOUNCEMENT&&e.baseConversation.tag!==ConvType.SECRETARY&&e.baseConversation.tag!==ConvType.CRM_GROUP&&e.baseConversation.tag!==ConvType.FILEHELPER||e.isFileHelper())}function l(){s(),d.forEach(function(e){a[e]&&a[e].forEach(function(e){v[e]&&c(v[e])&&r.convList.push(v[e])})});var e=20;r.convList2Show=r.convList.slice(0,e)}var r=this,a=e.getConvList(),v=e.getAllConv(),d=["pinOrder","order"];r.convList=[],r.convList2Show=[],r.loadMore=function(){if(r.convList2Show.length!=r.convList.length){var e=20,t=r.convList2Show.length+e;t>=r.convList.length&&(t=r.convList.length),r.convList2Show=r.convList2Show.concat(r.convList.slice(r.convList2Show.length,t)),n.$digest()}},r.ConvType=ConvType;var u=function(e){r.isAllSelected=!0,r.convList.forEach(function(t){var i=o(t);e.forEach(function(e){e.id===i.id&&(t.isSelected=!0)}),t.isSelected||(r.isAllSelected=!1)});try{n.$digest()}catch(e){}},g=function(e){r.isAllSelected=!0,r.convList.forEach(function(t){var i=o(t);e.forEach(function(e){e.id===i.id&&(t.isSelected=!1,r.isAllSelected=!1)})});try{n.$digest()}catch(e){}};l(),r.onItemClick=function(e){var t=o(e);n.selectedList.toggleItem(t)},n.$on("$destroy",function(){n.selectedList.EventEmitter.off("selectedItems",u),n.selectedList.EventEmitter.off("unselectedItems",g)})}],link:function(e,t,i,n){},controllerAs:"groupConvListCtrl",template:'<div class="group-conv-list">\n<loading ng-if="groupConvListCtrl.isLoading"></loading>\n<ul class="list-with-avatar-and-info group-member-lists" ng-if="groupConvListCtrl.groups.length!==0" infinite-scroll infinite-scroll-bottom="groupConvListCtrl.loadMore()">\n    <!--<li class="checkbox-item" >-->\n        <!--<select-all-box link-data-list="groupConvListCtrl.groups" selected-list="selectedList" is-all-selected="groupConvListCtrl.isAllSelected" ng-if="groupConvListCtrl.groups&&groupConvListCtrl.groups.length > 0 && groupConvListCtrl.isMultiple" selected-type="groupConvListCtrl.selectedType"></select-all-box>-->\n    <!--</li>-->\n    <li class="list-item group-item" ng-class="{\'checked\':item.isSelected,\'group-member-item\':!item.isSingleChat,\'member-item\':item.isSingleChat}" conversation-id="item.baseConversation.conversationId" ng-repeat="item in groupConvListCtrl.convList2Show" ng-click=\'groupConvListCtrl.onItemClick(item);\'>\n        <div class="avatar-wrap"><group-avatar cid="{{:: item.convId }}"></group-avatar></div>\n        <div class="group-item-content" ng-class="{\'one-person-conv\' : item.baseConversation.memberCount===1}">\n            <div class="title-info">\n                    <span class="conv-title" ng-bind-html="item.baseConversation.title|emoj"></span>\n                    <i class="icon-company" ng-if="item.baseConversation.tag===groupConvListCtrl.ConvType.COMPANY_GROUP" ng-class="{\'icon-safety-single\': item.isSafetySingle, \'icon-dept-company\': item.isDeptGroup ,\'icon-all-user-company\': item.isAllUserGroup, \'icon-safety\': item.isSafety}"></i>\n            </div>\n            <div class="info" ng-if="!item.isSingleChat">\n                <p class="title">{{item.baseConversation.memberCount}} 人</p>\n            </div>\n        </div>\n    </li>\n</ul>\n</div>\n'}}]),module.exports=moduleName;

},{"../../service/conversation/ConvType":294,"../../service/conversation/conversationWithSDK":308,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/user/my":635,"../avatar/groupAvatar":51,"path":7}],113:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.imgPreview",path=require("path"),ua=require("../../service/ua"),_=require("lodash"),uriResolve=require("../../service/uriResolve/resolve");require("../../service/chat/ImgOperator"),require("../../service/chat/ImgSwitcher"),require("../../service/mediaId/mediaId"),require("../../service/app/download/openFile");var localLog=require("../../service/log/localLog"),spaceFileHelper=require("../../service/file/spaceFileHelper"),safetyEncryptFileStatus=require("../../service/safety/safetyEncryptFileStatus"),app=angular.module(moduleName,["ddWeb.service.ImgOperator","ddWeb.service.ImgSwitcher","ddWeb.mediaId",require("../../service/app/download/fileFactory"),require("../../service/modal/spaceFileModal"),require("../../service/toast/toast"),require("../../service/log/log"),require("../../service/emotion/emotionPackageFactory"),require("../../service/safety/safetyHelper"),require("../../service/app/download/LocalCache"),require("../../service/file/fileHelper")]);app.directive("imgPreviewDirective",["ImgOperator","openFileService","ImgSwitcher","mediaId","fileFactory","spaceFileModal","toastService","$log","EmotionPackageFactory","safetyHelper","DLLocalCache","$fileHelper","$translate",function(e,i,t,a,o,n,l,c,r,s,f,d,m){return{restrict:"A",template:'<div>\n<div class="image-dimmer">\n  <div class="image-loader" ng-show="isImageLoading">\n  \t<div class="spinner">\n  \t  <div class="bounce1"></div>\n  \t  <div class="bounce2"></div>\n  \t  <div class="bounce3"></div>\n  \t</div>\n  </div>\n  <div class="img-wrap" ng-show="!decryptError">\n  </div>\n  <div class="img-decrypt-error" ng-show="decryptError">\n    <div class="img-decrypt-error-wrap">\n      <i class="iconfont decrypt-warn" >&#xe736;</i>\n      <p ng-if="!localState.encryptDetail.isLeave">{{::TEXT.pc_safety_fetch_key_fail}}</p>\n      <p ng-if="localState.encryptDetail.isLeave">{{::TEXT.pc_safety_file_leave_org_tips}}</p>\n    </div>\n  </div>\n</div>\n<div class="dimmer-btns">\n  <a class="dimmer-img-zoomin-btn"><i class="iconfont" title="放大">&#xe655;</i><span>放大</span></a>\n  <a class="dimmer-img-zoomout-btn"><i class="iconfont" title="缩小">&#xe654;</i><span>缩小</span></a>\n  <a class="dimmer-img-rotate-btn"><i class="iconfont icon-translate" title="旋转">&#xe650;</i><span>旋转</span></a>\n  <a nwdirectory class="dimmer-img-download-btn" nwsaveas="{{file.name}}" download="{{file.name}}"  href="{{file.url}}" ng-if="localState.isOriginalPic&&isShowDownloadBtn&&!file.isFinish&&!file.isActive&&!file.isError" ><i class="iconfont" title="下载原图">&#xe653;</i><span>下载原图</span></a>\n  <a  ng-if="file.isActive&&!file.isFinish" ><i class="iconfont" title="下载中">&#xe653;</i><span>下载中</span></a>\n  <a class="dimmer-img-open-btn" ng-if="isDesktop&&file.isFinish" ><i class="iconfont" title="打开图片">&#xe661;</i><span>打开图片</span></a>\n  <a class="try-decrypt-img-btn" ng-if="isDesktop&&isSafetyFile&&decryptError" ><i class="iconfont" title="重新解密">&#xe72d;</i><span>重新解密</span></a>\n\n  <a nwdirectory class="dimmer-img-redownload-btn" nwsaveas="{{file.name}}" download="{{file.name}}"  href="{{file.url}}" ng-show="file.isError" ><i class="iconfont" title="重新下载">&#xe653;</i><span>重新下载</span></a>\n  <a nwdirectory class="dimmer-img-download-btn" nwsaveas="{{file.name}}" download="{{file.name}}"  href="{{file.url}}" ng-if="!localState.isOriginalPic&&isShowDownloadBtn&&!file.isFinish&&!file.isActive&&!file.isError"><i class="iconfont" title="下载图片">&#xe653;</i><span>下载图片</span></a>\n  <a class="dimmer-img-collect-btn" ng-show="isShowSaveEmotion"><i class="iconfont" ng-class="{\'dimmer-img-collected\':collectedState ==1}" title="添加">&#xe618;</i><span ng-if="collectedState!=1">添加到表情</span>\n  <span ng-if="collectedState ==1" class="dimmer-img-collected">已添加</span></a>\n  <a  class="dimmer-save" ng-show="isShowSaveToCloud && !isSafetyFile"><i class="iconfont">&#xe67e;</i><span>转存到钉盘</span></a>\n\n</div>\n\n<i class="iconfont close dimmer-btns-close" title="关闭">&#xe632;</i>\n\n<div class="dimmer-img-prev-btn" ng-if="hasPrevImg()">\n    <a><i class="iconfont" title="前一张"  ng-click="goPrev($event);">&#xe659;</i></a>\n</div>\n<div class="dimmer-img-next-btn"  ng-if="hasNextImg()">\n    <a><i class="iconfont" title="后一张" ng-click="goNext($event);">&#xe65b;</i></a>\n</div>\n\n</div>\n',replace:!0,link:function(p,u,S){function g(){try{p.$digest()}catch(e){}}function v(){p.file.proxy&&(p.file.proxy.off(p.file.EVENTS.STRAT,g),p.file.proxy.off(p.file.EVENTS.PROGRESS,g),p.file.proxy.off(p.file.EVENTS.FINISH,g));try{var e=a.mid2Url(p.localState.mediaId,{imageSize:"origin"}),i=p.localState.fileName;p.file=o.getFileObj(e,i),p.file.proxy.on(p.file.EVENTS.STRAT,g),p.file.proxy.on(p.file.EVENTS.PROGRESS,g),p.file.proxy.on(p.file.EVENTS.FINISH,g)}catch(e){c.error(JSON.stringify(e))}}function y(e){e&&_.isString(e)&&"@"===e.charAt(0)&&p.isShowSaveEmotion===!0&&r.checkEmotionExist(p.localState.mediaId).then(function(e){e?(p.collectedState=q.COLLECTED,g()):(p.collectedState=q.UNCOLLECTED,g())})}function h(){var i=Promise.resolve(),f=p.localState.encryptDetail;if(f){var m=o.getFileObj(f.fileUri,p.localState.fileName),u=d.statsSync(f.savePath);u||(i=s.decryptFile(m,f.spaceId,f.fileId,{savePath:f.savePath}).then(function(){p.localState.onRead&&p.localState.onRead(),l.show(p.TEXT.pc_safety_download_safety_file_toast_success,{type:"success"})}).catch(function(e){return localLog.error("decrypt img error",e),p.decryptError=!0,Promise.resolve()}))}i.then(function(){function i(){p.isImageLoading=!0,g()}function s(){p.isImageLoading=!1,g()}function f(e){return!!e.relatedTarget&&("IMG"===e.target.tagName&&"HTML"===e.relatedTarget.tagName)}try{var d=a.mid2Url(p.localState.mediaId,{imageSize:"origin"}),m=p.localState.fileName;p.file=o.getFileObj(d,m),p.file.proxy.on(p.file.EVENTS.STRAT,g),p.file.proxy.on(p.file.EVENTS.PROGRESS,g),p.file.proxy.on(p.file.EVENTS.FINISH,g)}catch(e){c.error(JSON.stringify(e))}b.show(),C=e.create(P,s);var u={};p.localState.rotate&&(u.rotate=p.localState.rotate),C.init(d,m,u),L=t.create(C,i,s),O.on("click",function(e){if(p.collectedState===q.UNCOLLECTED&&(!p.localState.picSize||0==p.localState.picSize||r.isSizeValid(p.localState.picSize))){var i="",t=p.localState.mediaId;r.addCustomEmotion(i,t).then(function(){p.collectedState=q.COLLECTED,g()})}}),R.on("click",function(e){var i=Promise.resolve();try{var t=a.mid2Url(p.localState.mediaId,{imageSize:"origin"})}catch(e){c.error(JSON.stringify(e))}_.get(p,"conf.onSaveToCloud")&&_.isFunction(p.conf.onSaveToCloud)&&(i=p.conf.onSaveToCloud()),i.then(function(){var e={fileName:t.split("/").pop(),url:t,orgId:_.get(p,"conf.extension.orgId","")};n.showModal({dialogType:"2",file:e,onSelect:function(e){},onSuccess:function(){},onError:function(){}})},function(e){e&&l.show(e,{type:"error"})})}),F.on("click",function(e){C.rotate()}),N.on("click",function(e){C.zoomIn()}),x.on("click",function(e){C.zoomOut()}),P.on("mousedown",function(e){C.startDrag(e)}),I.on("mouseup",function(){C.endDrag()}),I.on("mouseout",function(e){f(e)&&C.endDrag()}),I.on("mousewheel",function(e){e.preventDefault(),C.rollToZoom(e)}),I.on("mousemove",function(e){e.preventDefault(),C.moveImgWrapDiv(e)}),P.on("click",function(e){p.closePreview()})})}function E(){w(),C&&C.dispose(),L&&L.dispose()}function w(){F.off("click"),x.off("click"),N.off("click"),T.off("click"),D.off("click"),k.off("click"),O.off("click"),R.off("click"),I.off(),u.off("mousedown",H),p.file&&p.file.proxy&&(p.file.proxy.off(p.file.EVENTS.STRAT,g),p.file.proxy.off(p.file.EVENTS.PROGRESS,g),p.file.proxy.off(p.file.EVENTS.FINISH,g))}var I=u,T=u.find(".dimmer-img-close-btn"),N=u.find(".dimmer-img-zoomin-btn"),x=u.find(".dimmer-img-zoomout-btn"),F=u.find(".dimmer-img-rotate-btn"),b=u.find(".image-dimmer .image-loader"),D=u.find(".dimmer-img-prev-btn"),k=u.find(".dimmer-img-next-btn"),P=u.find(".img-wrap"),C=null,L=null,O=u.find(".dimmer-img-collect-btn"),R=u.find(".dimmer-save");h(),p.isDesktop=ua.isDesktop,p.TEXT={pc_safety_fetch_key_fail:m.instant("pc_safety_fetch_key_fail"),pc_safety_file_leave_org_tips:m.instant("pc_safety_file_leave_org_tips"),pc_safety_download_safety_file_toast_success:m.instant("pc_safety_download_safety_file_toast_success")},p.isShowSaveEmotion=!p.conf.hideSaveEmotion,p.isShowDownloadBtn=!p.conf.hideDownloadBtn,p.isShowSaveToCloud=!p.conf.hideSaveToCloud,p.getPrevStateFunc=p.getPrevStateFunc||function(){},p.getNextStateFunc=p.getNextStateFunc||function(){},u.one("$destroy",function(){E()});var q={CHECKING:0,COLLECTED:1,UNCOLLECTED:2};p.collectedState=q.CHECKING;var z=!1;p.localState.mediaId&&_.isString(p.localState.mediaId)&&"@"===p.localState.mediaId.charAt(0)&&(z=!0),p.isSafetyFile=!!p.localState.encryptDetail,p.isShowSaveEmotion=p.isShowSaveEmotion&&z,y(p.localState.mediaId),p.closePreview=function(){p.modalInstance.close("ok")},p.goPrev=function(e){p.localState=p.getPrevStateFunc(p.localState),L.goPrev(p.localState),y(p.localState.mediaId),v(),e.stopPropagation()},p.goNext=function(e){p.localState=p.getNextStateFunc(p.localState),L.goNext(p.localState),y(p.localState.mediaId),v(),e.stopPropagation()},p.isImageLoading=!0,p.hasPrevImg=function(){return!!this.getPrevStateFunc(p.localState)},p.hasNextImg=function(){return!!this.getNextStateFunc(p.localState)};var H=function(e){2===e.which&&e.preventDefault()};u.on("mousedown",H),u.delegate("a[download]","click",function(e){if(ua.isDesktop){event.preventDefault();var i=p.localState.encryptDetail;if(i){var t=o.getFileObj(i.fileUri,p.localState.fileName);s.decryptFile(t,i.spaceId,i.fileId).then(function(e){var i=e.result;p.localState.onRead&&p.localState.onRead(),f.setCache(p.localState.mediaId,p.localState.fileName,i.targetPath),p.file.onFinish(),l.show(p.TEXT.pc_safety_download_safety_file_toast_success,{type:"success"})})}else p.file.download()}}),u.on("click",".dimmer-img-open-btn",function(e){e.preventDefault(),i.open({url:p.file.url}).then(function(){},function(){p.file.reset()})}),u.on("click",".try-decrypt-img-btn",function(e){e.preventDefault();var i=p.localState.encryptDetail,t=o.getFileObj(i.fileUri,p.localState.fileName);s.decryptFile(t,i.spaceId,i.fileId,{savePath:i.savePath}).then(function(e){p.localState.onRead&&p.localState.onRead(),L.refresh(p.localState),p.decryptError=!1,l.show(p.TEXT.pc_safety_download_safety_file_toast_success,{type:"success"}),g()})})}}}]),module.exports=moduleName;

},{"../../service/app/download/LocalCache":249,"../../service/app/download/fileFactory":252,"../../service/app/download/openFile":253,"../../service/chat/ImgOperator":270,"../../service/chat/ImgSwitcher":271,"../../service/emotion/emotionPackageFactory":366,"../../service/file/fileHelper":379,"../../service/file/spaceFileHelper":385,"../../service/log/localLog":421,"../../service/log/log":422,"../../service/mediaId/mediaId":433,"../../service/modal/spaceFileModal":474,"../../service/safety/safetyEncryptFileStatus":555,"../../service/safety/safetyHelper":557,"../../service/toast/toast":611,"../../service/ua":621,"../../service/uriResolve/resolve":628,"lodash":919,"path":7}],114:[function(require,module,exports){
"use strict";var moduleName="ddWeb.infiniteScroll";angular.module(moduleName,[]).directive("infiniteScroll",["$window",function(i){return{scope:{infiniteScrollTop:"&infiniteScrollTop",infiniteScrollThreshold:"=infiniteScrollThreshold",infiniteDisabled:"=infiniteDisabled",infiniteScrollBottom:"&infiniteScrollBottom"},link:function(i,n,o){var e=parseInt(i.infiniteScrollThreshold)||0,t=n[0],l=!1,r=!1;n.bind("scroll",function(){var n=t.scrollTop+t.offsetHeight>=t.scrollHeight-e,o=t.scrollTop<=e;if(n&&l===!1){var c=i.infiniteScrollBottom();c&&c.then&&(l=!0,c.then(function(){setTimeout(function(){l=!1},500)}))}if(o&&r===!1){var c=i.infiniteScrollTop();c&&c.then&&(r=!0,c.then(function(){setTimeout(function(){r=!1},500)}))}})}}}]),module.exports=moduleName;

},{}],115:[function(require,module,exports){
require("../service/log/lwlog.js"),angular.module("ddWeb.log",["ddWeb.log.lwlog"]).directive("log",["lwlog",function(l){return{link:function(o,e,g){var i=g.log,n=g.logKey;e.bind("click",function(o){l.commLog(i,n)})}}}]);

},{"../service/log/lwlog.js":424}],116:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.imgErrorLog",statLog=require("../../service/log/statLog"),fileTypes=require("@ali/ding-filetypes");angular.module(moduleName,[]).directive("imgErrorLog",[function(){return{restrict:"A",link:function(e,r){var o=function(e){var r=e.srcElement.src,o=r.split("/").pop(),t=fileTypes.getIdByType(fileTypes.getTypeByName(o));statLog.writeFileDownloadLog(t,0,0,!0)};r[0].addEventListener("error",o),r.one("$destroy",function(){r[0].removeEventListener("error",o)})}}}]),module.exports=moduleName;
},{"../../service/log/statLog":425,"@ali/ding-filetypes":714}],117:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.login.newUserInfo",SEND_SMS_INTERVAL=60,localLog=require("../../service/log/localLog"),lastSendSmsTime=0,my=require("../../service/user/my");angular.module(moduleName,[require("../../service/modal/modal"),require("../../service/widget/countryService"),require("../../service/api/Login"),require("../../service/user/newUserSettingModal"),require("../../service/log/lwlog")]).directive("newUserInfo",["userRegister",function(e){return{restrict:"AE",replace:!0,controller:["$translate",function(r){this.showInfo=function(){e()},this.text={pc_login_userregister_register:r.instant("pc_login_userregister_register")}}],controllerAs:"newUserInfo",template:'<a class="new-user-info" href="#" ng-click="newUserInfo.showInfo()"><span>{{::newUserInfo.text.pc_login_userregister_register}}</span></a>\n'}}]).factory("userRegister",["$modal",function(e){return function(){var r=e.open({template:'<div class="user-register-dialog">\n    <div class="content">\n        <div class="head">\n            <i class="iconfont close" ng-click="userRegisterCtrl.close()"></i>\n            <span class="title">{{::userRegisterCtrl.text.pc_login_userregister_register}}</span>\n        </div>\n        <div class="body login-form">\n            <form name="userRegisterCtrlForm" ng-submit="userRegisterCtrl.submit()" class="ver-login">\n                <div class="avatar-halo" ng-show="userRegisterCtrl.connecting"></div>\n                <div class="avatar biger border-thick">\n                    <img src="https://gtms03.alicdn.com/tps/i3/TB1opXxHXXXXXahXpXXvBLt6FXX-230-230.png" class="country-img" alt="" />\n                </div>\n                <div class="clearfix">\n                    <phone-input phone="userRegisterCtrl.telephone" country-key="userRegisterCtrl.countryKey" focus-on="userRegisterCtrl.focusTelephone" on-change="userRegisterCtrl.onPhoneChange(data)">\n                    </phone-input>\n                    <div class="send-form-button-wrapper">\n                        <countdown count-from="userRegisterCtrl.countFrom" on-timeout="userRegisterCtrl.countTimeout()" ng-show="userRegisterCtrl.countFrom > 0"></countdown>\n                        <button type="button" ng-class="{disabled:(userRegisterCtrl.codedisable || !userRegisterCtrl.phoneValid)}"  ng-click="userRegisterCtrl.phoneValid && userRegisterCtrl.sendCode()" class="send-form-button" >{{::userRegisterCtrl.text.pc_login_code_send}}</button>\n                    </div>\n                </div>\n                <div class="clearfix">\n                    <input form-number length="4" ng-change="userRegisterCtrl.submitDisable=false" ng-model="userRegisterCtrl.code"  focus="userRegisterCtrl.focusTelephone" type="text" name="verification" placeholder="{{::userRegisterCtrl.text.pc_login_code_placeholder}}" class="fm-input ver-code" required>\n                </div>\n                <button type="submit" ng-class="{disabled:userRegisterCtrlForm.$invalid || userRegisterCtrl.submitDisable}"  class="blue big">{{::userRegisterCtrl.text.pc_login_scancode_registered}}</button>\n                <div class="toast warning" ng-click="userRegisterCtrl.loginError.msg=\'\'"ng-if="userRegisterCtrl.loginError.msg"><i class="iconfont">&#xe63d;</i>{{userRegisterCtrl.loginError.msg}}</div>\n            </form>\n        </div>\n    </div>\n</div>\n',controller:"userRegisterCtrl",controllerAs:"userRegisterCtrl",resolve:{},closable:!1,backdrop:!1});return r.result}}]).controller("userRegisterCtrl",["$modalInstance","countryService","$scope","Login","newUserSettingModal","$state","lwlog","$translate",function(e,r,t,n,s,o,i,l){function c(e){a.loginError={msg:e}}var a=this;a.text={pc_login_userregister_register:l.instant("pc_login_userregister_register"),pc_login_code_send:l.instant("pc_login_code_send"),pc_login_code_placeholder:l.instant("pc_login_code_placeholder"),pc_login_scancode_registered:l.instant("pc_login_scancode_registered")},a.focusTelephone=!0,a.telephone="",a.countryKey="CN",a.codedisable=!1,a.codeToken=null,a.countFrom=0,a.submitDisable=!1,(new Date).getTime()-lastSendSmsTime<1e3*SEND_SMS_INTERVAL&&(a.countFrom=SEND_SMS_INTERVAL-Math.floor(((new Date).getTime()-lastSendSmsTime)/1e3),a.codedisable=!0),a.onPhoneChange=function(e){c(""),a.phoneValid=e.isValid},a.countTimeout=function(){a.codedisable=!1,a.countFrom=0},a.sendCode=function(){if(!a.codedisable){var e=r.getCodeByName(a.countryKey),s=e+"-"+a.telephone;a.codedisable=!0,n.sendSmsCode(s).then(function(e){a.focusCode=!0,a.countFrom=SEND_SMS_INTERVAL,lastSendSmsTime=(new Date).getTime(),a.codeToken=e,c(""),localLog.info("send sms code success"),t.$digest()},function(e){c(e&&e.body&&e.body.reason?e.body.reason:"网络异常，请稍后再试"),a.codedisable=!1,localLog.error(JSON.stringify(e)),t.$digest()})}},a.submit=function(){if(!a.submitDisable){a.connecting=!0,a.submitDisable=!0;var l=r.getCodeByName(a.countryKey),u=l+"-"+a.telephone;n.loginWithSMSCode(u,a.code,a.codeToken,!1).then(function(){a.connecting=!1,c(""),(new Date).getTime()-my.userProfileModel.activeTime<3e5?(s().then(function(){o.go("authorized")}).catch(function(){o.go("authorized")}),i.commLog("pc_newuser_register_success","")):o.go("authorized"),e.close()},function(e){c(e&&e.body&&e.body.reason?e.body.reason:"网络异常，请稍后再试"),a.connecting=!1,a.submitDisable=!1,localLog.error(JSON.stringify(e)),t.$digest()})}},this.close=function(){e.dismiss()}}]),module.exports=moduleName;

},{"../../service/api/Login":239,"../../service/log/localLog":421,"../../service/log/lwlog":424,"../../service/modal/modal":458,"../../service/user/my":635,"../../service/user/newUserSettingModal":636,"../../service/widget/countryService":660,"path":7}],118:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.mainMenu.functionMenu";require("../../service/modal/switchOrgModal"),require("../../service/modal/sendDingModal");var $my=require("../../service/user/my"),env=require("../../service/env/env"),globalUrl=require("../../service/globalUrl"),ua=require("../../service/ua"),confUserType=require("../../service/videoConf/conferenceUserType"),nw=require("../../service/app/nw");angular.module(moduleName,["ddWeb.service.switchOrgModal",require("../../service/modal/createGroup"),"ddWeb.modal.sendDingModal",require("../../service/modal/addFriend"),require("../../service/frameContainer/slidePanel"),require("../../service/modal/addFriendByUid"),require("../../service/modal/detector"),require("../../service/log/lwlog"),require("../../service/db/dbDebugModal"),require("../../service/modal/createConference"),require("../../service/videoConf/confManager"),require("../../service/toast/toast"),require("../../service/user/newUserSettingModal"),require("../../service/modal/confirm"),require("../../service/env/change-env"),require("../widget/hoverTip")]).directive("functionMenu",["switchOrgModalService","createGroupModalService","sendDingModalService","$addFriend","$state","openSlidePanelContainer","$addFriendByUid","detectorModalService","lwlog","$dbDebugTools","createConference","toastService","confManager","newUserSettingModal","$confirm","$translate","changeEnv",function(e,n,i,t,o,r,c,a,d,s,l,u,m,g,v,f,p){return{restrict:"AE",replace:!0,scope:{},template:'<div>\n    <div class="extra-item-box" ng-click="menu.openFunctionMenu()">\n        <i class="iconfont" htitle="{{::menu.text.dt_option_create_title}}" htitle-direction="right">&#xe6f3;</i>\n    </div>\n    <div class="tip-menu" ng-show="menu.isOpen">\n        <div class="tri">\n            <div class="tri-border tb-border"></div>\n            <div class="tri-border tb-back"></div>\n        </div>\n        <ul class="menus">\n            <li class="menu-item" ng-click="menu.createOrgGroup()">{{::menu.text.dt_option_create_orgchat}}</li>\n            <li class="menu-item" ng-click="menu.showCreateGrouopModal()">{{::menu.text.dt_option_create_chat}}</li>\n            <li class="menu-item" ng-click="menu.showSendDingModal()">{{::menu.text.dt_option_create_ding}}</li>\n            <li class="menu-item" ng-click="menu.addFriend()">{{::menu.text.dt_option_create_addfriend}}</li>\n            <!-- <li class="menu-item" ng-if="menu.canVideoConference" ng-click="menu.createConf()">{{::menu.text.dt_option_create_videoconf}}</li> -->\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.showApiTest()">API Test</li>\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.testSlidePanel($event)">SlidePanel Test</li>\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.addFriendByUid($event)">addFriendByUid</li>\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.showDetector($event)">detectorModalService</li>\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.resetLocalData($event)">重置本地数据</li>\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.dbDebugTools($event)">db debug tool</li>\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.changeEnv($event)">切换日常/线上环境</li>\n        </ul>\n    </div>\n</div>\n',link:function(e,n,i){var t=e.menu;t.isOpen=!1,$(document).on("click.functionMenu",function(i){var o=n.find(i.target).length>0;!o&&t.isOpen&&(t.isOpen=!1,e.$digest())}),n.find(".menu-item").on("click",function(){t.isOpen=!1,e.$digest()}),n.on("$destroy",function(){n.find(".menu-item").off("click"),$(document).off("click.functionMenu")}),e.isShowFont=!0},controller:["$scope",function(_){function h(){ua.isDesktop&&m.checkCanUseConference().then(function(e){w.canVideoConference="1"===e.configMap[confUserType.EnableVideo],_.$digest()})}var w=this;w.text={dt_option_create_title:f.instant("dt_option_create_title"),dt_option_create_orgchat:f.instant("dt_option_create_orgchat"),dt_option_create_chat:f.instant("dt_option_create_chat"),dt_option_create_ding:f.instant("dt_option_create_ding"),dt_option_create_addfriend:f.instant("dt_option_create_addfriend"),dt_option_create_videoconf:f.instant("dt_option_create_videoconf")},this.canVideoConference=!1,h(),this.openFunctionMenu=function(){this.isOpen=!this.isOpen};var M=function(e){ua.isDesktop?nw.openExternal(e):window.open(e)};this.createOrgGroup=function(){$my.orgEmployees&&$my.orgEmployees.length>0?e.showModal($my).then(function(e){w.showCreateGrouopModal(e)}):v({title:"你还没有企业",content:"只有企业用户才能创建企业群",confirmText:"企业注册"}).then(function(){M(globalUrl.ORG_REGISTER),d.commLog("pc_create_groupchat_loginoa_click","")},function(){})},this.showCreateGrouopModal=function(e){n.showModal(e).catch(function(e){u.show(e.reason,{type:"error"})})},this.showSendDingModal=function(){i.showModal(),d.commLog("mainpage_ding_click","")},this.addFriend=function(){t()},this.createConf=function(){d.commLog("videocall_enter_click",""),l.showModal().catch(function(e){e instanceof Error&&u.show(e.message,{type:"error"}),d.commLog("videocall_cancel_click","")})},this.isProductEnv=env.isProductEnv,this.showApiTest=function(){o.go("authorized.apiTest")},this.testSlidePanel=function(e){e.stopPropagation();var n=window.prompt("url");r({url:n})},this.addFriendByUid=c,this.showDetector=a,this.resetLocalData=function(){window.localStorage.removeItem("syncInfo_"+$my.getId()),window.location.reload()},this.dbDebugTools=s,this.newUserSetting=function(){g()},this.changeEnv=function(e){e.preventDefault(),p()}}],controllerAs:"menu"}}]),module.exports=moduleName;

},{"../../service/app/nw":255,"../../service/db/dbDebugModal":329,"../../service/env/change-env":373,"../../service/env/env":374,"../../service/frameContainer/slidePanel":388,"../../service/globalUrl":398,"../../service/log/lwlog":424,"../../service/modal/addFriend":443,"../../service/modal/addFriendByUid":444,"../../service/modal/confirm":447,"../../service/modal/createConference":449,"../../service/modal/createGroup":450,"../../service/modal/detector":451,"../../service/modal/sendDingModal":472,"../../service/modal/switchOrgModal":475,"../../service/toast/toast":611,"../../service/ua":621,"../../service/user/my":635,"../../service/user/newUserSettingModal":636,"../../service/videoConf/confManager":645,"../../service/videoConf/conferenceUserType":647,"../widget/hoverTip":161,"path":7}],119:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.mainMenu.settingMenu",ua=require("../../service/ua"),localLog=require("../../service/log/localLog"),_=require("lodash");require("../../service/modal/settingModal"),require("../../service/modifyPassword/pwdModify"),require("../../service/api/Login");var nw=require("../../service/app/nw"),cloudSetting=require("@ali/wksdk").cloudSetting,CSMap=require("../../service/CSConfig/CSMap"),my=require("../../service/user/my"),env=require("../../service/env/env"),globalURL=require("../../service/globalUrl"),ddStorage=require("../../service/storage/ddStorage");angular.module(moduleName,["ddWeb.modal.settingModal","ddWeb.service.pwdModify",require("../../service/modal/confirm"),"ddWeb.api.Login",require("../../service/toast/toast"),require("../../service/videoConf/confManager"),require("@ali/ding-api").interface.LoginI,require("../../service/user/profileSettingModal"),require("../../service/log/lwlog"),require("../../service/frameContainer/commModal"),require("../widget/hoverTip.js")]).directive("settingMenu",["settingModal","$rootScope","pwdModify","$confirm","Login","confManager","LoginI","toastService","profileSettingModal","lwlog","openCommModal","$translate",function(e,i,t,o,n,r,s,d,l,a,u,c){return{restrict:"AE",replace:!0,scope:{},template:'<div>\n    <div class="extra-item-box" ng-click="menu.openSettingMenu()">\n        <i class="iconfont" htitle="{{::menu.text.dt_option_more_title}}" htitle-direction="right">&#xe6aa;</i>\n        <i ng-if="menu.isShowOASSONew" class="iconfont unread-dot">&#xe608;</i>\n    </div>\n    <div class="tip-menu" ng-show="menu.isOpen">\n        <div class="tri">\n            <div class="tri-border tb-border"></div>\n            <div class="tri-border tb-back"></div>\n        </div>\n        <ul class="menus">\n            <li class="menu-item" ng-click="menu.showProfileSettingModal()">{{::menu.text.dt_option_more_mysetting}}</li>\n            <li class="menu-item" ng-click="menu.showSysSettingModal()">{{::menu.text.dt_option_more_systemsetting}}</li>\n            <li class="menu-item" ng-click="menu.openRobotModal()"  ng-if="menu.isShowRobotSwitch">{{::menu.text.dt_option_more_manage_robot}}</li>\n            <li class="menu-item" ng-click="menu.showPwdModifyModal()">{{::menu.text.dt_option_more_modifypassword}}</li>\n            <li class="menu-item" ng-click="menu.goDownload()">{{::menu.text.dt_option_more_downloadapp}}</li>\n            <li class="menu-item" ng-if="menu.isNoOrgUser" ng-click="menu.goToOrgRegister()">{{::menu.text.dt_option_more_orgregister}}<i ng-if="menu.isShowOASSONew" class="iconfont unread-dot">&#xe608;</i></li>\n            <li class="menu-item" ng-click="menu.openDingXiaoMi()">{{::menu.text.dt_option_more_help}}</li>\n            <li class="menu-item" ng-click="menu.logout()">{{::menu.text.dt_option_more_logout}}</li>\n        </ul>\n    </div>\n</div>\n',link:function(e,i,t){var o=e.menu;o.isOpen=!1,$(document).on("click.settingMenu",function(t){var n=i.find(t.target).length>0;!n&&o.isOpen&&(o.isOpen=!1,e.$digest())}),i.find(".menu-item").on("click",function(){o.isOpen=!1,e.$digest()}),i.on("$destroy",function(){i.find(".menu-item").off("click"),$(document).off("click.settingMenu")}),e.isShowFont=!0,e.$on("$destroy",function(){$(document).off("click.settingMenu")})},controller:["$scope",function(s){var d=this;d.text={dt_option_more_title:c.instant("dt_option_more_title"),dt_option_more_mysetting:c.instant("dt_option_more_mysetting"),dt_option_more_systemsetting:c.instant("dt_option_more_systemsetting"),dt_option_more_modifypassword:c.instant("dt_option_more_modifypassword"),dt_option_more_downloadapp:c.instant("dt_option_more_downloadapp"),dt_option_more_orgregister:c.instant("dt_option_more_orgregister"),dt_option_more_help:c.instant("dt_option_more_help"),dt_option_more_logout:c.instant("dt_option_more_logout"),dt_option_more_manage_robot:c.instant("dt_option_more_manage_robot")},this.downloadDestUrl=globalURL.DOWNLOAD_URL,this.isAdmin=!1,this.isNoOrgUser=!1,Array.isArray(my.orgEmployees)?(this.isAdmin=my.orgEmployees.some(function(e){return e.isAdmin}),this.isAdmin||(this.isShowOASSONew=!1)):this.isNoOrgUser=!0,this.isNoOrgUser&&"1"!==ddStorage.getItemWithUid(ddStorage.STORAGE_KEY.HAS_USE_OA_SSO)&&(this.isShowOASSONew=!0),this.openSettingMenu=function(){this.isOpen=!this.isOpen},this.showPwdModifyModal=function(){t().then(function(e){e&&n.logout()})},this.showProfileSettingModal=function(){l()},this.showSysSettingModal=function(){e()},this.goDownload=function(){p(d.downloadDestUrl)};var m=cloudSetting.getConfig(CSMap.ROBOT.module,CSMap.ROBOT.key);this.isShowRobotSwitch=!1,_.isObject(m)&&(this.isShowRobotSwitch="1"==m.settingValue);var g=function(e){_.isObject(e)&&(this.isShowRobotSwitch="1"==e.settingValue,s.$digest())}.bind(this);cloudSetting.addListener(CSMap.ROBOT.module,CSMap.ROBOT.key,g),this.openRobotModal=function(){u({size:"default",url:globalURL.ROBOT_SETTING_URL,title:"机器人管理"})},this.logout=function(){var e=!!r.getCurrentConference();o({title:"退出登录",content:e?"您正在视频会议中，确定退出登录么？":"您确定退出登录么？",isWarning:!0}).then(function(){n.logout()})};var p=function(e){ua.isDesktop?nw.openExternal(e):window.open(e)},S=function(){ddStorage.setItemWithUid(ddStorage.STORAGE_KEY.HAS_USE_OA_SSO,"1")};this.goToOrgRegister=function(){p(globalURL.ORG_REGISTER),this.isShowOASSONew=!1,S(),a.commLog("pc_org_create_click","")},this.openDingXiaoMi=function(){i.$broadcast("leftpannel.openChatByUid",{uid:"237050"})},s.$on("$destroy",function(){cloudSetting.removeListener(CSMap.ROBOT.module,CSMap.ROBOT.key,g)})}],controllerAs:"menu"}}]),module.exports=moduleName;

},{"../../service/CSConfig/CSMap":236,"../../service/api/Login":239,"../../service/app/nw":255,"../../service/env/env":374,"../../service/frameContainer/commModal":387,"../../service/globalUrl":398,"../../service/log/localLog":421,"../../service/log/lwlog":424,"../../service/modal/confirm":447,"../../service/modal/settingModal":473,"../../service/modifyPassword/pwdModify":485,"../../service/storage/ddStorage":605,"../../service/toast/toast":611,"../../service/ua":621,"../../service/user/my":635,"../../service/user/profileSettingModal":638,"../../service/videoConf/confManager":645,"../widget/hoverTip.js":161,"@ali/ding-api":711,"@ali/wksdk":779,"lodash":919,"path":7}],120:[function(require,module,exports){
"use strict";var moduleName="ddWeb.microApp.container",path=require("path"),ua=require("../../service/ua"),semver=require("semver"),_=require("lodash"),Uri=require("jsuri"),limitConfig=require("../../service/limitConfig"),localLog=require("../../service/log/localLog"),openAPIErrorCode=require("../../service/openAPI/openAPIErrorCode"),notConfigAPIList=require("../../service/openAPI/notConfigAPIList.js"),nw=require("../../service/app/nw"),frameTalkHost=require("@ali/frame-talk/host"),trustTopDomain=".dingtalk.com";angular.module(moduleName,[require("../widget/progressBar"),require("../../service/openAPI/biz/oauth/authorize"),require("../../service/openAPI/internal/request/lwp"),require("../../service/openAPI/initHelper"),require("../../service/openAPI/config")]).directive("microAppContainer",["openAPIBizOauthAuthorize","openAPIInternalRequestLwp","openAPIConfig","openAPIInitHelper",function(e,r,t,n){var i="_private.event",o="biz.navigation.setTitle",a="biz.navigation.quit",s="biz.navigation.setLeft";return{restrict:"AE",replace:!0,scope:{appUrl:"=appUrl",partition:"=partition",setTitle:"&onSetTitle",setLeft:"&onSetLeft",quit:"&onQuit",eventEmitter:"=eventEmitter"},template:'<div class="micro-app-container">\n    <div class="frame-container"></div>\n    <progress-bar progress="progress" class="app-load-progress" is-hide-after-finish="true"></progress-bar>\n</div>\n',link:function(l,p,c){var d=p.find(".frame-container")[0];l.progress=0;var u,v,m,f=null,g=!1,A="load",I=function(e,r){v&&v.emitEvent(e,r)};l.eventEmitter&&l.eventEmitter.on("containerEvent",I);var E=function(e){v&&v.sendInitMsg(u),l.progress=100;try{l.$digest()}catch(e){}clearInterval(f)},w=function(o){if(o.isTopLevel){l.progress=0,clearInterval(f),f=setInterval(function(){l.progress<=90?(l.progress+=10,l.$digest()):clearInterval(f)},100),v&&(v.clearRegisted(),v.register(i,function(e){$(d).trigger(e.params.event)}),m&&v.register(r.methodName,r.handler),n.initOpenAPI(v,notConfigAPIList),h(v),v.register(e.methodName,e.handler),t.init(v,function(e,r){var t=e.jsApiList;t=t.filter(function(e){return notConfigAPIList.indexOf(e)===-1}),n.initOpenAPI(r,t)}));try{l.$digest()}catch(e){}}},P=function(e){e.isTopLevel&&clearInterval(f)},L=function(e){var r=e.targetUrl;nw.openExternal(r),localLog.info("open extenernal url : "+r)},h=function(e){e.register(s,function(e){var r=l.setLeft({params:e.params});r instanceof Promise?r.then(function(r){e.respond(r)},function(r){e.respond(r,!0)}):e.respond({errorCode:openAPIErrorCode.ERR_OPERATION,errorMessage:"非法操作, 不能在除了slidePanel容器情况下调用"+s},!0)}),e.register(o,function(e){var r=l.setTitle({params:e.params});r instanceof Promise?r.then(function(r){e.respond(r)},function(r){e.respond(r,!0)}):e.respond({errorCode:openAPIErrorCode.ERR_OPERATION,errorMessage:"非法操作, 不能在除了slidePanel或modal容器情况下调用"+s},!0)}),e.register(a,function(e){var r=l.quit({params:e.params});r instanceof Promise?r.then(function(r){e.respond(r)},function(r){e.respond(r,!0)}):e.respond({errorCode:openAPIErrorCode.ERR_OPERATION,errorMessage:"非法操作, 不能在除了slidePanel或modal容器情况下调用"+s},!0)})},q=l.$watch(function(){return l.appUrl},function(e,r){localLog.info("microapp container load new url : "+e),u&&(u.removeEventListener(A,E),u.removeEventListener("laodstart",w),u.removeEventListener("loadabort",P),u.removeEventListener("newwindow",L)),v&&v.destroyContainer();var t=e;m=new Uri(t).host().slice(0-trustTopDomain.length)===trustTopDomain;var n="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-same-origin allow-scripts";ua.isDesktop||(n+=" allow-popups"),g?u=document.createElement("webview"):(u=document.createElement("iframe"),u.setAttribute("sandbox",n));var i=window.location.origin;v=new frameTalkHost(i,"*",window.version),u.setAttribute("name",v.getContainerName()),u.setAttribute("nwdisable","true"),u.style.width="100%",u.style.height="100%",u.addEventListener(A,E),g?(u.addEventListener("loadstart",w),u.addEventListener("loadabort",P),u.addEventListener("newwindow",L)):w({isTopLevel:!0}),u.setAttribute("src",t),d.innerHTML="",d.appendChild(u)});l.$on("$destroy",function(){q(),clearInterval(f),v&&v.destroyContainer(),l.eventEmitter&&l.eventEmitter.removeListener("containerEvent",I)})}}}]),module.exports=moduleName;

},{"../../service/app/nw":255,"../../service/limitConfig":414,"../../service/log/localLog":421,"../../service/openAPI/biz/oauth/authorize":501,"../../service/openAPI/config":519,"../../service/openAPI/initHelper":525,"../../service/openAPI/internal/request/lwp":526,"../../service/openAPI/notConfigAPIList.js":528,"../../service/openAPI/openAPIErrorCode":530,"../../service/ua":621,"../widget/progressBar":167,"@ali/frame-talk/host":724,"jsuri":901,"lodash":919,"path":7,"semver":930}],121:[function(require,module,exports){
"use strict";var path=require("path");require("../../service/modal/profileModal"),require("../../service/widget/selectorBar/selectorBarTool"),require("../../service/toast/toast");var ORG_NODE_TYPE=require("../../service/org/OrgNodeType");angular.module("ddWeb.org.orgItemDirective",["ddWeb.service.profileModal","ddWeb.service.selectorBarTool",require("../avatar/staticUserAvatar")]).directive("orgItem",["profileModalService","$rootScope","selectorBarTool","toastService",function(e,t,a,r){return{restrict:"AE",scope:{orgItemData:"=orgItemData",changeDept:"=changeDept",isCurrentDept:"=isCurrentDept",isSelectPanel:"=isSelectPanel",setItemSelected:"=setItemSelected"},controller:["$scope",function(t){function a(e){i.nodeType=e.detail.nodeType,i.isCurrentDept=!!t.isCurrentDept,i.detail=e.detail,i.nodeType===ORG_NODE_TYPE.PEOPLE&&(i.isCurrentMaster=e.isCurrentMaster)}var i=this;i.isCurrentDept=!1,a(t.orgItemData),i.isCurrentDept&&t.$watch(function(){return t.orgItemData},function(e){a(e)}),this.changeDept=function(e){e.stopPropagation(),e.preventDefault(),t.changeDept(t.orgItemData.deptId)},this.showDetail=function(){if(t.orgItemData.detail.permission&&t.orgItemData.detail.permission.unableClickReason)return void r.show(t.orgItemData.detail.permission.unableClickReason,{type:"information"});var a=i.detail.employee;e(a.uid,a.orgStaffId,a.orgId,null,null,null,a.orgId)},this.onItemClick=function(){i.detail.employee,i.detail.user;return t.isSelectPanel?void(t.setItemSelected&&t.setItemSelected(t.orgItemData)):void this.showDetail()}}],link:function(e,t,a){},template:'<li class="list-item member-item" ng-if="orgItem.nodeType === 1" ng-click=\'orgItem.onItemClick();\' ng-class="{\'checked\':orgItemData.isSelected,\'has-no-title\':!orgItem.detail.employee.orgTitle}">\n    <div class="avatar"><static-user-avatar class="normal" media-id="{{orgItem.detail.userProfile.avatarMediaId}}" name="{{orgItem.detail.employee.orgNickName || orgItem.detail.employee.orgUserName}}"></static-user-avatar></div>\n    <div class="info">\n        <p class="name">\n            <span ng-if="!orgItem.detail.user.remarkNameObj.alias">\n                <span ng-bind-html="orgItem.detail.employee.orgUserName|emoj"></span>\n                <span ng-if="orgItem.detail.employee.orgNickName">\n                          (<span ng-bind-html="(orgItem.detail.employee.orgNickName)|emoj"></span>)\n                </span>\n            </span>\n            <span ng-if="orgItem.detail.user.remarkNameObj.alias">\n                <span ng-bind-html="orgItem.detail.user.remarkNameObj.alias|emoj"></span>\n            </span>\n        </p>\n    </div>\n     <div class="info"><p class="title">{{orgItem.detail.employee.orgTitle}}</p></div>\n     <a href="javascript:;" class="see-team" ng-if="orgItem.detail.employee.hasSubordinate && !orgItem.isCurrentDept" ng-click="orgItem.changeDept($event)">查看团队</a>\n </li>\n\n <li class="list-item member-item team-item" ng-if="orgItem.nodeType === 0" ng-click="orgItem.changeDept($event)">\n     <div class="info">\n        <p class="name">{{orgItem.detail.dept.deptName}}</p>\n    </div>\n     <div class="info"><p class="title">{{orgItem.detail.dept.memberCount||0}} 人</p></div>\n </li>\n',controllerAs:"orgItem"}}]);

},{"../../service/modal/profileModal":466,"../../service/org/OrgNodeType":537,"../../service/toast/toast":611,"../../service/widget/selectorBar/selectorBarTool":672,"../avatar/staticUserAvatar":54,"path":7}],122:[function(require,module,exports){
"use strict";var path=require("path"),moduleName=module.exports="ddWeb.org.orgListDirective";require("./orgItem"),require("../widget/breadcrumbs"),require("../infiniteScroll"),require("../../service/org/OrgCacheFactory"),require("../widget/checkbox");var userHelper=require("../../service/user/userHelper"),_=require("lodash"),ORG_NODE_TYPE=require("../../service/org/OrgNodeType"),watermarkLocation=require("../../service/watermark/watermarkLocation");angular.module(moduleName,["ddWeb.org.orgItemDirective","ddWeb.widget.breadcrumbs","ddWeb.infiniteScroll","ddWeb.org.OrgCacheFactory","ddWeb.widget.checkbox",require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("../../service/user/userManager"),require("../../service/org/OrgTree"),require("../../service/org/ExternalOrgTree"),require("../../service/toast/toast"),require("../../service/log/log"),require("../watermark"),require("../../service/org/orgStateManager")]).directive("orgList",["$rootScope","$timeout","OrgCacheFactory","selectedItemFactory","selectedItemType","userManager","OrgTree","toastService","log","orgStateManager","ExternalOrgTree",function(e,t,r,i,o,n,s,l,c,a,d){return{restrict:"AE",scope:{isSelectPanel:"=isSelectPanel",selectedList:"=selectedList",isMultiple:"=isMultiple"},controller:["$scope",function(e){function t(){k.masterNodeList=k.currentDept.getNodeList().concat(k.currentDept),k.breadList=k.masterNodeList.map(function(e){return e.detail.nodeType===ORG_NODE_TYPE.PEOPLE?{displayName:e.detail.employee.orgUserName,key:e.deptId}:{displayName:e.detail.dept.deptName,key:e.deptId}})}function u(){k.isLoading=!0,k.currentDept.active(function(t){k.isLoading=!1,t===!1&&l.show("拉取部门人员失败，请稍候再试",{type:"error"}),setTimeout(function(){try{e.$digest()}catch(e){}})})}function g(e){return k.orgState.externalContact?new d(e,{deptName:k.orgState.externalContact.name}):new s(e)}function p(){k.isLoading=!0;var e=Promise.resolve();return e=k.orgState.uid?n.getUsers([k.orgState.uid]).then(function(e){return e&&e[0]?e[0].getId()!==parseInt(k.orgState.uid)?void c.error("user id is not the same when state change and user not return"):(k.user=e[0],k.isLoading=!1,0===k.user.orgEmployees.length?(k.isLoading=!0,n.getUserWithExt(k.orgState.uid).then(function(e){k.isLoading=!1,k.user=e})):Promise.resolve()):void c.error("get user fail"+k.orgState.uid+k.orgState.staffId)}):n.getUserWithExt(null,k.orgState.staffId,null,k.orgState.orgId)}function f(){if(k.orgState.orgId&&k.user){c.info("init current dept");var e=userHelper.getOrgByOid(k.user,k.orgState.orgId);if(!e)return;var i=g(e),o=k.orgState.deptId;if(!o){var n=_.get(e,"orgNodeItemList.length",0)>0;if(o="-1",n){var s=_.get(e,"orgNodeItemList[0]");o=_.get(s,"deptId")}}i.changeDeptByDeptId(o),k.currentDept&&k.currentDept.dismissRequest(),k.currentDept=i.currentTreeNode,k.currentDept||(i.changeDeptByDeptId("-1"),k.currentDept=i.currentTreeNode,l.show("该部门无法定位到，请稍候再试",{type:"error"}));var a=r.getOrgCacheByOid(k.orgState.orgId);N!==a&&(N&&N.deactive(),N=a,N.active()),t(),u(),k.isSelectAllLoading=!1}}function m(){!k.isLoading&&k.currentDept.hasMore&&(k.isLoading=!0,k.currentDept.showMore(function(t){k.isLoading=!1,t===!1&&l.show("拉取部门人员失败，请稍候再试",{type:"error"});try{e.$digest()}catch(e){}}))}function h(e){var t={orgId:k.orgState.orgId,deptId:e,uid:k.orgState.uid,staffId:k.orgState.staffId,externalContact:k.orgState.externalContact};a.changeOrgState(t)}function S(){p().then(f,function(){l.show("获取用户信息失败，请稍候再试",{type:"error"}),c.error("get user fail"+k.orgState.uid+k.orgState.staffId),k.isLoading=!1})}function L(e){return k.currentDept?(e||(e=$.extend(!0,[],k.currentDept.children),e.push(k.currentDept)),e=e.filter(function(e){return e.detail.nodeType==ORG_NODE_TYPE.PEOPLE&&!e.detail.isRoot})):[]}function v(){if(k.isAllSelectedCheckboxShow=!1,k.currentDept&&k.currentDept.children)if(0!=k.currentDept.children.length){var e=!1;k.currentDept.children.forEach(function(t){t.detail.nodeType===ORG_NODE_TYPE.PEOPLE&&(e=!0)}),e?k.isAllSelectedCheckboxShow=!0:k.currentDept.hasMore?k.isAllSelectedCheckboxShow=!0:k.isAllSelectedCheckboxShow=!1}else k.isAllSelectedCheckboxShow=!1}function E(e){var t=L(e),r=[];return t.forEach(function(e){var t=b(e);r.push(t)}),r}function D(){k.isSelectAllLoading||(k.isSelectAllLoading=!0,k.isLoading=!0,k.currentDept.showAll(function(t){if(t){var r=E(t);e.selectedList.addItems(r)}else l.show("拉取部门人员失败，请稍候再试",{type:"error"});k.isSelectAllLoading=!1,k.isLoading=!1}))}function I(){var t=E();e.selectedList.removeItems(t)}function y(){var t=L(),r=!0;return t.forEach(function(t){var i=b(t);e.selectedList.hasItem(i)||e.selectedList.isLocked(i)?t.isSelected=!0:t.isSelected=!1,t.isSelected||(r=!1)}),r&&!k.currentDept.hasMore}function b(e){var t=e.detail.user;e.detail.user||(t={model:e.detail.employee,text:e.detail.employee.orgUserName});var r=e.detail.employee||{};t.employee=r;var n=i.genSelectedItem(o.USER,t);return n}function w(t){if(!k.isSelectAllLoading){var r=b(t);e.selectedList.toggleItem(r)}}function A(e,t){var r=L();k.isAllSelected=!0,r.forEach(function(r){if(r.detail.nodeType===ORG_NODE_TYPE.PEOPLE){var i=b(r);t.forEach(function(t){i.id===t.id&&(r.isSelected=e)}),r.isSelected||(k.isAllSelected=!1)}})}function O(){e.isSelectPanel&&(k.isAllSelected=!1,e.selectedList.EventEmitter.on("selectedItems",P),e.selectedList.EventEmitter.on("unselectedItems",x)),k.orgItems=null,k.hasNoNode=!1,k.isMultiple=e.isMultiple,k.isSelectAllLoading=!1,k.isSelectPanel=e.isSelectPanel,k.isAllSelectedCheckboxShow=!1,k.changeDept=h,k.loadMore=m,k.selectAll=D,k.unSelectAll=I,k.setItemSelected=w}var k=this,N=null;k.user=null,this.orgState=a.orgState,k.watermarkLocation=watermarkLocation,S(),a.on(a.EventsName.ORG_STATE_CHANGE,S),e.$watchCollection(function(){if(k.currentDept)return k.currentDept.children},function(t){e.isSelectPanel&&t&&(v(),k.isAllSelected=y())});var P=function(e){A(!0,e)},x=function(e){A(!1,e)};O(),e.$on("$destroy",function(){k.currentDept&&k.currentDept.dismissRequest(),a.removeListener(a.EventsName.ORG_STATE_CHANGE,S),N&&N.deactive(),e.isSelectPanel&&(e.selectedList.EventEmitter.off("selectedItems",P),e.selectedList.EventEmitter.off("unselectedItems",x))})}],link:function(e,t,r){if(e.isSelectPanel){var i=e.orgList,o=t.find(".checkbox-item");o.on("mousedown.selectAllRatio",function(){i.isAllSelected?i.unSelectAll():i.selectAll(),e.$digest()}),e.$watch(function(){return i.isAllSelected},function(e){t.find("input[type=checkbox]").prop("checked",e)}),t.on("$destroy",function(){o.off("mousedown.selectAllRatio")})}},template:'<div infinite-scroll infinite-scroll-bottom="orgList.loadMore();" class="org-member-inner" watermark="orgList.watermarkLocation.CONTACT" org-id="orgId">\n    <loading ng-if="orgList.isLoading"></loading>\n    <div class="org-member-inner-content" >\n        <breadcrumbs bread-list="orgList.breadList" on-change="orgList.changeDept(key);"></breadcrumbs>\n        <ul class="list-with-avatar-and-info member-lists" >\n            <li class="checkbox-item" ng-show="orgList.isSelectPanel && orgList.isAllSelectedCheckboxShow && orgList.isMultiple">\n                <div class="checkbox">\n                    <input type="checkbox" />\n                    <label for="select-all-friend"><span class="select-all-label">全选</span><i class="iconfont loop-loading" ng-if="orgList.isSelectAllLoading">&#xe657;</i></label>\n\n                </div>\n            </li>\n            <org-item org-item-data="orgList.currentDept" ng-if="orgList.currentDept.detail.nodeType === 1 && !orgList.currentDept.detail.isRoot" is-current-dept="true"  is-select-panel="orgList.isSelectPanel" set-item-selected="orgList.setItemSelected"></org-item>\n            <org-item ng-repeat="item in orgList.currentDept.children" org-item-data="item" change-dept="orgList.changeDept"  is-select-panel="orgList.isSelectPanel" set-item-selected="orgList.setItemSelected"></org-item>\n        </ul>\n    </div>\n</div>\n',controllerAs:"orgList"}}]);

},{"../../service/log/log":422,"../../service/org/ExternalOrgTree":533,"../../service/org/OrgCacheFactory":536,"../../service/org/OrgNodeType":537,"../../service/org/OrgTree":538,"../../service/org/orgStateManager":541,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/toast/toast":611,"../../service/user/userHelper":640,"../../service/user/userManager":641,"../../service/watermark/watermarkLocation":654,"../infiniteScroll":114,"../watermark":138,"../widget/breadcrumbs":145,"../widget/checkbox":146,"./orgItem":121,"lodash":919,"path":7}],123:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.audioPlayer",path=require("path"),mediaId=require("@ali/ding-mediaid"),EVENTS=require("../../service/events"),app=angular.module(moduleName,[require("../../service/api/trans"),require("../../service/log/log")]);app.directive("audioPlayer",["trans","$sce","$rootScope","log",function(a,e,i,o){var r=0;return{restrict:"AE",replace:!0,scope:{audioMediaId:"=audioMediaId",audioDuration:"=audioDuration",onPlayStart:"&onPlayStart"},template:'<div class="audio-wrapper audio-player">\n    <i class="iconfont play-icon"></i>\n    <span class="video-duration">{{audioDuration}}\'\'</span>\n    <audio ng-src="{{audioSrc}}"></audio>\n    <div class="audio-progress"></div>\n</div>\n',link:function(d,n,t){function u(a){a.preventDefault(),a.stopPropagation(),p.readyState>0&&(0===p.currentTime||p.paused===!0)?(d.onPlayStart&&d.onPlayStart(),i.$broadcast(EVENTS.AUDIO_START_PLAY,{audioId:s}),c.addClass("playing"),p.play(),m.animate({width:l},1e3*p.duration-1e3*p.currentTime,function(){$(this).css("width",0)})):(c.removeClass("playing"),p.pause(),m.stop())}var s=r++;a.amrToMp3(d.audioMediaId,function(a){if(200!==a.code)return void console.log("error occur in amrToMp3");var i={};try{i.src=mediaId.mid2Url(a.body.url)}catch(e){o.error(e.toString+" | scene: decode mp3 mediaId, data:"+a.body.url),i.src=""}i.type="audio/mp3",d.audioSrc=e.trustAsResourceUrl(i.src),d.$digest()});var c=n,l=parseInt($(n).outerWidth()),p=n.find("audio")[0],m=n.find(".audio-progress"),f=n.find(".play-icon"),v=n.find(".video-duration"),y=d.$on(EVENTS.AUDIO_START_PLAY,function(a,e){e.audioId!==s&&(p.readyState>0&&(p.pause(),m.stop()),c.removeClass("playing"))});$(p).on("ended",function(){p.currentTime=0,c.removeClass("playing")}),f.on("click",u),v.on("click",u),n.on("$destroy",function(){y(),$(p).off("ended"),f.off("click"),v.off("click")})}}}]),module.exports=moduleName;
},{"../../service/api/trans":243,"../../service/events":376,"../../service/log/log":422,"@ali/ding-mediaid":716,"path":7}],124:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.encryptAudioPlayer",path=require("path"),ua=require("../../service/ua"),mediaId=require("@ali/ding-mediaid"),EVENTS=require("../../service/events"),AMR=require("@ali/amrnb"),LocalFile=require("../../service/file/LocalFile"),getAudioContext=require("../../service/getAudioContext"),AmrPlayer=require("../../service/audio/amrPlayer"),app=angular.module(moduleName,[require("../../service/api/trans"),require("../../service/log/log"),require("../../service/file/fileHelper")]);app.directive("encryptAudioPlayer",["trans","$sce","$rootScope","log","$fileHelper",function(e,a,i,r,t){var n=0;return{restrict:"AE",replace:!0,scope:{audioDuration:"=audioDuration",onPlayStart:"&onPlayStart",onPlay:"&onPlay"},template:'<div class="audio-wrapper audio-player">\n    <i class="iconfont play-icon"></i>\n    <span class="video-duration">{{audioDuration}}\'\'</span>\n    <audio ></audio>\n    <div class="audio-progress"></div>\n</div>\n',link:function(e,a,r){function o(a){a.preventDefault(),a.stopPropagation();var r=Promise.resolve();e.onPlay&&(r=e.onPlay()),r.then(function(a){var r=a.split(".").pop();if("amr"===r)if(s)s.paused===!0?(e.onPlayStart&&e.onPlayStart(),i.$broadcast(EVENTS.AUDIO_START_PLAY,{audioId:d}),l.addClass("playing"),s.play(),p.animate({width:u},1e3*s.duration,function(){$(this).css("width",0)})):(l.removeClass("playing"),s.pause(),p.stop());else{var n=t.getAudioPath(a);s=new AmrPlayer(n),s.on(s.EventsName.CAN_PLAY,P),s.on(s.EventsName.ENDED,E)}else{var o=t.getAudioUri(a);f?A():(c.setAttribute("src",o),c.addEventListener("canplay",A),f=!0)}})}var s,d=n++,l=a,u=parseInt($(a).outerWidth()),c=a.find("audio")[0],p=a.find(".audio-progress"),v=a.find(".play-icon"),y=a.find(".video-duration"),f=!1,m=e.$on(EVENTS.AUDIO_START_PLAY,function(e,a){a.audioId!==d&&(c.readyState>0&&(c.pause(),p.stop()),s&&(s.pause(),p.stop()),l.removeClass("playing"))});$(c).on("ended",function(){c.currentTime=0,l.removeClass("playing")}),v.on("click",o),y.on("click",o);var A=function(){if(c.removeEventListener("canplay",A),c.readyState>0&&(0===c.currentTime||c.paused===!0)){e.onPlayStart&&e.onPlayStart(),i.$broadcast(EVENTS.AUDIO_START_PLAY,{audioId:d}),l.addClass("playing"),c.play();var a=c.duration===1/0?e.audioDuration:c.duration;p.animate({width:u},1e3*a-1e3*c.currentTime,function(){$(this).css("width",0)})}else l.removeClass("playing"),c.pause(),p.stop()},P=function(){p.animate({width:u},1e3*s.duration,function(){$(this).css("width",0)}),e.onPlayStart&&e.onPlayStart(),i.$broadcast(EVENTS.AUDIO_START_PLAY,{audioId:d}),l.addClass("playing"),s.start()},E=function(){$(p).css("width",0),p.stop(),l.removeClass("playing")};a.on("$destroy",function(){m(),$(c).off("ended"),v.off("click"),y.off("click"),c.removeEventListener("canplay",A),s&&s.off(s.EventsName.CAN_PLAY,P),s&&s.off(s.EventsName.ENDED,E),s&&s.pause()})}}}]),module.exports=moduleName;

},{"../../service/api/trans":243,"../../service/audio/amrPlayer":266,"../../service/events":376,"../../service/file/LocalFile":378,"../../service/file/fileHelper":379,"../../service/getAudioContext":395,"../../service/log/log":422,"../../service/ua":621,"@ali/amrnb":677,"@ali/ding-mediaid":716,"path":7}],125:[function(require,module,exports){
"use strict";var moduleName="ddWeb.previewFile.previewFile",path=require("path"),app=angular.module(moduleName,[require("../img/imgPreviewDirective"),require("./spaceFileWatermark")]);app.directive("previewFile",["$sce",function(i){return{restrict:"AE",template:'<div>\n    <div ng-if="option.hasWatermark" ng-show="isLoaded"  space-file-watermark  org-id="option.orgId" class="preview-watermark-warp"></div>\n    <div loading ng-if="!option.isImg" ng-show="!isLoaded"></div>\n    <div img-preview-directive ng-if="option.isImg"></div>\n</div>\n',scope:{option:"=option"},replace:!0,link:function(i,e,o){if(i.isLoaded=!1,i.option.isImg)i.localState={mediaId:i.option.preview_url},i.conf={hideSaveEmotion:!0,hideDownloadBtn:!0,hideSaveToCloud:!0};else{var a=$("<iframe>",{id:"preview-frame"}).css("visibility","hidden").appendTo(e),r="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-same-origin allow-scripts";a.attr("sandbox",r),a.load(function(){i.isLoaded=!0,i.$digest(),a.css("visibility","visible")}),a.attr("src",i.option.preview_url)}}}}]),module.exports=moduleName;

},{"../img/imgPreviewDirective":113,"./spaceFileWatermark":126,"path":7}],126:[function(require,module,exports){
"use strict";var moduleName="ddWeb.directive.spaceFileWatermark.wartermark",watermarkFactory=require("../../service/watermark/watermarkFactory"),$my=require("../../service/user/my"),_=require("lodash"),watermarkLocation=require("../../service/watermark/watermarkLocation");angular.module(moduleName,[]).directive("spaceFileWatermark",function(){return{restrict:"A",link:function(r,e,a){var t={orgId:_.get(r,a.orgId),watermarkType:_.get(r,a.watermarkType)};if(!t.orgId)return e.css("background-image","");var o=$my.getOrgByOid(t.orgId);if(!o)return e.css("background-image","");var i=(o.orgDetail.organizationSettingsModel,o.orgEmployeeModel),m=[],u=watermarkFactory.get(i.orgUserName,i.orgUserMobile,t.watermarkType);m.push("url("+u.url+") 0 0/"+u.width+"px auto"),m.length?e.css("background",m.join(",")):e.css("background-image","")}}}),module.exports=moduleName;

},{"../../service/user/my":635,"../../service/watermark/watermarkFactory":653,"../../service/watermark/watermarkLocation":654,"lodash":919}],127:[function(require,module,exports){
"use strict";var path=require("path"),QRCode=require("@ali/ding-qrcode"),moduleName="ddWeb.qrcode",app=angular.module(moduleName,[]);app.directive("qrcode",[function(){return{restrict:"AE",replace:!0,scope:{text:"=text",size:"=size",version:"=version",correctLevel:"=correctLevel"},template:'<div class="qrcode"></div>\n',link:function(e,t,r){var o,c=e.size||100,i=(e.version,e.correctLevel,function(){e.text&&(o?(o.clear(),o.makeCode(e.text)):o=new QRCode(t[0],{text:e.text,width:c,height:c,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}))});e.$watch("text",function(){i()})}}}]),module.exports=moduleName;

},{"@ali/ding-qrcode":717,"path":7}],128:[function(require,module,exports){
"use strict";var path=require("path");require("../../service/tool/tool"),require("../../service/widget/selectorBar/selectorBarTool"),require("../../service/toast/toast"),require("../../service/org/OrgTree");var $my=require("../../service/user/my");require("../org/orgList");var _=require("lodash");angular.module("ddWeb.selectorPanel.company",["ddWeb.org.orgListDirective",require("../../service/org/orgStateManager"),require("../widget/dd-dropdown/dd-dropdown.js"),require("../../service/selectorPanel/PanelType.js")]).directive("company",["orgStateManager","PanelType","$translate",function(e,t,r){return{restrict:"A",controller:["$scope",function(n){function a(){o.uid=$my.getId(),o.orgId=n.currentOrgData.oid;var t={orgId:o.orgId,deptId:null,uid:o.uid,staffId:null};e.changeOrgState(t)}var o=this,i=n.menuData.panelTypeArr;this.isShowExternalContact=i.indexOf(t.EXTERNAL_CONTACT)!==-1;var c=function(e){n.selectorPanelController.go(e,t.EXTERNAL_CONTACT)}.bind(this);this.changeToExternalContactSelectorPanel=c,this.text={pc_contact_company_external_contact:r.instant("pc_contact_company_external_contact")},this.isSelectPanel=!0,this.isMultiple=void 0===n.isMultiple||n.isMultiple,a();var l=$my.getOrgByOid(o.orgId),s=_.get(l,"orgDetail.organizationSettingsModel.closeExtContact");this.isShowExternalContact=this.isShowExternalContact&&!s}],link:function(e,t,r){},controllerAs:"company",template:'<div class="external-contact-tab" ng-if="company.isShowExternalContact"\n    ng-click="company.changeToExternalContactSelectorPanel($event)">\n    <p>{{::company.text.pc_contact_company_external_contact}}</p>\n    <i class="arrow"></i>\n</div>\n<org-list ng-if="!company.isChangeToExternalContact" is-select-panel="company.isSelectPanel" selected-list="selectedList" class="org-member-wrapper" is-multiple="company.isMultiple"></org-list>\n'}}]);

},{"../../service/org/OrgTree":538,"../../service/org/orgStateManager":541,"../../service/selectorPanel/PanelType.js":590,"../../service/toast/toast":611,"../../service/tool/tool":616,"../../service/user/my":635,"../../service/widget/selectorBar/selectorBarTool":672,"../org/orgList":122,"../widget/dd-dropdown/dd-dropdown.js":150,"lodash":919,"path":7}],129:[function(require,module,exports){
var moduleName="ddWeb.selectorPanel.conv",path=require("path");require("./selectAll");var app=angular.module(moduleName,["ddWeb.selectorPanel.selectAll",require("../group/groupConvList")]);app.directive("convListPanel",[function(){return{restrict:"A",replace:!0,controller:["$scope",function(e){}],link:function(e,r,l,o){},controllerAs:"conv",template:'<div class="tab-content current">\n    <group-conv-list></group-conv-list>\n</div>\n'}}]),module.exports=moduleName;

},{"../group/groupConvList":112,"./selectAll":134,"path":7}],130:[function(require,module,exports){
"use strict";var path=require("path");require("../../service/selectorPanel/CustomList"),require("../../service/widget/selectorBar/selectorBarTool"),require("./selectAll");var app=angular.module("ddWeb.selectorPanel.custom",["ddWeb.service.CustomList","ddWeb.service.selectorBarTool","ddWeb.selectorPanel.selectAll",require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("../../directive/avatar/userAvatar")]);app.directive("custom",["$rootScope","CustomList","selectorBarTool","selectedItemFactory","selectedItemType",function(e,t,s,i,l){return{restrict:"A",replace:!0,controller:["$scope","CustomList",function(e,t){var s=this,c=function(){try{e.$digest()}catch(e){}};s.page=1,s.limit=20,s.customList=[],$.extend(this,new t),s.selectedType=l.USER,this.isMultiple=void 0===e.isMultiple||e.isMultiple,this.showCompanyNameConf=e.showCompanyNameConf,this.init(e.customUids||[]),this.onPeopleClick=function(t,s){t.stopPropagation();var c=i.genSelectedItem(l.USER,s.user);e.selectedList.toggleItem(c)},this.loadMore=function(){s.page*s.limit>s.customList.length||(s.page+=1,c())};var o=function(){Array.isArray(s.customList)&&(s.isAllSelected=!0,s.customList.forEach(function(t){t.isDisabled=!1;var c=i.genSelectedItem(l.USER,t.user);e.selectedList.hasItem(c)?t.isSelected=!0:t.isSelected=!1,e.selectedList.isDisabledItem(c)&&(t.isDisabled=!0),t.isSelected||(s.isAllSelected=!1)}),c())};this.on(this.EventsName.UPDATE,o);var r=function(t){if(Array.isArray(s.customList)){s.isAllSelected=!0,s.customList.forEach(function(e){var c=i.genSelectedItem(l.USER,e.user);t.forEach(function(t){c.id===t.id&&(e.isSelected=!0)}),e.isSelected||(s.isAllSelected=!1)});try{e.$digest()}catch(e){}}},a=function(t){if(Array.isArray(s.customList)){s.isAllSelected=!0,s.customList.forEach(function(e){var c=i.genSelectedItem(l.USER,e.user);t.forEach(function(t){c.id===t.id&&(e.isSelected=!1,s.isAllSelected=!1)})});try{e.$evalAsync()}catch(e){}}};e.selectedList.EventEmitter.addListener("selectedItems",r),e.selectedList.EventEmitter.addListener("unselectedItems",a),e.$on("$destroy",function(){e.selectedList.EventEmitter.off("selectedItems",r),e.selectedList.EventEmitter.off("unselectedItems",a),s.off(s.EventsName.UPDATE,o)})}],link:function(e,t,s){},controllerAs:"custom",template:'<div class="tab-content friend-member-lists current">\n    <ul class="list-with-avatar-and-info member-lists" infinite-scroll infinite-scroll-bottom="custom.loadMore()">\n        <li class="checkbox-item">\n            <select-all-box link-data-list="custom.customList" selected-list="selectedList" is-all-selected="custom.isAllSelected" ng-if="custom.customList&&custom.customList.length > 0&&custom.isMultiple" selected-type="custom.selectedType"></select-all-box>\n        </li>\n        <li class="list-item member-item" ng-repeat="item in custom.customList.slice(0, custom.limit*custom.page) track by item.user.userProfileModel.uid" ng-click=\'custom.onPeopleClick($event, item)\' ng-class="{\'checked\':item.isSelected,\'disabled\' : item.isDisabled}" >\n            <div class="avatar"><user-avatar class="normal" uid={{::item.user.userProfileModel.uid}}></user-avatar></div>\n            <div class="info">\n                <p class="name" ng-if="!custom.showCompanyNameConf.isShow" ng-bind-html="::(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></p>\n                <p class="name" ng-if="custom.showCompanyNameConf.isShow" ng-bind-html="::(item.user.employeeBaseModel[custom.showCompanyNameConf.orgId].name || item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></p>\n            </div>\n        </li>\n    </ul>\n</div>\n'}}]);

},{"../../directive/avatar/userAvatar":55,"../../service/selectorPanel/CustomList":589,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/widget/selectorBar/selectorBarTool":672,"./selectAll":134,"path":7}],131:[function(require,module,exports){
function controllerDefine(e,t,n,c,a){return{restrict:"AE",controller:["$scope",function(r){function o(){try{r.$digest()}catch(e){}}var s=r.menuData.panelTypeArr;this.isSelectPanel=!0,this.isOnlyExternalContact=1===s.length&&s.indexOf(c.EXTERNAL_CONTACT)!==-1;var l=e.getStore(sourceTypes.SELECTOR_PANEL),i={};i[scopes.OWNER]=a.instant("dt_external_title_my_contact"),i[scopes.SHARED]=a.instant("dt_external_title_share_contact"),i[scopes.SUBORDINATE]=a.instant("dt_external_title_subordinate_contact"),i[scopes.ALL]=a.instant("dt_external_title_company_contact"),i[scopes.NO_OWNER]=a.instant("dt_external_title_allocted_contact"),this.text={pc_select_panel_external_contact_return_to_org_list:a.instant("pc_select_panel_external_contact_return_to_org_list")};var p=function(e){t.dispatch({scope:e,source:sourceTypes.SELECTOR_PANEL,type:actionTypes.CHANGE_INSTANCE}),o()}.bind(this),d=function(e){r.selectorPanelController.go(e,c.ORG)};this.changeToOrgList=d;var _=function(){var e=l.getVisibleScope();e&&(this.visibleScopes=e.map(function(e){return{scope:e,text:i[e]}}),this.currentScope=this.visibleScopes[0],p(this.currentScope.scope))}.bind(this);this.onSelect=function(e){this.currentScope=e,p(this.currentScope.scope)}.bind(this);var u=function(){_(),o()}.bind(this),x=r.currentOrgData.oid,C={orgId:x,deptId:null,staffId:null};n.changeOrgState(C),t.dispatch({source:sourceTypes.SELECTOR_PANEL,type:actionTypes.CHANGE_ORG}),l.on(l.Events.GET_VISIBLE_SCOPE_SUCCUSS,u),r.$on("$destroy",function(){l.removeListener(l.Events.GET_VISIBLE_SCOPE_SUCCUSS,u)}.bind(this))}],controllerAs:"externalContactPanel",template:'<span ng-click="externalContactPanel.changeToOrgList($event)" ng-if="!externalContactPanel.isOnlyExternalContact" class="return-span">{{::externalContactPanel.text.pc_select_panel_external_contact_return_to_org_list}}</span>\n<dd-drop-down\n    repeat-data="externalContactPanel.visibleScopes"\n    on-select="externalContactPanel.onSelect"\n    ng-model="externalContactPanel.currentScope"\n    ng-if="externalContactPanel.visibleScopes"\n    >\n    <dd-drop-down-match class="eye selected-country">\n        <span class="choiced-content">{{$selectItem.text}}</span>\n        <i class="iconfont tri">&#xe633;</i>\n    </dd-drop-down-match>\n    <dd-drop-down-choices>\n      <span class="menu" >{{$repeatItem.text}}</span>\n    </dd-drop-down-choices>\n</dd-drop-down>\n<external-contact-list ng-if="externalContactPanel.visibleScopes" is-select-panel="externalContactPanel.isSelectPanel" selected-list="selectedList"></external-contact-list>\n'}}var moduleName=module.exports="ddWeb.contact.externalContactPanel",directiveName="externalContactPanel",path=require("path"),sourceTypes=require("../../service/contact/externalContact/sourceType.js"),actionTypes=require("../../service/contact/externalContact/actionTypes.js"),scopes=require("../../service/contact/externalContact/listScope.js").scope;angular.module(moduleName,[require("../contact/externalContactList.js"),require("../../service/contact/externalContact/externalContactHelper.js"),require("../widget/dd-dropdown/dd-dropdown.js"),require("../../service/contact/externalContact/dispatcher.js"),require("../../service/org/orgStateManager.js"),require("../../service/selectorPanel/PanelType.js")]).directive(directiveName,["externalContactHelper","externalContactDispatcher","orgStateManager","PanelType","$translate",controllerDefine]);

},{"../../service/contact/externalContact/actionTypes.js":281,"../../service/contact/externalContact/dispatcher.js":282,"../../service/contact/externalContact/externalContactHelper.js":283,"../../service/contact/externalContact/listScope.js":288,"../../service/contact/externalContact/sourceType.js":289,"../../service/org/orgStateManager.js":541,"../../service/selectorPanel/PanelType.js":590,"../contact/externalContactList.js":100,"../widget/dd-dropdown/dd-dropdown.js":150,"path":7}],132:[function(require,module,exports){
"use strict";var path=require("path");require("../../service/friend/FriendFactory"),require("../../service/widget/selectorBar/selectorBarTool"),require("./selectAll"),angular.module("ddWeb.selectorPanel.friend",["ddWeb.service.selectorBarTool","ddWeb.selectorPanel.selectAll","ddWeb.friend.FriendFactory",require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType")]).directive("friend",["selectorBarTool","FriendFactory","selectedItemFactory","selectedItemType",function(e,t,i,l){return{restrict:"AE",replace:!0,controller:["$scope",function(e){var s=this;s.friendData=t.getFriendList(),s.isAllSelected=!0,s.selectedType=l.USER,this.isMultiple=void 0===e.isMultiple||e.isMultiple;var n=function(){try{e.$digest()}catch(e){}};this.friendData.on(this.friendData.EventsName.GET_FRIENDS,n);var r=function(e){s.isAllSelected=!0,s.friendData.friendList.forEach(function(t){var n=i.genSelectedItem(l.USER,t.userInstance);e.forEach(function(e){n.id===e.id&&(t.isSelected=!0)}),t.isSelected||(s.isAllSelected=!1)}),n()},d=function(e){s.isAllSelected=!0,s.friendData.friendList.forEach(function(t){var n=i.genSelectedItem(l.USER,t.userInstance);e.forEach(function(e){n.id===e.id&&(t.isSelected=!1,s.isAllSelected=!1)})}),n()};e.selectedList.EventEmitter.addListener("selectedItems",r),e.selectedList.EventEmitter.addListener("unselectedItems",d),e.$watchCollection(function(){return s.friendData.friendList},function(t){s.isAllSelected=!0,s.friendData.friendList.forEach(function(t){var n=i.genSelectedItem(l.USER,t.userInstance);e.selectedList.hasItem(n)||e.selectedList.isLocked(n)?t.isSelected=!0:t.isSelected=!1,t.isSelected||(s.isAllSelected=!1)})}),this.onPeopleClick=function(t,s){t.stopPropagation();var n=i.genSelectedItem(l.USER,s.userInstance);e.selectedList.toggleItem(n)},e.$on("$destroy",function(){t.destoryFriendList(),e.selectedList.EventEmitter.off("selectedItems",r),e.selectedList.EventEmitter.off("unselectedItems",d),s.friendData.off(s.friendData.EventsName.GET_FRIENDS,n)})}],link:function(e,t,i){},controllerAs:"friend",template:'<div class="tab-content friend-member-lists current">\n    <ul class="list-with-avatar-and-info member-lists">\n        <li class="checkbox-item" >\n            <select-all-box link-data-list="friend.friendData.friendList" selected-list="selectedList" is-all-selected="friend.isAllSelected" ng-if="friend.friendData.friendList&&friend.friendData.friendList.length > 0 && friend.isMultiple" selected-type="friend.selectedType"></select-all-box>\n        </li>\n        <li class="list-item member-item has-no-title" ng-repeat="item in friend.friendData.friendList" ng-click=\'friend.onPeopleClick($event, item)\' ng-class="{\'checked\':item.isSelected}">\n            <dd-avatar uid="item.user.userProfileModel.uid" nick="item.user.userProfileModel.nick"></dd-avatar>\n            <div class="info"><p class="name" ng-bind-html="(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></p></div>\n        </li>\n    </ul>\n</div>\n'}}]);

},{"../../service/friend/FriendFactory":389,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/widget/selectorBar/selectorBarTool":672,"./selectAll":134,"path":7}],133:[function(require,module,exports){
var moduleName="ddWeb.selectorPanel.group",path=require("path");require("./selectAll");var app=angular.module(moduleName,["ddWeb.selectorPanel.selectAll"]);app.directive("group",[function(){return{restrict:"A",replace:!0,controller:["$scope",function(e){var l=this;l.isMultiple=void 0===e.isMultiple||e.isMultiple}],link:function(e,l,t,i){var r=i,p=t.type;r.type=p||"ALL"},controllerAs:"group",template:'<div class="tab-content current">\n    <group-list list-type = "ALL" is-select-panel="true" selected-list="selectedList" is-multiple="group.isMultiple" ng-if="group.type === \'ALL\'"></group-list>\n    <group-list list-type = "COMPANY" is-select-panel="true" selected-list="selectedList" is-multiple="group.isMultiple" ng-if="group.type === \'COMPANY\'"></group-list>\n</div>\n'}}]),module.exports=moduleName;

},{"./selectAll":134,"path":7}],134:[function(require,module,exports){
"use strict";var path=require("path");require("../../service/widget/selectorBar/selectorBarTool"),angular.module("ddWeb.selectorPanel.selectAll",["ddWeb.service.selectorBarTool",require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType")]).directive("selectAllBox",["selectorBarTool","selectedItemFactory","selectedItemType",function(e,t,l){return{restrict:"AE",scope:{linkDataList:"=linkDataList",selectedList:"=",isAllSelected:"=",selectedType:"="},controller:["$scope","$rootScope",function(e,c){this.selectAll=function(){var c=[];e.linkDataList.forEach(function(s){if(e.selectedType===l.USER)var r=t.genSelectedItem(e.selectedType,s.userInstance||s.user);else if(e.selectedType===l.GROUP)var r=t.genSelectedItem(e.selectedType,s);c.push(r)}),e.selectedList.addItems(c)},this.unSelectAll=function(){var c=[];e.linkDataList.forEach(function(s){if(e.selectedType===l.USER)var r=t.genSelectedItem(e.selectedType,s.userInstance||s.user);else if(e.selectedType===l.GROUP)var r=t.genSelectedItem(e.selectedType,s);c.push(r)}),e.selectedList.removeItems(c)}}],link:function(e,t,l){var c=e.selectAllCtrl,s=t.find(".select-all-ratio"),r=t.find("input[type=checkbox]");s.on("mousedown.selectAllRatio",function(){r.prop("checked")?c.unSelectAll():c.selectAll(),e.$digest()}),e.$watch(function(){return e.isAllSelected},function(e){r.prop("checked",e)}),t.on("$destroy",function(){s.off("mousedown.selectAllRatio")})},template:'<div class="checkbox select-all-ratio">\n    <input type="checkbox" >\n    <label for="select-all-friend">全选</label>\n</div>',controllerAs:"selectAllCtrl"}}]);

},{"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/widget/selectorBar/selectorBarTool":672,"path":7}],135:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.selectorPanel";require("../../service/selectorPanel/builder"),require("./company"),require("./friend"),require("./custom"),require("../../service/tool/tool"),require("../../service/tool/multiOrgTool"),require("../../service/toast/toast"),require("../../service/selectorPanel/PanelType");var _=require("lodash"),app=angular.module(moduleName,["ddWeb.service.selectorPanelBuilder","ddWeb.selectorPanel.company","ddWeb.selectorPanel.friend","ddWeb.selectorPanel.custom","ddWeb.service.tool","ddWeb.service.multiOrgTool","ddWeb.toast","ddWeb.service.PanelType",require("./group"),require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("./conv"),require("./externalContactPanel")]);app.directive("selectorPanel",["selectorPanelBuilder","tool","multiOrgTool","toastService","PanelType","selectedItemFactory","selectedItemType",function(e,r,t,l,n,a,o){return{restrict:"AE",replace:!0,scope:{menuData:"=",customUids:"=",selectedList:"=",isMultiple:"=",showCompanyNameConf:"="},controller:["$scope",function(e){e.currentOrgData=null,this.PanelType=n}],link:function(r,l,a,o){function c(e){return e.sort(function(e,r){return e-r}),e}var i=l.children(".tab-items"),u=l.children(".tab-contents"),s=r.customUids,d=null;o.go=function(t,l){o.currentPanelType=l,l===n.ORG&&t&&t.stopPropagation(),d&&d.$destroy(),d=r.$new(),e.buildContainer(d,l,u,s)},o.switchOrg=function(e,l,n){t.setCurrentOrgData(n),r.currentOrgData=n,o.go(e,l)},o.onSelect=function(e){o.switchOrg(null,n.ORG,e)},o.isCurrentOrg=function(e){return t.isOrgDataEqual(r.currentOrgData,e)},r.$watch(function(){return r.menuData},function(l){l&&(l.panelTypeArr=c(l.panelTypeArr),l.orgDataArr&&(r.currentOrgData=t.getCurrentOrgData(l.orgDataArr[0],l.orgDataArr)),r.menuData=l,e.buildMenu(r,r.currentOrgData,l,i),o.go(null,l.panelTypeArr[0]))})},controllerAs:"selectorPanelController",template:'<div class="tab selector-panel-box">\n    <ul class="tab-items"></ul>\n    <div class="tab-contents"></div>\n</div>'}}]),module.exports=moduleName;

},{"../../service/selectorPanel/PanelType":590,"../../service/selectorPanel/builder":591,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/toast/toast":611,"../../service/tool/multiOrgTool":614,"../../service/tool/tool":616,"./company":128,"./conv":129,"./custom":130,"./externalContactPanel":131,"./friend":132,"./group":133,"lodash":919,"path":7}],136:[function(require,module,exports){
var path=require("path"),moment=require("moment"),dateTimePicker="ddWeb.sendDing.dateTimePicker";require("../../service/toast/toast"),require("@ali/datetimepicker"),angular.module(dateTimePicker,["ddWeb.toast"]).directive("dateTimePicker",["toastService",function(e){return{restrict:"AE",replace:!0,scope:{time:"=",onDtPickerShow:"&",onDtPickerClose:"&"},template:'<div class="datetime-input-box">\n    <input type="text" class="datepicker-input" data-field="datetime" name="datetime"  readonly="readonly" ng-model="time">\n    <div id="dtBox"></div>\n</div>',link:function(t,i,o){t.time||(t.time=moment().format("YYYY-MM-DD HH:mm")),i.find("#dtBox").DateTimePicker({mode:"datetime",defaultDate:new Date,titleContentDateTime:"",isPopup:!0,dateTimeFormat:"yyyy-mm-dd hh:mm:ss",formatHumanDate:function(e){return e.yyyy+"-"+e.monthShort+"-"+e.dd},shortMonthNames:["01","02","03","04","05","06","07","08","09","10","11","12"],setButtonContent:"确定",buttonsToDisplay:["HeaderCloseButton","SetButton"],beforeShow:function(){},afterShow:function(){t.onDtPickerShow&&t.onDtPickerShow(),t.$digest()},afterHide:function(){t.onDtPickerClose&&t.onDtPickerClose(),t.$digest()},buttonClicked:function(e){}}),i.find(".datepicker-input").trigger("focus"),t.$watch(function(){return t.time},function(i){if(i){var o=moment().startOf("minute").valueOf();o>moment(i,"YYYY-MM-DD HH:mm").valueOf()&&(t.time=moment(o).format("YYYY-MM-DD HH:mm"),e.show("发DING时间不能早于现在时间",{type:"information"}))}})}}}]),module.exports=dateTimePicker;

},{"../../service/toast/toast":611,"@ali/datetimepicker":679,"moment":923,"path":7}],137:[function(require,module,exports){
var moduleName="ddWeb.uploadFile.uploadFileContent",path=require("path"),$fileTypes=require("@ali/ding-filetypes"),limitConfig=require("../../service/limitConfig");angular.module(moduleName,[require("../../service/file/fileHelper"),require("../../service/img/Rotate")]).directive("uploadFileContent",["$fileHelper","Rotate",function(i,e){return{restrict:"AE",replace:!0,scope:{file:"=",options:"="},controller:[function(){}],link:function(l,s,a){var n=l.UploadFile,o=l.file,t=l.options,r=$fileTypes.getTypeByName(o.name);n.isImg=$fileTypes.isImg(r),n.fname=o.name,n.showSize=i.formatFileSize(o.size),o.size>limitConfig.IMAGE_READ_B64_SIZE_LIMIT&&(n.isImg=!1),n.isImg?t.isMediaId?n.imgSrc=o.imgSrc:i.readFile(o,function(){n.imgSrc=o.dataURI;var i=e(o.orientation)||0,a=90===i||270===i,t=$(s.find(".file-img")),r=$(s.find(".file-area-box"));t.css("visibility","hidden"),t&&t.length>0&&(t[0].onload=function(){if(a){var e=t.height(),s=t.width();r.height(s),t.css({"margin-top":(s-e)/2+"px"})}t.css("-webkit-transform","rotate("+i+"deg)"),t.css("visibility","visible"),l.$digest()}),l.$digest()}):n.iconClass=$fileTypes.getFileIconByType(r)},template:'<div class="file-area">\n    <div class="file-area-box">\n        <div class="file-icon" ng-if="!UploadFile.isImg" ng-class="UploadFile.iconClass"></div>\n        <img class="file-img" ng-if="UploadFile.isImg" ng-src="{{UploadFile.imgSrc}}">\n    </div>\n    <p class="file-info-item file-name">{{UploadFile.fname}}</p>\n    <p class="file-info-item file-size" ng-if="file.size!=0">{{UploadFile.showSize}}</p>\n</div>\n',controllerAs:"UploadFile"}}]),module.exports=moduleName;

},{"../../service/file/fileHelper":379,"../../service/img/Rotate":407,"../../service/limitConfig":414,"@ali/ding-filetypes":714,"path":7}],138:[function(require,module,exports){
"use strict";var moduleName="ddWeb.directive.wartermark",watermarkFactory=require("../service/watermark/watermarkFactory"),$my=require("../service/user/my"),_=require("lodash"),watermarkLocation=require("../service/watermark/watermarkLocation");angular.module(moduleName,[]).directive("watermark",function(){return{restrict:"A",link:function(r,e,a){var t=function(){var t={isSafety:_.get(r,a.isSafety),isSafetySingle:_.get(r,a.isSafetySingle),orgId:_.get(r,a.orgId),watermark:_.get(r,a.watermark),watermarkType:_.get(r,a.watermarkType)};if(!t.orgId||!t.watermark)return e.css("background-image","");var o=$my.getOrgByOid(t.orgId);if(!o)return e.css("background-image","");var i=o.orgDetail.organizationSettingsModel,m=t.watermark==watermarkLocation.GROUP&&i.groupWaterMark||t.watermark==watermarkLocation.CONTACT&&i.contactWaterMark,n=o.orgEmployeeModel,g=[];if(m&&!t.isSafetySingle){var u=watermarkFactory.get(n.orgUserName,n.orgUserMobile,t.watermarkType);g.push("url("+u.url+") 0 0/"+u.width+"px auto")}if(t.isSafety){var c=watermarkFactory.getSafety(n.orgName);g.push("url("+c.url+") no-repeat center center/"+c.width+"px auto")}g.length?e.css("background",g.join(",")):e.css("background-image","")};t(),r.$watch(function(){return _.get(r,a.orgId)},function(){t()})}}}),module.exports=moduleName;

},{"../service/user/my":635,"../service/watermark/watermarkFactory":653,"../service/watermark/watermarkLocation":654,"lodash":919}],139:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.admin",path=require("path"),ua=require("../../service/ua"),localLog=require("../../service/log/localLog"),my=require("../../service/user/my"),env=require("../../service/env/env"),PRODUCT_OA_SSO="https://oa.dingtalk.com/omp/login/sso_login",DAILY_OA_SSO="http://10.101.110.119/omp/login/sso_login",ddStorage=require("../../service/storage/ddStorage"),muitiLanguage=require("../../service/pcMedusaService/medusa");angular.module(moduleName,[require("../../service/toast/toast"),require("@ali/ding-api").interface.LoginI,require("../../service/log/lwlog"),require("../../service/openWindow/openWindow"),require("../widget/hoverTip.js")]).directive("orgAdmin",["LoginI","toastService","lwlog","$OpenWindow","$translate",function(e,i,o,r,t){return{restrict:"E",replace:!0,scope:{},link:function(n,a,s){n.text={dt_option_manage_title:t.instant("dt_option_manage_title")},n.isAdmin=!1,n.isShowOASSONew="1"!==ddStorage.getItemWithUid(ddStorage.STORAGE_KEY.HAS_USE_OA_SSO),n.isChinese=muitiLanguage.getCurrentLang().type.indexOf("zh")!==-1,Array.isArray(my.orgEmployees)&&(n.isAdmin=my.orgEmployees.some(function(e){return e.isAdmin}),n.isAdmin||(n.isShowOASSONew=!1));var d=function(){ddStorage.setItemWithUid(ddStorage.STORAGE_KEY.HAS_USE_OA_SSO,"1")};n.goToOA=function(){var t=PRODUCT_OA_SSO;env.isOnline||(t=DAILY_OA_SSO);var a=new r;e.getAuthTmpCode(t).result.then(function(e){e.body&&a.resolve(e.body)}).catch(function(e){var o="登录管理后台失败";e.body&&e.body.reason&&(o=e.body.reason),i.show(o,{type:"error"}),localLog.error("oa sso error",e,JSON.stringify(e._originMsg)),a.resolve(result.body)}),n.isShowOASSONew=!1,d(),o.commLog("pc_org_login_click","")}},template:'<li ng-show="isAdmin" class="extra-item admin" log="tab_admin_click">\n    <div class="extra-item-box" ng-click="goToOA()">\n        <i class="iconfont" htitle="{{::text.dt_option_manage_title}}" htitle-direction="right">&#xe6f4;</i>\n        <i class="unread-dot iconfont" ng-if="isShowOASSONew">&#xe608;</i>\n    </div>\n</li>\n'}}]),module.exports=moduleName;

},{"../../service/env/env":374,"../../service/log/localLog":421,"../../service/log/lwlog":424,"../../service/openWindow/openWindow":532,"../../service/pcMedusaService/medusa":542,"../../service/storage/ddStorage":605,"../../service/toast/toast":611,"../../service/ua":621,"../../service/user/my":635,"../widget/hoverTip.js":161,"@ali/ding-api":711,"path":7}],140:[function(require,module,exports){
var module=angular.module("angularFileUpload",[]);module.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(e,t,o,r,n){function i(t){var o=angular.copy(e);angular.extend(this,o,t,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}function s(e){var t=angular.isElement(e),o=t?e.value:e,r=angular.isString(o)?"FakePath":"Object",n="_createFrom"+r;this[n](o)}function a(e,t,o){var r=angular.isElement(t),n=r?angular.element(t):null,s=r?null:t;angular.extend(this,{url:e.url,alias:e.alias,headers:angular.copy(e.headers),formData:angular.copy(e.formData),removeAfterUpload:e.removeAfterUpload,withCredentials:e.withCredentials,method:e.method},o,{uploader:e,file:new i.FileLikeObject(t),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:s,_input:n}),n&&this._replaceNode(n)}function p(e){angular.extend(this,e),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}function l(e){l.super_.apply(this,arguments),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}function u(e){u.super_.apply(this,arguments)}function d(e){d.super_.apply(this,arguments)}return i.prototype.isHTML5=!(!r.File||!r.FormData),i.prototype.addToQueue=function(e,t,o){var r=this.isArrayLikeObject(e)?e:[e],n=this._getFilters(o),s=this.queue.length,a=[];angular.forEach(r,function(e){var o=new i.FileLikeObject(e);if(this._isValidFile(o,n,t)){var r=new i.FileItem(this,e,t);a.push(r),this.queue.push(r),this._onAfterAddingFile(r)}else{var s=this.filters[this._failFilterIndex];this._onWhenAddingFileFailed(o,s,t)}},this),this.queue.length!==s&&(this._onAfterAddingAll(a),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},i.prototype.removeFromQueue=function(e){var t=this.getIndexOfItem(e),o=this.queue[t];o.isUploading&&o.cancel(),this.queue.splice(t,1),o._destroy(),this.progress=this._getTotalProgress()},i.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},i.prototype.uploadItem=function(e){var t=this.getIndexOfItem(e),o=this.queue[t],r=this.isHTML5?"_xhrTransport":"_iframeTransport";o._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[r](o))},i.prototype.cancelItem=function(e){var t=this.getIndexOfItem(e),o=this.queue[t],r=this.isHTML5?"_xhr":"_form";o&&o.isUploading&&o[r].abort()},i.prototype.uploadAll=function(){var e=this.getNotUploadedItems().filter(function(e){return!e.isUploading});e.length&&(angular.forEach(e,function(e){e._prepareToUploading()}),e[0].upload())},i.prototype.cancelAll=function(){var e=this.getNotUploadedItems();angular.forEach(e,function(e){e.cancel()}),this._directives.select.forEach(function(e){e.element.val("")})},i.prototype.isFile=function(e){var t=r.File;return t&&e instanceof t},i.prototype.isFileLikeObject=function(e){return e instanceof i.FileLikeObject},i.prototype.isArrayLikeObject=function(e){return angular.isObject(e)&&"length"in e},i.prototype.getIndexOfItem=function(e){return angular.isNumber(e)?e:this.queue.indexOf(e)},i.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},i.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})},i.prototype.destroy=function(){angular.forEach(this._directives,function(e){angular.forEach(this._directives[e],function(e){e.destroy()},this)},this)},i.prototype.onAfterAddingAll=function(e){},i.prototype.onAfterAddingFile=function(e){},i.prototype.onWhenAddingFileFailed=function(e,t,o){},i.prototype.onBeforeUploadItem=function(e){},i.prototype.onProgressItem=function(e,t){},i.prototype.onProgressAll=function(e){},i.prototype.onSuccessItem=function(e,t,o,r){},i.prototype.onErrorItem=function(e,t,o,r){},i.prototype.onCancelItem=function(e,t,o,r){},i.prototype.onCompleteItem=function(e,t,o,r){},i.prototype.onCompleteAll=function(){},i.prototype._getTotalProgress=function(e){if(this.removeAfterUpload)return e||0;var t=this.getNotUploadedItems().length,o=t?this.queue.length-t:this.queue.length,r=100/this.queue.length,n=(e||0)*r/100;return Math.round(o*r+n)},i.prototype._getFilters=function(e){if(angular.isUndefined(e))return this.filters;if(angular.isArray(e))return e;var t=e.split(/\s*,/);return this.filters.filter(function(e){return t.indexOf(e.name)!==-1},this)},i.prototype._render=function(){},i.prototype._folderFilter=function(e){return!(!e.size&&!e.type)},i.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},i.prototype._isValidFile=function(e,t,o){return this._failFilterIndex=-1,!t.length||t.every(function(t){return this._failFilterIndex++,t.fn.call(this,e,o)},this)},i.prototype._isSuccessCode=function(e){return e>=200&&e<300||304===e},i.prototype._transformResponse=function(e){return angular.forEach(o.defaults.transformResponse,function(t){e=t(e)}),e},i.prototype._parseHeaders=function(e){function t(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function o(e){return e.toLowerCase()}var r,n,i,s={};return e?(angular.forEach(e.split("\n"),function(e){i=e.indexOf(":"),r=o(t(e.substr(0,i))),n=t(e.substr(i+1)),r&&(s[r]=s[r]?s[r]+", "+n:n)}),s):s},i.prototype._xhrTransport=function(e){var t=e._xhr=new XMLHttpRequest,o=new FormData,r=this;r._onBeforeUploadItem(e),angular.forEach(e.formData,function(e){angular.forEach(e,function(e,t){o.append(t,e)})}),o.append(e.alias,e._file,e.file.name),t.upload.onprogress=function(t){var o=Math.round(t.lengthComputable?100*t.loaded/t.total:0);r._onProgressItem(e,o)},t.onload=function(){var o=r._parseHeaders(t.getAllResponseHeaders()),n=r._transformResponse(t.response),i=r._isSuccessCode(t.status)?"Success":"Error",s="_on"+i+"Item";r[s](e,n,t.status,o),r._onCompleteItem(e,n,t.status,o)},t.onerror=function(){var o=r._parseHeaders(t.getAllResponseHeaders()),n=r._transformResponse(t.response);r._onErrorItem(e,n,t.status,o),r._onCompleteItem(e,n,t.status,o)},t.onabort=function(){var o=r._parseHeaders(t.getAllResponseHeaders()),n=r._transformResponse(t.response);r._onCancelItem(e,n,t.status,o),r._onCompleteItem(e,n,t.status,o)},t.open(e.method,e.url,!0),t.withCredentials=e.withCredentials,angular.forEach(e.headers,function(e,o){t.setRequestHeader(o,e)}),t.send(o),this._render()},i.prototype._iframeTransport=function(e){var t=angular.element('<form style="display: none;" />'),o=angular.element('<iframe name="iframeTransport'+Date.now()+'">'),r=e._input,n=this;e._form&&e._form.replaceWith(r),e._form=t,n._onBeforeUploadItem(e),r.prop("name",e.alias),angular.forEach(e.formData,function(e){angular.forEach(e,function(e,o){t.append(angular.element('<input type="hidden" name="'+o+'" value="'+e+'" />'))})}),t.prop({action:e.url,method:"POST",target:o.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),o.bind("load",function(){try{var t=o[0].contentDocument.body.innerHTML}catch(e){}var r={response:t,status:200,dummy:!0},i=n._transformResponse(r.response),s={};n._onSuccessItem(e,i,r.status,s),n._onCompleteItem(e,i,r.status,s)}),t.abort=function(){var i,s={status:0,dummy:!0},a={};o.unbind("load").prop("src","javascript:false;"),t.replaceWith(r),n._onCancelItem(e,i,s.status,a),n._onCompleteItem(e,i,s.status,a)},r.after(t),t.append(r).append(o),t[0].submit(),this._render()},i.prototype._onWhenAddingFileFailed=function(e,t,o){this.onWhenAddingFileFailed(e,t,o)},i.prototype._onAfterAddingFile=function(e){this.onAfterAddingFile(e)},i.prototype._onAfterAddingAll=function(e){this.onAfterAddingAll(e)},i.prototype._onBeforeUploadItem=function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)},i.prototype._onProgressItem=function(e,t){var o=this._getTotalProgress(t);this.progress=o,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(o),this._render()},i.prototype._onSuccessItem=function(e,t,o,r){e._onSuccess(t,o,r),this.onSuccessItem(e,t,o,r)},i.prototype._onErrorItem=function(e,t,o,r){e._onError(t,o,r),this.onErrorItem(e,t,o,r)},i.prototype._onCancelItem=function(e,t,o,r){e._onCancel(t,o,r),this.onCancelItem(e,t,o,r)},i.prototype._onCompleteItem=function(e,t,o,r){e._onComplete(t,o,r),this.onCompleteItem(e,t,o,r);var n=this.getReadyItems()[0];return this.isUploading=!1,angular.isDefined(n)?void n.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())},i.isFile=i.prototype.isFile,i.isFileLikeObject=i.prototype.isFileLikeObject,i.isArrayLikeObject=i.prototype.isArrayLikeObject,i.isHTML5=i.prototype.isHTML5,i.inherit=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.super_=t},i.FileLikeObject=s,i.FileItem=a,i.FileDirective=p,i.FileSelect=l,i.FileDrop=u,i.FileOver=d,s.prototype._createFromFakePath=function(e){this.lastModifiedDate=null,this.size=null,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)},s.prototype._createFromObject=function(e){this.lastModifiedDate=angular.copy(e.lastModifiedDate),this.size=e.size,this.type=e.type,this.name=e.name},a.prototype.upload=function(){this.uploader.uploadItem(this)},a.prototype.cancel=function(){this.uploader.cancelItem(this)},a.prototype.remove=function(){this.uploader.removeFromQueue(this)},a.prototype.onBeforeUpload=function(){},a.prototype.onProgress=function(e){},a.prototype.onSuccess=function(e,t,o){},a.prototype.onError=function(e,t,o){},a.prototype.onCancel=function(e,t,o){},a.prototype.onComplete=function(e,t,o){},a.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},a.prototype._onProgress=function(e){this.progress=e,this.onProgress(e)},a.prototype._onSuccess=function(e,t,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(e,t,o)},a.prototype._onError=function(e,t,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(e,t,o)},a.prototype._onCancel=function(e,t,o){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(e,t,o)},a.prototype._onComplete=function(e,t,o){this.onComplete(e,t,o),this.removeAfterUpload&&this.remove()},a.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},a.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},a.prototype._replaceNode=function(e){var t=n(e.clone())(e.scope());t.prop("value",null),e.css("display","none"),e.after(t)},p.prototype.events={},p.prototype.bind=function(){for(var e in this.events){var t=this.events[e];this.element.bind(e,this[t])}},p.prototype.unbind=function(){for(var e in this.events)this.element.unbind(e,this.events[e])},p.prototype.destroy=function(){var e=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(e,1),this.unbind()},p.prototype._saveLinks=function(){for(var e in this.events){var t=this.events[e];this[t]=this[t].bind(this)}},i.inherit(l,p),l.prototype.events={$destroy:"destroy",change:"onChange"},l.prototype.prop="select",l.prototype.getOptions=function(){},l.prototype.getFilters=function(){},l.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},l.prototype.onChange=function(){var e=this.uploader.isHTML5?this.element[0].files:this.element[0],t=this.getOptions(),o=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(e,t,o),this.isEmptyAfterSelection()&&this.element.prop("value",null)},i.inherit(u,p),u.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},u.prototype.prop="drop",u.prototype.getOptions=function(){},u.prototype.getFilters=function(){},u.prototype.onDrop=function(e){var t=this._getTransfer(e);if(t){var o=this.getOptions(),r=this.getFilters();this._preventAndStop(e),angular.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(t.files,o,r)}},u.prototype.onDragOver=function(e){var t=this._getTransfer(e);this._haveFiles(t.types)&&(t.dropEffect="copy",this._preventAndStop(e),angular.forEach(this.uploader._directives.over,this._addOverClass,this))},u.prototype.onDragLeave=function(e){e.target===this.element[0]&&(this._preventAndStop(e),angular.forEach(this.uploader._directives.over,this._removeOverClass,this))},u.prototype._getTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},u.prototype._preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},u.prototype._haveFiles=function(e){return!!e&&(e.indexOf?e.indexOf("Files")!==-1:!!e.contains&&e.contains("Files"))},u.prototype._addOverClass=function(e){e.addOverClass()},u.prototype._removeOverClass=function(e){e.removeOverClass()},i.inherit(d,p),d.prototype.events={$destroy:"destroy"},d.prototype.prop="over",d.prototype.overClass="nv-file-over",d.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},d.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},d.prototype.getOverClass=function(){return this.overClass},i}]).directive("nvFileSelect",["$parse","FileUploader",function(e,t){return{link:function(o,r,n){var i=o.$eval(n.uploader);if(!(i instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');var s=new t.FileSelect({uploader:i,element:r});s.getOptions=e(n.options).bind(s,o),s.getFilters=function(){return n.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function(e,t){return{link:function(o,r,n){var i=o.$eval(n.uploader);if(!(i instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');if(i.isHTML5){var s=new t.FileDrop({uploader:i,element:r});s.getOptions=e(n.options).bind(s,o),s.getFilters=function(){return n.filters}}}}}]).directive("nvFileOver",["FileUploader",function(e){return{link:function(t,o,r){var n=t.$eval(r.uploader);if(!(n instanceof e))throw new TypeError('"Uploader" must be an instance of FileUploader');var i=new e.FileOver({uploader:n,element:o});i.getOverClass=function(){return r.overClass||this.overClass}}}}]);

},{}],141:[function(require,module,exports){
"use strict";var path=require("path"),moduleName=module.exports="ddWeb.widget.avatar",localLog=require("../../../service/log/localLog"),avatarType=require("./avatarType");require("./avatarGroup"),require("./avatarSingle"),require("../../../service/widget/avatar"),require("../../../service/user/userManager"),require("../../../service/modal/profileModal");var app=angular.module(moduleName,["ddWeb.widget.avatarGroup","ddWeb.widget.avatarSingle","ddWeb.service.avatar","ddWeb.user.userManager","ddWeb.service.profileModal",require("../../../service/user/UserType"),require("../../../service/widget/avatarExplainer"),require("../../../service/widget/groupAvatarExplainer")]);app.directive("ddAvatar",["avatarService","userManager","profileModalService","UserType","avatarExplainer","groupAvatarExplainer",function(i,e,n,o,r,a){return{restrict:"AE",replace:!0,scope:{mediaid:"=mediaid",uid:"=uid",icon:"=icon",extension:"=?extension",type:"=type",nick:"=nick",name:"=name",tag:"=tag",isShowModal:"=isShowModal",isShowPreview:"=",onShowPreview:"&"},link:function(i,t,d){function c(e){i.isSingle=e,i.isGroup=!e}function u(){i.isSingleIcon=i.isSingle||i._singlePersonGroupWithoutGroupIcon,i.isGroupIcon=!i.isSingleIcon}function s(){!i._groupIcon&&i.isGroup&&1===i._iconNum?i._singlePersonGroupWithoutGroupIcon=!0:i._singlePersonGroupWithoutGroupIcon=!1}function v(){s(),u()}i._uid=void 0,i._nick=void 0,i._name=void 0,i._mediaid=void 0,i._icon=void 0,i._groupIcon=void 0,i._singlePersonGroupWithoutGroupIcon=void 0,i._iconNum=void 0,i._childAvatarCanInit=!1,i._onShowPreview=function(){i.onShowPreview()},i.type===avatarType.SINGLE?c(!0):i.type===avatarType.MULTI&&c(!1),(i.mediaid||i.nick||i.name)&&c(!0),i.icon||(i._childAvatarCanInit=!0);var l=r;i.$watch("icon",function(n){if(n){var o=l.getUids(n);if(1===o.length&&o[0]===-1){i._iconNum=o.length,i._childAvatarCanInit=!0,v();var r=l.getIcons(n);return void(i._mediaid=r[0].mediaId)}e.getUsers(o).then(function(e){if(i._iconNum=e.length,i._childAvatarCanInit=!0,v(),1===e.length){if(i._uid=o[0],!e[0]){var r=l.getIcons(n);i._mediaid=r[0].mediaId,i._nick=r[0].nick,localLog.error("get user fail :"+JSON.stringify(o)+":"+JSON.stringify(e))}i.$digest()}else i._icon=o,i.$digest()},function(i){console.log(i)})}}),i.$watch(function(){return i.uid||i.nick||i.name||i.mediaid},function(e){e&&(i._uid=i.uid,i._nick=i.nick,i._name=i.name,i._mediaid=i.mediaid,c(!0),v())}),i.$watch(function(){return i.extension=i.extension||{},i.extension.icon+i.extension.use_enterprise_icon},function(){i._groupIcon=a.getGroupAvatarByGroupExtension(i.extension),v()}),i.isShowModal&&i.uid&&t.on("click",function(){e.getUsers([i.uid]).then(function(e){e[0].userProfileModel.type===o.ORDINARY_USER&&n(i.uid)})}),t.on("$destroy",function(){t.off("click")})},template:'<div class="avatar" ng-class="{\'single-chat\': isSingleIcon, \'group\': isGroupIcon , \'three\': isGroupIcon && _icon.length===3}">\n    <!-- 单人头像 -->\n    <div dd-avatar-single mediaid="_mediaid" uid="_uid" name="_name" nick="_nick" is-show-preview="isShowPreview" on-show-preview="_onShowPreview()" ng-if="isSingleIcon && _childAvatarCanInit"></div>\n    <!-- 多人头像 -->\n    <div dd-avatar-group icon="_icon" tag="tag" group-icon="_groupIcon" ng-if="isGroupIcon && _childAvatarCanInit"></div>\n</div>\n\n'}}]);

},{"../../../service/log/localLog":421,"../../../service/modal/profileModal":466,"../../../service/user/UserType":632,"../../../service/user/userManager":641,"../../../service/widget/avatar":656,"../../../service/widget/avatarExplainer":657,"../../../service/widget/groupAvatarExplainer":662,"./avatarGroup":142,"./avatarSingle":143,"./avatarType":144,"path":7}],142:[function(require,module,exports){
var path=require("path"),moduleName="ddWeb.widget.avatarGroup";require("../../../service/widget/avatar"),require("../../../service/user/userManager");var app=angular.module(moduleName,["ddWeb.service.avatar","ddWeb.user.userManager",require("../../log/imgErrorLog")]);app.directive("ddAvatarGroup",["avatarService","userManager",function(r,e){return{restrict:"AE",replace:!0,scope:{icon:"=icon",tag:"=tag",groupIcon:"=groupIcon"},link:function(a,o,n){function i(e){a.users=e.map(function(e){var a=e?r.getShowName(e.userProfileModel.nick,e.userProfileModel.name):"";return{user:e,showName:a,bgColor:{"background-color":r.getColor(a)}}})}a.users=[];var t=null,u=a.$watch("icon",function(r){r&&e.getUsers(a.icon).then(function(r){t=a.$watch(function(){return r},function(r){r&&i(r)},!0),a.$digest()})});o.on("$destroy",function(){u&&u(),t&&t()})},template:'<div>\n    <div class="avatar group-avatar" ng-if="groupIcon">\n        <img img-error-log ng-src="{{ groupIcon }}">\n    </div>\n    <div class="avatar group-member" ng-repeat="item in users" ng-style="item.bgColor" ng-if="!groupIcon">\n        <div class="avatar-text" ng-if="!item.user.userProfileModel.avatarUrl" ng-bind-html="item.showName|emoj"></div>\n        <img img-error-log ng-src="{{item.user.userProfileModel.avatarUrl}}">\n    </div>\n</div>\n',controllerAs:"avatar"}}]);

},{"../../../service/user/userManager":641,"../../../service/widget/avatar":656,"../../log/imgErrorLog":116,"path":7}],143:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.widget.avatarSingle";require("../../../service/widget/avatar"),require("../../../service/user/userManager"),require("../../../service/mediaId/mediaId");var app=angular.module(moduleName,["ddWeb.service.avatar","ddWeb.user.userManager","ddWeb.mediaId",require("../../log/imgErrorLog"),require("../../../service/img/imgPreviewService"),require("../../../service/log/log")]);app.directive("ddAvatarSingle",["avatarService","userManager","mediaId","imgPreviewService","log",function(e,r,a,i,n){return{restrict:"AE",replace:!0,scope:{mediaid:"=mediaid",uid:"=uid",nick:"=nick",name:"=name",isShowPreview:"=",onShowPreview:"&"},controller:["$scope",function(o){var l=this,t=null;l.style={},l.hasUrl=!1,l.showName="",l.url="";var d=function(r){r.url?(l.hasUrl=!0,l.url=r.url):(l.hasUrl=!1,l.showName=e.getShowName(r.nick,r.name),l.style={"background-color":e.getColor(l.showName)})};l.showAvatarPreview=function(){if(o.isShowPreview&&l.hasUrl){var e=a.url2Mid(l.url);e?(o.onShowPreview(),i.preview({mediaId:e},null,null,{hideSaveEmotion:!0,hideDownloadBtn:!0,hideSaveToCloud:!0})):n.error("avatarSingle showAvatarPreview url to mediaId error, url: "+l.url+" mediaId: "+e)}};var u=o.$watch("uid",function(e){if(e)r.getUsers([e]).then(function(e){if(Array.isArray(e)&&e[0]){var r=e[0];t&&t(),t=o.$watch(function(){return r.userProfileModel.avatarUrl||r.userProfileModel.nick||r.userProfileModel.name},function(e){e&&d({url:r.userProfileModel.avatarUrl,nick:r.userProfileModel.nick,name:r.userProfileModel.name})}),o.$digest()}});else{var i=o.mediaid?a.mid2Url(o.mediaid,{imageSize:"thumb"}):"";d({url:i,nick:o.nick,name:o.name})}});o.$on("$destroy",function(){u(),t&&t()})}],controllerAs:"avatar",link:function(e,r,a){},template:'<div ng-style="avatar.style">\n    <img ng-class="{ \'preview-img\': isShowPreview }"\n         ng-click="avatar.showAvatarPreview()"\n         ng-if="avatar.hasUrl"\n         ng-src="{{ avatar.url }}"\n         img-error-log>\n    <div ng-if="!avatar.hasUrl" ng-bind-html="avatar.showName | emoj" class="avatar-text"></div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../service/img/imgPreviewService":408,"../../../service/log/log":422,"../../../service/mediaId/mediaId":433,"../../../service/user/userManager":641,"../../../service/widget/avatar":656,"../../log/imgErrorLog":116,"path":7}],144:[function(require,module,exports){
"use strict";var avatarType={SINGLE:0,MULTI:1};module.exports=avatarType;

},{}],145:[function(require,module,exports){
"use strict";var path=require("path");require("../../filter/departNameFilter");var app=angular.module("ddWeb.widget.breadcrumbs",["ddWeb.filter.departNameFilter"]);app.directive("breadcrumbs",[function(){return{restrict:"AE",replace:!0,scope:{breadList:"=",change:"&onChange"},controller:["$scope",function(e){function r(){a.breadList=e.breadList}var a=this;this.change=function(r){e.change({key:r})},e.$watchCollection(function(){return e.breadList},function(e){r()})}],link:function(e,r,a){},controllerAs:"breadcrumbs",template:'<ul class="breadcrumb-wrapper">\n    <li class="breadcrumb" ng-repeat="item in breadcrumbs.breadList">\n      <a ng-if="!$last" href="#" ng-click=\'breadcrumbs.change(item.key);\'>{{item.displayName|departNameFilter}}</a>\n      <span ng-if="$last">{{item.displayName|departNameFilter}}</span>\n    </li>\n</ul>\n'}}]);

},{"../../filter/departNameFilter":192,"path":7}],146:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.checkbox";angular.module(moduleName,[]).directive("ddCheckbox",function(){return{restrict:"A",scope:{model:"=ngModel",checked:"=checked",unchecked:"=unchecked"},link:function(e,c,d,o){function n(){e.model?c.addClass("checked"):c.removeClass("checked")}c.on("click",function(){e.$apply(function(){1==e.model?(e.unchecked&&e.unchecked(),e.model=!1):(e.checked&&e.checked(),e.model=!0)}),n()}),e.$watch("model",function(e){n()}),e.$on("$destroy",function(){c.off("click")})}}}),module.exports=moduleName;

},{}],147:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.cloudDisk",localLog=require("../../service/log/localLog"),app=angular.module(moduleName,[require("../../service/microApp/space"),require("../../service/microApp/appList"),require("../../service/openWindow/openWindow"),require("@ali/ding-api").interface.AlimeiTicket]);app.directive("cloudDisk",["spaceApp","$OpenWindow","AlimeiTicket","appList",function(e,i,o,c){return{restrict:"E",replace:!0,link:function(e,s,r){e.isShowCloudDisk=!1,s.on("click",".extra-item-box",function(){var e=new i;o.getLink(c.space.id+"","",function(i){200===i.code?(e.resolve(i.body),localLog.info("get space ticket success ")):localLog.error("get space ticket failure : "+JSON.stringify(i))})}),e.isShowFont=!0},template:['<li class="cloud-drive extra-item" ng-show="isShowCloudDisk" log="tab_space_click">','<div class="extra-item-box"><i class="iconfont">&#xe660;</i><span class="font" ng-if="isShowFont">钉盘</span></div>',"</li>"].join("")}}]),module.exports=moduleName;

},{"../../service/log/localLog":421,"../../service/microApp/appList":434,"../../service/microApp/space":440,"../../service/openWindow/openWindow":532,"@ali/ding-api":711}],148:[function(require,module,exports){
require("../../service/widget/contextMenu");var moduleName=module.exports="ddWeb.widget.contextMenu";angular.module(moduleName,["ddWeb.service.contextMenu"]).directive("contextMenu",["$rootScope","$compile","$document","contextMenuService",function(e,t,n,m){return{restrict:"AE",scope:{menuData:"@",menuItems:"@",menuItemGet:"=",menuItemClick:"=",menuItemDisabled:"@"},link:function(t,n,u){n.addClass("context-menu"),n.bind("contextmenu",function(o){t.menuItemDisabled||(o.preventDefault(),o.stopPropagation(),e.$apply(function(){m.show({element:n,attrs:u,eventObj:o,menuData:t.menuData,menuItems:t.menuItems,menuItemGet:t.menuItemGet,menuItemClick:t.menuItemClick,menuItemDisabled:t.menuItemDisabled})}))}),t.$on("$destroy",function(){n.unbind("contextmenu")})}}}]);

},{"../../service/widget/contextMenu":659}],149:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.countdown",app=angular.module(moduleName,[]);app.directive("countdown",["$interval","$parse",function(e,t){return{restrict:"E",replace:!0,scope:{countFrom:"=countFrom",onTimeout:"&onTimeout"},template:'<div class="send-form-button-mask">{{timeout}} s</div>',controller:["$scope",function(t){var o=null;t.$watch("countFrom",function(n){if(n&&!isNaN(parseInt(n))){var u=parseInt(n);t.timeout=u,e.cancel(o),o=e(function(){t.timeout--,0===t.timeout&&(e.cancel(o),t.onTimeout())},1e3)}else t.timeout=0}),t.$on("$destroy",function(){e.cancel(o)})}]}}]),module.exports=moduleName;

},{}],150:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.dd-dropdown",path=require("path"),ddDropDown=angular.module(moduleName,[]);ddDropDown.directive("ddDropDownChoices",["$compile",function(e){return{restrict:"AE",transclude:!0,replace:!0,require:"^ddDropDown",template:'<div class="dd-dropdown-choices">\n    <div class="tri">\n        <div class="tri-border tb-border"></div>\n        <div class="tri-border tb-back"></div>\n    </div>\n    <ul class="menus">\n        <li class="dd-dropdown-choices-row menu">\n            <div class="dd-dropdown-choices-row-inner"></div>\n        </li>\n    </ul>\n</div>\n',controller:["$scope",function(e){}],controllerAs:"ddDropDownChoices",compile:function(o,n){return function(o,n,t,r,c){o.ddDropDownCtrl=r;var d=o.ddDropDownChoices;d.onSelect=function(e,n){var t=Promise.resolve();r.onBeforeSelect&&(t=t.then(function(){return r.onBeforeSelect(n)})),t.then(function(){e.stopPropagation(),r.open=!r.open,r.$selectItem=n,r.onSelect&&r.onSelect(n),o.$evalAsync(function(){})}).catch(function(){})};var l=n.querySelectorAll(".dd-dropdown-choices-row"),i=n.querySelectorAll(".dd-dropdown-choices-row-inner");l.attr("ng-repeat","$repeatItem in ddDropDownCtrl.repeatData").attr("ng-click","ddDropDownChoices.onSelect($event,$repeatItem)"),c(o,function(t){i.append(t),o.$on("$destroy",function(){t.remove()}),e(n,c)(o)})}}}}]).directive("ddDropDownMatch",["$compile",function(e){return{restrict:"AE",transclude:!0,replace:!0,require:"^ddDropDown",template:'<div class="dd-dropdown-match"></div>',controller:["$scope",function(e){}],controllerAs:"ddDropDownMatch",compile:function(e,o){return function(e,o,n,t,r){e.ddDropDownMatch;r(e,function(e){o.append(e)});var c=n.toOpenEl,d=null;c?(d=o.find(".to-open-el"),o.on("click.toOpenEl",function(){t.onSelect&&t.onSelect(t.$selectItem);try{e.$apply()}catch(e){}})):d=o,d.on("click.ddDropDownMatch",function(){t.open=!t.open;try{e.$digest()}catch(e){}return!1}),e.$on("$destroy",function(){d.off("click"),o.off("click")}),e.$watch(function(){return t.$selectItem},function(o){e.$selectItem=o})}}}}]).directive("ddDropDown",["$document",function(e){return{restrict:"AE",transclude:!0,replace:!0,template:'<div class="dd-dropdown dropdown" ng-class="{\'active\':ddDropDownCtrl.open}"><div class="dd-dropdown-match"></div><div class="dd-dropdown-choices"></div></div>',controller:["$scope",function(e){this.open=!1}],controllerAs:"ddDropDownCtrl",scope:{repeatData:"=repeatData",onSelect:"=onSelect",ngModel:"=ngModel",onBeforeSelect:"&",isWatchRepeat:"="},compile:function(o,n){return function(o,n,t,r,c){var d=o.ddDropDownCtrl;d.repeatData=o.repeatData,d.onSelect=o.onSelect,d.$selectItem=o.ngModel,d.onBeforeSelect=o.onBeforeSelect(),c(o,function(e){var o=angular.element("<div>").append(e),t=o.querySelectorAll(".dd-dropdown-match");n.querySelectorAll(".dd-dropdown-match").replaceWith(t);var r=o.querySelectorAll(".dd-dropdown-choices");n.querySelectorAll(".dd-dropdown-choices").replaceWith(r)}),e.on("click.ddDropdown",function(e){var t=$(e.target);0===t.closest(n).length&&(d.open=!1),o.$digest()}),o.$on("$destroy",function(){e.off("click.ddDropdown")}),o.$watch(function(){return d.$selectItem},function(e){o.ngModel=e}),o.isWatchRepeat&&o.$watch("repeatData",function(e){d.repeatData=e})}}}}]),module.exports=moduleName;

},{"path":7}],151:[function(require,module,exports){
var moduleName="ddWeb.widget.ddClickUrl",directiveName="ddClickUrl",ua=require("../../service/ua"),nw=require("../../service/app/nw");angular.module(moduleName,[]).directive(directiveName,[function(){return{restrict:"AE",link:function(e,t){var r=function(e,t){if(ua.isDesktop&&!(!e instanceof HTMLAnchorElement)){var r=$(e).attr("href"),i=$(e).attr("download");return!r||"http"!==r.slice(0,4)&&"//"!==r.slice(0,2)&&"mailto:"!==r.slice(0,7)?void t.preventDefault():void(!i&&r&&(t.preventDefault(),nw.openExternal(r)))}};t[0]&&t[0].addEventListener("click",function(e){if(e.target)if(e.target instanceof HTMLAnchorElement)r(e.target,e);else{var t=$(e.target),i=t.closest("a");i&&i[0]&&r(i[0],e)}},!1)}}}]),module.exports=moduleName;

},{"../../service/app/nw":255,"../../service/ua":621}],152:[function(require,module,exports){
var moduleName="ddWeb.widget.ddCopy",ua=require("../../service/ua"),limitConfig=require("../../service/limitConfig"),semver=require("semver"),fileTypes=require("@ali/ding-filetypes"),app=angular.module(moduleName,[require("../../service/mediaId/mediaId"),require("../../service/toast/toast"),require("../../service/log/log")]);app.directive("ddCopy",["mediaId","toastService","$log",function(e,r,t){return{restrict:"AE",link:function(i,a,n){function o(e){var r=_nwrequire("url");if(e&&"//"===e.slice(0,2))return"auto:";var t="";try{t=r.parse(e).protocol}catch(e){return""}return t}function u(e){var r=o(e),t=null;if("https:"===r?t=_nwrequire("https"):"http:"===r?t=_nwrequire("http"):"auto:"===r&&(t=_nwrequire("http"),e="http:"+e),!t)return Promise.reject(new Error("protocol error"));var i=_nwrequire("bl");return new Promise(function(r,a){var n=t.request(e,function(e){if(200==e.statusCode){var t="data:"+e.headers["content-type"]+";base64,",n=i();e.on("data",function(e){n.append(e)}),e.on("end",function(){var e=n.toString("base64");r(t+e)})}else a(new Error("request result code is "+e.statusCode))});n.end(),n.on("error",function(e){a(e)})})}function s(e,i){var a=_nwrequire("nw.gui"),n=_nwrequire("@ali/dingtalk-sqlite3").ClipBoardProvider,o=new n,s=a.Clipboard.get();u(e).then(function(e){e.startsWith("data:image/jpeg")?s.set(e,"jpeg",!1):s.set(e,"png",!1),i&&o.addCustomData(i,"mediaid")},function(e){e instanceof Error&&t.error(e.message),r.show("图片获取失败，请重试",{type:"error"}),i&&o.addCustomData(i,"mediaid")})}function d(e,r,t){t&&e.setData("mediaid",t),e.setData("text/html",'<img src="'+r+'"/>')}function l(e){var r=["jpg","png"],t=fileTypes.getTypeByName(e);return r.indexOf(t)!==-1}$(document).on("copy.ddCopy",function(r){var t=r.target;if("IMG"===t.nodeName){if(ua.isNw){var i=$(t).attr("src"),a=$(t).attr("data-ng-imgname")||"",n=i.split("/").pop(),o=e.url2Mid(i),u=o&&"@"===o[0],c=u&&o!==n;o=o+"|"+a,r.preventDefault(),ua.isWin&&ua.isNw&&l(n)?c?s(i,o):s(i):c?d(r.originalEvent.clipboardData,i,o):d(r.originalEvent.clipboardData,i)}}else ua.isNw&&setTimeout(function(){var e=_nwrequire("nw.gui"),r=e.Clipboard.get(),t=r.get("text");r.clear(),r.set(t,"text")},10)})}}}]),module.exports=moduleName;

},{"../../service/limitConfig":414,"../../service/log/log":422,"../../service/mediaId/mediaId":433,"../../service/toast/toast":611,"../../service/ua":621,"@ali/ding-filetypes":714,"semver":930}],153:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.widget.ddInput";angular.module(moduleName,[]).directive("ddInput",[function(){return{restrict:"AE",replace:!0,scope:{isMulti:"=",onChange:"&"},controller:["$scope",function(e){this.multi=e.isMulti?"multiple":"",this.onChange=e.onChange()}],link:function(e,t,n){var u=e.ddInput,i=function(e){u.onChange&&u.onChange(e),e.target.value=""};t[0].addEventListener("change",i),t.one("$destroy",function(){t[0].removeEventListener("change",i)})},controllerAs:"ddInput",template:'<input type="file" multiple="ddInput.multi" />\n'}}]),module.exports=moduleName;

},{"path":7}],154:[function(require,module,exports){
angular.module("ddWeb.widget.dropdown",[]).directive("semanticDropdown",["$timeout",function(n){return{restrict:"A",scope:{action:"@"},link:function(t,o,i){n(function(){o.dropdown({action:t.action||"activate"})},0)}}}]);

},{}],155:[function(require,module,exports){
var path=require("path");require("../../service/toast/toast"),require("../../filter/emoj"),angular.module("ddWeb.widget.editBar",["ddWeb.toast","ddWeb.filter.emoj"]).directive("editBar",["$timeout","toastService",function(t,i){return{restrict:"AE",scope:{customValue:"=customValue",saveAction:"=saveAction",defaultValue:"=defaultValue",isEditBarOpen:"=isEditBarOpen"},controller:["$scope",function(t){}],link:function(t,e,a){function n(){try{t.$digest()}catch(t){}}function s(){var e={};if(!o.isSaving){if(o.toEditValue.length>20)return void i.show("备注名不能超过20个字符",{type:"error"});o.isSaving=!0,e.value=o.toEditValue,t.saveAction?t.saveAction(e).then(function(){o.isSaving=!1,n(),setTimeout(function(){o.isEdit=!1,t.isEditBarOpen=!1,n()},0)},function(){o.isSaving=!1,n()}):(o.isEdit=!1,o.isSaving=!1)}}function r(){o.isEdit=!0,t.isEditBarOpen=!0}var o=t.editBarCtrl;o.isEdit=!1,o.shownValue="",o.isSaving=!1,t.defaultValue&&(o.toEditValue=t.defaultValue),t.customValue&&(o.shownValue=t.customValue,o.toEditValue=t.customValue),o.saveAction=s,o.editAction=r,t.$watch(function(){return t.customValue},function(t){o.shownValue=t})},controllerAs:"editBarCtrl",template:'<span class="alias" ng-bind-html="editBarCtrl.shownValue|emoj" ng-if="!editBarCtrl.isEdit"></span>\n<a href="javascript:;" ng-click="editBarCtrl.editAction($event)" ng-if="!editBarCtrl.isEdit"><i class="iconfont icon-modify-alias">&#xe62a;</i></a>\n<input ng-if="editBarCtrl.isEdit" type="text" class="input alias-input" ng-model="editBarCtrl.toEditValue"  focus="\'true\'">\n<button class="small alias-button edit-bar-confirm-btn" ng-click="editBarCtrl.saveAction($event)" ng-if="editBarCtrl.isEdit"><span ng-if="editBarCtrl.isSaving">确认中</span><span ng-if="!editBarCtrl.isSaving">确认</span>\n</button>\n'}}]);

},{"../../filter/emoj":193,"../../service/toast/toast":611,"path":7}],156:[function(require,module,exports){
"use strict";var moduleName=module.exports="ddWeb.directive.extContactLabel",path=require("path"),colorTrans=require("../../service/widget/colorTrans.js"),app=angular.module(moduleName,[]);app.directive("extContactLabel",["$parse","$timeout",function(e,t){return{restrict:"E",translate:!0,replace:!0,scope:{color:"=",text:"="},link:function(e,t,r){var o=function(e){return colorTrans.transFromARGB(e)};e.color&&t.css("color",o(e.color))},template:'<div class="ext-contact-label">\n    {{::text}}\n</div>\n'}}]);

},{"../../service/widget/colorTrans.js":658,"path":7}],157:[function(require,module,exports){
"use strict";var app=angular.module("ddWeb.widget.focus",[]);app.directive("focus",["$parse","$timeout",function(e,t){return{restrict:"A",scope:{focus:"=focus"},link:function(e,t,u){e.focus&&setTimeout(function(){t[0].focus();var e=t.val().length;t[0].setSelectionRange(e,e)},20)}}}]);

},{}],158:[function(require,module,exports){
var INTEGER_REGEXP=/^\-?\d+$/,app=angular.module("ddWeb.widget.formValidation",[]);app.directive("formNumber",function(){return{restrict:"A",require:"^ngModel",link:function(t,e,i,n){var r=1*i.length;n.$parsers.unshift(function(t){return t.length!=r?n.$setValidity("length",!1):n.$setValidity("length",!0),INTEGER_REGEXP.test(t)?(n.$setValidity("number",!0),t):void n.$setValidity("number",!1)})}}});

},{}],159:[function(require,module,exports){
"use strict";require("./hoverTip");var path=require("path"),moduleName="ddWeb.widget.hotkey",ua=require("../../service/ua"),app=angular.module(moduleName,["ddWeb.widget.hoverTip",require("../../service/widget/hotkeyManager")]);app.directive("hotkey",["hotkeyManager",function(e){return{restrict:"E",scope:{identifier:"@",hotkeySetting:"="},controller:[function(){this.hintText="请定义快捷键"}],link:function(t,n,o,i){function r(e){return e[0].toUpperCase()+e.slice(1)}function l(e){var t=e.ctrlKey||e.altKey||e.shiftKey;return ua.isMac?u(e)||t:t}function u(e){return e.metaKey&&!e.ctrlKey}function a(e){return e.ctrlKey}var c={33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"},h=function(e){return!l(e)&&!c[e.keyCode]},y=function(e){return c[e.keyCode]&&!l(e)},f=function(e){var t="";return a(e)?t+="Ctrl+":u(e)&&(t+="Command+"),e.altKey&&(t+="Alt+"),e.shiftKey&&(t+="Shift+"),c[e.keyCode]&&(t+=r(c[e.keyCode])),t},s=function(e){return e&&e.length>0&&"+"!==e.slice(-1)},k=n.find("input"),d=t.identifier,p=e.getHotkey(d);i.hotkey=p,i.hasKey=function(){return k.val().length>0},i.clear=function(){t.hotkeySetting=""},i.setHotkey=function(e){var n=p.value;t.hotkeySetting="",k.on("keydown.hotkey",function(e){e.preventDefault(),h(e)||y(e)||(t.hotkeySetting=f(e),t.$apply())}),k.on("keyup.hotkey",function(e){e.preventDefault(),s(t.hotkeySetting)||(t.hotkeySetting=n),t.$apply()})},i.finish=function(){k.off("keydown.hotkey"),k.off("keyup.hotkey")}},controllerAs:"hotkeyController",template:'<div class="setting-item active-window-item">\n    <span class="rem" >{{hotkeyController.hotkey.keyInfo}}</span>\n    <div class="cleaning-input">\n        <input identifier="{{identifier}}" class="input window-shortcuts" placeholder="{{hotkeyController.hintText}}" ng-model="hotkeySetting" ng-focus="hotkeyController.setHotkey($event)" ng-blur="hotkeyController.finish();"/>\n        <a href="javascript:;"><i class="iconfont icon-clean-input"  htitle="清空快捷键" htitle-offset="left" ng-show="hotkeyController.hasKey()" ng-click="hotkeyController.clear()">&#xe632;</i></a>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../service/ua":621,"../../service/widget/hotkeyManager":663,"./hoverTip":161,"path":7}],160:[function(require,module,exports){
var app=angular.module("ddWeb.hoverAnimate",[]);app.directive("hoverAnimate",["$timeout",function(e){return{restrict:"AE",link:function(e,t,n){var i=n.hoverAnimate,o=$(i),c=null,u=null;t.hover(function(){clearTimeout(u),o.css({zIndex:10}),c=setTimeout(function(){o.css({left:-220,opacity:1})},120)},function(){clearTimeout(c),o.css({left:-150,opacity:0}),u=setTimeout(function(){o.css({zIndex:-2})},500)})}}}]);

},{}],161:[function(require,module,exports){
var moduleName=module.exports="ddWeb.widget.hoverTip";angular.module(moduleName,[]).directive("htitle",["$filter",function(t){return{restrict:"A",link:function(e,i,r){var o=(r.htitileshow,{formatter:function(e){return t("emoj")(e.$target.attr("htitle"))},horiOffset:r.htitleOffset?r.htitleOffset:"right"});r.htitleDirection&&(o.direction=r.htitleDirection),i.tipper(o);var n=e.$watch(r.htitleshow,function(t){t===!1&&i.tipper("destroy"),n()});i.one("$destroy",function(){i.tipper("destroy")})}}}]);

},{}],162:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.layoutResize",_=require("lodash"),layoutResizeDirection=require("../../service/layoutResize/layoutResizeDirection"),cursorType={NS:"ns",EW:"ew",S:"s",W:"w",E:"e",N:"n"},cursorMap={};cursorMap[layoutResizeDirection.LEFT]={default:cursorType.EW,max:cursorType.E,min:cursorType.W,fnName:"width"},cursorMap[layoutResizeDirection.RIGHT]={default:cursorType.EW,max:cursorType.W,min:cursorType.E,fnName:"width"},cursorMap[layoutResizeDirection.TOP]={default:cursorType.NS,max:cursorType.S,min:cursorType.N,fnName:"height"},cursorMap[layoutResizeDirection.BOTTOM]={default:cursorType.NS,max:cursorType.N,min:cursorType.S,fnName:"height"};var ddStorage=require("../../service/storage/ddStorage");angular.module(moduleName,[]).directive("layoutResize",[function(){return{restrict:"A",scope:{storageKey:"=",layoutResizeDirection:"=layoutResize",maxWidth:"=",minWidth:"=",maxHeight:"=",minHeight:"=",resized:"&onResized",startResize:"&onStartResize",resizing:"&onResizing"},link:function(e,t,i){if(layoutResizeDirection){e.storageKey&&ddStorage.getItemWithUid(e.storageKey)&&t[cursorMap[e.layoutResizeDirection].fnName](ddStorage.getItemWithUid(e.storageKey));var r=angular.element(document.createElement("div")),a=angular.element("body"),o=angular.element(document.createElement("div")),s=angular.element(window);o.addClass("cursor-mask");var n=function(e){Object.keys(cursorType).forEach(function(t){e.removeClass(cursorType[t])})};r.addClass("layout-resize-"+e.layoutResizeDirection),t.append(r);var u,c,l,d,m=function(i){c={left:i.clientX,top:i.clientY};var r=function(t,i,r){var a=!1,s=!1;i&&t<i&&(t=i,s=!0),r&&t>r&&(t=r,a=!0);var u=function(e,t,i){n(o),i?o.addClass(cursorMap[e].max):t?o.addClass(cursorMap[e].min):o.addClass(cursorMap[e].default)};return u(e.layoutResizeDirection,s,a),t},a={};a[layoutResizeDirection.LEFT]={getEndValue:function(){var t=l+u.left-c.left;return r(t,e.minWidth,e.maxWidth)},setFnName:"width"},a[layoutResizeDirection.RIGHT]={getEndValue:function(){var t=l+c.left-u.left;return r(t,e.minWidth,e.maxWidth)},setFnName:"width"},a[layoutResizeDirection.TOP]={getEndValue:function(){var t=d+u.top-c.top;return r(t,e.minHeight,e.maxHeight)},setFnName:"height"},a[layoutResizeDirection.BOTTOM]={getEndValue:function(){var t=d+c.top-u.top;return r(t,e.minHeight,e.maxHeight)},setFnName:"height"};var s=a[e.layoutResizeDirection].getEndValue();t[a[e.layoutResizeDirection].setFnName](s);var m=t[a[e.layoutResizeDirection].setFnName]();m!=s&&(t[a[e.layoutResizeDirection].setFnName](m),o.addClass(cursorMap[e.layoutResizeDirection].max)),e.resizing&&_.isFunction(e.resizing)&&e.resizing()},y=function(i){n(o),o.remove(),s.off("mousemove.layResize",m),e.storageKey&&ddStorage.setItemWithUid(e.storageKey,t[cursorMap[e.layoutResizeDirection].fnName]()),e.resized&&_.isFunction(e.resized)&&e.resized()},z=function(i){e.startResize&&_.isFunction(e.startResize)&&e.startResize(),l=t.width(),d=t.height(),u=r.offset(),a.append(o),o.addClass(cursorMap[e.layoutResizeDirection].default),s.on("mousemove.layResize",m),s.one("mouseup.layResize",y)};r.on("mousedown.layResize",z),t.on("$destroy",function(){r.off("mousedown.layResize",z)})}}}}]),module.exports=moduleName;

},{"../../service/layoutResize/layoutResizeDirection":413,"../../service/storage/ddStorage":605,"lodash":919}],163:[function(require,module,exports){
var moduleName="ddWeb.widget.loading",path=require("path");angular.module(moduleName,[]).directive("loading",[function(){return{restrict:"AE",replace:!0,scope:{position:"=position"},link:function(o,n,e){},controllerAs:"loading",template:'<span class="loading" ng-class="{\'on-top\':position===\'top\',\'on-bottom\':position===\'bottom\'}">\n    <div class="bounce1"></div>\n    <div class="bounce2"></div>\n    <div class="bounce3"></div>\n</span>'}}]),module.exports=moduleName;

},{"path":7}],164:[function(require,module,exports){
var moduleName="ddWeb.widget.localTime";angular.module(moduleName,[]).directive("localTime",function(){return{restrict:"AE",scope:{},link:function(e,t,o){var n,r=function(e,t){t||(t=2),e=String(e);for(var o=0,n="";o<t-e.length;o++)n+="0";return n+e};!function e(){var o=new Date,u=o.getFullYear(),i=r(o.getMonth()+1),l=r(o.getDate()),a=r(o.getHours()),m=r(o.getMinutes()),c=r(o.getSeconds());t.html(u+"年"+i+"月"+l+"日  "+a+":"+m+":"+c),n=setTimeout(e,1e3)}(),e.$on("$destroy",function(){clearTimeout(n)})}}}),module.exports=moduleName;

},{}],165:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.widget.phoneInput";require("./dd-dropdown/dd-dropdown"),require("../../service/widget/countryService"),require("./focus");var app=angular.module(moduleName,["ddWeb.widget.dd-dropdown","ddWeb.service.countryService","ddWeb.widget.focus"]);app.directive("phoneInput",["$timeout","countryService",function(n,e){return{restrict:"AE",scope:{phone:"=phone",focusOn:"=focusOn",countryKey:"=countryKey",onChange:"&onChange"},link:function(n,e,o,t){var r=e.find("input");r.on("blur.phoneInput",function(){t.triggerChange(),n.$apply()}),r.on("input.phoneInput",function(e){t.triggerChange(),n.$apply()}),e.on("$destroy",function(){r.off("blur.phoneInput"),r.off("input.phoneInput")})},controller:["$scope","$translate",function(n,o){n.countdownstart=void 0!==n.countdownstart&&n.countdownstart;var t=this;t.text={dt_login_mobile_input_placeholder:o.instant("dt_login_mobile_input_placeholder")},t.telephone=n.phone,t.focusOn=!!n.focusOn,t.countryData=e.getAllCountryData(),n.countryKey?t.currentCountry=e.getCountryByNameOrCode(n.countryKey):t.currentCountry=t.countryData[0],t.onSelect=function(e){n.countryKey=e.countryKey,t.triggerChange()},t.triggerChange=function(){n.phone=t.telephone;var e=/^\d+$/,o=e.test(n.phone);n.onChange({data:{phone:n.phone,countryKey:n.countryKey,isValid:o}})}}],controllerAs:"phoneInput",template:'<dd-drop-down\n    class="select-country"\n    repeat-data="phoneInput.countryData"\n    on-select="phoneInput.onSelect"\n    ng-model="phoneInput.currentCountry"\n    >\n    <dd-drop-down-match class="eye selected-country">\n\n        <span class="country-code">{{$selectItem.countryCode}}</span>\n        <i class="iconfont">&#xe633;</i>\n    </dd-drop-down-match>\n    <dd-drop-down-choices>\n        <span class="country-code">{{$repeatItem.countryCode}}</span>\n        <span class="country-name">{{$repeatItem.countryName}}</span>\n    </dd-drop-down-choices>\n</dd-drop-down>\n\n\n<input type="text" focus="phoneInput.focusOn" name="telephone" placeholder="{{::phoneInput.text.dt_login_mobile_input_placeholder}}" ng-model="phoneInput.telephone" required class="fm-input telephone" />\n'}}]),module.exports=moduleName;

},{"../../service/widget/countryService":660,"./dd-dropdown/dd-dropdown":150,"./focus":157,"path":7}],166:[function(require,module,exports){
var app=angular.module("ddWeb.preventDrag",[]);app.directive("preventDrag",["$timeout",function(e){return{restrict:"AE",link:function(e,n,t){n.bind("dragover",function(e){e.preventDefault()}).bind("dragleave",function(e){e.preventDefault()}).bind("drop",function(e){e.preventDefault()})}}}]);

},{}],167:[function(require,module,exports){
"use strict";var moduleName="ddWeb.progressBar",app=angular.module(moduleName,[]);app.directive("progressBar",[function(){return{restrict:"AE",replace:!0,scope:{progress:"=progress",isHideAfterFinish:"=isHideAfterFinish"},link:function(e,s,i){var r=s.find(".progress-thumb");s[0].style.display="none";var t=null;e.$watch("progress",function(i){100!==i&&(clearTimeout(t),s[0].style.display="block"),0===i&&(r[0].style.width=0),r.stop().animate({width:i+"%"},150,"linear",function(){100===i&&e.isHideAfterFinish&&(t=setTimeout(function(){s[0].style.display="none"},100))})}),e.$on("$destroy",function(){clearTimeout(t)})},template:['<div class="progress">','<div class="progress-thumb"></div>',"</div>"].join("")}}]),module.exports=moduleName;

},{}],168:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.widget.radiobox";angular.module(moduleName,[]).directive("ddRadiobox",function(){return{restrict:"E",scope:{model:"=ngModel",value:"@"},replace:!0,transclude:!0,link:function(e,a,d){},template:'<div>\n    <label class="radiobox">\n        <input type="radio" ng-model="model" ng-value="value">\n        <span class="radiobox-input"></span><ng-transclude></ng-transclude>\n    </label>\n</div>\n'}}),module.exports=moduleName;

},{"path":7}],169:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.widget.searchInput";angular.module(moduleName,[]).directive("searchInput",["$document","$rootScope","$timeout",function(n,e,o){return{restrict:"E",scope:{placeholder:"=",isOpen:"=",preventCloseSelectors:"=",onSearch:"&"},replace:!0,controller:["$scope",function(n){var e=this;e.keyword="",e.search=function(){n.onSearch({keyword:e.keyword})},e.open=function(){n.isOpen||(n.isOpen=!0,e.focusInput())},e.close=function(){e.clear(),n.isOpen&&(n.isOpen=!1)},e.clear=function(){e.keyword="",e.search(),e.focusInput()},e.toggle=function(){n.isOpen?e.close():e.open()}}],controllerAs:"searchInput",link:function(c,t,i){var r=c.searchInput,s=t.find(".search-input-container input"),a=[],u=!1,l=300;r.syncTimer=null,r.focusInput=function(){a.push(setTimeout(function(){s.length&&s.focus()},0))};var p=function(){u=!0},f=function(){u=!1},h=function(){u||(r.syncTimer&&o.cancel(r.syncTimer),r.syncTimer=o(function(){r.search()},l))},d=function(o){var i=t.has(o.target).length>0,s=Array.isArray(c.preventCloseSelectors)?c.preventCloseSelectors:[],a=s.map(function(e){return n.find(e)}),u=a.some(function(n){return n.is(o.target)||n.has(o.target).length>0});i||u||!c.isOpen||(r.close(),e.$digest())};n.on("click",d),s.on("input",h),s.on("compositionstart",p),s.on("compositionend",f),c.$on("$destroy",function(){n.off("click",d),s.off("input",h),s.off("compositionstart",p),s.off("compositionend",f),a.forEach(function(n){clearTimeout(n)}),r.syncTimer&&o.cancel(r.syncTimer)})},template:'<div class="search-input">\n    <div class="search-input-container" ng-class="{ \'active\': isOpen }">\n        <input ng-model="searchInput.keyword" type="text" placeholder="{{ placeholder }}">\n    </div>\n    <div class="search-input-icon">\n        <i class="remove-icon iconfont"\n           ng-show="searchInput.keyword.length > 0"\n           ng-click="searchInput.clear()">&#xe68b;</i>\n        <i class="search-icon iconfont" ng-click="searchInput.toggle()">&#xe604;</i>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"path":7}],170:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),emoji=require("../../../service/emoji/emoji");require("../../../filter/emoj"),require("./../avatar/avatar");var moduleName="ddWeb.widget.chatRecordItem";angular.module(moduleName,["ddWeb.widget.avatar","ddWeb.filter.emoj",require("../../../service/safe/safe"),require("../../../filter/texthighlight")]).directive("chatRecordItem",["safe","$filter",function(e,r){return{restrict:"E",scope:{keyword:"=",record:"=",highlight:"=",onItemClick:"&",onMouseEnter:"&"},replace:!0,controller:["$scope","$sce",function(e,o){var t=this;t.onItemClick=function(){e.onItemClick&&e.onItemClick({record:e.record})},t.onMouseEnter=function(){e.onMouseEnter&&e.onMouseEnter({record:e.record})},t.recordItemMsg=r("textHighlight")(e.record.model.content,e.keyword)}],controllerAs:"chatRecordItem",link:function(e,r,o){},template:'<div class="record-item"\n     ng-class="{ \'search-item-highlighted\': highlight }"\n     ng-click="chatRecordItem.onItemClick()"\n     ng-mouseenter="chatRecordItem.onMouseEnter()">\n    <div class="record-item-icon">\n        <dd-avatar\n            mediaid="record.model.avatarMediaId"\n            uid="record.model.uid"\n            nick="record.model.nick"\n            name="record.model.name"\n            icon="record.model.icon"\n            tag="record.model.tag"\n            extension="record.model.extension"\n            type="record.model.avatarType"\n            >\n        </dd-avatar>\n    </div>\n    <div class="record-item-detail">\n        <div class="record-item-info">\n            <div class="record-item-title" ng-bind-html="record.text | emoj"></div>\n            <div class="record-item-time">{{ record.model.msgTime | dateTime }}</div>\n        </div>\n        <div class="record-item-info">\n            <p class="record-item-message" ng-bind-html="chatRecordItem.recordItemMsg"></p>\n        </div>\n    </div>\n</div>\n'}}]),module.exports=moduleName;
},{"../../../filter/emoj":193,"../../../filter/texthighlight":197,"../../../service/emoji/emoji":364,"../../../service/safe/safe":545,"./../avatar/avatar":141,"lodash":919,"path":7}],171:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.widget.chatRecordList";angular.module(moduleName,[require("./chatRecordItem")]).directive("chatRecordList",[function(){return{restrict:"E",scope:{keyword:"=",searchResult:"=",activeIndex:"=",isExtended:"=",onItemClick:"&",onShowAll:"&"},replace:!0,controller:["$scope",function(e){var r=this;r.onItemClick=function(r){e.onItemClick&&e.onItemClick({record:r})},r.onShowAll=function(r){e.onShowAll&&e.onShowAll({recordGroup:r})},r.onItemEnter=function(r){var o=e.searchResult.order.indexOf(r);o>-1&&o!==e.activeIndex&&(e.activeIndex=o)},r.isActive=function(r){var o=e.searchResult.order.indexOf(r);return o===e.activeIndex}}],controllerAs:"chatRecordList",link:function(e,r,o){},template:'<div>\n    <div ng-repeat="recordGroup in searchResult.data">\n        <chat-record-item record="record"\n                          keyword="keyword"\n                          highlight="chatRecordList.isActive(record)"\n                          on-item-click="chatRecordList.onItemClick(record)"\n                          on-mouse-enter="chatRecordList.onItemEnter(record)"\n                          ng-if="isExtended || recordGroup.number <= recordGroup.maxPreviewNum"\n                          ng-repeat="record in recordGroup.total"></chat-record-item>\n        <div class="record-item-group" ng-if="!isExtended && recordGroup.number > recordGroup.maxPreviewNum">\n            <chat-record-item record="record"\n                              keyword="keyword"\n                              highlight="chatRecordList.isActive(record)"\n                              on-item-click="chatRecordList.onItemClick(record)"\n                              on-mouse-enter="chatRecordList.onItemEnter(record)"\n                              ng-repeat="record in recordGroup.preview"></chat-record-item>\n            <div class="record-item-footer"\n                 ng-class="{ \'search-item-highlighted\': chatRecordList.isActive(recordGroup) }"\n                 ng-click="chatRecordList.onShowAll(recordGroup)"\n                 ng-mouseenter="chatRecordList.onItemEnter(recordGroup)">\n                <span class="record-item-footer-text">共 {{ recordGroup.number }} 条相关记录</span>\n            </div>\n        </div>\n    </div>\n</div>\n\n'}}]),module.exports=moduleName;

},{"./chatRecordItem":170,"path":7}],172:[function(require,module,exports){
"use strict";var path=require("path"),SearchBarType=require("../../../../service/search/bar/SearchBarType"),SearchBarEvents=require("../../../../service/search/bar/SearchBarEvents"),searchBar2HotKey=require("../searchBar2HotKey"),moduleName="ddWeb.widget.searchBar2.default";angular.module(moduleName,[]).directive("searchDefault",[function(){return{restrict:"E",scope:{supportSearchBarType:"=",searchBarType:"="},replace:!0,controller:["$scope",function(e){var a=this,r=e.supportSearchBarType;a.SearchBarType=SearchBarType,a.changeSearchBarType=function(a){e.searchBarType!==a?e.searchBarType=a:e.searchBarType=SearchBarType.MULTI,e.$emit(SearchBarEvents.CHANGE_TYPE,e.searchBarType)},a.isSearchBarTypeSupport=function(e){return r.indexOf(e)>-1};var c=e.$on(SearchBarEvents.PRESS_KEY,function(a,r){r===searchBar2HotKey.UP_ARROW?e.$emit(SearchBarEvents.SWITCH_TYPE,"previous"):r===searchBar2HotKey.DOWN_ARROW&&e.$emit(SearchBarEvents.SWITCH_TYPE,"next")});e.$on("$destroy",function(){c()})}],controllerAs:"default",link:function(e,a,r){},template:'<div>\n    <ul class="search-type-list">\n        <li class="search-type-item"\n            ng-click="default.changeSearchBarType(default.SearchBarType.CONTACT)"\n            ng-class="{ \'active\': searchBarType === default.SearchBarType.CONTACT }"\n            ng-if="default.isSearchBarTypeSupport(default.SearchBarType.CONTACT)">\n            <div class="icon"><i class="iconfont icon-contact"></i></div>\n            <span>联系人</span>\n        </li>\n        <li class="search-type-item"\n            ng-click="default.changeSearchBarType(default.SearchBarType.GROUP)"\n            ng-class="{ \'active\': searchBarType === default.SearchBarType.GROUP }"\n            ng-if="default.isSearchBarTypeSupport(default.SearchBarType.GROUP)">\n            <div class="icon"><i class="iconfont icon-group"></i></div>\n            <span>群组</span>\n        </li>\n        <li class="search-type-item"\n            ng-click="default.changeSearchBarType(default.SearchBarType.CHAT)"\n            ng-class="{ \'active\': searchBarType === default.SearchBarType.CHAT }"\n            ng-if="default.isSearchBarTypeSupport(default.SearchBarType.CHAT)">\n            <div class="icon"><i class="iconfont icon-chat-record"></i></div>\n            <span>聊天记录</span>\n        </li>\n    </ul>\n    <p class="search-type-hint">按键盘 “tab” 快速切换分类</p>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/search/bar/SearchBarEvents":566,"../../../../service/search/bar/SearchBarType":569,"../searchBar2HotKey":185,"path":7}],173:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.searchList.chatRecord";angular.module(moduleName,[require("../../../../filter/texthighlight")]).directive("chatRecord",["$filter",function(e){return{restrict:"AE",replace:!0,scope:{item:"=",keyword:"="},controller:["$scope",function(t){this.item=t.item,this.recordItemMsg=e("textHighlight")(t.item.model.content,t.keyword)}],link:function(e,t,i){},controllerAs:"record",template:'<div class="record-item" ng-class="{ \'search-item-highlighted\': highlight }" >\n    <div class="record-item-info">\n        <div class="record-item-title" ng-bind-html="::record.item.text | emoj"></div>\n        <div class="record-item-time">{{ ::record.item.model.msgTime | dateTime }}</div>\n    </div>\n    <div class="record-item-info">\n        <p class="record-item-message" ng-bind-html="::record.recordItemMsg"></p>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../filter/texthighlight":197,"path":7}],174:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.searchList.itemText",localLog=require("../../../../service/log/localLog");angular.module(moduleName,[require("../../../../filter/texthighlight"),require("../../../../service/chat/chatCallService.js"),require("../../../../service/log/lwlog.js"),require("../../../../service/modal/callSelectorModal.js")]).directive("itemText",["$filter","chatCallService","lwlog","callSelectorModal",function(e,t,i,l){return{restrict:"AE",replace:!0,scope:{item:"=",keyword:"="},controller:["$scope",function(t){this.item=t.item,this.filterRedTag=function(e){return e.replace("<red>","").replace("</red>","")},this.highlightText=function(i){return e("textHighlight")(i,t.keyword)},this.createCall=function(e){i.commLog("search_result_call_click",""),e.stopPropagation(),t.item.model.uid&&l({uid:t.item.model.uid})}}],link:function(e,t,i){},controllerAs:"itemText",template:'<div class="item-text">\n    <p ng-bind-html="::itemText.highlightText(itemText.item.text)" class="item-text-main"></p>\n    <p class="item-text-small">{{ ::itemText.item.model.orgName }} </p>\n    <p class="item-text-small">{{ ::itemText.item.model.dept }} <span ng-if="itemText.item.model.orgTitle"> {{ ::itemText.filterRedTag(itemText.item.model.orgTitle)}}</span></p>\n    <i class="quick-call iconfont" ng-click="itemText.createCall($event)">&#xe6ef;</i>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../filter/texthighlight":197,"../../../../service/chat/chatCallService.js":272,"../../../../service/log/localLog":421,"../../../../service/log/lwlog.js":424,"../../../../service/modal/callSelectorModal.js":446,"path":7}],175:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.searchList.searchOther",localLog=require("../../../../service/log/localLog.js");angular.module(moduleName,[require("../../../../filter/texthighlight"),require("../../../../service/microApp/microAppData"),require("../../../../service/search/search/SearchType.js"),require("../../../../service/chat/chatCallService.js"),require("../../../../service/log/lwlog"),require("../../../../service/modal/callSelectorModal")]).directive("searchOther",["microAppData","$filter","SearchType","chatCallService","lwlog","callSelectorModal",function(e,t,r,i,a,c){return{restrict:"AE",replace:!0,scope:{item:"=",keyword:"="},controller:["$scope",function(i){this.item=i.item,this.SearchType=r,this.highlightText=function(e){return t("textHighlight")(e,i.keyword)};var s=function(){try{i.$digest()}catch(e){}};this.createCall=function(e){a.commLog("search_result_call_click",""),e.stopPropagation(),i.item.model.uid&&c({uid:i.item.model.uid}).catch(function(e){localLog.error("create call from search failed ",e)})};var h=_.get(this.item,"model.extension.id");h&&e.getSafetyApp(h).then(function(){this.item.isSafety=!0,this.item.isCompanyGroup=!0,this.item.isAllUserGroup="1"===_.get(this.item,"model.extension.isAllUsrGrp"),this.item.isDeptGroup=!!_.get(this.item,"model.extension.deptId")&&!this.item.isAllUserGroup,s()}.bind(this)).catch(function(){})}],link:function(e,t,r){},controllerAs:"searchOther",template:'<div class="search-other">\n    <p ng-bind-html="::searchOther.highlightText(searchOther.item.user.remarkNameObj.alias || searchOther.item.text)" ng-class="{\'search-other-main\': !!searchOther.item.user.remarkNameObj.alias}"></p>\n    <p ng-if="searchOther.item.user.remarkNameObj.alias" class="search-other-small">钉钉昵称:(<span ng-bind-html="::searchOther.highlightText(item.model.nick)"></span>)</p>\n    <i ng-if="searchOther.item.isSafety" class="search-list-icon icon-company icon-safety" ng-class="{\'icon-dept-company\': searchOther.item.isDeptGroup ,\'icon-all-user-company\': searchOther.item.isAllUserGroup}"></i>\n    <i ng-if="searchOther.item.type === searchOther.SearchType.LOCAL\n            || searchOther.item.type === searchOther.SearchType.FRIEND\n            || searchOther.item.type === searchOther.SearchType.EXTERNAL_CONTACT"\n            ng-click="searchOther.createCall($event)"\n            class="quick-call iconfont">&#xe6ef;</i>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../filter/texthighlight":197,"../../../../service/chat/chatCallService.js":272,"../../../../service/log/localLog.js":421,"../../../../service/log/lwlog":424,"../../../../service/microApp/microAppData":437,"../../../../service/modal/callSelectorModal":446,"../../../../service/search/search/SearchType.js":583,"path":7}],176:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.searchList.searchTel";angular.module(moduleName,[]).directive("searchTel",[function(){return{restrict:"AE",replace:!0,scope:{item:"="},controller:["$scope",function(e){this.item=e.item}],link:function(e,t,s){},controllerAs:"searchTel",template:'<div class="search-tel">\n    <i class="iconfont search-tel-icon">&#xe658;</i>\n    <span class="search-tel-text">网络查找手机号/钉钉号：<span>{{ ::searchTel.item.text }}</span></span>\n</div>\n'}}]),module.exports=moduleName;
},{"path":7}],177:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.searchList.systemMsg";angular.module(moduleName,[]).directive("systemMsg",[function(){return{restrict:"AE",replace:!0,scope:{item:"="},controller:["$scope",function(e){this.item=e.item}],link:function(e,t,s){},controllerAs:"systemMsg",template:'<div class="system-msg">{{ ::systemMsg.item.text }}</div>\n'}}]),module.exports=moduleName;

},{"path":7}],178:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),SearchBarEvents=require("../../../../../service/search/bar/SearchBarEvents"),SearchBarState=require("../../../../../service/search/bar/SearchBarState"),SearchBarDefault=require("../../../../../service/search/bar/SearchBarDefault"),searchBar2HotKey=require("../../searchBar2HotKey"),IMLogType=require("../../../../../service/log/imLogType"),$my=require("../../../../../service/user/my");require("../../../../../service/search/bar/SearchBar"),require("../../../../../service/search/search/SearchType");var moduleName="ddWeb.widget.searchBar2.result.chat";angular.module(moduleName,["ddWeb.service.SearchBar","ddWeb.service.SearchType",require("../../../../../service/search/chatWith"),require("../../chatRecordList"),require("../specificChat/specificChat"),require("../../../../../service/search/search/SearchManager"),require("../../../../../service/log/imLog")]).directive("searchResultChat",["imLog",function(e){return{restrict:"E",scope:{keyword:"=",state:"="},replace:!0,controller:["$scope","SearchBar","SearchType","chatWith","SearchManager",function(r,a,c,t,i){var n=this,s=2,o=new i([c.CHAT],{disableCache:!0,cacheName:"chat"}),h=function(){try{r.$digest()}catch(e){}},l=function(){d(!1);var e=o.getCache(r.keyword);e&&(n.searchResult=u(o.transformData(e.data,!0)),v(SearchBarDefault.DEFAULT_INDEX)),h()};o.on(o.EventsName.FINISH,l);var u=function(e){var e=e.data,r=[],a=[];return Array.isArray(e)&&e.forEach(function(e){if(e.type===c.CHAT){var a={};e.children&&e.children.forEach(function(e){var r=e.model.conversationId;Array.isArray(a[r])?a[r].push(e):a[r]=[e]}),Object.keys(a).forEach(function(e){a[e].sort(function(e,r){var a=_.get(e,"model.msgTime"),c=_.get(r,"model.msgTime");return a&&c?c-a:-1}),r.push({cid:e,number:a[e].length,name:a[e][0].text,maxPreviewNum:s,preview:a[e].slice(0,s),total:a[e]})}),r.sort(function(e,r){var a=_.get(e,"preview[0].model.msgTime"),c=_.get(r,"preview[0].model.msgTime");return a&&c?c-a:-1})}}),r.forEach(function(e){a=a.concat(e.preview),e.number>s&&a.push(e)}),{data:r,order:a}},d=function(e){n.isSearching=e,r.$emit(SearchBarEvents.IS_SEARCHING,e)},v=function(e){n.activeIndex!==e&&(n.activeIndex=e,r.$emit(SearchBarEvents.ACTIVE_INDEX_CHANGE))};n.SearchBarState=SearchBarState,n.activeIndex=SearchBarDefault.DEFAULT_INDEX,n.specificRecordGroup=null,n.onSelect=function(a){a.type===c.CHAT&&(e.trace(a.model.conversationId,IMLogType.SEARCH_RESULT),t(a)),d(!1),r.$emit(SearchBarEvents.RESET)},n.showAll=function(e){v(SearchBarDefault.DEFAULT_INDEX),n.specificRecordGroup=e,r.$emit(SearchBarEvents.TO_SPECIFIC_CHAT,e)},n.keywordSnapshot="",n.search=function(e){e&&""!==e.trim()?(d(!0),o.query(e)):d(!1)},n.search(r.keyword);var S=r.$on(SearchBarEvents.SEARCH,function(){n.search(r.keyword)}),f=r.$on(SearchBarEvents.PRESS_KEY,function(e,r){if(r===searchBar2HotKey.UP_ARROW&&angular.isNumber(n.activeIndex))n.activeIndex>0&&v(n.activeIndex-1);else if(r===searchBar2HotKey.DOWN_ARROW)if(null===n.activeIndex)v(0);else{var a=n.searchResult.order.length-1;v(n.activeIndex<a?n.activeIndex+1:a)}else if(r===searchBar2HotKey.ENTER){var c=n.searchResult.order[n.activeIndex];c&&(c.cid?n.showAll(c):n.onSelect(c))}});r.$on("$destroy",function(){S(),f(),o.emit(o.EventsName.FINISH),o.off(o.EventsName.FINISH,l)})}],controllerAs:"chat",link:function(e,r,a){},template:'<div>\n    <div ng-if="chat.SearchBarState.contains(chat.SearchBarState.state[\'searchBar.result.chat.overview\'], state)">\n        <chat-record-list keyword="keyword"\n                          search-result="chat.searchResult"\n                          on-item-click="chat.onSelect(record)"\n                          on-show-all="chat.showAll(recordGroup)"\n                          active-index="chat.activeIndex"></chat-record-list>\n        <div class="panel-filler" ng-if="!chat.searchResult.order.length > 0 && chat.isSearching === false" ng-cloak>\n            <div class="panel-filler-icon">\n                <i class="iconfont icon-chat-record"></i>\n            </div>\n            <p class="panel-filler-text">没有搜索到任何聊天记录</p>\n        </div>\n    </div>\n    <search-result-specific-chat\n        keyword="keyword"\n        record-group="chat.specificRecordGroup"\n        ng-if="chat.SearchBarState.contains(chat.SearchBarState.state[\'searchBar.result.chat.specific\'], state)">\n    </search-result-specific-chat>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../../service/log/imLog":419,"../../../../../service/log/imLogType":420,"../../../../../service/search/bar/SearchBar":564,"../../../../../service/search/bar/SearchBarDefault":565,"../../../../../service/search/bar/SearchBarEvents":566,"../../../../../service/search/bar/SearchBarState":567,"../../../../../service/search/chatWith":570,"../../../../../service/search/search/SearchManager":582,"../../../../../service/search/search/SearchType":583,"../../../../../service/user/my":635,"../../chatRecordList":171,"../../searchBar2HotKey":185,"../specificChat/specificChat":183,"lodash":919,"path":7}],179:[function(require,module,exports){
"use strict";var path=require("path"),SearchBarEvents=require("../../../../../service/search/bar/SearchBarEvents"),SearchBarDefault=require("../../../../../service/search/bar/SearchBarDefault"),searchBar2HotKey=require("../../searchBar2HotKey"),$my=require("../../../../../service/user/my"),IMLogType=require("../../../../../service/log/imLogType");require("../../../../../service/search/bar/SearchBar"),require("../../../../../service/search/search/SearchType"),require("../../../../../service/search/searchMobile");var sourceTypes=require("../../../../../service/contact/externalContact/sourceType.js"),moduleName="ddWeb.widget.searchBar2.result.contact";angular.module(moduleName,["ddWeb.service.SearchBar","ddWeb.service.SearchType","ddWeb.search.searchMobile",require("../../../../../service/search/chatWith"),require("../../../../../service/search/search/SearchManager"),require("../../../../../service/log/imLog"),require("../../searchList")]).directive("searchResultContact",["imLog",function(e){return{restrict:"E",scope:{keyword:"="},replace:!0,controller:["$scope","SearchBar","SearchType","searchMobile","chatWith","SearchManager",function(r,a,c,t,n,i){var s=this,o=new i([c.FRIEND,c.ORG,c.MOBILE,c.LOCAL,c.EXTERNAL_CONTACT],{cacheName:"contact",externalContactCfg:{source:sourceTypes.CONTACT}}),h=function(){try{r.$digest()}catch(e){}},l=function(e){var r=[],a=[];return e.data.forEach(function(e){if(e.type===c.MOBILE)r=r.concat(e.children);else{var t=[];e.children.forEach(function(e){var r=_.get(e,"model.uid");r&&a.indexOf(r)===-1&&(a.push(e.model.uid),t.push(e))}),r=r.concat(t),e.children=t}}),e.order=r,e},u=function(){var e=o.getCache(r.keyword);e&&(s.searchResult=l(o.transformData(e.data,!0)),f(SearchBarDefault.DEFAULT_INDEX),h())},d=function(){v(!1);var e=o.getCache(r.keyword);e&&(s.searchResult=l(o.transformData(e.data,!0)),f(SearchBarDefault.DEFAULT_INDEX)),h()};o.on(o.EventsName.UPDATE,u),o.on(o.EventsName.FINISH,d);var v=function(e){s.isSearching=e,r.$emit(SearchBarEvents.IS_SEARCHING,e)},f=function(e){s.activeIndex!==e&&(s.activeIndex=e,r.$emit(SearchBarEvents.ACTIVE_INDEX_CHANGE))};s.activeIndex=SearchBarDefault.DEFAULT_INDEX,s.onSelect=function(a){if(a.type!==c.SYSTEM&&a.type!==c.MOBILE){var i=[a.model.uid,$my.uid].sort(function(e,r){return e-r}).join(":");e.trace(i,IMLogType.SEARCH_RESULT),n(a)}a.type===c.MOBILE&&t(a.model.mobile),v(!1),r.$emit(SearchBarEvents.RESET)},s.search=function(e){e&&""!==e.trim()?(v(!0),o.query(e)):v(!1)},s.search(r.keyword);var E=r.$on(SearchBarEvents.SEARCH,function(){s.search(r.keyword)}),S=r.$on(SearchBarEvents.PRESS_KEY,function(e,r){if(r===searchBar2HotKey.UP_ARROW&&angular.isNumber(s.activeIndex))s.activeIndex>0&&f(s.activeIndex-1);else if(r===searchBar2HotKey.DOWN_ARROW)if(null===s.activeIndex)f(0);else{var a=s.searchResult.order.length-1;f(s.activeIndex<a?s.activeIndex+1:a)}else if(r===searchBar2HotKey.ENTER){var c=s.searchResult.order[s.activeIndex];c&&s.onSelect(c)}});r.$on("$destroy",function(){E(),S(),o.emit(o.EventsName.FINISH),o.off(o.EventsName.UPDATE,u),o.off(o.EventsName.FINISH,d)})}],controllerAs:"contact",link:function(e,r,a){},template:'<div>\n    <search-list keyword = "keyword" search-result="contact.searchResult" on-item-click="contact.onSelect(item)" active-index="contact.activeIndex"></search-list>\n    <div class="panel-filler" ng-if="!contact.searchResult.order.length > 0 && contact.isSearching === false" ng-cloak>\n        <div class="panel-filler-icon">\n            <i class="iconfont icon-contact-circle"></i>\n        </div>\n        <p class="panel-filler-text">没有搜索到任何联系人</p>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../../service/contact/externalContact/sourceType.js":289,"../../../../../service/log/imLog":419,"../../../../../service/log/imLogType":420,"../../../../../service/search/bar/SearchBar":564,"../../../../../service/search/bar/SearchBarDefault":565,"../../../../../service/search/bar/SearchBarEvents":566,"../../../../../service/search/chatWith":570,"../../../../../service/search/search/SearchManager":582,"../../../../../service/search/search/SearchType":583,"../../../../../service/search/searchMobile":587,"../../../../../service/user/my":635,"../../searchBar2HotKey":185,"../../searchList":187,"path":7}],180:[function(require,module,exports){
"use strict";var path=require("path"),SearchBarEvents=require("../../../../../service/search/bar/SearchBarEvents"),SearchBarDefault=require("../../../../../service/search/bar/SearchBarDefault"),searchBar2HotKey=require("../../searchBar2HotKey"),IMLogType=require("../../../../../service/log/imLogType");require("../../../../../service/search/bar/SearchBar"),require("../../../../../service/search/search/SearchType");var moduleName="ddWeb.widget.searchBar2.result.group";angular.module(moduleName,["ddWeb.service.SearchBar","ddWeb.service.SearchType",require("../../../../../service/search/chatWith"),require("../../../../../service/search/search/SearchManager"),require("../../searchList"),require("../../../../../service/log/imLog")]).directive("searchResultGroup",[function(){return{restrict:"E",scope:{keyword:"="},replace:!0,controller:["$scope","SearchBar","SearchType","chatWith","SearchManager","imLog",function(e,r,a,c,t,i){var n=this,s=new t([a.GROUP],{cacheName:"group"}),o=function(){try{e.$digest()}catch(e){}},h=function(){l(!1);var r=s.getCache(e.keyword);r&&(n.searchResult=u(s.transformData(r.data,!0)),v(SearchBarDefault.DEFAULT_INDEX)),o()};s.on(s.EventsName.FINISH,h);var u=function(e){return e.data.forEach(function(e){e.text=""}),e},l=function(r){n.isSearching=r,e.$emit(SearchBarEvents.IS_SEARCHING,r)},v=function(r){n.activeIndex!==r&&(n.activeIndex=r,e.$emit(SearchBarEvents.ACTIVE_INDEX_CHANGE))};n.activeIndex=SearchBarDefault.DEFAULT_INDEX,n.onSelect=function(r){r.type===a.GROUP&&(i.trace(r.model.conversationId,IMLogType.SEARCH_RESULT),c(r)),l(!1),e.$emit(SearchBarEvents.RESET)},n.search=function(e){e&&""!==e.trim()?(l(!0),s.query(e)):l(!1)},n.search(e.keyword);var d=e.$on(SearchBarEvents.SEARCH,function(){n.search(e.keyword)}),S=e.$on(SearchBarEvents.PRESS_KEY,function(e,r){if(r===searchBar2HotKey.UP_ARROW&&angular.isNumber(n.activeIndex))n.activeIndex>0&&v(n.activeIndex-1);else if(r===searchBar2HotKey.DOWN_ARROW)if(null===n.activeIndex)v(0);else{var a=n.searchResult.order.length-1;v(n.activeIndex<a?n.activeIndex+1:a)}else if(r===searchBar2HotKey.ENTER){var c=n.searchResult.order[n.activeIndex];c&&n.onSelect(c)}});e.$on("$destroy",function(){d(),S(),s.emit(s.EventsName.FINISH),s.off(s.EventsName.FINISH,h)})}],controllerAs:"group",link:function(e,r,a){},template:'<div>\n    <search-list keyword="keyword" search-result="group.searchResult"  on-item-click="group.onSelect(item)" active-index="group.activeIndex"></search-list>\n    <div class="panel-filler" ng-if="!group.searchResult.order.length > 0 && group.isSearching === false" ng-cloak>\n        <div class="panel-filler-icon">\n            <i class="iconfont icon-group-circle"></i>\n        </div>\n        <p class="panel-filler-text">没有搜索到任何群组</p>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../../service/log/imLog":419,"../../../../../service/log/imLogType":420,"../../../../../service/search/bar/SearchBar":564,"../../../../../service/search/bar/SearchBarDefault":565,"../../../../../service/search/bar/SearchBarEvents":566,"../../../../../service/search/chatWith":570,"../../../../../service/search/search/SearchManager":582,"../../../../../service/search/search/SearchType":583,"../../searchBar2HotKey":185,"../../searchList":187,"path":7}],181:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),SearchBarDefault=require("../../../../../service/search/bar/SearchBarDefault"),SearchBarEvents=require("../../../../../service/search/bar/SearchBarEvents"),SearchBarType=require("../../../../../service/search/bar/SearchBarType"),searchBar2HotKey=require("../../searchBar2HotKey"),sourceTypes=require("../../../../../service/contact/externalContact/sourceType.js"),IMLogType=require("../../../../../service/log/imLogType"),moduleName="ddWeb.widget.searchBar2.result.multi",$my=require("../../../../../service/user/my"),localLog=require("../../../../../service/log/localLog");angular.module(moduleName,[require("../../searchList"),require("../../../../../service/search/search/SearchManager"),require("../../../../../service/search/chatWith"),require("../../../../../service/search/searchMobile"),require("../../../../../service/search/search/SearchType"),require("../../../../../service/search/search/ChatSearch"),require("../../../../../service/log/imLog")]).directive("searchResultMulti",["SearchType","SearchManager","chatWith","searchMobile","ChatSearch","imLog",function(e,r,a,c,t,i){return{restrict:"E",scope:{keyword:"=",state:"="},replace:!0,controller:["$scope",function(n){var s=this;if(s.searchResult=[],s.activeIndex=SearchBarDefault.DEFAULT_INDEX,t.isSupport)var o=new r([e.FRIEND,e.ORG,e.MOBILE,e.GROUP,e.CHAT,e.LOCAL,e.EXTERNAL_CONTACT],{cacheName:"multi",externalContactCfg:{source:sourceTypes.CONTACT}});else var o=new r([e.FRIEND,e.ORG,e.MOBILE,e.GROUP,e.LOCAL,e.EXTERNAL_CONTACT],{cacheName:"multi",externalContactCfg:{source:sourceTypes.CONTACT}});var l=function(){try{n.$digest()}catch(e){}},h=function(){var e=o.getCache(n.keyword);e&&(s.searchResult=f(o.transformData(e.data,!0)),m(SearchBarDefault.DEFAULT_INDEX),l())},u=function(){d(!1);var e=o.getCache(n.keyword);e&&(s.searchResult=f(o.transformData(e.data,!0)),m(SearchBarDefault.DEFAULT_INDEX)),l()};o.on(o.EventsName.UPDATE,h),o.on(o.EventsName.FINISH,u);var d=function(e){s.isSearching=e,n.$emit(SearchBarEvents.IS_SEARCHING,e)},m=function(e){s.activeIndex!==e&&(s.activeIndex=e,n.$emit(SearchBarEvents.ACTIVE_INDEX_CHANGE))},v=function(r){var a=3,c=[],t=[],i=[],n=[];r.data.forEach(function(r){r.type===e.FRIEND||r.type===e.ORG||r.type===e.MOBILE||r.type===e.LOCAL||r.type===e.EXTERNAL_CONTACT?r.children.forEach(function(e){var r=_.get(e,"model.uid");n.indexOf(r)==-1&&i.length<a&&(n.push(e.model.uid),i.push(e))}):(c.push(r),t=t.concat(r.children))});var s=[{text:"联系人",moreText:"查看更多联系人",searchBarType:SearchBarType.CONTACT,children:i}];return r.data=s.concat(c),r.order=i.concat(t),r},f=function(r){var r=v(r);return r.searchBarType=SearchBarType.MULTI,r.data.forEach(function(r){if(r.type===e.GROUP&&(r.searchBarType=SearchBarType.GROUP,r.moreText="查看更多群组",r.children=r.children.slice(0,3)),r.type===e.CHAT){r.searchBarType=SearchBarType.CHAT,r.moreText="查看更多聊天记录";var a={},c=[],t=3;r.children&&r.children.forEach(function(e){var r=e.model.conversationId;Array.isArray(a[r])?a[r].push(e):a[r]=[e]}),Object.keys(a).forEach(function(e){a[e].sort(function(e,r){var a=_.get(e,"model.msgTime"),c=_.get(r,"model.msgTime");return a&&c?c-a:-1}),c.push(a[e][0])}),c.sort(function(e,r){var a=_.get(e,"model.msgTime"),c=_.get(r,"model.msgTime");return a&&c?c-a:-1}),r.children=c.slice(0,t)}}),r};s.search=function(e){e&&""!==e.trim()?(d(!0),o.query(e)):d(!1)},s.search(n.keyword);var E=n.$on(SearchBarEvents.SEARCH,function(){s.search(n.keyword)}),T=n.$on(SearchBarEvents.PRESS_KEY,function(e,r){if(r===searchBar2HotKey.UP_ARROW&&angular.isNumber(s.activeIndex))s.activeIndex>0&&m(s.activeIndex-1);else if(r===searchBar2HotKey.DOWN_ARROW)if(null===s.activeIndex)m(0);else{var a=s.searchResult.order.length-1;m(s.activeIndex<a?s.activeIndex+1:a)}else if(r===searchBar2HotKey.ENTER){var c=s.searchResult.order[s.activeIndex];c&&s.onSelect(c)}});s.onSelect=function(r){if(r.type===e.MOBILE)c(r.model.mobile);else{if(r.model.conversationId)i.trace(r.model.conversationId,IMLogType.SEARCH_RESULT);else if(r.model.uid){var t=[r.model.uid,$my.uid].sort(function(e,r){return e-r}).join(":");i.trace(t,IMLogType.SEARCH_RESULT)}else localLog.error("im log trace error",JSON.stringify(r));a(r)}d(!1),n.$emit(SearchBarEvents.RESET),l()},s.onMoreItem=function(e){n.$emit(SearchBarEvents.CHANGE_TYPE_AND_SEARCH,e.searchBarType)},n.$on("$destroy",function(){E(),T(),o.emit(o.EventsName.FINISH),o.off(o.EventsName.UPDATE,h),o.off(o.EventsName.FINISH,u)})}],controllerAs:"multi",link:function(e,r,a){},template:'<div>\n    <search-list \n      keyword = "keyword" \n      search-result="multi.searchResult" \n      on-item-click="multi.onSelect(item)" \n      on-click-more-item="multi.onMoreItem(group)"\n      active-index="multi.activeIndex"\n    >\n    </search-list>\n    <div class="panel-filler" ng-if="multi.searchResult.order.length === 0 && multi.isSearching === false" ng-cloak>\n        <div class="panel-filler-icon">\n            <i class="iconfont icon-search-circle"></i>\n        </div>\n        <p class="panel-filler-text">未搜到〝<span class="panel-filler-keyword">{{::keyword}}</span>〞相关结果</p>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../../service/contact/externalContact/sourceType.js":289,"../../../../../service/log/imLog":419,"../../../../../service/log/imLogType":420,"../../../../../service/log/localLog":421,"../../../../../service/search/bar/SearchBarDefault":565,"../../../../../service/search/bar/SearchBarEvents":566,"../../../../../service/search/bar/SearchBarType":569,"../../../../../service/search/chatWith":570,"../../../../../service/search/search/ChatSearch":571,"../../../../../service/search/search/SearchManager":582,"../../../../../service/search/search/SearchType":583,"../../../../../service/search/searchMobile":587,"../../../../../service/user/my":635,"../../searchBar2HotKey":185,"../../searchList":187,"lodash":919,"path":7}],182:[function(require,module,exports){
"use strict";var path=require("path"),SearchBarType=require("../../../../service/search/bar/SearchBarType"),SearchBarEvents=require("../../../../service/search/bar/SearchBarEvents"),SearchBarState=require("../../../../service/search/bar/SearchBarState"),SearchBarStorage=require("../../../../service/search/bar/SearchBarStorage"),searchBar2HotKey=require("../searchBar2HotKey"),ddStorage=require("../../../../service/storage/ddStorage"),moduleName="ddWeb.widget.searchBar2.result";angular.module(moduleName,[require("./chat/chat"),require("./contact/contact"),require("./group/group"),require("./multi/multi"),require("./specificChat/specificChat")]).directive("searchResult",[function(){return{restrict:"E",scope:{state:"=",supportSearchBarType:"=",searchBarType:"=",keyword:"="},replace:!0,controller:["$scope",function(e){var r=this,a=e.supportSearchBarType;r.SearchBarType=SearchBarType,r.SearchBarState=SearchBarState,r.activeIndex=null,r.isShowHint="true"!==ddStorage.getItemWithUid(SearchBarStorage.HAVE_USED_TAB),r.hideHint=function(){r.isShowHint&&(r.isShowHint=!1,ddStorage.setItemWithUid(SearchBarStorage.HAVE_USED_TAB,"true"))},r.changeSearchBarType=function(a){e.searchBarType!==a&&r.isSearchBarTypeSupport(a)&&(e.searchBarType=a)},r.isSearchBarTypeSupport=function(e){return a.indexOf(e)>-1};var t=e.$on(SearchBarEvents.PRESS_KEY,function(e,a){a===searchBar2HotKey.TAB&&r.hideHint()}),c=e.$on(SearchBarEvents.CLOSE,function(){r.hideHint()}),s=e.$watch("searchBarType",function(r){e.$emit(SearchBarEvents.CHANGE_TYPE_AND_SEARCH,r)});e.$on("$destroy",function(){t(),c(),s()})}],controllerAs:"result",link:function(e,r,a){var t=[],c=r.find(".search-result"),s=function(e){var r=100,a=c.scrollTop()+parseInt(e,10);a<0&&(a=0),c.stop().animate({scrollTop:a},r)},n=e.$on(SearchBarEvents.ACTIVE_INDEX_CHANGE,function(){t.push(setTimeout(function(){var e=c.find(".search-item-highlighted")[0],r=c[0];if(e&&r){var a=r.getBoundingClientRect(),t=e.getBoundingClientRect(),n=null;t.bottom>a.bottom?n=t.bottom-a.bottom:t.top<a.top&&(n=-(a.top-t.top)),n&&s(n)}},0))});e.$on("$destroy",function(){t.forEach(function(e){clearTimeout(e)}),n(),c.finish()})},template:'<div class="result-panel">\n    <ul class="tab-bar">\n        <li class="tab-bar-item"\n            ng-click="result.changeSearchBarType(result.SearchBarType.MULTI)"\n            ng-class="{ \'active\': searchBarType === result.SearchBarType.MULTI }"\n            ng-if="result.isSearchBarTypeSupport(result.SearchBarType.MULTI)">全部</li>\n        <li class="tab-bar-item"\n            ng-click="result.changeSearchBarType(result.SearchBarType.CONTACT)"\n            ng-class="{ \'active\': searchBarType === result.SearchBarType.CONTACT }"\n            ng-if="result.isSearchBarTypeSupport(result.SearchBarType.CONTACT)">联系人</li>\n        <li class="tab-bar-item"\n            ng-click="result.changeSearchBarType(result.SearchBarType.GROUP)"\n            ng-class="{ \'active\': searchBarType === result.SearchBarType.GROUP }"\n            ng-if="result.isSearchBarTypeSupport(result.SearchBarType.GROUP)">群组</li>\n        <li class="tab-bar-item"\n            ng-click="result.changeSearchBarType(result.SearchBarType.CHAT)"\n            ng-class="{ \'active\': searchBarType === result.SearchBarType.CHAT }"\n            ng-if="result.isSearchBarTypeSupport(result.SearchBarType.CHAT)">聊天记录</li>\n    </ul>\n    <div class="result-panel-hint" ng-class="{ \'show\': result.isShowHint }" ng-click="result.hideHint()">\n        按键盘“tab”快速切换分类<br>快来试一试！\n    </div>\n    <div class="search-result">\n        <search-result-multi\n            keyword="keyword"\n            ng-if="result.SearchBarState.contains(result.SearchBarState.state[\'searchBar.result.multi\'], state)">\n            >\n        </search-result-multi>\n        <search-result-contact\n            keyword="keyword"\n            ng-if="result.SearchBarState.contains(result.SearchBarState.state[\'searchBar.result.contact\'], state)">\n        </search-result-contact>\n        <search-result-group\n            keyword="keyword"\n            ng-if="result.SearchBarState.contains(result.SearchBarState.state[\'searchBar.result.group\'], state)">\n        </search-result-group>\n        <search-result-chat\n            state="state"\n            keyword="keyword"\n            ng-if="result.SearchBarState.contains(result.SearchBarState.state[\'searchBar.result.chat\'], state)">\n        </search-result-chat>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../../service/search/bar/SearchBarEvents":566,"../../../../service/search/bar/SearchBarState":567,"../../../../service/search/bar/SearchBarStorage":568,"../../../../service/search/bar/SearchBarType":569,"../../../../service/storage/ddStorage":605,"../searchBar2HotKey":185,"./chat/chat":178,"./contact/contact":179,"./group/group":180,"./multi/multi":181,"./specificChat/specificChat":183,"path":7}],183:[function(require,module,exports){
"use strict";var path=require("path"),SearchBarEvents=require("../../../../../service/search/bar/SearchBarEvents"),SearchBarDefault=require("../../../../../service/search/bar/SearchBarDefault"),searchBar2HotKey=require("../../searchBar2HotKey");require("../../../../../filter/emoj"),require("../../../avatar/avatar"),require("../../../../../service/search/search/SearchType");var moduleName="ddWeb.widget.searchBar2.result.specificChat";angular.module(moduleName,["ddWeb.widget.avatar","ddWeb.filter.emoj",require("../../../../../service/search/chatWith"),require("../../chatRecordList")]).directive("searchResultSpecificChat",[function(){return{restrict:"E",scope:{keyword:"=",recordGroup:"="},replace:!0,controller:["$scope","SearchType","chatWith",function(e,a,t){var i=this,r=e.recordGroup,c=function(a){i.activeIndex!==a&&(i.activeIndex=a,e.$emit(SearchBarEvents.ACTIVE_INDEX_CHANGE))};i.searchResult={data:[r],order:r.total},i.isExtendedList=!0,i.activeIndex=SearchBarDefault.DEFAULT_INDEX,i.title=r.name,i.avatar=r.total[0],i.goBack=function(){e.$emit(SearchBarEvents.TO_PREVIOUS)},i.onSelect=function(i){i.type===a.CHAT&&t(i),e.$emit(SearchBarEvents.RESET)};var n=e.$on(SearchBarEvents.PRESS_KEY,function(e,a){if(a===searchBar2HotKey.UP_ARROW&&angular.isNumber(i.activeIndex))i.activeIndex>0&&c(i.activeIndex-1);else if(a===searchBar2HotKey.DOWN_ARROW)if(null===i.activeIndex)c(0);else{var t=i.searchResult.order.length-1;c(i.activeIndex<t?i.activeIndex+1:t)}else if(a===searchBar2HotKey.ENTER){var r=i.searchResult.order[i.activeIndex];r&&i.onSelect(r)}});e.$on("$destroy",function(){n()})}],controllerAs:"specificChat",link:function(e,a,t){},template:'<div>\n    <div class="topic-bar">\n        <div class="topic-bar-return" ng-click="specificChat.goBack()">\n            <i class="back-icon iconfont">&#xe659;</i><span>返回</span>\n        </div>\n        <div class="topic-bar-detail">\n            <div class="topic-bar-detail-icon">\n                <dd-avatar\n                    mediaid="specificChat.avatar.model.avatarMediaId"\n                    uid="specificChat.avatar.model.uid"\n                    nick="specificChat.avatar.model.nick"\n                    name="specificChat.avatar.model.name"\n                    icon="specificChat.avatar.model.icon"\n                    tag="specificChat.avatar.model.tag"\n                    extension="specificChat.avatar.model.extension"\n                    type="specificChat.avatar.model.avatarType">\n                </dd-avatar>\n            </div>\n            <div class="topic-bar-detail-text" ng-bind="specificChat.title"></div>\n        </div>\n    </div>\n    <chat-record-list keyword="keyword"\n                      is-extended="specificChat.isExtendedList"\n                      search-result="specificChat.searchResult"\n                      on-item-click="specificChat.onSelect(record)"\n                      active-index="specificChat.activeIndex"></chat-record-list>\n</div>\n\n'}}]),module.exports=moduleName;

},{"../../../../../filter/emoj":193,"../../../../../service/search/bar/SearchBarDefault":565,"../../../../../service/search/bar/SearchBarEvents":566,"../../../../../service/search/chatWith":570,"../../../../../service/search/search/SearchType":583,"../../../avatar/avatar":141,"../../chatRecordList":171,"../../searchBar2HotKey":185,"path":7}],184:[function(require,module,exports){
"use strict";var path=require("path"),SearchBarType=require("../../../service/search/bar/SearchBarType"),SearchBarEvents=require("../../../service/search/bar/SearchBarEvents"),SearchBarState=require("../../../service/search/bar/SearchBarState"),searchBar2HotKey=require("./searchBar2HotKey"),syncProtocolStatus=require("@ali/wksdk").syncProtocolStatus,storage=require("../../../service/storage/storage"),EVENTS=require("../../../service/events"),moduleName="ddWeb.widget.searchBar2";angular.module(moduleName,[require("../../../service/search/search/ChatSearch"),require("../../../service/modal/alert"),require("./default/default"),require("./result/result")]).directive("searchBar2",["$document","$timeout","ChatSearch","$alert","$translate",function(e,r,a,c,t){return{restrict:"E",scope:{supportActivateShortcut:"="},replace:!0,controller:["$rootScope","$scope",function(e,c){var n=this,s=!1,i=null,o={DEFAULT:t.instant("dt_search_input_placeholder"),NONSUPPORT_CHAT:t.instant("pc_search_input_placeholder_norecord")},h=function(){try{c.$digest()}catch(e){}},u={};u[SearchBarType.CONTACT]=t.instant("pc_search_input_placeholder_contact"),u[SearchBarType.GROUP]=t.instant("pc_search_input_placeholder_group"),u[SearchBarType.CHAT]=t.instant("pc_search_input_placeholder_record"),u[SearchBarType.MULTI]=t.instant("dt_search_input_active");var p=o.NONSUPPORT_CHAT,l=[];this.state=null,this.SearchBarState=SearchBarState,this.supportSearchBarType=[SearchBarType.MULTI,SearchBarType.CONTACT,SearchBarType.GROUP],a.isSupport?(this.supportSearchBarType.push(SearchBarType.CHAT),p=o.DEFAULT):p=o.NONSUPPORT_CHAT,this.placeholder=p,this.isSearching=!1,this.keyword="",this.searchBarType=SearchBarType.MULTI,this.open=!1,this.activate=function(){n.open||(s||(s=!0,n.searchBarType=SearchBarType.MULTI,T()),""===n.keyword&&T(),n.placeholder=u[n.searchBarType],n.open=!0)},this.close=function(){n.open&&(n.keyword=n.keyword.trim(),n.placeholder=p,n.open=!1,c.$broadcast(SearchBarEvents.CLOSE))},this.clear=function(){B(),n.focusInput()},this.search=function(){var e=n.keyword;if(n.focusInput(),""!==e.trim()){if(e!==i)return v(n.searchBarType,e),i=e,!0}else T();return!1},this.clearDelayTimerAndSearch=function(){return n.searchTimer&&r.cancel(n.searchTimer),n.search()},this.onInputPress=function(e){var r=String(e.keyCode);if(r!==searchBar2HotKey.ENTER||!n.clearDelayTimerAndSearch())return r===searchBar2HotKey.TAB&&f("next"),Object.keys(searchBar2HotKey).forEach(function(a){searchBar2HotKey[a]===r&&(e.preventDefault(),c.$broadcast(SearchBarEvents.PRESS_KEY,r))}),!0},this.preventClickPropagation=function(e){e.stopPropagation()};var f=function(e){e=e||"";var r=n.supportSearchBarType,a=r.indexOf(n.searchBarType),c=null,t=r.length;if(e&&a>-1)if("previous"===e){var s=(a+(t-1))%t;c=r[s]}else if("next"===e){var s=(a+1)%t;c=r[s]}c&&S(c),h()},B=function(){n.keyword="",T()},d=function(e){n.state=e},S=function(e){n.searchBarType=e,n.open&&(n.placeholder=u[n.searchBarType])},T=function(){i=null,d(n.SearchBarState.state["searchBar.default"]),l.push(n.state)},v=function(e){var r={};r[SearchBarType.MULTI]="multi",r[SearchBarType.CONTACT]="contact",r[SearchBarType.GROUP]="group",r[SearchBarType.CHAT]="chat.overview";var a=r[e];a&&n.supportSearchBarType.indexOf(e)>-1&&(d(n.SearchBarState.state["searchBar.result."+a]),l.push(n.state),c.$broadcast(SearchBarEvents.SEARCH))},y=function(){d(n.SearchBarState.state["searchBar.result.chat.specific"]),l.push(n.state)};c.$on(SearchBarEvents.CHANGE_TYPE,function(e,r){S(r)}),c.$on(SearchBarEvents.CHANGE_TYPE_AND_SEARCH,function(e,r){S(r),v(r),h()}),c.$on(SearchBarEvents.TO_SPECIFIC_CHAT,function(){y()}),c.$on(SearchBarEvents.RESET,function(){B(),n.close(),s=!1,r(function(){n.blurInput()},0)}),c.$on(SearchBarEvents.TO_PREVIOUS,function(){l.pop(),d(l[l.length-1]),n.focusInput()}),c.$on(SearchBarEvents.IS_SEARCHING,function(e,r){n.isSearching=r,h()}),c.$on(SearchBarEvents.SWITCH_TYPE,function(e,r){f(r)});var m=e.$on(EVENTS.SEARCH_ACTIVE,function(){c.supportActivateShortcut===!0&&(n.activate(),n.focusInput(),h())});c.$on("$destroy",function(){m()})}],controllerAs:"searchBar2",link:function(a,c,t){var n=a.searchBar2,s=c.find(".select2-input.ui-select-search"),i=[],o=!1,h=300;n.searchTimer=null,n.focusInput=function(){s.length&&s.focus()},n.blurInput=function(){s.length&&s.blur()};var u=function(){o=!0},p=function(){o=!1},l=function(){o||(n.searchTimer&&r.cancel(n.searchTimer),n.searchTimer=r(function(){n.search()},h))},f=function(e){if(n.open){var r=!1;r=window.jQuery?window.jQuery.contains(c[0],e.target):c[0].contains(e.target),r||(n.close(),a.$digest())}},B=function(){n.searchBarType=SearchBarType.MULTI,c.animate({width:272},200,function(){c.css("overflow","visible")})},d=function(){"block"===$(".ui-select-choices").css("display")?i.push(setTimeout(function(){c.animate({width:204},200,function(){c.css("overflow","hidden")})},300)):c.animate({width:204},200,function(){c.css("overflow","hidden")})};e.on("click",f),s.on("input",l),s.on("compositionstart",u),s.on("compositionend",p);var S=a.$watch(function(){return n.open},function(e){e?B():d()}),T=a.$watch(function(){return n.searchBarType},function(){n.open&&n.focusInput()});a.$on("$destroy",function(){S(),T(),i.forEach(function(e){clearTimeout(e)}),c.finish(),e.off("click",f),s.off("input",l),s.off("compositionstart",u),s.off("compositionend",p),n.searchTimer&&r.cancel(n.searchTimer)})},template:'<div class="search-bar-wraper">\n    <div class="main-search-2">\n        <div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi">\n            <div class="select2-search-field">\n                <input\n                    type="text"\n                    autocomplete="off"\n                    autocorrect="off"\n                    autocapitalize="off"\n                    spellcheck="false"\n                    class="select2-input ui-select-search"\n                    placeholder="{{ searchBar2.placeholder }}"\n                    ng-model="searchBar2.keyword"\n                    ng-click="searchBar2.activate()"\n                    ng-keydown="searchBar2.onInputPress($event)"\n                    ng-class="{ \'active\': searchBar2.open }"\n                    ondrop="return false;">\n            </div>\n            <div class="select2-drop select2-with-searchbox select2-drop-active"\n                 ng-class="{\'select2-display-none\': !searchBar2.open}">\n                <div ng-click="searchBar2.preventClickPropagation($event)">\n                    <search-default\n                        ng-if="searchBar2.SearchBarState.contains(searchBar2.SearchBarState.state[\'searchBar.default\'], searchBar2.state)"\n                        search-bar-type="searchBar2.searchBarType"\n                        support-search-bar-type="searchBar2.supportSearchBarType"></search-default>\n                    <search-result\n                        ng-if="searchBar2.SearchBarState.contains(searchBar2.SearchBarState.state[\'searchBar.result\'], searchBar2.state)"\n                        state="searchBar2.state"\n                        search-bar-type="searchBar2.searchBarType"\n                        support-search-bar-type="searchBar2.supportSearchBarType"\n                        keyword="searchBar2.keyword"></search-result>\n                </div>\n            </div>\n        </div>\n        <div class="search-bar-icons" ng-show="searchBar2.open">\n            <i class="remove-icon iconfont"\n               ng-show="searchBar2.keyword.length > 0"\n               ng-click="searchBar2.clear()">&#xe68b;</i>\n            <i class="search-bar-icon-divider"></i>\n            <i class="search-icon iconfont" ng-show="!searchBar2.isSearching" ng-click="searchBar2.clearDelayTimerAndSearch()">&#xe604;</i>\n            <i class="search-loading-icon" ng-show="searchBar2.isSearching"></i>\n        </div>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../../service/events":376,"../../../service/modal/alert":445,"../../../service/search/bar/SearchBarEvents":566,"../../../service/search/bar/SearchBarState":567,"../../../service/search/bar/SearchBarType":569,"../../../service/search/search/ChatSearch":571,"../../../service/storage/storage":606,"./default/default":172,"./result/result":182,"./searchBar2HotKey":185,"@ali/wksdk":779,"path":7}],185:[function(require,module,exports){
"use strict";var searchBar2HotKey={ENTER:"13",UP_ARROW:"38",DOWN_ARROW:"40",TAB:"9"};module.exports=searchBar2HotKey;

},{}],186:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.searchbar.searchItem";require("../../../service/search/search/SearchType"),angular.module(moduleName,[require("../../../service/search/search/SearchType"),require("./item/searchOther"),require("./item/searchTel"),require("./item/itemText"),require("./item/systemMsg"),require("./item/chatRecord")]).directive("searchItem",[function(){return{restrict:"AE",replace:!0,scope:{item:"=",keyword:"="},controller:["$scope","SearchType",function(e,t){e.itemType="search-other";var r=function(){var r=e.item.type;switch(r){case t.ORG:e.itemType="item-text";break;case t.CHAT:e.itemType="chat-record";break;case t.MOBILE:e.itemType="search-tel";break;case t.SYSTEM:e.itemType="system-msg";break;default:e.itemType="search-other"}};r()}],link:function(e,t,r){},controllerAs:"searchItem",template:'<div ng-switch="itemType" >\n    <item-text item="item" keyword="keyword" ng-switch-when="item-text"></item-text>\n    <chat-record item="item" keyword="keyword" ng-switch-when="chat-record"></chat-record>\n    <search-tel item="item" ng-switch-when="search-tel"></search-tel>\n    <system-msg item="item" ng-switch-when="system-msg"></system-msg>\n    <search-other item="item" keyword="keyword" ng-switch-default></search-other>\n</div>\n\n'}}]),module.exports=moduleName;

},{"../../../service/search/search/SearchType":583,"./item/chatRecord":173,"./item/itemText":174,"./item/searchOther":175,"./item/searchTel":176,"./item/systemMsg":177,"path":7}],187:[function(require,module,exports){
"use strict";var path=require("path"),SearchBarType=require("../../../service/search/bar/SearchBarType");require("../../../service/search/search/SearchType");var AvatarType=require("../avatar/avatarType"),moduleName="ddWeb.widget.searchList";angular.module(moduleName,["ddWeb.service.SearchType",require("./searchItem"),require("../../../filter/texthighlight"),require("../../../service/microApp/microAppData"),require("../../../component/avatar/static-group-avatar")]).directive("searchList",["SearchType","$filter","microAppData",function(e,t,r){return{restrict:"E",scope:{searchResult:"=",activeIndex:"=",onItemClick:"&",onClickMoreItem:"&",keyword:"="},replace:!0,controller:["$scope",function(t){var r=this;t.SearchType=e,t.SearchBarType=SearchBarType,t.AvatarType=AvatarType,r.onItemClick=function(e){t.onItemClick&&t.onItemClick({item:e})},r.onClickMoreItem=function(e){t.onClickMoreItem&&t.onClickMoreItem({group:e})},r.onItemEnter=function(e){var r=t.searchResult.order.indexOf(e);r>-1&&r!==t.activeIndex&&(t.activeIndex=r)},r.isActive=function(e){var r=t.searchResult.order.indexOf(e);return r===t.activeIndex}}],controllerAs:"searchList",link:function(e,t,r){},template:'<ul class="ui-select-choices ui-select-choices-content select2-results">\n    <li class="ui-select-choices-group"\n        ng-class="{ \'ui-select-has-title\': group.text }"\n        ng-repeat="group in searchResult.data track by group.text"\n        ng-show="group.children.length > 0">\n        <div class="ui-select-choices-group-label select2-result-label"\n             ng-show="group.text"\n             ng-bind="::group.text"></div>\n        <ul>\n            <li class="ui-select-choices-row"\n                ng-repeat="item in group.children track by item.id"\n                ng-class="{ \'search-item-highlighted\': searchList.isActive(item) }"\n                ng-click="searchList.onItemClick(item)"\n                ng-mouseenter="searchList.onItemEnter(item)">\n                <div class="select2-result-label ui-select-choices-row-inner">\n                    <div class="avatar-wrap" ng-if="item.type !== SearchType.MOBILE && item.type !== SearchType.SYSTEM">\n                        <dd-avatar\n                            ng-if="item.model.avatarType !== AvatarType.MULTI"\n                            mediaid="::item.model.avatarMediaId"\n                            uid="::item.model.uid"\n                            nick="::item.model.nick"\n                            name="::item.model.name"\n                            icon="::item.model.icon"\n                            tag="::item.model.tag"\n                            extension="::item.model.extension"\n                            type="::item.model.avatarType"\n                            class="search search-bar-avatar">\n                        </dd-avatar>\n                        <static-group-avatar conv-data="item.model" ng-if="item.model.avatarType === AvatarType.MULTI"></static-group-avatar>\n                    </div>\n                    <div class="desc">\n                      <search-item item="item" keyword="keyword"></search-item>\n                    </div>\n                </div>\n            </li>\n        </ul>\n        <div class="search-list-more" ng-if="group.moreText" ng-click="searchList.onClickMoreItem(group)">{{ ::group.moreText }}</div>\n    </li>\n    <li class="search-list-info" ng-show="searchResult.order.length > 0 && searchResult.searchBarType != SearchBarType.MULTI">共 {{ searchResult.order.length }} 条相关记录</li>\n</ul>\n'}}]),module.exports=moduleName;

},{"../../../component/avatar/static-group-avatar":20,"../../../filter/texthighlight":197,"../../../service/microApp/microAppData":437,"../../../service/search/bar/SearchBarType":569,"../../../service/search/search/SearchType":583,"../avatar/avatarType":144,"./searchItem":186,"path":7}],188:[function(require,module,exports){
"use strict";var path=require("path");require("../../service/search/bar/SearchBar"),require("../../service/search/search/SearchType"),require("../../service/search/SearchState"),require("../../service/tool/tool");var storage=require("../../service/storage/storage");require("../../service/toast/toast"),require("../../service/selectorPanel/PanelType"),require("../../service/widget/selectorBar/selectorBarFactory"),require("../../service/widget/selectorBar/selectorBarTool"),require("./avatar/avatar");var AvatarType=require("./avatar/avatarType"),sourceTypes=require("../../service/contact/externalContact/sourceType.js"),SearchBarEvents=require("../../service/search/bar/SearchBarEvents"),app=angular.module("ddWeb.widget.selectorBar",["ui.select","ddWeb.service.SearchBar","ddWeb.service.SearchType","ddWeb.service.SearchState","ddWeb.service.tool","ddWeb.widget.avatar","ddWeb.toast","ddWeb.service.PanelType","ddWeb.service.selectorBarFactory","ddWeb.service.selectorBarTool",require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/search/search/SearchManager"),require("../../service/selectorPanel/selected/selectedItemType"),require("../../directive/widget/searchbar/item/searchOther"),require("../../component/avatar/static-group-avatar")]);app.directive("selectorBar",["$timeout","$state","SearchBar","SearchType","SearchState","tool","toastService","PanelType","selectorBarFactory","selectorBarTool","selectedItemFactory","selectedItemType","SearchManager",function(e,t,r,a,c,s,i,n,o,l,d,h,m){return{restrict:"AE",replace:!0,scope:{menuData:"=",searchState:"=",searchType:"=",actionType:"=",customUids:"=",placeholder:"@",isSearching:"=",selectedList:"="},controller:["$scope",function(e){function t(e,t){var r=-1;return e.forEach(function(e,a){e.id===t.id&&(r=a)}),r}var r=this,c=e.menuData,s=e.searchType,n=e.customUids,o="";e.AvatarType=AvatarType;var l=function(){try{e.$digest()}catch(e){}},u=function(t){e.isSearching=t,e.$emit(SearchBarEvents.IS_SEARCHING,t)};if(c.orgDataArr&&c.orgDataArr.length>1)var v=this.searchManager=new m(s,{orgDataArr:null,customUids:n,externalContactCfg:{source:sourceTypes.SELECTOR_PANEL,orgDataArr:c.orgDataArr}});else var v=this.searchManager=new m(s,{orgDataArr:c.orgDataArr,customUids:n,externalContactCfg:{source:sourceTypes.SELECTOR_PANEL,orgDataArr:c.orgDataArr}});var p=function(e){var t=[],r=[];return e.forEach(function(e){var a=_.get(e,"model.uid");a?r.indexOf(a)===-1&&(r.push(a),t.push(e)):t.push(e)}),t},g=function(){var e=v.getCache(o);if(e){var t=p(v.transformData(e.data));if(1===t.length&&t[0].type===a.SYSTEM)return;r.searchResult=t,l()}},f=function(){u(!1);var e=v.getCache(o);e?r.searchResult=p(v.transformData(e.data)):r.searchResult=[],l()};this.searchManager.on(v.EventsName.UPDATE,g),this.searchManager.on(v.EventsName.FINISH,f),this.placeholder=e.placeholder,this.selected=[].concat(e.selectedList.getSelected()),this.onRemove=function(t){e.selectedList.removeItems([t])},this.SearchType=a,this.searchResult=[],e.isSearching=!1,this.isLockedId=function(t){return e.selectedList.isLocked(t)},this.search=function(e){o=e,o&&""!==o.trim()?(u(!0),v.query(o)):r.searchManager.emit(v.EventsName.FINISH)},this.onSelect=function(c){if(u(!1),c.type===a.GROUP)var s=d.genSelectedItem(h.GROUP,c);else var s=d.genSelectedItem(h.USER,c);var n=r.selected.indexOf(s);r.selected.splice(n,1),r.isLockedId(s)||t(r.selected,s)!==-1?i.show("不能重复选择",{type:"information"}):e.selectedList.addItems([s])};var y=function(e){e.forEach(function(e){t(r.selected,e)===-1&&r.selected.push(e)}),l()},S=function(e){e.forEach(function(e){var a=t(r.selected,e);a!==-1&&r.selected.splice(a,1)}),l()};e.selectedList.EventEmitter.on("selectedItems",y),e.selectedList.EventEmitter.on("unselectedItems",S),this.getGroupName=function(e){return v.getGroupName(e)},e.$on("$destroy",function(){e.selectedList.EventEmitter.off("selectedItems",y),e.selectedList.EventEmitter.off("unselectedItems",S),r.searchManager.emit(v.EventsName.FINISH),r.searchManager.off(v.EventsName.UPDATE,g),r.searchManager.off(v.EventsName.FINISH,f)})}],controllerAs:"selectorBarCtrl",link:function(e,t,r,a){t.on("click",function(e){var r=$(e.target);r.hasClass("ui-select-match-close select2-search-choice-close")||t.find(".select2-input").focus()}),t.on("keydown",function(e){13===e.keyCode&&e.preventDefault()}),t.one("$destroy",function(){t.off("click"),t.off("keydown")})},template:'<div class="selector-bar-wrap">\n    <ui-select\n            multiple\n            autofocus\n            ng-model="selectorBarCtrl.selected"\n            on-select="selectorBarCtrl.onSelect($item)"\n            on-remove="selectorBarCtrl.onRemove($item)"\n            theme="select2">\n        <ui-select-match class="ui-select-match" ui-lock-choice="$item.hide === true" placeholder="{{selectorBarCtrl.placeholder}}">{{$item.user.remarkNameObj.alias||$item.text}}</ui-select-match>\n        <ui-select-choices\n                class="ui-select-choices"\n                refresh="selectorBarCtrl.search($select.search)"\n                refresh-delay="500"\n                group-by="selectorBarCtrl.getGroupName"\n                ng-class="selectorBarCtrl.choiceClass"\n                ng-show="selectorBarCtrl.searchResult.length !== 0"\n                ui-disable-choice="item.type === selectorBarCtrl.SearchType.SYSTEM"\n                repeat="item in selectorBarCtrl.searchResult">\n            <div class="user-item" ng-if="item.type !== selectorBarCtrl.SearchType.SYSTEM">\n                <dd-avatar\n                        ng-if="item.model.avatarType !== AvatarType.MULTI"\n                        uid="item.model.uid"\n                        nick="item.model.nick"\n                        name="item.model.name"\n                        icon="item.model.icon"\n                        tag="item.model.tag"\n                        extension="item.model.extension"\n                        type="item.model.avatarType"\n                        class="search search-bar-avatar">\n                </dd-avatar>\n                <static-group-avatar conv-data="item.model" ng-if="item.model.avatarType === AvatarType.MULTI"></static-group-avatar>\n                <div class="item-text"\n                     ng-if="item.type !== selectorBarCtrl.SearchType.SYSTEM&&item.type !==  selectorBarCtrl.SearchType.ORG">\n                    <search-other item="item" class="search-other-wraper"></search-other>\n                </div>\n                <div class="item-text" ng-if="item.type === selectorBarCtrl.SearchType.ORG">\n                    <p ng-bind-html="item.text|emoj" class="item-text-main"></p>\n                    <p class="item-text-small">{{ item.model.orgName }} </p>\n                    <p class="item-text-small">{{item.model.dept}}</p>\n                </div>\n            </div>\n            <div class="system-msg"\n                 ng-if="item.type === selectorBarCtrl.SearchType.SYSTEM"\n                    >{{item.text}}</div>\n        </ui-select-choices>\n    </ui-select>\n</div>\n'}}]);

},{"../../component/avatar/static-group-avatar":20,"../../directive/widget/searchbar/item/searchOther":175,"../../service/contact/externalContact/sourceType.js":289,"../../service/search/SearchState":563,"../../service/search/bar/SearchBar":564,"../../service/search/bar/SearchBarEvents":566,"../../service/search/search/SearchManager":582,"../../service/search/search/SearchType":583,"../../service/selectorPanel/PanelType":590,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/storage/storage":606,"../../service/toast/toast":611,"../../service/tool/tool":616,"../../service/widget/selectorBar/selectorBarFactory":671,"../../service/widget/selectorBar/selectorBarTool":672,"./avatar/avatar":141,"./avatar/avatarType":144,"path":7}],189:[function(require,module,exports){
"use strict";var path=require("path"),moduleName=module.exports="ddWeb.widget.updateChecker",semver=require("semver"),ua=require("../../../service/ua"),_=require("lodash"),localLog=require("../../../service/log/localLog");angular.module(moduleName,[require("../../../service/app/silentUpdate"),require("../../../service/modal/updateAlert")]).directive("updateChecker",["silentUpdate","updateAlert",function(e,t){return{restrict:"AE",controller:["$scope",function(a){var c=this;this.UPDATE_STATES={CHECK:0,CHECKING:1,UPDATING:2,CHECK_FAILED:3,NO_UPDATE:4};var n=function(){try{a.$digest()}catch(e){console.log(e)}};this.checkUpdateState=this.UPDATE_STATES.CHECK,this.checkUpdate=function(){this.checkUpdateState=this.UPDATE_STATES.CHECKING,e.detectUpdate(!0).then(function(a){var i=a.eventName;"no_update"===i?(this.checkUpdateState=this.UPDATE_STATES.NO_UPDATE,n()):"web_content_need_update"===i||"package_need_update"===i||"package_need_download_and_update"===i?t({desc:_.get(a.value,"web_content.description",[]),btnGroupType:"confirmOrCancel",updateTitle:"检测到更新，是否升级？"}).then(function(){this.checkUpdateState=this.UPDATE_STATES.UPDATING,n(),e.tryUpdate(a,{isWinNotNotify:!0}).then(function(){this.checkUpdateState=this.UPDATE_STATES.CHECK,n()}.bidn(this),function(){this.checkUpdateState=this.UPDATE_STATES.CHECK,n()}.bind(this))}.bind(this),function(){this.checkUpdateState=c.UPDATE_STATES.CHECK,n()}.bind(this)):"nw_is_not_satisfied"===i?(t({desc:_.get(a.value,"install.description",[]),downloadURL:_.get(a.value,"install.url"),isDoDownload:!0,btnGroupType:"onlyDownload"}),this.checkUpdateState=this.UPDATE_STATES.CHECK,n()):"nw_is_not_supported"===i&&(t({desc:_.get(conf,"install.description",[]),downloadURL:_.get(conf,"install.url"),isForce:!0,isDoDownload:!0,btnGroupType:"onlyDownload"}),this.checkUpdateState=this.UPDATE_STATES.CHECK,n())}.bind(this)).catch(function(e){this.checkUpdateState=this.UPDATE_STATES.CHECK_FAILED,n(),localLog.error("check update error",e)}.bind(this))}.bind(this)}],controllerAs:"updateChecker",template:'<a ng-click="updateChecker.checkUpdate();" href="#" ng-if="updateChecker.checkUpdateState === updateChecker.UPDATE_STATES.CHECK"> 检查更新</a>\n<span ng-if="updateChecker.checkUpdateState === updateChecker.UPDATE_STATES.CHECKING">检查更新中...</span>\n<span ng-if="updateChecker.checkUpdateState === updateChecker.UPDATE_STATES.NO_UPDATE" class="newest">已是最新版本</span>\n<span ng-if="updateChecker.checkUpdateState === updateChecker.UPDATE_STATES.CHECK_FAILED" class="failed" ng-click="updateChecker.checkUpdate();">检查失败，点击重试</span>\n<span ng-if="updateChecker.checkUpdateState === updateChecker.UPDATE_STATES.UPDATING">更新中...</span>\n'}}]);
},{"../../../service/app/silentUpdate":259,"../../../service/log/localLog":421,"../../../service/modal/updateAlert":477,"../../../service/ua":621,"lodash":919,"path":7,"semver":930}],190:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.uploadList",path=require("path"),ua=require("../../service/ua"),localLog=require("../../service/log/localLog"),storage=require("../../service/storage/storage");require("../../service/toast/toast");var $my=require("../../service/user/my"),statLog=require("../../service/log/statLog"),cspacePlugin=require("@ali/space-plugin"),app=angular.module(moduleName,[require("../../service/spacePlugin/config"),require("../../service/spacePlugin/upload"),require("../../service/app/download/LocalCache"),require("../fileList/fileItem"),"ddWeb.toast",require("../../service/log/lwlog"),require("../../service/fileList/fileListStatusService")]);app.directive("uploadList",["$rootScope","$fileHelper","spacePluginConfig","CSpaceFileUploader","DLLocalCache","toastService","lwlog","fileListStatusService",function(e,o,i,t,l,a,s,n){return{restrict:"AE",scope:{},replace:!0,link:function(e,i,t){function l(){try{e.$digest()}catch(e){}}function a(e){var o="";if(e){var i=e.lastIndexOf(".");o=i>=0?e.substring(i+1).toLowerCase():""}return o?(o=o.toLowerCase(),{mp3:1,mp2:1,ogg:1,wav:1,m4a:1,ape:1,mid:1,aac:1,au:1,wma:1,flac:1,ac3:1}[o]?"ico_file_audio":{aiff:1,avi:1,mov:1,mp4:1,mpeg:1,mpg:1,qt:1,ram:1,viv:1,wmv:1,rm:1,rmvb:1,mkv:1}[o]?"ico_file_video":{gif:1,bmp:1,png:1,jpg:1,jpeg:1,ico:1,tiff:1,tif:1,tga:1}[o]?"ico_file_img":{pdf:1,ai:1,doc:1,docx:1,ppt:1,pptx:1,psd:1,rar:1,txt:1,xls:1,xlsx:1,zip:1}[o]?"ico_file_"+o:"ico_file_unknown"):"ico_file_unknown"}var s=e.uploadListCtrl,r=100;s.fileTaskList=[],s.getUploadListStorage=function(){var e=storage.local.getItem($my.uid+"_"+storage.KEYS.UPLOAD_LIST_SET);if(e){var o=null;try{o=JSON.parse(e)}catch(e){}return o}return null},s.updateUploadListStorage=function(e){e&&storage.local.setItem($my.uid+"_"+storage.KEYS.UPLOAD_LIST_SET,JSON.stringify(e))},s.appendFileItem=function(e,i){if(e.clientId){var t=e.fileSize,r=e.name,u=e.isFile,d=e.isDownload;d||u?e.iconClass=a(r):e.iconClass="ico_file_folder",i||s.uploadListCount++,e.status||(e.status=n.getFileListStatus(e.clientId),t&&(e.status.size=o.formatFileSize(t),e.status.fileSize=t),e.status.isDownload=e.isDownload,e.status.ignoreStorage=!!i),s.fileTaskList.unshift(e),l()}},s.clearList=function(){storage.local.removeItem($my.uid+"_"+storage.KEYS.UPLOAD_LIST_SET);for(var e=s.fileTaskList,o=[],i=0;i<e.length;i++){var t=e[i]||{};t.status&&(t.status.done?n.clearFileListStatus(t.clientId):o.push(t))}s.fileTaskList=o},s.onUploadListClick=function(e){if(s.isShowList)s.isShowList=!1;else{try{if(s.fileTaskList.length>r){for(var o=s.getUploadListStorage(),i=s.fileTaskList,t=i.length-r,l=i.length-1;l>=0&&t>0;l--){var a=i[l];a.status&&a.status.done&&(o&&delete o[a.clientId],s.fileTaskList.splice(l,1),t--)}o&&storage.local.setItem($my.uid+"_"+storage.KEYS.UPLOAD_LIST_SET,JSON.stringify(o))}}catch(e){}s.isShowList=!0}},$(document).on("click.uploadList",function(e){var o=i.find(e.target).length>0;!o&&s.isShowList&&(s.isShowList=!1,l())}),i.dblclick(function(e){e.stopPropagation()});var u=s.getUploadListStorage();if(u){var d=[];for(var c in u)d.push(u[c]);var p=d.length,f=p>r?p-r:0,g={};d.sort(function(e,o){return e.clientId>o.clientId?1:-1});for(var L=f;L<p;L++){var m=d[L];s.appendFileItem(m,!0),p>r&&(g[m.clientId]=m)}p>r&&g&&storage.local.setItem($my.uid+"_"+storage.KEYS.UPLOAD_LIST_SET,JSON.stringify(g))}i.on("$destroy",function(){$(document).off("click.uploadList"),i.off("dblclick")})},controller:["$scope",function(e){function o(){try{e.$digest()}catch(e){}}function i(e){for(var o=u.fileTaskList,i={},t=0;t<o.length;t++){var l=o[t]||{};if(l.clientId==e){i=l;break}}return i}function n(){for(var e=0,o=u.fileTaskList,i=o.length,t=0;t<i;t++){var l=o[t];l.status&&!l.status.done&&e++}return e}localLog.info("init uploadList :",(new Date).getTime());var r=t.initFileUploader(),u=this;u._showResultInfo=function(){if(0==u.uploadListCount){var e=[],o=!1;u.successCount>0&&(e.push(u.successCount+"个任务完成了"),o=!0),u.failCount>0&&(u.successCount>0&&e.push(","),e.push(u.failCount+"个任务失败了")),e.length&&a.show(e.join(""),{type:o?"success":"error"}),u.successCount=0,u.failCount=0}},u.uploadListCount=0,u.successCount=0,u.failCount=0,u.ignoreList={},u.onAppendfiles=function(e){for(var o=e.length-1,i=o;i>=0;i--){var t=e[i];if(t.isIgnoreTask())u.ignoreList[t.getClientId()]=!0;else{var a={name:t.getFileName(),isFile:!0,isDownload:!1,clientId:t.getClientId(),fileSize:t.getFileSize()};u.appendFileItem(a),ua.isDesktop&&l.setCache(a.clientId,a.name,t.getHtml5File().path)}}},r.on("appendfiles",u.onAppendfiles),u.onAppenddirectory=function(e){var o={name:e.getDirName(),isFile:!1,isDownload:!1,clientId:e.getClientId(),fileSize:e.getDirSize()};u.appendFileItem(o),ua.isDesktop&&l.setCache(o.clientId,o.name,e.getDirPath())},r.on("appenddirectory",u.onAppenddirectory),u.onAppenddownloadfile=function(e){var o=e.getFile(),i={name:e.getFileName(),isDownload:!0,clientId:e.getClientId(),url:o.url,fileSize:o.size};u.appendFileItem(i)},r.on("appenddownloadfile",u.onAppenddownloadfile),u.onFileUploadSuccess=function(e){var t=e.clientId;if(!u.ignoreList[t]){if(u.uploadListCount=n(),u.successCount++,o(),u._showResultInfo(),ua.isDesktop&&e){var l=angular.copy(e);l.name="******",l.path&&(l.path="******"),l.sortField&&(l.sortField="******"),localLog.info("space upload success in IM :",l.name,JSON.stringify(l))}var a=u.getUploadListStorage()||{};a[t]=i(t),u.updateUploadListStorage(a),a=null}},r.on("fileUploadSuccess",u.onFileUploadSuccess),u.onFileDownloadSuccess=function(e){u.ignoreList[e.clientId]||(u.uploadListCount=n(),u.successCount++,o(),u._showResultInfo())},r.on("fileDownloadSuccess",u.onFileDownloadSuccess),u.onFileDownloadError=function(e){if(!u.ignoreList[e.clientId]){var i=e.isDownloadCancel;u.uploadListCount=n(),i||u.failCount++,o(),u._showResultInfo()}},r.on("fileDownloadError",u.onFileDownloadError),u.onFileUploadError=function(e){if(e){var i=e.clientId;if(u.ignoreList[i])return;if(e.reason&&"STOP_REJECT"==e.reason||e.isFromIM){for(var t=u.fileTaskList,l=-1,a=0;a<t.length;a++){var r=t[a]||{};if(r.clientId==i){l=a;break}}l>=0&&u.fileTaskList.splice(l,1),u.uploadListCount=n()}else"200012"==e.errorCode?(u.failCount=u.uploadListCount+1,u.uploadListCount=0):(u.uploadListCount=n(),u.failCount++);if(o(),u._showResultInfo(),ua.isDesktop){var d={name:"******",status:e.status,reason:e.reason,msg:e.msg,errorCode:e.errorCode||e.code,isFromIM:e.isFromIM,method:e.method,clientId:e.clientId,index:e.index,url:e.url};localLog.error("space upload error in IM :",d.name,JSON.stringify(d))}s.commLog("space_upload_error","count=1&status="+e.status+"&errorCode="+(e.errorCode||e.code)),statLog.writeSpaceFileUploadLog(e.errorCode||e.code,e.status)}},r.on("fileUploadError",u.onFileUploadError),u.onQueueuploadstart=function(e){if(e){var o=angular.copy(e);o.path&&(o.path="******"),o.sortField&&(o.sortField="******")}localLog.info("space upload start in IM :","******",JSON.stringify(o))},r.on("queueuploadstart",u.onQueueuploadstart),u.onFileUploadStopAll=function(e){e&&e.length&&(u.uploadListCount=Math.max(0,u.uploadListCount-e.length),u._showResultInfo(),o())},r.on("afterstopallitems",u.onFileUploadStopAll),e.$on("$destroy",function(){r.off("appendfiles",u.onAppendfiles),r.off("appenddirectory",u.onAppenddirectory),r.off("appenddownloadfile",u.onAppenddownloadfile),r.off("fileUploadSuccess",u.onFileUploadSuccess),r.off("fileDownloadSuccess",u.onFileDownloadSuccess),r.off("queueuploadstart",u.onQueueuploadstart),r.off("fileDownloadError",u.onFileDownloadError),r.off("fileDownloadError",u.onFileUploadError),r.off("afterstopallitems",u.onFileUploadStopAll),r=u.ignoreList=null,u.onAppendfiles=u.onFileUploadStopAll=u.onAppenddirectory=u.onAppenddownloadfile=u.onFileUploadSuccess=u.onFileDownloadSuccess=u.onQueueuploadstart=u.onFileDownloadError=null,u.updateUploadListStorage=u.getUploadListStorage=u.fileTaskList=null,localLog.info("destroy uploadList :",(new Date).getTime())})}],controllerAs:"uploadListCtrl",template:'<div class="upload-container-wrap" >\n    <div class="iconfont upload-task-container" ng-click="uploadListCtrl.onUploadListClick($event)">&#xe6f2;</div>\n    <div class="progress upload-task-progress" ng-show="uploadListCtrl.uploadListCount>0">\n        <div class="progress-thumb" style="width: 100%;"></div>\n    </div>\n    <!--<span class="unread-num upload-unread-num" ng-if="uploadListCtrl.uploadListCount>0"><em >{{uploadListCtrl.uploadListCount}}</em></span>-->\n    <div ng-if="uploadListCtrl.isShowList" class="upload-list-wrap">\n        <div class="file-clear-wrap">\n             文件传输\n            <div class="file-clear" ng-class="{\'file-clear-active\':uploadListCtrl.fileTaskList.length}" ng-click="uploadListCtrl.clearList()">清空记录</div>\n        </div>\n        <div class="file-items">\n            <space-file-item ng-repeat="fileTask in uploadListCtrl.fileTaskList track by fileTask.clientId" info="fileTask"></space-file-item>\n        </div>\n        <div class="file-items-empty-text" ng-if="!uploadListCtrl.fileTaskList.length">暂时没有上传/下载的文件</div>\n    </div>\n</div>\n'}}]),module.exports=moduleName;

},{"../../service/app/download/LocalCache":249,"../../service/fileList/fileListStatusService":386,"../../service/log/localLog":421,"../../service/log/lwlog":424,"../../service/log/statLog":425,"../../service/spacePlugin/config":602,"../../service/spacePlugin/upload":603,"../../service/storage/storage":606,"../../service/toast/toast":611,"../../service/ua":621,"../../service/user/my":635,"../fileList/fileItem":110,"@ali/space-plugin":735,"path":7}],191:[function(require,module,exports){
"use strict";var moduleName="ddWeb.widget.windowOperations",path=require("path"),nwWindow=require("../../service/app/nwWindow");angular.module(moduleName,[]).directive("windowOperations",[function(){return{restrict:"AE",controller:["$scope",function(n){this.closeWindow=function(){nwWindow.closeWindow()},this.miniWindow=function(){nwWindow.miniWindow()},this.fullScreen=function(){nwWindow.fullScreen()}}],link:function(n,i,o){},controllerAs:"windowOperations",template:'<div class="window-operations">\n    <ul>\n        <li class="operation-button close-window" ng-click="windowOperations.closeWindow()"></li>\n        <li class="operation-button mini-window" ng-click="windowOperations.miniWindow()"></li>\n        <li class="operation-button expand-window" ng-click="windowOperations.fullScreen()"></li>\n    </ul>\n</div>'}}]),module.exports=moduleName;

},{"../../service/app/nwWindow":257,"path":7}],192:[function(require,module,exports){
angular.module("ddWeb.filter.departNameFilter",[]).filter("departNameFilter",[function(){return function(e){if(!e)return e;var r=e.split("-");return r[r.length-1]}}]);
},{}],193:[function(require,module,exports){
require("../service/safe/safe");var emoji=require("../service/emoji/emoji"),moduleName="ddWeb.filter.emoj";angular.module(moduleName,["ngSanitize","ddWeb.safe"]).filter("emoj",["safe","$sce",function(e,r){return function(m){m=m?m:"";var a=emoji.parse(e.escapeHTML(m));return r.trustAsHtml(a)}}]),module.exports=moduleName;

},{"../service/emoji/emoji":364,"../service/safe/safe":545}],194:[function(require,module,exports){
"use strict";require("../service/safe/safe");var moment=require("moment");angular.module("ddWeb.filter",["ngSanitize","ddWeb.safe"]).filter("dateTime",["$filter","$translate",function(t,e){return function(t,r,a){if(!t)return"";t=parseInt(t);var m=moment().startOf("day"),n=moment(t).startOf("day"),i=moment(t),f=m.diff(n,"days"),s=(r?i.format("HH:mm"):"")+(a?i.format(":ss"):"");return f==-1?e.instant("dt_time_tomorrow")+" "+s:0==f?s||i.format("HH:mm"):1==f?e.instant("dt_time_yesterday")+" "+s:i.format("MM-DD")+" "+s}}]);

},{"../service/safe/safe":545,"moment":923}],195:[function(require,module,exports){
"use strict";var moduleName="ddWeb.filter.msgfilter";require("../service/safe/safe"),require("../service/face/default"),require("../service/tool/tool");var emoji=require("../service/emoji/emoji"),URI=require("../lib/uri/src/URI"),AtOpenIdType=require("../service/conversation/AtOpenIdType");angular.module(moduleName,["ngSanitize","ddWeb.safe","ddWeb.faces_default","ddWeb.service.tool"]).filter("msgfilter",["safe","$sce","faces_default","tool",function(e,t,r,a){function n(e){return e.replace(o,function(e){var t=e.substring(1,e.length-1),a=r.filter(function(e){return e.name===t})[0];if(a){var n=a.gifsrc||a.src;return"<img draggable='false' class='chat-content-face' title='["+a.name+"]'src='"+n+"' />"}return e})}function c(e){return e.indexOf(".")==-1&&e.indexOf(":")==-1||(e=URI.withinString(e,function(e){return e.indexOf(":&#x2F;&#x2F;")===-1?"<a  data-spm-protocol=\"i\" class='chat-content-text-url' target='_blank' href='http://"+e+"'>"+e+"</a>":"<a  data-spm-protocol=\"i\" class='chat-content-text-url' target='_blank' href='"+e+"'>"+e+"</a>"})),e}function i(t,r){var a=/@[0-9]+[^\s@]/g,n=t.match(a);return n&&n.length&&r&&n.forEach(function(a){var n=a.slice(1),c=r[n];c&&(c=e.escapeHTML(c),c=emoji.parse(c),t=n===AtOpenIdType.ALL?t.replace(a,"@"+c):t.replace(a,'<a class="chat-content-text-link chat-content-text-at" data-uid="'+n+'">@'+c+"</a>"))}),t}function s(e){return e.replace(/\t/g,"  ")}function u(t,r){return t.replace(new RegExp(_.escapeRegExp(r),"ig"),function(t){return'<span class="keyword">'+e.escapeHTML(t)+"</span>"})}var o=/\[[^\]]+\]/gi;return function(r,a,o){var l=null;return l=e.escapeHTML(r),l=c(l),l=emoji.parse(l),l=n(l),a&&(l=i(l,a)),o&&(l=u(l,o)),l=s(l),t.trustAsHtml(l)}}]),module.exports=moduleName;

},{"../lib/uri/src/URI":202,"../service/conversation/AtOpenIdType":290,"../service/emoji/emoji":364,"../service/face/default":377,"../service/safe/safe":545,"../service/tool/tool":616}],196:[function(require,module,exports){
"use strict";var moduleName="ddWeb.filter.secondTohhmmss";angular.module(moduleName,[]).filter("secondTohhmmss",[function(){return function(e,r){var n=parseInt(e),s=parseInt(n/3600),t=parseInt((n-3600*s)/60),e=parseInt(n-3600*s-60*t),m="";return r=!!r,s<10&&s>0?m+="0"+s+":":0!==s?m+=s+":":r&&(m+="0"+s+":"),m+=t<10&&t>=0?"0"+t+":":t+":",m+=e<10&&e>=0?"0"+e:e}}]),module.exports=moduleName;
},{}],197:[function(require,module,exports){
"use strict";var moduleName=module.exports="ddWeb.filter.texthighlight",filterName="textHighlight",emoji=require("../service/emoji/emoji");angular.module(moduleName,[require("../service/safe/safe")]).filter(filterName,["safe","$sce",function(e,r){var i=50,t=20;return function(s,a){if(!a)return r.trustAsHtml(emoji.parse(s));var l="",u=e.escapeHTML(s),m=u.indexOf(a);if(m>i-1){var n=m-t;l=n<0?u:"..."+u.slice(n)}else l=u;return l=l.replace(new RegExp(_.escapeRegExp(a),"ig"),function(e){return'<span class="keyword">'+e+"</span>"}),r.trustAsHtml(emoji.parse(l))}}]);

},{"../service/emoji/emoji":364,"../service/safe/safe":545}],198:[function(require,module,exports){
function Class(t){if(!(this instanceof Class)&&isFunction(t))return classify(t)}function implement(t){var n,i;for(n in t)i=t[n],Class.Mutators.hasOwnProperty(n)?Class.Mutators[n].call(this,i):this.prototype[n]=i}function classify(t){return t.extend=Class.extend,t.implement=implement,t}function Ctor(){}function mix(t,n,i){for(var r in n)if(n.hasOwnProperty(r)){if(i&&indexOf(i,r)===-1)continue;"prototype"!==r&&(t[r]=n[r])}}module.exports=Class,Class.create=function(t,n){function i(){t.apply(this,arguments),this.constructor===i&&this.initialize&&this.initialize.apply(this,arguments)}return isFunction(t)||(n=t,t=null),n||(n={}),t||(t=n.Extends||Class),n.Extends=t,t!==Class&&mix(i,t,t.StaticsWhiteList),implement.call(i,n),classify(i)},Class.extend=function(t){return t||(t={}),t.Extends=this,Class.create(t)},Class.Mutators={Extends:function(t){var n=this.prototype,i=createProto(t.prototype);mix(i,n),i.constructor=this,this.prototype=i,this.superclass=t.prototype},Implements:function(t){isArray(t)||(t=[t]);for(var n,i=this.prototype;n=t.shift();)mix(i,n.prototype||n)},Statics:function(t){mix(this,t)}};var createProto=Object.__proto__?function(t){return{__proto__:t}}:function(t){return Ctor.prototype=t,new Ctor},toString=Object.prototype.toString,isArray=Array.isArray||function(t){return"[object Array]"===toString.call(t)},isFunction=function(t){return"[object Function]"===toString.call(t)},indexOf=Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var i=0,r=t.length;i<r;i++)if(t[i]===n)return i;return-1};
},{}],199:[function(require,module,exports){
module.exports=[{countryCode:"+86",countryKey:"CN",countryName:"中国"},{countryCode:"+1",countryKey:"US",countryName:"美国"},{countryCode:"+81",countryKey:"JP",countryName:"日本"},{countryCode:"+886",countryKey:"TW",countryName:"中国台湾"},{countryCode:"+852",countryKey:"HK",countryName:"中国香港"},{countryCode:"+355",countryKey:"AL",countryName:"阿尔巴尼亚"},{countryCode:"+213",countryKey:"DZ",countryName:"阿尔及利亚"},{countryCode:"+93",countryKey:"AF",countryName:"阿富汗"},{countryCode:"+54",countryKey:"AR",countryName:"阿根廷"},{countryCode:"+353",countryKey:"IE",countryName:"爱尔兰"},{countryCode:"+20",countryKey:"EG",countryName:"埃及"},{countryCode:"+251",countryKey:"ET",countryName:"埃塞俄比亚"},{countryCode:"+372",countryKey:"EE",countryName:"爱沙尼亚"},{countryCode:"+971",countryKey:"AE",countryName:"阿拉伯联合酋长国"},{countryCode:"+297",countryKey:"AW",countryName:"阿鲁巴"},{countryCode:"+968",countryKey:"OM",countryName:"阿曼"},{countryCode:"+376",countryKey:"AD",countryName:"安道尔"},{countryCode:"+244",countryKey:"AO",countryName:"安哥拉"},{countryCode:"+1264",countryKey:"AI",countryName:"安圭拉岛"},{countryCode:"+1268",countryKey:"AG",countryName:"安提瓜岛和巴布达"},{countryCode:"+61",countryKey:"AU",countryName:"澳大利亚"},{countryCode:"+43",countryKey:"AT",countryName:"奥地利"},{countryCode:"+994",countryKey:"AZ",countryName:"阿塞拜疆"},{countryCode:"+1246",countryKey:"BB",countryName:"巴巴多斯岛"},{countryCode:"+675",countryKey:"PG",countryName:"巴布亚新几内亚"},{countryCode:"+1242",countryKey:"BS",countryName:"巴哈马"},{countryCode:"+375",countryKey:"BY",countryName:"白俄罗斯"},{countryCode:"+1441",countryKey:"BM",countryName:"百慕大"},{countryCode:"+92",countryKey:"PK",countryName:"巴基斯坦"},{countryCode:"+595",countryKey:"PY",countryName:"巴拉圭"},{countryCode:"+973",countryKey:"BH",countryName:"巴林"},{countryCode:"+507",countryKey:"PA",countryName:"巴拿马"},{countryCode:"+359",countryKey:"BG",countryName:"保加利亚"},{countryCode:"+55",countryKey:"BR",countryName:"巴西"},{countryCode:"+229",countryKey:"BJ",countryName:"贝宁"},{countryCode:"+32",countryKey:"BE",countryName:"比利时"},{countryCode:"+354",countryKey:"IS",countryName:"冰岛"},{countryCode:"+267",countryKey:"BW",countryName:"博茨瓦纳"},{countryCode:"+1",countryKey:"PR",countryName:"波多黎各"},{countryCode:"+48",countryKey:"PL",countryName:"波兰"},{countryCode:"+591",countryKey:"BO",countryName:"玻利维亚"},{countryCode:"+501",countryKey:"BZ",countryName:"伯利兹"},{countryCode:"+387",countryKey:"BA",countryName:"波斯尼亚和黑塞哥维那"},{countryCode:"+975",countryKey:"BT",countryName:"不丹"},{countryCode:"+226",countryKey:"BF",countryName:"布基纳法索"},{countryCode:"+257",countryKey:"BI",countryName:"布隆迪"},{countryCode:"+850",countryKey:"KP",countryName:"朝鲜"},{countryCode:"+240",countryKey:"GQ",countryName:"赤道几内亚"},{countryCode:"+45",countryKey:"DK",countryName:"丹麦"},{countryCode:"+49",countryKey:"DE",countryName:"德国"},{countryCode:"+670",countryKey:"TL",countryName:"东帝汶"},{countryCode:"+228",countryKey:"TG",countryName:"多哥"},{countryCode:"+1767",countryKey:"DM",countryName:"多米尼加"},{countryCode:"+1809",countryKey:"DO",countryName:"多米尼加共和国"},{countryCode:"+593",countryKey:"EC",countryName:"厄瓜多尔"},{countryCode:"+291",countryKey:"ER",countryName:"厄立特里亚"},{countryCode:"+7",countryKey:"RU",countryName:"俄罗斯"},{countryCode:"+33",countryKey:"FR",countryName:"法国"},{countryCode:"+298",countryKey:"FO",countryName:"法罗群岛"},{countryCode:"+689",countryKey:"PF",countryName:"法属波利尼西亚"},{countryCode:"+679",countryKey:"FJ",countryName:"斐济"},{countryCode:"+63",countryKey:"PH",countryName:"菲律宾"},{countryCode:"+358",countryKey:"FI",countryName:"芬兰"},{countryCode:"+238",countryKey:"CV",countryName:"佛得角"},{countryCode:"+220",countryKey:"GM",countryName:"冈比亚"},{countryCode:"+243",countryKey:"CD",countryName:"刚果共和国"},{countryCode:"+242",countryKey:"CG",countryName:"刚果民主共和国"},{countryCode:"+299",countryKey:"GL",countryName:"格陵兰"},{countryCode:"+1473",countryKey:"GD",countryName:"格林纳达"},{countryCode:"+57",countryKey:"CO",countryName:"哥伦比亚"},{countryCode:"+506",countryKey:"CR",countryName:"哥斯达黎加"},{countryCode:"+1671",countryKey:"GU",countryName:"关岛"},{countryCode:"+53",countryKey:"CU",countryName:"古巴"},{countryCode:"+592",countryKey:"GY",countryName:"圭亚那"},{countryCode:"+509",countryKey:"HT",countryName:"海地"},{countryCode:"+82",countryKey:"KR",countryName:"韩国"},{countryCode:"+7",countryKey:"KZ",countryName:"哈萨克斯坦"},{countryCode:"+382",countryKey:"ME",countryName:"黑山共和国"},{countryCode:"+31",countryKey:"NL",countryName:"荷兰"},{countryCode:"+599",countryKey:"AN",countryName:"荷属安的列斯群岛"},{countryCode:"+504",countryKey:"HN",countryName:"洪都拉斯"},{countryCode:"+233",countryKey:"GH",countryName:"加纳"},{countryCode:"+1",countryKey:"CA",countryName:"加拿大"},{countryCode:"+855",countryKey:"KH",countryName:"柬埔寨"},{countryCode:"+241",countryKey:"GA",countryName:"加蓬"},{countryCode:"+253",countryKey:"DJ",countryName:"吉布提"},{countryCode:"+420",countryKey:"CZ",countryName:"捷克共和国"},{countryCode:"+996",countryKey:"KG",countryName:"吉尔吉斯斯坦"},{countryCode:"+263",countryKey:"ZW",countryName:"津巴布韦"},{countryCode:"+224",countryKey:"GN",countryName:"几内亚"},{countryCode:"+245",countryKey:"GW",countryName:"几内亚比绍"},{countryCode:"+1345",countryKey:"KY",countryName:"开曼群岛"},{countryCode:"+237",countryKey:"CM",countryName:"喀麦隆"},{countryCode:"+974",countryKey:"QA",countryName:"卡塔尔"},{countryCode:"+385",countryKey:"HR",countryName:"克罗地亚"},{countryCode:"+269",countryKey:"KM",countryName:"科摩罗"},{countryCode:"+254",countryKey:"KE",countryName:"肯尼亚"},{countryCode:"+225",countryKey:"CI",countryName:"科特迪瓦"},{countryCode:"+965",countryKey:"KW",countryName:"科威特"},{countryCode:"+682",countryKey:"CK",countryName:"库克群岛"},{countryCode:"+266",countryKey:"LS",countryName:"莱索托"},{countryCode:"+856",countryKey:"LA",countryName:"老挝"},{countryCode:"+371",countryKey:"LV",countryName:"拉脱维亚"},{countryCode:"+961",countryKey:"LB",countryName:"黎巴嫩"},{countryCode:"+231",countryKey:"LR",countryName:"利比里亚"},{countryCode:"+218",countryKey:"LY",countryName:"利比亚"},{countryCode:"+423",countryKey:"LI",countryName:"列支敦士登"},{countryCode:"+370",countryKey:"LT",countryName:"立陶宛"},{countryCode:"+40",countryKey:"RO",countryName:"罗马尼亚"},{countryCode:"+352",countryKey:"LU",countryName:"卢森堡"},{countryCode:"+250",countryKey:"RW",countryName:"卢旺达"},{countryCode:"+261",countryKey:"MG",countryName:"马达加斯加"},{countryCode:"+960",countryKey:"MV",countryName:"马尔代夫"},{countryCode:"+356",countryKey:"MT",countryName:"马耳他"},{countryCode:"+60",countryKey:"MY",countryName:"马来西亚"},{countryCode:"+265",countryKey:"MW",countryName:"马拉维"},{countryCode:"+223",countryKey:"ML",countryName:"马里"},{countryCode:"+222",countryKey:"MR",countryName:"毛里塔尼亚"},{countryCode:"+389",countryKey:"MK",countryName:"马其顿"},{countryCode:"+1",countryKey:"US",countryName:"美国"},{countryCode:"+976",countryKey:"MN",countryName:"蒙古"},{countryCode:"+880",countryKey:"BD",countryName:"孟加拉"},{countryCode:"+95",countryKey:"MM",countryName:"缅甸"},{countryCode:"+51",countryKey:"PE",countryName:"秘鲁"},{countryCode:"+373",countryKey:"MD",countryName:"摩尔多瓦"},{countryCode:"+212",countryKey:"MA",countryName:"摩洛哥"},{countryCode:"+377",countryKey:"MC",countryName:"摩纳哥"},{countryCode:"+258",countryKey:"MZ",countryName:"莫桑比克"},{countryCode:"+52",countryKey:"MX",countryName:"墨西哥"},{countryCode:"+264",countryKey:"NA",countryName:"纳米比亚"},{countryCode:"+27",countryKey:"ZA",countryName:"南非"},{countryCode:"+977",countryKey:"NP",countryName:"尼泊尔"},{countryCode:"+505",countryKey:"NI",countryName:"尼加拉瓜"},{countryCode:"+227",countryKey:"NE",countryName:"尼日尔"},{countryCode:"+234",countryKey:"NG",countryName:"尼日利亚"},{countryCode:"+47",countryKey:"NO",countryName:"挪威"},{countryCode:"+351",countryKey:"PT",countryName:"葡萄牙"},{countryCode:"+995",countryKey:"GE",countryName:"乔治亚"},{countryCode:"+81",countryKey:"JP",countryName:"日本"},{countryCode:"+46",countryKey:"SE",countryName:"瑞典"},{countryCode:"+41",countryKey:"CH",countryName:"瑞士"},{countryCode:"+503",countryKey:"SV",countryName:"萨尔瓦多"},{countryCode:"+381",countryKey:"RS",countryName:"塞尔维亚"},{countryCode:"+232",countryKey:"SL",countryName:"塞拉利昂"},{countryCode:"+221",countryKey:"SN",countryName:"塞内加尔"},{countryCode:"+357",countryKey:"CY",countryName:"塞浦路斯"},{countryCode:"+248",countryKey:"SC",countryName:"塞舌尔"},{countryCode:"+685",countryKey:"WS",countryName:"萨摩亚"},{countryCode:"+966",countryKey:"SA",countryName:"沙特阿拉伯"},{countryCode:"+239",countryKey:"ST",countryName:"圣多美和普林西比"},{countryCode:"+1869",countryKey:"KN",countryName:"圣基茨和尼维斯"},{countryCode:"+1758",countryKey:"LC",countryName:"圣卢西亚"},{countryCode:"+378",countryKey:"SM",countryName:"圣马力诺"},{countryCode:"+508",countryKey:"PM",countryName:"圣皮埃尔和密克隆"},{countryCode:"+1784",countryKey:"VC",countryName:"圣文森特河格林纳丁斯"},{countryCode:"+94",countryKey:"LK",countryName:"斯里兰卡"},{countryCode:"+421",countryKey:"SK",countryName:"斯洛伐克"},{countryCode:"+386",countryKey:"SI",countryName:"斯洛文尼亚"},{countryCode:"+268",countryKey:"SZ",countryName:"斯威士兰"},{countryCode:"+249",countryKey:"SD",countryName:"苏丹"},{countryCode:"+597",countryKey:"SR",countryName:"苏里南"},{countryCode:"+252",countryKey:"SO",countryName:"索马里"},{countryCode:"+66",countryKey:"TH",countryName:"泰国"},{countryCode:"+992",countryKey:"TJ",countryName:"塔吉克斯坦"},{countryCode:"+676",countryKey:"TO",countryName:"汤加"},{countryCode:"+255",countryKey:"TZ",countryName:"坦桑尼亚"},{countryCode:"+1649",countryKey:"TC",countryName:"特克斯和凯科斯群岛"},{countryCode:"+1868",countryKey:"TT",countryName:"特立尼达和多巴哥"},{countryCode:"+90",countryKey:"TR",countryName:"土耳其"},{countryCode:"+993",countryKey:"TM",countryName:"土库曼斯坦"},{countryCode:"+216",countryKey:"TN",countryName:"突尼斯"},{countryCode:"+678",countryKey:"VU",countryName:"瓦努阿图"},{countryCode:"+502",countryKey:"GT",countryName:"危地马拉"},{countryCode:"+58",countryKey:"VE",countryName:"委内瑞拉"},{countryCode:"+673",countryKey:"BN",countryName:"文莱"},{countryCode:"+256",countryKey:"UG",countryName:"乌干达"},{countryCode:"+380",countryKey:"UA",countryName:"乌克兰"},{countryCode:"+598",countryKey:"UY",countryName:"乌拉圭"},{countryCode:"+998",countryKey:"UZ",countryName:"乌兹别克斯坦"},{countryCode:"+34",countryKey:"ES",countryName:"西班牙"},{countryCode:"+30",countryKey:"GR",countryName:"希腊"},{countryCode:"+65",countryKey:"SG",countryName:"新加坡"},{countryCode:"+687",countryKey:"NC",countryName:"新喀里多尼亚"},{countryCode:"+64",countryKey:"NZ",countryName:"新西兰"},{countryCode:"+36",countryKey:"HU",countryName:"匈牙利"},{countryCode:"+963",countryKey:"SY",countryName:"叙利亚"},{countryCode:"+1876",countryKey:"JM",countryName:"牙买加"},{countryCode:"+374",countryKey:"AM",countryName:"亚美尼亚"},{countryCode:"+967",countryKey:"YE",countryName:"也门"},{countryCode:"+39",countryKey:"IT",countryName:"意大利"},{countryCode:"+964",countryKey:"IQ",countryName:"伊拉克"},{countryCode:"+98",countryKey:"IR",countryName:"伊朗"},{countryCode:"+91",countryKey:"IN",countryName:"印度"},{countryCode:"+62",countryKey:"ID",countryName:"印度尼西亚"},{countryCode:"+44",countryKey:"GB",countryName:"英国"},{countryCode:"+1284",countryKey:"VG",countryName:"英属维尔京群岛"},{countryCode:"+972",countryKey:"IL",countryName:"以色列"},{countryCode:"+962",countryKey:"JO",countryName:"约旦"},{countryCode:"+84",countryKey:"VN",countryName:"越南"},{countryCode:"+260",countryKey:"ZM",countryName:"赞比亚"},{countryCode:"+235",countryKey:"TD",countryName:"乍得"},{countryCode:"+350",countryKey:"GI",countryName:"直布罗陀"},{countryCode:"+56",countryKey:"CL",countryName:"智利"},{countryCode:"+236",countryKey:"CF",countryName:"中非共和国"},{countryCode:"+86",countryKey:"CN",countryName:"中国"},{countryCode:"+853",countryKey:"MO",countryName:"中国澳门"},{countryCode:"+886",countryKey:"TW",countryName:"中国台湾"},{countryCode:"+852",countryKey:"HK",countryName:"中国香港"}];
},{}],200:[function(require,module,exports){
!function(t,r){module.exports=r()}(this,function(t){"use strict";function r(t){var r=t.toLowerCase(),i=r.split(":"),n=i.length,e=8;""===i[0]&&""===i[1]&&""===i[2]?(i.shift(),i.shift()):""===i[0]&&""===i[1]?i.shift():""===i[n-1]&&""===i[n-2]&&i.pop(),n=i.length,i[n-1].indexOf(".")!==-1&&(e=7);var o;for(o=0;o<n&&""!==i[o];o++);if(o<e){for(i.splice(o,1,"0000");i.length<e;)i.splice(o,0,"0000");n=i.length}for(var s,f=0;f<e;f++){s=i[f].split("");for(var l=0;l<3&&("0"===s[0]&&s.length>1);l++)s.splice(0,1);i[f]=s.join("")}var h=-1,c=0,v=0,p=-1,u=!1;for(f=0;f<e;f++)u?"0"===i[f]?v+=1:(u=!1,v>c&&(h=p,c=v)):"0"===i[f]&&(u=!0,p=f,v=1);v>c&&(h=p,c=v),c>1&&i.splice(h,c,""),n=i.length;var a="";for(""===i[0]&&(a=":"),f=0;f<n&&(a+=i[f],f!==n-1);f++)a+=":";return""===i[n-1]&&(a+=":"),a}function i(){return t.IPv6===this&&(t.IPv6=n),this}var n=t&&t.IPv6;return{best:r,noConflict:i}});

},{}],201:[function(require,module,exports){
!function(o,e){module.exports=e()}(this,function(o){"use strict";var e=o&&o.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1)return!1;var r=o.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return!1;var g=n.list[o.slice(e+1)];return!!g&&g.indexOf(" "+o.slice(r+1,e)+" ")>=0},is:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1)return!1;var r=o.lastIndexOf(".",e-1);if(r>=0)return!1;var g=n.list[o.slice(e+1)];return!!g&&g.indexOf(" "+o.slice(0,e)+" ")>=0},get:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1)return null;var r=o.lastIndexOf(".",e-1);if(r<=0||r>=e-1)return null;var g=n.list[o.slice(e+1)];return g?g.indexOf(" "+o.slice(r+1,e)+" ")<0?null:o.slice(r+1):null},noConflict:function(){return o.SecondLevelDomains===this&&(o.SecondLevelDomains=e),this}};return n});

},{}],202:[function(require,module,exports){
!function(t,e){module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains"))}(this,function(t,e,r,s){"use strict";function n(t,e){return this instanceof n?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new n(t,e)}function i(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function o(t){return"Array"===a(t)}function h(t,e){var r,s,n={};if(o(e))for(r=0,s=e.length;r<s;r++)n[e[r]]=!0;else n[e]=!0;for(r=0,s=t.length;r<s;r++)void 0!==n[t[r]]&&(t.splice(r,1),s--,r--);return t}function u(t,e){var r,s;if(o(e)){for(r=0,s=e.length;r<s;r++)if(!u(t,e[r]))return!1;return!0}var n=a(e);for(r=0,s=t.length;r<s;r++)if("RegExp"===n){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function p(t,e){if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,s=t.length;r<s;r++)if(t[r]!==e[r])return!1;return!0}function c(t){return escape(t)}function l(t){return encodeURIComponent(t).replace(/[!'()*]/g,c).replace(/\*/g,"%2A")}function d(t){return function(e,r){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!r),this)}}function f(t,e){return function(r,s){return void 0===r?this._parts[t]||"":(null!==r&&(r+="",r.charAt(0)===e&&(r=r.substring(1))),this._parts[t]=r,this.build(!s),this)}}var m=s&&s.URI;n.version="1.14.1";var _=n.prototype,g=Object.prototype.hasOwnProperty;n._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:n.duplicateQueryParameters,escapeQuerySpace:n.escapeQuerySpace}},n.duplicateQueryParameters=!1,n.escapeQuerySpace=!0,n.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,n.idn_expression=/[^a-z0-9\.-]/i,n.punycode_expression=/(xn--)/i,n.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.findUri={start:/(?:((https|http|ftp|rtsp|mms):&#x2F;&#x2F;)|www\.)/gi,end:/[，。“”„‘’；【】《》（）\s\r\n@\u4E00-\u9FA5]|$/,trim:/[`!()\[\]{}:'".,<>?«»“”„‘’]+$/},n.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},n.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,n.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},n.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return n.domAttributes[e]}},n.encode=l,n.decode=decodeURIComponent,n.iso8859=function(){n.encode=escape,n.decode=unescape},n.unicode=function(){n.encode=l,n.decode=decodeURIComponent},n.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},n.encodeQuery=function(t,e){var r=n.encode(t+"");return void 0===e&&(e=n.escapeQuerySpace),e?r.replace(/%20/g,"+"):r},n.decodeQuery=function(t,e){t+="",void 0===e&&(e=n.escapeQuerySpace);try{return n.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}},n.recodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;r<s;r++)e[r]=n.encodePathSegment(n.decode(e[r]));return e.join("/")},n.decodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;r<s;r++)e[r]=n.decodePathSegment(e[r]);return e.join("/")};var y,v={encode:"encode",decode:"decode"},b=function(t,e){return function(r){try{return n[e](r+"").replace(n.characters[t][e].expression,function(r){return n.characters[t][e].map[r]})}catch(t){return r}}};for(y in v)n[y+"PathSegment"]=b("pathname",v[y]);n.encodeReserved=b("reserved","encode"),n.parse=function(t,e){var r;return e||(e={}),r=t.indexOf("#"),r>-1&&(e.fragment=t.substring(r+1)||null,t=t.substring(0,r)),r=t.indexOf("?"),r>-1&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=n.parseAuthority(t,e)):(r=t.indexOf(":"),r>-1&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(n.protocol_expression)?e.protocol=void 0:"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=n.parseAuthority(t,e)):(t=t.substring(r+1),e.urn=!0))),e.path=t,e},n.parseHost=function(t,e){var r,s,n=t.indexOf("/");return n===-1&&(n=t.length),"["===t.charAt(0)?(r=t.indexOf("]"),e.hostname=t.substring(1,r)||null,e.port=t.substring(r+2,n)||null,"/"===e.port&&(e.port=null)):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,n)||null,e.port=null):(s=t.substring(0,n).split(":"),e.hostname=s[0]||null,e.port=s[1]||null),e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},n.parseAuthority=function(t,e){return t=n.parseUserinfo(t,e),n.parseHost(t,e)},n.parseUserinfo=function(t,e){var r,s=t.indexOf("/"),i=t.lastIndexOf("@",s>-1?s:t.length-1);return i>-1&&(s===-1||i<s)?(r=t.substring(0,i).split(":"),e.username=r[0]?n.decode(r[0]):null,r.shift(),e.password=r[0]?n.decode(r.join(":")):null,t=t.substring(i+1)):(e.username=null,e.password=null),t},n.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var r,s,i,a={},o=t.split("&"),h=o.length,u=0;u<h;u++)r=o[u].split("="),s=n.decodeQuery(r.shift(),e),i=r.length?n.decodeQuery(r.join("="),e):null,g.call(a,s)?("string"==typeof a[s]&&(a[s]=[a[s]]),a[s].push(i)):a[s]=i;return a},n.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=n.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},n.buildHost=function(t){var e="";return t.hostname?(e+=n.ip6_expression.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},n.buildAuthority=function(t){return n.buildUserinfo(t)+n.buildHost(t)},n.buildUserinfo=function(t){var e="";return t.username&&(e+=n.encode(t.username),t.password&&(e+=":"+n.encode(t.password)),e+="@"),e},n.buildQuery=function(t,e,r){var s,i,a,h,u="";for(i in t)if(g.call(t,i)&&i)if(o(t[i]))for(s={},a=0,h=t[i].length;a<h;a++)void 0!==t[i][a]&&void 0===s[t[i][a]+""]&&(u+="&"+n.buildQueryParameter(i,t[i][a],r),e!==!0&&(s[t[i][a]+""]=!0));else void 0!==t[i]&&(u+="&"+n.buildQueryParameter(i,t[i],r));return u.substring(1)},n.buildQueryParameter=function(t,e,r){return n.encodeQuery(t,r)+(null!==e?"="+n.encodeQuery(e,r):"")},n.addQuery=function(t,e,r){if("object"==typeof e)for(var s in e)g.call(e,s)&&n.addQuery(t,s,e[s]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=r);"string"==typeof t[e]&&(t[e]=[t[e]]),o(r)||(r=[r]),t[e]=(t[e]||[]).concat(r)}},n.removeQuery=function(t,e,r){var s,i,a;if(o(e))for(s=0,i=e.length;s<i;s++)t[e[s]]=void 0;else if("object"==typeof e)for(a in e)g.call(e,a)&&n.removeQuery(t,a,e[a]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==r?t[e]===r?t[e]=void 0:o(t[e])&&(t[e]=h(t[e],r)):t[e]=void 0}},n.hasQuery=function(t,e,r,s){if("object"==typeof e){for(var i in e)if(g.call(e,i)&&!n.hasQuery(t,i,e[i]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(r)){case"Undefined":return e in t;case"Boolean":var h=Boolean(o(t[e])?t[e].length:t[e]);return r===h;case"Function":return!!r(t[e],e,t);case"Array":if(!o(t[e]))return!1;var c=s?u:p;return c(t[e],r);case"RegExp":return o(t[e])?!!s&&u(t[e],r):Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return o(t[e])?!!s&&u(t[e],r):t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.commonPath=function(t,e){var r,s=Math.min(t.length,e.length);for(r=0;r<s;r++)if(t.charAt(r)!==e.charAt(r)){r--;break}return r<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(r)&&"/"===e.charAt(r)||(r=t.substring(0,r).lastIndexOf("/")),t.substring(0,r+1))},n.withinString=function(t,e,r){r||(r={});var s=r.start||n.findUri.start,i=r.end||n.findUri.end,a=r.trim||n.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(s.lastIndex=0;;){var h=s.exec(t);if(!h)break;var u=h.index;if(r.ignoreHtml){var p=t.slice(Math.max(u-3,0),u);if(p&&o.test(p))continue}var c=u+t.slice(u).search(i),l=t.slice(u,c).replace(a,"");if(!r.ignore||!r.ignore.test(l)){c=u+l.length;var d=e(l,u,c,t);t=t.slice(0,u)+d+t.slice(c),s.lastIndex=u+d.length}}return s.lastIndex=0,t},n.ensureValidHostname=function(e){if(e.match(n.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(n.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},n.noConflict=function(t){if(t){var e={URI:this.noConflict()};return s.URITemplate&&"function"==typeof s.URITemplate.noConflict&&(e.URITemplate=s.URITemplate.noConflict()),s.IPv6&&"function"==typeof s.IPv6.noConflict&&(e.IPv6=s.IPv6.noConflict()),s.SecondLevelDomains&&"function"==typeof s.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=s.SecondLevelDomains.noConflict()),e}return s.URI===this&&(s.URI=m),this},_.build=function(t){return t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=n.build(this._parts),this._deferred_build=!1),this},_.clone=function(){return new n(this)},_.valueOf=_.toString=function(){return this.build(!1)._string},_.protocol=d("protocol"),_.username=d("username"),_.password=d("password"),_.hostname=d("hostname"),_.port=d("port"),_.query=f("query","?"),_.fragment=f("fragment","#"),_.search=function(t,e){var r=this.query(t,e);return"string"==typeof r&&r.length?"?"+r:r},_.hash=function(t,e){var r=this.fragment(t,e);return"string"==typeof r&&r.length?"#"+r:r},_.pathname=function(t,e){if(void 0===t||t===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return t?n.decodePath(r):r}return this._parts.path=t?n.recodePath(t):"/",this.build(!e),this},_.path=_.pathname,_.href=function(t,e){var r;if(void 0===t)return this.toString();this._string="",this._parts=n._parts();var s=t instanceof n,i="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var a=n.getDomAttribute(t);t=t[a]||"",i=!1}if(!s&&i&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this._parts=n.parse(String(t),this._parts);else{if(!s&&!i)throw new TypeError("invalid input");var o=s?t._parts:t;for(r in o)g.call(this._parts,r)&&(this._parts[r]=o[r])}return this.build(!e),this},_.is=function(t){var e=!1,s=!1,i=!1,a=!1,o=!1,h=!1,u=!1,p=!this._parts.urn;switch(this._parts.hostname&&(p=!1,s=n.ip4_expression.test(this._parts.hostname),i=n.ip6_expression.test(this._parts.hostname),e=s||i,a=!e,o=a&&r&&r.has(this._parts.hostname),h=a&&n.idn_expression.test(this._parts.hostname),u=a&&n.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return a;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return i;case"idn":return h;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var Q=_.protocol,w=_.port,A=_.hostname;_.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(n.protocol_expression)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return Q.call(this,t,e)},_.scheme=_.protocol,_.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return w.call(this,t,e)},_.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var r={};n.parseHost(t,r),t=r.hostname}return A.call(this,t,e)},_.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?n.buildHost(this._parts):"":(n.parseHost(t,this._parts),this.build(!e),this)},_.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?n.buildAuthority(this._parts):"":(n.parseAuthority(t,this._parts),this.build(!e),this)},_.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var r=n.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==t[t.length-1]&&(t+="@"),n.parseUserinfo(t,this._parts),this.build(!e),this},_.resource=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=n.parse(t),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!e),this)},_.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var s=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,s),o=new RegExp("^"+i(a));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&n.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(o,t),this.build(!e),this},_.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var s=this._parts.hostname.length-this.tld(e).length-1;return s=this._parts.hostname.lastIndexOf(".",s-1)+1,this._parts.hostname.substring(s)||""}if(!t)throw new TypeError("cannot set domain empty");if(n.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var a=new RegExp(i(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},_.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var s=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(s+1);return e!==!0&&r&&r.list[n.toLowerCase()]?r.get(this._parts.hostname)||n:n}var a;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},_.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,s=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return t?n.decodePath(s):s}var a=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,a),h=new RegExp("^"+i(o));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t),this.build(!e),this},_.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),s=this._parts.path.substring(r+1);return t?n.decodePathSegment(s):s}var a=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(a=!0);var o=new RegExp(i(this.filename())+"$");return t=n.recodePath(t),this._parts.path=this._parts.path.replace(o,t),a?this.normalizePath(e):this.build(!e),this},_.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r,s,a=this.filename(),o=a.lastIndexOf(".");return o===-1?"":(r=a.substring(o+1),s=/^[a-z0-9%]+$/i.test(r)?r:"",t?n.decodePathSegment(s):s)}"."===t.charAt(0)&&(t=t.substring(1));var h,u=this.suffix();if(u)h=t?new RegExp(i(u)+"$"):new RegExp(i("."+u)+"$");else{if(!t)return this;this._parts.path+="."+n.recodePath(t)}return h&&(t=n.recodePath(t),this._parts.path=this._parts.path.replace(h,t)),this.build(!e),this},_.segment=function(t,e,r){var s=this._parts.urn?":":"/",n=this.path(),i="/"===n.substring(0,1),a=n.split(s);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(i&&a.shift(),t<0&&(t=Math.max(a.length+t,0)),void 0===e)return void 0===t?a:a[t];if(null===t||void 0===a[t])if(o(e)){a=[];for(var h=0,u=e.length;h<u;h++)(e[h].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(e[h]))}else(e||"string"==typeof e)&&(""===a[a.length-1]?a[a.length-1]=e:a.push(e));else e?a[t]=e:a.splice(t,1);return i&&a.unshift(""),this.path(a.join(s),r)},_.segmentCoded=function(t,e,r){var s,i,a;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(s=this.segment(t,e,r),o(s))for(i=0,a=s.length;i<a;i++)s[i]=n.decode(s[i]);else s=void 0!==s?n.decode(s):void 0;return s}if(o(e))for(i=0,a=e.length;i<a;i++)e[i]=n.decode(e[i]);else e="string"==typeof e||e instanceof String?n.encode(e):e;return this.segment(t,e,r)};var P=_.query;return _.query=function(t,e){if(t===!0)return n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var r=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace),s=t.call(this,r);return this._parts.query=n.buildQuery(s||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=n.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):P.call(this,t,e)},_.setQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof t||t instanceof String)s[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in t)g.call(t,i)&&(s[i]=t[i])}return this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},_.addQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.addQuery(s,t,void 0===e?null:e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},_.removeQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.removeQuery(s,t,e),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},_.hasQuery=function(t,e,r){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.hasQuery(s,t,e,r)},_.setSearch=_.setQuery,_.addSearch=_.addQuery,_.removeSearch=_.removeQuery,_.hasSearch=_.hasQuery,_.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},_.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},_.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},_.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===n.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},_.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var e,r,s,i=this._parts.path,a="";for("/"!==i.charAt(0)&&(e=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(a=i.substring(1).match(/^(\.\.\/)+/)||"",a&&(a=a[0]));;){if(r=i.indexOf("/.."),r===-1)break;0!==r?(s=i.substring(0,r).lastIndexOf("/"),s===-1&&(s=r),i=i.substring(0,s)+i.substring(r+3)):i=i.substring(3)}return e&&this.is("relative")&&(i=a+i.substring(1)),i=n.recodePath(i),this._parts.path=i,this.build(!t),this},_.normalizePathname=_.normalizePath,_.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(n.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},_.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},_.normalizeSearch=_.normalizeQuery,_.normalizeHash=_.normalizeFragment,_.iso8859=function(){var t=n.encode,e=n.decode;return n.encode=escape,n.decode=decodeURIComponent,this.normalize(),n.encode=t,n.decode=e,this},_.unicode=function(){var t=n.encode,e=n.decode;return n.encode=l,n.decode=unescape,this.normalize(),n.encode=t,n.decode=e,this},_.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e._parts.protocol&&(r+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(r+=t.toUnicode(e._parts.hostname),e._parts.port&&(r+=":"+e._parts.port)):r+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(r+="/"),r+=e.path(!0),e._parts.query){for(var s="",i=0,a=e._parts.query.split("&"),o=a.length;i<o;i++){var h=(a[i]||"").split("=");s+="&"+n.decodeQuery(h[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==h[1]&&(s+="="+n.decodeQuery(h[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+s.substring(1)}return r+=n.decodeQuery(e.hash(),!0)},_.absoluteTo=function(t){var e,r,s,i=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof n||(t=new n(t)),i._parts.protocol||(i._parts.protocol=t._parts.protocol),this._parts.hostname)return i;for(r=0;s=a[r];r++)i._parts[s]=t._parts[s];return i._parts.path?".."===i._parts.path.substring(-2)&&(i._parts.path+="/"):(i._parts.path=t._parts.path,i._parts.query||(i._parts.query=t._parts.query)),"/"!==i.path().charAt(0)&&(e=t.directory(),i._parts.path=(e?e+"/":"")+i._parts.path,i.normalizePath()),i.build(),i},_.relativeTo=function(t){var e,r,s,i,a,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new n(t).normalize(),e=o._parts,r=t._parts,i=o.path(),a=t.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===r.protocol&&(e.protocol=null),e.username!==r.username||e.password!==r.password)return o.build();if(null!==e.protocol||null!==e.username||null!==e.password)return o.build();if(e.hostname!==r.hostname||e.port!==r.port)return o.build();if(e.hostname=null,e.port=null,i===a)return e.path="",o.build();if(s=n.commonPath(o.path(),t.path()),!s)return o.build();var h=r.path.substring(s.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=h+e.path.substring(s.length),o.build()},_.equals=function(t){var e,r,s,i=this.clone(),a=new n(t),h={},u={},c={};if(i.normalize(),a.normalize(),i.toString()===a.toString())return!0;if(e=i.query(),r=a.query(),i.query(""),a.query(""),i.toString()!==a.toString())return!1;if(e.length!==r.length)return!1;h=n.parseQuery(e,this._parts.escapeQuerySpace),u=n.parseQuery(r,this._parts.escapeQuerySpace);for(s in h)if(g.call(h,s)){if(o(h[s])){if(!p(h[s],u[s]))return!1}else if(h[s]!==u[s])return!1;c[s]=!0}for(s in u)if(g.call(u,s)&&!c[s])return!1;return!0},_.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},_.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},n});

},{"./IPv6":200,"./SecondLevelDomains":201,"./punycode":203}],203:[function(require,module,exports){
(function (global){
!function(o){function n(o){throw RangeError(S[o])}function r(o,n){for(var r=o.length;r--;)o[r]=n(o[r]);return o}function t(o,n){return r(o.split(O),n).join(".")}function e(o){for(var n,r,t=[],e=0,u=o.length;e<u;)n=o.charCodeAt(e++),n>=55296&&n<=56319&&e<u?(r=o.charCodeAt(e++),56320==(64512&r)?t.push(((1023&n)<<10)+(1023&r)+65536):(t.push(n),e--)):t.push(n);return t}function u(o){return r(o,function(o){var n="";return o>65535&&(o-=65536,n+=R(o>>>10&1023|55296),o=56320|1023&o),n+=R(o)}).join("")}function i(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:b}function f(o,n){return o+22+75*(o<26)-((0!=n)<<5)}function c(o,n,r){var t=0;for(o=r?M(o/A):o>>1,o+=M(o/n);o>L*C>>1;t+=b)o=M(o/L);return M(t+(L+1)*o/(o+j))}function l(o){var r,t,e,f,l,a,s,d,p,h,v=[],g=o.length,j=0,A=I,y=m;for(t=o.lastIndexOf(F),t<0&&(t=0),e=0;e<t;++e)o.charCodeAt(e)>=128&&n("not-basic"),v.push(o.charCodeAt(e));for(f=t>0?t+1:0;f<g;){for(l=j,a=1,s=b;f>=g&&n("invalid-input"),d=i(o.charCodeAt(f++)),(d>=b||d>M((w-j)/a))&&n("overflow"),j+=d*a,p=s<=y?x:s>=y+C?C:s-y,!(d<p);s+=b)h=b-p,a>M(w/h)&&n("overflow"),a*=h;r=v.length+1,y=c(j-l,r,0==l),M(j/r)>w-A&&n("overflow"),A+=M(j/r),j%=r,v.splice(j++,0,A)}return u(v)}function a(o){var r,t,u,i,l,a,s,d,p,h,v,g,j,A,y,E=[];for(o=e(o),g=o.length,r=I,t=0,l=m,a=0;a<g;++a)v=o[a],v<128&&E.push(R(v));for(u=i=E.length,i&&E.push(F);u<g;){for(s=w,a=0;a<g;++a)v=o[a],v>=r&&v<s&&(s=v);for(j=u+1,s-r>M((w-t)/j)&&n("overflow"),t+=(s-r)*j,r=s,a=0;a<g;++a)if(v=o[a],v<r&&++t>w&&n("overflow"),v==r){for(d=t,p=b;h=p<=l?x:p>=l+C?C:p-l,!(d<h);p+=b)y=d-h,A=b-h,E.push(R(f(h+y%A,0))),d=M(y/A);E.push(R(f(d,0))),l=c(t,j,u==i),t=0,++u}++t,++r}return E.join("")}function s(o){return t(o,function(o){return y.test(o)?l(o.slice(4).toLowerCase()):o})}function d(o){return t(o,function(o){return E.test(o)?"xn--"+a(o):o})}var p="object"==typeof exports&&exports,h="object"==typeof module&&module&&module.exports==p&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v||(o=v);var g,w=2147483647,b=36,x=1,C=26,j=38,A=700,m=72,I=128,F="-",y=/^xn--/,E=/[^ -~]/,O=/\x2E|\u3002|\uFF0E|\uFF61/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-x,M=Math.floor,R=String.fromCharCode;g={version:"1.2.3",ucs2:{decode:e,encode:u},decode:l,encode:a,toASCII:d,toUnicode:s},h.exports=g}(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],204:[function(require,module,exports){
"use strict";var moduleName="ddWeb.module.apiTest";angular.module(moduleName,[require("../../directive/microApp/microAppContainer"),require("../../service/openAPI/config"),require("../../service/openAPI/initHelper")]).controller("apiTestCtrl",["$scope","openAPIConfig","openAPIInitHelper",function(e,r,t){var i=this;this.resultUrl="about:blank",this.testUrl="",this.submitTestUrl=function(){i.resultUrl=i.testUrl},e.$on("$destroy",function(){})}]),module.exports=moduleName;

},{"../../directive/microApp/microAppContainer":120,"../../service/openAPI/config":519,"../../service/openAPI/initHelper":525}],205:[function(require,module,exports){
"use strict";var _=require("lodash");require("../../service/log/lwlog"),require("../../service/modal/profileModal"),require("../../directive/chat/headerBar/chatCall"),require("../../service/unPopModal/groupSetting");var localLog=require("../../service/log/localLog"),ua=require("../../service/ua"),cloudSetting=require("@ali/wksdk").cloudSetting,CSMap=require("../../service/CSConfig/CSMap"),IMLogType=require("../../service/log/imLogType"),ua=require("../../service/ua.js"),WORK_ITEMS_COUNT=10,GlobalUrl=require("../../service/globalUrl"),ConvType=require("../../service/conversation/ConvType"),$my=require("../../service/user/my"),app=angular.module("ddWeb.chat",[require("../../service/conversation/conversationWithSDK"),"ddWeb.log.lwlog","ddWeb.unPopModal.groupSetting","ddWeb.service.profileModal","ddWeb.chat.chatCall",require("../../service/microApp/appList"),require("../../service/openWindow/openWindow"),require("../../service/modal/groupAddMembersModal"),require("../../service/unPopModal/groupAnnounce"),require("../../service/unPopModal/groupFileList"),require("../../service/onebox/oneboxModal"),require("../../service/onebox/onebox"),require("../../service/toast/toast"),require("../../directive/chat/chatBoxNew"),require("../../directive/chat/input/responsiveInput"),require("../../directive/chat/dragToUpload"),require("../../directive/avatar/groupAvatar"),require("../../service/frameContainer/slidePanel"),require("../../service/modal/createConference.js"),require("../../component/user/userDingTitle.js"),require("../../service/user/userManager"),require("../../service/log/imLog")]);app.controller("chat",["$scope","$rootScope","conversationWithSDK","$stateParams","groupSettingService","profileModalService","lwlog","UserI","appList","$OpenWindow","groupAddMembersModalService","$interval","openGroupFileList","groupAnnounceService","toastService","openSlidePanelContainer","$translate","openOneBox","oneboxService","createConference","userManager","imLog",function(e,o,t,n,i,r,s,a,c,l,d,v,u,p,h,g,E,f,b,m,C,S){function M(e){d.showModal(e).then(function(t){t=t.concat(parseInt(e.lockedIds[0]!=$my.uid?e.lockedIds[0]:e.lockedIds[1])),O.createConversation(t,null,{isOrg:!1},function(e,t){if(e)S.trace(t,IMLogType.SINGLE_ADD_MEMBER),o.$broadcast("leftpannel.openChatByGroup",{conversationId:t});else{var n=arguments[1],i=n.body[1];i&&h.show(i,{type:"error"})}})}).catch(function(e){e instanceof Error&&h.show(e.message,{type:"error"})})}function y(){v.cancel(W),W=null,B=0}function T(){W?y():W=v(function(){B++<G?x.typingWords+=".":B>G+1&&(x.typingWords="正在输入",B=0)},300)}var O=t,x=this;x.text={dt_chatbox_operations_announcement:E.instant("dt_chatbox_operations_announcement"),dt_chatbox_operations_chatfile:E.instant("dt_chatbox_operations_chatfile"),dt_chatbox_operations_groupsetting:E.instant("dt_chatbox_operations_groupsetting"),dt_chatbox_operations_addMember:E.instant("dt_chatbox_operations_addMember"),dt_chatbox_operations_profile:E.instant("dt_chatbox_operations_profile"),dt_chatbox_operations_call:E.instant("dt_chatbox_operations_call"),dt_chatbox_operations_videoconf:E.instant("pc_tel_conf_video"),dt_chatbox_operetions_remote_assist:E.instant("dt_chatbox_operetions_remote_assist")};var I=n.id;if(this.searchMessageId=n.searchMessageId,this.keyword=n.keyword,this.ua=ua,x.conv=O.getConvObj(I),x.ConvType=ConvType,s.commLog("chat_open_conversation","cid="+I),x.cid=n.id,x.myuid=$my.uid,x.isSingle=1===x.conv.baseConversation.type,x.ua=ua,x.isSingle){var A=x.conv.baseConversation.conversationId.split(":"),N=x.myuid==A[0]?A[1]:A[0];x.uid=parseInt(N)}var w=x.conv.baseConversation.tag===x.ConvType.COMPANY_GROUP&&x.conv.baseConversation.extension&&x.conv.baseConversation.extension.id;x.spaceText=x.text.dt_chatbox_operations_chatfile,this.goCloudDisk=function(e){e.stopPropagation(),e.preventDefault(),x.conv.getIMSpaceId().then(function(e){u({cid:I,orgId:w||void 0,spaceId:e,title:x.spaceText})}),s.commLog("chat_open_space_document","")},this.showGroupSettingModal=function(o){o.preventDefault(),o.stopPropagation(),i.open(e,{cid:I}).then(function(e){},function(e){})},this.showGroupBulletinModal=function(e){e.preventDefault(),e.stopPropagation(),p.open({cid:I})},this.showProfile=function(){r(N)},this.showSafetyProfile=function(e){this.conv.isSafety&&(e.stopPropagation(),g({title:"第三方加密",url:GlobalUrl.SAFETY_INTRUDUCE}))},x.hasNewOneBoxMsg=!1,this.isShowOnebox=!1,this.isOAConv=!1,this.titleDesc="";var q=20;this.conv.isSingleChat&&this.conv.baseConversation.tag!==ConvType.FILEHELPER&&this.conv.baseConversation.tag!==ConvType.SECRETARY&&b.listNewest(this.conv.oppositeUid,q).then(function(o){if(o.body){var t=o.body;if(1===o.body.visibility){if(t.relation===b.RELATION.COLLEAGUE&&t.workCount>0)x.hasNewOneBoxMsg=!0;else if(t.relation===b.RELATION.CUSTOMER&&t.businessItems){var n=t.businessItems.filter(function(e){return e.creatorType===b.CREATOR_TYPE.NORMAL});n.length>0&&(x.hasNewOneBoxMsg=!0)}t.relation!==b.RELATION.COLLEAGUE&&t.relation!==b.RELATION.CUSTOMER||(this.isShowOnebox=!0)}this.titleDesc=_.get(t,"miniProfile.identity"),e.$evalAsync()}}.bind(this));var L=null;if(!this.conv.isSingleChat&&this.conv.baseConversation.tag===this.ConvType.ANNOUNCEMENT&&_.get(this.conv.baseConversation,"extension.org_id")&&(this.isOAConv=!0,L=parseInt(_.get(this.conv.baseConversation,"extension.org_id")),b.getOAConvOnebox(L,Number.MAX_SAFE_INTEGER,WORK_ITEMS_COUNT).then(function(o){if(o.body){if(1!==o.body.visibility)return;if(o.body.workCount&&o.body.workCount>0){x.isShowOnebox=!0;var t=o.body;x.hasNewOneBoxMsg=!0,x.titleDesc=E.instant("dt_AT_pull_down_show_detail",{value1:t.workCount}),e.$evalAsync()}else x.titleDesc=E.instant("dt_im_box_work_empty_title"),e.$evalAsync()}})),!this.conv.isSingleChat&&this.conv.baseConversation.tag===this.ConvType.COMPANY_GROUP){var w=_.get(this.conv,"baseConversation.extension.id"),P="",R="",U="";if($my.orgEmployees&&w){var k=$my.getOrgByOid(w);k&&(P=k.orgEmployeeModel.orgName)}this.conv.baseConversation.extension&&this.conv.baseConversation.extension.deptId&&(R="dept",this.conv.isAllUserGroup&&(R="allUser"),"dept"===R&&(U=_.get(this.conv,"baseConversation.extension.deptName"))),"dept"===R&&U?x.titleDesc=U+"("+P+")":P&&(x.titleDesc=P)}this.showOnebox=function(o){o.stopPropagation(),x.isShowOnebox&&(f.openSlidePanel(e,{cid:I,openId:x.conv.oppositeUid,isOAConv:x.isOAConv,orgId:L}),x.hasNewOneBoxMsg=!1)},this.sendMsgCallBack=[],this.addMember=function(){var e={isCompanyGroup:!1,oid:null,orgName:null,lockedIds:[],conversationId:x.conv.baseConversation.conversationId};e.lockedIds=x.conv.baseConversation.conversationId.split(":").map(function(e){return parseInt(e)}),M(e)},this.createConference=function(){x.conv.getMembers().then(function(e){var o=e.map(function(e){return parseInt(e.openIdEx.openId,10)}).filter(function(e){return e!==$my.uid});m.showModal({customUids:o}),s.commLog("chat_group_makephone_click","")})};var $=cloudSetting.getConfig(CSMap.REMOTE.module,CSMap.REMOTE.key);this.isShowRemoteAssist=!0,_.isObject($)&&(this.isShowRemoteAssist="0"!==$.settingValue);var D=function(o){_.isObject(o)&&(this.isShowRemoteAssist="0"!==$.settingValue,e.$digest())}.bind(this);cloudSetting.addListener(CSMap.REMOTE.module,CSMap.REMOTE.key,D),this.remoteAssist=function(){C.getUsers([x.uid]).then(function(e){var o=e[0];s.commLog("chat_single_remote_assist_click",""),dingtalk.remote.startRemote(_.get($my,"userProfileModel.uid")+"",_.get($my,"userProfileModel.nick"),_.get(o,"userProfileModel.uid")+"",_.get(o,"userProfileModel.nick"),function(e,o){e&&localLog.error("startRemote error:",JSON.stringify(e))})})};var W=null,G=3,B=0;this.typingWords="正在输入";var V=function(){try{e.$digest()}catch(e){console.log(e)}},H=function(e){e?(x.typingWords="正在输入",T()):y(),V()};x.conv.EventEmitter.on(x.conv.EVENTS.TYPING_SHOW,H),x.conv.EventEmitter.on(x.conv.EVENTS.UPDATE_BASE_CONV,V),x.conv.EventEmitter.on(x.conv.EVENTS.SHOW_SIZE_CHANGE,V),x.conv.EventEmitter.on(x.conv.EVENTS.UPDATE_TITLE,V),e.$on("$destroy",function(){y(),x.conv.EventEmitter.off(x.conv.EVENTS.TYPING_SHOW,H),x.conv.EventEmitter.off(x.conv.EVENTS.UPDATE_BASE_CONV,V),x.conv.EventEmitter.off(x.conv.EVENTS.SHOW_SIZE_CHANGE,V),x.conv.EventEmitter.off(x.conv.EVENTS.UPDATE_TITLE,V),cloudSetting.removeListener(CSMap.REMOTE.module,CSMap.REMOTE.key,D)})}]);

},{"../../component/user/userDingTitle.js":47,"../../directive/avatar/groupAvatar":51,"../../directive/chat/chatBoxNew":56,"../../directive/chat/dragToUpload":57,"../../directive/chat/headerBar/chatCall":59,"../../directive/chat/input/responsiveInput":64,"../../service/CSConfig/CSMap":236,"../../service/conversation/ConvType":294,"../../service/conversation/conversationWithSDK":308,"../../service/frameContainer/slidePanel":388,"../../service/globalUrl":398,"../../service/log/imLog":419,"../../service/log/imLogType":420,"../../service/log/localLog":421,"../../service/log/lwlog":424,"../../service/microApp/appList":434,"../../service/modal/createConference.js":449,"../../service/modal/groupAddMembersModal":457,"../../service/modal/profileModal":466,"../../service/onebox/onebox":488,"../../service/onebox/oneboxModal":489,"../../service/openWindow/openWindow":532,"../../service/toast/toast":611,"../../service/ua":621,"../../service/ua.js":621,"../../service/unPopModal/groupAnnounce":624,"../../service/unPopModal/groupFileList":625,"../../service/unPopModal/groupSetting":626,"../../service/user/my":635,"../../service/user/userManager":641,"@ali/wksdk":779,"lodash":919}],206:[function(require,module,exports){
"use strict";function refreshIframePage(e){if(e===loginStatusCode.LOGINED&&!hasInitPage){var r=iframeElWrap[0],a=r.firstChild;a&&a.contentWindow.location.reload()}}var moduleName="ddWeb.cmail.selector",ua=require("../../service/ua"),cspacePlugin=require("@ali/space-plugin"),FrameTalkHost=require("@ali/frame-talk/host"),cmail1Url=require("../../service/hostConfig").cmail1,cmail2Url=require("../../service/hostConfig").cmail2,cmail3Url=require("../../service/hostConfig").cmail3,loginStatusCode=require("../../service/login/LoginStatusCode"),$my=require("../../service/user/my"),hasInitPage=!1,iframeElWrap=null,EVENTS=require("../../service/events"),globalEventEmitter=require("../../service/globalEventEmitter"),_=require("lodash");angular.module(moduleName,[require("../../service/log/lwlog")]).controller("cmailSelector",["$rootScope","$scope","$stateParams","lwlog",function(e,r,a){hasInitPage=!1;var i=new FrameTalkHost(window.location.origin,"*");r.frameName=i.getContainerName(),r.frameHost=i,globalEventEmitter.addListener(EVENTS.LOGIN_STATE_CHANGE,refreshIframePage),r.$on("$destroy",function(){iframeElWrap=null,globalEventEmitter.removeListener(EVENTS.LOGIN_STATE_CHANGE,refreshIframePage)})}]).directive("cmailIframe",["$stateParams",function(e){return{link:function(r,a){if(iframeElWrap=a,a){var i,l=e.cmailPageType;if("1"==l)i=cmail1Url;else if("2"==l)i=cmail2Url;else if("3"==l){var t=e.loginEmail;i=cmail3Url+"?email="+t}var o={name:r.frameName};cspacePlugin.renderDingFileIframe({iframeParam:o,src:i,container:a[0]})}var n="_private.event";r.frameHost.register(n,function(e){a.trigger(e.params.event)})}}}]),module.exports=moduleName;

},{"../../service/events":376,"../../service/globalEventEmitter":396,"../../service/hostConfig":405,"../../service/log/lwlog":424,"../../service/login/LoginStatusCode":429,"../../service/ua":621,"../../service/user/my":635,"@ali/frame-talk/host":724,"@ali/space-plugin":735,"lodash":919}],207:[function(require,module,exports){
"use strict";var _=require("lodash"),app=angular.module("ddWeb.companyCallCenter",["ui.router.state",require("./videoConf"),require("./openCompCallCenter"),require("./telDial"),require("../../service/callCenter/callCenter.js"),require("../../component/freeCallList/freeCallList"),require("../../service/log/lwlog")]);app.controller("companyCallCenter",["$state","$scope","callCenter","$translate","lwlog",function(e,t,i,o,n){function l(){try{t.$digest()}catch(e){}}function r(){a.isSupport=i.isSupport,p(),l()}var a=this;a.text={pc_tel_dial_title:o.instant("pc_tel_dial_title"),pc_tel_conf_video:o.instant("pc_tel_conf_video")},a.isSupport=i.isSupport,a.isTabOnVideo=!1;var s=function(){n.commLog("phone_videocall_click",""),this.isTabOnVideo=!0,e.go("authorized.companyCallCenter.videoConf")}.bind(this),c=function(){n.commLog("phone_dialplate_click",""),this.isTabOnVideo=!1,a.isSupport?e.go("authorized.companyCallCenter.telDial"):e.go("authorized.companyCallCenter.openCompCallCenter")}.bind(this);this.goVideoConf=s,this.goTelDial=c;var p=function(){this.isSupport?c():s()}.bind(this);p(),i.on(i.Events.FETCH_PREFER_BIZ_CALL_NUM_COMPLETED,r),t.$on("$destroy",function(){i.removeListener(i.Events.FETCH_PREFER_BIZ_CALL_NUM_COMPLETED,r)})}]);

},{"../../component/freeCallList/freeCallList":34,"../../service/callCenter/callCenter.js":269,"../../service/log/lwlog":424,"./openCompCallCenter":208,"./telDial":209,"./videoConf":210,"lodash":919}],208:[function(require,module,exports){
"use strict";var uriResolve=require("../../service/uriResolve/resolve"),moduleName=module.exports="ddWeb.companyCallCenter.openCompCallCenter",app=angular.module(moduleName,[]);app.controller("openCompCallCenter",["$scope","$translate",function(e,l){var a=this;a.noDialImgUrl=uriResolve.assetsResolve("app/img/companyCallCenter/no_dial.png"),a.text={pc_tel_dial_tips_open_call:l.instant("pc_tel_dial_tips_open_call"),pc_tel_dial_explain_open_call:l.instant("pc_tel_dial_explain_open_call")}}]);

},{"../../service/uriResolve/resolve":628}],209:[function(require,module,exports){
"use strict";var moduleName=module.exports="ddWeb.companyCallCenter.telDial",threeAreaCode={"010":"北京","020":"广州","021":"上海","022":"天津","023":"重庆","024":"沈阳","025":"南京","027":"武汉","028":"成都","029":"西安"};angular.module(moduleName,[require("../../directive/companyCallCenter/telephoneDial"),require("../../service/callCenter/callCenter.js")]).controller("telDial",["$scope","callCenter","$translate",function(e,l,t){var a,i=l.numInfoList[0].numList[0];a=threeAreaCode[i.slice(0,3)]?i.slice(0,3)+"-"+i.slice(3):i.slice(0,4)+"-"+i.slice(4),this.text={pc_tel_dial_tips_who_call:t.instant("pc_tel_dial_tips_who_call",{value1:a})}}]);

},{"../../directive/companyCallCenter/telephoneDial":99,"../../service/callCenter/callCenter.js":269}],210:[function(require,module,exports){
"use strict";var uriResolve=require("../../service/uriResolve/resolve"),moduleName=module.exports="ddWeb.companyCallCenter.videoConf",ua=require("../../service/ua"),globalURL=require("../../service/globalUrl"),app=angular.module(moduleName,[require("../../service/toast/toast"),require("../../service/log/lwlog"),require("../../service/modal/createConference")]);app.controller("videoConf",["$scope","createConference","toastService","lwlog","$translate",function(e,o,t,c,r){var s=this;s.videoConfImg=uriResolve.assetsResolve("app/img/companyCallCenter/video_conf.png"),s.text={pc_tel_conf_video:r.instant("pc_tel_conf_video"),pc_tel_conf_tips_support_types:r.instant("pc_tel_conf_tips_support_types"),pc_tel_conf_tips_nonsupport_web:r.instant("pc_tel_conf_tips_nonsupport_web"),pc_tips_download_pc:r.instant("pc_tips_download_pc")},s.DOWNLOAD_URL=globalURL.DOWNLOAD_URL,s.isDesktop=ua.isDesktop,s.createConf=function(){c.commLog("videocall_enter_click",""),o.showModal().catch(function(e){e instanceof Error&&t.show(e.message,{type:"error"}),c.commLog("videocall_cancel_click","")})}}]);

},{"../../service/globalUrl":398,"../../service/log/lwlog":424,"../../service/modal/createConference":449,"../../service/toast/toast":611,"../../service/ua":621,"../../service/uriResolve/resolve":628}],211:[function(require,module,exports){
var moduleName=module.exports="ddWeb.contact.arch",$my=require("../../service/user/my");require("../../service/modal/quitCompanyModal"),angular.module(moduleName,["ddWeb.state","ddWeb.service.quitCompanyModal",require("../../service/toast/toast"),require("../../directive/org/orgList"),require("@ali/ding-api").interface.ContactI,require("../../service/modal/confirm"),require("../../service/org/orgStateManager")]).controller("arch",["$scope","stateService","toastService","quitCompanyModalService","$confirm","ContactI","orgStateManager",function(e,t,r,o,a,n,i){function l(){var e=i.orgState.orgId;e&&(v.orgData=$my.getOrgByOid(e))}function u(){l(),s()}function c(e){var t=null,o=null,i=null;v.authLevel?(t={title:"退出企业",content:"你确认退出该企业？退出后将自动退出你所在的企业群。",isWarning:!0},o="leaveOrganizationV2",i=e):(t={title:"退出团队",content:"你确认退出该团队？",isWarning:!0},o="leaveOrganization",i=e.orgId),a(t).then(function(){n[o](i,function(e){if(200!=e.code){var t=e.body&&e.body.reason?e.body.reason:"退出团队失败";r.show(t,{type:"error"})}})})}function s(){var e=v.orgData,t=e.orgDetail.orgId;v.authLevel=e.orgDetail.authLevel,v.leavePermission=e.orgDetail.leavePermission,v.btnText="退出该团队",v.authLevel&&(v.btnText="退出该企业"),v.onQuitClick=function(){v.authLevel?o.showModal(v.authLevel,t).then(function(e){c(e)}):c({orgId:t})}}var v=this;u(),this.orgState=i.orgState,i.on(i.EventsName.ORG_STATE_CHANGE,u),e.$on("$destroy",function(){i.removeListener(i.EventsName.ORG_STATE_CHANGE,u)})}]);

},{"../../directive/org/orgList":122,"../../service/modal/confirm":447,"../../service/modal/quitCompanyModal":468,"../../service/org/orgStateManager":541,"../../service/toast/toast":611,"../../service/user/my":635,"@ali/ding-api":711}],212:[function(require,module,exports){
"use strict";var moduleName=module.exports="ddWeb.contact.clients",$my=require("../../service/user/my"),microAppLocationScene=require("../../service/microApp/microAppLocationScene"),orgContactAppIds=require("../../service/org/orgContactAppIds"),_=require("lodash"),Uri=require("jsuri"),localLog=require("../../service/log/localLog");angular.module(moduleName,["ddWeb.state",require("../../service/toast/toast"),require("../../directive/org/orgList"),require("@ali/ding-api").interface.CrmI,require("../../service/modal/confirm"),require("../../service/microApp/microAppData"),require("../../service/org/orgStateManager"),require("../../service/frameContainer/slidePanel"),require("../../service/clientContact/ContactClientList"),require("../../service/clientContact/ContactClientItem"),require("../../directive/widget/loading/loading"),require("../../service/login/loginToOAHelper.js")]).controller("clients",["$scope","stateService","toastService","$confirm","CrmI","microAppData","orgStateManager","openSlidePanelContainer","ContactClientList","ContactClientItem","loginToOAHelper",function(t,e,i,r,o,n,a,c,s,l,d){function g(){v.isLoading=!1,I=!0,C(),h&&h.dismiss(),v.contactClientList&&(v.contactClientList.deactive(),v.contactClientList.removeListener(v.contactClientList.EventsName.UPDATE_ITEMS,u)),v.contactClientList=new s({order:"ASC",itemConstructor:l,getMore:p,autoPullData:!1}),!v.contactClientList.isActive()&&v.contactClientList.active(),v.contactClientList.on(v.contactClientList.EventsName.UPDATE_ITEMS,u),u()}function u(){try{t.$digest()}catch(t){}}function m(){v.contactClientList.showMore(function(){u()})}function C(){v.orgData=$my.getOrgByOid(a.orgState.orgId),v.corpId=_.get(v.orgData,"orgDetail.corpId"),v.orgId=_.get(v.orgData,"orgDetail.orgId"),v.staffId=_.get(v.orgData,"orgEmployeeModel.orgStaffId")}function p(t,e,i){if(I){if(e)var r=e.index+1;else var r=0;v.isLoading=!0,localLog.info("try get crm customer list with",v.orgId,v.staffId),h=o.getCrmCustomerList(v.orgId,v.staffId,r,t,function(t){h=null,v.isLoading=!1,200===t.code?t.body.modelList?(i(t.body.modelList.map(function(t,e){return t.$dd_index=r+e,t})),I=t.body.hasMore):I=!1:localLog.error("get crm customer list error"),u()})}}function L(t,e){t.stopPropagation(),t.preventDefault();var i=new Uri(A);i.addQueryParam("corpId",v.corpId),i.addQueryParam("staffId",v.staffId),i.addQueryParam("customId",e.customerId),c({url:i.toString(),title:e.name})}function f(){d.tryLoginOA({scene:"crm",orgId:v.orgId,errorLog:"batch Manage error"})}var v=this;this.isLoading=!1,this.orgId="",this.staffId="",this.corpId="",this.orgData=null,this.contactClientList=null;var I=!0,A="https://crm-app.dingtalk.com/client_info_pc.html",h=null;a.on(a.EventsName.ORG_STATE_CHANGE,g),this.openClientDetail=L,this.loadMore=m,this.goToBatchManage=f,g(),t.$on("$destroy",function(){v.contactClientList&&(v.contactClientList.deactive(),v.contactClientList.removeListener(v.contactClientList.EventsName.UPDATE_ITEMS,u)),a.removeListener(a.EventsName.ORG_STATE_CHANGE,g),h&&h.dismiss()})}]);

},{"../../directive/org/orgList":122,"../../directive/widget/loading/loading":163,"../../service/clientContact/ContactClientItem":277,"../../service/clientContact/ContactClientList":278,"../../service/frameContainer/slidePanel":388,"../../service/log/localLog":421,"../../service/login/loginToOAHelper.js":432,"../../service/microApp/microAppData":437,"../../service/microApp/microAppLocationScene":438,"../../service/modal/confirm":447,"../../service/org/orgContactAppIds":540,"../../service/org/orgStateManager":541,"../../service/toast/toast":611,"../../service/user/my":635,"@ali/ding-api":711,"jsuri":901,"lodash":919}],213:[function(require,module,exports){
"use strict";function externalContactCtrl(t,e,n,c,r,o,a,i,s){function l(){try{t.$digest()}catch(t){}}function p(){s.commLog("contact_exter_list_filter_click",""),e()}function h(){s.commLog("contact_exter_batchmanage","");var t=r.orgState.orgId;i.tryLoginOA({scene:"external",orgId:t,errorLog:"go external batch manage error"})}var u=c.getStore(sourceTypes.CONTACT);this.showFilter=p,this.currentExternalContactList=u.getCurrentExternalContactList(),this.scopes=listScope.scope,this.scopeText={},this.scopeText[this.scopes.OWNER]=a.instant("dt_external_title_my_contact"),this.scopeText[this.scopes.SHARED]=a.instant("dt_external_title_share_contact"),this.scopeText[this.scopes.SUBORDINATE]=a.instant("dt_external_title_subordinate_contact"),this.scopeText[this.scopes.ALL]=a.instant("dt_external_title_company_contact"),this.scopeText[this.scopes.NO_OWNER]=a.instant("dt_external_title_allocted_contact"),this.text={pc_contact_external_contact_filter:a.instant("pc_contact_external_contact_filter"),pc_contact_external_contact_batch_manage:a.instant("pc_contact_external_contact_batch_manage")},this.isLoadScope=!0,this.changeScope=function(t){s.commLog("contact_exter_list_changelist_click",""),n.dispatch({type:actionTypes.CHANGE_INSTANCE,source:sourceTypes.CONTACT,scope:t})};var x=function(){this.visibleScopes=u.getVisibleScope(),this.visibleScopes&&this.visibleScopes.length>0&&this.changeScope(this.visibleScopes[0]),this.isLoadScope=!1,l()}.bind(this);x();var C=function(){if(this.currentExternalContactList=u.getCurrentExternalContactList(),_.get(this,"currentExternalContactList.queryModel.labelIds.length")){var t=o.getLabelInfoByIds(r.orgState.orgId,this.currentExternalContactList.queryModel.labelIds);this.labelText=t.map(function(t){return t.name}).join(" ")}l()}.bind(this),g=function(){this.isLoadScope=!0,l()}.bind(this);this.goImportUrl=h,u.on(u.Events.GET_VISIBLE_SCOPE_SUCCUSS,x),u.on(u.Events.CHANGE_INSTANCE,C),u.on(u.Events.CHANGE_ORG,g),t.$on("$destroy",function(){u.removeListener(u.Events.GET_VISIBLE_SCOPE_SUCCUSS,x),u.removeListener(u.Events.CHANGE_INSTANCE,C),u.removeListener(u.Events.CHANGE_ORG,g)}.bind(this))}var moduleName=module.exports="ddWeb.contact.externalContact",actionTypes=require("../../service/contact/externalContact/actionTypes"),listScope=require("../../service/contact/externalContact/listScope"),ua=require("../../service/ua"),sourceTypes=require("../../service/contact/externalContact/sourceType.js"),nwService=require("../../service/app/nw.js"),_=require("lodash");angular.module(moduleName,[require("../../directive/contact/externalContactList.js"),require("../../service/modal/externalContactFilter.js"),require("../../service/contact/externalContact/dispatcher.js"),require("../../service/contact/externalContact/externalContactHelper.js"),require("../../service/org/orgStateManager.js"),require("../../directive/widget/loading/loading.js"),require("../../service/contact/externalContact/labelStore.js"),require("../../service/login/loginToOAHelper.js"),require("../../service/log/lwlog.js")]).controller("externalContact",["$scope","externalContactFilter","externalContactDispatcher","externalContactHelper","orgStateManager","labelStore","$translate","loginToOAHelper","lwlog",externalContactCtrl]);

},{"../../directive/contact/externalContactList.js":100,"../../directive/widget/loading/loading.js":163,"../../service/app/nw.js":255,"../../service/contact/externalContact/actionTypes":281,"../../service/contact/externalContact/dispatcher.js":282,"../../service/contact/externalContact/externalContactHelper.js":283,"../../service/contact/externalContact/labelStore.js":287,"../../service/contact/externalContact/listScope":288,"../../service/contact/externalContact/sourceType.js":289,"../../service/log/lwlog.js":424,"../../service/login/loginToOAHelper.js":432,"../../service/modal/externalContactFilter.js":454,"../../service/org/orgStateManager.js":541,"../../service/ua":621,"lodash":919}],214:[function(require,module,exports){
"use strict";var moduleName="ddWeb.contact.follow",serviceName="ddWeb.contact.follow";require("../../service/state");var _=require("lodash"),wksdk=require("@ali/wksdk"),followService=wksdk.followService;angular.module(serviceName,["ddWeb.state",require("../../service/user/userManager"),require("../../service/toast/toast"),require("../../service/modal/profileModal")]).controller("followContact",["$scope","stateService","userManager","toastService","profileModalService","$translate",function(e,o,t,r,i,l){function n(e){i(e.userProfileModel.uid)}var s=this;o.set("contact.router","follow"),this.followList=[],s.showProfile=n,this.text={pc_contact_my_concern:l.instant("pc_contact_my_concern")};var c=function(){followService.getAllFromLocal().then(function(e){var o=e.filter(function(e){return e.status===followService.FOLLOW_STATUS.FOLLOW_EACH_OTHER||e.status===followService.FOLLOW_STATUS.FOLLOWING}).map(function(e){return e.openId});return o}.bind(this)).then(function(o){t.getUsers(o).then(function(o){this.followList=o,e.$digest()}.bind(this))}.bind(this))}.bind(this);c(),followService.addListener(followService.EventsName.FOLLOW_LIST_UPDATE,c),e.$on("$destroy",function(){followService.removeListener(followService.EventsName.FOLLOW_LIST_UPDATE,c)})}]),module.exports=moduleName;

},{"../../service/modal/profileModal":466,"../../service/state":604,"../../service/toast/toast":611,"../../service/user/userManager":641,"@ali/wksdk":779,"lodash":919}],215:[function(require,module,exports){
require("../../service/toast/toast.js"),require("../../service/state"),require("../../service/modal/addFriend"),require("../../service/friend/FriendFactory"),angular.module("ddWeb.contact.friend",["ddWeb.state","ddWeb.toast","ddWeb.modal.addFriend","ddWeb.friend.FriendFactory"]).controller("friendContact",["$scope","stateService","toastService","$addFriend","FriendFactory","$translate",function(e,t,r,i,d,n){var a=this;this.friendData=d.getFriendList(),t.set("contact.router","friend"),this.text={pc_contact_my_friends:n.instant("pc_contact_my_friends")},this.searchFriend=function(){i()};var s=function(){try{e.$digest()}catch(e){}};this.friendData.on(this.friendData.EventsName.GET_FRIENDS,s),e.$on("$destroy",function(){d.destoryFriendList(),a.friendData.off(a.friendData.EventsName.GET_FRIENDS,s)})}]);

},{"../../service/friend/FriendFactory":389,"../../service/modal/addFriend":443,"../../service/state":604,"../../service/toast/toast.js":611}],216:[function(require,module,exports){
var localLog=require("../../service/log/localLog");require("../../service/friend/FriendFactory"),require("../../service/toast/toast"),require("../../service/goldlog/goldlog"),require("../../service/log/lwlog.js"),require("../../service/friend/FriendType");var app=angular.module("ddWeb.friendRequest",["ddWeb.friend.FriendFactory","ddWeb.toast","ddWeb.goldlog","ddWeb.log.lwlog","ddWeb.friend.FriendType",require("../../directive/avatar/userAvatar")]);app.controller("friendRequest",["$scope","FriendFactory","toastService","goldlog","lwlog","FriendType",function(e,r,t,i,o,n){var a=this;i.log("contact_newfriend_click"),o.commLog("contact_newfriend_click"),this.friendData=r.getFriendRequestList(),this.acceptFriend=function(e,r){r.preventDefault(),r.stopPropagation(),e.userInstance?e.userInstance.acceptFriend().then(function(r){e.user.status=n.FRIEND,d()}).catch(function(e){e.body&&e.body.reason&&t.show(e.body.reason,{type:"error"})}):localLog.error("item user instance not exist",e.user.userProfileModel.uid)};var d=function(){try{e.$digest()}catch(e){}};this.friendData.on(this.friendData.EventsName.GET_FRIENDS,d),e.$on("$destroy",function(){r.destroyFriendRequestList(),a.friendData.off(a.friendData.EventsName.GET_FRIENDS,d)})}]);

},{"../../directive/avatar/userAvatar":55,"../../service/friend/FriendFactory":389,"../../service/friend/FriendType":394,"../../service/goldlog/goldlog":399,"../../service/log/localLog":421,"../../service/log/lwlog.js":424,"../../service/toast/toast":611}],217:[function(require,module,exports){
"use strict";var moduleName="ddWeb.contact.group";require("../../service/state"),angular.module(moduleName,["ddWeb.state",require("../../component/group-list/group-list")]).controller("groupContact",["stateService","$translate",function(t,e){this.text={pc_contact_my_groups:e.instant("pc_contact_my_groups")},t.set("contact.router","group")}]),module.exports=moduleName;

},{"../../component/group-list/group-list":36,"../../service/state":604}],218:[function(require,module,exports){
"use strict";var moduleName="ddWeb.groupRequest",wksdk=require("@ali/wksdk"),groupValidationService=wksdk.groupValidationService,JOIN_GROUP_STATUS=wksdk.joinGroupStatus,app=angular.module(moduleName,[require("../../directive/avatar/userAvatar"),require("../../service/modal/confirm"),require("../../service/group/GroupRequestFactory"),require("../../service/toast/toast")]);app.controller("groupRequest",["$scope","GroupRequestFactory","profileModalService","toastService","$confirm",function(t,e,o,a,r){var i=this;this.groupData=e.getGroupRequestList(),this.isLoading=!1,this.JOIN_GROUP_STATUS=JOIN_GROUP_STATUS;var s=function(){try{t.$digest()}catch(t){}};this.cleanAll=function(){r({content:"确认清空入群申请列表？"}).then(function(){this.groupData.cleanAll()}.bind(this))},this.showProfileModal=function(t,e){e&&e.preventDefault(),e&&e.stopPropagation(),o(t)},this.loadMore=function(){this.isLoading=!0,s(),this.groupData.loadMore().then(function(){this.isLoading=!1,s()}.bind(this))},this.acceptGroupRequest=function(t,e){e&&e.preventDefault(),e&&e.stopPropagation(),t.accept().then(function(){s()}).catch(function(t){a.show(t.body.reason||"操作失败",{type:"error"})})},this.groupData.on(this.groupData.EventsName.UPDATE,s),this.groupData.on(this.groupData.EventsName.DESTROY,s),this.loadMore(),t.$on("$destroy",function(){e.destroyGroupRequestList(),i.groupData.off(i.groupData.EventsName.UPDATE,s),i.groupData.off(i.groupData.EventsName.DESTROY,s)})}]),module.exports=moduleName;

},{"../../directive/avatar/userAvatar":55,"../../service/group/GroupRequestFactory":401,"../../service/modal/confirm":447,"../../service/toast/toast":611,"@ali/wksdk":779}],219:[function(require,module,exports){
require("./friend"),require("./group"),require("../../service/state");var storage=require("../../service/storage/storage"),$my=require("../../service/user/my"),_=require("lodash");require("../../service/tool/multiOrgTool");var ORG_NODE_TYPE=require("../../service/org/OrgNodeType"),app=angular.module("ddWeb.contact",["ui.router","ddWeb.contact.friend","ddWeb.contact.group",require("./follow"),"ddWeb.state","ddWeb.service.multiOrgTool",require("../../directive/arch/organizationList"),require("../../service/org/orgStateManager")]);app.controller("contact",["$scope","$state","multiOrgTool","orgStateManager","$translate",function(e,t,r,o,a){function c(){"authorized.contact"==t.current.name&&(n.isShowArchContact||(n.defaultGo=".friend"),t.go(n.defaultGo),n.currentState=n.defaultState)}var n=this;if(n.currentState="contact",n.defaultGo=".arch",n.defaultState="authorized.contact.arch",n.isShowArchContact=!!($my.orgEmployees&&$my.orgEmployees.length>0),this.text={pc_contact_my_friends:a.instant("pc_contact_my_friends"),pc_contact_my_groups:a.instant("pc_contact_my_groups"),pc_contact_my_concern:a.instant("pc_contact_my_concern")},n.isShowArchContact){var i=r.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees),g=r.getCurrentOrgData(i[0],i);if(!o.forceIgnoreLocalStorage){var s=$my.getOrgByOid(g.oid),u=_.get(s,"orgNodeItemList.length",0)>0,d="-1";if(u){var l=_.get(s,"orgNodeItemList[0]");d=l.deptId}var m={orgId:g.oid,deptId:d,uid:$my.getId(),staffId:null};o.changeOrgState(m)}}c(),e.$on("$stateChangeSuccess",function(e,t,r,o,a){n.currentState=t.name,c()})}]);

},{"../../directive/arch/organizationList":50,"../../service/org/OrgNodeType":537,"../../service/org/orgStateManager":541,"../../service/state":604,"../../service/storage/storage":606,"../../service/tool/multiOrgTool":614,"../../service/user/my":635,"./follow":214,"./friend":215,"./group":217,"lodash":919}],220:[function(require,module,exports){
"use strict";function removeContainer(e,i){i.off("fileProgress",e.fileProgress),i.off("fileUploadSuccess",e.fileUploadSuccess),i.off("fileUploadError",e.fileUploadError),i.off("queueuploadstart",e.queueuploadstart),e.fileProgress=e.fileUploadSuccess=e.fileUploadError=e.queueuploadstart=null}function refreshIframePage(e){if(e===loginStatusCode.LOGINED&&!hasInitPage){var i=iframeElWrap[0],r=i.firstChild;r&&r.contentWindow.location.reload()}}function getSpaceFileSortStorage(){var e=storage.local.getItem($my.uid+"_"+storage.KEYS.SPACE_FILE_SORT);if(e){var i={};try{i=JSON.parse(e)}catch(e){}return i}return{}}function getNewRedDotStorage(){var e=storage.local.getItem($my.uid+"_"+storage.KEYS.SPACE_NEW_RED_DOT);if(e){var i={};try{i=JSON.parse(e)}catch(e){}return i}return{}}var moduleName="ddWeb.cspace.selector",ua=require("../../service/ua"),uriResolve=require("../../service/uriResolve/resolve"),cspacePlugin=require("@ali/space-plugin"),localLog=require("../../service/log/localLog"),FrameTalkHost=require("@ali/frame-talk/host"),spaceUrl=require("../../service/hostConfig").space,spaceRcUrl=require("../../service/hostConfig").spaceRc,loginStatusCode=require("../../service/login/LoginStatusCode"),storage=require("../../service/storage/storage"),$my=require("../../service/user/my"),UPLOAD_PARAMS={},hasInitPage=!1,iframeElWrap=null,clearRootScopListenerFn=null,EVENTS=require("../../service/events"),globalEventEmitter=require("../../service/globalEventEmitter"),_=require("lodash");angular.module(moduleName,[require("../../service/log/lwlog"),require("../../service/spacePlugin/upload"),require("../../service/openAPI/initHelper"),require("../../service/modal/selectPanelModal"),require("../../service/selectorPanel/PanelType"),require("../../service/openAPI/internal/request/lwp"),require("../../service/refreshCookie/refreshCookie"),require("../../service/conversation/cspace/cspaceWithSDK")]).controller("cspaceSelector",["$rootScope","$scope","lwlog","CSpaceFileUploader","openAPIInitHelper","selectPanelModal","PanelType","openAPIInternalRequestLwp","refreshCookie","cspaceWithSDK",function(e,i,r,t,a,o,s,l,n,c){var d=this;hasInitPage=!1;var p={},u=t.initFileUploader(),g=new FrameTalkHost(window.location.origin,"*");i.frameHost=g;try{var f=g.getContainerName(),m=JSON.parse(f);m.version=window.version,i.frameName=JSON.stringify(m)}catch(e){i.frameName=g.getContainerName()}var v=["device.notification.alert","device.notification.confirm","device.notification.toast","device.notification.prompt","biz.util.open","biz.util.openModal","biz.util.openSlidePanel","biz.util.uploadImage","biz.util.downloadFile","biz.util.openLocalFile","biz.util.isLocalFileExist","biz.util.previewImage","biz.util.previewFile","biz.util.openLink","biz.util.ut","biz.contact.choose","biz.chat.chooseConversation"];g.register(l.methodName,l.handler),a.initOpenAPI(g,v),g.register("_space.uploader.param.setHash",function(e){var i=e.params,r=i.orgId,t=i.spaceId,a=i.path,o=i.notification,s=i.panelType,l=i.isPublicOrg,n=i.sk,c=i.sv,d=i.coopRole,p=getSpaceFileSortStorage();void 0!=r&&(UPLOAD_PARAMS.orgId=r),void 0!=t&&(UPLOAD_PARAMS.spaceId=t),void 0!=a&&(UPLOAD_PARAMS.path=a),void 0!=o&&(UPLOAD_PARAMS.notification=o),void 0!=s&&(UPLOAD_PARAMS.panelType=s),void 0!=l&&(UPLOAD_PARAMS.isPublicOrg=l),void 0!=n&&(UPLOAD_PARAMS.sortKey=n,p.sortKey=n),void 0!=c&&(UPLOAD_PARAMS.sortValue=c,p.sortValue=c),UPLOAD_PARAMS.coopRole=d,storage.local.setItem($my.uid+"_"+storage.KEYS.SPACE_FILE_SORT,JSON.stringify(p))}),g.register("_space.storage.param.setNewRedDot",function(e){var i=e.params,r=i.newRedDotMap||{},t=getNewRedDotStorage();for(var a in r)r[a]?t[a]=r[a]:delete t[a];storage.local.setItem($my.uid+"_"+storage.KEYS.SPACE_NEW_RED_DOT,JSON.stringify(t))}),g.register("_space.uploader.add.folder.indingtalkwin",function(e){var i=e.params;i.origin=e.frameOrigin;for(var t=i.filesList||[],a=i.webkitRelativePathList||[],o=i.args,s=(i.isDir,[]),l=[],n=0;n<t.length;n++){var c=t[n];c._webkitRelativePath=a[n],l.push(c)}var d=u.appendDirectory(l,o),g=d.getDirSize();p[d.getClientId()]={size:g},r.commLog("space_upload_size_click","size="+g),s.push(d.getFile()),e.emit("uploadFilesEventName",{files:s}),u.startWork()}),g.register("_space.uploader.add.files",function(e){var i=e.params;i.origin=e.frameOrigin;var t=i.files,a=i.args,o=i.isDir,s=[];if(o){var l=u.appendDirectory(t,a),n=l.getDirSize();p[l.getClientId()]={size:n},r.commLog("space_upload_size_click","size="+n),s.push(l.getFile())}else for(var c=u.appendFiles(t,a),d=0;d<c.length;d++){var g=c[d];s.push(g.getFile()),p[g.getClientId()]={size:g.getFileSize()}}e.emit("uploadFilesEventName",{files:s}),u.startWork()}),g.register("_space.uploader.files.remove",function(e){var i=e.params;i.origin=e.frameOrigin;var r=i.clientId;r&&(u.stopWork(r),e.emit("removeFilesEventName",r))}),g.register("_space.uploader.files.retry",function(e){var i=e.params;i.origin=e.frameOrigin;var r=i.clientId;r&&u.reStartWork(r)}),g.register("_space.uploader.stop.all",function(e){var i=e.params;i.origin=e.frameOrigin,u.stopAll(),e.emit("stopAllEventName",!0)}),g.register("_space.init.global.params",function(e){var i=e.params;i.origin=e.frameOrigin,d.fileProgress=function(i){i.isDoingUpload=u.isDoingUpload(),e.emit("fileProgress",i)},u.on("fileProgress",d.fileProgress),d.fileUploadSuccess=function(i){if(i){i.statistics=u.getStatistics(),i.isDoingUpload=u.isDoingUpload();var t=i.clientId,a=p[t];if(a){var o=a.start,s=a.size,l=(new Date).getTime(),n=l-o;if(s>0&&n>0){var c=s/1024/(n/1e3);r.commLog("space_upload_speed_click","size="+s+"&time="+n+"&speed="+c)}}e.emit("fileUploadSuccess",i)}},u.on("fileUploadSuccess",d.fileUploadSuccess),d.fileUploadError=function(i){i&&(i.statistics=u.getStatistics(),i.isDoingUpload=u.isDoingUpload(),e.emit("fileUploadError",i))},u.on("fileUploadError",d.fileUploadError),d.queueuploadstart=function(i){e.emit("queueuploadstart",{}),i&&i.clientId&&(p[i.clientId]?p[i.clientId].start=(new Date).getTime():p[i.clientId]={start:(new Date).getTime()})},u.on("queueuploadstart",d.queueuploadstart);var t={};t.hashMap=UPLOAD_PARAMS,t.uploadFiles=u.getAllFileBeanObj(),t.uploadFilesStatus=u.getAllFileStatus(),t.newRedDotMap=getNewRedDotStorage(),e.emit("initGlobalParamsEventName",t),hasInitPage=!0}),g.register("_cspace.login",function(e){n.refresh().then(function(){e.emit("refreshToken",{result:!0})}).catch(function(i){e.emit("refreshToken",{result:!1,reason:i.toString()})})}),g.register("_space.event.mouseclick",function(e){$(document.body).trigger("click")}),g.register("_space.person.selectPanel",function(e){var i=e.params,r=i.orgId,t=i.isAdmin,a=i.title||"添加协作文件成员",l=i.placeholder||"搜索联系人",n=i.selectedUids||[],c=i.disabledUids||[],d=i.max||1e3,p=[s.ORG,s.EXTERNAL_CONTACT];t&&(p=[s.ORG]);var u={window:{title:a,closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:p,lockedIds:{uids:[]},customUids:[],selectedUids:n,disabledUids:c},selectorBar:{display:!0,placeholder:l},orgId:r,type:"SELECT_ALL_USER",multiple:!0,max:d,limitTips:"超过限制"};return o(u).then(function(i){for(var r=[],t=0;t<i.length;t++){var a=i[t],o=a.model,s=o&&o.uid;s&&r.push(s)}e.emit("selectedMemberIdsEventName",{memberIds:r})})}),g.register("_space.event.send.chooseConv",function(e){var i=e.params,r=i.orgId,t=i.title||"发送文件",a=i.placeholder||"搜索个人或会话",l=i.selectedUids||[],n=i.disabledUids||[],d={window:{title:t,closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[s.CONV],lockedIds:{cids:[]},customUids:[],selectedUids:l,disabledUids:n},selectorBar:{display:!0,placeholder:a},type:"SELECT_CONVERSATION"};r&&(d.orgId=r),o(d).then(function(i){var r=_.get(i,"conversations[0].conversationId");c.getConvById(r,!0).then(function(i){i.getIMSpaceId().then(function(r){var t={cid:i.convId,spaceId:r};e.emit("selectedConvEventName",t)})})})}),globalEventEmitter.addListener(EVENTS.LOGIN_STATE_CHANGE,refreshIframePage),i.$on("$destroy",function(){iframeElWrap=null,removeContainer(d,u),g.destroyContainer(),globalEventEmitter.removeListener(EVENTS.LOGIN_STATE_CHANGE,refreshIframePage)})}]).directive("cspaceIframe",["cspaceWithSDK",function(e){return{link:function(i,r){iframeElWrap=r;var t=i.cspace;if(r){var a;try{var o=JSON.parse(i.frameName);o.hasRedDot=e.getUnreadPointSync()>0,a=JSON.stringify(o)}catch(e){a=i.frameName}e.active();var s="rc"==window.desktopEnv||"beta"==window.desktopEnv?spaceRcUrl:spaceUrl,l={name:a};t.isLoading=!0;var n=getSpaceFileSortStorage(),c=n.sortKey,d=n.sortValue;c&&(UPLOAD_PARAMS.sortKey=n.sortKey),d&&(UPLOAD_PARAMS.sortValue=n.sortValue),cspacePlugin.renderDingFileIframe({iframeParam:l,src:s,container:r[0]}).then(function(){t.isLoading=!1,i.$digest()},function(){t.isLoading=!1,i.$digest()})}var p="_private.event";i.frameHost.register(p,function(e){r.trigger(e.params.event)})}}}]),module.exports=moduleName;

},{"../../service/conversation/cspace/cspaceWithSDK":309,"../../service/events":376,"../../service/globalEventEmitter":396,"../../service/hostConfig":405,"../../service/log/localLog":421,"../../service/log/lwlog":424,"../../service/login/LoginStatusCode":429,"../../service/modal/selectPanelModal":470,"../../service/openAPI/initHelper":525,"../../service/openAPI/internal/request/lwp":526,"../../service/refreshCookie/refreshCookie":543,"../../service/selectorPanel/PanelType":590,"../../service/spacePlugin/upload":603,"../../service/storage/storage":606,"../../service/ua":621,"../../service/uriResolve/resolve":628,"../../service/user/my":635,"@ali/frame-talk/host":724,"@ali/space-plugin":735,"lodash":919}],221:[function(require,module,exports){
"use strict";var ua=require("../../service/ua"),semver=require("semver"),limitConfig=require("../../service/limitConfig"),localLog=require("../../service/log/localLog"),nwWindow=require("../../service/app/nwWindow"),$my=require("../../service/user/my");require("../../service/friend/FriendFactory");var lastTag=null,storage=require("../../service/storage/storage"),ddStorage=require("../../service/storage/ddStorage"),EVENTS=require("../../service/events"),globalEventEmitter=require("../../service/globalEventEmitter"),loginStatus=require("../../service/login/loginStatus");angular.module("ddWeb.home",["ui.router.state",require("../../directive/widget/searchbar/searchBar2"),require("../../directive/widget/windowOperations"),require("../../directive/widget/cloudDisk"),require("../../directive/mainMenu/functionMenu"),require("../../directive/mainMenu/settingMenu"),"ddWeb.friend.FriendFactory",require("../../service/ding/dinglist"),require("../../service/microApp/microAppData"),require("../../service/microApp/space"),require("../../component/home/unreadCount"),require("../../component/home/email"),require("../../directive/widget/admin"),require("../../directive/widget/uploadList"),require("../../directive/avatar/userAvatar"),require("../../component/freeCallList/unreadCall"),require("../../component/cspace/unreadCspace"),require("../../service/log/lwlog.js"),require("../../service/serviceWindow/spaceApp"),require("../../directive/widget/hoverTip.js")]).controller("home",["$rootScope","$scope","$state","FriendFactory","dinglist","microAppData","spaceApp","$translate","freeCallWithSDK","lwlog","serviceWindowSpaceApp",function(e,t,i,n,r,s,o,a,c,d,u){var l=this;l.text={dt_menu_conversation_title:a.instant("dt_menu_conversation_title"),dt_menu_contact_title:a.instant("dt_menu_contact_title"),dt_menu_ding_title:a.instant("dt_menu_ding_title"),dt_menu_work_title:a.instant("dt_menu_work_title"),dt_menu_space_title:a.instant("dt_menu_space_title"),dt_menu_tel_title:a.instant("dt_menu_tel_title"),pc_menu_upload_download:a.instant("pc_menu_upload_download"),pc_main_panel_connecting:a.instant("pc_main_panel_connecting")},this.$state=i,"authorized"===i.current.name&&i.go("authorized.im.nocontent"),this.goState=function(e){lastTag===e||i.includes(e)||i.go(e)},t.$on("$stateChangeSuccess",function(e,t,i,n,r){lastTag=t.name}),this.login_state=loginStatus.getLoginStatus();var _=function(e){if(e!==this.login_state){this.login_state=e;try{t.$digest()}catch(e){}}}.bind(this);globalEventEmitter.addListener(EVENTS.LOGIN_STATE_CHANGE,_),l.receiveList=r.getReceiveList(),l.sendList=r.getSentList();var m=function(){try{t.$digest()}catch(e){}};l.receiveList.on(l.receiveList.EventsName.NEW_COMMENT_CHANGE,m),l.receiveList.on(l.receiveList.EventsName.UPDATE_ITEMS,m),l.receiveList.on(l.receiveList.EventsName.NEW_COUNT_CHANGE,m),l.sendList.on(l.sendList.EventsName.UPDATE_ITEMS,m),l.sendList.on(l.sendList.EventsName.NEW_COMMENT_CHANGE,m),l.sendList.on(l.sendList.EventsName.NEW_COUNT_CHANGE,m);limitConfig.MIN_MICRO_APP_NW_VERSION;l.isMicroAppHasNew=!1;var v="micro_app_has_seen_2.13.0",g=function(e){e.oa_org&&Object.keys(e.oa_org).length?l.isShowMicroApp=!0:l.isShowMicroApp=!1};s.getData().then(function(e){g(e)}).catch(function(e){localLog.error("get micro app list failure",JSON.stringify(e))}),s.addListener(s.EventsName.UPDATE,g),this.$my=$my,this.$my.addListener($my.EventsName.update,m),n.init(),l.onHeaderDblClick=function(e){if(ua.isNw)return!$(e.target).closest(".search-bar-wraper").length&&void nwWindow.autoZoomWindow()},l.onMicroAppClick=function(){ddStorage.setItemWithUid(v,"true"),l.isMicroAppHasNew=!1,l.goState("authorized.microApp")},l.onContactClick=function(){this.goState("authorized.contact")},l.onTelClick=function(){d.commLog("tab_call_click",""),l.goState("authorized.companyCallCenter")},l.scrollToUnReadConv=function(){e.$broadcast(EVENTS.SCROLL_TO_UNREAD_CONV)},ua.isNw&&$("html").addClass("no-bg"),t.$on("$destroy",function(){l.receiveList.off(l.receiveList.EventsName.NEW_COMMENT_CHANGE,m),l.receiveList.off(l.receiveList.EventsName.UPDATE_ITEMS,m),l.sendList.off(l.sendList.EventsName.UPDATE_ITEMS,m),l.sendList.off(l.sendList.EventsName.NEW_COMMENT_CHANGE,m),l.receiveList.off(l.receiveList.EventsName.NEW_COUNT_CHANGE,m),l.sendList.off(l.sendList.EventsName.NEW_COUNT_CHANGE,m),l.$my.removeListener($my.EventsName.update,m),s.removeListener(s.EventsName.UPDATE,g),globalEventEmitter.removeListener(EVENTS.LOGIN_STATE_CHANGE,_)})}]);

},{"../../component/cspace/unreadCspace":22,"../../component/freeCallList/unreadCall":35,"../../component/home/email":37,"../../component/home/unreadCount":38,"../../directive/avatar/userAvatar":55,"../../directive/mainMenu/functionMenu":118,"../../directive/mainMenu/settingMenu":119,"../../directive/widget/admin":139,"../../directive/widget/cloudDisk":147,"../../directive/widget/hoverTip.js":161,"../../directive/widget/searchbar/searchBar2":184,"../../directive/widget/uploadList":190,"../../directive/widget/windowOperations":191,"../../service/app/nwWindow":257,"../../service/ding/dinglist":359,"../../service/events":376,"../../service/friend/FriendFactory":389,"../../service/globalEventEmitter":396,"../../service/limitConfig":414,"../../service/log/localLog":421,"../../service/log/lwlog.js":424,"../../service/login/loginStatus":431,"../../service/microApp/microAppData":437,"../../service/microApp/space":440,"../../service/serviceWindow/spaceApp":601,"../../service/storage/ddStorage":605,"../../service/storage/storage":606,"../../service/ua":621,"../../service/user/my":635,"semver":930}],222:[function(require,module,exports){
"use strict";var layoutResizeConf=require("../../service/layoutResize/layoutResizeConf"),ddStorage=require("../../service/storage/ddStorage");angular.module("ddWeb.im",["ui.router.state",require("../../directive/convlist/convlist"),require("../../directive/widget/layoutResize")]).controller("im",["$state",function(e){this.layoutResizeConf=layoutResizeConf.convList,"authorized.im"===e.current.name&&e.go("authorized.im.nocontent")}]);

},{"../../directive/convlist/convlist":102,"../../directive/widget/layoutResize":162,"../../service/layoutResize/layoutResizeConf":412,"../../service/storage/ddStorage":605}],223:[function(require,module,exports){
require("./receive"),require("./send"),require("../../service/ding/dinglist");var app=angular.module("ddWeb.list",["ui.router","ddWeb.list.receive","ddWeb.list.send","ddWeb.ding"]);app.controller("list",["$state","$scope","$timeout","dinglist",function(e,i,t,s){var n=this;n.$state=e,n.receiveList=s.getReceiveList(),n.sendList=s.getSentList(),!n.receiveList.isActive()&&n.receiveList.active(),!n.sendList.isActive()&&n.sendList.active();var r=function(){try{i.$digest()}catch(e){}};n.receiveList.on(n.receiveList.EventsName.NEW_COMMENT_CHANGE,r),n.sendList.on(n.sendList.EventsName.NEW_COMMENT_CHANGE,r),i.$on("$stateChangeSuccess",function(i,t,s,n,r){e.is("authorized.ding")&&e.go("authorized.ding.receive")}),i.$on("$destroy",function(){n.receiveList.off(n.receiveList.NEW_COMMENT_CHANGE,r),n.sendList.off(n.sendList.NEW_COMMENT_CHANGE,r)})}]);

},{"../../service/ding/dinglist":359,"./receive":224,"./send":225}],224:[function(require,module,exports){
require("../../service/ding/dinglist"),require("../../directive/dinglist/dingItem"),require("../../service/modal/sendDingModal");var app=angular.module("ddWeb.list.receive",["ddWeb.ding","ddWeb.dinglist.dingItem",require("../../service/modal/sendDingModal"),require("../../service/log/lwlog")]);app.controller("receive",["$scope","dinglist","sendDingModalService","lwlog",function(e,i,t,s){var n=this;this.dingstate=0,this.isOver=!1,this.isLoading=!1,this.receiveList=i.getReceiveList(),!this.receiveList.isActive()&&this.receiveList.active();var r=function(){try{e.$digest()}catch(e){}};this.receiveList.on(this.receiveList.EventsName.DELETE_ITEM,r),this.receiveList.on(this.receiveList.EventsName.UPDATE_ITEMS,r),this.receiveList.on(this.receiveList.EventsName.ITEM_SORT_CHANGE,r);var c=e.$watch(function(){return n.receiveList.showItems},function(e){if(e){if(e.length>0){if(n.dingstate=2,e[0].EOF)return void(n.dingstate=1)}else if(0===e.length)return void(n.dingstate=0);e[e.length-1].EOF&&(n.isOver=!0)}});this.loadMore=function(){n.isLoading||n.isOver||(n.isLoading=!0,n.receiveList.showMore(function(){n.isLoading=!1,e.$digest()})),e.$digest()},this.showDingModal=function(){t.showModal(),s.commLog("ding_list_ding_click","")},e.$on("$destroy",function(){n.receiveList.isActive()&&n.receiveList.deactive(),c(),n.receiveList.off(n.receiveList.EventsName.DELETE_ITEM,r),n.receiveList.off(n.receiveList.EventsName.UPDATE_ITEMS,r),n.receiveList.off(n.receiveList.EventsName.ITEM_SORT_CHANGE,r)})}]);

},{"../../directive/dinglist/dingItem":108,"../../service/ding/dinglist":359,"../../service/log/lwlog":424,"../../service/modal/sendDingModal":472}],225:[function(require,module,exports){
require("../../service/ding/dinglist"),require("../../directive/dinglist/dingItem");var app=angular.module("ddWeb.list.send",["ddWeb.ding","ddWeb.dinglist.dingItem",require("../../service/modal/sendDingModal"),require("../../service/log/lwlog")]);app.controller("send",["$scope","dinglist","sendDingModalService","lwlog",function(i,s,e,t){var n=this;this.dingstate=0,this.isOver=!1,this.isLoading=!1,this.sendList=s.getSentList();var d=function(){try{i.$digest()}catch(i){}};this.sendList.on(this.sendList.EventsName.DELETE_ITEM,d),this.sendList.on(this.sendList.EventsName.UPDATE_ITEMS,d),this.sendList.on(this.sendList.EventsName.ITEM_SORT_CHANGE,d),!this.sendList.isActive()&&this.sendList.active();var o=i.$watch(function(){return n.sendList.showItems},function(i){if(i){if(i.length>0){if(n.dingstate=2,i[0].EOF)return void(n.dingstate=1)}else if(0===i.length)return void(n.dingstate=0);i[i.length-1].EOF&&(n.isOver=!0)}});this.loadMore=function(){n.isLoading||n.isOver||(n.isLoading=!0,n.sendList.showMore(function(){n.isLoading=!1})),i.$digest()},this.showDingModal=function(){e.showModal(),t.commLog("ding_list_ding_click","")},i.$on("$destroy",function(){n.sendList.isActive()&&n.sendList.deactive(),o(),n.sendList.off(n.sendList.EventsName.DELETE_ITEM,d),n.sendList.off(n.sendList.EventsName.UPDATE_ITEMS,d),n.sendList.off(n.sendList.EventsName.ITEM_SORT_CHANGE,d)})}]);

},{"../../directive/dinglist/dingItem":108,"../../service/ding/dinglist":359,"../../service/log/lwlog":424,"../../service/modal/sendDingModal":472}],226:[function(require,module,exports){
"use strict";require("../../service/api/Login"),require("../../service/umid/umid"),require("../../service/goldlog/goldlog");var uriResolve=require("../../service/uriResolve/resolve");angular.module("ddWeb.auth",["ddWeb.api.Login","ddWeb.umid","ddWeb.goldlog"]).controller("auth",["$scope","$state","Login","umid","goldlog",function(e,o,i,r,u){var g=this;g.welcomeImg=uriResolve.assetsResolve("/app/img/welcome.png"),this.authorized=function(){o.go("authorized")},this.gotoLogin=function(){o.go("login")},i.autoLogin().then(function(){g.authorized()},function(){g.gotoLogin()})}]);

},{"../../service/api/Login":239,"../../service/goldlog/goldlog":399,"../../service/umid/umid":622,"../../service/uriResolve/resolve":628}],227:[function(require,module,exports){
"use strict";var ua=require("../../service/ua"),semver=require("semver"),limitConfig=require("../../service/limitConfig"),env=require("../../service/env/env"),storage=require("../../service/storage/storage"),nwWindow=require("../../service/app/nwWindow"),nw=require("../../service/app/nw"),globalURL=require("../../service/globalUrl");angular.module("ddWeb.login",[require("./verLogin"),require("./scanCodeLogin"),require("./passwordLogin"),require("../../service/modal/detector"),require("../../service/modal/updateAlert")]).controller("login",["$scope","$state","updateAlert","detectorModalService","$translate",function(e,o,r,n,i){var a=this;a.text={scancode:i.instant("pc_login_scancode"),password:i.instant("pc_login_password"),code:i.instant("pc_login_code"),abnormal:i.instant("pc_login_abnormal")},a.currentState=o.current.name,a.networkdetect=n,e.loginState={isAutoLogin:!1};var t=storage.local.getItem(storage.KEYS.AUTH_METHOD);void 0==t&&(t="scanCodeLogin"),o.go("login."+t),e.$on("$stateChangeSuccess",function(e,r,n,i,t){a.currentState=o.current.name}),a.onHeaderDblClick=function(){ua.isNw&&nwWindow.autoZoomWindow()},env.isProductEnv&&ua.isNw&&ua.isWin&&semver.lt(nw.version(),limitConfig.WIN_APP_NEWEST_VERSION)&&r({desc:["优化性能，大幅度提高打开速度；","支持聊天记录搜索","@支持拼音索引；","每条消息支持显示具体时间；"],downloadURL:globalURL.WIN_APP_RELEASE_PACKAGE,isDoDownload:!0,isForce:!0,btnGroupType:"onlyDownload"}),env.isProductEnv&&ua.isNw&&ua.isMac&&semver.lt(nw.version(),limitConfig.MAC_APP_NEWEST_VERSION)&&r({desc:["优化性能，大幅度提高打开速度；","支持聊天记录搜索","@支持拼音索引；","每条消息支持显示具体时间；"],downloadURL:globalURL.MAC_APP_RELEASE_PACKAGE,isDoDownload:!0,isForce:!0,btnGroupType:"onlyDownload"}),ua.isNw&&$("html").removeClass("no-bg")}]);

},{"../../service/app/nw":255,"../../service/app/nwWindow":257,"../../service/env/env":374,"../../service/globalUrl":398,"../../service/limitConfig":414,"../../service/modal/detector":451,"../../service/modal/updateAlert":477,"../../service/storage/storage":606,"../../service/ua":621,"./passwordLogin":228,"./scanCodeLogin":229,"./verLogin":230,"semver":930}],228:[function(require,module,exports){
"use strict";var moduleName="ddWeb.passwordLogin",appKey=require("../../service/appInfo").APP_KEY,env=require("../../service/env/env"),SEND_SMS_INTERVAL=60,my=require("../../service/user/my"),_=require("lodash");require("../../service/api/Login"),require("../../directive/widget/phoneInput"),require("../../service/log/log"),require("../../service/toast/toast"),require("../../service/widget/countryService"),require("../../directive/widget/focus");var storage=require("../../service/storage/storage"),ua=require("../../service/ua"),app=angular.module(moduleName,["ddWeb.api.Login","ddWeb.widget.phoneInput","ddWeb.log.log","ddWeb.toast","ddWeb.service.countryService","ddWeb.widget.focus",require("../../directive/login/newUserInfo"),require("../../service/login/compare2local")]);app.controller("passwordLogin",["$scope","$rootScope","$state","Login","log","toastService","countryService","compare2local","$translate",function(e,o,n,s,t,i,r,d,a){function c(e){l.loginError={msg:e}}function u(){storage.local.setItem(storage.KEYS.LATEST_USER_INFO,JSON.stringify({tel:l.telephone,countryKey:l.countryKey,nick:_.get(my,"userProfileModel.nick"),avatarMediaId:_.get(my,"userProfileModel.avatarMediaId")}))}var l=this;l.text={password_input_placeholder:a.instant("dt_login_password_input_placeholder"),button:a.instant("pc_login_button"),button_auto:a.instant("pc_login_button_auto"),button_auto_tip:a.instant("pc_login_button_auto_tip"),smscode_tip:a.instant("pc_login_smscode_tip"),code_send:a.instant("pc_login_code_send"),botton_confirm:a.instant("dt_login_botton_confirm"),code_placeholder:a.instant("pc_login_code_placeholder")};var g={};try{g=JSON.parse(storage.local.getItem(storage.KEYS.LATEST_USER_INFO))}catch(e){}g||(g={});var m=g.tel||"",p=g.countryKey||"CN",b=g.nick||null,y=g.avatarMediaId||null,f={nick:b,avatarMediaId:y};l.isDesktop=ua.isDesktop,l.user=f,l.telephone=m,l.countryKey=p,l.firstInput=!1,l.phoneValid=!0,l.connecting=!1,l.submitable=!1,l.isCurrentUser=d.isSameUser(l.countryKey,l.telephone),l.needSmsVerify=!1,l.smsCode=null,l.smsCodeErrMsg=null,l.smsCodeSubmitDisabled=!1,l.loginError={msg:""},l.password="",l.focusPhone=!0;l.onPhoneChange=function(e){l.phoneValid=e.isValid,l.isCurrentUser=d.isSameUser(e.countryKey,e.phone)},l.submit=function(){if(l.submitable&&l.phoneValid&&!e.passwordForm.$invalid){l.connecting=!0,l.submitable=!1;var i=r.getCodeByName(l.countryKey),d=l.fullPhone=i+"-"+l.telephone,g=!1;s.loginWithPsw(d,l.password,g,e.loginState.isAutoLogin).then(function(){l.connecting=!1,storage.local.setItem(storage.KEYS.AUTH_METHOD,"passwordLogin"),n.go("authorized"),t.info("login success by password"),u(),l.connecting=!1,o.$digest()},function(o){o&&o.body&&"14001"===o.body.code?(l.needSmsVerify=!0,l.sendSmsCode(),t.info("force sms code verify because new device")):c(o&&o.body&&o.body.reason?o.body.reason:a.instant("dt_errmsg_network_abnormal")),t.error(JSON.stringify(o),o),l.connecting=!1,l.submitable=!0,e.$digest()}),l.sendSmsCode=function(){l.sendCodeDisable=!0,s.sendSmsCode(l.fullPhone).then(function(o){l.focusCode=!0,l.countFrom=SEND_SMS_INTERVAL,l.codeToken=o,e.$digest()},function(o){o&&o.body&&o.body.reason?l.smsCodeErrMsg=o.body.reason:l.smsCodeErrMsg=a.instant("dt_login_scancode_errmsg_refresh"),t.error(JSON.stringify(o)),e.$digest()})},l.clearSendSmsErrMsg=function(){l.smsCodeErrMsg="",l.sendCodeDisable=!1},l.countTimeout=function(){l.countFrom=0,l.sendCodeDisable=!1},l.smsCodeChange=function(){l.smsCodeErrMsg=null,l.smsCodeSubmitDisabled=!1},l.verifySmsCode=function(){l.smsCodeSubmitDisabled=!0,l.connecting=!0,s.loginWithSMSCode(l.fullPhone,l.smsCode,l.codeToken,e.loginState.isAutoLogin).then(function(){l.connecting=!1,l.smsCodeSubmitDisabled=!1,storage.local.setItem(storage.KEYS.AUTH_METHOD,"passwordLogin"),u(),n.go("authorized"),t.info("login success by password + smscode"),e.$digest()},function(o){l.connecting=!1,l.smsCodeSubmitDisabled=!1,o&&o.body&&o.body.reason?l.smsCodeErrMsg=o.body.reason:l.smsCodeErrMsg=a.instant("dt_errmsg_network_abnormal"),t.error(JSON.stringify(o)),e.$digest()})}}}}]),module.exports=moduleName;

},{"../../directive/login/newUserInfo":117,"../../directive/widget/focus":157,"../../directive/widget/phoneInput":165,"../../service/api/Login":239,"../../service/appInfo":262,"../../service/env/env":374,"../../service/log/log":422,"../../service/login/compare2local":430,"../../service/storage/storage":606,"../../service/toast/toast":611,"../../service/ua":621,"../../service/user/my":635,"../../service/widget/countryService":660,"lodash":919}],229:[function(require,module,exports){
"use strict";var moduleName="ddWeb.scanCodeLogin",hostConfig=require("../../service/hostConfig");require("../../service/api/Login"),require("../../directive/widget/hoverAnimate");var storage=require("../../service/storage/storage"),ua=require("../../service/ua"),appInfo=require("../../service/appInfo");angular.module(moduleName,["ddWeb.api.Login","ddWeb.hoverAnimate",require("../../directive/login/newUserInfo"),require("../../directive/qrcode/qrcode"),require("../../service/log/log")]).controller("scanCodeLogin",["$scope","$state","$http","$timeout","Login","log","$rootScope","$translate",function(e,r,o,n,i,s,t,c){function a(){p.errMsg=c.instant("dt_login_errmsg_netandrefresh"),p.maskDisplay=!0,n.cancel(y),y=null}function d(e){return new Promise(function(o,n){h?o():i.loginWithScanCode(e).then(function(){h=!0,storage.local.setItem(storage.KEYS.AUTH_METHOD,"scanCodeLogin"),storage.local.removeItem(storage.KEYS.LATEST_USER_INFO),r.go("authorized"),s.info("login success by qrcode"),t.$digest(),o()},function(e){n(e),s.error(JSON.stringify(e))})})}function l(r){T||r==p.qrcode&&i.getUmid().then(function(n){return new Promise(function(i,t){o.jsonp(hostConfig.login+"/user/qrcode/is_logged.jsonp",{params:{callback:"JSON_CALLBACK",qrcode:p.qrcode,pdmToken:n.TokenId,pdmModel:ua.deviceModel,pdmTitle:ua.deviceName.slice(0,20),appKey:appInfo.APP_KEY},timeout:1e4}).success(function(o){C=0,T||(p.maskDisplay=!1),o.success&&o.result.secretToken?(p.errMsg="",p.maskDisplay=!0,d(o.result).then(function(){},function(r){r&&r.body&&r.body.reason?(p.errMsg=r.body.reason,s.error(JSON.stringify(r))):(p.errMsg=c.instant("dt_errmsg_network_abnormal"),s.error("network error after scan code")),s.error(JSON.stringify(r),r);try{e.$digest()}catch(e){}})):l(r)}).error(function(e){t(e)})})}).catch(function(){C++,C>10||!p.hasQrcode?(s.error("get is_logged failed, network is bad"),a()):l(r)})}function u(e,r){T||o.jsonp(hostConfig.login+"/user/qrcode/generate.jsonp",{params:{callback:"JSON_CALLBACK"}}).success(function(o){T||(o.success?(T=!1,p.hasQrcode=!0,p.maskDisplay=!1,p.qrcode=o.result,p.qrcodeOpt.data=_+o.result,l(p.qrcode),y||m(),e&&e()):(b++,s.error("generate qrcode failed"),b>5?a():r&&r()))}).error(function(e){b++,s.error("generate qrcode interface error"),p.hasQrcode=!1,b>5?a():r&&r()})}function g(e){q=setTimeout(function(){u(function(){g(p.successReloadTime)},function(){g(p.errorReloadTime)})},e)}function f(){clearTimeout(q),n.cancel(y),y=null,T=!1,p.qrcode=null,p.hasQrcode=!1,u(function(){g(p.successReloadTime)},function(){g(p.errorReloadTime)})}function m(){y=n(function(){p.errMsg=c.instant("dt_login_scancode_errmsg_refresh"),p.maskDisplay=!0,clearTimeout(q),T=!0,s.info("qrcode is invalid")},v)}var p=this;p.text={pc_login_scancode_tip:c.instant("pc_login_scancode_tip"),pc_login_scancode_refresh:c.instant("pc_login_scancode_refresh")};var h=!1,_="http://qr.dingtalk.com/action/login?code=",q=null,v=18e4,T=!1,y=null,k=null;this.errMsg="";var C=0,b=0;this.qrcodeOpt={size:170,data:"",level:"M",version:"5"},this.hasQrcode=!0,this.qrcode="",this.successReloadTime=18e4,this.errorReloadTime=2e3,this.maskDisplay=!1,this.canRefresh=!0,f(),p.updateQrCode=function(){p.canRefresh&&(f(),p.canRefresh=!1,k=n(function(){p.canRefresh=!0,k=null},3e3))},e.$on("$destroy",function(){p.qrcode=null,clearTimeout(q),n.cancel(y),n.cancel(k)})}]),module.exports=moduleName;

},{"../../directive/login/newUserInfo":117,"../../directive/qrcode/qrcode":127,"../../directive/widget/hoverAnimate":160,"../../service/api/Login":239,"../../service/appInfo":262,"../../service/hostConfig":405,"../../service/log/log":422,"../../service/storage/storage":606,"../../service/ua":621}],230:[function(require,module,exports){
"use strict";var moduleName="ddWeb.verLogin",env=require("../../service/env/env"),appKey=require("../../service/appInfo").APP_KEY,my=require("../../service/user/my"),_=require("lodash");require("../../directive/widget/formValidation"),require("../../directive/widget/countdown"),require("../../directive/widget/focus"),require("../../service/api/Login"),require("../../directive/widget/phoneInput"),require("../../service/widget/countryService");var storage=require("../../service/storage/storage");require("../../directive/widget/avatar/avatar");var ua=require("../../service/ua"),SEND_SMS_INTERVAL=60,verCache={codedisable:!1,submitDisable:!0,focusCode:!1,telCache:null,countryKeyCache:null},lastSendSmsTime=0;angular.module(moduleName,["ddWeb.widget.formValidation","ddWeb.widget.countdown","ddWeb.api.Login","ddWeb.widget.focus","ddWeb.widget.phoneInput","ddWeb.service.countryService",require("../../service/login/compare2local"),require("../../service/log/log")]).controller("verLogin",["$scope","$state","Login","$timeout","countryService","compare2local","log","$rootScope","$translate",function(e,o,t,i,n,r,a,s,c){function d(e){l.loginError={msg:e}}function u(){storage.local.setItem(storage.KEYS.LATEST_USER_INFO,JSON.stringify({tel:l.telephone,countryKey:l.countryKey,nick:_.get(my,"userProfileModel.nick"),avatarMediaId:_.get(my,"userProfileModel.avatarMediaId")}))}var l=this;l.text={pc_login_code_send:c.instant("pc_login_code_send"),pc_login_code_placeholder:c.instant("pc_login_code_placeholder"),pc_login_button:c.instant("pc_login_button"),pc_login_button_auto_tip:c.instant("pc_login_button_auto_tip"),pc_login_button_auto:c.instant("pc_login_button_auto")};var g={};try{g=JSON.parse(storage.local.getItem(storage.KEYS.LATEST_USER_INFO))}catch(e){}g||(g={});var m=g.tel||"",b=g.countryKey||"CN",v=g.nick||null,p=g.avatarMediaId||null,y={nick:v,avatarMediaId:p};l.isDesktop=ua.isDesktop,l.user=y,l.codedisable=verCache.codedisable,l.focusTelephone=!0,l.telephone=m,l.countryKey=b?b:"CN",l.connecting=!1,l.submitDisable=verCache.submitDisable,l.phoneValid=!0,l.intervaltime=verCache.intervaltime,l.loginError={msg:""},l.isCurrentUser=r.isSameUser(l.countryKey,l.telephone),l.code="";var S=(new Date).getTime(),h=S-lastSendSmsTime;h>0&&h<6e4&&(l.countFrom=60-parseInt(h/1e3),l.codedisable=!0),l.onPhoneChange=function(e){l.phoneValid=e.isValid,l.isCurrentUser=r.isSameUser(e.countryKey,e.phone)},l.submit=function(){if(!l.submitDisable){l.connecting=!0,l.submitDisable=!0;var i=n.getCodeByName(l.countryKey),r=i+"-"+l.telephone;t.loginWithSMSCode(r,l.code,l.codeToken,e.loginState.isAutoLogin).then(function(){storage.local.setItem(storage.KEYS.AUTH_METHOD,"verLogin"),o.go("authorized"),a.info("login success by sms code"),u(),s.$digest()},function(o){d(o&&o.body&&o.body.reason?o.body.reason:c.instant("dt_errmsg_network_abnormal")),l.connecting=!1,l.submitDisable=!1,a.error(JSON.stringify(o),o),e.$digest()})}},l.countTimeout=function(){l.codedisable=!1,l.countFrom=0},l.sendCode=function(){if(!l.codedisable){var o=n.getCodeByName(l.countryKey),i=o+"-"+l.telephone;l.codedisable=!0,t.sendSmsCode(i).then(function(o){l.focusCode=!0,l.countFrom=SEND_SMS_INTERVAL,lastSendSmsTime=(new Date).getTime(),l.codeToken=o,e.verLoginError={msg:"",errIcon:""},a.info("send sms code success"),e.$digest()},function(o){d(o&&o.body&&o.body.reason?o.body.reason:c.instant("dt_errmsg_network_abnormal")),l.codedisable=!1,a.error(JSON.stringify(o)),e.$digest()})}},e.$on("$stateChangeStart",function(e,o,t,i,n){verCache={codedisable:l.codedisable,submitDisable:l.submitDisable,focusCode:l.focusCode,telCache:l.telephone,countryKeyCache:l.countryKey}})}]),module.exports=moduleName;

},{"../../directive/widget/avatar/avatar":141,"../../directive/widget/countdown":149,"../../directive/widget/focus":157,"../../directive/widget/formValidation":158,"../../directive/widget/phoneInput":165,"../../service/api/Login":239,"../../service/appInfo":262,"../../service/env/env":374,"../../service/log/log":422,"../../service/login/compare2local":430,"../../service/storage/storage":606,"../../service/ua":621,"../../service/user/my":635,"../../service/widget/countryService":660,"lodash":919}],231:[function(require,module,exports){
"use strict";var moduleName="ddWeb.microApp.selector";require("../../service/tool/multiOrgTool");var jsuri=require("jsuri"),_=require("lodash"),microAppLocationScene=require("../../service/microApp/microAppLocationScene"),localLog=require("../../service/log/localLog"),appListWhiteList=require("../../service/microApp/appListWhiteList"),ua=require("../../service/ua"),mediaId=require("@ali/ding-mediaid"),$my=require("../../service/user/my");angular.module(moduleName,["ddWeb.service.multiOrgTool",require("../../service/toast/toast"),require("../../directive/microApp/microAppContainer"),require("../../service/microApp/appList"),require("../../service/microApp/authorize"),require("../../service/openAPI/config"),require("../../service/openAPI/initHelper"),require("../../service/openAPI/biz/oauth/authorize"),require("../../service/microApp/microAppData"),require("../../service/log/lwlog")]).controller("microAppSelector",["$scope","multiOrgTool","toastService","appList","authorize","openAPIConfig","openAPIInitHelper","openAPIBizOauthAuthorize","microAppData","lwlog",function(e,r,o,i,t,a,n,p,c,u){var l=this,s="about:blank";l.resultUrl=s,l.currentApp=null,l.showDefaultPage=!0;var g=function(e){return c.getDataByOrgId(e).then(function(e){return e.oa_app&&"object"==typeof e.oa_app?Promise.resolve(Object.keys(e.oa_app).filter(function(r){return appListWhiteList.indexOf(r+"")>-1&&e.oa_app[r].location>0||e.oa_app[r].rawPcHomepage&&(!!ua.isDesktop||"https://"===e.oa_app[r].rawPcHomepage.slice(0,8))}).map(function(r){return e.oa_app[r]})):Promise.resolve([])}).then(function(e){return e=c.filterAppByLocationScene(e,microAppLocationScene.WORK_TAB),e=e.sort(function(e,r){return e.cs_order-r.cs_order}),e.forEach(function(e){e.iconUrl||(e.iconUrl=mediaId.mid2Url(e.icon,{imageSize:"origin"}))}),e}).catch(function(e){localLog.error("getAppList error :",e)})};l.orgList=r.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees),l.isOnlyOneOrg=l.orgList.length&&1===l.orgList.length,l.currentOrg=r.getCurrentOrgData(l.orgList[0],l.orgList),g(l.currentOrg.oid).then(function(r){l.apps=r,e.$digest()});var m=function(){l.resultUrl=s,l.currentApp=null,l.showDefaultPage=!0};l.onOrgSelect=function(o){r.setCurrentOrgData(o),l.currentOrg=o,g(o.oid).then(function(r){l.apps=r;try{e.$digest()}catch(e){console.log(e)}}),m()};var d=function(r){if(!r)return void m();var i="";if(r.rawPcHomepage){i=r.rawPcHomepage;var t=new jsuri(i);"qr.dingtalk.com"===t.host()&&"/page/link"===t.path()&&t.getQueryParamValue("url")&&(i=t.getQueryParamValue("url"))}else i=new jsuri(r.homepage).getQueryParamValue("url"),i||(i=r.homepage);if(i){c.getData().then(function(r){var o=_.get(r,"oa_org."+l.currentOrg.oid),t=o.corpId;i=i.replace(/\$CORPID\$/g,t),l.resultUrl=i,l.showDefaultPage=!1,e.$digest()});var a="orgId="+l.currentOrg.oid+"&appId="+r.appId+"&agentId="+r.agent;u.commLog("work_app_click",a)}else m(),o.show("暂不支持该类型微应用的访问",{type:"error"})};l.onAppClick=function(e){e&&l.currentApp&&e.agent===l.currentApp.agent||(l.currentApp=e,d(e))}}]),module.exports=moduleName;

},{"../../directive/microApp/microAppContainer":120,"../../service/log/localLog":421,"../../service/log/lwlog":424,"../../service/microApp/appList":434,"../../service/microApp/appListWhiteList":435,"../../service/microApp/authorize":436,"../../service/microApp/microAppData":437,"../../service/microApp/microAppLocationScene":438,"../../service/openAPI/biz/oauth/authorize":501,"../../service/openAPI/config":519,"../../service/openAPI/initHelper":525,"../../service/toast/toast":611,"../../service/tool/multiOrgTool":614,"../../service/ua":621,"../../service/user/my":635,"@ali/ding-mediaid":716,"jsuri":901,"lodash":919}],232:[function(require,module,exports){
"use strict";var uriResolve=require("../../service/uriResolve/resolve"),app=angular.module("ddWeb.nocontent",["ui.router"]);app.controller("nocontent",["$state","$scope",function(e,n){var o=this,t=(new Date).getHours();t>5&&t<12?o.timeType="morning":t>=12&&t<18?o.timeType="afternoon":o.timeType="night",o.welcomeImg=uriResolve.assetsResolve("app/img/nocontent/lALOAEn98c0B4M0B4A_480_480.png"),o.morningImg=uriResolve.assetsResolve("app/img/nocontent/1f31e.png"),o.afternoonImg=uriResolve.assetsResolve("app/img/nocontent/2615.png"),o.nightImg=uriResolve.assetsResolve("app/img/nocontent/1f31b.png")}]);

},{"../../service/uriResolve/resolve":628}],233:[function(require,module,exports){
"use strict";function _initCsConfigTopicEntry(e){var i=e.TableEntry;CSConfigTopicEntry=i.extend({initialize:function(){CSConfigTopicEntry.superclass.initialize.call(this),this.tableName=csConfigTableDef.TABLE_NAME,this._initTable()},_defineTable:function(){this.tableDef=tableDef,this.colsDefs=this.tableDef.map(function(e){return e.name+" "+e.constraint}),this.cols=this.tableDef.map(function(e){return e.name}),this.indexDefs=indexDefs},_defineSerializationMap:function(){this.serializeMap={},this.serializeMap[colsEnums.TOPIC_NAME]="topic",this.serializeMap[colsEnums.VERSION]="version",this.serializeMap[colsEnums.VALUE]="data"},getDataByTopicName:function(e,i){if(!e)return Promise.reject("topicName is null");var n=colsEnums.TOPIC_NAME+"=?",t=[e],r={columns:["*"],selection:n,selectionArgs:t};return this.getTableWrapper.then(function(){return this.tableWrapper.query(r,i)}.bind(this)).then(function(e){if(e&&e.length){var i=e.map(function(e){return this._deserialization(e)}.bind(this));return Promise.resolve(i[0])}return Promise.reject(new Error("not in local db"))}.bind(this))},update:function(e,i){var n=_.get(e,"topic");if(!n)return Promise.reject("topic is null");var t=colsEnums.TOPIC_NAME+"=?",r=[n],s={},o=this._serialization(e);o.forEach(function(e,i){s[this.cols[i]]=e}.bind(this));var l={columns:["*"],selection:t,selectionArgs:r};return this.getTableWrapper.then(function(){return this.tableWrapper.query(l,i)}.bind(this)).then(function(e){return e&&e.length?this.tableWrapper.update(s,t,r,i):this.tableWrapper.insert(s,null,i)}.bind(this))}})}var _=require("lodash"),csConfigTableDef=require("./CSConfigTopicTableDef"),colsEnums=csConfigTableDef.colsEnums,tableDef=csConfigTableDef.tableDef,indexDefs=csConfigTableDef.indexDefs,CSConfigTopicEntry=null,dbCollection=require("../db/dbCollection");module.exports={getCsConfigTopicEntry:function(){return!CSConfigTopicEntry&&dbCollection.db&&_initCsConfigTopicEntry(dbCollection),CSConfigTopicEntry}};
},{"../db/dbCollection":328,"./CSConfigTopicTableDef":235,"lodash":919}],234:[function(require,module,exports){
"use strict";var moduleName="ddWeb.CSConfig.topic",cloudSetting=require("@ali/wksdk").cloudSetting,localLog=require("../log/localLog"),CSConfigDbEntryService=require("./CSConfigDbEntryService");angular.module(moduleName,[require("@ali/ding-api").interface.CsConfigI]).factory("CSConfigTopic",["CsConfigI",function(t){var e=require("../../lib/class"),i=require("lodash"),r=require("wolfy87-eventemitter"),o=e.create({initialize:function(t){this.topicName=t,this.moduleName="wk_phone",this.version=0,this.data=null,this._fetchPromise=null,this._localDbPromise=null;var e=CSConfigDbEntryService.getCsConfigTopicEntry();e&&(this.csConfigDbEntry=new e),this.initCloudSetting()},Implements:r,EventsName:{UPDATE:"update"},_getAndSave:function(){return this._getDataFromServer().then(function(t){return t.version>this.version&&(this.data=t.value,this.version=t.version,this.emit(this.EventsName.UPDATE,this.data),this.csConfigDbEntry&&this.csConfigDbEntry.update(t),localLog.info("get cloud setting from server success",this.topicName,this.version)),this.data}.bind(this))},initCloudSetting:function(){cloudSetting.addListener(this.moduleName,this.topicName,this._getAndSave.bind(this));var t=this._getDataFromLocalDB().then(function(t){var e=cloudSetting.getConfig(this.moduleName,this.topicName),i=e?e.settingValue:null,r=0;if(i)try{var o=JSON.parse(i);r=o.ver}catch(t){}return t.version>=r&&t.version>this.version?(this.data=t.data,this.version=t.version,localLog.info("get cloud setting from local db success",this.topicName,this.version),this.emit(this.EventsName.UPDATE,this.data),this.data):(localLog.error("get cloud setting from local db success, but version not match",this.topicName,this.version,t.version,r),Promise.reject("version not match"))}.bind(this)).catch(function(t){return localLog.error("get cloud setting from local db fail",this.topicName,t),this._getAndSave()}.bind(this));this._localDbPromise=t},_getDataFromLocalDB:function(){return this.csConfigDbEntry?this.csConfigDbEntry.getDataByTopicName(this.topicName):Promise.reject("cannot find cs config db entry")},_getDataFromServer:function(){return this._fetchPromise||(this._fetchPromise=t.getConf([{topic:this.topicName,version:0}]).result.then(function(t){var e=void 0;return t.body&&Array.isArray(t.body)&&(e=i.find(t.body,function(t){return t.topic===this.topicName}.bind(this))),e?e:(localLog.error("get data from server error",JSON.stringify(t)),Promise.reject(new Error("get data from server error")))}.bind(this)).then(function(t){this._fetchPromise=null;try{return t.value=JSON.parse(t.data),t}catch(e){return localLog.error("json parse error",t.data),Promise.reject(new Error("json parse error"))}}.bind(this)).catch(function(t){return this._fetchPromise=null,localLog.error("get conf error",this.topicName,this.version,t,JSON.stringify(t._originMsg)),Promise.reject(t)}.bind(this))),this._fetchPromise},getData:function(){return this.data?Promise.resolve(this.data):this._localDbPromise.then(function(t){return this.data}.bind(this))}});return o}]),module.exports=moduleName;
},{"../../lib/class":198,"../log/localLog":421,"./CSConfigDbEntryService":233,"@ali/ding-api":711,"@ali/wksdk":779,"lodash":919,"wolfy87-eventemitter":944}],235:[function(require,module,exports){
var colsEnums={TOPIC_NAME:"topicName",VERSION:"version",VALUE:"valueJson"},tableDef=[{name:colsEnums.TOPIC_NAME,constraint:"TEXT PRIMARY KEY"},{name:colsEnums.VERSION,constraint:"INTEGER"},{name:colsEnums.VALUE,constraint:"TEXT"}],tableName="CSConfigTopic",indexEnums={TOPIC_NAME:"idx_csConfig_topicName"},indexDefs=[{name:indexEnums.TOPIC_NAME,colName:colsEnums.TOPIC_NAME,isUnique:!0}];module.exports={indexEnums:indexEnums,indexDefs:indexDefs,tableDef:tableDef,colsEnums:colsEnums,TABLE_NAME:tableName};
},{}],236:[function(require,module,exports){
module.exports={REMOTE:{module:"win_framework",key:"open_remote"},RECALL:{module:"dd_im",key:"recall_time"},ROBOT:{module:"dt_function",key:"open_robot"},GROUP_STRICT:{module:"dt_function",key:"dt_group_strict_sync"}};

},{}],237:[function(require,module,exports){
"use strict";module.exports={VIDEO:"videoConf",VOIP:"voip"};

},{}],238:[function(require,module,exports){
angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(n,i,t){function a(n){for(var i in n)if(void 0!==r.style[i])return n[i]}var o=function(a,r,e){e=e||{};var s=n.defer(),d=o[e.animation?"animationEndEventName":"transitionEndEventName"],u=function(n){t.$apply(function(){a.unbind(d,u),s.resolve(a)})};return d&&a.bind(d,u),i(function(){angular.isString(r)?a.addClass(r):angular.isFunction(r)?r(a):angular.isObject(r)&&a.css(r),d||s.resolve(a)}),s.promise.cancel=function(){d&&a.unbind(d,u),s.reject("Transition cancelled")},s.promise},r=document.createElement("trans"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=a(e),o.animationEndEventName=a(s),o}]);

},{}],239:[function(require,module,exports){
"use strict";require("./MsgSub"),require("../modal/alert");var storage=require("../storage/storage"),my=require("../user/my"),ua=require("../ua"),appInfo=require("../appInfo"),LoginStatusCode=require("../login/LoginStatusCode"),hostConfig=require("../hostConfig"),WKEngine=require("@ali/wksdk"),moduleName="ddWeb.api.Login",ddStorage=require("../storage/ddStorage"),loginStatus=require("../login/loginStatus");angular.module(moduleName,["ddWeb.api.MsgSub","ddWeb.modal.alert",require("@ali/ding-api").interface.LoginI,require("@ali/ding-api").interface.UserI,require("../umid/umid"),require("../log/log"),require("../io/mainWS"),require("../appInit/afterLoginInit")]).factory("Login",["$rootScope","MsgSub","mainWS","$alert","LoginI","umid","log","afterLoginInit","UserI",function(e,n,o,i,r,t,u,s,d){function c(e){return r.sendSmsCode(e).result.then(function(e){return u.info("send sms code success"),e.body}).catch(function(e){return u.error("send sms code fail: "+e.toString()),Promise.reject(e._originMsg)})}var a=function(){o.logout()},f=function(){return o.autoLogin().then(function(e){return WKEngine.imInit(),e.uid?d.getUserProfileExtensionByUid(e.uid,null).result.then(function(e){return e.body?(my.setData(e.body),u.info("auto login get user profile extension success"),!0):(u.error("auto login get user profile extension error"+JSON.stringify(e)),Promise.reject(new Error("获取个人信息失败")))},function(e){return u.error("auto login get user profile extension error"+JSON.stringify(e._originMsg)),Promise.reject(new Error("获取个人信息失败"))}):(u.error("auto login but no uid"),Promise.reject(new Error("uid 为空")))}).then(function(){s.init()})},g=function(e,n,i){return n?o.auth(e,i).then(function(){my.setData(n,!0),WKEngine.imInit(),s.init()}):(u.error("auth fail, myProfile is null"),Promise.reject(new Error("auth fail, myProfile is null")))},l=function(){return new Promise(function(e,n){r.umidToken(function(o){200===o.code?(t.init(o.body.TokenId,o.body.Timestamp),u.info("get umid success"),e(o.body)):(u.info("get umid fail: "+JSON.stringify(o)),n(o))})})},m=l(),p=function(){return m?m.then(function(){return m},function(){return m=l()}):m=l()},h=function(e,n,o,i){return Promise.resolve().then(function(){return p()}).then(function(o){return new Promise(function(i,t){r.login({title:ua.deviceName.slice(0,20),model:ua.deviceModel,token:o.TokenId},e,n,appInfo.APP_KEY,null,function(e){200===e.code?(i(e.body),u.info("login with psw get accessToken success")):(t(e),u.error("password login error: "+JSON.stringify(e)),loginStatus.setLoginStatus(LoginStatusCode.LOGIN_FAIL))})})}).then(function(e){return g({accessToken:e.accessToken,refreshToken:e.refreshToken,expiredTime:e.expiredTime,tmpCode:e.tmpCode,uid:e.openId},e.userProfileExtensionModel,{isTempLogin:!!o,isAutoLogin:!!i})})},S=function(e,n,o,i){return Promise.resolve().then(function(){return p()}).then(function(i){return new Promise(function(t,s){r.tokenLogin({title:ua.deviceName.slice(0,20),model:ua.deviceModel,token:i.TokenId},e,n,appInfo.APP_KEY,o,null,function(e){200===e.code?(t(e.body),u.info("login with sms code get accessToken success")):(s(e),u.error("sms code login error: "+JSON.stringify(e)),loginStatus.setLoginStatus(LoginStatusCode.LOGIN_FAIL))})})}).then(function(e){return g({accessToken:e.accessToken,refreshToken:e.refreshToken,expiredTime:e.expiredTime,tmpCode:e.tmpCode,uid:e.openId},e.userProfileExtensionModel,{isAutoLogin:!!i})})},k=function(e){return u.info("login with scan code"),Promise.resolve().then(function(){return g({accessToken:e.accessToken,refreshToken:e.refreshToken,expiredTime:e.expiredTime,tmpCode:e.tmpCode,uid:e.openId},e.userProfileExtensionModel,{needReconnectAfterDidSet:!0})})};return n.subscribe("/push/kickout",function(e){u.info("has been kickout : "+JSON.stringify(e)),e.body?(o.forceOffline(),i({content:e.body}).then(function(){a()},function(){a()})):a()}),{logout:a,autoLogin:f,loginWithPsw:h,loginWithSMSCode:S,loginWithScanCode:k,sendSmsCode:c,getUmid:p}}]),module.exports=moduleName;

},{"../appInfo":262,"../appInit/afterLoginInit":263,"../hostConfig":405,"../io/mainWS":411,"../log/log":422,"../login/LoginStatusCode":429,"../login/loginStatus":431,"../modal/alert":445,"../storage/ddStorage":605,"../storage/storage":606,"../ua":621,"../umid/umid":622,"../user/my":635,"./MsgSub":240,"@ali/ding-api":711,"@ali/wksdk":779}],240:[function(require,module,exports){
"use strict";var moduleName="ddWeb.api.MsgSub",wkSubscribe=require("@ali/wksdk").subscribe;angular.module(moduleName,[]).factory("MsgSub",[function(){var e=function(e,u){return wkSubscribe.on(e,u)};return{subscribe:e}}]),module.exports=moduleName;

},{"@ali/wksdk":779}],241:[function(require,module,exports){
"use strict";var moment=require("moment"),Class=require("../../lib/class"),localLog=require("../log/localLog"),uriResolve=require("../uriResolve/resolve"),TRY_TIME_LIMIT=5,ERR_CODE={CANCEL_BY_USER:2e4},createFileAPI=uriResolve.apiResolve("/attachment/mcreatefile"),uploadAPI=uriResolve.apiResolve("/attachment/mupload"),addAPI=uriResolve.apiResolve("/v1/space/file/add"),moduleName="ddWeb.api.SpaceUpload";angular.module(moduleName,[require("../refreshCookie/refreshCookie"),require("../file/fileHelper"),require("../spacePlugin/upload"),require("@ali/ding-api").interface.CSpace,require("../../service/log/lwlog")]).factory("SpaceUpload",["refreshCookie","$fileHelper","CSpaceFileUploader","lwlog","CSpace",function(e,i,t,o,a){var r=Class.create({initialize:function(e,i,a,r){var n=this,s=r||{};n._p={},this.result=new Promise(function(e,i){n._p.resolve=e,n._p.reject=i}),this.onProgress=a||function(){},this.file=e,this.spaceId=i,this.isCanceled=!1,this.uploadTimeSet={};var l={fromIM:!0,spaceId:i,path:"/"};_.assign(l,s.addArgs);var c=t.initFileUploader(),d=c.appendFileForIM(e,l);this.clientId=d.getClientId(),this.uploadTimeSet[this.clientId]={size:d.getFileSize()},o.commLog("space_upload_count_click","count=1"),localLog.info("space upload init :","*."+this.file.name.split(".").pop(),"clientId:"+this.clientId+",fileSize:"+e.size+",startTime:"+(new Date).getTime())},ERR_CODE:ERR_CODE,upload:function(){var e=this,i=t.initFileUploader(),a=e.clientId,r=i.doUploadIMFile(a);a&&e.uploadTimeSet[a]?e.uploadTimeSet[a].start=(new Date).getTime():e.uploadTimeSet[a]={start:(new Date).getTime()},r.on("fileProgress",function(i){e.onProgress(i.percent)}),r.on("fileUploadSuccess",function(i){e._p.resolve({data:i});var t=i.clientId,a=e.uploadTimeSet[t];if(a){var r=a.start,n=a.size,s=(new Date).getTime(),l=s-r;if(n>0&&l>0){var c=n/1024/(l/1e3);o.commLog("space_upload_speed_click","size="+n+"&time="+l+"&speed="+c),localLog.info("space upload speed info :","*."+e.file.name.split(".").pop(),JSON.stringify({clientId:t,size:n,time:l,speed:c}))}}}),r.on("fileUploadError",function(i){e.isCanceled||(localLog.info("space upload error in processor:",e.file.name,JSON.stringify(i)),i.reason&&"STOP_REJECT"==i.reason?e.cancel(!0):e._p.reject({data:i}))})},_upload:function(){var i=this;if(!i.file||!i.spaceId)return Promise.reject(new Error("file 或者 spaceId 不存在"));var t=0,o=3,a=function(){return i._mCreateFile().then(function(e){return i._fragUpload(e)}).then(function(e){return i._add(e)}).then(function(e){return localLog.info("space upload success :",i.file.name,JSON.stringify(e)),Promise.resolve(e)}).catch(function(r){return t>=o?(localLog.error("space upload error :",i.file.name,JSON.stringify(r)),Promise.reject(r)):(t++,"5"==r.code?e.refresh().then(function(){return a()}):Promise.reject(r))})};return a()},cancel:function(e){var i=this,a={code:400,body:{code:ERR_CODE.CANCEL_BY_USER,reason:"取消了上传",silent:!0}};i.isCanceled=!0;var r=t.initFileUploader();!e&&r.stopWork(i.clientId),o.commLog("space_upload_cancel_click"),i._p.reject(a),localLog.info("space upload cancel by user:",i.file.name,JSON.stringify(a))},_mCreateFile:function(){var e=this;return new Promise(function(i,t){$.ajax(createFileAPI,{method:"GET",data:{size:e.file.size},dataType:"json"}).then(function(e){if("success"===e.msg&&e.uploadid){var o=e.uploadid;i(o)}else t(e)},function(e){t(e)})})},_fragUpload:function(e){var i=this,t=this.file.size,o=0,a=5e5,r=uploadAPI+"?uploadid="+e,n=0;if(0===t)return Promise.reject({body:{reason:"文件大小为空"}});var s=function(){return i.isCanceled===!0?Promise.reject():new Promise(function(e,l){var c=o*a,d=(o+1)*a;d>t&&(d=t);var u=new FormData,p=i.file.slice(c,d);u.append(i.file.name,p);var f=new XMLHttpRequest,m=function(i){n<TRY_TIME_LIMIT?(n++,s().then(function(i){e(i)},function(e){l(e)})):l(i)};f.upload.addEventListener("progress",function(e){i.onProgress((e.loaded/e.total*(d-c)+c)/t)},!1),f.addEventListener("error",function(e){l(e)},!1),f.addEventListener("load",function(i){try{var a=JSON.parse(f.responseText);if("0"!==a.code)return void m(a);d>=t?e(a):(n=0,o++,s().then(function(i){e(i)},function(e){l(e)}))}catch(e){m(e)}}),f.open("POST",r),f.setRequestHeader("NDPartition","bytes="+c+"-"+(d-1)),f.send(u)})};return s()},_getPath:function(){return""},_add:function(e){var t=this,o=e.filepath,a=t._getPath()+"/"+i.escapeFileName(t.file.name),r={fromIm:!0,spaceId:t.spaceId,path:a,tempUrl:o};return new Promise(function(e,i){$.ajax(addAPI,{method:"POST",data:JSON.stringify(r),contentType:"application/json",processData:!1}).then(function(o){o&&o.success===!0?(t.onProgress(1),e(o)):i(o)},function(e,t,o){i(o)})})}});return r}]),module.exports=moduleName;

},{"../../lib/class":198,"../../service/log/lwlog":424,"../file/fileHelper":379,"../log/localLog":421,"../refreshCookie/refreshCookie":543,"../spacePlugin/upload":603,"../uriResolve/resolve":628,"@ali/ding-api":711,"moment":923}],242:[function(require,module,exports){
"use strict";var Class=require("../../lib/class"),UploadQueue=Class.create({initialize:function(){this.queue=[],this.workingTask=null,this.taskNum=1},add:function(s,i,t){this.queue.push([s,i,t,this.taskNum++]),this.workingTask||this._changeTask()},_changeTask:function(){this.queue.length>0?(this.workingTask=this.queue.shift(),this._runTask()):this.workingTask=null},_runTask:function(){var s=this,i=this.workingTask[3];this.workingTask[0].result.then(function(){t()},function(){t()}).catch(function(s){t()});var t=function(){s.workingTask&&s.workingTask[3]!==i||s._changeTask()};this.workingTask[0].upload(),this.workingTask[1]&&this.workingTask[1]()},delete:function(s){if(this.workingTask[0]===s)this.workingTask[2]&&this.workingTask[2](),this._changeTask();else{var i=-1;this.queue.some(function(t,n){if(t[0]===s)return i=n,!0}),i!==-1&&(this.queue[i][2]&&this.queue[i][2](),this.queue.splice(i,1))}},reset:function(){this.queue=[],this.workingTask=null}});module.exports=new UploadQueue;

},{"../../lib/class":198}],243:[function(require,module,exports){
"use strict";var moduleName="ddWeb.api.trans";require("../mediaId/mediaId"),require("../io/mainWS"),angular.module(moduleName,["ddWeb.io.mainWS","ddWeb.mediaId"]).factory("trans",["mainWS","mediaId",function(e,d){var a=function(d,a){e.sendMsg("/up/trans",{},{src:d,dstType:5},function(e){a&&a(e)})};return{amrToMp3:a}}]),module.exports=moduleName;

},{"../io/mainWS":411,"../mediaId/mediaId":433}],244:[function(require,module,exports){
"use strict";var ua=require("../ua");angular.module("ddWeb.appAutoRun",[]).factory("appAutoRun",[function(){function n(n){return ua.isDingTalkWin?n?new Promise(function(n,u){dingtalk.util.regAutoRun("x"),n()}):new Promise(function(n,u){dingtalk.util.unregAutoRun("x"),n()}):Promise.reject(new Error("不支持的平台"))}var u="rc"===window.desktopEnv,e="DingTalk.exe";return u&&(e="DingTalkRC.exe"),{setAppAutoRun:n}}]);

},{"../ua":621}],245:[function(require,module,exports){
"use strict";var moduleName="ddWeb.app.badgeLabel",ua=require("../ua"),nw=require("./nw");angular.module(moduleName,[require("../conversation/unreadConv")]).factory("badgeLabel",["unreadConv",function(e){var n=function(){ua.isNw&&(e.on(e.EventsName.UNREAD_UPDATE,function(e){var n=e.unreadMsgCount;nw.setUnread(n)}),$(window).on("unload",function(){nw.setUnread(0)}))};return{init:n}}]),module.exports=moduleName;

},{"../conversation/unreadConv":322,"../ua":621,"./nw":255}],246:[function(require,module,exports){
"use strict";var EventEmitter=require("wolfy87-eventemitter"),Class=require("../../lib/class"),httpOverLwp=require("../io/httpOverLwp"),localLog=require("../log/localLog"),ua=require("../ua"),semver=require("semver"),unibabel=require("unibabel/index.js"),osName="win";ua.isMac&&(osName="mac");var SilentUpdate=Class.create({initialize:function(e){if(this._checkConfig(e)){this.conf=e,this.tryCompare();var t=this;this.ignoreVersions={web_content:[],nw:[]},setInterval(function(){t.tryCompare()},18e6)}},EVENTS_NAME:{NW_IS_NOT_SUPPORTED:"nw_is_not_supported",NW_IS_NOT_SATISFIED:"nw_is_not_satisfied",PACKAGE_NEED_UPDATE:"package_need_update",PACKAGE_NEED_DOWNLOAD_AND_UPDATE:"package_need_download_and_update",ERROR_INFO:"error_info",NO_UPDATE:"no_update"},Implements:EventEmitter,_checkConfig:function(e){return e.remoteManifest&&e.web_content&&e.web_content.version&&e.nw_version},tryCompare:function(){return this.detectUpdate().then(function(e){var t=e.eventName;this.emit(t,e.value)}.bind(this))},getUpdateInfo:function(){var e=this.conf.remoteManifest;return window.fetch(e).then(function(e){return e.json()}).then(function(e){return e[osName]}).catch(function(e){return localLog.error("get update info eroor",e),Promise.reject(e)})},detectUpdate:function(e){var t=this;return this.getUpdateInfo().then(function(n){try{var r=(n.web_content.version,n.min_version),i=n.package;if(semver.gt(r,t.conf.nw_version))return{eventName:t.EVENTS_NAME.NW_IS_NOT_SUPPORTED,value:n};if("win"==osName&&semver.gt(i.version,t.conf.nw_version)&&(t.ignoreVersions.nw.indexOf(i.version)===-1||e)){if(i["need-reinstall"]&&semver.satisfies(t.conf.nw_version.split("-")[0],i["need-reinstall"]))return{eventName:t.EVENTS_NAME.NW_IS_NOT_SATISFIED,value:n};if(i["need-update-v2"]&&semver.satisfies(t.conf.nw_version.split("-")[0],i["need-update-v2"]))return{eventName:t.EVENTS_NAME.PACKAGE_NEED_DOWNLOAD_AND_UPDATE,value:n}}return{eventName:t.EVENTS_NAME.NO_UPDATE}}catch(e){return{eventName:t.EVENTS_NAME.ERROR_INFO,value:e}}}).catch(function(e){return{eventName:t.EVENTS_NAME.ERROR_INFO,value:e}})},tryUpdate:function(e,t){var n=e.value,r=e.eventName;return r===this.EVENTS_NAME.PACKAGE_NEED_DOWNLOAD_AND_UPDATE?(console.log(n),dingtalk.app.runupdater({env:this.conf.desktop_env,url:n.package.url,md5:n.package.md5}),Promise.resolve()):(this.emit(this.EVENTS_NAME.ERROR_INFO,"cannot update for detectResul"+r),Promise.reject("cannot update for detectResul"+r))},addIgnoreVersion:function(e,t){this.ignoreVersions[e].push(t)}});exports.init=function(e){return new SilentUpdate(e)};

},{"../../lib/class":198,"../io/httpOverLwp":410,"../log/localLog":421,"../ua":621,"semver":930,"unibabel/index.js":940,"wolfy87-eventemitter":944}],247:[function(require,module,exports){
"use strict";var moduleName="ddWeb.download.DLManager",ua=require("../../ua"),urlParser=require("url"),querystring=require("querystring");require("../nwDialog");var ErrorMsg=require("./ErrorMsg"),_=require("lodash"),dingtalkDownload=require("./dingtalkDownload"),localLog=require("../../../service/log/localLog"),sep="/";ua.isWin&&(sep="\\");var statLog=require("../../log/statLog"),app=angular.module(moduleName,["ddWeb.nw.dialog",require("../../log/log"),require("../../log/lwlog"),require("./downloadService"),require("./LocalCache"),require("../../refreshCookie/refreshCookie"),require("../../spacePlugin/upload"),require("../../safety/fileEncryptor"),require("../../file/fileHelper"),require("../../../service/toast/toast"),require("../../../service/log/vipLogManager")]),downloadId=0;app.factory("DLManager",["nwDialog","log","lwlog","nwDownloadService","DLLocalCache","refreshCookie","CSpaceFileUploader","$fileHelper","fileEncryptor","toastService","vipLogManager","$translate",function(e,r,o,n,a,t,i,s,c,l,d,u){function f(e){var r=e.params||{};if(r.isEncrypt&&(!r.corpId||!r.appId))return localLog.error("download params error",JSON.stringify(r)),void l.show(_.pc_safety_fetch_key_fail,{type:"error"});var n=i.initFileUploader();e.isNotShowToast=e.isNotShowToast||!1,e.onStart=e.onStart||function(){};var t=e.onProgress;e.onProgress=function(o,a){var i=e.url+e.downloadId,s=h[i];s.size=o,r.isEncrypt&&r.savePath||(a?n.fireDownloadProgress({isDownload:!0,clientId:i,percent:o/a,fileSize:a,isCompress:!1}):n.fireDownloadProgress({isDownload:!0,clientId:i,percent:.3,isCompress:!0})),t&&t(o,a)};var s=e.onFinish||function(){};return e.onFinish=function(r){var t=Promise.resolve(),i=e.params||{};i.isEncrypt&&(t=c.decrypt(i.corpId,i.appId,i.priority,r.destPath,r.targetPath,{name:e.name}).then(function(){i.savePath||a.setCache(r.url,r.name,r.targetPath)}).catch(function(o){var n=urlParser.parse(r.url)||{},a=querystring.parse(n.query);return d.alarm(d.Name.Safety,d.SubType.DecryptFail,"解密文件失败",{corpId:i.corpId,spaceId:a.spaceId,itemId:a.path,error:o&&o.error||o.toString(),code:o&&o.code}),e.onError&&e.onError(o),l.show(_.pc_safety_download_safety_file_toast_fail,{type:"error"}),Promise.reject(o)})),t.then(function(){s&&s(r);var a=e.url+(e.downloadId||"");if(i.isEncrypt&&i.savePath||n.fireDownloadFileSuccess({clientId:a}),e.downloadId){var t=h[a],c=t.start,l=(new Date).getTime(),d=t.size,u=l-c;if(d>0&&u>0){var f=d/1024/(u/1e3);o.commLog("space_download_speed_click","size="+d+"&time="+u+"&speed="+f)}}})},e.onError=e.onError||function(){},ua.isNw||ua.isDingTalkWin?e.url?ua.isNw?m(e):ua.isDingTalkWin?E(e):void 0:Promise.reject(ErrorMsg.urlError):Promise.reject(ErrorMsg.uaError)}function p(e){if(!ua.isNw&&!ua.isDingTalkWin)return Promise.reject(ErrorMsg.uaError);if(!e.key)return Promise.reject(ErrorMsg.urlError);if(g){var r=w[e.key];return r&&r.abort(),o.commLog("space_download_cancel_click",""),Promise.resolve()}if(dingtalkDownload){var r=w[e.key];return r&&r.abort(),o.commLog("space_download_cancel_click",""),Promise.resolve()}}function m(n){r.info("start download : "+n.url+" name: *."+n.name.split(".").pop());var c=function(e,s){return new Promise(function(r,o){v.cookies.getAll({url:e.url},function(o){var n=[];o&&Array.isArray(o)&&o.forEach(function(e){n.push(e.name+"="+e.value)});var a=n.join("; ");e.cookieStr=a,r(e)})}).then(function(e){return new Promise(function(l,d){n.onStart(),n.downloadId=++downloadId;var u=i.initFileUploader(),f=n.url+n.downloadId,p=_nwrequire("path"),m=n.params||{},_=m.isEncrypt?n.name:p.basename(e.destPath);m.isEncrypt&&m.savePath||u.appendDownloadFile({name:_||n.name,url:n.url,clientId:f}),h[f]={start:(new Date).getTime()};try{o.commLog("space_dl_count_click","count=1");var P=new g.Download(e.url,e.destPath,{cookie:e.cookieStr})}catch(e){d(e)}w[f]=P,P.addListener("finish",function(){r.info("download success"),a.setCache(e.url,e.name,e.destPath),n.onFinish(e),delete w[f],l(e)}),P.addListener("error",function(o){r.info(o.toString()),o.code!==P.ErrorCode.UNKNOWN_STATUS||401!==o.status||s?(n.onError(o),delete w[f],d(o)):(r.info("download 401 , try refresh cookie"),t.refresh().then(function(){r.info("refresh cookie success"),l(c(e,!0))}).catch(function(e){r.info("refresh cookie failure"),n.onError(e),delete w[f],d(e)}))}),P.addListener("info",function(e){r.info(downloadId,e)}),P.addListener("progress",function(e,r,o){n.onProgress(r,o)})})})};return new Promise(function(o,a){var t=n.params||{};t.savePath?o({destPath:t.savePath,name:n.name,url:n.url}):e.saveAs(function(e){r.info("获取保存路径成功"),o({destPath:e,name:n.name,url:n.url})},n.name)}).then(function(e){var r=n.params||{};return r.isEncrypt?(e.targetPath=e.destPath,e.destPath=s.getTmpPath(n.name),Promise.resolve(e)):Promise.resolve(e)}).then(function(e){return c(e,!1)}).catch(function(e){if(e){var a=y[e.code],t="",s=!1;return e.code===g.ErrorCode.UNKNOWN_STATUS&&(403===e.status?a="无权限访问此文件":406===e.status&&(a="该文件已被删除")),t=a?"下载失败，"+a:"下载失败，请重试",e.code===g.ErrorCode.USER_ABORTED?(t="下载已取消",s=!0,o.commLog("space_dl_count_click_cancel","count=1")):(o.commLog("space_dl_error","count=1&status="+e.status+"&errorCode="+e.code),statLog.writeSpaceFileDownloadLog(e.code,e.status)),r.info("download error in IM","",JSON.stringify(e)),i.initFileUploader().fireDownloadFileError({clientId:n.url+n.downloadId,msg:t,isDownloadCancel:s}),Promise.reject(e)}})}var g=null,_={pc_safety_download_safety_file_toast_success:u.instant("pc_safety_download_safety_file_toast_success"),pc_safety_download_safety_file_toast_fail:u.instant("pc_safety_download_safety_file_toast_fail"),pc_safety_fetch_key_fail:u.instant("pc_safety_fetch_key_fail")},h={},w={};if(ua.isNw){var P=_nwrequire("nw.gui"),v=P.Window.get(),y={};g=_nwrequire("@ali/ding-download"),y[g.ErrorCode.NO_PERMISSION_WRITE]="无权限写入你选择的目录",y[g.ErrorCode.UNKNOWN_PROTOCOL]="URL错误",y[g.ErrorCode.DEST_PATH_IS_NULL]="保存目录为空",y[g.ErrorCode.GENERATE_TMP_ERROR]="写入文件失败",y[g.ErrorCode.UNKNOWN_STATUS]="下载服务异常",y[g.ErrorCode.REQUEST_TIME_OUT]="请求超时"}else if(ua.isDingTalkWin)var y={};var E=function(n){r.info("start download : "+n.url+" name: "+n.name);var c=function(e,s){return Promise.resolve(e).then(function(e){return new Promise(function(o,n){dingtalk.cookie.get(e.url,function(n,a){if(n)r.error("get cookie error",n,JSON.stringify(n)),o(e);else{try{e.cookie=JSON.parse(a.cookies)}catch(e){r.error("parse cookie error",n,JSON.stringify(n))}o(e)}})})}).then(function(e){return new Promise(function(l,d){n.onStart(),n.downloadId=++downloadId;var u=i.initFileUploader(),f=n.url+n.downloadId,p=n.params||{},m=p.isEncrypt?n.name:e.destPath.split(sep).pop();p.isEncrypt&&p.savePath||u.appendDownloadFile({name:m||n.name,url:n.url,clientId:f}),h[f]={start:(new Date).getTime()};try{o.commLog("space_dl_count_click","count=1");var g=new dingtalkDownload.Download(e.url,e.destPath,{cookie:e.cookie})}catch(e){d(e)}w[f]=g,g.addListener("finish",function(o){r.info("download success"),o.targetPath&&(e.destPath=o.targetPath),a.setCache(e.url,e.name,e.destPath),n.onFinish(e),delete w[f],l(e)}),g.addListener("error",function(o){r.info(o.toString()),401!==o.errorCode||s?(n.onError(o),delete w[f],d(o)):(r.info("download 401 , try refresh cookie"),t.refresh().then(function(){r.info("refresh cookie success"),l(c(e,!0))}).catch(function(e){r.info("refresh cookie failure"),n.onError(e),delete w[f],d(e)}))}),g.addListener("info",function(e){r.info(downloadId,e)}),g.addListener("progress",function(e,r,o){n.onProgress(r,o)})})})};return new Promise(function(o,a){var t=n.params||{};t.savePath?o({destPath:t.savePath,name:n.name,url:n.url}):e.saveAs(function(e){r.info("获取保存路径成功"),o({destPath:e,name:n.name,url:n.url})},n.name)}).then(function(e){var r=n.params||{};return r.isEncrypt?(e.targetPath=e.destPath,e.destPath=s.getTmpPath(n.name),Promise.resolve(e)):Promise.resolve(e)}).then(function(e){return c(e,!1)}).catch(function(e){var a=y[e.code],t="",s=!1;return 403===e.errorCode?a="无权限访问此文件":406===e.errorCode&&(a="该文件已被删除"),t=a?"下载失败，"+a:"下载失败，请重试",e.errorCode===-100?(t="下载已取消",s=!0,o.commLog("space_dl_count_click_cancel","count=1")):o.commLog("space_dl_error","count=1"),r.info("download error in IM","",JSON.stringify(e)),i.initFileUploader().fireDownloadFileError({clientId:n.url+n.downloadId,msg:t,isDownloadCancel:s}),Promise.reject(e)})};return{download:f,cancelDownload:p}}]),module.exports=moduleName;

},{"../../../service/log/localLog":421,"../../../service/log/vipLogManager":427,"../../../service/toast/toast":611,"../../file/fileHelper":379,"../../log/log":422,"../../log/lwlog":424,"../../log/statLog":425,"../../refreshCookie/refreshCookie":543,"../../safety/fileEncryptor":552,"../../spacePlugin/upload":603,"../../ua":621,"../nwDialog":256,"./ErrorMsg":248,"./LocalCache":249,"./dingtalkDownload":250,"./downloadService":251,"lodash":919,"querystring":12,"url":13}],248:[function(require,module,exports){
var ErrorMsg={uaError:{code:-1,reason:"您使用的不是PC客户端"},urlError:{code:500,reason:"没有url参数"},noPermisionDownload:{code:401,reason:"没有权限下载"},noPermisionWrite:{code:40013,reason:"无法下载此文件到该目录"},notFound:{code:404,reason:"此文件不存在"},timeout:{code:408,reason:"下载超时"},fail:{code:500,reason:"下载失败"},serverError:{code:500,reason:"服务器错误"},catchError:{code:1e3,reason:"无法捕捉错误"},pipeError:{code:1001,reason:"下载过程中失败"}};module.exports=ErrorMsg;

},{}],249:[function(require,module,exports){
"use strict";var moduleName="ddWeb.download.DLLocalCache",app=angular.module(moduleName,[]);app.factory("DLLocalCache",[function(){function e(e){return l[e]}function t(e,t,n){var o={url:e,name:t,path:n};for(l[e]=o,c=c.filter(function(e){return e.url!==o.url});c.length>=200;)c.shift();return c.push(o),r(),o}function n(e){l[e]&&(delete l[e],c=c.filter(function(t){return t.url!==e}),r())}function o(e){return!!l[e]}function r(){localStorage.setItem("down_load_file",JSON.stringify(c))}function a(){var e=localStorage.getItem("down_load_file");try{c=JSON.parse(e)||[]}catch(e){c=[],console.log(e)}}function u(){a(),c.forEach(function(e){l[e.url]=e})}var l={},c=[];return u(),{getCache:e,setCache:t,rmCache:n,isDownloaded:o}}]),module.exports=moduleName;

},{}],250:[function(require,module,exports){
"use strict";var EventEmitter=require("wolfy87-eventemitter"),Class=require("../../../lib/class"),taskCache={},EventsName={FINISH:"finish",ERROR:"error",PROGRESS:"progress"},Download=Class.create({initialize:function(e,t,a){var a=a||{},s=[];a.cookie&&(s=Object.keys(a.cookie).map(function(e){return{key:e,value:a.cookie[e]}})),dingtalk.download.createDownloadTask(e,JSON.stringify({cookie:s}),t,function(e,t){e?this.emit(EventsName.ERROR,e):(this.taskId=t.taskId,taskCache[this.taskId]=this)}.bind(this))},abort:function(){this.taskId&&dingtalk.download.cancel(this.taskId,function(e,t){}),this.emit(EventsName.ERROR,{errorCode:-100})},Implements:EventEmitter,receiveDownloadProgressEvent:function(e){var t=e.total,a=e.processed,s=a/t;this.emit(EventsName.PROGRESS,s,a,t)},receiveDownloadErrorEvent:function(e){this.emit(EventsName.ERROR,e)},receiveDownloadSuccessEvent:function(e){this.emit(EventsName.PROGRESS,1,e.total,e.total),this.emit(EventsName.FINISH,e)}}),init=function(){"undefined"!=typeof dingtalkWindowsGlue&&(dingtalkWindowsGlue.eventProxy.addListener("DownloadProgress",function(e){e.taskId&&taskCache[e.taskId]&&taskCache[e.taskId].receiveDownloadProgressEvent(e)}),dingtalkWindowsGlue.eventProxy.addListener("DownloadSuccess",function(e){e.taskId&&taskCache[e.taskId]&&(taskCache[e.taskId].receiveDownloadSuccessEvent(e),delete taskCache[e.taskId])}),dingtalkWindowsGlue.eventProxy.addListener("DownloadError",function(e){e.taskId&&taskCache[e.taskId]&&(taskCache[e.taskId].receiveDownloadErrorEvent(e),delete taskCache[e.taskId])}))};exports.Download=Download,exports.init=init,exports.EventsName=EventsName;

},{"../../../lib/class":198,"wolfy87-eventemitter":944}],251:[function(require,module,exports){
var moduleName="ddWeb.download.nwDownloadService",ErrorMsg=require("./ErrorMsg"),Uri=require("jsuri"),ua=require("../../ua"),app=angular.module(moduleName,[]);app.factory("nwDownloadService",[function(){function r(r){this.url=r,this.currentUrl=r,this.redirectTime=0,this.promise=this.fetch()}if(ua.isNw)var e=_nwrequire("nw.gui"),t=e.Window.get(),o=_nwrequire("url"),n=_nwrequire("https"),i=_nwrequire("http");return r.prototype.fetch=function(){var r=this;return new Promise(function(e,t){var u=new Uri(r.currentUrl);u.protocol()||u.protocol("https"),u=u.toString();var s;s=u.indexOf("https")!==-1?n:u.indexOf("http")!==-1?i:n,r._getCookieStr(u).then(function(n){var i=o.parse(u);i.headers||(i.headers={}),i.headers={Cookie:n,"User-Agent":window.navigator.userAgent},s.get(i,function(o){200===o.statusCode?e(o):302===o.statusCode||301===o.statusCode?(r.redirectTime++,r.currentUrl=o.headers.location,r.redirectTime>10?t({success:!1,reason:"redirect too much times"}):r.fetch().then(function(r){e(r)},function(r){t(r)})):t(401===o.statusCode?ErrorMsg.noPermisionDownload:404===o.statusCode?ErrorMsg.notFound:ErrorMsg.fail)}).on("error",function(r){t(r)})})})},r.prototype._getCookieStr=function(r){return new Promise(function(e,o){t.cookies.getAll({url:r},function(r){var t=[];r&&Array.isArray(r)&&r.forEach(function(r){t.push(r.name+"="+r.value)});var o=t.join("; ");e(o)})})},r}]),module.exports=moduleName;

},{"../../ua":621,"./ErrorMsg":248,"jsuri":901}],252:[function(require,module,exports){
"use strict";var moduleName="ddWeb.download.fileFactory",validator=require("validator"),app=angular.module(moduleName,[require("./DLManager"),require("./LocalCache"),require("../../file/fileHelper")]),EventEmitter=require("wolfy87-eventemitter");app.factory("fileFactory",["DLManager","DLLocalCache","$fileHelper",function(i,t,r){function e(i){this.url=i.url,this.name=r.escapeFileName(i.name||this.url.split("/").pop()),this.path=i.path||"",this.progress=i.progress||0,this.isError=i.isError||!1,this.isFinish=i.isFinish||!1,this.isActive=i.isActive||!1,this.isUpdatingProgress=!1,this.EVENTS={STRAT:"START",PROGRESS:"PROGRESS",FINISH:"FINISH",ERROR:"ERROR"},this.proxy=new EventEmitter}function o(i){var t=new e(i);return t}function s(i,r,o){if(a[i])return a[i];if(t.getCache(i)){var s=t.getCache(i);return new e({url:s.url,path:s.path,name:s.name,isFinish:!0})}return new e({url:i,name:r})}function n(i){return i instanceof e}var a={};return e.prototype.onUpdateProgress=function(i,t){var r=this;this.isUpdatingProgress||this.isFinish||(this.isUpdatingProgress=!0,setTimeout(function(){r.progress=parseInt(i/t*100),r.isUpdatingProgress=!1,r.proxy.emitEvent(r.EVENTS.PROGRESS)},150))},e.prototype.onStart=function(){this.progress=0,this.isActive=!0,this.isFinish=!1,this.isError=!1,this.proxy.emitEvent(this.EVENTS.STRAT)},e.prototype.onFinish=function(i){this.progress=100,this.isFinish=!0,this.isActive=!1,this.proxy.emit(this.EVENTS.FINISH,i)},e.prototype.onError=function(i){this.isError=!0,this.isActive=!1,this.isFinish=!1,this.proxy.emit(this.EVENTS.ERROR,i)},e.prototype.reset=function(){this.progress=0,this.isActive=!1,this.isFinish=!1,this.isError=!1},e.prototype.download=function(t){var r=this;if(!validator.isURL(this.url,{allow_protocol_relative_urls:!0}))throw new Error("URL 不合法");r.__oOption={url:r.url,name:r.name,params:t,onStart:$.proxy(r.onStart,r),onProgress:$.proxy(r.onUpdateProgress,r),onFinish:$.proxy(r.onFinish,r),onError:$.proxy(r.onError,r)},_.assign(r.__oOption,t),i.download(r.__oOption).then(function(i){delete a[r.url],r.__oOption=null}.bind(this)).catch(function(i){delete a[r.url],r.__oOption=null}),a[this.url]=this},e.prototype.cancelDownload=function(){var t=this;return i.cancelDownload({key:t.url+t.__oOption.downloadId}).then(function(i){delete a[t.url],t.__oOption=null}.bind(this)).catch(function(i){delete a[t.url],t.__oOption=null})},{create:o,getFileObj:s,isDLFile:n}}]),module.exports=moduleName;
},{"../../file/fileHelper":379,"./DLManager":247,"./LocalCache":249,"validator":943,"wolfy87-eventemitter":944}],253:[function(require,module,exports){
"use strict";var moduleName="ddWeb.download.openFile";require("../../toast/toast");var ErrorMsg=require("./ErrorMsg"),ua=require("../../ua"),app=angular.module(moduleName,[require("./LocalCache"),"ddWeb.toast"]);app.factory("openFileService",["DLLocalCache","toastService",function(r,e){function t(e){return new Promise(function(t,i){s=!!e.isNotShowToast;var u=null,l=null;if(e.url&&(u=r.getCache(e.url)||{},l=e.path||u.path),l||i(ErrorMsg.urlError),ua.isNw)n.exists(l,function(n){n?(a.Shell.showItemInFolder(l),t(!0)):(r.rmCache(e.url),o(e.errorText||"此文件已不存在，请重新下载","error"),i(ErrorMsg.notFound))});else if(ua.isDingTalkWin){var c=dingtalk.fs.statSync(l);c.size>0?(dingtalk.fs.selectFile(l),t(!0)):(r.rmCache(e.url),o(e.errorText||"此文件已不存在，请重新下载","error"),i(ErrorMsg.notFound))}})}function i(e){var t={};e=Array.from(e);var i=e.map(function(r){return r.url||r.path}),o=[];return e.forEach(function(e){if(!t[e.url||e.path]){var i=r.getCache(e.url)||{};i=$.extend(e,i),t[i.url||i.path]=i,o.push(new Promise(function(r,e){i.path||(i.isExists=!1,r(i.isExists)),n.exists(i.path,function(e){i.isExists=!!e,r(i.isExists)})}))}}),new Promise(function(r,e){Promise.all(o).then(function(){var e=i.map(function(r){return{url:t[r].url,path:t[r].path,isExist:t[r].isExists}});r(e)})})}function o(r,t){s||e.show(r,{type:t})}if(ua.isNw)var n=_nwrequire("fs"),a=_nwrequire("nw.gui");var s=!1;return{open:t,isExist:i}}]),module.exports=moduleName;

},{"../../toast/toast":611,"../../ua":621,"./ErrorMsg":248,"./LocalCache":249}],254:[function(require,module,exports){
(function (global){
"use strict";function mkdirp(i){if(ua.isNw){var e=_nwrequire("fs"),t=_nwrequire("path"),i=t.resolve(i);try{e.mkdirSync(i)}catch(n){switch(n.code){case"ENOENT":mkdirp(t.dirname(i)),mkdirp(i);break;default:var a;try{a=e.statSync(i)}catch(i){throw i}if(!a.isDirectory())throw n}}return i}}function _initAppDataPath(){if(ua.isNw){var i=_nwrequire("path");if(ua.isMac)dingtalkAppDataPath="release"==desktopEnv?i.join(global.process.env.HOME,"Library","Application Support","DingTalk"):i.join(global.process.env.HOME,"Library","Application Support","DingTalk"+desktopEnv);else if(ua.isWin){var e=global.process.env.APPDATA;e||(e=global.process.cwd()),dingtalkAppDataPath="release"==desktopEnv?i.join(e,"DingDing"):i.join(e,"DingDing"+desktopEnv)}}else if(ua.isDingTalkWin){var t="DingDing\\";"beta"===desktopEnv?t="DingDingBeta\\":"rc"===desktopEnv&&(t="DingDingRC\\"),dingtalkAppDataPath=dingtalk.util.appDataDir()+t}}function _initUserFilePath(){if(ua.isNw){var i=_nwrequire("path"),e=_nwrequire("fs"),t=$my.getId();t&&(userFilePath=i.join(dingtalkAppDataPath,""+t),e.existsSync(userFilePath)||mkdirp(userFilePath))}else if(ua.isDingTalkWin){var t=$my.getId();userFilePath=dingtalkAppDataPath+t,dingtalk.fs.mkdirp(userFilePath+"\\")}}function _initDBFilePath(){DBFilePath=_initFileDirectory("DBFiles")}function _initSearchFilePath(){SearchFilePath=_initFileDirectory("SearchFiles")}function _initImageFilePath(){ImageFilePath=_initFileDirectory("imageFiles")}function _initAudioFilePath(){AudioFilePath=_initFileDirectory("audioFiles")}function _initSafetyFilePath(){SafetyFilePath=_initFileDirectory("SafetyFiles")}function _initVideoLogFilePath(){videoLogFilePath=_initFileDirectory("videoLogs")}function _getTmpPath(){var i=global.process.env.TMPDIR||global.process.env.TMP||global.process.env.TEMP||"/tmp";return i}function _getBaseTmpPath(){if(ua.isNw)var i=global.process.env.TMPDIR||global.process.env.TMP||global.process.env.TEMP||"/tmp";else var i=dingtalk.util.tempDir();return i}function _initFileDirectory(i){if(ua.isNw){var e=_nwrequire("path"),t=_nwrequire("fs"),a=$my.getId(),n="";return a&&(n=e.join(userFilePath,i),t.existsSync(n)||mkdirp(n)),n}var n=userFilePath+"\\"+i;return dingtalk.fs.mkdirp(n+"\\"),n}function _initTmpDirectory(){if(ua.isNw){var i=(_nwrequire("path"),_nwrequire("fs")),e=($my.getId(),_getBaseTmpPath()+"/DingTalk");return i.existsSync(e)||mkdirp(e),e}var e=_getBaseTmpPath()+"\\DingTalk";return dingtalk.fs.mkdirp(e+"\\"),e}var ua=require("../ua"),dingtalkAppDataPath="",userFilePath="",DBFilePath="",logFilePath="",SearchFilePath="",SafetyFilePath="",videoLogFilePath="",ImageFilePath="",AudioFilePath="",$my=require("../user/my");if(ua.isNw)var desktopEnv=window.desktopEnv;else if(ua.isDingTalkWin)var desktopEnv=dingtalk.app.getenv();_initAppDataPath(),module.exports={initDBFilePath:_initDBFilePath,initImageFilePath:_initImageFilePath,initAudioFilePath:_initAudioFilePath,initUserFilePath:_initUserFilePath,initSearchFilePath:_initSearchFilePath,initSafetyFilePath:_initSafetyFilePath,initVideoLogFilePath:_initVideoLogFilePath,initTmpDirectory:function(){try{_initTmpDirectory()}catch(i){console.log(i)}},getBaseTmpPath:_getBaseTmpPath,getAudioFilePath:function(){return AudioFilePath},getImageFilePath:function(){return ImageFilePath},getUserFilePath:function(){return userFilePath},getAppDataPath:function(){return dingtalkAppDataPath},getDBFilePath:function(){return DBFilePath},getSafetyPath:function(){return SafetyFilePath},getSearchFilePath:function(){return SearchFilePath},getVideoLogFilePath:function(){return videoLogFilePath}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../ua":621,"../user/my":635}],255:[function(require,module,exports){
"use strict";function _init(){win=nw.Window.get(),app=nw.App,version=app.manifest.version}function _initSystemMenu(){var e=new nw.Menu({type:"menubar"});try{e.createMacBuiltin("钉钉"),win.menu=e}catch(e){console.log(e.message)}}function _initRightClickMenu(){var e=new nw.Menu,n=new nw.Menu,i=new nw.MenuItem({label:"剪切",click:function(){document.execCommand("cut")}}),t=new nw.MenuItem({label:"复制",click:function(){document.execCommand("copy")}}),o=new nw.MenuItem({label:"复制",click:function(){document.execCommand("copy")}}),r=new nw.MenuItem({label:"粘贴",click:function(){document.execCommand("paste")}});e.append(i),e.append(t),e.append(r),n.append(o),$(document).delegate("img,input,textarea,span,p,pre,h1,h2,h3,h4,h5,h6","contextmenu",function(o){if("TEXTAREA"==o.target.nodeName||"INPUT"==o.target.nodeName)o.preventDefault(),"Range"!==window.getSelection().type?(i.enabled=!1,t.enabled=!1):(i.enabled=!0,t.enabled=!0),e.popup(o.originalEvent.x,o.originalEvent.y);else if("IMG"===o.target.nodeName){o.preventDefault();var r=o.originalEvent.srcElement;r.contentEditable=!0;var a=document.createRange();a.selectNode(r);var l=window.getSelection();l.removeAllRanges(),l.addRange(a);var u=$(o.target).attr("src"),s=mediaId.url2Mid(u),c=s&&"@"===s[0];c&&setTimeout(function(){n.popup(o.originalEvent.x,o.originalEvent.y)},10)}else{if("Range"!==window.getSelection().type)return;n.popup(o.originalEvent.x,o.originalEvent.y)}return!1})}function _initWindowEvent(){function e(e){var n=e||window.event,i=n.target||n.srcElement,t=i.type||i.getAttribute("type"),o=i.getAttribute("readonly"),r=i.getAttribute("enabled");o=null!=o&&o,r=null==r||r;var a=!(8!=n.keyCode||"password"!=t&&"text"!=t&&"textarea"!=t||1!=o&&1==r),l=8==n.keyCode&&"password"!=t&&"text"!=t&&"textarea"!=t;return!l&&(!a&&void 0)}document.onkeydown=e,$(window).unload(function(){isNw&&tray&&(tray.remove(),_setUnread(0))})}function _showDevTools(){win&&win.showDevTools()}function _bindHotKey(e,n,i){if(!e)return null;var n=n||function(){},i=i||function(){},t=null;if(isDingTalkWin){var o=function(n){localLog.error("shortcut failed",e,JSON.stringify(n)),i(n)};t={key:e,active:n,failed:o},_unbindHotKey(t),window.dingtalkWindowsGlue.globalShortcut.registerGlobalHotKey(e,n,o)}else if(isNw)try{t=new nw.Shortcut({key:e,active:function(){n()},failed:function(e){localLog.error("shortcut failed",e),i(e)}}),_unbindHotKey(t),app.registerGlobalHotKey(t)}catch(n){localLog.error("register global hot key error",e,n)}return t}function _unbindHotKey(e){if(isDingTalkWin)window.dingtalkWindowsGlue.globalShortcut.unregisterGlobalHotKey(e.key);else if(isNw)try{app.unregisterGlobalHotKey(e)}catch(n){localLog.error("unregister global key error",e.key,n)}}function _setUnread(e){isNw&&win&&(0==e&&(e=""),setTimeout(function(){win.setBadgeLabel(e+"")},0))}function _setRequestAttention(e){ua.isDingTalkWin&&dingtalk.window.requestAttention(!0)}function _setSize(e,n){isNw&&win&&win.resizeTo(e,n)}function _setTitle(e){isNw&&win&&(win.title=e)}function _openExternal(e){isNw?nw.Shell.openExternal(e):isDingTalkWin&&dingtalk.util.browserUrl(e)}function nwinit(){isNw&&(_init(),_initWindowEvent(),_initSystemMenu(),_initRightClickMenu()),_removeAllCookies()}function _removeAllCookies(){if(isNw){var e=[];return new Promise(function(n,i){win.cookies.getAll({},function(t){return t.forEach(function(n){e.push(_removeCookie(n))}),Promise.all(e).then(n,i)})})}return isDingTalkWin?(dingtalk.cookie.deleteAllExcept(whiteList.join(" ")),Promise.resolve()):Promise.resolve()}function _removeCookie(e){var n="http"+(e.secure?"s":"")+"://"+e.domain+e.path;return new Promise(function(i,t){for(var o=new Uri(n),r=!1,a=0;a<whiteList.length;a++){var l=o.host().substr(-whiteList[a].length);if(l.indexOf(whiteList[a])!==-1){r=!0;break}}r?i():win.cookies.remove({url:n,name:e.name},function(e){i(e)})})}function _openSubWindow(e,n){return new Promise(function(i,t){if(ua.isNw)nw.Window.open(e,n||{},function(e){i(e)});else if(ua.isDingTalkWin){var o=window.location.origin+e;dingtalk.window.openWindow(n.name,o,JSON.stringify(n));i()}})}var ua=require("../ua.js"),versionCmp=require("./versionCmp"),Uri=require("jsuri"),localLog=require("../log/localLog"),mediaId=require("@ali/ding-mediaid"),isNw=ua.isNw,isMac=ua.isMac,isDingTalkWin=ua.isDingTalkWin,version,win=null,app=null,tray=null,whiteList=["dingtalk.com","wswukong.laiwang.com"];nwinit(),module.exports={version:function(){return ua.isNw?version:ua.isDingTalkWin?dingtalk.app.getVersion():void 0},setUnread:_setUnread,setSize:_setSize,setTitle:_setTitle,setRequestAttention:_setRequestAttention,bindHotKey:_bindHotKey,unbindHotKey:_unbindHotKey,openExternal:_openExternal,showDevTools:_showDevTools,removeAllCookies:_removeAllCookies,openSubWindow:_openSubWindow};

},{"../log/localLog":421,"../ua.js":621,"./versionCmp":261,"@ali/ding-mediaid":716,"jsuri":901}],256:[function(require,module,exports){
(function (global){
"use strict";var ua=require("../ua"),storage=require("../storage/storage");angular.module("ddWeb.nw.dialog",[]).factory("nwDialog",[function(){var e="";if(ua.isNw&&ua.isMac){var a=_nwrequire("path");global.process.env.HOME&&"string"==typeof global.process.env.HOME&&(e=a.join(global.process.env.HOME,"Downloads"))}if(ua.isNw&&ua.isWin){var a=_nwrequire("path");global.process.env.HOMEDRIVE&&"string"==typeof global.process.env.HOMEDRIVE&&global.process.env.HOMEPATH&&"string"==typeof global.process.env.HOMEPATH&&(e="XP"===ua.osVersion?global.process.env.HOMEDRIVE+global.process.env.HOMEPATH:a.join(global.process.env.HOMEDRIVE+global.process.env.HOMEPATH,"Downloads"))}ua.isDingTalkWin&&(e=dingtalk.util.downloadDir());var n=storage.local.getItem(storage.KEYS.DOWNLOAD_DIRETORY);n&&(e=n);var i=function(a,n){var i=_nwrequire("path");document.body.appendChild(a),a.addEventListener("change",function(){var o=a.value;n(o),e=i.dirname(o),storage.local.setItem(storage.KEYS.DOWNLOAD_DIRETORY,e),document.body.removeChild(a)},!1),a.addEventListener("click",function(e){e.stopPropagation()},!1),setTimeout(function(){a.click()},10)},o={};return o.saveAs=function(a,n,o){if(ua.isNw){var t=_nwrequire("path").join(e,n),r=document.createElement("input");if(r.type="file",r.nwsaveas=t||"",r.nwworkingdir=e,o)angular.isArray(o)?r.accept=o.join(","):angular.isString(o)&&(r.accept=o);else if(n&&n.indexOf(".")>-1){var l=n.split(".");r.accept="."+l[l.length-1]}i(r,a)}else if(ua.isDingTalkWin){var s=n.split(".").pop();dingtalk.fs.openSaveDialog(e,n,"All Files(*.*)\0*.*\0\0",function(n,i){if(n);else{var o=i.file_path;i.file_path.split(".").pop()!==s&&(o=i.file_path+"."+s);var t=o.split("\\");t.pop(),e=t.join("\\"),storage.local.setItem(storage.KEYS.DOWNLOAD_DIRETORY,e),a(o)}})}},o.openFile=function(e,a,n){var o=document.createElement("input");o.type="file",a===!0&&(o.multiple="multiple"),angular.isArray(n)?o.accept=n.join(","):angular.isString(n)&&(o.accept=n),i(o,e)},o.openDir=function(e){var a=document.createElement("input");a.type="file",a.nwdirectory="nwdirectory",i(a,e)},o}]);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../storage/storage":606,"../ua":621}],257:[function(require,module,exports){
"use strict";var ua=require("../ua.js"),versionCmp=require("./versionCmp"),Class=require("../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),storage=require("../storage/storage"),NwWindow=Class.create({initialize:function(){this.visibilityState="visible",this.isMax=!1,this._delayTimer=null,ua.isNw?(this.win=nw.Window.get(),this.app=nw.App):ua.isDingTalkWin&&(this.win=dingtalk.window),this._bindEvent()},Implements:EventEmitter,EventsName:{VISIBILITY_CHANGE:"visibility_change"},initSize:function(){if(this.win&&!ua.isWin){var i=storage.local.getItem(storage.KEYS.IS_FULL_SCREEN),e=parseInt(storage.local.getItem(storage.KEYS.WIN_WIDTH),10),t=parseInt(storage.local.getItem(storage.KEYS.WIN_HEIGHT),10);"true"===i?this.win.enterFullscreen():e>0&&t>0&&(t=t>window.screen.availHeight?window.screen.availHeight:t,e=e>window.screen.availWidth?window.screen.availWidth:e,this.resizeWindow(e,t),setTimeout(function(){this.win.setPosition("center")}.bind(this),0))}},_setVisibilityState:function(i){var e=i?"visible":"hidden";e!==this.visibilityState&&(this.visibilityState=e,this.emit(this.EventsName.VISIBILITY_CHANGE,this.visibilityState))},activeWindow:function(i){this.win&&(this.win.show(),this.win.focus(),this._setVisibilityState(!0))},miniWindow:function(){this.win&&this.win.minimize()},closeWindow:function(){this.win&&(ua.isMac&&this.win.isFullscreen?this.win.leaveFullscreen():(this.win.hide(),this._setVisibilityState(!1)))},autoZoomWindow:function(){this.isMax?(ua.isDingTalkWin?this.win.restore():this.win.unmaximize(),this.isMax=!1):(this.win.maximize(),this.isMax=!0)},fullScreen:function(){ua.isMac?this.win.toggleFullscreen():this.autoZoomWindow()},resizeWindow:function(i,e){this.win&&this.win.resizeTo(i,e)},moveTo:function(){var i=Array.prototype.slice.call(arguments),e=(screen.availHeight,screen.availWidth,screen.availLeft),t=screen.availTop,n=["leftTop","leftBottom","rightTop","rightBottom","center"];if(0!==i.length)if("string"==typeof arguments[0]){var s,o,r=arguments[0],a=arguments[1]||0,w=arguments[2]||0,h=n.indexOf(r);switch(h){case-1:break;case 0:s=e+a,o=t+w;break;case 1:s=e+a,o=screen.availHeight-window.innertHeight+w;break;case 2:s=screen.availWidth-window.innerWidth+a,o=t+w;break;case 3:s=screen.availWidth-window.innerWidth+a,o=screen.availHeight-window.innertHeight+w;break;case 4:this.win.setPosition("center")}void 0!==s&&void 0!==o&&this.win.moveTo(s,o)}else{var l=arguments[0],c=arguments[1];this.win.moveTo(l,c)}},resizeTo:function(i,e){this.win.resizeTo(i,e)},setMinimumSize:function(i,e){this.win.setMinimumSize(i,e)},setResizable:function(i){this.win.setResizable(i)},setAlwaysOnTop:function(i){this.win.setAlwaysOnTop(i)},_bindEvent:function(){var i=function(i){"quit"==i?this.win.close(!0):this.closeWindow()}.bind(this),e=function(){this._setVisibilityState(!0)}.bind(this),t=function(){this._setVisibilityState(!1)}.bind(this),n=function(){storage.local.setItem(storage.KEYS.WIN_WIDTH,window.innerWidth+""),storage.local.setItem(storage.KEYS.WIN_HEIGHT,window.innertHeight+"")}.bind(this),s=function(){storage.local.setItem(storage.KEYS.IS_FULL_SCREEN,this.win.isFullscreen)}.bind(this),o=function(){storage.local.setItem(storage.KEYS.IS_FULL_SCREEN,this.win.isFullscreen)}.bind(this),r=_.throttle(n,100);if(ua.isNw){this.win.on("resize",r),this.win.on("restore",s),this.win.on("enter-fullscreen",o),this.win.on("close",i),this.win.on("minimize",t),this.win.on("maximize",e),this.win.on("restore",e),ua.isMac?(this.win.on("focus",e),this.win.on("blur",t)):(window.addEventListener("blur",t),window.addEventListener("focus",e));var a=function(){this.activeWindow()}.bind(this);this.app.on("open",a),this.app.on("reopen",a)}else ua.isDingTalkWin&&(dingtalkWindowsGlue.eventProxy.addListener("WindowMinimize",t),dingtalkWindowsGlue.eventProxy.addListener("WindowHide",t),dingtalkWindowsGlue.eventProxy.addListener("WindowRestore",e),window.addEventListener("blur",t),window.addEventListener("focus",e));window.addEventListener("beforeunload",function(n){ua.isNw&&(this.win.removeListener("close",i),this.win.removeListener("minimize",t),this.win.removeListener("maximize",e),this.win.removeListener("restore",e),this.win.removeListener("focus",e),this.win.removeListener("blur",t),this.app.removeListener("open",a),this.app.removeListener("reopen",a),r.cancel(),this.win.removeListener("resize",r),this.win.removeListener("restore",s),this.win.removeListener("enter-fullscreen",o),console.log("beforeunload"))}.bind(this))}});module.exports=new NwWindow;

},{"../../lib/class":198,"../storage/storage":606,"../ua.js":621,"./versionCmp":261,"wolfy87-eventemitter":944}],258:[function(require,module,exports){
"use strict";var moduleName="ddWeb.app.schemeUrl",localLog=require("../log/localLog"),loginStatus=require("../login/loginStatus"),loginStatusCode=require("../login/LoginStatusCode"),globalEventEmitter=require("../globalEventEmitter"),EVENTS=require("../events"),jsuri=require("jsuri"),ua=require("../ua"),_=require("lodash");angular.module(moduleName,[require("../log/lwlog.js"),require("../modal/profileModal"),require("@ali/ding-api").interface.UserI,require("../toast/toast")]).factory("schemeUrl",["lwlog","profileModalService","UserI","toastService",function(e,r,o,n){var i=function(){var e=function(){var e=null,i=null;globalEventEmitter.addListener(EVENTS.LOGIN_STATE_CHANGE,function(r){r===loginStatusCode.LOGINED&&e&&(l(e),e=null,i&&(clearTimeout(i),i=null))});var t=function(e){return o.searchUserProfileByKeyword(e).result.then(function(r){return _.get(r,"body.uid")?Promise.resolve(r.body.uid):Promise.reject(r.body&&r.body.reason||"search User error by keyword:"+e)})},l=function(e){t(e).then(function(e){r(e)}).catch(function(e){localLog.error("openProfileByDingtalkId error",e),n.show("查询人员失败",{type:"error"})})};return function(r){if(_.isString(r)&&"dingtalk://dingtalkclient/action/sendmsg"===r.split("?")[0]){localLog.info("scheme url from nw.js or cef",r),e=new jsuri(r).getQueryParamValue("dingtalk_id");var o=18e3;loginStatus.getLoginStatus()===loginStatusCode.LOGINED?(l(e),e=null):(i&&clearTimeout(i),i=setTimeout(function(){e=null,i=null},o))}}}();ua.isNw?(_.isString(nw.App.argv[0])&&e(nw.App.argv[0]),nw.App.on("open",e)):"undefined"!=typeof dingtalkWindowsGlue&&dingtalkWindowsGlue.eventProxy.addListener("SchemeSendMsg",e),window.addEventListener("beforeunload",function(r){ua.isNw&&nw.App.removeListener("open",e)}.bind(this))};return{init:i}}]),module.exports=moduleName;

},{"../events":376,"../globalEventEmitter":396,"../log/localLog":421,"../log/lwlog.js":424,"../login/LoginStatusCode":429,"../login/loginStatus":431,"../modal/profileModal":466,"../toast/toast":611,"../ua":621,"@ali/ding-api":711,"jsuri":901,"lodash":919}],259:[function(require,module,exports){
"use strict";var moduleName="ddWeb.app.silentUpdate",env=require("../env/env"),localLog=require("../log/localLog"),_=require("lodash"),ua=require("../ua"),storage=require("../storage/storage"),nw=require("./nw");angular.module(moduleName,[require("../modal/updateAlert"),require("../toast/toast")]).factory("silentUpdate",["updateAlert","toastService",function(n,e){var o=null,t=function(n,e){var o=i();o[n]=e,storage.local.setItem(storage.KEYS.UPDATE_IGNORE_VERSION,JSON.stringify(o))},i=function(){var n=storage.local.getItem(storage.KEYS.UPDATE_IGNORE_VERSION),e={};if(n)try{e=JSON.parse(n)}catch(n){e={}}return e},a=function(){try{if(ua.isNw)var a=_nwrequire("@ali/dingtalk-silent-updater");else if(ua.isDingTalkWin)var a=require("./dingtalkSilentUpdate");var r=env.desktopEnv,l="https://im.dingtalk.com/manifest/release.json";"beta"===r?l="http://fd.dingtalk.alibaba.net/manifest/beta.json":"rc"===r&&(l="https://im.dingtalk.com/manifest/rc.json"),o=a.init({web_content:{version:window.version},nw_version:nw.version(),remoteManifest:l,desktop_env:r});var c=i();["nw","web_content"].forEach(function(n){c[n]&&o.addIgnoreVersion(n,c[n])}),o.on("web_content_update_success",function(o){localLog.info("web_content :"+o.version+"更新成功"),console.log("web_content :"+o.version+"更新成功"),n({desc:_.get(o,"description",[]),btnGroupType:"onlyConfirm",updateTitle:"已经为您升级到最新钉钉，您可以重启钉钉体验！"}).then(function(){e.show("手动重启钉钉即可体验新版本",{type:"success"})})}),o.on("web_content_update_fail",function(n){localLog.info("web_content :"+n.version+"更新失败"),console.log("web_content :"+n.version+"更新失败")}),o.on("nw_is_not_supported",function(e){localLog.info("nw is not supported",JSON.stringify(e)),console.log("nw is not supported",JSON.stringify(e)),n({desc:_.get(e,"install.description",[]),downloadURL:_.get(e,"install.url"),isForce:!0,isDoDownload:!0,btnGroupType:"onlyDownload"})}),o.on("nw_is_not_satisfied",function(i){localLog.info("nw is not satisfied",JSON.stringify(i)),console.log("nw is not satisfied",JSON.stringify(i)),n({desc:_.get(i,"install.description",[]),downloadURL:_.get(i,"install.url"),isDoDownload:!0,btnGroupType:"downloadOrIgnore"}).catch(function(n){"ignore"===n.btn&&(t("nw",i.install.version),o.addIgnoreVersion("nw",i.install.version),e.show("你可在「更多-系统设置-检查更新」里手动升级",{type:"success"}))})}),o.on("package_downloaded",function(i){localLog.info("package_downloaded",JSON.stringify(i)),console.log("package_downloaded",JSON.stringify(i)),i.extension.isWinNotNotify?o.updatePackage(i):n({desc:_.get(i.conf,"install.description",[]),btnGroupType:"confirmOrIgnore"}).then(function(){o.updatePackage(i)},function(n){o.removeUpdateTmpDir(i.tmpDir),"ignore"===n.btn&&(t("nw",i.conf.package.version),o.addIgnoreVersion("nw",i.conf.package.version),e.show("你可在「更多-系统设置-检查更新」里手动升级",{type:"success"}))})}),o.on("package_need_download_and_update",function(i){n({desc:_.get(i,"install.description",[]),btnGroupType:"confirmOrIgnore"}).then(function(){s({eventName:"package_need_download_and_update",value:i},{isWinNotNotify:!0})},function(n){"ignore"===n.btn&&(t("nw",i.package.version),o.addIgnoreVersion("nw",i.package.version),e.show("你可在「更多-系统设置-检查更新」里手动升级",{type:"success"}))})}),o.on("package_update_failed",function(e){localLog.info("package_update_failed",JSON.stringify(e)),console.log("package_update_failed",JSON.stringify(e)),n({desc:_.get(e,"install.description",[]),downloadURL:_.get(e,"install.url"),isDoDownload:!0,btnGroupType:"onlyDownload"})}),o.on("error_info",function(n){localLog.info("update_error",JSON.stringify(n)),console.log("update_error",JSON.stringify(n))})}catch(n){localLog.error(n.toString())}},r=function(n){return o.detectUpdate(n)},s=function(n,e){return o.tryUpdate(n,e)};return{init:a,detectUpdate:r,tryUpdate:s}}]),module.exports=moduleName;

},{"../env/env":374,"../log/localLog":421,"../modal/updateAlert":477,"../storage/storage":606,"../toast/toast":611,"../ua":621,"./dingtalkSilentUpdate":246,"./nw":255,"lodash":919}],260:[function(require,module,exports){
"use strict";var moduleName="ddWeb.app.tray",ua=require("../ua"),semver=require("semver"),limitConfig=require("../limitConfig"),nwWindow=require("./nwWindow"),MAX_UNREAD_LIST_COUNT=5,nw=require("./nw"),IMLogType=require("../../service/log/imLogType");angular.module(moduleName,[require("../modal/confirm"),require("../conversation/unreadConv"),require("../videoConf/conferenceInit"),require("../videoConf/confManager"),require("../../service/log/imLog")]).factory("appTray",["$confirm","unreadConv","$rootScope","conferenceInit","confManager","imLog",function(n,e,i,t,o,r){var a,u,c,l,s,d,w,v=!1,g=null;ua.isNw&&(u=_nwrequire("nw.gui"),c=u.App);var f,m=function(){var i=semver.gte(c.manifest.version,limitConfig.MIN_TEMPLATE_TRAY_ICON_FOR_MAC)?"true":"false";a=new u.Tray({icon:"./res/tray@2x.png",iconsAreTemplates:i}),l=new u.Menu,s=new u.MenuItem({label:"打开钉钉",click:function(){nwWindow.activeWindow()}}),d=new u.MenuItem({label:"退出钉钉",click:function(){nwWindow.activeWindow();var e=!!o.getCurrentConference();n({title:"退出钉钉",content:e?"您正在视频会议中，确定退出钉钉？":"您确定要退出钉钉？",isWarning:!0}).then(function(n){t.reset(),nw.removeAllCookies().then(function(n){c.quit()})})}}),l.append(s),l.append(d),w=new u.MenuItem({type:"separator"}),a.menu=l,a.on("click",function(){nwWindow.activeWindow()}),$(window).on("unload",function(){a&&a.remove()}),e.on(e.EventsName.UNREAD_UPDATE,function(n){var e=n.unreadMsgCount,i=n.unreadConvList;M(e),C(i),e>0?v===!1&&T():A()})},p=function(){dingtalk.tray.chatMsgNotify(JSON.stringify({chatMsg:[]})),e.on(e.EventsName.UNREAD_UPDATE,function(n){var e=n.unreadConvList,i=[];e&&Array.isArray(e)&&(i=e.map(function(n){return{id:n.baseConversation.conversationId,name:n.baseConversation.title||n.baseConversation.conversationId,unreadnum:n.newMsg,type:"IM"}})),i=i.slice(0,MAX_UNREAD_LIST_COUNT),dingtalk.tray.chatMsgNotify(JSON.stringify({chatMsg:i}))}),window.dingtalkWindowsGlue.eventProxy.addListener("TrayItemClicked",function(n){n.id&&(r.trace(n.id,IMLogType.UNREAD_MENU),i.$broadcast("openUnreadChat",n.id),setTimeout(function(){nwWindow.activeWindow()},100))}),window.dingtalkWindowsGlue.eventProxy.addListener("TrayDoubleClick",function(){nwWindow.activeWindow()})},y=function(){ua.isNw?m():ua.isDingTalkWin&&p()},M=function(n){if(ua.isMac){var e="";n>0&&n<100?e=n:n>=100&&(e="99+"),a.title=e}},h=window.devicePixelRatio>1;f=h?"./res/unread@2x.png":"./res/unread.png";var I=[],N=MAX_UNREAD_LIST_COUNT,C=function(n){var n=n||[];if(n.length>I.length){var e=n.length-I.length,e=Math.min(e,N-I.length);e>0&&0===I.length&&l.insert(w);for(var t=0;t<e;t++){var o=new u.MenuItem({label:"",icon:f,type:"normal"});I.push({menuItem:o}),l.insert(o)}}else if(n.length<I.length){for(var e=I.length-n.length,t=0;t<e;t++){var a=I.pop();l.remove(a.menuItem)}0===n.length&&l.remove(w)}I.forEach(function(e,t){var o=n[I.length-1-t];o&&(e.menuItem.label="",o.getTitle(function(n){var i=o.newMsg>99?"99+":o.newMsg+"",t=W(i,6)+n;e.menuItem.label=t}),e.menuItem.click=function(){r.trace(o.convId,IMLogType.UNREAD_MENU),i.$broadcast("openUnreadChat",o.convId),setTimeout(function(){nwWindow.activeWindow()},100)})}),n.length>N?(s.label="查看更多消息",s.click=function(){nwWindow.activeWindow(),i.$broadcast("openUnreadChat")}):(s.label="打开钉钉",s.click=function(){nwWindow.activeWindow()})},W=function(n,e){return 2*n.length>=e?n.slice(0,e):n+new Array(e-2*n.length+1).join(" ")},T=function(){if(ua.isNw&&ua.isWin){var n=!1;g=setInterval(function(){n?(a.icon="./res/tray-empty.png",n=!1):(a.icon="./res/tray-new@2x.png",n=!0)},600),v=!0}},A=function(){ua.isNw&&ua.isWin&&(clearInterval(g),a.icon="./res/tray@2x.png",v=!1)};return{init:y}}]),module.exports=moduleName;

},{"../../service/log/imLog":419,"../../service/log/imLogType":420,"../conversation/unreadConv":322,"../limitConfig":414,"../modal/confirm":447,"../ua":621,"../videoConf/confManager":645,"../videoConf/conferenceInit":646,"./nw":255,"./nwWindow":257,"semver":930}],261:[function(require,module,exports){
"use strict";function _check(e,r){var n=e.split("."),t=r.split(".");for(var i in n){if(parseInt(n[i])>parseInt(t[i]))return"bigger";if(parseInt(n[i])<parseInt(t[i]))return"smaller"}if(e===r)return"equal"}function _checkCurrentVersionWith(e){var r=_nwrequire("nw.gui"),n=r.App,t=n.manifest.version;return _check(t,e)}function _checkCanSetAutoRun(){}var ua=require("../../service/ua.js");module.exports={check:_check,checkCurrentVersionWith:_checkCurrentVersionWith};

},{"../../service/ua.js":621}],262:[function(require,module,exports){
"use strict";module.exports={APP_KEY:"85A09F60A599F5E1867EAB915A8BB07F"};
},{}],263:[function(require,module,exports){
"use strict";require("../modal/UpdateMsgModal");var storage=require("../storage/storage");require("../app/appAutoRun");var versionCmp=require("../app/versionCmp");require("../toast/toast");var nw=require("../app/nw"),dtSearchManager=require("../nativesearch/DTSearchManager"),ua=require("../ua"),globalURL=require("../globalUrl"),db=require("../db/db"),moduleName="ddWeb.appInit.afterLoginInit",_=require("lodash"),blackBoxService=require("../safety/blackboxService"),myEmotionService=require("../emotion/myEmotionService"),localLog=require("../log/localLog"),my=require("../user/my"),env=require("../env/env"),ddStorage=require("../storage/ddStorage"),nativeChannelToMojo=require("../toMojoApi/nativeChannel"),localFilePathManager=require("../../service/app/localFilePathManager");angular.module(moduleName,["ddWeb.modal.updateMsgModal","ddWeb.appAutoRun","ddWeb.toast",require("../microApp/microAppData"),require("../safety/safetyInit"),require("../modal/confirm"),require("../modal/alert"),require("../widget/hotkeyManager"),require("../ding/DingReceiveStatus"),require("../conversation/conversationWithSDK"),require("../log/logUpload"),require("../videoConf/conferenceInit"),require("../org/orgStateManager"),require("../voipService/voipInit"),require("../windowTalkHost/hostWindowCommonApi"),require("../contact/externalContact/externalContactHelper.js"),require("../callCenter/callCenter.js"),require("../toMojoApi/lwlog.js"),require("../file/fileHelper"),require("../log/lwlog")]).factory("afterLoginInit",["updateMsgModal","appAutoRun","$confirm","$alert","microAppData","safetyInit","toastService","hotkeyManager","DingReceiveStatus","conversationWithSDK","logUpload","conferenceInit","orgStateManager","voipInit","hostWindowCommonApi","externalContactHelper","callCenter","lwlogToMojo","$fileHelper","lwlog",function(e,t,i,a,r,o,n,l,u,c,s,g,d,p,m,f,v,h,q,S){function M(){return e()}function D(){return ua.isDingTalkWin}function I(){var e=D();!storage.local.getItem("autorun")&&e&&(i({title:"设置开机自动启动钉钉",content:"要为钉钉设置开机自动启动么？"}).then(function(){storage.local.setItem("autorun","true"),t.setAppAutoRun(!0)}),localStorage.setItem("autorun","false"))}function k(){window.alert=function(e){a({content:e})}}function y(){localFilePathManager.initTmpDirectory(),localFilePathManager.initImageFilePath(),localFilePathManager.initAudioFilePath()}function b(){var e=storage.local.getItem("notification"),t=ddStorage.getItemWithUid("dingEmailNotification"),i=storage.local.getItem("isBeepOpen"),a=storage.local.getItem("searchHotkey");e||(e=!!ua.isDesktop,storage.local.setItem("notification",e)),t||(t=!!ua.isDesktop,ddStorage.setItemWithUid("dingEmailNotification",t)),i||(i=!0,storage.local.setItem("isBeepOpen",i)),a||""===a||storage.local.setItem("searchHotkey","Ctrl+Shift+F")}function C(e){if(b(),ua.isDesktop?(k(),M().then(function(){I()},function(){I()})):M(),ua.isDesktop&&o.init(),ua.isDesktop){try{db.init()}catch(e){localLog.error("db init error ",e),n.show("初始化数据库失败",{type:"error"})}blackBoxService.afterAuthInit(),myEmotionService.afterAuthInit(),dtSearchManager.initSearchEngine(),g.init(),m.init(),y()}if(d.initOrgExpandState(),c.init(),s.init(),u.init(),p.init(),f.init(),v.initCallCenter(),ua.isDingTalkWin&&(nativeChannelToMojo.init(),h.init()),ua.isDingTalkWin)try{var t="";"beta"===env.desktopEnv?t="Beta":"rc"===env.desktopEnv&&(t="RC"),dingtalk.graffiti.setDumpPrefix(my.uid+"",nw.version(),"DingTalk"+t)}catch(e){localLog.error("init crash dump error",e)}setTimeout(function(){A()},2e4)}var A=(globalURL.DOWNLOAD_URL,function(){if(ua.isDesktop){var e="DINGTALK.db",t=localFilePathManager.getDBFilePath();ua.isMac?t=t+"/"+e:ua.isDingTalkWin&&(t=t+"\\"+e);var i=q.statsSync(t);i&&i.size&&S.commLog("pc_db_size",i.size)}});return{init:C}}]),module.exports=moduleName;

},{"../../service/app/localFilePathManager":254,"../app/appAutoRun":244,"../app/nw":255,"../app/versionCmp":261,"../callCenter/callCenter.js":269,"../contact/externalContact/externalContactHelper.js":283,"../conversation/conversationWithSDK":308,"../db/db":327,"../ding/DingReceiveStatus":341,"../emotion/myEmotionService":370,"../env/env":374,"../file/fileHelper":379,"../globalUrl":398,"../log/localLog":421,"../log/logUpload":423,"../log/lwlog":424,"../microApp/microAppData":437,"../modal/UpdateMsgModal":441,"../modal/alert":445,"../modal/confirm":447,"../nativesearch/DTSearchManager":486,"../org/orgStateManager":541,"../safety/blackboxService":549,"../safety/safetyInit":558,"../storage/ddStorage":605,"../storage/storage":606,"../toMojoApi/lwlog.js":609,"../toMojoApi/nativeChannel":610,"../toast/toast":611,"../ua":621,"../user/my":635,"../videoConf/conferenceInit":646,"../voipService/voipInit":650,"../widget/hotkeyManager":663,"../windowTalkHost/hostWindowCommonApi":674,"lodash":919}],264:[function(require,module,exports){
"use strict";require("../modal/alert");var _=require("lodash"),localLog=require("../log/localLog"),nwWindow=require("../app/nwWindow"),dingtalkDownload=require("../app/download/dingtalkDownload"),dingtalkNotification=require("../dingtalkNotification/dingtalkNotification"),globalEventEmitter=require("../../service/globalEventEmitter"),EVENTS=require("../../service/events"),LoginStatusCode=require("../../service/login/LoginStatusCode"),my=require("../../service/user/my");angular.module("ddWeb.appInit.init",[require("../api/MsgSub"),"ddWeb.modal.alert",require("../safety/safetyInit"),require("../refreshCookie/refreshCookie"),require("../widget/hotkeyManager"),require("../app/tray"),require("../titleService"),require("../app/badgeLabel"),require("../user/updateMyProfile"),require("../microApp/microAppData"),require("../app/schemeUrl"),require("../log/wkLogCapture")]).factory("$appInit",["MsgSub","$alert","refreshCookie","hotkeyManager","safetyInit","appTray","titleService","badgeLabel","updateMyProfile","microAppData","schemeUrl","wkLogCapture",function(i,e,r,t,n,o,a,u,s,c,l,d){function p(){i.subscribe("/s/biz/organization",function(i,e){if(e({}),i.body){if(i.body.isLevelChange===!0)return;s.update()}})}function g(){i.subscribe("/s/biz/oapi_push",function(i,e){e({}),c.receiveOApiPush(i.body)})}function f(){i.subscribe("/s/msgTag",function(i,e){e({})})}function b(){i.subscribe("/s/devSts",function(i,e){e({})})}function q(){i.subscribe("/s/biz/conference",function(i,e){e({})})}function y(){globalEventEmitter.addListener(EVENTS.LOGIN_STATE_CHANGE,function(i){i===LoginStatusCode.LOGINED&&my.uid&&s.update()})}var m=function(){p(),f(),b(),g(),q(),y(),r.init(),t.initOnAppInit(),o.init(),a.init(),u.init(),nwWindow.initSize(),dingtalkDownload.init(),dingtalkNotification.init(),l.init(),d.init()};return{init:m}}]);

},{"../../service/events":376,"../../service/globalEventEmitter":396,"../../service/login/LoginStatusCode":429,"../../service/user/my":635,"../api/MsgSub":240,"../app/badgeLabel":245,"../app/download/dingtalkDownload":250,"../app/nwWindow":257,"../app/schemeUrl":258,"../app/tray":260,"../dingtalkNotification/dingtalkNotification":362,"../log/localLog":421,"../log/wkLogCapture":428,"../microApp/microAppData":437,"../modal/alert":445,"../refreshCookie/refreshCookie":543,"../safety/safetyInit":558,"../titleService":608,"../user/updateMyProfile":639,"../widget/hotkeyManager":663,"lodash":919}],265:[function(require,module,exports){
"use strict";var moduleName="ddWeb.audio",uriResolve=require("./uriResolve/resolve"),AUDIO={message:"https://g.alicdn.com/DingTalkWeb/web/2.20.1/app/audio/message.mp3",ding:"https://g.alicdn.com/DingTalkWeb/web/2.20.1/app/audio/ding.mp3",call:"https://g.alicdn.com/DingTalkWeb/web/2.20.1/app/audio/call.mp3",videoInvite:"https://g.alicdn.com/DingTalkWeb/web/2.20.1/app/audio/videoInvite.mp3"};angular.module(moduleName,[]).factory("audioService",[function(){function e(e){p=e}function i(e){var i=AUDIO[e];p&&"true"===localStorage.getItem("isBeepOpen")&&i&&(t.src=i,o=t.paused?t.play():t.pause())}function a(e){this.src=AUDIO[e],this.player=new Audio,this.src&&(this.player.src=this.src)}var o=!1,t=new Audio,p=!0;a.prototype.rollingPlay=function(){this.player.currentTime=0,this.player.loop="loop",this.player.play()},a.prototype.play=function(){this.player.currentTime=0,this.player.loop="",this.player.play()},a.prototype.pause=function(){this.player.pause()};var l=new a("videoInvite");return{play:i,togglePlay:e,videoInviteAudio:l}}]),module.exports=moduleName;
},{"./uriResolve/resolve":628}],266:[function(require,module,exports){
var getAudioContext=require("../../service/getAudioContext"),Class=require("../../lib/class"),LocalFile=require("../../service/file/LocalFile"),EventEmitter=require("wolfy87-eventemitter"),AMR=require("@ali/amrnb"),AmrPlayer=Class.create({initialize:function(t){this.ctx=getAudioContext(),this.path=t,this.duration=0,this.instance=null,this.paused=!1,this.audioPauseTime=null,this.audioStartTime=null,this.audioCurrentTime=0;var e=new LocalFile(this.path),i=e.slice(0,e.size);this.readBlob(i,function(t){this.playAmrArray(t)}.bind(this))},Implements:EventEmitter,EventsName:{CAN_PLAY:"canplay",ENDED:"ended"},start:function(){this.audioStartTime=Date.now(),this.instance.start()},playAmrArray:function(t){var e=AMR.decode(t);if(e)return this.playPcm(e)},playPcm:function(t){if(this.instance=this.ctx.createBufferSource(),this.buffer=this.ctx.createBuffer(1,t.length,8e3),this.buffer.copyToChannel)this.buffer.copyToChannel(t,0,0);else{var e=this.buffer.getChannelData(0);e.set(t)}this.instance.buffer=this.buffer,this.instance.connect(this.ctx.destination),this.duration=this.buffer.duration,this.handleAudioEndedBindThis=this.handleAudioEnded.bind(this),this.instance.addEventListener("ended",this.handleAudioEndedBindThis),this.emit(this.EventsName.CAN_PLAY)},handleAudioEnded:function(){this.paused=!0,this.audioCurrentTime=0,this.emit(this.EventsName.ENDED)},readBlob:function(t,e){var i=new FileReader;i.onload=function(t){var i=new Uint8Array(t.target.result);e(i)},i.readAsArrayBuffer(t)},play:function(){if(this.paused){this.paused=!1,this.instance=this.ctx.createBufferSource(),this.instance.buffer=this.buffer,this.instance.connect(this.ctx.destination);var t=this.audioCurrentTime;this.duration=this.buffer.duration-this.audioCurrentTime,this.instance.start(0,t),this.audioStartTime=Date.now(),this.instance.addEventListener("ended",this.handleAudioEndedBindThis)}},pause:function(){!this.paused&&this.instance&&(this.paused=!0,this.instance.removeEventListener("ended",this.handleAudioEndedBindThis),this.instance.stop(0),this.audioPauseTime=Date.now(),this.audioCurrentTime+=(this.audioPauseTime-this.audioStartTime)/1e3)},destory:function(){this.instance&&this.instance.stop()}});module.exports=AmrPlayer;

},{"../../lib/class":198,"../../service/file/LocalFile":378,"../../service/getAudioContext":395,"@ali/amrnb":677,"wolfy87-eventemitter":944}],267:[function(require,module,exports){
var Class=require("../../lib/class"),Cache=Class.create({initialize:function(t){this.name=t,this.cache={}},set:function(t){t.getId&&t.getId()?this.cache[t.getId()]=t:console.error("item must have getId method")},getItemById:function(t){return this.cache[t]}}),ExpireCache=Class.create({initialize:function(t){this._expireTime=t,this._storage={},this.initCleanTimer()},initCleanTimer:function(){var t=this;setTimeout(function(){Object.keys(t._storage).forEach(function(e){t._isExpire(e)&&t._remove(e)})},12e5)},_getNow:function(){return+new Date},_isExpire:function(t){var e=this._expireTime;return this._getNow()-this._getTime(t)>e},_getTime:function(t){return this._storage[t][1]},_getVal:function(t){return this._storage[t][0]},_remove:function(t){delete this._storage[t]},_isHit:function(t){return this._storage[t]},addCache:function(t,e){this._storage[t]=[e,this._getNow()]},getCache:function(t){var e=!1;return this._isHit(t)?this._isExpire(t)?(this._remove(t),e):this._getVal(t):e},updateCache:function(t,e){return this._isHit(t)?this._storage[t][0].allData=this._storage[t][0].allData.concat(e.allData):this._storage[t]=[e,this._getNow()],this._storage[t][0]}});exports.Cache=Cache,exports.ExpireCache=ExpireCache;

},{"../../lib/class":198}],268:[function(require,module,exports){
function serviceDefine(e,t,i){var l=1e3,a=3e4,s=1e3,c={CALLER_ANSWER:"caller-answer",CALLER_HANGUP:"caller-hangup"},r=Class.create({initialize:function(e){this.callInfo=e,this.callInfo.callerUid=$my.getId(),this.state=this.TelStates.WAIT},clearReceiveTimeout:function(){this.callReceiveTimeout&&(clearTimeout(this.callReceiveTimeout),this.callReceiveTimeout=null)},startReceiveTimeout:function(){this.clearReceiveTimeout(),this.callReceiveTimeout=setTimeout(function(){this.emit(this.Events.TEL_STATUS_CHANGED_CALLER_RECEIVE_CALL)}.bind(this),l)},clearCreateTimeout:function(){this.callCreateTimeout&&(clearTimeout(this.callCreateTimeout),this.callCreateTimeout=null)},startCreateTimeout:function(){this.clearCreateTimeout(),this.callCreateTimeout=setTimeout(function(){this.changeState(this.TelStates.TIMEOUT)}.bind(this),a)},changeState:function(e){this.state=e,this.emit(this.Events.TEL_STATE_CHANGE,this.state)},Events:{TEL_STATUS_CHANGED_CALLER_RECEIVE_CALL:"tel_status_changed_caller_receive_call",TEL_STATUS_CHANGED_CALLER_ANSWER:"tel_status_changed_caller_answer",TEL_STATUS_CHANGED_CALLER_HANGUP:"tel_status_changed_caller_hangup",TEL_STATUS_CHANGED_CALLEE_RECEIVE_CALL:"tel_status_changed_callee_receive_call",TEL_STATE_CHANGE:"tel_state_change"},TelStates:{WAIT:"wait",CALLING:"calling",END:"end",TIMEOUT:"timeout"},Implements:EventEmitter,receiveTelStatusChange:function(e){try{var t=parseInt(this.callInfo.calleeUid)}catch(e){return}if(e.calleeUid===t){var i=this;switch(e.action){case c.CALLER_ANSWER:i.emit(i.Events.TEL_STATUS_CHANGED_CALLER_ANSWER,e),i.clearCreateTimeout(),setTimeout(function(){i.emit(i.Events.TEL_STATUS_CHANGED_CALLEE_RECEIVE_CALL)},s);break;case c.CALLER_HANGUP:i.emit(i.Events.TEL_STATUS_CHANGED_CALLER_HANGUP,e),i.clearCreateTimeout()}}},setBizCallResult:function(e){this.bizCallResult=e},cancelBizCall:function(){return e.cancelBizCall({businessId:this.bizCallResult.businessId}).result.catch(function(e){var l=e.message||t.instant("pc_toast_error_cancel_biz_call");return i.show(l,{type:"error"}),localLog.error("cancel biz call failed",e.message),Promise.reject(e)})},genBizCallModel:function(){return{calleeUid:this.callInfo.calleeUid,bizCallNum:this.callInfo.bizCallNum,orgId:this.callInfo.orgId}},createBizCall:function(){var l=this.genBizCallModel();return this.startCreateTimeout(),e.createBizCall(l).result.then(function(e){this.changeState(this.TelStates.CALLING);var t=_.get(e,"body.callbackNum.numList[0]"),i=l.bizCallNum;return t&&(i=t),this.callbackNum=i,this.setBizCallResult(e.body),this.startReceiveTimeout(),Promise.resolve(e)}.bind(this)).catch(function(e){var l=e.message||t.instant("pc_toast_error_launch_call");return i.show(l,{type:"error"}),localLog.error("create biz call failed",e.message),Promise.reject(e)}.bind(this))}});return r}var moduleName=module.exports="ddWeb.callCenter.CorpTelCall",serviceName="CorpTelCall",EventEmitter=require("wolfy87-eventemitter"),Class=require("../../lib/class.js"),$my=require("../user/my.js"),localLog=require("../log/localLog.js");angular.module(moduleName,[require("@ali/ding-api").interface.ConferenceI,require("../toast/toast.js")]).factory(serviceName,["ConferenceI","$translate","toastService",serviceDefine]);
},{"../../lib/class.js":198,"../log/localLog.js":421,"../toast/toast.js":611,"../user/my.js":635,"@ali/ding-api":711,"wolfy87-eventemitter":944}],269:[function(require,module,exports){
function serviceDefine(e,t,i,r,n,l,s,o){var a=Class.create({initialize:function(){this.isSupport=!1,this.numInfoList=null,this.initReceiveTelStatusChanged(),this.corpTelCall=null},initCallCenter:function(){this.getPreferBizCallNum(),this.removeLoginStateListener=this.initLoginStateListener(),window.addEventListener("beforeunload",function(){this.destroy()}.bind(this))},Events:{FETCH_PREFER_BIZ_CALL_NUM_COMPLETED:"fetch_prefer_biz_call_num_completed"},Implements:EventEmitter,getPreferBizCallNum:function(){return e.getPreferBizCallNum().result.then(function(e){this.isSupport=e.body.isSupport,this.numInfoList=e.body.numInfoList,this.emit(this.Events.FETCH_PREFER_BIZ_CALL_NUM_COMPLETED),localLog.info("fetch success and your SUPPORT is "+this.isSupport)}.bind(this)).catch(function(e){return localLog.error("fetch prefer biz call number failed",e.message),Promise.reject(e)})},createBizCall:function(e){if(e)return this.tryGetUidByNumber(e).then(function(e){return this.createBizCallByUid(e)}.bind(this));var t={window:{title:"选人",closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[o.ORG,o.FRIEND,o.EXTERNAL_CONTACT],lockedIds:{uids:[]},selectedUids:[]},selectorBar:{display:!0,placeholder:"搜索联系人"},type:"SELECT_ALL_USER",multiple:!1};return s(t).then(function(e){if(1===e.length){var t=e[0].model.uid;return this.createBizCallByUid(t)}}.bind(this))},createBizCallByUid:function(e){if(!this.isSupport)return Promise.reject(new Error("NOT SUPPORT"));var t={calleeUid:e,bizCallNum:this.numInfoList[0].numList[0],orgId:this.numInfoList[0].orgId};return this.corpTelCall=new n(t),this.corpTelCall.createBizCall().then(function(e){l(this.corpTelCall).then(function(){this.corpTelCall=null}.bind(this)).catch(function(){this.corpTelCall=null}.bind(this))}.bind(this)).catch(function(e){return this.getPreferBizCallNum(),Promise.reject(e)}.bind(this))},tryGetUidByNumber:function(e){var i={mobile:e,source:1};return t.createUsersByIdentitiesV2([i],!0).result.then(function(e){var t=e.body;return t&&t[0]&&t[0].uid?Promise.resolve(t[0].uid):Promise.reject(new Error("uid is null"))}).catch(function(e){return localLog.error("create user id failed ",e.message),Promise.reject(e)})},initReceiveCallCenterChange:function(){},initReceiveTelStatusChanged:function(){var e=this;WK.syncRegister({objectType:pushEventsTypes.TYPE_TELE_STATUS_CHANGED,decodeFunc:conferencePadding.paddings.TeleChatStatusChangedModel,onSyncMsg:function(t){return e.corpTelCall.receiveTelStatusChange(t),Promise.resolve()}})},refreshOnceReconnect:function(e){e===loginStatusCode.LOGINED&&this.getPreferBizCallNum()},initLoginStateListener:function(){var e=this.refreshOnceReconnect.bind(this);return globalEventEmitter.addListener(EVENTS.LOGIN_STATE_CHANGE,e),function(){globalEventEmitter.removeListener(EVENTS.LOGIN_STATE_CHANGE,e)}.bind(this)},destroy:function(){this.removeLoginStateListener&&this.removeLoginStateListener()}});return new a}var moduleName=module.exports="ddWeb.callCenter.callCenter",serviceName="callCenter",Class=require("../../lib/class.js"),EventEmitter=require("wolfy87-eventemitter"),_=require("lodash"),localLog=require("../log/localLog.js"),WK=require("@ali/wksdk"),pushEventsTypes={CALL_CENTER_CAHNGE:2020,TYPE_TELE_STATUS_CHANGED:2004},globalEventEmitter=require("../globalEventEmitter.js"),EVENTS=require("../events"),loginStatusCode=require("../login/LoginStatusCode.js"),conferencePadding=require("@ali/ding-api").model.conference,$my=require("../user/my.js");angular.module(moduleName,[require("@ali/ding-api").interface.ConferenceI,require("@ali/ding-api").interface.UserI,require("../toast/toast.js"),require("./CorpTelCall.js"),require("../modal/corpTelCallModal"),require("../modal/selectPanelModal"),require("../selectorPanel/PanelType")]).factory(serviceName,["ConferenceI","UserI","toastService","$translate","CorpTelCall","corpTelCallModal","selectPanelModal","PanelType",serviceDefine]);

},{"../../lib/class.js":198,"../events":376,"../globalEventEmitter.js":396,"../log/localLog.js":421,"../login/LoginStatusCode.js":429,"../modal/corpTelCallModal":448,"../modal/selectPanelModal":470,"../selectorPanel/PanelType":590,"../toast/toast.js":611,"../user/my.js":635,"./CorpTelCall.js":268,"@ali/ding-api":711,"@ali/wksdk":779,"lodash":919,"wolfy87-eventemitter":944}],270:[function(require,module,exports){
"use strict";var Class=require("../../lib/class");angular.module("ddWeb.service.ImgOperator",[]).factory("ImgOperator",[function(){var i=Class.create({initialize:function(i,t,e){this._imgWrapDiv=i,this._hideLoadingDomFunc=t,this._scale=null,this._screenWidth=null,this._screenHeight=null,this._originTransitionCss=null,this._originPageX=null,this._originPageY=null,this._originTop=null,this._originLeft=null,this._isDragImg=!1,this._rotate=0,this._isRelocate=!1,this._initSize={},this.initWhenCreate()},Statics:{create:function(t,e){var s=new i(t,e);return s}},_getOffset:function(i){return{left:Number(i.css("left").slice(0,-2)),top:Number(i.css("top").slice(0,-2))}},_saveImgOriginData:function(i,t){this._originPageX=t.pageX,this._originPageY=t.pageY,this._originTop=i.top,this._originLeft=i.left},_forbiddenHtml5Drag:function(){this._image.attr("draggable",!1)},_isFirstMove:function(){return null===this._originPageX&&null===this._originPageY},_move:function(i){var t=i.pageX-this._originPageX+this._originLeft,e=i.pageY-this._originPageY+this._originTop;this._imgWrapDiv.css("left",t.toFixed(1)+"px"),this._imgWrapDiv.css("top",e.toFixed(1)+"px"),this._isRelocate=!0},_setSize:function(i,t){this._scale>1?this._setHeight(t):this._setWidth(i)},_posToCenter:function(){this._imgWrapDiv.css("left",this._getLeft(this._centerLeft,this._getImgWidth())),this._imgWrapDiv.css("top",this._getTop(this._centerTop,this._getImgHeight()))},_getImgWidth:function(){return this._imgWrapDiv.width()},_getImgHeight:function(){return this._imgWrapDiv.height()},_getLeft:function(i,t){return i-t/2},_getTop:function(i,t){return i-t/2},_setNoAnimate:function(){this._image.css("transition","none")},_restoreAnimate:function(){this._image.css("transition",this._originTransitionCss)},_getScreenWidth:function(){return $(document).width()},_getScreenHeight:function(){return $(document).height()},_setWidth:function(i){this._imgWrapDiv.width(i),this._imgWrapDiv.height(i/this._scale)},_setHeight:function(i){this._imgWrapDiv.height(i),this._imgWrapDiv.width(i*this._scale)},_isMaxSize:function(i,t){var e=this._screenHeight/2;return!(this._scale>1&&t<=e)&&i>this._screenWidth},_isMinSize:function(i,t){var e=50;return i<0||t<0||!(this._initSize.width<e||this._initSize.height<e)&&(i<e||t<e)},_initCenterData:function(){this._centerLeft=this._screenWidth/2,this._centerTop=this._screenHeight/2},_changeCenterDataWhenRelocate:function(){this._isRelocate&&(this._centerLeft=parseInt(this._imgWrapDiv.css("left"))+this._getImgWidth()/2,this._centerTop=parseInt(this._imgWrapDiv.css("top"))+this._getImgHeight()/2,this._isRelocate=!1)},_setSizeSpeed:function(){this._speedX=Math.max(.2*this._getImgWidth(),100),this._speedY=Math.max(.2*this._getImgHeight(),100)},_resizeImg:function(){var i=null,t=null;i=this._getImgWidth(),this._initSize.width=i,this._screenWidth/1.5<=i&&(i=this._screenWidth/1.5,this._setWidth(i),this._initSize.width=i),t=this._getImgHeight(),this._initSize.height=t,this._screenHeight/1.2<=t&&(t=this._screenHeight/1.2,this._setHeight(t),this._initSize.height=t)},initWhenCreate:function(){this._imgWrapDiv.hide(),this._screenWidth=this._getScreenWidth(),this._screenHeight=this._getScreenHeight(),this._isSwitchImg=!1,this._isDispose=!1},zoomIn:function(){var i=null,t=null,e=0,s=0;this._image&&(i=this._getImgWidth(),t=this._getImgHeight(),e=i+this._speedX,s=t+this._speedY,this._resizeAroundCenter(e,s))},zoomOut:function(){var i=null,t=null,e=0,s=0;this._image&&(i=this._getImgWidth(),t=this._getImgHeight(),e=i-this._speedX,s=t-this._speedY,this._isMinSize(e,s)||this._resizeAroundCenter(e,s))},_resizeAroundCenter:function(i,t){this._changeCenterDataWhenRelocate(),this._setSize(i,t),this._setNoAnimate(),this._posToCenter()},rotate:function(){this._rotate-=90,this._applyRotate()},_applyRotate:function(){var i=this._image;i&&(this._restoreAnimate(),i.css({transform:"rotate("+this._rotate+"deg)"}))},init:function(i,t,e){var s=this,n=new Image;n.src=i,n.onload=function(){s._isDispose||s._isSwitchWhileLoading()||s._hasError||(s._hideLoadingDomFunc(),s._image=$(n),s._image.attr("data-ng-imgname",t),s._imgWrapDiv.append(s._image),s._initImg(n,e))},n.onerror=function(i){n._hasError!==!0&&(n._hasError=!0,n.src="https://static.dingtalk.com/media/lALOAQIv_M0BLM0BaA_360_300.png")}},_isSwitchWhileLoading:function(){return this._isSwitchImg},replaceImg:function(i,t){this._isSwitchImg=!0,this._imgWrapDiv.hide(),this._replaceCurrentImg(i),this._reset(),this._initImg(i,t)},_replaceCurrentImg:function(i){this._image&&this._image.remove(),this._image=$(i),this._imgWrapDiv.append(this._image)},_reset:function(){this._isDragImg=!1,this._isRelocate=!1,this._rotate=0},_restoreRotate:function(){},rollToZoom:function(i){this._isRollUp(i)?this.zoomIn(this._screenWidth):this._isRollDown(i)&&this.zoomOut()},_isRollUp:function(i){return i.deltaY>=1},_isRollDown:function(i){return i.deltaY<=-1},startDrag:function(i){this._isDragImg=!0,this._saveImgOriginData(this._getOffset(this._imgWrapDiv),i)},endDrag:function(){this._isDragImg=!1},moveImgWrapDiv:function(i){this._isDragImg&&!this._isFirstMove()&&this._move(i)},_initImg:function(i,t){var t=t||{};t.rotate&&(this._rotate=t.rotate),this._initWrapDivSize(i),this._scale=this._getImgWidth()/this._getImgHeight(),this._initCenterData(),this._forbiddenHtml5Drag(),this._applyRotate(),this._initUI(),this._originTransitionCss=this._image.css("transition"),this._setSizeSpeed(),this._initImgEvent(i)},_initImgEvent:function(i){$(i).on("click",function(i){i.stopPropagation()})},_initWrapDivSize:function(i){this._imgWrapDiv.width(i.width),this._imgWrapDiv.height(i.height)},_initUI:function(){this._resizeImg(),this._posToCenter(),this._imgWrapDiv.show()},dispose:function(){this._isDispose=!0,this._image&&this._image.off()}});return i}]);
},{"../../lib/class":198}],271:[function(require,module,exports){
"use strict";require("./imgTool"),require("../tool/tool");var Class=require("../../lib/class");angular.module("ddWeb.service.ImgSwitcher",["ddWeb.service.imgTool","ddWeb.service.tool"]).factory("ImgSwitcher",["imgTool","tool",function(i,t){var e=Class.create({initialize:function(i,t,e){this._imgOperator=i,this._showLoadingDomFunc=t,this._hideLoadingDomFunc=e,this._isDispose=!1},Statics:{create:function(i,t,o){var n=new e(i,t,o);return n}},_newestUniqueKey:null,_switch:function(i,e){var o=null,n=this;this._loading=!0,this._deferShowLoading(),this._newestUniqueKey=t.buildUniqueKey(),o=new Image,o.src=i,function(i){o.onload=function(){n._isDispose||n.isSwitchWhileLoading(i)||(n._loading=!1,n._hideLoadingDomFunc(),n._imgOperator.replaceImg(this,e))},o.onerror=function(i){o._hasError!==!0&&(o._hasError=!0,o.src="https://static.dingtalk.com/media/lALOAQIv_M0BLM0BaA_360_300.png")}}(this._newestUniqueKey)},_deferShowLoading:function(){var i=this;setTimeout(function(){i._loading&&i._showLoadingDomFunc()},50)},isSwitchWhileLoading:function(i){return i!==this._newestUniqueKey},refresh:function(t){var e={};t.rotate&&(e.rotate=t.rotate),this._switch(i.getImgSrc(t),e)},goPrev:function(t){var e={};t.rotate&&(e.rotate=t.rotate),this._switch(i.getImgSrc(t),e)},goNext:function(t){var e={};t.rotate&&(e.rotate=t.rotate),this._switch(i.getImgSrc(t),e)},dispose:function(){this._isDispose=!0}});return e}]);

},{"../../lib/class":198,"../tool/tool":616,"./imgTool":274}],272:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.chaCallService",EVENTS=require("../../service/events");require("../../service/toast/toast"),require("../../service/audio");var confUserType=require("../../service/videoConf/conferenceUserType"),LoginStatusCode=require("../login/LoginStatusCode"),ua=require("../ua"),_=require("lodash"),localLog=require("../log/localLog"),loginStatus=require("../login/loginStatus"),app=angular.module(moduleName,[require("@ali/ding-api").interface.ConferenceI,"ddWeb.toast","ddWeb.audio",require("@ali/ding-api").interface.CallAdminI,require("../voipService/voipWindowManager"),require("../videoConf/confManager"),require("../log/lwlog"),require("../callCenter/callCenter.js"),require("../modal/callSelectorModal.js")]);app.factory("chatCallService",["ConferenceI","$rootScope","toastService","audioService","$timeout","CallAdminI","voipWindowManager","confManager","lwlog","callCenter","callSelectorModal",function(e,r,o,i,t,n,a,l,c,s,u){function C(){t(function(){L=v.UNCALL,r.$broadcast(EVENTS.CHANGE_CALL_STATE,L)},U)}function d(i,t){return loginStatus.isOffline()?(o.show("您当前处于离线状态，请检查网络后再试",{type:"error",maxVisible:2}),Promise.reject()):L!==v.UNCALL?(o.show("正在为您呼叫，请稍候",{type:"error",maxVisible:2}),Promise.reject()):Promise.resolve().then(function(){return ua.isDingTalkWin&&ua.higherThanXp()?s.isSupport?(u({uid:i.calleeUid}),Promise.reject()):l.getCurrentConference()?(o.show("正在视频会议中，请稍后再试",{type:"error"}),Promise.reject(new Error("is in videoConf now"))):a.createCall(i.calleeUid).then(function(){return Promise.reject()},function(){return Promise.resolve()}):s.isSupport?(s.createBizCallByUid(i.calleeUid),Promise.reject()):Promise.resolve()}).then(function(){return e.createCall(i).result.then(function(){return C(),L=v.CALLSUCCESS,r.$broadcast(EVENTS.CHANGE_CALL_STATE,L),o.show("正在呼叫"+t+"，请接听钉钉来电",{type:"information",maxVisible:2}),Promise.resolve()},function(e){L=v.UNCALL;var r="电话唤起失败，请稍候再试。";return e.body.reason&&(r=e.body.reason),o.show(r,{type:"error",maxVisible:2}),Promise.reject(new Error("ConferenceI create call failed"))})})}function f(){return L===v.UNCALL}function S(){return window.localStorage.chatCallUseState}function g(e){window.localStorage.chatCallUseState=e}function m(){return h?Promise.resolve(h):new Promise(function(e,r){n.getConfig({configTypes:[confUserType.ConfTextVersion]},function(o){200===o.code?(h=o.body,e(h)):r()})})}var v={UNCALL:0,CALLSUCCESS:1},p={NOWATCH:"0",MOUSEOVER:"1",CLICK:"2"},L=v.UNCALL,U=8e3,h=null;return{createCall:d,checkCallState:f,getCallUseState:S,setCallUseState:g,chatCallUseStates:p,chatCallStates:v,getConfig:m}}]),module.exports=moduleName;

},{"../../service/audio":265,"../../service/events":376,"../../service/toast/toast":611,"../../service/videoConf/conferenceUserType":647,"../callCenter/callCenter.js":269,"../log/localLog":421,"../log/lwlog":424,"../login/LoginStatusCode":429,"../login/loginStatus":431,"../modal/callSelectorModal.js":446,"../ua":621,"../videoConf/confManager":645,"../voipService/voipWindowManager":652,"@ali/ding-api":711,"lodash":919}],273:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.colorTransfer";angular.module(moduleName,[]).factory("colorTransfer",[function(){function e(e){if(!e)return"";var r=/^0x([0-9a-fA-F]{8})/,a=e.match(r);if(!a)return"";var n=a[1],t=parseInt(n.slice(0,2),16),a=parseInt(n.slice(2,4),16),s=parseInt(n.slice(4,6),16),o=parseInt(n.slice(6,8),16);return"rgba("+a+", "+s+", "+o+", "+t+")"}return e}]),module.exports=moduleName;

},{}],274:[function(require,module,exports){
require("../../service/mediaId/mediaId"),angular.module("ddWeb.service.imgTool",["ddWeb.mediaId"]).factory("imgTool",["mediaId",function(e){return{getImgSrc:function(i){return e.mid2Url(i.mediaId,{imageSize:"origin"})}}}]);
},{"../../service/mediaId/mediaId":433}],275:[function(require,module,exports){
var moduleName="ddWeb.service.textCellService",app=angular.module(moduleName,[]);app.factory("textCellService",["$timeout",function(e){function t(e){var t={st:"�".charCodeAt(0),ed:"�".charCodeAt(0)};return rightRange={st:"�".charCodeAt(0),ed:"�".charCodeAt(0)},e>=t.st&&e<=t.ed?"l":e>=rightRange.st&&e<=rightRange.ed&&"r"}function r(e){var t,r,l;if(t="","string"==typeof e)r=T.START+e+T.END;else{for(++d,l=0;l<d;l++)t+=T.COUNTER;r=T.START+t+e.toReplaceText+T.END,A.push(r),s.push(e)}return r}function l(e){var t,r={},l=e.length,a="",n=0,c=0,u="",d=!1;for(thisTextArray=angular.copy(s),i=0;i<l;i++)if(t=e.charCodeAt(i),t==f.START)d&&(a+=u),n=0,d=!0,u=T.START;else if(t==f.END){if(c=n,u+=T.END,n>0){var A=thisTextArray[c-1];if(A&&A.toReplaceText===o(u)){var C,h=A.replaceText,R=A.toReplaceText;a+=h,C=h.substr(1,h.length-2),r[C]=R.substr(1,R.length-2)}else d&&(a+=u)}else d&&(a+=u);d=!1}else t==f.COUNTER?(u+=T.COUNTER,++n):(u+=e[i],d||(a+=e[i]));return d&&(a+=u),{filterMsg:a,filterCellMap:r}}function a(e,t,r){var l,a=e.length,n=t;if(r){var i=!1;for(l=t;l>=0;l--){if(e.charCodeAt(l)==f.START){i=!0,n=l;break}if(e.charCodeAt(l)===f.END)break}if(n===t)return t+1}else{for(l=t;l<a;l++){if(e.charCodeAt(l)==f.END){n=l;break}if(e.charCodeAt(l)==f.START)break}if(n===t)return t-1}return n}function n(e,t){var r,l=(e.length,null),n=null,i=t.st,o=t.ed,c={st:t.st,ed:t.ed};for(r=t.st;r<t.ed;r++)e.charCodeAt(r)!=f.START&&e.charCodeAt(r)!=f.END||(null!=l&&(l=e.charCodeAt(r),i=r),n=e.charCodeAt(r),o=r);return null!=l&&null!=n?l==f.START?n==f.START&&(c.ed=a(e,o+1,!1)):n==f.END?c.st=a(e,i-1,!0):(c.ed=a(e,o+1,!1),c.st=a(e,i-1,!0)):(c.ed=a(e,o+1,!1),c.st=a(e,i-1,!0)),c}function o(e){var t,r,l=e.length,a="";for(t=0;t<l;t++)r=e.charCodeAt(t),r!=f.START&&r!=f.COUNTER&&r!=f.END&&(a+=e[t]);return a}function c(e){return o(e)}function u(){d=0,A=[],s=[]}var T={START:"\0",END:"",COUNTER:""},f={START:0,END:1,COUNTER:2},d=0,A=[],s=[];return{createCell:r,filterAtCell:l,reset:u,filterFaceCell:c,strictCell:n,getCellArray:function(){return A},getTextArray:function(){return s},FLAG_CODE:f,trimFlag:o,checkEmojiUnicode:t}}]),module.exports=moduleName;

},{}],276:[function(require,module,exports){
"use strict";var moduleName="ddWeb.chat.typingType";angular.module(moduleName,[]).value("typingType",{TYPING:0,CANCELTYPING:1}),module.exports=moduleName;

},{}],277:[function(require,module,exports){
function factoryHandler(t){return ContactClientItem=t.extend({initialize:function(t){ContactClientItem.superclass.initialize.call(this),this.crmModel=t,this.index=t.$dd_index},getId:function(){return this.crmModel.customerId},getSortValue:function(){return this.index}})}var moduleName=module.exports="ddWeb.clientContact.ContactClientItem",serviceName="ContactClientItem";angular.module(moduleName,[require("../listContainer/ListItem")]).factory(serviceName,["ListItem",factoryHandler]);

},{"../listContainer/ListItem":416}],278:[function(require,module,exports){
function factoryHandler(t){return ContactClientList=t.extend({initialize:function(t,e){ContactClientList.superclass.initialize.call(this,t,e)},_getLatestItem:function(){if(this.showItems.length>0)if("ASC"===this.conf.order)var t=this.showItems[this.showItems.length-1];else var t=this.showItems[0];else var t=null;return t}})}require("../listContainer/ListContainer");var moduleName=module.exports="ddWeb.clientContact.ContactClientList",serviceName="ContactClientList";angular.module(moduleName,["ddWeb.listContainer.ListContainer"]).factory(serviceName,["ListContainer",factoryHandler]);

},{"../listContainer/ListContainer":415}],279:[function(require,module,exports){
var moduleName=module.exports="ddWeb.contact.externalContact.ExternalContactItem",serviceName="ExternalContactItem",_=require("lodash"),colorTrans=require("../../widget/colorTrans");angular.module(moduleName,[require("../../listContainer/ListItem.js")]).factory(serviceName,["ListItem",function(e){var t=e.extend({initialize:function(e){t.superclass.initialize.call(this),this.model=e,this.genId(),this.dealWithLabelColor()},getSortValue:function(){return 1},getId:function(){return this.id},genId:function(){_.get(this.model,"employee.uid")?this.id=_.get(this.model,"employee.uid"):this.id=_.get(this.model,"employee.orgId")+_.get(this.model,"employee.orgStaffId")},dealWithLabelColor:function(){var e=_.get(this.model,"employee.labels");e&&e.forEach(function(e){var t=colorTrans.transFromARGB(e.color);e.style={"border-color":t,color:t}})}});return t}]);

},{"../../listContainer/ListItem.js":416,"../../widget/colorTrans":658,"lodash":919}],280:[function(require,module,exports){
function serviceDefine(e){var t=e.extend({initialize:function(e,i,s){t.superclass.initialize.call(this,e),this.queryModel=i,this.scope=i.scope,this.orgId=s,this.hasMore=!0,this.EventsName.UPDATE_ITEM="update_item"},setHasMore:function(e){this.hasMore=e},updateExternalByOrgEmployeeModel:function(e){var t=this.conf.itemConstructor,i=new t({employee:e}),s=i.getId(),a=this._cache[s];a&&(a.model.employee=e,this.emit(this.EventsName.UPDATE_ITEM))}});return t}var Class=require("../../../lib/class.js"),moduleName=module.exports="ddWeb.contact.externalContact.ExternalContactList",serviceName="ExternalContactList";angular.module(moduleName,[require("../../listContainer/ListContainer.js")]).factory(serviceName,["ListContainer",serviceDefine]);
},{"../../../lib/class.js":198,"../../listContainer/ListContainer.js":415}],281:[function(require,module,exports){
var actionTypes={INIT_INSTANCE:"init_instance",CHANGE_INSTANCE:"change_instance",UPDATE_LIST:"update_list",CHANGE_ORG:"change_org",UPDATE_ITEM:"update_item"};module.exports=actionTypes;

},{}],282:[function(require,module,exports){
function serviceDefine(){var e=Class.create({initialize:function(){this.callbackCaches=[]},register:function(e){this.callbackCaches.push(e)},dispatch:function(e){this.callbackCaches.forEach(function(a){a(e)})},unregister:function(e){var a=this.callbackCaches.indexOf(e);a==-1&&this.callbackCaches.splice(a,1)}});return new e}var actionTypes=require("./actionTypes.js"),moduleName=module.exports="ddWeb.contact.externalContact.dispatcher",serviceName="externalContactDispatcher",Class=require("../../../lib/class"),_=require("lodash"),EventEmitter=require("wolfy87-eventemitter");angular.module(moduleName,[]).factory(serviceName,[serviceDefine]);

},{"../../../lib/class":198,"./actionTypes.js":281,"lodash":919,"wolfy87-eventemitter":944}],283:[function(require,module,exports){
function serviceDefine(e,r){function t(e){return e===sourceTypes.CONTACT?o:a}function n(){o.init(),a.init(),r.init()}var o=new e(sourceTypes.CONTACT),a=new e(sourceTypes.SELECTOR_PANEL);return{init:n,getStore:t}}var moduleName=module.exports="ddWeb.contact.externalContact.externalContactHelper",serviceName="externalContactHelper",sourceTypes=require("./sourceType.js");angular.module(moduleName,[require("./externalContactStore.js"),require("./labelStore.js")]).factory(serviceName,["externalContactStore","labelStore",serviceDefine]);

},{"./externalContactStore.js":284,"./labelStore.js":287,"./sourceType.js":289}],284:[function(require,module,exports){
function serviceDefine(e,t,r,s,o,a,i){var n=Class.create({initialize:function(e){this.visibleScopes={},this.sourceType=e},getVisibleScope:function(){var e=o.orgState.orgId;return this.visibleScopes[e]},getCurrentExternalContactList:function(e){return this.externalContactList},initVisibleScopes:function(){var e=o.orgState.orgId;r.listVisibleScopes(e).result.then(function(t){this.visibleScopes[e]=t.body,this.emit(this.Events.GET_VISIBLE_SCOPE_SUCCUSS)}.bind(this),function(){localLog.info("fetch scopes error");var e=i.instant("pc_contact_external_contact_fetch_scope_list_failed");a.show(e,{type:"error"})})},init:function(){this.registerDispatcher()},registerDispatcher:function(){var e=this;t.register(function(t){if(t.source===e.sourceType)switch(t.type){case actionTypes.CHANGE_INSTANCE:e.request&&(e.request.dismiss&&e.request.dismiss(),e.request=null);var r=e.genQueryModel(t.scope,t.followerStaffIds,t.labelIds,t.keyword);e._instanceList(r,t.source),e.emit(e.Events.CHANGE_INSTANCE);break;case actionTypes.UPDATE_LIST:break;case actionTypes.CHANGE_ORG:t.orgId;e.emit(e.Events.CHANGE_ORG),e.initVisibleScopes();break;case actionTypes.UPDATE_ITEM:var s=(t.orgId,t.orgEmployeeModel);e.externalContactList&&e.externalContactList.updateExternalByOrgEmployeeModel(s)}})},_instanceList:function(t,n){var c=this;this.externalContactList&&this.externalContactList.deactive(),t.offset=0,t.size=20;var l=this.externalContactList=new e({order:"desc",itemConstructor:s,autoPullData:!1,getMore:function(e,t,s){if(l.hasMore){l.queryModel.size=e;var o=function(t,r){return function(s){t.setHasMore(s.body.hasMore),t.queryModel.offset+=e,r(s.body.values)}};localLog.info("fetch external contact list with queryModel",JSON.stringify(l.queryModel)),c.request=r.listContacts(l.orgId,l.queryModel).result.then(o(l,s)).catch(function(e){localLog.info("fetch external contacts error");var t=i.instant("pc_contact_external_contact_fetch_contact_list_failed");a.show(t,{type:"error"})})}}},t,o.orgState.orgId);this.externalContactList.active()},genQueryModel:function(e,t,r,s){var o={scope:e,followerStaffIds:[],labelIds:[],keyword:""};switch(e){case scope.SEARCH:break;case scope.OWNER:case scope.SHARED:case scope.NO_OWNER:case scope.SUBORDINATE:case scope.ALL:o.followerStaffIds=t,o.labelIds=r,o.keyword=s}return o},Implements:EventEmitter,Events:{GET_VISIBLE_SCOPE_SUCCUSS:"get_visible_scope_succuss",CHANGE_INSTANCE:"change_instance",CHANGE_ORG:"change_org"}});return n}var moduleName=module.exports="ddWeb.contact.externalContact.externalContactStore",serviceName="externalContactStore",actionTypes=require("./actionTypes.js"),Class=require("../../../lib/class"),_=require("lodash"),scope=require("./listScope.js").scope,EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog.js");angular.module(moduleName,[require("./ExternalContactList.js"),require("./dispatcher.js"),require("@ali/ding-api").interface.ExternalContactI,require("./ExternalContactItem.js"),require("../../org/orgStateManager.js"),require("../../toast/toast.js")]).factory(serviceName,["ExternalContactList","externalContactDispatcher","ExternalContactI","ExternalContactItem","orgStateManager","toastService","$translate",serviceDefine]);

},{"../../../lib/class":198,"../../log/localLog.js":421,"../../org/orgStateManager.js":541,"../../toast/toast.js":611,"./ExternalContactItem.js":279,"./ExternalContactList.js":280,"./actionTypes.js":281,"./dispatcher.js":282,"./listScope.js":288,"@ali/ding-api":711,"lodash":919,"wolfy87-eventemitter":944}],285:[function(require,module,exports){
module.exports={EDIT:"edit",FILTER:"filter"};

},{}],286:[function(require,module,exports){
module.exports={RESET_LABELS:"reset_labels",TOGGLE_LABEL:"toggle_label"};

},{}],287:[function(require,module,exports){
function serviceDefine(e,t,r,o,a){var i={INTERNAL:1,EXTERNAL:2},l=Class.create({initialize:function(){this.labels={},this.currentLabelIds=[]},init:function(){this.registerDispatcher()},registerDispatcher:function(){e.register(this.dispatcher.bind(this))},dispatcher:function(e){switch(e.type){case actionTypes.RESET_LABELS:var t=e.orgId,r=this.getLabels(t);r.forEach(function(e){e.labels&&e.labels.forEach(function(e){e.isChecked=!1})}),this.emit(this.Events.LABEL_STATE_UPDATE);break;case actionTypes.TOGGLE_LABEL:var t=e.orgId,r=this.getLabels(t);r.forEach(function(t){var r;if(t.labels){if(t.labels.forEach(function(t){t.id===e.labelId&&(r=t)}),!r)return;e.mode===externalLabelGroupModeTypes.EDIT?r.isChecked?r.isChecked=!1:(t.labels.forEach(function(e){e.isChecked=!1}),r.isChecked=!0):e.mode===externalLabelGroupModeTypes.FILTER&&(r.isChecked=!r.isChecked)}}),this.emit(this.Events.LABEL_STATE_UPDATE)}},getLabels:function(e){var t=e||r.orgState.orgId;return this.labels[t]},fetch:function(e){var l=e||r.orgState.orgId;t.getLabelGroupModels(l,i.EXTERNAL).result.then(function(e){e.body.forEach(function(e){e.webColor=this.dealWithLabelColor(e.color),e.colorStyle={color:e.webColor},e.bgStyle={backgroundColor:e.webColor},e.labels&&e.labels.forEach(function(e){e.webColor=this.dealWithLabelColor(e.color),e.colorStyle={color:e.webColor},e.bgStyle={backgroundColor:e.webColor}}.bind(this))}.bind(this)),this.labels[l]=e.body,this.emit(this.Events.FETCH_COMPLETE)}.bind(this),function(e){localLog.info("fetch labels error",JSON.stringify(e));var t=a.instant("pc_contact_external_contact_fetch_labels_failed");o.show(t,{type:"error"})})},dealWithLabelColor:function(e){return colorTrans.transFromARGB(e)},cacheLabelIds:function(e){this.currentLabelIds=e},getLabelInfoByIds:function(e,t){e=e||r.orgState.orgId;var o=this.getLabels(e),a=[];return o.forEach(function(e){e.labels&&e.labels.forEach(function(e){t.indexOf(e.id)!==-1&&a.push(e)})}),a},Implements:EventEmitter,Events:{FETCH_COMPLETE:"fetch_complete",LABEL_STATE_UPDATE:"label_state_update"}});return new l}var moduleName=module.exports="ddWeb.contact.externalContact.labelStore",serviceName="labelStore",actionTypes=require("./labelActionTypes.js"),Class=require("../../../lib/class"),_=require("lodash"),EventEmitter=require("wolfy87-eventemitter"),colorTrans=require("../../widget/colorTrans.js"),localLog=require("../../log/localLog.js"),externalLabelGroupModeTypes=require("./externalLabelGroupModeTypes.js");angular.module(moduleName,[require("./dispatcher.js"),require("@ali/ding-api").interface.LabelI,require("../../org/orgStateManager.js"),require("../../toast/toast.js")]).factory(serviceName,["externalContactDispatcher","LabelI","orgStateManager","toastService","$translate",serviceDefine]);

},{"../../../lib/class":198,"../../log/localLog.js":421,"../../org/orgStateManager.js":541,"../../toast/toast.js":611,"../../widget/colorTrans.js":658,"./dispatcher.js":282,"./externalLabelGroupModeTypes.js":285,"./labelActionTypes.js":286,"@ali/ding-api":711,"lodash":919,"wolfy87-eventemitter":944}],288:[function(require,module,exports){
var scope={SEARCH:-1,OWNER:0,SHARED:1,SUBORDINATE:2,ALL:3,NO_OWNER:4},scopeText={0:"我负责的",1:"共享给我的",2:"我下属的",3:"全公司的",4:"无人负责的"};module.exports={scope:scope,scopeText:scopeText};

},{}],289:[function(require,module,exports){
module.exports={CONTACT:"contact",SELECTOR_PANEL:"selector_panel"};

},{}],290:[function(require,module,exports){
module.exports={ALL:"10"};

},{}],291:[function(require,module,exports){
module.exports={CONV_SPACE_NORMAL:"convSpaceNormal",CONV_SPACE_HIDDEN:"convSpaceHidden",NEW_CSPACE_ID_IM:"newCSpaceIdIM"};

},{}],292:[function(require,module,exports){
var CSpaceKey=require("./CSpaceKey"),Type={};Type[CSpaceKey.CONV_SPACE_NORMAL]=0,Type[CSpaceKey.CONV_SPACE_HIDDEN]=1,Type[CSpaceKey.NEW_CSPACE_ID_IM]=2,module.exports=Type;

},{"./CSpaceKey":291}],293:[function(require,module,exports){
"use strict";module.exports={TEXT:1,IMG:2,AUDIO:3,FILE:4,LINK:5,SHARE:102,IMG_TEXT:201,SAFETY_IMG:203,SAFETY_AUDIO:204,SAFETY_VIDEO:205,SAFETY_NORMAL_VIDEO:206,OA:300,MAIL:400,ORG_SPACE_FILE:500,IM_SPACE_FILE:501,SAFETY_IM_SPACE_FILE:502,CARD:600,EOF:-1e3,VOIP:1101,GROUP_ANNOUNCE:700,RED_ENVELOPE_ENTERPRISE:900,RED_ENVELOPE_RANDOM:901,RED_ENVELOPE_NORMAL:902,RED_ENVELOPE_SYSTEM:903,RED_ENVELOPE_ALIPAY:904};

},{}],294:[function(require,module,exports){
"use strict";var ConvType={ORDINARY_GROUP:0,JUMP:1,COMPANY_GROUP:2,SECRETARY:5,FILEHELPER:6,ANNOUNCEMENT:7,CRM_GROUP:8,ENCRYPT_CHAT:9};module.exports=ConvType;

},{}],295:[function(require,module,exports){
"use strict";var moduleName="ddWeb.conv.ConvWithSDK",WKim=require("@ali/wksdk"),groupSupportType=require("../groupSupportType/groupSupportType"),$my=require("../user/my"),ConvType=require("./ConvType"),ConvExtensionType=require("./convExtensionType"),MsgType=require("./MsgType"),SuperGroupStatus=require("./SuperGroupStatus"),_=require("lodash"),EventEmitter=require("wolfy87-eventemitter"),Class=require("../../lib/class"),localLog=require("../log/localLog"),fileCache=require("./msg/fileCache"),spaceUploadQueue=require("../api/spaceUploadQueue"),fileTypes=require("@ali/ding-filetypes"),avatarType=require("../../directive/widget/avatar/avatarType"),ConversationErrorText=require("./ErrorText"),RemindEnum=require("./RemindEnum"),nwWindow=require("../app/nwWindow"),nw=require("../app/nw"),ua=require("../ua"),messageCreatorType=WKim.messageCreatorType,messageType=WKim.messageType,BanWordsType=WKim.banWordsType,InBanBlackStatus=WKim.inBanBlackStatus,InBanWhiteStatus=WKim.inBanWhiteStatus,msgSourceFromType=require("./msgSourceFromType"),BaseMsgTag=require("./baseMsgTag"),msgContentTypeChecker=require("./msgContentTypeChecker"),ddStorage=require("../storage/ddStorage"),EVENTS=require("../events"),NAME_SCENE=require("../../service/user/NameScene"),MainScene=require("../../service/user/MainScene"),safetyEncryptFileStatus=require("../safety/safetyEncryptFileStatus"),SAFETY_PRIORITY=require("../safety/safetyPriority"),CSpaceKey=require("./CSpaceKey"),CSpaceType=require("./CSpaceType"),LocalFile=require("../../service/file/LocalFile"),ContentType=require("./ContentType"),limitConfig=require("../limitConfig"),XpnTemplateId=require("./xpnTemplateId"),AnHengResCode=require("../safety/anHengResCode"),RemindPriority=[RemindEnum.EMPTY,RemindEnum.FOLLOW,RemindEnum.ANNOUNCE,RemindEnum.AT_ALL,RemindEnum.RED_ENVELOPE_ENTERPRISE,RemindEnum.DRAFT,RemindEnum.AT],id=0;angular.module(moduleName,[require("../user/userManager"),require("./msgInstanceHelper"),require("./ImgList"),require("./msgInstanceHelper"),require("../toast/toast"),require("./msg/MsgWithSDK"),require("../audio"),require("@ali/ding-api").interface.IMI,require("@ali/ding-api").interface.ContactI,require("@ali/ding-api").interface.CSpace,require("../widget/emailOpenService"),require("../email/emailNotify"),require("../notification"),require("../microApp/microAppData"),require("../api/SpaceUpload"),require("../safety/safetyLog"),require("../../filter/secondTohhmmss"),require("../file/fileHelper"),require("../safety/fileEncryptor"),require("../../service/error/conversationError"),require("../../service/log/imLog")]).factory("ConvWithSDK",["$rootScope","$filter","msgInstanceHelper","toastService","ImgList","userManager","MsgWithSDK","audioService","IMI","ContactI","CSpace","emailOpenService","emailNotify","notification","microAppData","SpaceUpload","safetyLog","$fileHelper","$translate","fileEncryptor","vipLogManager","conversationError","imLog",function(e,t,n,i,s,a,r,o,d,h,p,c,u,l,g,T,E,m,f,v,y,S,I){var C=groupSupportType.conversation.allowedShowJumpType,M=groupSupportType.conversation.fullSupportGroupType,A={dt_message_decrypt_error_dismission:f.instant("dt_message_decrypt_error_dismission"),dt_message_decrypt_error_no_key:f.instant("dt_message_decrypt_error_no_key"),pc_safety_upgrade_tips:f.instant("pc_safety_upgrade_tips"),and_im_encrypt_decrypt_error_prefix:f.instant("and_im_encrypt_decrypt_error_prefix")},N=Class.create({initialize:function(e,t){if(this.sdkConv=e,this.myuid=$my.uid,this.baseConversation=e.baseConversation,this.convId=e.cid,this.updateTime=0,this._lastMsgId=0,this._lastMsgIdIncre=0,this._lastMsgSender=null,this.lastMessageContent="",this.lastMessageType="",this.msgIds=[],this.showSize=0,this.recentAtUids=[],this.newMsg=e.baseConversation.unreadPoint,this.isSingleChat=e.isSingleChat,this.notificationOff=this.sdkConv.baseConversation.notificationOff,this.hasNewMsgButNotNotify=!1,this.isToMySelf=e.isToMySelf,this.isShowTyping=!1,this.isOAConv=!1,this.isGroupShowRealName=!1,this.EventEmitter=new EventEmitter,this.EVENTS={TYPING_SHOW:"typing_show",UPDATE_BASE_CONV:"update_base_conv",GROUP_VALIDATION_UPDATE:"group_validation_update",UPDATE_MSG:"update_msg",NOTIFICATION_STATUS_CHANGE:"notification_status_change",UPDATE_TITLE:"update_title",AUTHORITY_UPDATE:"authority_update",SORT_UPDATE:"sort_update",MEMBER_COUNT_UPDATE:"member_count_update",OWNER_ID_UPDATE:"owner_id_update",REMIND_TYPE_UPDATE:"remind_type_update",SAVE_DRAFT:"save_draft",LAST_MSG_REMIND_UPDATE:"last_msg_remind_update",SHOW_HISTORY_TYPE_UPDATE:"show_history_type_update",UPDATE_BAN_WORDS_STATUS:"update_ban_words_status",UNREAD_POINT_UPDATE:"unread_point_update"},this.isSingleChat===!0){var i=this.convId.split(":");this.oppositeUid=this.myuid===parseInt(i[0],10)?parseInt(i[1],10):parseInt(i[0],10),this.baseConversation.icon="uids:"+this.oppositeUid+";",a.getUsers([this.oppositeUid]).then(function(e){var t=e[0];if(localLog.info("ConvWithSDK get user success",this.oppositeUid),t){this.baseConversation.title=t.remarkNameObj.alias||t.userProfileModel.nick,this.EventEmitter.emit(this.EVENTS.UPDATE_TITLE,this.baseConversation.title),localLog.info("ConvWithSDK set Title success",this.oppositeUid);var n=function(){this.baseConversation.title=t.remarkNameObj.alias||t.userProfileModel.nick,this.EventEmitter.emit(this.EVENTS.UPDATE_TITLE,this.baseConversation.title),localLog.info("ConvWithSDK set Title",this.convId)}.bind(this);t.addListener(t.EventsName.ALIAS_UPDATE,n),t.addListener(t.EventsName.PROFILE_UPDATE,n)}}.bind(this)).catch(function(e){localLog.error("ConvWithSDK get user fail",e)})}if(this.allowedShow=!0,this.isDiscard=!1,this.remindType=this.sdkConv._local.remindType||RemindEnum.EMPTY,this.draft=this.sdkConv._local.draft,this.isSingleChat){var i=this.convId.split(":").map(function(e){return parseInt(e,10)});i[0]>i[1]&&(this.allowedShow=!1,this.isDiscard=!0)}this.isCompanyGroup=!1,this.isAllUserGroup=!1,this.isDeptGroup=!1,this.isSafetySingle=!1,this.orgId=_.get(this.baseConversation,"extension.id"),this._tagHandle(),this.safetyAppId=null,this.isSafety=!1,this.hasTryDecrypt=!1,this.hasPullBanInfo=!1,this.AT_NOTI_CACHE=[],this.EMAIL_NOTI=[],this.ANNOUNCE_NOTI=[],this._lastMsg=null,this._handleLastMsgChangeBindThis=this._handleLastMsgChange.bind(this),this._handleMsgUpdateBindThis=this._updateMessages.bind(this),this._handleUnreadPointUpdateBindThis=this.handleUnreadPointUpdate.bind(this),this._handleNotificationUpdateBindThis=this.handleNotificationUpdate.bind(this),this._handleAuthorityUpdateBindThis=this.handleAuthorityUpdate.bind(this),this._handleGroupValidationUpdateBindThis=this.handleGroupValidationUpdate.bind(this),this._handleIconUpdateBindThis=this.handleIconUpdate.bind(this),this._handleTitleUpdateBindThis=this.handleTitleUpdate.bind(this),this._handleSortUpdateBindThis=this.handleSortUpdate.bind(this),this._handleExtensionUpdateBindThis=this.handleExtensionUpdate.bind(this),this._handleMemberCountUpdateBindThis=this.handleMemberCountUpdate.bind(this),this._handleOwnerIdUpdateBindThis=this.handleOwnerIdUpdate.bind(this),this._handleTypingStatusUpdateBindThis=this.handleTypingStatusUpdate.bind(this),this._handleReceiveNewMessageBindThis=this.handleReceiveNewMessage.bind(this),this._handleTagUpdateBindThis=this.handleTagUpdate.bind(this),this._handleShowHistoryTypeUpdateBindThis=this.handleShowHistoryTypeUpdate.bind(this),this._handleBanWordsStatusUpdateBindThis=this.handleBanWordsStatusUpdate.bind(this),this.messages=[],this.imgMsgList=new s(this),this.avatarType=this.isSingleChat?avatarType.SINGLE:avatarType.MULTI,e.messages.length>0&&this._genLastMsg(n.instance(e.messages[e.messages.length-1])),this.updateSafetyAppBindThis=this.updateSafetyApp.bind(this),this.updateSafetyAppBindThis(),this._initListener()},updateSafetyApp:function(){return this.orgId?g.getSafetyApp(this.orgId).then(function(e){return this.safetyAppId=e,this.isSafety=!0,Promise.resolve()}.bind(this)).catch(function(){return this.safetyAppId=null,this.isSafety=!1,Promise.resolve()}.bind(this)):(this.safetyAppId=null,this.isSafety=!1,Promise.resolve())},isFileHelper:function(){var e,t=4248001;return e=t<this.myuid?[t,this.myuid].join(":"):[this.myuid,t].join(":"),e===this.convId},_tagHandle:function(){var e=this.baseConversation.tag;if(e&&(M.indexOf(e)!==-1?this.allowedShow=!0:this.allowedShow=!1),e===ConvType.JUMP&&(this.isRedirectType=!0,this.allowedShow=!1,this.baseConversation.extension&&C.indexOf(this.baseConversation.extension.type)!==-1&&(this.allowedShow=!0)),e===ConvType.ANNOUNCEMENT&&(this.isOAConv=!0),e===ConvType.FILEHELPER&&(this.baseConversation.extension&&"1"===this.baseConversation.extension.show_in_web?(this.baseConversation.extension.type===ConvExtensionType.GROUPREQUEST&&(this.isRedirectType=!0),this.allowedShow=!0):this.allowedShow=!1),e===ConvType.ENCRYPT_CHAT&&this.orgId&&g.getSafetyApp(this.orgId).then(function(e){this.isSafetySingle=!0}.bind(this)).catch(function(){}.bind(this)),e===ConvType.COMPANY_GROUP&&this.baseConversation.extension){var t=this.baseConversation.extension.id;if(t){this.orgId=t;var n=$my.getOrgByOid(t);this.isGroupShowRealName=_.get(n,"orgDetail.organizationSettingsModel.groupRealName",!1)}this.isCompanyGroup=!0,this.isAllUserGroup="1"===_.get(this,"baseConversation.extension.isAllUsrGrp"),this.isDeptGroup=!!_.get(this,"baseConversation.extension.deptId")&&!this.isAllUserGroup}else this.isCompanyGroup=!1,this.isAllUserGroup=!1,this.isDeptGroup=!1;this._initRedirectType()},_initRedirectType:function(){this.isRedirectType&&this.baseConversation.extension&&this.baseConversation.extension.type===ConvExtensionType.EMAIL&&u.emit(u.EventsName.SHOW_EMAIL,this)},handleUnreadPointUpdate:function(t){var n=this.newMsg;this.newMsg=t.unreadPoint,0===this.newMsg&&(localLog.info("clear at noti cache, clear email noti, clear remind type, because new msg reset to 0",this.convId),this.AT_NOTI_CACHE=[],this.EMAIL_NOTI=[],this.ANNOUNCE_NOTI=[],this._clearRemindType(),this.draft&&this._setRemindType(RemindEnum.DRAFT)),WKim.syncSinglePackageActionMerge.registerAction("unread_point_update_"+this.convId,function(){this.EventEmitter.emit(this.EVENTS.UNREAD_POINT_UPDATE),this.sdkConv.isActive&&"hidden"!==nwWindow.visibilityState||!this.notificationOff&&this.baseConversation.superGroup!==SuperGroupStatus.SUPER&&this.newMsg>n&&this.allowedShow&&(o.play("message"),nw.setRequestAttention())}.bind(this)),WKim.syncSinglePackageActionMerge.registerAction("all_new_msg_count_change",function(){e.$broadcast(EVENTS.NEW_MSG_COUNT_CHANGE)}.bind(this))},handleNotificationUpdate:function(){this.notificationOff=this.sdkConv.baseConversation.notificationOff,this.EventEmitter.emit(this.EVENTS.NOTIFICATION_STATUS_CHANGE,this.notificationOff)},handleAuthorityUpdate:function(){this.EventEmitter.emit(this.EVENTS.AUTHORITY_UPDATE)},handleTagUpdate:function(){this._tagHandle(),this.EventEmitter.emit(this.EVENTS.UPDATE_BASE_CONV)},handleGroupValidationUpdate:function(){this.EventEmitter.emit(this.EVENTS.GROUP_VALIDATION_UPDATE)},handleIconUpdate:function(){this.EventEmitter.emit(this.EVENTS.UPDATE_BASE_CONV)},handleTitleUpdate:function(){this.EventEmitter.emit(this.EVENTS.UPDATE_TITLE)},handleSortUpdate:function(){this.EventEmitter.emit(this.EVENTS.SORT_UPDATE)},handleExtensionUpdate:function(){this.orgId=_.get(this.baseConversation,"extension.id"),this._tagHandle(),this.updateSafetyAppBindThis(),this.EventEmitter.emit(this.EVENTS.UPDATE_BASE_CONV)},handleMemberCountUpdate:function(){this.EventEmitter.emit(this.EVENTS.MEMBER_COUNT_UPDATE)},handleShowHistoryTypeUpdate:function(){this.EventEmitter.emit(this.EVENTS.SHOW_HISTORY_TYPE_UPDATE)},handleOwnerIdUpdate:function(){this.EventEmitter.emit(this.EVENTS.OWNER_ID_UPDATE)},handleTypingStatusUpdate:function(e){e===WKim.typingStatus.TYPING?this.isShowTyping=!0:this.isShowTyping=!1,this.EventEmitter.emit(this.EVENTS.TYPING_SHOW,this.isShowTyping)},handleReceiveNewMessage:function(t){var i=this,s=t.message;if((msgContentTypeChecker.hasAtMe(s)||msgContentTypeChecker.hasAtAll(s))&&(this.AT_NOTI_CACHE.push(t),localLog.info("receive sone one at me event",_.get(s,"baseMessage.messageId")),this.newMsg>0&&(msgContentTypeChecker.hasAtMe(s)?this._setRemindType(RemindEnum.AT):this._setRemindType(RemindEnum.AT_ALL)),WKim.syncMultiPackageActionMerge.registerAction("been_at_"+this.convId,function(){if(this.AT_NOTI_CACHE.length>0){var t=this.AT_NOTI_CACHE;this.AT_NOTI_CACHE=[],this.newMsg>0&&t.forEach(function(t){var s=t.message,r=_.get(s,"baseMessage.openIdEx.openId");a.getUsers([r]).then(function(t){if(0!==t.length){var a=t[0],r=i.getScene(MainScene.CHAT);a.getName(i.convId,r,{oid:i.orgId}).then(function(t){var i={name:t,text:n.instance(s).getContent().textContent.text,tip:""};l.notify(i,function(){e.$broadcast("leftpannel.openChatByGroup",{conversationId:this.convId,messageId:s.baseMessage.messageId}),ua.isDesktop&&nwWindow.activeWindow()}.bind(this))}.bind(this))}}.bind(this)),localLog.info("start notification messageId is "+s.baseMessage.messageId,"conv id is "+this.convId)}.bind(this))}}.bind(this))),_.get(s,"baseMessage.content.contentType")===ContentType.RED_ENVELOPE_ENTERPRISE&&0!==this.newMsg&&this._setRemindType(RemindEnum.RED_ENVELOPE_ENTERPRISE),s.baseMessage.creatorType!==messageCreatorType.SYSTEM&&s.baseMessage.openIdEx&&s.baseMessage.openIdEx.openId&&s.baseMessage.openIdEx.openId!==i.myuid){var r=WKim.followService.getFollowRelationByOpenId(s.baseMessage.openIdEx.openId);!r||r.status!==WKim.followService.FOLLOW_STATUS.FOLLOWING&&r.status!==WKim.followService.FOLLOW_STATUS.FOLLOW_EACH_OTHER||0!==this.newMsg&&this._setRemindType(RemindEnum.FOLLOW)}if(s.baseMessage.content.contentType===ContentType.GROUP_ANNOUNCE&&(this.ANNOUNCE_NOTI.push(t),0!==this.newMsg&&this._setRemindType(RemindEnum.ANNOUNCE),WKim.syncMultiPackageActionMerge.registerAction("receive_announce_"+this.convId,function(){if(this.ANNOUNCE_NOTI.length>0){var t=this.ANNOUNCE_NOTI;this.ANNOUNCE_NOTI=[],this.newMsg>0&&t.forEach(function(t){var s=t.message,r=_.get(s,"baseMessage.openIdEx.openId");a.getUsers([r]).then(function(t){if(0!==t.length){var a=t[0],r=i.getScene(MainScene.CHAT);a.getName(i.convId,r,{oid:i.orgId}).then(function(t){var i={name:t,text:"[群公告] "+_.get(n.instance(s).getContent(),"attachments[0].extension.text"),tip:""};l.notify(i,function(){e.$broadcast("leftpannel.openChatByGroup",{conversationId:this.convId,messageId:s.baseMessage.messageId}),ua.isDesktop&&nwWindow.activeWindow()}.bind(this))}.bind(this))}}.bind(this))}.bind(this))}}.bind(this))),this.isRedirectType&&this.baseConversation.extension&&this.baseConversation.extension.type===ConvExtensionType.EMAIL&&s.baseMessage.extension&&"5"!==s.baseMessage.extension.folderType&&(this.EMAIL_NOTI.push(s),WKim.syncMultiPackageActionMerge.registerAction("receive_new_email_"+this.convId,function(){var e="true"==ddStorage.getItemWithUid("dingEmailNotification");if(e&&this.EMAIL_NOTI.length>0){var t=this.EMAIL_NOTI;if(this.EMAIL_NOTI=[],t.length>5){var n={name:"新邮件提醒",text:"您有新邮件，请注意查收",tip:"",type:"mail"};l.notify(n,function(){c.openEmail(),this.clearNewMsg()}.bind(this))}else t.forEach(function(e){var t={name:"",text:"",tip:"",type:"mail"};t.name=e.baseMessage.extension&&e.baseMessage.extension.fromName?"【"+e.baseMessage.extension.fromName+"】":t.name,t.name+=e.baseMessage.extension&&e.baseMessage.extension.subject?e.baseMessage.extension.subject:"【无主题】",t.text=e.baseMessage.extension&&e.baseMessage.extension.summary?e.baseMessage.extension.summary:"",l.notify(t,function(){c.openEmail(),this.clearNewMsg()}.bind(this))}.bind(this))}}.bind(this)),localLog.info("receive email msg",s.baseMessage.messageId),u.emit(u.EventsName.SHOW_EMAIL,this)),s.baseMessage.tag===BaseMsgTag.DROP_MSG){var o=s.baseMessage.createdAt;this.sdkConv.cleanMsgFromCreatedAt(o)}},isInBanBlack:function(){return this.baseConversation.inBanBlack===InBanBlackStatus.ON&&this.baseConversation.banWordsTime-Date.now()>0},getBanWordsStatus:function(){var e=this.baseConversation.ownerId===this.myuid;return!e&&(!!this.isInBanBlack()||this.baseConversation.banWordsType===BanWordsType.ON&&this.baseConversation.inBanWhite===InBanWhiteStatus.OFF)},handleBanWordsStatusUpdate:function(){this.getBanWordsStatus()?this.remindType===RemindEnum.DRAFT&&this._clearRemindType():this.draft&&this.saveDraft(this.draft),this._genLastMsg(this._lastMsg),this.EventEmitter.emit(this.EVENTS.UPDATE_BAN_WORDS_STATUS)},_initListener:function(){var e=this.sdkConv;e.addListener(e.EventsName.UNREAD_POINT_UPDATE,this._handleUnreadPointUpdateBindThis),e.addListener(e.EventsName.NOTIFICATION_STATUS_UPDATE,this._handleNotificationUpdateBindThis),e.addListener(e.EventsName.AUTHORITY_UPDATE,this._handleAuthorityUpdateBindThis),e.addListener(e.EventsName.TAG_UPDATE,this._handleTagUpdateBindThis),e.addListener(e.EventsName.GROUP_VALIDATION_UPDATE,this._handleGroupValidationUpdateBindThis),e.addListener(e.EventsName.ICON_UPDATE,this._handleIconUpdateBindThis),e.addListener(e.EventsName.TITLE_UPDATE,this._handleTitleUpdateBindThis),e.addListener(e.EventsName.SORT_UPDATE,this._handleSortUpdateBindThis),e.addListener(e.EventsName.EXTENSION_UPDATE,this._handleExtensionUpdateBindThis),e.addListener(e.EventsName.MEMBER_COUNT_UPDATE,this._handleMemberCountUpdateBindThis),e.addListener(e.EventsName.OWNER_ID_UPDATE,this._handleOwnerIdUpdateBindThis),e.addListener(e.EventsName.PEER_TYPING_STATUS_UPDATE,this._handleTypingStatusUpdateBindThis),e.addListener(e.EventsName.MESSAGES_UPDATE,this._handleMsgUpdateBindThis),e.addListener(e.EventsName.RECEIVE_NEW_MESSAGE,this._handleReceiveNewMessageBindThis),e.addListener(e.EventsName.SHOW_HISTORY_TYPE_UPDATE,this._handleShowHistoryTypeUpdateBindThis),e.addListener(e.EventsName.BAN_WORDS_STATUS_UPDATE,this._handleBanWordsStatusUpdateBindThis),g.addListener(g.EventsName.UPDATE,this.updateSafetyAppBindThis),$my.addListener($my.EventsName.update,this.updateSafetyAppBindThis)},removeListener:function(){var e=this.sdkConv;e.removeListener(e.EventsName.UNREAD_POINT_UPDATE,this._handleUnreadPointUpdateBindThis),e.removeListener(e.EventsName.NOTIFICATION_STATUS_UPDATE,this._handleNotificationUpdateBindThis),e.removeListener(e.EventsName.AUTHORITY_UPDATE,this._handleAuthorityUpdateBindThis),e.removeListener(e.EventsName.TAG_UPDATE,this._handleTagUpdateBindThis),e.removeListener(e.EventsName.GROUP_VALIDATION_UPDATE,this._handleGroupValidationUpdateBindThis),e.removeListener(e.EventsName.ICON_UPDATE,this._handleIconUpdateBindThis),e.removeListener(e.EventsName.TITLE_UPDATE,this._handleTitleUpdateBindThis),e.removeListener(e.EventsName.SORT_UPDATE,this._handleSortUpdateBindThis),e.removeListener(e.EventsName.EXTENSION_UPDATE,this._handleExtensionUpdateBindThis),e.removeListener(e.EventsName.MEMBER_COUNT_UPDATE,this._handleMemberCountUpdateBindThis),e.removeListener(e.EventsName.OWNER_ID_UPDATE,this._handleOwnerIdUpdateBindThis),e.removeListener(e.EventsName.PEER_TYPING_STATUS_UPDATE,this._handleTypingStatusUpdateBindThis),e.removeListener(e.EventsName.MESSAGES_UPDATE,this._handleMsgUpdateBindThis),e.removeListener(e.EventsName.RECEIVE_NEW_MESSAGE,this._handleReceiveNewMessageBindThis),e.removeListener(e.EventsName.SHOW_HISTORY_TYPE_UPDATE,this._handleShowHistoryTypeUpdateBindThis),e.removeListener(e.EventsName.BAN_WORDS_STATUS_UPDATE,this._handleBanWordsStatusUpdateBindThis),g.removeListener(g.EventsName.UPDATE,this.updateSafetyAppBindThis),$my.removeListener($my.EventsName.update,this.updateSafetyAppBindThis)},_updateMessages:function(){if(this.sdkConv.isActive){var e={};this.messages.forEach(function(t){e[t.getId()]=t}),this.messages=this.sdkConv.messages.map(function(t){var i=t.getId();return e[i]?e[i]:n.instance(t)}.bind(this)),this.EventEmitter.emit(this.EVENTS.UPDATE_MSG)}var t=this._calLastMsg();return this._genLastMsg(t),this.messages},_calLastMsg:function(){var e=null,t=[];if(this.messages.length>0)t=this.messages;else{if(!(this.sdkConv.messages.length>0))return e;t=this.sdkConv.messages}for(var i=t.length-1;i>=0;){if(t[i].sdkMsg)var s=t[i];else var s=n.instance(t[i]);if(!s.isDel()){e=s;break}i--}return e},active:function(e){I.active(this);var t=this.sdkConv.active(e);return setTimeout(function(){if(this._handleMsgUpdateBindThis(),this.isRedirectType&&this.messages.length>0){var e=this.messages[this.messages.length-1].getId();this.updateToRead(e,e)}!this.hasPullBanInfo&&this.getBanWordsStatus()&&(this.hasPullBanInfo=!0,this.sdkConv.getDataFromServer(["banWordsType","inBanWhite","inBanBlack","banWordsTime"])),this.hasTryDecrypt===!1&&this.isSingleChat&&g.hasJoinSafetyOrg().then(function(e){return this.hasTryDecrypt=!0,e?void this.sdkConv.pullSafetyInfo().then(function(e){this._tagHandle(),this.updateSafetyAppBindThis().then(function(){this.messages.forEach(function(e){e.decrypt()})}.bind(this))}.bind(this)):Promise.resolve()}.bind(this))}.bind(this),10),t},deactive:function(){return I.deactive(this),this.messages=[],this.sdkConv.deactive()},setUIVisibleStatus:function(e){return this.sdkConv.setUIVisibleStatus(e)},search:function(e){return this.sdkConv.search(e)},clearSearchResult:function(){return this.sdkConv.clearSearchResult()},getIMSpaceKey:function(e){var t;switch(e){case ContentType.SAFETY_NORMAL_VIDEO:case ContentType.SAFETY_VIDEO:case ContentType.SAFETY_IMG:t=CSpaceKey.CONV_SPACE_NORMAL;break;case ContentType.SAFETY_AUDIO:t=CSpaceKey.CONV_SPACE_HIDDEN;break;default:t=CSpaceKey.NEW_CSPACE_ID_IM}return t},getIMSpaceIdByKey:function(e){var t=this,n=_.get(t,"baseConversation.extension."+e);if(n)return Promise.resolve(n);var i=CSpaceType[e];return p.getConversationSpace(this.convId,i).result.then(function(n){return _.set(t,"baseConversation.extension."+e,n.body),Promise.resolve(n.body)})},getIMSpaceId:function(){var e=this,t=_.get(e,"baseConversation.extension.newCSpaceIdIM");if(t)return Promise.resolve(t);if(this.isSingleChat)var n=e.convId;else var n=e.baseConversation.title;return new Promise(function(t,i){h.generateCSpaceIdAndConsistent(null,e.convId,n,function(n){200===n.code?(t(n.body),_.set(e,"baseConversation.extension.newCSpaceIdIM",n.body)):i(n)})})},getTitle:function(e){var t=this,n=t.baseConversation;if(n.title)return void(e&&e(n.title));var i=function(){e(n.title),t.EventEmitter.removeListener(t.EVENTS.UPDATE_TITLE,i)};t.EventEmitter.addListener(t.EVENTS.UPDATE_TITLE,i)},saveDraft:function(e){var e=e||"";e=e.trim(),e?(this.draft=e,this.sdkConv.saveDraft(e),this._setRemindType(RemindEnum.DRAFT)):this.draft&&(this.draft=null,this.sdkConv.saveDraft(null),this.remindType===RemindEnum.DRAFT&&this._clearRemindType())},updateToRead:function(e,t){for(var n=this.messages.length,i=!1;n>0;){n--;var s=this.messages[n],a=s.getId();if(a===t&&(i=!0),i!==!0||s.needDecrypt()||s.isSafetyFile()||s.updateToRead(),s.needDecrypt()&&E.asyncAlarm(s.getId(),"会话里消息解密失败"),a===e){i=!1;break}}},pullHistory:function(){return this.sdkConv.pullHistory()},_updateLastMsgInfo:function(e,t,n,i,s){e&&e<this._lastMsgId||(this.updateTime=t,this._lastMsgId=e,(this.isSingleChat||this.isOAConv)&&(n=null),n?this.lastMessageContent=s?n+": "+i:n+i:this.lastMessageContent=i,WKim.syncSinglePackageActionMerge.registerAction("genLastMsg"+this.convId,function(){this.EventEmitter.emit(this.EVENTS.LAST_MSG_REMIND_UPDATE)}.bind(this)))},getMembers:function(e){return this.sdkConv.getMembers().then(function(t){return e&&e(t),t}.bind(this)).catch(function(e){return Promise.reject(e)})},inputTextHasChanged:function(e){return this.sdkConv.inputTextHasChanged(e)},_setRemindType:function(e){if(this.sdkConv.isActive)return!1;var t=RemindPriority.indexOf(e),n=RemindPriority.indexOf(this.remindType);t>=n&&(this.remindType=e,this._genLastMsg(this._lastMsg),this.sdkConv.setRemindType(e))},_clearRemindType:function(){this.remindType=RemindEnum.EMPTY,this._genLastMsg(this._lastMsg),this.sdkConv.setRemindType(RemindEnum.EMPTY)},_handleLastMsgChange:function(){this._genLastMsg(this._calLastMsg())},_getAuthor:function(e){var t=_.get(e,"baseMessage.openIdEx.openId");return a.getUsers([t]).then(function(e){if(e[0]){var t=e[0];this._lastMsgSender=t,this._lastMsgSender.addListener(this._lastMsgSender.EventsName.GROUP_NICK_UPDATE+this.convId,this._handleLastMsgChangeBindThis),this._lastMsgSender.addListener(this._lastMsgSender.EventsName.ALIAS_UPDATE,this._handleLastMsgChangeBindThis),this._lastMsgSender.addListener(this._lastMsgSender.EventsName.PROFILE_UPDATE,this._handleLastMsgChangeBindThis);var n=this.getScene(MainScene.CHAT);return t.getName(this.convId,n,{oid:this.orgId}).then(function(e){return Promise.resolve(e)}.bind(this))}return Promise.resolve("")}.bind(this)).catch(function(){return Promise.resolve("")})},_genLastMsg:function(e){var n=this,i=this._lastMsgIdIncre++;if(this.getBanWordsStatus()?this.remindType===RemindEnum.DRAFT&&(this.remindType=RemindEnum.EMPTY):this.draft&&this.remindType===RemindEnum.DRAFT,this.remindType===RemindEnum.DRAFT)return void this._updateLastMsgInfo(i,new Date-0,null,this.draft,!0);if(!e)return void this._updateLastMsgInfo(i,(new Date).getTime(),null,"",!0);var s=e;this._lastMsg&&s.getId()===this._lastMsg.getId()||(this._lastMsg&&this._lastMsg.removeListener(this._lastMsg.EventsName.RECALL_STATUS_CHANGE,this._handleLastMsgChangeBindThis),this._lastMsg&&this._lastMsg.removeListener(this._lastMsg.EventsName.DECRYPT_STATUS_CHANGE,this._handleLastMsgChangeBindThis),this._lastMsg&&this._lastMsg.removeListener(this._lastMsg.EventsName.DELETED_CHANGE,this._handleLastMsgChangeBindThis),this._lastMsg=s,s.addListener(s.EventsName.RECALL_STATUS_CHANGE,this._handleLastMsgChangeBindThis),s.addListener(s.EventsName.DECRYPT_STATUS_CHANGE,this._handleLastMsgChangeBindThis),s.addListener(s.EventsName.DELETED_CHANGE,this._handleLastMsgChangeBindThis)),this._lastMsgSender&&(this._lastMsgSender.removeListener(this._lastMsgSender.EventsName.GROUP_NICK_UPDATE+this.convId,this._handleLastMsgChangeBindThis),this._lastMsgSender.removeListener(this._lastMsgSender.EventsName.ALIAS_UPDATE,this._handleLastMsgChangeBindThis),this._lastMsgSender.removeListener(this._lastMsgSender.EventsName.PROFILE_UPDATE,this._handleLastMsgChangeBindThis),this._lastMsgSender=null);var n=this,a="",r=null,o=!0;if(e.isDel()){var d=this._calLastMsg();if(!d)return void n._updateLastMsgInfo(i,(new Date).getTime(),r,a);e=d}if(1===s.baseMessage.recallStatus)s.isMySend()?(a="你撤回了一条消息",n._updateLastMsgInfo(i,s.baseMessage.createdAt,r,a,o)):(a="撤回了一条消息",n._getAuthor(s).then(function(e){n._updateLastMsgInfo(i,s.baseMessage.createdAt,e,a,o)}));else if(s&&s.baseMessage&&s.baseMessage.content){var h=s.getContent(),p=h.contentType;if(p===ContentType.TEXT)a=h.textContent.text;else if(p===ContentType.IMG||p===ContentType.SAFETY_IMG)a=s.isEmotion()?"[表情]":"[图片]";else if(p===ContentType.VOIP){var c=h.attachments[0].extension.duration;a=0===parseInt(c)?"[语音通话]未接通，点击重拨":"[语音通话]通话时长 "+t("secondTohhmmss")(c)}else if(p===ContentType.AUDIO||p===ContentType.SAFETY_AUDIO)a="[语音]";else if(p===ContentType.FILE||p===ContentType.ORG_SPACE_FILE||p===ContentType.IM_SPACE_FILE||p===ContentType.SAFETY_IM_SPACE_FILE)a="[文件]";else if(p===ContentType.SHARE)a="[分享]";else if(p===ContentType.OA)a="[微应用消息]",h.attachments.length&&h.attachments[0].extension&&h.attachments[0].extension.h_tl&&(a="["+h.attachments[0].extension.h_tl+"]");else if(p===ContentType.MAIL)a="[邮件]";else if(p===ContentType.CARD)a="[名片]";else if(p===ContentType.GROUP_ANNOUNCE)a=_.get(h,"attachments[0].extension.text")||"";else if([ContentType.RED_ENVELOPE_RANDOM,ContentType.RED_ENVELOPE_NORMAL,ContentType.RED_ENVELOPE_SYSTEM,ContentType.RED_ENVELOPE_ALIPAY].indexOf(p)>-1)a="[红包]";else if(p===ContentType.RED_ENVELOPE_ENTERPRISE){var u=[];try{u=_.get(h,"attachments[0].extension.receivers")}catch(e){}u.indexOf(n.myuid)!==-1?(a="给你发了红包",o=!1):a=_.get(h,"attachments[0].extension.congrats")}else a=p===ContentType.IMG_TEXT?_.get(h,"attachments[0].extension.title")||"":"";if(s&&s.needDecrypt())if(E.asyncAlarm(s.getId(),"lastMsg解密失败"),s.canBeDecrypt()){var l=!$my.getOrgByOid(_.get(s,"baseMessage.extension.oid"));if(l)a=A.dt_message_decrypt_error_dismission;else{var g=E.getStack(s.getId())||{};a=!g.code||g.code!==AnHengResCode.DTMsgRetLocalKeyIsOnRequestButNotReturn&&g.code!==AnHengResCode.DTMsgRetLocalKeyNoExists?A.and_im_encrypt_decrypt_error_prefix:A.dt_message_decrypt_error_no_key}}else a=A.pc_safety_upgrade_tips;_.get(s,"baseMessage.openIdEx.openId")!==n.myuid&&1===s.baseMessage.creatorType||p===ContentType.RED_ENVELOPE_ENTERPRISE?n._getAuthor(s).then(function(e){n._updateLastMsgInfo(i,s.baseMessage.createdAt,e,a,o)}):n._updateLastMsgInfo(i,s.baseMessage.createdAt,r,a,o)}},getOrgData:function(){var e=_.get(this,"baseConversation.extension.id");if(!e)return localLog.error("getOrgData error no orgId"),Promise.reject(new Error("no orgId"));var t=$my.getOrgByOid(e);return t?Promise.resolve(t):(localLog.error("getOrgData error, can not find org data"),Promise.reject(new Error("can not find org data")))},getXpnTemplateId:function(e){if(this.isSafety){var t;switch(e){case ContentType.TEXT:t=this.isSingleChat?XpnTemplateId.TEXT_SINGLE:XpnTemplateId.TEXT;break;case ContentType.SAFETY_IMG:t=this.isSingleChat?XpnTemplateId.SAFETY_IMG_SINGLE:XpnTemplateId.SAFETY_IMG;break;case ContentType.SAFETY_AUDIO:t=this.isSingleChat?XpnTemplateId.SAFETY_AUDIO_SINGLE:XpnTemplateId.SAFETY_AUDIO;break;case ContentType.SAFETY_VIDEO:t=this.isSingleChat?XpnTemplateId.SAFETY_VIDEO_SINGLE:XpnTemplateId.SAFETY_VIDEO;break;case ContentType.SAFETY_NORMAL_VIDEO:t=this.isSingleChat?XpnTemplateId.SAFETY_NORMAL_VIDEO_SINGLE:XpnTemplateId.SAFETY_NORMAL_VIDEO;break;case ContentType.SAFETY_IM_SPACE_FILE:t=this.isSingleChat?XpnTemplateId.SAFETY_IM_SPACE_SINGLE:XpnTemplateId.SAFETY_IM_SPACE}return t}},sendTextMsg:function(e,t){I.sendMsg(this);var t=t||{},n={};return this.safetyAppId&&(n.extension={safety_app_id:this.safetyAppId},n.type=messageType.ENCRYPTED,n.xpnModel={templateId:this.getXpnTemplateId(ContentType.TEXT)}),this.sdkConv.sendTextMsg(e,t.atOpenIds,n).catch(S.handleSendMsgError)},_sendImgMsg:function(e,t){return t?this.sdkConv.sendImgMsgWithMediaId(t).catch(S.handleSendMsgError):m.getExif(e).then(function(e){return this.sdkConv.sendImgMsg(e).catch(S.handleSendMsgError)}.bind(this))},sendImgMsg:function(e,t){return I.sendMsg(this),this.isSafety&&e?this.getOrgData().then(function(n){var i=_.get(n,"orgDetail.organizationSettingsModel.thirdPartyEncryptFileAudioImage")||!1;if(i){var s=_.get(n,"orgDetail.organizationSettingsModel.thirdPartyEcryptPriority"),a=0;return m.getExif(e).then(function(){return a=e.orientation,Promise.resolve(e)}).then(function(e){return m.fileObjectToFile(e).then(function(e){return m.getImgObj(e).then(function(t){return this.sendCustomMsgByFile(e,ContentType.SAFETY_IMG,{extension:{path:e.path,p_width:String(t.width),p_height:String(t.height),orientation:String(a),appId:this.safetyAppId,oid:this.orgId,isEncrypt:safetyEncryptFileStatus.FALSE,priority:s?SAFETY_PRIORITY.third:SAFETY_PRIORITY.dingTalk}})}.bind(this))}.bind(this))}.bind(this))}return this._sendImgMsg(e,t)}.bind(this)):this._sendImgMsg(e,t)},sendSpaceFileMsg:function(e,t){return I.sendMsg(this),e?this.sendSpaceFileMsgByFile(e).catch(S.handleSendMsgError):t?this.sendSpaceFileBySpaceFileObj(t).catch(S.handleSendMsgError):void 0},sendSpaceFileBySpaceFileObj:function(e,t){var t=t||{},n=e.name,i={contentType:1===e.encrypt?ContentType.SAFETY_IM_SPACE_FILE:ContentType.IM_SPACE_FILE,attachments:[{extension:{f_name:n,f_size:e.size+"",f_type:fileTypes.getTypeByName(n),path:e.path,s_id:e.spaceId,f_id:e.id,cid:this.convId},isPreload:0,size:0,type:0,url:""}]};if(this.isCompanyGroup&&this.baseConversation&&this.baseConversation.extension&&this.baseConversation.extension.id){var s=this.baseConversation.extension.id;i.attachments[0].extension.oid=s+""}_.assign(i,t.sendMsgModel),_.assign(i.attachments[0].extension,t.extension);var a=Promise.resolve();return 1===e.encrypt&&(a=p.infoDentry({spaceId:e.spaceId,id:e.id}).result.then(function(e){if(0===e.body.resultCode){var t=_.get(e,"body.data.dentryModel.items[0].encryptDetail")||{};
return Promise.resolve(t)}return localLog.error("get CSpace infoDentry error",JSON.stringify(e.body)),Promise.reject(new Error("get CSpace infoDentry error"))})),a.then(function(t){return t&&(_.assign(i.attachments[0].extension,t),_.assign(i.attachments[0].extension,{isEncrypt:1===e.encrypt?safetyEncryptFileStatus.TRUE:safetyEncryptFileStatus.FALSE})),this.sdkConv.sendCustomMsg(i,null,{extension:{source_from_type:msgSourceFromType.PC}}).catch(S.handleSendMsgError)}.bind(this))},sendCardMsg:function(e){var t={contentType:ContentType.CARD,attachments:[{extension:{avatarMediaId:e.avatarMediaId,name:e.nick||"",phone:e.mobile+"",type:e.type+"",uid:e.uid+""},isPreload:0,size:0,type:0,url:""}]};return this.sdkConv.sendCustomMsg(t,null,{extension:{source_from_type:msgSourceFromType.PC}}).catch(S.handleSendMsgError)},sendCustomMsgByFile:function(e,t,n){if(t===ContentType.SAFETY_IM_SPACE_FILE&&e.size>limitConfig.SAEFTY_FILE_UPLOAD_LIMIT)return void i.show("单个加密文件不能超过50M",{type:"error"});if(t===ContentType.SAFETY_IMG&&e.size>limitConfig.SAEFTY_IMAGE_UPLOAD_LIMIT)return void i.show("单个加密文件不能超过30M",{type:"error"});var n=n||{},s=[],a=fileCache.cache(e),r=e.name,o={contentType:t,attachments:[{extension:{f_name:r,f_size:e.size+"",f_type:fileTypes.getTypeByName(r),path:null,s_id:null,f_id:null,cid:this.convId},isPreload:0,size:0,type:0,url:""}]};if(_.assign(o.attachments[0].extension,n.extension),this.isCompanyGroup&&this.baseConversation&&this.baseConversation.extension&&this.baseConversation.extension.id){var d=this.baseConversation.extension.id;o.attachments[0].extension.oid=d+""}var h={fileId:a,dataURI:fileTypes.isImg(fileTypes.getTypeByName(r))?e.dataURI:null},p=function(t,n,i){var a,d=!1,h=t.fileId;if(!h)throw new Error("file Id not exist");var p=fileCache.get(h);if(!p)throw new Error("file not exist");var c,u=function(){d=!0,a&&(a.cancel(),spaceUploadQueue.delete(a),m.removeFiles(s))},l=this.getIMSpaceKey(o.contentType),g=this.getIMSpaceIdByKey(l).then(function(h){if(d===!0){var u=new Error("user cancel upload");return u.delete=!0,Promise.reject(u)}var l={},g=Promise.resolve(p);if(msgContentTypeChecker.isSafetyFile(o.contentType)){var E=_.get(o,"attachments[0].extension")||{};l.addArgs={encryptDetail:{appId:E.appId,orgId:E.oid,priority:E.priority}},g=this.getOrgData().then(function(n){var i=_.get(n,"orgDetail.corpId"),a=_.get(n,"orgDetail.organizationSettingsModel.thirdPartyEcryptPriority");if(e.path)var d=Promise.resolve(e);else var d=m.fileObjectToFile(e).then(function(e){return s.push(e.path),o.attachments[0].extension.path=e.path,Promise.resolve(e)});return d.then(function(e){return t.srcFile=e,v.encrypt(i,this.safetyAppId,a,e.path).then(function(e){var t=new LocalFile(e.destPath,{name:r});return s=s.concat(e.tmpFiles),o.attachments[0].extension.isEncrypt=safetyEncryptFileStatus.TRUE,Promise.resolve(t)}).catch(function(e){return y.alarm(y.Name.Safety,y.SubType.EncryptFail,"加密文件失败",{corpId:i,spaceId:h,error:e&&e.error||e.toString(),code:e.code}),m.removeFiles(s),Promise.reject(e)})}.bind(this))}.bind(this))}return g.then(function(e){return c=h,a=new T(e,h,function(e){n(e)},l),spaceUploadQueue.add(a,function(){i&&i()}),a.result})}.bind(this)).then(function(e){if(msgContentTypeChecker.isSafetyFile(o.contentType)){var n=[c,e.data.id].join("_")+"."+fileTypes.getTypeByName(e.data.name);return m.rename(t.srcFile.path,m.getImagePath(n)).then(function(){return Promise.resolve(e)}).catch(function(t){return localLog.error("file rename error",t,_.isObject(t)&&JSON.stringify(t)),Promise.resolve(e)})}return Promise.resolve(e)}).then(function(e){return m.removeFiles(s).then(function(){return Promise.resolve(e)})}).then(function(e){return _.assign(o.attachments[0].extension,{f_name:e.data.name,f_size:e.data.size+"",f_type:fileTypes.getTypeByName(e.data.name),path:e.data.path,s_id:c+"",f_id:e.data.id}),fileCache.delCache(h),o}).catch(function(e){return e.body&&1==e.body.silent&&(e.delete=!0),Promise.reject(e)});return{cancel:u,result:g}}.bind(this),c=Promise.resolve(),n={extension:{source_from_type:msgSourceFromType.PC}},u=this.getXpnTemplateId(t);return u&&(n.xpnModel={templateId:u}),c.then(function(){return this.sdkConv.sendCustomMsg(o,h,n,p)}.bind(this))},sendSpaceFileMsgByFile:function(e){return this.isSafety?this.getOrgData().then(function(t){var n=_.get(t,"orgDetail.organizationSettingsModel.thirdPartyEncryptFileAudioImage")||!1;if(n){var i=_.get(t,"orgDetail.organizationSettingsModel.thirdPartyEcryptPriority");return this.sendCustomMsgByFile(e,ContentType.SAFETY_IM_SPACE_FILE,{extension:{appId:this.safetyAppId,oid:this.orgId,isEncrypt:safetyEncryptFileStatus.FALSE,priority:i?SAFETY_PRIORITY.third:SAFETY_PRIORITY.dingTalk}})}return this.sendCustomMsgByFile(e,ContentType.IM_SPACE_FILE)}.bind(this)):this.sendCustomMsgByFile(e,ContentType.IM_SPACE_FILE)},destroy:function(){this.messages=[],this.removeListener()},getMsgById:function(e){for(var t=this.messages.length,n=null;t>0;)if(t--,this.messages[t].getId()===e){n=this.messages[t];break}return n},getMsgDataByMessageId:function(e){return this.sdkConv.getMsgDataByMid(e)},setTop:function(e){return this.sdkConv.setPin(e).then(function(e){return e}).catch(function(e){console.error(e)})},getMemberLimitState:function(){return this.sdkConv.getMemberLimitState()},updateTitle:function(e){return a.getUsers([$my.uid]).then(function(e){if(e[0]){var t=e[0],n=this.convId,i=this.getScene(MainScene.SYSTEM_MSG);return t.getName(n,i,{oid:this.orgId})}return Promise.resolve("")}.bind(this)).then(function(t){var n=t+' 修改群名称为"'+e+'"';return this.sdkConv.updateTitle(e,n)}.bind(this))},addMembers:function(e,t){var n=[];return n.push(a.getUsers([$my.uid]).then(function(e){if(e[0]){var t=e[0],n=this.convId,i=this.getScene(MainScene.SYSTEM_MSG);return t.getName(n,i,{oid:this.orgId})}return Promise.resolve("")}.bind(this))),n.push(a.getUsers(e).then(function(e){var t=[],n=[];return e.forEach(function(e){t.push(e.userProfileModel.uid);var i=this.convId,s=this.getScene(MainScene.SYSTEM_MSG);n.push(e.getName(i,s,{oid:this.orgId}))}.bind(this)),Promise.all(n).then(function(e){return{uids:t,nickName:e.join(",")}})}.bind(this))),Promise.all(n).then(function(e){return this.sdkConv.addMembers(e[1].uids,e[0]+"把 "+e[1].nickName+" 加入群").then(function(e){return t&&t(e),e})}.bind(this))},removeMembers:function(e,t,n){var i=[];return i.push(a.getUsers([$my.uid]).then(function(e){if(e[0]){var t=e[0],n=this.convId,i=this.getScene(MainScene.SYSTEM_MSG);return t.getName(n,i,{oid:this.orgId})}return Promise.resolve("")}.bind(this))),i.push(a.getUsers(e).then(function(e){var t=[],n=[];return e.forEach(function(e){t.push(e.userProfileModel.uid);var i=this.convId,s=this.getScene(MainScene.SYSTEM_MSG);n.push(e.getName(i,s,{oid:this.orgId}))}.bind(this)),Promise.all(n).then(function(e){return{uids:t,nickName:e.join(",")}})}.bind(this))),Promise.all(i).then(function(n){var i=n[1].nickName+" 被管理员 "+n[0]+" 移出群";return this.sdkConv.removeMembers(e,t,i)}.bind(this))},quit:function(){return a.getUsers([$my.uid]).then(function(e){if(e[0]){var t=e[0],n=this.convId,i=this.getScene(MainScene.SYSTEM_MSG);return t.getName(n,i,{oid:this.orgId})}return Promise.resolve("")}.bind(this)).then(function(e){var t=e+" 退出群聊";return this.sdkConv.quitSilent(!0,t)}.bind(this))},updateOwner:function(e,t){var n="你已被"+t+"设置为该群群主";return this.sdkConv.updateOwner(e,n)},disband:function(){return this.sdkConv.disband()},setNotificationOff:function(e){return this.sdkConv.updateNotificationOffStatus(e)},updateShowHistoryType:function(e){return this.sdkConv.updateShowHistoryType(e)},setGroupValidationType:function(e){return this.sdkConv.updateGroupValidationType(e).catch(function(e){i.show("设置群主审核失败",{type:"error"})})},updateAuthority:function(e){return this.sdkConv.updateAuthority(e).catch(function(e){i.show("设置仅群主可管理失败",{type:"error"})})},clearMsg:function(e){return this.sdkConv.clearMsg().then(function(){e&&e()}).catch(function(){i.show("清空会话聊天失败",{type:"error"})})},clearNewMsg:function(){return this.sdkConv.clearUnReadPoint(!0)},convertToOrgGroup:function(e,t,n){var s=this,a=_.assign({},this.baseConversation.extension),r=this.baseConversation.tag,t=_.assign({},this.baseConversation.extension,t);this.sdkConv.receiveConvChange({extension:t,tag:ConvType.COMPANY_GROUP}),d.convertToOrgGroup(s.convId,e).result.catch(function(e){return i.show(e.body.reason||"设置失败",{type:"error"}),this.sdkConv.receiveConvChange({extension:a,tag:r}),Promise.reject(e)}.bind(this))},copySpaceFileObj:function(e){var t=null,n=e.baseMessage.content.contentType,s=this.getIMSpaceKey(n),a=_.get(e,"baseMessage.content.attachments[0].extension")||{};return this.getIMSpaceIdByKey(s).then(function(n){var i={},s=_.get(e,"baseMessage.content.attachments[0].extension.s_id"),a=_.get(e,"baseMessage.content.attachments[0].extension.f_id");return t=n,i.handle={type:0},i.transferType=0,i.sourceSpaceId=s,i.sourceIds=[a],i.targetSpaceId=Number(n),i.targetFolderId="0",i.targetFolderPath=null,i}).then(function(e){return p.transferDentry(e).result.then(function(e){if(200===e.code&&0===e.body.resultCode){var n=_.get(e.body.data.transferModel,"transferredItems")[0];return n.spaceId=t,Promise.resolve(n)}13020005===e.body.resultCode?i.show("企业内文件暂不支持发送给企业外人员",{type:"error"}):13026e3===e.body.resultCode?i.show("空间容量不足",{type:"error"}):13023e3===e.body.resultCode?i.show("文件已被删除",{type:"error"}):i.show("未知错误",{type:"error"})})}).then(function(e){return this.sendSpaceFileBySpaceFileObj(e,{extension:{p_width:a.p_width,p_height:a.p_height,orientation:a.orientation},sendMsgModel:{contentType:n}})}.bind(this))},acceptForwardMsg:function(e){if(!e.canBeForward())return Promise.reject(new Error("该消息类型不支持转发"));if(1===e.baseMessage.recallStatus)return Promise.reject(new Error("该消息已被撤回，不能被转发"));var t=e.baseMessage.content.contentType;switch(t){case ContentType.TEXT:var n=e.getContent().textContent.text;return this.sendTextMsg(n);case ContentType.IM_SPACE_FILE:case ContentType.ORG_SPACE_FILE:case ContentType.SAFETY_IMG:case ContentType.SAFETY_AUDIO:case ContentType.SAFETY_VIDEO:case ContentType.SAFETY_NORMAL_VIDEO:case ContentType.SAFETY_IM_SPACE_FILE:return this.copySpaceFileObj(e);default:return this.sdkConv.acceptForwardMsg(e.sdkMsg).catch(S.handleSendMsgError)}},getScene:function(e){var t=e+"_";return t+=this.isSingleChat?"SINGLE":this.orgId&&this.isCompanyGroup?this.isGroupShowRealName?"GROUP_ENTERPRISE_ONLY_REAL_NAME":"GROUP_ENTERPRISE":"GROUP_NORMAL",NAME_SCENE[t]},getIconOption:function(){return this.sdkConv.getIconOption()},getFocusMessageId:function(){return this.sdkConv.focusMessageId},_toastError:function(e){i.show(e,{type:"error"})}});return N}]),module.exports=moduleName;

},{"../../directive/widget/avatar/avatarType":144,"../../filter/secondTohhmmss":196,"../../lib/class":198,"../../service/error/conversationError":375,"../../service/file/LocalFile":378,"../../service/log/imLog":419,"../../service/user/MainScene":629,"../../service/user/NameScene":630,"../api/SpaceUpload":241,"../api/spaceUploadQueue":242,"../app/nw":255,"../app/nwWindow":257,"../audio":265,"../email/emailNotify":363,"../events":376,"../file/fileHelper":379,"../groupSupportType/groupSupportType":404,"../limitConfig":414,"../log/localLog":421,"../microApp/microAppData":437,"../notification":487,"../safety/anHengResCode":547,"../safety/fileEncryptor":552,"../safety/safetyEncryptFileStatus":555,"../safety/safetyLog":560,"../safety/safetyPriority":561,"../storage/ddStorage":605,"../toast/toast":611,"../ua":621,"../user/my":635,"../user/userManager":641,"../widget/emailOpenService":661,"./CSpaceKey":291,"./CSpaceType":292,"./ContentType":293,"./ConvType":294,"./ErrorText":296,"./ImgList":298,"./MsgType":301,"./RemindEnum":302,"./SuperGroupStatus":305,"./baseMsgTag":306,"./convExtensionType":307,"./msg/MsgWithSDK":314,"./msg/fileCache":315,"./msgContentTypeChecker":319,"./msgInstanceHelper":320,"./msgSourceFromType":321,"./xpnTemplateId":323,"@ali/ding-api":711,"@ali/ding-filetypes":714,"@ali/wksdk":779,"lodash":919,"wolfy87-eventemitter":944}],296:[function(require,module,exports){
"use strict";var ConversationErrorText={130012:"该群已经被解散，不能发送消息",130003:"您当前已经退出该群，不能发送消息"};module.exports=ConversationErrorText;

},{}],297:[function(require,module,exports){
var moduleName="ddWeb.conv.GroupRole";angular.module(moduleName,[]).value("GroupRole",{BOSS:1,MEMBER:3}),module.exports=moduleName;

},{}],298:[function(require,module,exports){
"use strict";var moduleName="ddWeb.conv.ImgList",_=require("lodash"),msgContentTypeChecker=require("./msgContentTypeChecker"),Class=require("../../lib/class"),ContentType=require("./ContentType");angular.module("ddWeb.conv.ImgList",[require("./msgCache")]).factory("ImgList",["msgCache",function(e){var t=Class.create({initialize:function(e){this.conv=e},getNext:function(e){var t=this._getIndex(e),n=null;if(t!==-1)for(var s=t+1;s<this.conv.messages.length;s++){var r=this.conv.messages[s];if(_.get(r,"baseMessage.content.contentType")===ContentType.IMG&&!msgContentTypeChecker.isEmotionImage(r)&&msgContentTypeChecker.hasImageMediaId(r)&&r.isDisplay()){n=r;break}}return n},getPre:function(e){var t=this._getIndex(e),n=null;if(t!==-1)for(var s=t-1;s>=0;s--){var r=this.conv.messages[s];if(_.get(r,"baseMessage.content.contentType")===ContentType.IMG&&!msgContentTypeChecker.isEmotionImage(r)&&msgContentTypeChecker.hasImageMediaId(r)&&r.isDisplay()){n=r;break}}return n},_getIndex:function(e){var e=e+"";if(!isNaN(e))return this.conv.messages.map(function(e){return e.getId()}).indexOf(e)}});return t}]),module.exports=moduleName;

},{"../../lib/class":198,"./ContentType":293,"./msgCache":318,"./msgContentTypeChecker":319,"lodash":919}],299:[function(require,module,exports){
"use strict";module.exports={SELF:1,SYSTEM:2,EOF:10};

},{}],300:[function(require,module,exports){
"use strict";module.exports={NORMAL:1,DING:2};
},{}],301:[function(require,module,exports){
"use strict";module.exports={NORMAL:1,SILENCE:3,ENCRYPTED:5};

},{}],302:[function(require,module,exports){
"use strict";var RemindEnum={EMPTY:0,DRAFT:1,FOLLOW:2,ANNOUNCE:3,AT:4,AT_ALL:5,RED_ENVELOPE_ENTERPRISE:6};module.exports=RemindEnum;

},{}],303:[function(require,module,exports){
"use strict";var RemindEnum=require("./RemindEnum"),RemindTextMap={};RemindTextMap[RemindEnum.EMPTY]="",RemindTextMap[RemindEnum.DRAFT]="[草稿]",RemindTextMap[RemindEnum.FOLLOW]="[特别关注]",RemindTextMap[RemindEnum.ANNOUNCE]="[群公告]",RemindTextMap[RemindEnum.AT]="[有人@你]",RemindTextMap[RemindEnum.AT_ALL]="[@所有人]",RemindTextMap[RemindEnum.RED_ENVELOPE_ENTERPRISE]="[企业红包]",module.exports=RemindTextMap;

},{"./RemindEnum":302}],304:[function(require,module,exports){
"use strict";module.exports={SENDING:0,SENDED:1,SENDFAIL:-1,WAITING_SEND:2,SENDING_WITH_PROGRESS:3};

},{}],305:[function(require,module,exports){
"use strict";module.exports={ORDINARY:0,SUPER:1};
},{}],306:[function(require,module,exports){
module.exports={DROP_MSG:200,SAFETY_TIPS:300};

},{}],307:[function(require,module,exports){
"use strict";var convExtensionType={EMAIL:"1",FRIEND:"2",FREECALL:"3",FILESHELPER:"4",GROUPREQUEST:"5"};module.exports=convExtensionType;

},{}],308:[function(require,module,exports){
"use strict";var moduleName="ddWeb.conversationWithSDK",WKEngine=require("@ali/wksdk"),ConvExtensionType=require("./convExtensionType"),SHOW_HISTORY_TYPE=WKEngine.showHistoryType,_=require("lodash"),$my=require("../user/my"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../log/localLog"),EVENTS=require("../events");angular.module(moduleName,[require("./ConvWithSDK"),require("../log/log"),require("@ali/ding-api").interface.ConversationI,require("../microApp/microAppData"),require("../user/userManager"),require("./msg/msgFactoryWithSDK")]).factory("conversationWithSDK",["$rootScope","$state","log","ConvWithSDK","ConversationI","microAppData","userManager",function(e,n,t,i,r,o,a){var u=WKEngine.conversationService,c={},d={order:[],pinOrder:[],activeConvId:null,lastActiveConvId:null},v=!1,s=new EventEmitter,f={emitter:s,EVENTS:{ORDER_CHANGE:"order_change",ACTIVE_CONV_CHANGE:"active_conv_change"}},l=function(){return f},C=function(){setTimeout(function(){var e=W();e?u.makeConvTopByCid(e.convId):r.getFilesHelperConversationId(function(e){if(200===e.code){var n=e.body;u.makeConvTopByCid(n)}})},5e3)},g=function(){return d},m=function(){return c},E=function(){return d.activeConvId?c[d.activeConvId]:null},h=function(e,t,i){return N(e).then(function(r){if(r){var o=!1;return d.activeConvId===e&&i&&(o=!0),d.activeConvId&&c[d.activeConvId]&&c[d.activeConvId].deactive(),r.active(),d.activeConvId=d.lastActiveConvId=e,f.emitter.emitEvent(f.EVENTS.ACTIVE_CONV_CHANGE),r.isRedirectType?r.baseConversation.extension&&r.baseConversation.extension.type===ConvExtensionType.FRIEND?n.go("authorized.im.friendRequest"):r.baseConversation.extension&&r.baseConversation.extension.type===ConvExtensionType.GROUPREQUEST?n.go("authorized.im.groupRequest"):Promise.resolve():n.go("authorized.im.chat",{id:e,searchMessageId:t,keyword:i},{reload:o})}return Promise.resolve()})},p=function(e){return c[e]?c[e]:(t.error("File: conversationWithSDK, Func: getConvObj, Detail: cannot find convObj with id: ",e),null)},y=function(e,n,t){return u.hideConv(e)},I=function(e){if(c[e])return c[e].quit()},O=function(e){return u.hideConv(e)},S=function(e,n,t){return c[e].addMembers(n,t)},T=function(e,n,t){c[e].removeMembers(n,t)},N=function(e,n){return u.getConvByCid(e,n).then(function(e){return q(e)})},M=function(e,n){c[e].updateTitle(n)},w=function(e){return e.sort(function(e,n){return parseInt(e,10)-parseInt(n,10)}).join(":")},b=function(e,n,t,i){if(e.unshift($my.uid),e=_.uniq(e),2===e.length){var r=w(e);return void(i&&i(!0,r))}var o,c=e.slice(0,5),n=n||"",d=t.isOrg,v=t.oid;if(d&&(void 0===v||null===v))throw new Error("创建企业群需要oid");var s=d?2:0;a.getUsers(c).then(function(t){n||(n=t.map(function(e){return e.userProfileModel.nick}).join(","),e.length>5&&(n+="等")),o="$:"+JSON.stringify(t.slice(0,4).map(function(e){return{uId:e.userProfileModel.uid.toString(),mediaId:e.userProfileModel.avatarMediaId,nick:e.userProfileModel.nick}}));var r={openIds:e,title:n,showHistoryType:SHOW_HISTORY_TYPE.ON,icon:o,type:2,tag:s};return v&&(r.extension={id:String(v)}),u.createConversation(r,$my.userProfileModel.nick+"发起了群聊").then(function(e){i&&i(!0,e)}).catch(function(e){i&&i(!1,e)})})},A=function(e){},q=function(e){var n=e.cid;return c[n]?c[n]:c[n]=new i(e,!0)},x=function(e,n){var e=e||d.activeConvId;e&&N(e,!0).then(function(e){n&&_.get(e,"baseConversation.extension.id")!=n||e.messages.forEach(function(e){e.decrypt()})});var t=m();Object.keys(t).forEach(function(e){var i=t[e];n&&_.get(i,"baseConversation.extension.id")!=n||i&&i._lastMsg&&i._lastMsg.decrypt()})},D=function(e){return e?N(e,!0).then(function(e){return e.getOrgData()}):Promise.reject(new Error("get corpid by cid error when cid is null"))},H=function(n){var t=c[n];t&&t.destroy(),c[n]=null,t&&t.newMsg&&0!=t.newMsg&&e.$broadcast(EVENTS.NEW_MSG_COUNT_CHANGE)},k=function(t){var i=!1,r=[];t.pinOrder.forEach(function(e){if(c[e])var n=c[e];else{var n=q(u.getConvByCidSync(e));!n.notificationOff&&n.newMsg&&(i=!0)}n.allowedShow===!0&&r.push(e)}),d.pinOrder=r;var o=[];t.order.forEach(function(e){if(c[e])var n=c[e];else{var n=q(u.getConvByCidSync(e));!n.notificationOff&&n.newMsg&&(i=!0)}n.allowedShow===!0&&(o.push(e),!n.notificationOff&&n.newMsg&&(i=!0))}),d.order=o,WKEngine.syncSinglePackageActionMerge.registerAction("conversaionListUpdate",function(){d.activeConvId&&d.pinOrder.indexOf(d.activeConvId)===-1&&d.order.indexOf(d.activeConvId)===-1&&(n.go("^.nocontent"),e.$digest(),d.activeConvId=null,d.lastActiveConvId=null),i===!0&&e.$broadcast(EVENTS.NEW_MSG_COUNT_CHANGE),f.emitter.emitEvent(f.EVENTS.ORDER_CHANGE)}.bind(this))},W=function(){for(var e,n=0;n<d.pinOrder.length-1;){var t=c[d.pinOrder[n]];if(t&&t.isFileHelper()){e=t;break}n+=1}if(e)return e;for(var n=0;n<d.order.length-1;){var t=c[d.order[n]];if(t&&t.isFileHelper()){e=t;break}n+=1}return e},$=function(){if(!v){v=!0;var t=u.getConvList();C(),k(t),u.emitter.addListener(u.EventsName.CONV_LIST_UPDATE,function(e){k(e)}),u.emitter.addListener(u.EventsName.HIDE_CONV,function(e){H(e)}),e.$on("leftpannel.openChatByUid",function(e,n){var t=n.uid,i=n.messageId,r=n.keyword,o=$my.uid,a=[t,o],u=a.sort(function(e,n){return e-n}).join(":");return h(u,i,r)}),e.$on("leftpannel.openChatByGroup",function(e,n){var t=n.conversationId,i=n.messageId,r=n.keyword;return h(t,i,r)}),e.$on("openUnreadChat",function(e,t){return t?h(t):void(n.current.name.indexOf("authorized")!==-1&&n.current.name.indexOf("authorized.im")===-1&&n.go("authorized.im"))}),e.$on("$stateChangeSuccess",function(e,n,t,i,r){n.name.indexOf("authorized.im")===-1&&i.name.indexOf("authorized.im")!==-1&&(d.activeConvId&&c[d.activeConvId]&&c[d.activeConvId].deactive(),d.activeConvId=null)})}};return{getConvList:g,getAllConv:m,activeConv:h,getConvObj:p,hideConv:y,quitConv:I,deleteConv:O,addMembers:S,removeMembers:T,getConvById:N,updateDingMsg:A,createConversation:b,createCid:w,updateTitle:M,tryDecryptMsgs:x,getCurrentActiveConv:E,getConvListChangeEvents:l,getOrgDataByCid:D,init:$}}]),module.exports=moduleName;

},{"../events":376,"../log/localLog":421,"../log/log":422,"../microApp/microAppData":437,"../user/my":635,"../user/userManager":641,"./ConvWithSDK":295,"./convExtensionType":307,"./msg/msgFactoryWithSDK":317,"@ali/ding-api":711,"@ali/wksdk":779,"lodash":919,"wolfy87-eventemitter":944}],309:[function(require,module,exports){
"use strict";var moduleName="ddWeb.spaceWithSDK",WKEngine=require("@ali/wksdk"),_=require("lodash"),$my=require("../../user/my"),Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog");angular.module(moduleName,[require("../../log/log"),require("../../toast/toast"),require("../conversationWithSDK")]).factory("cspaceWithSDK",["$rootScope","$state","log","toastService","conversationWithSDK",function(e,t,n,r,o){var i=Class.create({initialize:function(){this.isInit=!1,this.conv=null,this.unreadPoint=0,this._handleUnreadPointUpdate=function(){this.unreadPoint=_.get(this.conv,"baseConversation.unreadPoint"),this.emit(this.EventsName.UNREAD_POINT_UPDATE,this.unreadPoint)}.bind(this),this.getCspaceConv().then(function(e){e.EventEmitter.on(e.EVENTS.UNREAD_POINT_UPDATE,this._handleUnreadPointUpdate)}.bind(this)).catch(function(e){localLog.error("get cspaceConv err and not bind UNREAD_POINT_UPDATE",e)})},Implements:EventEmitter,EventsName:{UNREAD_POINT_UPDATE:"UNREAD_POINT_UPDATE"},getUnreadPointSync:function(){return this.unreadPoint},getCspaceConv:function(){var e=this;return e.conv?Promise.resolve(e.conv):o.getConvById(e._createCSpaceCID()).then(function(t){return e.conv=t,e.unreadPoint=_.get(t,"baseConversation.unreadPoint"),e.emit(e.EventsName.UNREAD_POINT_UPDATE,e.unreadPoint),Promise.resolve(e.conv)}).catch(function(e){return localLog.error("getCspaceConv func error",e),Promise.reject(e)})},_createCSpaceCID:function(){var e,t=21e3,n=$my.uid;return e=t<n?[t,n].join(":"):[n,t].join(":")},getConvById:function(e,t){return o.getConvById(e,t)},active:function(e){var t=this;return t.getCspaceConv().then(function(e){return e.clearNewMsg()})}});return new i}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../log/localLog":421,"../../log/log":422,"../../toast/toast":611,"../../user/my":635,"../conversationWithSDK":308,"@ali/wksdk":779,"lodash":919,"wolfy87-eventemitter":944}],310:[function(require,module,exports){
module.exports={MISSED:0,CONNECTED:1};

},{}],311:[function(require,module,exports){
module.exports={OTO:0,MTM:1,VoIPOTO:2,VoIPMTM:3,VideoOTO:4,VideoMTM:5,BizCall:6,SysCall:7};

},{}],312:[function(require,module,exports){
"use strict";var moduleName="ddWeb.freeCallWithSDK",WKEngine=require("@ali/wksdk"),_=require("lodash"),$my=require("../../user/my"),Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),callStatus=require("./callStatus");angular.module(moduleName,[require("../../log/log"),require("../../toast/toast"),require("../conversationWithSDK")]).factory("freeCallWithSDK",["$rootScope","$state","log","toastService","conversationWithSDK",function(e,t,n,s,i){var a=Class.create({initialize:function(){this.msgMap={},this.isInit=!1,this.conv=null,this.mergedMessageList=[],this.unreadPoint=0,this.delMergedMessageBindThis=this.delMergedMessage.bind(this),this._handleSDKfreeCallConvBindThis=this._handleSDKfreeCallConv.bind(this),this._handleUnreadPointUpdateBindThis=function(){this.unreadPoint=_.get(this.conv,"baseConversation.unreadPoint"),this.emit(this.EventsName.UNREAD_POINT_UPDATE,this.unreadPoint)}.bind(this),this.getFreeCallConv().then(function(e){e.EventEmitter.on(e.EVENTS.UNREAD_POINT_UPDATE,this._handleUnreadPointUpdateBindThis)}.bind(this)).catch(function(e){localLog.error("freeCallConv init get conv error and UNREAD_POINT_UPDATE not addListener",e)})},Implements:EventEmitter,EventsName:{MERGED_MSG_CHANGE:"MERGED_MSG_CHANGE",UNREAD_POINT_UPDATE:"UNREAD_POINT_UPDATE"},getMergedMessageList:function(){return this.mergedMessageList},getUnreadPointSync:function(){return this.unreadPoint},getFreeCallConv:function(){var e=this;return e.conv?Promise.resolve(e.conv):i.getConvById(e._createFreeCallCID()).then(function(t){return e.conv=t,e.unreadPoint=_.get(t,"baseConversation.unreadPoint"),e.emit(e.EventsName.UNREAD_POINT_UPDATE,e.unreadPoint),Promise.resolve(e.conv)}).catch(function(e){return localLog.error("getFreeCallConv func error",e),Promise.reject(e)})},_createFreeCallCID:function(){var e,t=164902,n=$my.uid;return e=t<n?[t,n].join(":"):[n,t].join(":")},delMergedMessage:function(e){var t=this,n=-1,s=[];return t.mergedMessageList.forEach(function(t,i){t.targetUids==e&&(n=i,t.all.forEach(function(e){s.push(e.remove())}))}),Promise.all(s).then(function(){t.mergedMessageList.splice(n,1),t.emit(t.EventsName.MERGED_MSG_CHANGE)})},_handleSDKfreeCallConv:function(){var e=this;_.remove(e.mergedMessageList),e._initMsgEvents(),_.forEachRight(e.conv.messages,function(t){if(!t.isDel()){var n=_.get(t,"baseMessage.extension.targetUids");if(n){var s=!1;e.mergedMessageList.forEach(function(e,i){if(e.targetUids==n)return e.all.push(t),s=!0,!1}),s||e.mergedMessageList.push({userAvatarUids:n.split(",").slice(0,4),confPersonNum:n.split(",").length,isSingle:1===n.split(",").length,targetUids:n,targetNicks:t.baseMessage.extension.targetNicks,lastMessage:t,lastMsgCallStatus:parseInt(t.baseMessage.extension.status,10),lastMsgCallerId:parseInt(t.baseMessage.extension.callerId,10),lastMsgCallType:parseInt(t.baseMessage.extension.callType,10),missedNum:0,all:[t]})}}}),e.mergedMessageList.forEach(function(e){if(e.isSingle){var t=0,n=!1;e.all.forEach(function(e){n!==!0&&(parseInt(_.get(e,"baseMessage.extension.callerId"),10)!==$my.uid&&parseInt(_.get(e,"baseMessage.extension.status"),10)===callStatus.MISSED?t++:n=!0)}),e.missedNum=t}}),e.emit(e.EventsName.MERGED_MSG_CHANGE)},_initConvEvents:function(){var e=this;e.conv&&e.conv.EventEmitter.on(e.conv.EVENTS.UPDATE_MSG,e._handleSDKfreeCallConvBindThis)},_offConvEvents:function(){var e=this;e.conv&&e.conv.EventEmitter.off(e.conv.EVENTS.UPDATE_MSG,e._handleSDKfreeCallConvBindThis)},_initMsgEvents:function(){var e=this;e.conv&&e.conv.messages.forEach(function(t){e.msgMap[t.getId()]||(t.on(t.EventsName.DELETED_CHANGE,e._handleSDKfreeCallConvBindThis),e.msgMap[t.getId()]=t)})},_offMsgEvents:function(){var e=this;Object.keys(e.msgMap).forEach(function(t){e.msgMap[t].off(e.msgMap[t].EventsName.DELETED_CHANGE,e._handleSDKfreeCallConvBindThis)}),e.msgMap=[]},deactive:function(){var e=this;return e.getFreeCallConv().then(function(t){return e._offConvEvents(),e._offMsgEvents(),t.deactive()})},active:function(e){var t=this;return t.getFreeCallConv().then(function(t){return t.active(e)}).then(function(){return t._initConvEvents(),t._handleSDKfreeCallConv(),Promise.resolve()})}});return new a}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../log/localLog":421,"../../log/log":422,"../../toast/toast":611,"../../user/my":635,"../conversationWithSDK":308,"./callStatus":310,"@ali/wksdk":779,"lodash":919,"wolfy87-eventemitter":944}],313:[function(require,module,exports){
"use strict";var moduleName="ddWeb.msg.imageWithSDK";angular.module(moduleName,[require("./MsgWithSDK")]).factory("ImageMsgWithSDK",["MsgWithSDK",function(e){var i=e.extend({initialize:function(e){i.superclass.initialize.call(this,e)}});return i}]),module.exports=moduleName;
},{"./MsgWithSDK":314}],314:[function(require,module,exports){
"use strict";var moduleName="ddWeb.conv.MsgWithSDK",semver=require("semver"),MIN_OA_VERSION=require("../../limitConfig").MIN_MICRO_APP_NW_VERSION,MsgType=require("@ali/wksdk").messageType,MsgCreatorType=require("@ali/wksdk").messageCreatorType,MsgTag=require("../MsgTag"),DecryptType=require("@ali/wksdk").decryptType,spaceFileHelper=require("../../../service/file/spaceFileHelper"),ua=require("../../ua"),fileCache=require("./fileCache"),ConversationErrorText=require("../ErrorText"),nwWindow=require("../../app/nwWindow");require("../../log/log");var $my=require("../../user/my");require("../../user/userManager");var Class=require("../../../lib/class"),SendStatus=require("../SendStatus"),localLog=require("../../../service/log/localLog"),_=require("lodash"),EventEmitter=require("wolfy87-eventemitter"),msgContentTypeChecker=require("../msgContentTypeChecker"),ContentType=require("../ContentType");angular.module(moduleName,[require("@ali/ding-api").interface.IMI,"ddWeb.log.log","ddWeb.user.userManager",require("./msgFactory"),require("../../toast/toast"),require("../../../service/app/download/fileFactory"),require("../../../service/mediaId/mediaId"),require("../../../service/emotion/emotionPackageFactory"),require("../../../service/safety/safetyHelper"),require("../../../service/error/conversationError")]).factory("MsgWithSDK",["IMI","log","userManager","textCellService","msgFactory","toastService","fileFactory","mediaId","EmotionPackageFactory","safetyHelper","conversationError",function(e,t,n,s,i,r,o,a,c,d,u){var E=Class.create({initialize:function(e){this.sdkMsg=e,this.sendProgress=this.uploadProgress=0,this._initListener(),this._syncSdkAttribute(this.sdkMsg),this._localId=this.getLocalId();var t=_.get(e,"baseMessage.openIdEx.openId");t&&n.getUsers([t]).then(function(t){0!==t.length&&t[0]&&t[0].compareTag(e.baseMessage.openIdEx.tag)})},Implements:EventEmitter,EventsName:{SEND_SUCCESS:"sendSuccess",SEND_FAIL:"sendFail",UPDATE_EXTENSION:"update_extension",UPDATE_READ_STATUS:"update_read_status",UPDATE_TO_DING:"update_to_ding",PROGRESS_UPDATE:"progress_update",RECALL_STATUS_CHANGE:"recall_status_change",PRIVATE_TAG_CHANGE:"private_tag_change",DELETED_CHANGE:"deleted_change",DECRYPT_STATUS_CHANGE:"decrypt_status_change"},_initListener:function(){var e=this.sdkMsg;e.addListener(e.EventsName.SEND_STATUS_CHANGE,function(t){this.sendStatus=t,this.baseMessage=e.baseMessage,t===e.SEND_STATUS.SENDED&&(this.emit(this.EventsName.SEND_SUCCESS),delete this.localInfo),t===e.SEND_STATUS.SENDFAIL&&this.emit(this.EventsName.SEND_FAIL)}.bind(this)),e.addListener(e.EventsName.SENDER_MESSAGE_STATUS_CHANGE,function(){this.senderMessageStatus=e.senderMessageStatus,this.emit(this.EventsName.UPDATE_READ_STATUS)}.bind(this)),e.addListener(e.EventsName.SEND_PROGRESS,function(e){this.sendProgress=this.uploadProgress=Math.ceil(100*e),this.emit(this.EventsName.PROGRESS_UPDATE)}.bind(this)),e.addListener(e.EventsName.RECALL_STATUS_CHANGE,function(e){this.emit(this.EventsName.RECALL_STATUS_CHANGE)}.bind(this)),e.addListener(e.EventsName.DELETED_CHANGE,function(e){this.emit(this.EventsName.DELETED_CHANGE)}.bind(this)),e.addListener(e.EventsName.PRIVATE_TAG_CHANGE,function(e){this.emit(this.EventsName.PRIVATE_TAG_CHANGE)}.bind(this)),e.addListener(e.EventsName.DECRYPT_STATUS_CHANGE,function(){this.emit(this.EventsName.DECRYPT_STATUS_CHANGE)}.bind(this)),e.addListener(e.EventsName.RECEIVER_MESSAGE_STATUS_CHANGE,function(){this.receiverMessageStatus=e.receiverMessageStatus||{}}.bind(this))},_syncSdkAttribute:function(e){this.baseMessage=e.baseMessage,this._local=e._local,this.senderMessageStatus=e.senderMessageStatus||{},this.receiverMessageStatus=e.receiverMessageStatus||{},this.sendStatus=e.sendStatus,e.localInfo&&(this.localInfo=e.localInfo)},getConvId:function(){return _.get(this,"baseMessage.conversationId")},getId:function(){return this.sdkMsg.getId()},getSenderOpenId:function(){return this.sdkMsg.getOpenId()},getLocalId:function(){return this.sdkMsg.getLocalId()},getMessageId:function(){return this.sdkMsg.getMessageId()},isMySend:function(){return this.sdkMsg.isMe()},needDecrypt:function(){return this.sdkMsg.needDecrypt()},decrypt:function(){var e=_.get(this.baseMessage,"content.contentType");if(this.needDecrypt()){if(e===ContentType.TEXT)return this.sdkMsg.decrypt()}else localLog.info("contentType is not support to decrypt",this.getId(),e);return Promise.resolve()},cancelSending:function(){if(this.sdkMsg.cancel)return this.sdkMsg.cancel();throw new Error("can't cancel sending msg")},updateToRead:function(e){var t=this.baseMessage.content.contentType;if(e)return this._updateToRead();if(this.baseMessage.openIdEx&&this.baseMessage.openIdEx.openId!==$my.getId()&&(!this.receiverMessageStatus||2!==this.receiverMessageStatus.readStatus)){if(this.baseMessage&&this.baseMessage.content){if(t===ContentType.AUDIO)return;if(t===ContentType.IM_SPACE_FILE||t===ContentType.ORG_SPACE_FILE)return}this.isSupport2Show&&"hidden"!==document.visibilityState&&"hidden"!==nwWindow.visibilityState&&this._updateToRead()}},updateToView:function(){return this.sdkMsg.updateToView()},updateAudioMsgToRead:function(){this._updateToRead()},updateSpaceFileMsgToRead:function(){this._updateToRead()},_updateToRead:function(){var e=this;return e.sendStatus!==SendStatus.SENDING&&e.sendStatus!==SendStatus.SENDFAIL&&(t.info("update msgs to read",e.getId()),e.sdkMsg.updateToRead(),!0)},reSend:function(){return this.sdkMsg.resend().catch(u.handleSendMsgError)},getQuoteContent:function(){return this.getQuoterNick().then(function(e){var t=this.getContent(),n=s.createCell({replaceText:"@"+this.getSenderOpenId()+" ",toReplaceText:"@"+e+" "});return t.textContent.text="「 "+n+"："+t.textContent.text+" 」\n--------\n",Promise.resolve(t)}.bind(this))},getContent:function(){var e=angular.copy(this.baseMessage.content),t=e.contentType,n=/@[0-9]+[^\s@]/g;if(t==ContentType.TEXT){var s=e.atOpenIds,i=e.textContent.text,r=i.match(n);r&&s&&r.forEach(function(e){var t=s[e.substr(1,e.length-1)];t&&(i=i.replace(e,"@"+s[e.substr(1,e.length-1)]))}),e.textContent.text=i}return e},getSenderNick:function(){return new Promise(function(e,s){n.getUsers([this.getSenderOpenId()]).then(function(n){if(n&&n[0]){var s=n[0];e(s.remarkNameObj.alias||s.userProfileModel.nick)}else e(""),t.error("get sender nick fail, msg id: "+this.getId()+", openId: "+this.getSenderOpenId())}.bind(this))}.bind(this))},getQuoterNick:function(){return new Promise(function(e,s){n.getUsers([this.getSenderOpenId()]).then(function(n){if(n&&n[0]){var s=n[0];e(s.userProfileModel.nick)}else e(""),t.error("get sender nick fail, msg id: "+this.getId()+", openId: "+this.getSenderOpenId())}.bind(this))}.bind(this))},dingToMsg:function(){},isDingContentType:function(){var e=_.get(this,"baseMessage.content.contentType");return[ContentType.TEXT,ContentType.IMG,ContentType.FILE,ContentType.ORG_SPACE_FILE,ContentType.IM_SPACE_FILE,ContentType.SHARE,ContentType.GROUP_ANNOUNCE,ContentType.OA,ContentType.AUDIO].indexOf(e)!==-1},hasRead:function(){return this.sdkMsg.isMeRead()},isDisplay:function(){return 1!==this.baseMessage.recallStatus&&!this.sdkMsg.isDel()},isDel:function(){return this.sdkMsg.isDel()},isEmotion:function(){return msgContentTypeChecker.isEmotionImage(this)},isEmotionPackage:function(){return!0},isSupport2Show:function(){var e=this.baseMessage,t=!0,n=[ContentType.RED_ENVELOPE_ENTERPRISE,ContentType.RED_ENVELOPE_RANDOM,ContentType.RED_ENVELOPE_NORMAL,ContentType.RED_ENVELOPE_SYSTEM,ContentType.RED_ENVELOPE_ALIPAY].indexOf(e.content.contentType)>-1,s=[ContentType.SAFETY_IM_SPACE_FILE,ContentType.SAFETY_IMG].indexOf(e.content.contentType)>-1;return 2===e.memberTag||e.content.contentType===ContentType.TEXT||e.content.contentType===ContentType.IMG||e.content.contentType===ContentType.AUDIO||e.content.contentType===ContentType.FILE||e.content.contentType===ContentType.SHARE&&(16===e.content.attachments[0].type||102===e.content.attachments[0].type)||e.content.contentType===ContentType.ORG_SPACE_FILE||e.content.contentType===ContentType.IM_SPACE_FILE||e.content.contentType===ContentType.CARD||e.content.contentType===ContentType.OA&&t||e.content.contentType===ContentType.MAIL||e.content.contentType===ContentType.GROUP_ANNOUNCE||s||n},withDraw:function(t){var n=this;if(n.sendStatus===SendStatus.SENDING||n.sendStatus===SendStatus.SENDFAIL||1===n.baseMessage.recallStatus)return!1;var s=_.get(n,"baseMessage.content.contentType");return s===ContentType.ORG_SPACE_FILE||s===ContentType.IM_SPACE_FILE?e.recallYunpanMsg(parseInt(this.baseMessage.messageId),function(e){200===e.code?n.sdkMsg.receiveMsgChange({recallStatus:1}):n._hintWithDrawFail()}):n.sdkMsg.recallMessage().catch(function(){n._hintWithDrawFail()}),!0},addEmotion:function(){var e=_.get(this.baseMessage,"content.photoContent.picSize");if(!this.canAddEmotion())return Promise.reject("addEmotion, params error");if(!c.isSizeValid(e))return Promise.reject("addEmotion, file size error");var t=_.get(this.baseMessage,"content.photoContent.mediaId"),n=_.get(this.baseMessage,"content.photoContent.filename")||"";return c.addCustomEmotion(n,t)},saveAs:function(e){if(this.canSaveAs()){var t=this.baseMessage.content.contentType;if(t===ContentType.SAFETY_IMG){var n=_.get(this,"baseMessage.content.attachments[0].extension")||{},s=spaceFileHelper.getFileUri(n),i=n.f_name,r=o.create({url:s,name:i});d.decryptFile(r,n.s_id,n.f_id)}else{var c=_.get(this.baseMessage,"content.photoContent.mediaId"),i=_.get(this.baseMessage,"content.photoContent.filename")||"",s=a.mid2Url(c,{imageSize:"origin"}),r=o.create({url:s,name:i});r.download()}}},remove:function(){return this.sdkMsg.remove().catch(function(e){r.show("删除消息失败",{type:"error"})})},_hintWithDrawFail:function(e){r.show("撤回消息失败",{type:"error"})},getReceiverList:function(){var e=this;if(e.sendStatus===SendStatus.SENDING||e.sendStatus===SendStatus.SENDFAIL)return Promise.reject("消息还未发送");var t={},s=[],i=[];return e.sdkMsg.getReceivers().then(function(e){for(var r=[],o=[],a=0;a<e.length;a++)e[a].openIdEx.openId!==$my.uid&&(2===e[a].status?r.push(e[a].openIdEx.openId):o.push(e[a].openIdEx.openId));return Promise.all([n.getUsers(r),n.getUsers(o)]).then(function(e){return s=e[0].map(function(e){return{user:e}}),i=e[1].map(function(e){return{user:e}}),t.confirmReceivers=s,t.unConfirmReceivers=i,t})})},canRemove:function(){return this.baseMessage.creatorType===MsgCreatorType.SELF},canAddEmotion:function(){var e=[ContentType.IMG],t=this.baseMessage.content.contentType;return e.indexOf(t)!==-1},canBeDecrypt:function(){var e=[ContentType.TEXT],t=this.baseMessage.content.contentType;return e.indexOf(t)!==-1},isSafetyFile:function(){var e=this.baseMessage.content.contentType,t=[ContentType.SAFETY_IM_SPACE_FILE,ContentType.SAFETY_IMG,ContentType.SAFETY_AUDIO,ContentType.SAFETY_VIDEO,ContentType.SAFETY_NORMAL_VIDEO];return t.indexOf(e)!==-1},canSaveAs:function(){var e=[ContentType.IMG,ContentType.SAFETY_IMG],t=this.baseMessage.content.contentType;return e.indexOf(t)!==-1&&ua.isDesktop},canBeQuote:function(){var e=[ContentType.TEXT],t=this.baseMessage.content.contentType;return e.indexOf(t)!==-1&&this.baseMessage.memberTag!==MsgTag.DING&&!this.isMySend()&&!msgContentTypeChecker.isEmotionImage(this)},canBeForward:function(){var e=[ContentType.TEXT,ContentType.IMG,ContentType.FILE,ContentType.SHARE,ContentType.OA,ContentType.CARD,ContentType.GROUP_ANNOUNCE,ContentType.ORG_SPACE_FILE,ContentType.IM_SPACE_FILE,ContentType.SAFETY_IMG,ContentType.SAFETY_IM_SPACE_FILE],t=this.baseMessage.content.contentType;return e.indexOf(t)!==-1&&2!==this.baseMessage.memberTag}});return E}]),module.exports=moduleName;
},{"../../../lib/class":198,"../../../service/app/download/fileFactory":252,"../../../service/emotion/emotionPackageFactory":366,"../../../service/error/conversationError":375,"../../../service/file/spaceFileHelper":385,"../../../service/log/localLog":421,"../../../service/mediaId/mediaId":433,"../../../service/safety/safetyHelper":557,"../../app/nwWindow":257,"../../limitConfig":414,"../../log/log":422,"../../toast/toast":611,"../../ua":621,"../../user/my":635,"../../user/userManager":641,"../ContentType":293,"../ErrorText":296,"../MsgTag":300,"../SendStatus":304,"../msgContentTypeChecker":319,"./fileCache":315,"./msgFactory":316,"@ali/ding-api":711,"@ali/wksdk":779,"lodash":919,"semver":930,"wolfy87-eventemitter":944}],315:[function(require,module,exports){
"use strict";var cache={},id=1;exports.cache=function(c){var e=id++;return cache[e]=c,e},exports.delCache=function(c){return cache[c]=null,!0},exports.get=function(c){return cache[c]};
},{}],316:[function(require,module,exports){
"use strict";var moduleName="ddWeb.conv.msgFactory",$my=require("../../user/my"),_=require("lodash"),SendStatus=require("./../SendStatus"),MsgType=require("./../MsgType"),MsgCreatorType=require("./../MsgCreatorType"),fileCache=require("./fileCache"),limitConfig=require("../../limitConfig"),fileTypes=require("@ali/ding-filetypes"),ContentType=require("../ContentType"),uriResolve=require("../../uriResolve/resolve");angular.module(moduleName,[require("../../file/fileHelper"),require("../../senderExt/senderExtFactory")]).factory("msgFactory",["$fileHelper","senderExtFactory",function(e,t){return{genUUID:function(){return(new Date).getTime().toString()+parseInt(1e3*Math.random())},genSysMsg:function(e){var n=this,a=new Date-0,s=a-e.lastTime>0?a:e.lastTime+1,r={baseMessage:{content:{contentType:1,textContent:{text:e.text}},conversationId:e.cid,createdAt:s,creatorType:2,memberTag:0,messageId:e.mid||n.genUUID(),openIdEx:t.genOpenIdEx()},senderMessageStatus:{totalCount:0,unReadCount:0}};return r},genSendingMsg:function(e,n,a,s){var r=new Date-0,i=r-a>0?r:a+1,o={uuid:n,conversationId:e,type:1,creatorType:1,content:s,tag:0,nickName:$my.userProfileModel.nick,createdAt:i,memberTag:0,openIdEx:t.genOpenIdEx()},d={baseMessage:o,senderMessageStatus:{},sendStatus:SendStatus.SENDING};return d},genReceiveMsg:function(e,t){var n={baseMessage:e,senderMessageStatus:{totalCount:t,unReadCount:t-1},receiverMessageStatus:{readStatus:1},sendStatus:1};return void 0===n.baseMessage.memberTag&&(n.baseMessage.memberTag=0),n},genCreateConvMsg:function(e){var t=this.genUUID(),n=new Date-0,a={uuid:t,type:1,creatorType:2,content:{contentType:1,textContent:{text:$my.userProfileModel.nick+"发起了群聊"}},tag:0,nickName:$my.userProfileModel.nick,createdAt:n,memberTag:0};e&&e(a)},genSendingTextMsg:function(e){var n=e.cid,a=e.text,s=e.lastTime,r=_.get(e,"extra.atOpenIds"),i={contentType:1,textContent:{text:a}};r&&(i.atOpenIds=r);var o=new Date-0,d=o-s>0?o:s+1,c={uuid:this.genUUID(),conversationId:n,type:1,creatorType:1,content:i,tag:0,nickName:$my.userProfileModel.nick,createdAt:d,memberTag:0,openIdEx:t.genOpenIdEx()},u={baseMessage:c,senderMessageStatus:{},sendStatus:SendStatus.SENDING};return Promise.resolve(u)},genSendingSpaceFileMsg:function(e){var n,a=e.cid,s=e.spaceFileObj,r=!!e.spaceFileObj,i=e.file,o=e.lastTime,d=e.isCompanyGroup,c=parseInt(r?s.orgId:e.orgId),u=e.getSpaceIdPromise,g=new Date-0,l=g-o>0?g:o+1,p=r?s.name:i.name;n=r||d?ContentType.ORG_SPACE_FILE:ContentType.IM_SPACE_FILE;var m={contentType:n,attachments:[{extension:{f_name:p,f_size:r?s.size+"":i.size+"",f_type:fileTypes.getTypeByName(p),path:r?s.path:null,s_id:r?s.spaceId+"":null,f_id:r?s.id:null,cid:a},isPreload:0,size:0,type:0,url:""}]};d&&_.set(m,"attachments[0].extension.oid",c+"");var y={uuid:this.genUUID(),conversationId:a,type:MsgType.NORMAL,creatorType:MsgCreatorType.SELF,content:m,tag:0,nickName:$my.userProfileModel.nick,createdAt:l,memberTag:0,openIdEx:t.genOpenIdEx()},I={baseMessage:y,senderMessageStatus:{},sendStatus:SendStatus.SENDING};return!r&&i&&(_.set(I,"_local.fileId",fileCache.cache(i)),_.set(I,"_local.getSpaceIdPromise",u)),Promise.resolve(I)},genForwardMsg:function(e,t,n){var a={uuid:this.genUUID(),messageId:e,toConversationId:t,nickName:n};return a},genSendLinkMsg:function(e){var t={uuid:this.genUUID(),conversationId:e.conversationId,type:1,creatorType:1,content:{contentType:ContentType.SHARE,attachments:[e.attachment]}};return t},genSendingImgMsg:function(n){var a=n.cid,s=n.lastTime,r=n.file,i=n.mediaId||null,o=0;r?(o=r.size,i=null):i&&(o=n.picSize||0);var d=new Date-0,c=d-s>0?d:s+1,u=n.extension||null;if(!r&&!i)return Promise.reject({body:{reason:"file 和 mediaId 都为空"}});var g={mediaId:i,picSize:o,type:1,orientation:1,extension:u},l={contentType:2,photoContent:g},p={uuid:this.genUUID(),conversationId:a,type:1,creatorType:1,content:l,tag:0,nickName:$my.userProfileModel.nick,createdAt:c,memberTag:0,openIdEx:t.genOpenIdEx()},m={baseMessage:p,senderMessageStatus:{},sendStatus:SendStatus.SENDING,_local:{fileId:fileCache.cache(r)}};return r?(_.set(m,"_local.fileId",fileCache.cache(r)),o>limitConfig.IMAGE_READ_B64_SIZE_LIMIT?(_.set(m,"_local.localURI",uriResolve.assetsResolve("/app/img/filelogo/pic.png")),Promise.resolve(m)):new Promise(function(t,n){e.readFile(r,function(){var e=fileTypes.getTypeByName(r.name);_.set(m,"_local.localURI",r.dataURI),"jpg"!==e&&"jpeg"!==e||!r.orientation||(l.photoContent.orientation=r.orientation),t(m)})})):Promise.resolve(m)},genEOFMsg:function(){var e={baseMessage:{createdAt:0,messageId:this.genUUID(),creatorType:MsgCreatorType.EOF,content:{contentType:ContentType.EOF}},EOF:!0};return e}}}]),module.exports=moduleName;

},{"../../file/fileHelper":379,"../../limitConfig":414,"../../senderExt/senderExtFactory":598,"../../uriResolve/resolve":628,"../../user/my":635,"../ContentType":293,"./../MsgCreatorType":299,"./../MsgType":301,"./../SendStatus":304,"./fileCache":315,"@ali/ding-filetypes":714,"lodash":919}],317:[function(require,module,exports){
"use strict";var moduleName="ddWeb.conv.msgFactoryWithSDK",$my=require("../../user/my"),_=require("lodash"),SendStatus=require("./../SendStatus"),MsgType=require("./../MsgType"),MsgCreatorType=require("./../MsgCreatorType"),fileCache=require("./fileCache"),limitConfig=require("../../limitConfig"),fileTypes=require("@ali/ding-filetypes"),uriResolve=require("../../uriResolve/resolve"),ContentType=require("../ContentType");angular.module(moduleName,[require("../../file/fileHelper"),require("../../senderExt/senderExtFactory")]).factory("msgFactoryWithSDK",["$fileHelper","senderExtFactory",function(e,t){return{genSysMsg:function(e,n){var s=e.buildTextMsg(n.text,MsgCreatorType.SYSTEM),a=this,r=new Date-0,i=r-n.lastTime>0?r:n.lastTime+1,o={isCustom:!0,baseMessage:{content:{contentType:1,textContent:{text:n.text}},conversationId:n.cid,createdAt:i,creatorType:2,memberTag:0,messageId:n.mid||a.genUUID(),openIdEx:t.genOpenIdEx()},senderMessageStatus:{totalCount:0,unReadCount:0}};return _.merge(s,o)},genSendingTextMsg:function(e,n){var s=n.text,a=n.lastTime,r=_.get(n,"extra.atOpenIds"),i={contentType:1,textContent:{text:s}};r&&(i.atOpenIds=r);var o=+new Date,l=o-a>0?o:a+1,d={conversationId:e.cid,type:1,creatorType:1,content:i,tag:0,nickName:$my.userProfileModel.nick,createdAt:l,memberTag:0,openIdEx:t.genOpenIdEx()},c={isCustom:!0,baseMessage:d,senderMessageStatus:{},sendStatus:SendStatus.SENDING,sdkConv:e};return Promise.resolve(c)},genSendingSpaceFileMsg:function(e){var n,s=e.cid,a=e.spaceFileObj,r=!!e.spaceFileObj,i=e.file,o=e.lastTime,l=e.isCompanyGroup,d=parseInt(r?a.orgId:e.orgId),c=e.getSpaceIdPromise,u=new Date-0,p=u-o>0?u:o+1,g=r?a.name:i.name;n=r||l?ContentType.ORG_SPACE_FILE:ContentType.IM_SPACE_FILE;var m={contentType:n,attachments:[{extension:{f_name:g,f_size:r?a.size+"":i.size+"",f_type:fileTypes.getTypeByName(g),path:r?a.path:null,s_id:r?a.spaceId+"":null,f_id:r?a.id:null,cid:s},isPreload:0,size:0,type:0,url:""}]};l&&_.set(m,"attachments[0].extension.oid",d+"");var y={uuid:this.genUUID(),conversationId:s,type:MsgType.NORMAL,creatorType:MsgCreatorType.SELF,content:m,tag:0,nickName:$my.userProfileModel.nick,createdAt:p,memberTag:0,openIdEx:t.genOpenIdEx()},T={isCustom:!0,baseMessage:y,senderMessageStatus:{},sendStatus:SendStatus.SENDING};return!r&&i&&(_.set(T,"_local.fileId",fileCache.cache(i)),_.set(T,"_local.getSpaceIdPromise",c)),Promise.resolve(T)},genSendingImgMsg:function(n,s){var a=s.lastTime,r=s.file,i=s.mediaId||null,o=0;r?(o=r.size,i=null):i&&(o=s.picSize||0);var l=new Date-0,d=l-a>0?l:a+1,c=s.extension||null;if(!r&&!i)return Promise.reject({body:{reason:"file 和 mediaId 都为空"}});var u={mediaId:i,picSize:o,type:1,orientation:1,extension:c},p={contentType:2,photoContent:u},g={type:1,creatorType:1,content:p,tag:0,nickName:$my.userProfileModel.nick,createdAt:d,memberTag:0,openIdEx:t.genOpenIdEx()},m={isCustom:!0,baseMessage:g,senderMessageStatus:{},sendStatus:SendStatus.SENDING,_local:{fileId:fileCache.cache(r)},sdkConv:n};return r?(_.set(m,"_local.fileId",fileCache.cache(r)),o>limitConfig.IMAGE_READ_B64_SIZE_LIMIT?(_.set(m,"_local.localURI",uriResolve.assetsResolve("/app/img/filelogo/pic.png")),Promise.resolve(m)):new Promise(function(t,n){e.readFile(r,function(){var e=fileTypes.getTypeByName(r.name);_.set(m,"_local.localURI",r.dataURI),"jpg"!==e&&"jpeg"!==e||!r.orientation||(p.photoContent.orientation=r.orientation),t(m)})})):Promise.resolve(m)},genEOFMsg:function(e){var t=e.buildTextMsg("",MsgCreatorType.EOF),n={isCustom:!0,baseMessage:{createdAt:0,creatorType:MsgCreatorType.EOF,content:{contentType:ContentType.EOF}},EOF:!0};return _.merge(t,n)}}}]),module.exports=moduleName;

},{"../../file/fileHelper":379,"../../limitConfig":414,"../../senderExt/senderExtFactory":598,"../../uriResolve/resolve":628,"../../user/my":635,"../ContentType":293,"./../MsgCreatorType":299,"./../MsgType":301,"./../SendStatus":304,"./fileCache":315,"@ali/ding-filetypes":714,"lodash":919}],318:[function(require,module,exports){
var moduleName="ddWeb.conv.msgCache";angular.module(moduleName,[]).factory("msgCache",[function(){var e={},u=function(u,a){var d=u+"__"+a.getId(),r="";if(1===a.sendStatus){r=a.baseMessage.uuid;var t=u+"__"+r;delete e[t]}return e[d]&&e[d].uuid&&(r=e[d].uuid),e[d]?e[d].updateFromClonedMsg(a):e[d]=a,r&&(e[d].uuid=r,e[d].baseMessage.uuid=r),a},a=function(u,a){var d=u+"__"+a;delete e[d]},d=function(u,a){var d=u+"__"+a;return e[d]};return{cacheMsg:u,delMsgCache:a,getMsg:d}}]),module.exports=moduleName;
},{}],319:[function(require,module,exports){
"use strict";var _=require("lodash"),My=require("../user/my"),AtOpenIdType=require("../conversation/AtOpenIdType"),ContentType=require("./ContentType"),msgContentTypeChecker={isSafetyFile:function(e){var t=[ContentType.SAFETY_IMG,ContentType.SAFETY_AUDIO,ContentType.SAFETY_VIDEO,ContentType.SAFETY_NORMAL_VIDEO,ContentType.SAFETY_IM_SPACE_FILE];return t.indexOf(e)!==-1},isEmotionImage:function(e){return void 0!==_.get(e,"baseMessage.content.photoContent.extension.e_id")},hasImageMediaId:function(e){return!!_.get(e,"baseMessage.content.photoContent.mediaId")},hasAtMe:function(e){var t=_.get(e,"baseMessage.content.atOpenIds")||{};return Object.keys(t).indexOf(String(My.getId()))>-1},hasAtAll:function(e){var t=_.get(e,"baseMessage.content.atOpenIds")||{};return Object.keys(t).indexOf(AtOpenIdType.ALL)>-1&&!(My.getId()===parseInt(_.get(e,"baseMessage.openIdEx.openId")))},isCustomEmotion:function(e){return"undefined"===String(_.get(e,"baseMessage.content.photoContent.extension.p_id"))&&void 0!==_.get(e,"baseMessage.content.photoContent.extension.e_id")}};module.exports=msgContentTypeChecker;

},{"../conversation/AtOpenIdType":290,"../user/my":635,"./ContentType":293,"lodash":919}],320:[function(require,module,exports){
"use strict";var moduleName="ddWeb.conv.msgInstanceHelper",ContentType=require("./ContentType");angular.module(moduleName,[require("./msg/MsgWithSDK"),require("./msg/ImageMsgWithSDK")]).factory("msgInstanceHelper",["MsgWithSDK","ImageMsgWithSDK",function(e,t){var n=function(n){switch(n.baseMessage.content.contentType){case ContentType.IMG:return new t(n);default:return new e(n)}};return{instance:n}}]),module.exports=moduleName;

},{"./ContentType":293,"./msg/ImageMsgWithSDK":313,"./msg/MsgWithSDK":314}],321:[function(require,module,exports){
"use strict";module.exports={PC:"1"};

},{}],322:[function(require,module,exports){
"use strict";var moduleName="ddWeb.conversation.unreadConv",EventEmitter=require("wolfy87-eventemitter"),Class=require("../../lib/class"),SuperGroupStatus=require("./SuperGroupStatus"),$my=require("../user/my"),EVENTS=require("../events");angular.module(moduleName,[require("./conversationWithSDK"),require("../audio")]).factory("unreadConv",["conversationWithSDK","$rootScope","audioService",function(e,t,n){var r=Class.create({initialize:function(){this.unreadMsgCount=0,this.unreadConvList=[],t.$on(EVENTS.NEW_MSG_COUNT_CHANGE,function(){this._reGenerate()}.bind(this))},Implements:EventEmitter,EventsName:{UNREAD_UPDATE:"unread_update"},_reGenerate:function(){var t=e.getConvList(),r=e.getAllConv(),i=0,u=[];[].concat(t.pinOrder,t.order).forEach(function(e){var t=r[e];t&&t.newMsg&&!t.notificationOff&&(i+=t.newMsg,u.push(t))});var o=this.unreadMsgCount;this.unreadConvList=u,this.unreadMsgCount=i,$my.syncProtocol&&this.unreadMsgCount>o&&n.play("message"),this.emit(this.EventsName.UNREAD_UPDATE,{unreadMsgCount:this.unreadMsgCount,unreadConvList:this.unreadConvList})}});return new r}]),module.exports=moduleName;

},{"../../lib/class":198,"../audio":265,"../events":376,"../user/my":635,"./SuperGroupStatus":305,"./conversationWithSDK":308,"wolfy87-eventemitter":944}],323:[function(require,module,exports){
module.exports={TEXT_SINGLE:9,TEXT:10,SAFETY_IMG_SINGLE:13,SAFETY_IMG:14,SAFETY_AUDIO_SINGLE:15,SAFETY_AUDIO:16,SAFETY_VIDEO_SINGLE:17,SAFETY_VIDEO:18,SAFETY_NORMAL_VIDEO_SINGLE:19,SAFETY_NORMAL_VIDEO:20,SAFETY_IM_SPACE_SINGLE:21,SAFETY_IM_SPACE:22};

},{}],324:[function(require,module,exports){
var Class=require("../../lib/class");require("../../directive/selectorPanel/selectorPanel"),require("../../service/selectorPanel/PanelType"),require("../../directive/widget/selectorBar"),require("../../service/toast/toast"),require("../../service/goldlog/goldlog"),require("../../service/widget/selectorBar/selectorBarTool"),require("../../service/log/lwlog.js");var $my=require("../user/my"),IMLogType=require("../../service/log/imLogType"),app=angular.module("ddWeb.service.CreateGroup",["ddWeb.selectorPanel","ddWeb.service.PanelType","ddWeb.widget.selectorBar","ddWeb.toast",require("../../service/conversation/conversationWithSDK"),"ddWeb.goldlog","ddWeb.service.selectorBarTool","ddWeb.log.lwlog",require("../selectorPanel/selected/selectedList"),require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("../../service/log/imLog")]).factory("CreateGroup",["$rootScope","PanelType","toastService","conversationWithSDK","goldlog","selectorBarTool","lwlog","SelectedList","selectedItemFactory","selectedItemType","imLog",function(e,r,t,i,o,l,c,s,n,a,d){var u=Class.create({initialize:function(e,r){this.lockedIds=[],this.disableSend=!1,this.isOrg=e,this.oid=r,this.groupName=null},init:function(){console.log("$my.syncProtocol CreateGroup",$my.syncProtocol),this._selectSelf(),this._initEvent(),this._SelectedList=new s([],this.lockedIds)},_selectSelf:function(){var e=n.genSelectedItem(a.USER,$my);this.lockedIds.push(e)},_initEvent:function(){var e=$(".create-group-form-left-box .selectorBar-container");e.on("click",function(){var e="selector-bar-input";l.focusBar(e)})},submit:function(e){var r=this,l=null,s=null;this.groupName&&(s=this.groupName.trim()),l=this._getUidArr(),this._validate(l)&&(this.disableSend=!0,i.createConversation(l,s,{isOrg:this.isOrg,oid:this.oid},function(i,l){var s=null,n=null;return r.disableSend=!1,i?(n=arguments[1],d.trace(n,IMLogType.MAIPAGE_CREATE),o.log("mainpage_groupchat_create_click","cid="+n),c.commLog("mainpage_groupchat_create_click","cid="+n),e(),void r._chatWithGroup(n)):(s=arguments[1],void(s.body&&s.body.reason&&t.show(s.body.reason,{type:"error"})))}))},_getUidArr:function(){return this._SelectedList.getSelected().filter(function(e){return e.model.uid!==$my.uid}).map(function(e){return e.model.uid||""})},_chatWithGroup:function(r){e.$broadcast("leftpannel.openChatByGroup",{conversationId:r})},_validate:function(e){var r=1500;return!(e.length>r)||(t.show("人数应该为1-1500人",{type:"error"}),!1)}});return u}]);

},{"../../directive/selectorPanel/selectorPanel":135,"../../directive/widget/selectorBar":188,"../../lib/class":198,"../../service/conversation/conversationWithSDK":308,"../../service/goldlog/goldlog":399,"../../service/log/imLog":419,"../../service/log/imLogType":420,"../../service/log/lwlog.js":424,"../../service/selectorPanel/PanelType":590,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/toast/toast":611,"../../service/widget/selectorBar/selectorBarTool":672,"../selectorPanel/selected/selectedList":596,"../user/my":635}],325:[function(require,module,exports){
var _=require("lodash"),Class=require("../../lib/class"),ua=require("../ua");if(ua.isDesktop)var db=require("./db"),SearchManager=require("../nativesearch/DTSearchManager");var WK=require("@ali/wksdk"),TableEntry=Class.create({initialize:function(){this.tableName="",this.tableDef=null,this.colsDefs=null,this.cols=null,this.indexDefs=null,this._defineTable(),this._defineSerializationMap(),this.tableWrapper=null,this.getTableWrapper=db.afterInit().then(function(e){return this.tableWrapper=e.instanceTable()}.bind(this))},_initTable:function(){return this.getTableWrapper.then(function(){return this.tableWrapper.init(this.tableName,this.colsDefs,this.indexDefs)}.bind(this)).then(function(){return SearchManager&&SearchManager.addChatIndexToSource(this.tableName),Promise.resolve()}.bind(this))},_neadJsonParse:function(e){return/Json$/.test(e)},_set:function(e,t,i){var r=t.split("."),n=r.length;if(n){for(var a=0;a<n-1;a++)void 0===e[r[a]]&&(e[r[a]]={}),e=e[r[a]];e[r[n-1]]=i}},_defineTable:function(){console.log("table Define must be overwrite")},rebuild:function(){return this.getTableWrapper.then(function(){return this.tableWrapper.erase()}.bind(this))},_defineSerializationMap:function(){this.serializeMap={}},_serialization:function(e){var t=this.serializeMap,i=this.cols||[],r=i.map(function(i){var r=_.get(t,i);if(r){var n=_.get(e,r);return _.isObject(n)||_.isArray(n)?JSON.stringify(n):n}return r});return r},_deserialization:function(e){var t=this.serializeMap,i=this.cols||[],r={},n=this;return i.forEach(function(i){var a=t[i],s=e[i];a&&(n._neadJsonParse(i)&&_.isString(s)?n._set(r,a,JSON.parse(s)):n._set(r,a,s))}),r}});ua.isDesktop&&(TableEntry.eraseTables=function(){var e=[];return e.push(WK.messageTableDef.tableRegExp),e.push(WK.conversationTableDef.TABLE_NAME),db.afterInit().then(function(t){return t.dbQueryHelper.eraseTables(e)})}),ua.isDesktop&&(TableEntry.beginTransaction=function(e){return db.afterInit().then(function(t){return t.dbQueryHelper.beginTransaction.bind(t.dbQueryHelper)(e)})}),module.exports=TableEntry;

},{"../../lib/class":198,"../nativesearch/DTSearchManager":486,"../ua":621,"./db":327,"@ali/wksdk":779,"lodash":919}],326:[function(require,module,exports){
module.exports={CONVERSATION_TABLE_NAME:"ddConversation"};
},{}],327:[function(require,module,exports){
"use strict";function createDefer(){var e={};return e.promise=new Promise(function(r,i){e.resolve=r,e.reject=i}),e}function init(){var e=$my.getId(),r=md5(e+"@dingding");if(ua.isDesktop)if(ua.isNw){var i=_nwrequire("path");localFilePathManager.initUserFilePath(),localFilePathManager.initDBFilePath();var t=localFilePathManager.getDBFilePath(),a=i.join(t,DATABASE_NAME);if("release"!=window.desktopEnv)var l=_nwrequire("@ali/dingtalk-sqlite3").sqlite3.verbose();else var l=_nwrequire("@ali/dingtalk-sqlite3").sqlite3;var n={sqlite:l,filename:a,encryptKey:r};dtSqliteWrapper=new SqliteWrapper(n);var o=dtSqliteWrapper.getDBLog();o.logEmitter.on("info",localLog.info),o.logEmitter.on("error",localLog.error),isInit=!0,_initDefer.resolve(dtSqliteWrapper)}else if(ua.isDingTalkWin){localFilePathManager.initUserFilePath(),localFilePathManager.initDBFilePath();var t=localFilePathManager.getDBFilePath(),a=t+"\\"+DATABASE_NAME,l=window.dingtalkWindowsGlue.sqlite3,n={sqlite:l,filename:a,encryptKey:r};dtSqliteWrapper=new SqliteWrapper(n);var o=dtSqliteWrapper.getDBLog();o.logEmitter.on("info",localLog.info),o.logEmitter.on("error",localLog.error),isInit=!0,_initDefer.resolve(dtSqliteWrapper)}}function afterInit(){return isInit?Promise.resolve(dtSqliteWrapper):_initDefer.promise}function reset(){dtSqliteWrapper.reset(),isInit=!1,_initDefer=createDefer()}var $my=require("../user/my"),localFilePathManager=require("../app/localFilePathManager"),ua=require("../ua"),DATABASE_NAME="DINGTALK.db",localLog=require("../log/localLog"),SqliteWrapper=require("@ali/sqlite-wrapper"),dtSqliteWrapper=null,_initDefer=createDefer(),isInit=!1,md5=require("md5");ua.isDesktop?module.exports={init:init,afterInit:afterInit,getDbName:function(){return DATABASE_NAME},getDtSqliteWrapper:function(){return dtSqliteWrapper},reset:reset}:module.exports=null;

},{"../app/localFilePathManager":254,"../log/localLog":421,"../ua":621,"../user/my":635,"@ali/sqlite-wrapper":743,"md5":921}],328:[function(require,module,exports){
module.exports={db:require("./db"),TableEntry:require("./TableEntry")};

},{"./TableEntry":325,"./db":327}],329:[function(require,module,exports){
"use strict";var moduleName="ddWeb.modal.debugTool",path=require("path");require("../modal/modal");var dbDebugTool=require("./dbDebugTool");angular.module(moduleName,["ddWeb.modal"]).factory("$dbDebugTools",["$modal",function(e){return function(){var l=e.open({template:'<div class="dialog mini add-friend-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">debug tools</span>\n    </div>\n    <div class="body">\n        <input class="input" type="text" autofocus="true" name="uid" ng-model="dbDebugToolsCtrl.queryMsgText" required placeholder="查询消息" style="width:60%">\n        <button ng-click="dbDebugToolsCtrl.queryMsg()" class="middle" style="width:100px">query</button>\n\n        <button ng-click="dbDebugToolsCtrl.delSearchDataAndRebuild()" class="middle" style="width:100%;margin-top:10px">delSearchDataAndRebuild</button>\n    </div>\n    <div class="foot">\n    </div>\n</div>\n',controller:"dbDebugToolsCtrl",controllerAs:"dbDebugToolsCtrl"});return l.result}}]).controller("dbDebugToolsCtrl",["$modalInstance",function(e){this.queryMsgText="",this.queryMsg=function(){dbDebugTool.selectMsgFromAllMsgTables(this.queryMsgText).then(function(e){console.log(e)})},this.delSearchDataAndRebuild=function(){require("../nativesearch/DTSearchManager").delSearchDataAndRebuild()}}]),module.exports=moduleName;

},{"../modal/modal":458,"../nativesearch/DTSearchManager":486,"./dbDebugTool":330,"path":7}],330:[function(require,module,exports){
function selectMsgFromAllMsgTables(e){var n=db.getDtSqliteWrapper(),r="SELECT name FROM sqlite_master where type = 'table'",t=/^ddmsg_([0-9a-zA-Z]){32}/;if(ua.isDesktop)return Promise.resolve().then(function(){return new Promise(function(e,o){n.dbConn.getDBSync(n.dbConn.operationMode.OPEN_READONLY).all(r,function(n,r){if(n)o(n);else{var i=r.filter(function(e){return t.test(e.name)}).map(function(e){return e.name});e(i)}})})}).then(function(r){var t=WKim.messageTableDef.colsEnums,o=r.map(function(r){var o="SELECT * FROM "+r+" WHERE "+t.CONTENT+" like ?";return new Promise(function(r,t){n.dbConn.getDBSync(n.dbConn.operationMode.OPEN_READONLY).all(o,["%"+e+"%"],function(e,n){e?t(e):r(n)})})});return Promise.all(o).then(function(e){return Promise.resolve(e.filter(function(e){return e.length>0}))})})}var ua=require("../ua"),WKim=require("@ali/wksdk"),db=require("../db/db");module.exports.selectMsgFromAllMsgTables=selectMsgFromAllMsgTables;

},{"../db/db":327,"../ua":621,"@ali/wksdk":779}],331:[function(require,module,exports){
module.exports={LOCAL:0,SPACE:1,IMAGE:2,LINK:3};

},{}],332:[function(require,module,exports){
require("../listContainer/ListItem"),angular.module("ddWeb.ding.Comment",["ddWeb.listContainer.ListItem"]).factory("Comment",["ListItem",function(t){var e=t.extend({initialize:function(t,i){e.superclass.initialize.call(this,t),this.data=t,this.stateIsNew=i||!1,this.isUploading=!1,this.percent=0},getId:function(){return this.data.commentId},makeOld:function(){this.stateIsNew=!1},isNew:function(){return this.stateIsNew},getSortValue:function(){return this.data.createAt}});return e}]);

},{"../listContainer/ListItem":416}],333:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.Ding",paddingKeys=require("./paddingKeys"),msgpack=require("@ali/msgpack"),EventEmitter=require("wolfy87-eventemitter"),$my=require("../user/my"),DingCommentAuthType=require("./DingCommentAuthType");require("../listContainer/ListContainer"),require("../listContainer/ListItem"),require("./Comment");var EVENTS=require("../events"),_=require("lodash");angular.module(moduleName,[require("@ali/ding-api").interface.IDLDing,"ddWeb.listContainer.ListContainer","ddWeb.ding.Comment","ddWeb.listContainer.ListItem",require("../conversation/conversationWithSDK"),require("./DingType"),require("./DingSendStatus"),require("../log/log"),require("../user/userManager"),require("./DingReceiveStatus"),require("../../service/ding/DingAttachmentType")]).factory("Ding",["IDLDing","ListContainer","Comment","ListItem","conversationWithSDK","$rootScope","DingType","DingSendStatus","log","userManager","DingReceiveStatus","DingAttachmentType","$translate",function(t,e,i,n,s,o,r,m,d,a,u,c,h){var g=n.extend({initialize:function(t){$.extend(this,t);if(this.id=t.dingId,this.dingEntity&&this.dingEntity.data&&"string"==typeof this.dingEntity.data)try{this.dingEntity.data=paddingKeys(msgpack.decodeFromB64(this.dingEntity.data),"ContentModel")}catch(t){d.error(t.toString()+" | Scene: decode ding entity , data :"+this.dingEntity.data),this.dingEntity.data={}}if(this.dingEntity&&this.dingEntity.extInfo)try{var e=JSON.parse(this.dingEntity.extInfo);this.dingEntity.extInfo=e}catch(t){console.log(t)}this.receiverList=null,this.comments={},this.comments.totalCount=0,this.updateCommentList(),this.comments.totalCount=this.dingCommentCount||0,this.isSent=this.senderIdentity===r.SEND,this.isReceive=this.senderIdentity===r.RECEIVE,this.isMy=this.senderIdentity===r.MYSELF;var i=_.get(this,"senderUidEx.uid");i&&a.getUsers([i]).then(function(t){0!==t.length&&t[0]&&t[0].compareTag(_.get(this,"senderUidEx.tag"))})},Implements:EventEmitter,EventsName:{UPDATE_CONFIRM:"update_confirm",UPDATE_PARTICIPATOR:"update_participator"},updateCommentList:function(){var t=this;this.comments.commentList=new e({itemConstructor:i,getMore:function(e,i,n){if(!i||!i.EOF){var s=i&&i.data&&i.data.createAt?i.data.createAt:0;t._getCommentList(e,s,n)}},autoPullData:!1})},extend:function(t){t.dingEntity&&(t.dingEntity=this.dingEntity),$.extend(this,t)},getReceiverList:function(e,i){var n=this;if(!this.id)return void d.error("ding id is null");var s=[],o=[];t.listDingReceiverListV2(n.id,function(t){if(200===t.code){var i=t.body.confirmList.map(function(t){return t.uid}),r=t.body.unConfirmList.map(function(t){return t.uid});n.isReceive&&n.commentAuth===DingCommentAuthType.ON&&(i=i.filter(function(t){return t===$my.uid}),r=r.filter(function(t){return t===$my.uid})),Promise.all([a.getUsers(i),a.getUsers(r)]).then(function(i){s=i[0].map(function(t,e){return{user:t}}),o=i[1].map(function(e,i){var s="";return _.get(n,"senderUidEx.uid")===$my.uid&&(s=u.getStatusText(t.body.unConfirmList[i].confirmStatus),s&&(s="["+s+"]")),{user:e,status:s,statusCode:t.body.unConfirmList[i].confirmStatus}}),_.set(n,"receiverList.unConfirmList",o),_.set(n,"receiverList.confirmList",s),e&&e(n.receiverList)})}})},updateReceiverStatus:function(t,e){var i=this,n=_.get(i,"receiverList.unConfirmList")||[];t.forEach(function(t){for(var i=0;i<n.length;i++)if(n[i].user.userProfileModel.uid===t){var s=u.getStatusText(e);s&&(n[i].status="["+s+"]"),n[i].statusCode=e;break}}),this.emitEvent(this.EventsName.UPDATE_PARTICIPATOR)},getMoreComment:function(t){this.comments.commentList.showMore(t)},_getCommentList:function(e,i,n){var s=this;t.listDingComment(this.id,!1,i,e,function(t){200===t.code&&(s.comments.totalCount=t.body.totalCount,n&&n(t.body.commentList))})},sendAttachmentComment:function(e,i){var n=this,s={dingId:this.id,commentContentModel:{type:c.TEXT,textContent:{textContent:h.instant("and_ding_attach_version_low_content")}},attachments:[e]};return t.sendDingComment(s).result.then(function(t){s.commenterUidEx={uid:$my.uid},s.commentId=t.body.dingCommentId,s.createAt=t.body.dingCreateAt,s.replyIds=i,n.comments.totalCount=n.comments.totalCount+1,n.comments.commentList.update([s])})},sendComment:function(e,i,n){var s=this,o={dingId:this.id,commentContentModel:e,replyIds:i};t.sendDingComment(o,function(t){200===t.code&&(o.commenterUidEx={uid:$my.uid},o.commentId=t.body.dingCommentId,o.createAt=t.body.dingCreateAt,o.replyIds=i,s.comments.totalCount=s.comments.totalCount+1,s.comments.commentList.update([o])),n&&n()})},removeComment:function(t){var e=this;e.comments.commentList.remove(t.commentId),e.comments.totalCount=t.totalCount},receiveComment:function(t){var e=this;if(t.commenterUidEx&&t.commenterUidEx.uid===$my.uid)var n=new i(t,!1);else var n=new i(t,!0);var s=e.comments.commentList.update([n]);e.comments.totalCount+=s,e.modifyAt=t.createAt},updateSendStatus:function(t){this.sendStatus=t},active:function(){this.updateCommentList(),this.comments.commentList.active(),this.getReceiverList(),o.$broadcast(EVENTS.DING_COMMENT_UNREAD_CHANGE)},deactive:function(){this.comments.commentList.deactive()},isNew:function(){return(this.senderIdentity===r.RECEIVE||this.senderIdentity===r.MYSELF&&this.sendStatus===m.SENT)&&1!==this.confirmStatus},getId:function(){return this.id},makeOld:function(){return!0},getSortValue:function(){return this.modifyAt>this.sendAt?this.modifyAt:this.sendAt},confirm:function(e){if(this.isReceive||this.isMy&&this.sendStatus===m.SENT){var i=this;t.confirmDing(this.id,function(t){200===t.code?(e&&e(!0),i.trans2Confirmed(),i.emitEvent(i.EventsName.UPDATE_CONFIRM)):e&&e(!1)})}},trans2Confirmed:function(){(this.isReceive||this.isMy&&this.sendStatus===m.SENT)&&(this.confirmStatus=1,this.getReceiverList(),o.$broadcast(EVENTS.RECEIVE_DING_CONFIRM_CHANGE))},receiverConfirm:function(t,e){var i=this,n=_.get(i,"receiverList.unConfirmList")||[],s=_.get(i,"receiverList.confirmList")||[],o=null;this.unConfirmCount=e;for(var r=0;r<n.length;r++)if(n[r].user.userProfileModel.uid===t){o=n.splice(r,1);break}o&&o.length>0&&s.push(o[0]),this.emitEvent(this.EventsName.UPDATE_CONFIRM)}});return g}]),module.exports=moduleName;

},{"../../service/ding/DingAttachmentType":335,"../conversation/conversationWithSDK":308,"../events":376,"../listContainer/ListContainer":415,"../listContainer/ListItem":416,"../log/log":422,"../user/my":635,"../user/userManager":641,"./Comment":332,"./DingCommentAuthType":336,"./DingReceiveStatus":341,"./DingSendStatus":342,"./DingType":343,"./paddingKeys":361,"@ali/ding-api":711,"@ali/msgpack":729,"lodash":919,"wolfy87-eventemitter":944}],334:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingAttachmentManager",Class=require("../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),ATTACHMENT_INSTANCE_TYPE=require("./AttachmentInstanceType");angular.module(moduleName,[require("../../service/toast/toast"),require("../../service/ding/DingAttachmentType"),require("./attachments/LocalFileAttachment"),require("./attachments/SpaceFileAttachment"),require("./attachments/ImageAttachment"),require("./attachments/DingAttachment"),require("./attachments/LinkAttachment"),require("./attachments/FileAttachment")]).factory("DingAttachmentManager",["toastService","DingAttachmentType","LocalFileAttachment","SpaceFileAttachment","ImageAttachment","DingFileAttachment","LinkAttachment","FileAttachment",function(t,e,n,a,i,r,s,c){var h=Class.create({initialize:function(t){this.attachments=[],this.limit=t.limit||1},Implements:EventEmitter,ErrorMsg:{OVER_LIMIT:"超出了上传附件数量限制"},EventsName:{UPDATE_LIST:"updateList",FILE_PROGRESS:"fileProgress",FILE_UPLOAD_SUCCESS:"fileUploadSuccess",FILE_UPLOAD_ERROR:"fileUploadError"},showErrorMsg:function(e){t.show(e,{type:"error",timeout:5e3})},getInstance:function(t){return t.instanceType===ATTACHMENT_INSTANCE_TYPE.LOCAL?new n(t):t.instanceType===ATTACHMENT_INSTANCE_TYPE.SPACE?new a(t):t.instanceType===ATTACHMENT_INSTANCE_TYPE.IMAGE?new i(t):t.instanceType===ATTACHMENT_INSTANCE_TYPE.LINK?new s(t):t.instanceType===ATTACHMENT_INSTANCE_TYPE.FILE?new c(t):new r(t)},isUploading:function(){for(var t=0,e=!1;t<this.attachments.length;){if(this.attachments[t].isUpload()){e=!0;break}t++}return e},addAttachment:function(t){if(!t)return!1;if(this.attachments.length===this.limit)return this.showErrorMsg(this.ErrorMsg.OVER_LIMIT),!1;var e=this.getInstance(t);if(!e.isValid())return!1;if(t.instanceType===ATTACHMENT_INSTANCE_TYPE.SPACE){var n=_.findIndex(this.attachments,function(t){return t.attachment.id===e.attachment.id});n===-1&&(this.attachments.push(e),e.upload())}else this.attachments.push(e),e.upload();return!0},addAttachments:function(t){for(var e=0;e<t.length&&this.addAttachment(t[e]);)e++},getDingAttachments:function(){return this.attachments.map(function(t){return t.getSendDingModel()}.bind(this))},removeFileById:function(t){_.remove(this.attachments,function(e){return e._id===t}),this.emit(this.EventsName.FILE_LIST)}});return h}]),module.exports=moduleName;

},{"../../lib/class":198,"../../service/ding/DingAttachmentType":335,"../../service/toast/toast":611,"./AttachmentInstanceType":331,"./attachments/DingAttachment":345,"./attachments/FileAttachment":346,"./attachments/ImageAttachment":347,"./attachments/LinkAttachment":348,"./attachments/LocalFileAttachment":349,"./attachments/SpaceFileAttachment":350,"wolfy87-eventemitter":944}],335:[function(require,module,exports){
var moduleName="ddWeb.ding.DingAttachmentType";angular.module(moduleName,[]).value("DingAttachmentType",{TEXT:1,AUDIO:2,IMAGE:3,FILE:4,LINK:5,RED_ENVELOPE:6,SPACE_FILE:7}),module.exports=moduleName;

},{}],336:[function(require,module,exports){
module.exports={OFF:0,ON:1};

},{}],337:[function(require,module,exports){
module.exports={TEXT:1,AUDIO:2};

},{}],338:[function(require,module,exports){
module.exports={DEFAULT:0,FILE:1,IMAGE:2,LINK:3};
},{}],339:[function(require,module,exports){
require("../listContainer/ListContainer"),angular.module("ddWeb.ding.DingListContainer",["ddWeb.listContainer.ListContainer"]).factory("DingListContainer",["ListContainer",function(t){var e=t.extend({initialize:function(t,n){e.superclass.initialize.call(this,t,n),this.hasNewComment=!1,this.EventsName.NEW_COMMENT_CHANGE="new_comment_change"},_genShowItems:function(){e.superclass._genShowItems.call(this),this.reCountNewComment()},reCountNewComment:function(){this.hasNewComment=this.showItems.some(function(t){return!(!t.comments||!t.comments.commentList)&&t.comments.commentList.newCount}),this.emitEvent(this.EventsName.NEW_COMMENT_CHANGE)},removeItem:function(t){var e=this.Ids.indexOf(t);e!==-1&&(this.Ids.splice(e,1),this._cache[t]&&delete this._cache[t],this._genShowItems(),this.genNewCount(),this.emitEvent(this.EventsName.DELETE_ITEM))}});return e}]);

},{"../listContainer/ListContainer":415}],340:[function(require,module,exports){
angular.module("ddWeb.ding.DingPushType",[]).value("DingPushType",{CREATE_DING:1,CONFIRM_DING:2,SELF_CONFIRM_DING:3,FINISH_DING:4,DING_COMMENT_CREATE:5,DING_SEND:6,USER_DING_COUNT:7,USER_DING_STATUS_CHANGE:8,DING_SEND_STATUS_CHANGE:9,DING_RECEIVER_STATUS_CHANGE:12,DING_AGAIN_NOTIFY:13,DING_DELETE_REPLY:20});

},{}],341:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.DingReceiveStatus",defaultOption={"-1":"等待提醒中",1:"应用内提醒中...",2:"短信提醒中...",3:"电话提醒中...",4:"出现未知问题，提醒失败",5:"等待提醒中",10:"未接听，已发送短信提醒",11:"拒接，已发送短信提醒",12:"接起未听完，已发送短信提醒",13:"不在服务区，已发送短信提醒",14:"已关机，已发送短信提醒",15:"正在通话中，已发送短信提醒",16:"出现未知问题，已发送短信提醒",17:"出现未知问题，已发送短信提醒",18:"出现未知问题，提醒失败",20:"已发送短信提醒",21:"提醒短信发送失败",22:"出现未知问题，提醒失败",30:"已发送应用内提醒",31:"应用内提醒发送失败",32:"对方未安装钉钉，已发送短信提醒"},option=null,timer=null,app=angular.module(moduleName,[require("@ali/ding-api").interface.IDLDing]);app.factory("DingReceiveStatus",["IDLDing",function(t){function e(){i(),t.getConfirmStatusInfo(function(t){if(200===t.code)try{option=JSON.parse(t.body)}catch(t){option=defaultOption}else option=defaultOption})}function i(){clearTimeout(timer),timer=setTimeout(function(){e()},864e5)}function n(t){return option[t]}return{init:e,getStatusText:n}}]),module.exports=moduleName;

},{"@ali/ding-api":711}],342:[function(require,module,exports){
var moduleName="ddWeb.ding.DingSendStatus";angular.module(moduleName,[]).value("DingSendStatus",{SENT:0,NOTSEND:1}),module.exports=moduleName;

},{}],343:[function(require,module,exports){
var moduleName="ddWeb.ding.DingType";angular.module(moduleName,[]).value("DingType",{RECEIVE:1,SEND:2,MYSELF:3}),module.exports=moduleName;

},{}],344:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.baseAttachment",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog");angular.module(moduleName,[require("../../../service/toast/toast"),require("../../../service/tool/tool")]).factory("BaseAttachment",["toastService","tool",function(e,t){var i=Class.create({initialize:function(e){this._id=t.buildUniqueKey(),this.percent=0,this.isUploading=!1,this.attachment=e||{}},Implements:EventEmitter,EventsName:{ITEM_UPDATE:"itemUpdate",FILE_PROGRESS:"fileProgress",FILE_UPLOAD_SUCCESS:"fileUploadSuccess",FILE_UPLOAD_ERROR:"fileUploadError"},ErrorMsg:{FILE_NULL:"文件为空",OVER_SIZE:"单个文件不能超过2G"},showErrorMsg:function(t){e.show(t,{type:"error",timeout:5e3})},upload:function(){},isUpload:function(){return this.isUploading},isValid:function(){return!0},getDingAttachmentType:function(){return this.getSendDingModel().type}});return i}]),module.exports=moduleName;
},{"../../../lib/class":198,"../../../service/toast/toast":611,"../../../service/tool/tool":616,"../../log/localLog":421,"wolfy87-eventemitter":944}],345:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.DingFileAttachment",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),mediaIdFactory=require("@ali/ding-mediaid"),previewFileConfig=require("../../../service/file/previewFileConfig"),spaceFileHelper=require("../../../service/file/spaceFileHelper"),ContentType=require("../../../service/conversation/ContentType");angular.module(moduleName,[require("./BaseAttachment"),require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes"),require("../DingAttachmentType")]).factory("DingFileAttachment",["BaseAttachment","DingAttachmentType","$fileHelper","$fileTypes",function(e,i,t,n){var r=e.extend({initialize:function(e){var a=this;if(r.superclass.initialize.call(this,e),e.type===i.LINK){var s=_.get(e,"linkContent.extension")||{};this.name=s.f_name,this.ext=s.f_type,this.displaySize=t.formatFileSize(parseInt(s.f_size)),e.linkContent.type!==ContentType.ORG_SPACE_FILE&&e.linkContent.type!==ContentType.IM_SPACE_FILE||(this.isImg=n.isImg(s.f_type),this.isImg&&a.getPreviewUri().then(function(e){a.imageUrl=e.preview_url,a.emit(a.EventsName.UPDATE)}))}else{this.name=this.attachment.fileName,this.ext=e.detailType,this.isImg=n.isImg(this.ext),this.displaySize=t.formatFileSize(e.size);try{this.imageUrl=mediaIdFactory.mid2Url(e.mediaId,{imageOrigin:"thumb"})}catch(e){}}},getPreviewUri:function(){var e=this.attachment.linkContent.extension||{},i={f_name:e.f_name,s_id:e.s_id,f_id:e.f_id,f_size:parseInt(e.f_size)};return spaceFileHelper.getPreviewUri(i,previewFileConfig.iframe_width,previewFileConfig.iframe_height)},getDingFileItem:function(){return{name:this.name,isImg:this.isImg,imageUrl:this.imageUrl||"",ext:this.ext,size:this.attachment.size,displaySize:this.displaySize}},getSendDingModel:function(){return this.attachment}});return r}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/conversation/ContentType":293,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../../service/file/previewFileConfig":382,"../../../service/file/spaceFileHelper":385,"../../log/localLog":421,"../DingAttachmentType":335,"./BaseAttachment":344,"@ali/ding-mediaid":716,"wolfy87-eventemitter":944}],346:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.FileAttachment",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),mediaIdFactory=require("@ali/ding-mediaid");angular.module(moduleName,[require("./BaseAttachment"),require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes"),require("../DingAttachmentType")]).factory("FileAttachment",["BaseAttachment","DingAttachmentType","$fileHelper","$fileTypes",function(e,i,t,a){var l=e.extend({initialize:function(e){this.isImg=!1,l.superclass.initialize.call(this,e)},getDingFileItem:function(){return{name:this.attachment.fileName,isImg:this.isImg,imageUrl:this.imageUrl||"",ext:this.attachment.fileType,size:this.attachment.fileSize,displaySize:t.formatFileSize(this.attachment.fileSize)}},getSendDingModel:function(){return{type:i.FILE,mediaId:this.attachment.mediaId,size:this.attachment.fileSize,fileName:this.attachment.fileName,detailType:this.attachment.fileType}}});return l}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../log/localLog":421,"../DingAttachmentType":335,"./BaseAttachment":344,"@ali/ding-mediaid":716,"wolfy87-eventemitter":944}],347:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.ImageAttachment",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),mediaIdFactory=require("@ali/ding-mediaid");angular.module(moduleName,[require("./BaseAttachment"),require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes"),require("../DingAttachmentType")]).factory("ImageAttachment",["BaseAttachment","DingAttachmentType","$fileHelper","$fileTypes",function(e,i,t,a){var m=e.extend({initialize:function(e){this.isImg=!0;try{this.imageUrl=mediaIdFactory.mid2Url(e.mediaId,{imageOrigin:"thumb"})}catch(e){}this.imageUrl&&!e.filename?(this.ext=this.imageUrl.split(".").pop(),e.filename="未命名图片."+this.ext):this.ext=a.getTypeByName(e.filename),this.displaySize=t.formatFileSize(e.picSize),m.superclass.initialize.call(this,e)},getDingFileItem:function(){return{name:this.attachment.filename,isImg:this.isImg,imageUrl:this.imageUrl||"",ext:this.ext,size:this.attachment.picSize,displaySize:this.displaySize}},getSendDingModel:function(){return{type:i.IMAGE,mediaId:this.attachment.mediaId,size:this.attachment.picSize,fileName:this.attachment.filename,detailType:this.ext}}});return m}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../log/localLog":421,"../DingAttachmentType":335,"./BaseAttachment":344,"@ali/ding-mediaid":716,"wolfy87-eventemitter":944}],348:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.LinkAttachment",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),mediaIdFactory=require("@ali/ding-mediaid"),previewFileConfig=require("../../../service/file/previewFileConfig"),spaceFileHelper=require("../../../service/file/spaceFileHelper"),ContentType=require("../../../service/conversation/ContentType");angular.module(moduleName,[require("./BaseAttachment"),require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes"),require("../DingAttachmentType")]).factory("LinkAttachment",["BaseAttachment","DingAttachmentType","$fileHelper","$fileTypes",function(e,i,t,n){var r=e.extend({initialize:function(e){var i=this;r.superclass.initialize.call(this,e);var t=e.linkContent.extension||{};this.isImg=n.isImg(t.f_type),this.isImg&&i.getPreviewUri().then(function(e){i.imageUrl=e.preview_url,i.emit(i.EventsName.UPDATE)})},getPreviewUri:function(){var e=this.attachment.linkContent.extension||{},i={f_name:e.f_name,s_id:e.s_id,f_id:e.f_id,f_size:parseInt(e.f_size)};return spaceFileHelper.getPreviewUri(i,previewFileConfig.iframe_width,previewFileConfig.iframe_height)},getDingFileItem:function(){var e=this.attachment.linkContent.extension||{};return{name:e.f_name,isImg:this.isImg,imageUrl:this.imageUrl||"",ext:e.f_type,size:parseInt(e.f_size),displaySize:t.formatFileSize(parseInt(e.f_size))}},getSendDingModel:function(){return{type:i.LINK,linkContent:this.attachment.linkContent}}});return r}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/conversation/ContentType":293,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../../service/file/previewFileConfig":382,"../../../service/file/spaceFileHelper":385,"../../log/localLog":421,"../DingAttachmentType":335,"./BaseAttachment":344,"@ali/ding-mediaid":716,"wolfy87-eventemitter":944}],349:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.localFileAttachment",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),limitConfig=require("../../limitConfig");angular.module(moduleName,[require("./BaseAttachment"),require("@ali/ding-api").interface.CSpace,require("../../../service/spacePlugin/upload"),require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes"),require("../DingAttachmentType")]).factory("LocalFileAttachment",["BaseAttachment","CSpace","CSpaceFileUploader","$fileHelper","$fileTypes","DingAttachmentType",function(e,i,t,a,r,n){var s=e.extend({initialize:function(e){this.spaceInfo={},this.spaceId=null,this.clientId=null,this.ext=r.getTypeByName(e.name),this.isImg=r.isImg(this.ext),this.displaySize=a.formatFileSize(e.size),s.superclass.initialize.call(this,e)},getDingFileItem:function(){return{name:this.attachment.name,isImg:this.isImg,imageUrl:this.spaceInfo.imageUrl,ext:this.ext,size:this.attachment.size,displaySize:this.displaySize}},getSendDingModel:function(){return{type:n.SPACE_FILE,mediaId:this.spaceInfo.id,size:this.attachment.size,fileName:this.attachment.name,detailType:this.ext,fileSpaceId:String(this.spaceId)}},isValid:function(){return this.attachment&&0!==this.attachment.size?!(this.attachment.size>limitConfig.DING_SPACE_FILE_UPLOAD_LIMIT)||(this.showErrorMsg(this.ErrorMsg.OVER_SIZE),!1):(this.showErrorMsg(this.ErrorMsg.FILE_NULL),!1)},upload:function(){var e=this;i.getTempSpace(null,function(i){if(200!==i.code)return void localLog.error("get temp space error",i);var a=e.spaceId=_.get(i,"body.data.spaceModel.items[0].id");if(!a)return void localLog.error("can not get spaceId when upload",i);var r=t.initFileUploader(),n={ignoreTask:!0,autoRename:!1,spaceId:a,path:"/"},s=r.appendFileForIM(e.attachment,n);e.clientId=s.getClientId();var l=r.doUploadIMFile(e.clientId);l.on("fileProgress",function(i){e.isUploading=!0,e.percent=100*i.percent,e.emit(e.EventsName.FILE_PROGRESS,i)}),l.on("fileUploadSuccess",function(i){e.percent=100,e.spaceInfo=i,e.isUploading=!1,e.emit(e.EventsName.FILE_UPLOAD_SUCCESS,i)}),l.on("fileUploadError",function(i){e.isUploading=!1,e.percent=0,e.emit(e.EventsName.FILE_UPLOAD_ERROR,i),localLog.error("file upload error",i)})})}});return s}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../../service/spacePlugin/upload":603,"../../limitConfig":414,"../../log/localLog":421,"../DingAttachmentType":335,"./BaseAttachment":344,"@ali/ding-api":711,"wolfy87-eventemitter":944}],350:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.spaceFileAttachment",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog");angular.module(moduleName,[require("./BaseAttachment"),require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes"),require("../DingAttachmentType")]).factory("SpaceFileAttachment",["BaseAttachment","DingAttachmentType","$fileHelper","$fileTypes",function(e,t,i,a){var s=e.extend({initialize:function(e){this.isImg=a.isImg(e.ext),this.displaySize=i.formatFileSize(e.size),s.superclass.initialize.call(this,e)},getDingFileItem:function(){return{name:this.attachment.name,isImg:this.isImg,imageUrl:this.attachment.imageUrl,ext:this.attachment.ext,size:this.attachment.size,displaySize:this.displaySize}},getSendDingModel:function(){return{type:t.SPACE_FILE,mediaId:this.attachment.id,size:this.attachment.size,fileName:this.attachment.name,detailType:this.attachment.ext,fileSpaceId:String(this.attachment.spaceId)}}});return s}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../log/localLog":421,"../DingAttachmentType":335,"./BaseAttachment":344,"wolfy87-eventemitter":944}],351:[function(require,module,exports){
angular.module("ddWeb.ding.cache",[require("./Ding")]).factory("dingCache",["Ding",function(n){function e(e){var r=d[e.dingId];return r?r.extend(e):(r=new n(e),d[e.dingId]=r),r}function r(n){return d[n]}var d={};return{set:e,getDingById:r}}]);

},{"./Ding":333}],352:[function(require,module,exports){
var $my=require("../user/my");angular.module("ddWeb.ding.dingFactory",[require("./DingType"),require("../senderExt/senderExtFactory")]).factory("dingFactory",["DingType","senderExtFactory",function(e,n){var t=$my.uid,r={genSentDing:function(r,d,i,a,u,g,o,y){var o=o||!1,m=u-(new Date-0);m=m>0?m:0;var s=r.some(function(e){return e===t}),c={createAt:a,dingEntity:{createAt:a,data:g,dataType:g.contentType,type:o?2:1},dingId:i,modifyAt:a,sendAt:u?u:a,sendStatus:u?1:0,senderUidEx:n.genSenderUidEx(),urgentLevel:d,dingAttachments:y,dingCommentCount:0,dingStatus:0,senderIdentity:s?e.MYSELF:e.SEND,dingRemainTime:m,totalCount:r.length,memberCount:s?r.length-1:r.length+1,unConfirmCount:r.length,status:0};return c}};return r}]);

},{"../senderExt/senderExtFactory":598,"../user/my":635,"./DingType":343}],353:[function(require,module,exports){
module.exports={SEND_COMMENT:"sendComment",RESET_INPUT:"resetInput"};

},{}],354:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingInfoFile",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),mediaIdFactory=require("@ali/ding-mediaid"),DING_INFO_TYPE=require("../DingInfoType");angular.module(moduleName,[require("./baseDingInfoItem"),require("../../../service/img/imgPreviewService"),require("../../../service/modal/spaceFileModal"),require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes")]).factory("DingInfoFile",["BaseDingInfoItem","imgPreviewService","spaceFileModal","$fileHelper","$fileTypes",function(e,i,l,r,o){var a=e.extend({initialize:function(e){a.superclass.initialize.call(this,e),this.dingInfoType=DING_INFO_TYPE.FILE,this.downloadUrl=mediaIdFactory.mid2Url(e.mediaId,{imageSize:"origin"}),this.fileName=e.fileName,this.viewInfo={fileSize:r.formatFileSize(e.size),fileName:this.fileName}},preview:function(){i.preview(this.dingInfoItem)},saveFile:function(){var e={fileName:this.fileName,url:this.downloadUrl};l.showModal({dialogType:"2",file:e,onSelect:function(){},onSuccess:function(){},onError:function(){}})}});return a}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../../service/img/imgPreviewService":408,"../../../service/modal/spaceFileModal":474,"../../log/localLog":421,"../DingInfoType":338,"./baseDingInfoItem":358,"@ali/ding-mediaid":716,"wolfy87-eventemitter":944}],355:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingInfoImage",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),mediaIdFactory=require("@ali/ding-mediaid"),DING_INFO_TYPE=require("../DingInfoType");angular.module(moduleName,[require("./baseDingInfoItem"),require("../../../service/img/imgPreviewService"),require("../../../service/modal/spaceFileModal")]).factory("DingInfoImage",["BaseDingInfoItem","imgPreviewService","spaceFileModal",function(e,i,r){var a=e.extend({initialize:function(e){a.superclass.initialize.call(this,e),this.dingInfoType=DING_INFO_TYPE.IMAGE,this.downloadUrl=mediaIdFactory.mid2Url(e.mediaId,{imageSize:"origin"}),this.fileName=e.fileName,this.viewInfo={thumbUrl:mediaIdFactory.mid2Url(e.mediaId)}},preview:function(){i.preview(this.dingInfoItem)},saveFile:function(){var e={fileName:this.fileName,url:this.downloadUrl};r.showModal({dialogType:"2",file:e,onSelect:function(){},onSuccess:function(){},onError:function(){}})}});return a}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/img/imgPreviewService":408,"../../../service/modal/spaceFileModal":474,"../../log/localLog":421,"../DingInfoType":338,"./baseDingInfoItem":358,"@ali/ding-mediaid":716,"wolfy87-eventemitter":944}],356:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingInfoLink",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),mediaIdFactory=require("@ali/ding-mediaid"),DING_INFO_TYPE=require("../DingInfoType"),previewFileConfig=require("../../../service/file/previewFileConfig"),spaceFileHelper=require("../../../service/file/spaceFileHelper"),ContentType=require("../../../service/conversation/ContentType");angular.module(moduleName,[require("./baseDingInfoItem"),require("../../../service/img/imgPreviewService"),require("../../../service/modal/spaceFileModal"),require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes"),require("../../../service/modal/previewFileModal"),require("../../../service/frameContainer/slidePanel")]).factory("DingInfoLink",["BaseDingInfoItem","imgPreviewService","spaceFileModal","$fileHelper","$fileTypes","previewFileModal","openSlidePanelContainer",function(e,i,n,t,r,l,o){var a=e.extend({initialize:function(e){var i=this;if(a.superclass.initialize.call(this,e),this.linkType=_.get(e,"linkContent.type"),[ContentType.ORG_SPACE_FILE,ContentType.IM_SPACE_FILE].indexOf(e.linkContent.type)!==-1){var n=_.get(e,"linkContent.extension")||{};this.fileName=n.f_name,this.downloadUrl=spaceFileHelper.getFileUri({s_id:n.s_id,f_id:n.f_id}),this.isImg=r.isImg(n.f_type),this.isImg?(this.dingInfoType=DING_INFO_TYPE.IMAGE,this.getPreviewUri().then(function(e){i.spaceImageInfo=e,i.viewInfo.thumbUrl=e.preview_url,i.emit(i.EventsName.UPDATE)})):(this.viewInfo={fileSize:t.formatFileSize(parseInt(n.f_size)),fileName:this.fileName},this.dingInfoType=DING_INFO_TYPE.FILE)}else{this.dingInfoType=DING_INFO_TYPE.LINK,this.viewInfo.thumbUrl="",this.viewInfo.linkUrl=e.linkContent.linkUrl;try{this.viewInfo.thumbUrl=mediaIdFactory.mid2Url(_.get(e,"linkContent.picMediaId"),{imageOrigin:"thumb"})}catch(e){}}},openLink:function(){var e=this,i=!0,n=e.dingInfoItem.linkContent.title,t=e.dingInfoItem.linkContent.text,r=["考勤打卡"];r.indexOf(n)===-1&&r.indexOf(t)===-1||(i=!1),o({title:e.dingInfoItem.linkContent.title,showAppPage:i,url:e.dingInfoItem.linkContent.linkUrl})},getPreviewUri:function(){var e=_.get(this.dingInfoItem,"linkContent.extension")||{},i={f_name:e.f_name,s_id:e.s_id,f_id:e.f_id,f_size:parseInt(e.f_size)};return spaceFileHelper.getPreviewUri(i,previewFileConfig.iframe_width,previewFileConfig.iframe_height)},preview:function(){var e=this;this.spaceImageInfo?l(this.spaceImageInfo):this.getPreviewUri().then(function(i){e.spaceImageInfo=i,e.thumbUrl=i.preview_url,e.downloadUrl=i.download_url,l(e.spaceImageInfo)})},saveFile:function(){var e=_.get(this.dingInfoItem,"linkContent.extension")||{},i={spaceId:e.s_id,path:"/",fileName:this.fileName,id:e.f_id};n.showModal({dialogType:"2",file:i,onSelect:function(){},onSuccess:function(){},onError:function(){}})}});return a}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/conversation/ContentType":293,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../../service/file/previewFileConfig":382,"../../../service/file/spaceFileHelper":385,"../../../service/frameContainer/slidePanel":388,"../../../service/img/imgPreviewService":408,"../../../service/modal/previewFileModal":465,"../../../service/modal/spaceFileModal":474,"../../log/localLog":421,"../DingInfoType":338,"./baseDingInfoItem":358,"@ali/ding-mediaid":716,"wolfy87-eventemitter":944}],357:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.dingInfoSpace",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),mediaIdFactory=require("@ali/ding-mediaid"),DING_INFO_TYPE=require("../DingInfoType"),previewFileConfig=require("../../../service/file/previewFileConfig"),spaceFileHelper=require("../../../service/file/spaceFileHelper");angular.module(moduleName,[require("./baseDingInfoItem"),require("../../../service/img/imgPreviewService"),require("../../../service/modal/spaceFileModal"),require("../../../service/file/fileHelper"),require("../../../service/file/fileTypes"),require("../../../service/modal/previewFileModal"),require("../../../service/toast/toast")]).factory("DingInfoSpace",["BaseDingInfoItem","imgPreviewService","spaceFileModal","$fileHelper","$fileTypes","previewFileModal","toastService",function(e,i,r,t,a,l,n){var s=e.extend({initialize:function(e){var i=this;s.superclass.initialize.call(this,e),this.isImg=a.isImg(e.detailType),this.spaceImageInfo=null,this.fileName=e.fileName,this.downloadUrl=spaceFileHelper.getFileUri({s_id:e.fileSpaceId,f_id:e.mediaId}),this.isImg?(this.dingInfoType=DING_INFO_TYPE.IMAGE,this.getPreviewUri().then(function(e){i.spaceImageInfo=e,i.viewInfo.thumbUrl=e.preview_url,i.emit(i.EventsName.UPDATE)})):(this.dingInfoType=DING_INFO_TYPE.FILE,this.viewInfo={fileSize:t.formatFileSize(e.size),fileName:this.fileName})},getPreviewUri:function(){var e={f_name:this.fileName,s_id:this.dingInfoItem.fileSpaceId.toString(),f_id:this.dingInfoItem.mediaId,f_size:this.dingInfoItem.size};return spaceFileHelper.getPreviewUri(e,previewFileConfig.iframe_width,previewFileConfig.iframe_height)},preview:function(){var e=this;this.spaceImageInfo?l(this.spaceImageInfo).catch(function(e){n.show(e.statusMsg,{type:"error"})}):this.getPreviewUri().then(function(i){return e.spaceImageInfo=i,e.thumbUrl=i.preview_url,e.downloadUrl=i.download_url,l(e.spaceImageInfo)}).catch(function(e){n.show(e.statusMsg,{type:"error"})})},saveFile:function(){var e={spaceId:this.dingInfoItem.fileSpaceId,path:"/",fileName:this.fileName,id:this.dingInfoItem.mediaId};r.showModal({dialogType:"2",file:e,onSelect:function(){},onSuccess:function(){},onError:function(){}})}});return s}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../../service/file/fileHelper":379,"../../../service/file/fileTypes":381,"../../../service/file/previewFileConfig":382,"../../../service/file/spaceFileHelper":385,"../../../service/img/imgPreviewService":408,"../../../service/modal/previewFileModal":465,"../../../service/modal/spaceFileModal":474,"../../../service/toast/toast":611,"../../log/localLog":421,"../DingInfoType":338,"./baseDingInfoItem":358,"@ali/ding-mediaid":716,"wolfy87-eventemitter":944}],358:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.baseDingInfoItem",Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../log/localLog"),ua=require("../../../service/ua");angular.module(moduleName,[require("../../../service/tool/tool"),require("../../../service/app/download/fileFactory")]).factory("BaseDingInfoItem",["tool","fileFactory",function(e,i){var o=Class.create({initialize:function(i){this._id=e.buildUniqueKey(),this.dingInfoItem=i,this.viewInfo={}},Implements:EventEmitter,EventsName:{UPDATE:"update"},download:function(){if(ua.isDesktop){var e=i.getFileObj(this.downloadUrl,this.fileName);e.download()}}});return o}]),module.exports=moduleName;
},{"../../../lib/class":198,"../../../service/app/download/fileFactory":252,"../../../service/tool/tool":616,"../../../service/ua":621,"../../log/localLog":421,"wolfy87-eventemitter":944}],359:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding",LoginStatusCode=require("../login/LoginStatusCode"),ua=require("../ua"),$my=require("../user/my"),nwWindow=require("../app/nwWindow"),CONTENT_TYPE=require("./DingContentType"),loginStatus=require("../login/loginStatus");require("../api/MsgSub"),require("./Ding"),require("./dingCache"),require("./DingListContainer"),require("./dingFactory"),require("../user/userManager"),require("../notification");var EVENTS=require("../events");require("../log/log"),require("./DingPushType"),angular.module(moduleName,[require("@ali/ding-api").interface.IDLDing,require("../api/MsgSub"),require("../conversation/conversationWithSDK"),"ddWeb.ding.Ding","ddWeb.ding.cache","ddWeb.ding.dingFactory","ddWeb.user.userManager","ddWeb.notification","ddWeb.ding.DingListContainer","ddWeb.log.log","ddWeb.io.mainWS","ddWeb.ding.DingPushType",require("./DingType"),require("./DingSendStatus")]).factory("dinglist",["IDLDing","Ding","dingCache","dingFactory","MsgSub","$state","userManager","notification","DingListContainer","conversationWithSDK","$rootScope","log","DingPushType","DingType","DingSendStatus",function(e,n,i,t,o,d,r,g,s,a,u,c,f,y,l){function S(e){return function(n){if(200===n.code){var t=[],o=[];n.body&&Array.isArray(n.body)&&n.body.forEach(function(e){var n=i.set(e);t.push(n),o.push({id:n.id,sender:n.senderUidEx?n.senderUidEx.uid:""})}),c.info("dinglist pull callback",JSON.stringify(o)),e&&e(t)}}}function D(){return M}function m(){return p}function b(n,t){if(!n)return void c.error("getDingById invoke error, dingId is null");var o=i.getDingById(n);return o?void(t&&t(o)):void e.listDings([n],function(e){if(200===e.code){var n=null;if(e.body&&e.body.receiverList&&e.body.receiverList.length>0?n=e.body.receiverList[0].dingModel:e.body&&e.body.senderList&&e.body.senderList.length>0&&(n=e.body.senderList[0].dingModel),!n)return;var o=i.set(n);t&&t(o)}})}function v(n,o,d,r,g){if(loginStatus.isOffline())return void g(!1,{code:408,body:{reason:"当前网络不可用，请稍后再试"}});var s=w[o]||w.APP,a={uids:n,urgentLevel:s,content:d,uuid:(new Date).getTime().toString()+parseInt(1e3*Math.random()),contentType:CONTENT_TYPE.TEXT};_.assign(a,r),e.sendDing(a,function(e){if(200===e.code){var o={contentType:1,textContent:{text:d}},r=t.genSentDing(n,s,e.body.dingId,e.body.createAt,a.remindTime,o,!1),u=i.set(r);p.update([u]),g(!0,e,u)}else g(!1,e)})}function N(n,i,t,o,d){var r=w[i]||w.APP,g={uids:n,urgentLevel:r,content:t,uuid:(new Date).getTime().toString()+parseInt(1e3*Math.random()),contentType:CONTENT_TYPE.TEXT};_.assign(g,o),e.sendDing(g,function(e){200===e.code?d(!0,e):d(!1,e)})}function C(n){e.canSendDingToday(function(e){200===e.code?n(null,e.body):n(e)})}function E(n,i,t,o){var d=w[t];e.sendDingAgain(n,i,d,function(e){200===e.code?o(!0,e):o(!1,e)})}function I(e){var n=i.getDingById(e);if(n){var t=[];(n.isReceive||n.isMy&&n.sendStatus===l.SENT)&&t.push(M),(n.isSent||n.isMy)&&t.push(p),t.forEach(function(n){n.removeItem(e)}),n&&(n.dingStatus=1),h.update([n])}}function T(e){var n=i.getDingById(e);if(n){h.removeItem(e);var t=[];(n.isReceive||n.isMy&&n.sendStatus===l.SENT)&&t.push(M),(n.isSent||n.isMy)&&t.push(p),t.forEach(function(e){e.update([n])}),n&&(n.dingStatus=0)}else b(e,function(e){var n=[];(e.isReceive||e.isMy&&e.sendStatus===l.SENT)&&n.push(M),(e.isSent||e.isMy)&&n.push(p),n.forEach(function(n){var i=n._cache[n.Ids[n.Ids.length-1]];e&&i&&e.modifyAt>i.modifyAt&&n.update([e])})})}var M=new s({itemConstructor:n,newItemMode:"exact",allowReOrder:!0,delayInit:!0,reconnRestore:!0,getMore:function(n,i,t){if(i)var o=i.getSortValue();else var o=new Date-0;c.info("dinglist receiveList getMore"),e.pullDingList(!1,o,n,y.RECEIVE,S(t))}}),p=new s({itemConstructor:n,newItemMode:"exact",allowReOrder:!0,delayInit:!0,getMore:function(n,i,t){if(i)var o=i.getSortValue();else var o=new Date-0;c.info("dinglist sentList getMore"),e.pullDingList(!1,o,n,y.SEND,S(t))}}),h=new s({itemConstructor:n,newItemMode:"exact",allowReOrder:!0}),w={TEL:3,SMS:2,APP:1};u.$on(EVENTS.DING_COMMENT_UNREAD_CHANGE,function(){M.reCountNewComment(),p.reCountNewComment()}),u.$on(EVENTS.RECEIVE_DING_CONFIRM_CHANGE,function(){M.genNewCount()}),o.subscribe("/s/biz/ding",function(e,n){if(n({}),e.body)switch(e.body.modelTypeInTopic){case f.DING_AGAIN_NOTIFY:case f.CREATE_DING:var t=i.set(e.body.dingModel);M.update([t]);var o=t.dingEntity.data;if(1==o.contentType)var s=o.textContent.text;else var s="[语音]";var u=t.senderUidEx.uid;r.getUsers([u]).then(function(e){0!==e.length&&g.notify({name:e[0].remarkNameObj.alias||e[0].userProfileModel.nick||e[0].userProfileModel.name,tip:" 给你发来一条ding消息",text:s,isForceNotify:t&&1===t.urgentLevel},function(){d.go("authorized.ding.receive"),ua.isDesktop&&nwWindow.activeWindow()})}),a.updateDingMsg(e.body.dingModel),L._logDingMsg(e);break;case f.CONFIRM_DING:b(e.body.dingId,function(n){n.receiverConfirm(e.body.receiverId,e.body.unconfirmCount),L._logReceiveConfirmDing(e.body.receiverId,e.body.unconfirmCount)});break;case f.SELF_CONFIRM_DING:b(e.body.dingId,function(n){n.trans2Confirmed(),L._logSelfConfirmDing(e)});break;case f.FINISH_DING:break;case f.DING_COMMENT_CREATE:var c=e.body.dingId;b(c,function(n){n.receiveComment(e.body),1!==n.dingStatus&&((n.isReceive||n.isMy&&n.sendStatus===l.SENT)&&M.makeItemFirst(n),(n.isSent||n.isMy)&&p.makeItemFirst(n)),M.reCountNewComment(),p.reCountNewComment(),L._logDingComment(e)});break;case f.DING_SEND:var t=i.set(e.body.dingModel);p.update([t]),a.updateDingMsg(e.body.dingModel),L._logDingMsg(e);break;case f.USER_DING_COUNT:break;case f.USER_DING_STATUS_CHANGE:L._logDingStatusChange(e.body.dingIds,e.body.userDingOldStatus,e.body.userDingNewStatus),1===e.body.userDingNewStatus&&0===e.body.userDingOldStatus?e.body.dingIds.forEach(function(e){I(e)}):0===e.body.userDingNewStatus&&1===e.body.userDingOldStatus?e.body.dingIds.forEach(function(e){T(e)}):2===e.body.userDingNewStatus&&1===e.body.userDingOldStatus&&e.body.dingIds.forEach(function(e){h.removeItem(e),b(e,function(e){if(e&&e.dingEntity&&e.dingEntity.extInfo&&e.dingEntity.extInfo.cid){var n=a.getConvObj(e.dingEntity.extInfo.cid);if(!n.convId)return;var i=n.getMsgById(e.dingEntity.id);if(!i)return;i.dingToMsg()}})});break;case f.DING_SEND_STATUS_CHANGE:b(e.body.dingId,function(n){L._logDingSendStatusChange(e.body.dingId,e.body.dingNewStatus),n.updateSendStatus(e.body.dingNewStatus),n.isMy&&M.genNewCount()});break;case f.DING_RECEIVER_STATUS_CHANGE:b(e.body.dingId,function(n){n.updateReceiverStatus(e.body.uids,e.body.dingConfirmStatus)});break;case f.DING_DELETE_REPLY:b(e.body.dingId,function(n){n.removeComment(e.body),M.reCountNewComment(),p.reCountNewComment(),L._logDingComment(e)});break;default:console.log("下行类型错误")}});var L={_logDingMsg:function(e){var n=$.extend(!0,{},e);n.body.dingModel.dingEntity=null,c.info("receive ding msg",JSON.stringify(n))},_logDingComment:function(e){var n=$.extend(!0,{},e);n.body.commentContentModel=null,c.info("receive ding comment",JSON.stringify(n))},_logConfirmDing:function(e){c.info("sentding confirm change",JSON.stringify(e))},_logSelfConfirmDing:function(e){c.info("receiveding confirm change",JSON.stringify(e))},_logReceiveConfirmDing:function(e,n){c.info("received confirm ding :","receiverId: "+e,"unconfirmCnt:"+n)},_logDingSendStatusChange:function(e,n){c.info("ding send status change:","did :"+e,"newStatus:"+n)},_logDingStatusChange:function(e,n,i){c.info("ding  status change:","did :"+JSON.stringify(e),"oldStatus:"+n,"newStatus: "+i)}};return{getReceiveList:D,getSentList:m,getDingById:b,sendTextDing:v,msgToDing:N,dingAgain:E,canSendDingToday:C}}]),module.exports=moduleName;

},{"../api/MsgSub":240,"../app/nwWindow":257,"../conversation/conversationWithSDK":308,"../events":376,"../log/log":422,"../login/LoginStatusCode":429,"../login/loginStatus":431,"../notification":487,"../ua":621,"../user/my":635,"../user/userManager":641,"./Ding":333,"./DingContentType":337,"./DingListContainer":339,"./DingPushType":340,"./DingSendStatus":342,"./DingType":343,"./dingCache":351,"./dingFactory":352,"@ali/ding-api":711}],360:[function(require,module,exports){
"use strict";var moduleName="ddWeb.ding.getDingInfoItem",Class=require("../../lib/class"),EventEmitter=require("wolfy87-eventemitter");angular.module(moduleName,[require("./DingAttachmentType"),require("./dingInfoItem/DingInfoImage"),require("./dingInfoItem/DingInfoSpace"),require("./dingInfoItem/DingInfoLink"),require("./dingInfoItem/DingInfoFile")]).factory("getDingInfoItem",["DingAttachmentType","DingInfoImage","DingInfoSpace","DingInfoLink","DingInfoFile",function(e,n,i,t,r){var I=function(I){return I.type===e.IMAGE?new n(I):I.type===e.SPACE_FILE?new i(I):I.type===e.LINK?new t(I):I.type===e.FILE?new r(I):void 0};return I}]),module.exports=moduleName;

},{"../../lib/class":198,"./DingAttachmentType":335,"./dingInfoItem/DingInfoFile":354,"./dingInfoItem/DingInfoImage":355,"./dingInfoItem/DingInfoLink":356,"./dingInfoItem/DingInfoSpace":357,"wolfy87-eventemitter":944}],361:[function(require,module,exports){
function paddingKeys(e,t){if(e&&resultModels[t]){var n=resultModels[t],r={};return Object.keys(e).forEach(function(t){if("number"==typeof parseInt(t)&&n[parseInt(t)]){var o=n[t][1],d=n[t][2];resultModels[o]?r[d]=paddingKeys(e[t],o):r[d]=e[t]}else r[t]=e[t]}),r}return e}var originModels={ContentModel:{def:{contentType:["1","Number","contentType","// 其余组合类型使用attachments字段，contentType限制使用100以上\r"],textContent:["2","TextContentModel","textContent","// * 文本对象\r"],photoContent:["3","PhotoContentModel","photoContent","// * 图片对象\r"],audioContent:["4","AudioContentModel","audioContent","// * 语音对象\r"],fileContent:["5","FileContentModel","fileContent","// * 普通文件对象\r"],attachments:["7",["Array","AttachmentModel"],"attachments","// * 组合类型字段\r"],atOpenIds:["8",["Object","string","string"],"atOpenIds","// * @功能的openId列表，key是openId（服务端不支持long类型），value是nick,\r"]},COMMENT:"// 发送的消息内容\r"},TextContentModel:{def:{text:["1","string","text","// * 文本内容\r"]},COMMENT:"// 文本消息\r"},PhotoContentModel:{def:{mediaId:["1","string","mediaId","// * mediaId\r"],picSize:["2","Number","picSize","// * 原始图片大小\r"],type:["3","Number","type","// * 图片类型，自定义\r"]},COMMENT:"// 文本消息\r"},AudioContentModel:{def:{mediaId:["1","string","mediaId","// * mediaId\r"],duration:["2","Number","duration","// * 语音时常\r"],audioVolumns:["3",["Array","Number"],"audioVolumns","// * 语音波形\r"],audioBytes:["4","byte[]","audioBytes","// * 语音数据，需要控制数据大小\r"]},COMMENT:"// 文本消息\r"},FileContentModel:{def:{mediaId:["1","string","mediaId","// * mediaId\r"],fileName:["2","string","fileName","// * 文件名\r"],fileType:["3","string","fileType","// * 文件类型，取文件后缀\r"],fileSize:["4","Number","fileSize","// * 文件大小\r"]},COMMENT:"// 文本消息\r"},OpenIdExModel:{def:{openId:["1","Number","openId","// * 信息发送者id\r"],tag:["2","Number","tag","// * 信息发送者的更新相关\r"]},COMMENT:"// openID扩展对象\r"},AttachmentModel:{def:{type:["1","Number","type","// * 类型\r"],url:["2","string","url","// * 链接\r"],size:["3","Number","size","// * 大小（文件大小, byte）\r"],data:["4","byte[]","data","// * 字节数据\r"],isPreload:["5","boolean","isPreload","// * 是否预加载url\r"],extension:["6",["Object","string","string"],"extension","// * 扩展字段\r"]},COMMENT:"// 附件，contentType > 100 解析该字段\r"}},resultModels={};Object.keys(originModels).forEach(function(e){var t={};Object.keys(originModels[e].def).forEach(function(n){var r=originModels[e].def[n];t[parseInt(r[0])]=r}),resultModels[e]=t}),module.exports=paddingKeys;

},{}],362:[function(require,module,exports){
"use strict";var notificationCache={},localLog=require("../log/localLog"),Notification=function(i,t,o){this.onClick=o,dingtalk.notification.create(i,t,function(i,t){return i?void localLog.error("create notification error",JSON.stringify(i)):(this.id=t.id,void(notificationCache[this.id]=this))}.bind(this))};Notification.prototype.receiveNotificationClick=function(){this.onClick&&this.onClick()},Notification.prototype.close=function(){this.id&&dingtalk.notification.close(this.id,function(i,t){if(i)return void localLog.error("close notification error",JSON.stringify(i))})};var init=function(){"undefined"!=typeof dingtalkWindowsGlue&&(dingtalkWindowsGlue.eventProxy.addListener("NotificationClick",function(i){i.id&&notificationCache[i.id]&&notificationCache[i.id].receiveNotificationClick(i)}),dingtalkWindowsGlue.eventProxy.addListener("NotificationClosed",function(i){i.id&&notificationCache[i.id]&&delete notificationCache[i.id]}))};exports.init=init,exports.Notification=Notification;

},{"../log/localLog":421}],363:[function(require,module,exports){
"use strict";var moduleName="ddWeb.email.emailNotify",EventEmitter=require("wolfy87-eventemitter"),Class=require("../../lib/class");angular.module(moduleName,[]).factory("emailNotify",[function(){var e=Class.create({initialize:function(){},Implements:EventEmitter,EventsName:{SHOW_EMAIL:"show_email"}});return new e}]),module.exports=moduleName;

},{"../../lib/class":198,"wolfy87-eventemitter":944}],364:[function(require,module,exports){
var twemoji=require("twemoji"),uriResolve=require("../uriResolve/resolve");exports.parse=function(e){return twemoji.parse(e,function(e,r,i){return uriResolve.assetsResolve("app/img/emoji/36x36/"+e+".png")})};

},{"../uriResolve/resolve":628,"twemoji":939}],365:[function(require,module,exports){
"use strict";var moduleName="ddWeb.emotion.EmotionManager",mediaIdFactory=require("@ali/ding-mediaid"),wksdk=require("@ali/wksdk"),uriResolve=require("../uriResolve/resolve"),localLog=require("../log/localLog"),wkUpload=wksdk.upload,Class=require("../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),msgpack=require("@ali/msgpack"),myEmotionService=require("./myEmotionService"),MyEmotionStatus=require("./myEmotionStatus"),EMOTION_TYPE={OTHER:1,GIF:2};angular.module(moduleName,[require("../../service/face/default"),require("../../service/file/fileTypes"),require("../../service/toast/toast"),require("./emotionPkgApi")]).factory("EmotionManager",["faces_default","$fileTypes","toastService","EmotionPkgApi",function(e,t,i,o){var n=Class.create({initialize:function(){this.activeItem="default",this.cusVersion=0,this.pkgVersion=0,this.pageStart=0,this.pageEnd=7,this.MEDIA_SIZE_LIMIT=102400,this.pkgList=[],this.myEmotions=[],this.defaultHeaders=[{packageId:"default",icon:uriResolve.assetsResolve("app/img/face/icon_face.png"),name:"默认表情"},{packageId:"custom",icon:uriResolve.assetsResolve("app/img/face/icon_heart.png"),name:"自定义表情"}],this.emotionHeaders=this.defaultHeaders,this.pkgCache={default:e,custom:[]},this.ERROR_MSG={OVER_LIMIT:"添加失败，表情大小超过100K",PULL_ERROR:"获取表情失败，请检查网络后再试",PIC_ERROR:"图片获取失败",REMOVE_ERROR:"删除表情失败，请重试",ADD_ERROR:"添加失败，请检查网络后再试",NETWORK_ERROR:"您现在处于离线状态，请检查网络后再试",OVER_LIST_LIMIT:"自定义表情达到上限",TYPE_ERROR:"表情不支持此类型",RATIO_ERROR:"添加失败，表情尺寸超过300x300"},myEmotionService.on(myEmotionService.EventsName.UPDATE_LIST,function(e){var t=[];e.forEach(function(e){e.status===MyEmotionStatus.USED&&t.push(this.getEmotionHeader(e))}.bind(this)),this.emotionHeaders=this.defaultHeaders.concat(t),this.myEmotions=e,this.emit(this.EventsName.MY_EMOTION_UPDATE_LIST,this.myEmotions)}.bind(this)),myEmotionService.on(myEmotionService.EventsName.UPDATE,function(e){var t=e.packageId;this.emit(this.EventsName.MY_EMOTION_UPDATE+"_"+t,e)}.bind(this)),myEmotionService.getAll()},Implements:EventEmitter,EventsName:{MY_EMOTION_UPDATE_LIST:"my_emotion_update_list",MY_EMOTION_UPDATE:"my_emotion_update",UPDATE_LIST:"updateList",CHANGE_EMOTION:"changeEmotion",PKG_LIST_UPDATE:"pkgListUpdate",EMOTION_UPDATE:"emotionUpdate"},getEmotionHeader:function(e){return e.icon=mediaIdFactory.mid2Url(e.iconMediaId,{imageSize:"origin"}),e},getEmotionPackageModel:function(e){return e.iconSrc=mediaIdFactory.mid2Url(e.iconMediaId,{imageSize:"origin"}),e},getEmotionModel:function(e){var t=mediaIdFactory.mid2Url(e.emotionMediaId,{imageSize:"origin"}),i=this.gifToPng(t);return _.isUndefined(e.type)&&(e.type=this.getEmotionTypeFromUrl(t)),{id:e.emotionId,name:e.name,packageName:e.packageName,orgSrc:t,previewSrc:i,src:i,size:e.emotionMediaSize,mediaId:e.emotionMediaId,packageId:e.packageId,type:e.type}},getEmotionTypeFromUrl:function(e){var t=e.split(".").pop();return"gif"===t?EMOTION_TYPE.GIF:EMOTION_TYPE.OTHER},gifToPng:function(e){return"gif"!==e.split(".").pop()?e:e+"_"+e.split("_").slice(-2).join("_").replace("gif","png")},isSizeValid:function(e,t){var t=!!_.isUndefined(t)||t;return!(!_.isUndefined(e)&&0!==e)||(!(e>this.MEDIA_SIZE_LIMIT)||(t&&this.showErrorMsg(this.ERROR_MSG.OVER_LIMIT),!1))},showErrorMsg:function(e){i.show(e,{type:"error",timeout:5e3})},getCurrEmotions:function(){return this.pkgCache[this.activeItem]||[]},checkEmotionExist:function(e){return o.checkEmotionExist(e)},checkMediaIdValid:function(e){if(!e)return"PIC_ERROR";try{e=e.replace(/-/gi,"+").replace(/_/gi,"/");var i=msgpack.decodeFromB64(e.substr(1))}catch(e){return localLog.error("checkMediaIdValid, parse error",e),"PIC_ERROR"}var o=t.getCateTypeById(i[0]).split("_");return"IMAGE"!==o[0]?"TYPE_ERROR":i[2]>300||i[3]>300?"RATIO_ERROR":void 0},addPkgEmotion:function(e){var t=e.packageId;myEmotionService.addEmotion(t,e).then(function(){i.show("表情下载成功",{type:"success",timeout:2e3})})},removePkgEmotion:function(e){var t=e.packageId;myEmotionService.removeEmotion(t,e).then(function(){i.show("表情移除成功",{type:"success",timeout:2e3})})},addCustomEmotion:function(e,t){var i=this.checkMediaIdValid(t);return i?(this.showErrorMsg(this.ERROR_MSG[i]),Promise.reject("mediaId invalid: "+i)):o.addCustomEmotion("",t).then(function(e){var t=this.getEmotionModel(e);this.pkgCache.custom.filter(function(e){return e.id===t.id}).length>0||(this.pkgCache.custom.push(this.getEmotionModel(e)),this.emit(this.EventsName.EMOTION_UPDATE))}.bind(this)).catch(function(e){return this.showErrorMsg(e.body&&e.body.reason||this.ERROR_MSG.ADD_ERROR),Promise.reject(e)}.bind(this))},uploadEmotion:function(e){var i=t.getTypeByName(e.name),o=t.isImg(i);if(!o)return this.showErrorMsg(this.ERROR_MSG.TYPE_ERROR),Promise.reject("file type error");var n=e.size;return this.isSizeValid(n)?wkUpload.upload(e).then(function(t){return this.addCustomEmotion(e.name,t.uri)}.bind(this)):Promise.reject("file size error")},getCustomEmotions:function(){return o.getCustomEmotions(this.cusVersion).then(function(e){return this.cusVersion=e.version,Promise.resolve(e.customEmotions)}.bind(this))},getEmotionPackageList:function(){return o.getEmotionPackageList(this.pkgVersion).then(function(e){return this.pkgVersion=e.version,this.pkgList=e.emotionPackages.map(function(e){return this.getEmotionPackageModel(e)}.bind(this)),this.emit(this.EventsName.PKG_LIST_UPDATE),Promise.resolve(this.pkgList)}.bind(this)).catch(function(){})},changeEmotion:function(e){"default"===e?(this.activeItem=e,this.emit(this.EventsName.CHANGE_EMOTION)):"custom"===e?(this.activeItem=e,this.emit(this.EventsName.CHANGE_EMOTION),this.getCustomEmotions().then(function(t){this.pkgCache[e]=t.map(function(e){return this.getEmotionModel(e)}.bind(this)),this.emit(this.EventsName.EMOTION_UPDATE)}.bind(this)).catch(function(e){})):(this.activeItem=e,this.emit(this.EventsName.CHANGE_EMOTION),this.getPackageDetail(e).then(function(t){this.pkgCache[e]=t.emotions,this.emit(this.EventsName.EMOTION_UPDATE)}.bind(this)))},removeEmotion:function(e){o.removeEmotions([e]).then(function(){_.remove(this.pkgCache.custom,function(t){return t.id===e}),this.emit(this.EventsName.EMOTION_UPDATE)}.bind(this)).catch(function(e){return this.showErrorMsg(e.body&&e.body.reason||this.ERROR_MSG.REMOVE_ERROR),Promise.reject(e)}.bind(this))},getPackageDetail:function(e){return o.getPackageDetail(e).then(function(t){t.bannerSrc=mediaIdFactory.mid2Url(t.bannerMediaId,{imageSize:"origin"}),t.isGif=_.get(t,"emotions[0].type")===EMOTION_TYPE.GIF,t.emotions=t.emotions.map(function(e){return e.packageName=t.name,this.getEmotionModel(e)}.bind(this));var i=_.findIndex(this.myEmotions,function(t){return t.packageId===e});return i!==-1&&(t.myEmotionStatus=this.myEmotions[i].status),this.emit(this.EventsName.EMOTION_UPDATE),Promise.resolve(t)}.bind(this)).catch(function(e){return this.showErrorMsg(e.body&&e.body.reason||this.ERROR_MSG.PULL_ERROR),Promise.reject(e)}.bind(this))}});return n}]),module.exports=moduleName;

},{"../../lib/class":198,"../../service/face/default":377,"../../service/file/fileTypes":381,"../../service/toast/toast":611,"../log/localLog":421,"../uriResolve/resolve":628,"./emotionPkgApi":367,"./myEmotionService":370,"./myEmotionStatus":371,"@ali/ding-mediaid":716,"@ali/msgpack":729,"@ali/wksdk":779,"wolfy87-eventemitter":944}],366:[function(require,module,exports){
"use strict";var moduleName="ddWeb.emotion.EmotionPackageFactory";angular.module(moduleName,[require("./emotionManager")]).factory("EmotionPackageFactory",["EmotionManager",function(o){function n(){return i||(i=new o),i}function r(o,r){var t=n();return t.addCustomEmotion(o,r)}function t(o){var r=n();return r.isSizeValid(o)}function e(o){var r=n();return r.checkEmotionExist(o)}function a(o){var r=n();return r.showErrorMsg(o)}var i=null;return{showErrorMsg:a,checkEmotionExist:e,isSizeValid:t,addCustomEmotion:r,getInstance:n}}]),module.exports=moduleName;

},{"./emotionManager":365}],367:[function(require,module,exports){
"use strict";var moduleName="ddWeb.emotion.EmotionPkgApi",localLog=require("../log/localLog");angular.module(moduleName,[require("@ali/ding-api").interface.ImgResI,require("@ali/ding-api").interface.EmotionPackage]).factory("EmotionPkgApi",["ImgResI","EmotionPackage",function(o,e){var r={},n={},t={},i={},c=null,m=function(e){return e?r[e]?r[e]:(r[e]=new Promise(function(n,t){o.isExistCustomEmotion(e,function(o){r[e]=null,200==o.code?n(o.body):(localLog.error("checkEmotionExist, server error",JSON.stringify(o),e),t(o))})}),r[e]):Promise.reject("checkEmotionExist, params error")},a=function(e,r){return _.isUndefined(e)||!r?Promise.reject("addCustomEmotion, params error"):new Promise(function(n,t){o.addEmotion(e,r,function(o){return 200===o.code?n(o.body.customEmotion):(localLog.error("add custom emotion error",JSON.stringify(o),e,r),t(o))})})},s=function(e){return e&&0!==e.length?new Promise(function(r,n){o.removeCustomEmotions(e,function(o){return 200===o.code?r():(localLog.error("remove custom emotion error",JSON.stringify(o),e),n(o))})}):Promise.reject("removeEmotions, params error")},u=function(o){return o?n[o]?n[o]:(n[o]=new Promise(function(r,t){e.getEmotionPackageDetail(o,function(e){return n[o]=null,200===e.code?r(e.body):(localLog.error("getEmotionPackageDetail, server error",JSON.stringify(e),o),t(e))})}),n[o]):Promise.reject("getPackageDetail, params error")},g=function(e){var e=e||0;return t[e]?t[e]:(t[e]=new Promise(function(r,n){o.getEmotions(e,function(o){return t[e]=null,200===o.code?e!=o.body.version||0===o.body.version?r(o.body):n(new Error("getCustomEmotions, same version")):(localLog.error("get custom emotion error",JSON.stringify(o)),n(o))})}),t[e])},l=function(){return c?c:c=new Promise(function(o,r){e.getEmotionPackagePurchaseHistory(function(e){return c=null,200===e.code?o(e.body):(localLog.error("getEmotionPackagePurchaseHistory, server error",JSON.stringify(e)),r(e))})})},d=function(o){return i[o]?i[o]:(i[o]=new Promise(function(r,n){e.getEmotionPackageList(o,function(e){return i[o]=null,200===e.code?o!=e.body.version||0===e.body.version?r(e.body):n(new Error("getEmotionPackageList, same version")):(localLog.error("getEmotionPackageList error",JSON.stringify(e)),n(e))})}),i[o])};return{checkEmotionExist:m,getEmotionPackagePurchaseHistory:l,getEmotionPackageList:d,addCustomEmotion:a,getPackageDetail:u,getCustomEmotions:g,removeEmotions:s}}]),module.exports=moduleName;
},{"../log/localLog":421,"@ali/ding-api":711}],368:[function(require,module,exports){
var mediaIdFactory=require("@ali/ding-mediaid"),emotionJsonFiles={lxt:require("../../../img/face/lxt/info.json"),hongbao:require("../../../img/face/hongbao/info.json")},emotionPathResolver=function(e){var i={id:e.p_id,name:e.p_name,type:e.type,icon:mediaIdFactory.mid2Url(e.icon_mediaid)},o=e.emotions;return o&&Array.isArray(o)?i.emotions=o.map(function(e){return{name:e.e_name,src:mediaIdFactory.mid2Url(e.s_mediaid),mediaId:e.b_mediaid,picSize:e.f_size,index:e.e_id}}):i.emotions=[],i},emotionMap=function(){var e={};for(var i in emotionJsonFiles)emotionJsonFiles.hasOwnProperty(i)&&(e[i]=emotionPathResolver(emotionJsonFiles[i]));return e}(),emotionRetriever={get:function(e){return emotionMap[e]?emotionMap[e]:null}};module.exports=emotionRetriever;

},{"../../../img/face/hongbao/info.json":17,"../../../img/face/lxt/info.json":18,"@ali/ding-mediaid":716}],369:[function(require,module,exports){
"use strict";function _initMyEmotionEntry(e){var t=e.TableEntry;MyEmotionEntry=t.extend({initialize:function(){MyEmotionEntry.superclass.initialize.call(this),this.tableName=myEmotionTableDef.TABLE_NAME,this._initTable()},_defineTable:function(){this.tableDef=tableDef,this.colsDefs=this.tableDef.map(function(e){return e.name+" "+e.constraint}),this.cols=this.tableDef.map(function(e){return e.name}),this.indexDefs=indexDefs},_defineSerializationMap:function(){this.serializeMap={},this.serializeMap[colsEnums.PACKAGE_ID]="packageId",this.serializeMap[colsEnums.NAME]="name",this.serializeMap[colsEnums.ICON_MEDIA_ID]="iconMediaId",this.serializeMap[colsEnums.STATUS]="status",this.serializeMap[colsEnums.UPDATED_AT]="updatedAt"},queryAll:function(e){var t=["*"],i=this,n={columns:t};return this.getTableWrapper.then(function(){return this.tableWrapper.query(n,e)}.bind(this)).then(function(e){var t=e.map(function(e){return i._deserialization(e)});return Promise.resolve(t)})},update:function(e,t){var i=_.get(e,"packageId");if(!i)return Promise.reject(new Error("packageId is null"));var n=colsEnums.PACKAGE_ID+"=?",r=[i],s={},a=this._serialization(e);a.forEach(function(e,t){s[this.cols[t]]=e}.bind(this));var o={columns:["*"],selection:n,selectionArgs:r};return this.getTableWrapper.then(function(){return this.tableWrapper.query(o,t)}.bind(this)).then(function(e){return e&&e.length?this.tableWrapper.update(s,n,r,t):this.tableWrapper.insert(s,!0,t)}.bind(this))}})}var _=require("lodash"),myEmotionTableDef=require("./myEmotionTableDef"),colsEnums=myEmotionTableDef.colsEnums,tableDef=myEmotionTableDef.tableDef,indexDefs=myEmotionTableDef.indexDefs,MyEmotionEntry=null,dbCollection=require("../db/dbCollection");module.exports={getMyEmotionEntry:function(){return MyEmotionEntry||_initMyEmotionEntry(dbCollection),MyEmotionEntry}};

},{"../db/dbCollection":328,"./myEmotionTableDef":372,"lodash":919}],370:[function(require,module,exports){
"use strict";var Class=require("../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),myEmotionDbEntryService=require("./myEmotionDbEntryService"),MyEmotionStatus=require("./myEmotionStatus"),ddStorage=require("../storage/ddStorage"),MyEmotionService=Class.create({initialize:function(){this.localStorageKey="myEmotion",this.emotions=[],this._addEmotionPromise={},this._removeEmotionPromise={}},Implements:EventEmitter,EventsName:{UPDATE_LIST:"updateList",UPDATE:"update"},afterAuthInit:function(){var t=myEmotionDbEntryService.getMyEmotionEntry();t&&(this.myEmotionDbEntry=new t)},getAll:function(){if(this.myEmotionDbEntry)return this.myEmotionDbEntry.queryAll().then(function(t){0!==t.length&&(this.emotions=this._sortByUpdatedAt(t),this.emit(this.EventsName.UPDATE_LIST,this.emotions))}.bind(this));var t;try{t=JSON.parse(ddStorage.getItemWithUid(this.localStorageKey))||[]}catch(t){return void console.log(t)}this.emotions=this._sortByUpdatedAt(t),this.emit(this.EventsName.UPDATE_LIST,this.emotions)},_sortByUpdatedAt:function(t){var e=t.sort(function(t,e){return e.updatedAt-t.updatedAt});return e},_update:function(t){var e=_.findIndex(this.emotions,function(e){return e.packageId===t.packageId});if(e===-1?this.emotions.push(t):this.emotions[e]=t,this.emotions=this._sortByUpdatedAt(this.emotions),this.myEmotionDbEntry)var i=this.myEmotionDbEntry.update(t);else var i=Promise.resolve().then(function(){ddStorage.setItemWithUid(this.localStorageKey,JSON.stringify(this.emotions))}.bind(this));return i=i.then(function(){this.emit(this.EventsName.UPDATE_LIST,this.emotions),this.emit(this.EventsName.UPDATE,{packageId:t.packageId,emotionModel:t})}.bind(this))},_saveToDB:function(t){var e=t.packageId,i=t.status,o=i===MyEmotionStatus.USED?this._addEmotionPromise:this._removeEmotionPromise;return o[e]?o[e]:(o[e]=this._update(t),o[e]=o[e].then(function(){return o[e]=null,Promise.resolve()}.bind(this)).catch(function(t){return o[e]=null,Promise.reject(t)}),o[e])},addEmotion:function(t,e){var e={packageId:t,name:e.name,status:MyEmotionStatus.USED,updatedAt:(new Date).getTime(),iconMediaId:e.iconMediaId};return this._saveToDB(e)},removeEmotion:function(t){var e={packageId:t,updatedAt:(new Date).getTime(),status:MyEmotionStatus.DEFAULT};return this._saveToDB(e)}});module.exports=new MyEmotionService;

},{"../../lib/class":198,"../storage/ddStorage":605,"./myEmotionDbEntryService":369,"./myEmotionStatus":371,"wolfy87-eventemitter":944}],371:[function(require,module,exports){
module.exports={DEFAULT:0,USED:1};

},{}],372:[function(require,module,exports){
var colsEnums={PACKAGE_ID:"packageId",NAME:"name",ICON_MEDIA_ID:"iconMediaId",STATUS:"status",UPDATED_AT:"updated_at"},tableDef=[{name:colsEnums.PACKAGE_ID,constraint:"INTEGER PRIMARY KEY"},{name:colsEnums.NAME,constraint:"TEXT"},{name:colsEnums.ICON_MEDIA_ID,constraint:"TEXT"},{name:colsEnums.STATUS,constraint:"INTEGER"},{name:colsEnums.UPDATED_AT,constraint:"INTEGER"}],tableName="MyEmotion",indexEnums={PACKAGE_ID:"idx_my_emotion_package_id"},indexDefs=[{name:indexEnums.PACKAGE_ID,colName:colsEnums.PACKAGE_ID,isUnique:!0}];module.exports={indexEnums:indexEnums,indexDefs:indexDefs,tableDef:tableDef,colsEnums:colsEnums,TABLE_NAME:tableName};

},{}],373:[function(require,module,exports){
"use strict";var moduleName="ddWeb.env.change";angular.module(moduleName,[require("../modal/confirm"),require("../modal/prompt")]).factory("changeEnv",["$confirm","$prompt",function(e,o){var l="env-is-daily",a="env-daily-ws-uri";return function(){"1"===window.localStorage[l]?e({title:"切换环境",content:"是否要切回线上环境？"}).then(function(){window.localStorage.removeItem(l),window.localStorage.removeItem(a),window.localStorage.removeItem("wk_wsurl"),window.location.reload()}):o({title:"切换到 daily 环境",placeholder:"你可以填写自定义的接入 URI，或者不填写自动使用公用 daily 接入地址"}).then(function(e){1===e.buttonIndex&&(window.localStorage[l]=1,e.value.trim().length>0&&(window.localStorage[a]=e.value.trim()),window.localStorage.removeItem("wk_wsurl"),window.location.reload())})}}]),module.exports=moduleName;

},{"../modal/confirm":447,"../modal/prompt":467}],374:[function(require,module,exports){
"use strict";function isOnline(){return isSSL||forceOnline||"rc"===window.desktopEnv||"beta"===window.desktopEnv||"release"===window.desktopEnv}function isProductEnv(){return"im.dingtalk.com"===window.location.hostname&&window.location.href.indexOf("env")===-1||"release"===window.desktopEnv||"rc"===window.desktopEnv}var isSSL="https:"===window.location.protocol,forceOnline=!1;window.location.href.indexOf("online=true")>0&&(forceOnline=!0);var ua=require("../ua");ua.isDingTalkWin&&(window.desktopEnv=dingtalk.app.getenv());var isDailyKey="env-is-daily";"1"===window.localStorage[isDailyKey]&&(window.desktopEnv="dev"),module.exports={isSSL:isSSL,isForceOnline:forceOnline,isOnline:isOnline(),isProductEnv:isProductEnv(),desktopEnv:window.desktopEnv};

},{"../ua":621}],375:[function(require,module,exports){
"use strict";var moduleName="ddWeb.error.conversationError",localLog=require("../../service/log/localLog");angular.module(moduleName,[require("../../service/toast/toast")]).factory("conversationError",["toastService","$translate",function(r,o){var e={pc_wukong_error_130003:o.instant("pc_wukong_error_130003"),pc_wukong_error_130012:o.instant("pc_wukong_error_130012"),pc_wukong_error_130024:o.instant("pc_wukong_error_130024")},t=function(o){var t=_.get(o,"body.code"),n=e["pc_wukong_error_"+t]||"发送消息失败";return r.show(n,{type:"error"}),localLog.error("handle wksdk resp error",_.isObject(o)&&JSON.stringify(o),o.toString()),Promise.reject(o)};return{handleSendMsgError:t}}]),module.exports=moduleName;

},{"../../service/log/localLog":421,"../../service/toast/toast":611}],376:[function(require,module,exports){
"use strict";module.exports={PROFILEMODAL:"profileModal",LOGIN_STATE_CHANGE:"LoginStateChange",WS_STATE_CHANGE:"WsStateChange",MAKE_CID_TO_FIRST:"makeCidToFirst",NEW_MSG_COUNT_CHANGE:"newMsgCountChange",DING_COMMENT_UNREAD_CHANGE:"dingCommentUnreadChange",RECEIVE_DING_CONFIRM_CHANGE:"receiveDingConfirmChange",CONV_PIN_STATUS_CHANGE:"convPinStatusChange",SELECTBAR_SELECTITEM:"select2:selectItem",HIDE_CONV:"hideConv",ORGRELATIONLIST_CHANGEDEPARTMENT:"orgRelationList:changeDepartment",SHOW_EMAIL:"showEmail",QUOTE_MSG:"quoteMsg",CHANGE_CALL_STATE:"changeCallState",CONTEXTMENU_OPEN:"contextMenuOpen",SELECTBAR_SELECTALL:"selectorBar:selectAll",AUDIO_START_PLAY:"audioStartPlay",SENDMSG_SCROLLTOBOTTOM:"sendMsg:scrollToBottom",CANCEL_SENDING_MSG:"cancelSendingMsg",SCROLL_TO_UNREAD_CONV:"convList:scrollToUnRead",SEARCH_ACTIVE:"searchActive",SETTING_MODAL_CLOSE:"settingModalClose",CHAT_BUBBLE_SIZE_CHANGE:"chatBubbleSizeChange"};

},{}],377:[function(require,module,exports){
"use strict";var uriResolve=require("../uriResolve/resolve"),moduleName="ddWeb.faces_default";angular.module(moduleName,[]).value("faces_default",[{name:"微笑",src:uriResolve.assetsResolve("app/img/face/default/emotion_001.png"),id:"default:1"},{name:"憨笑",src:uriResolve.assetsResolve("app/img/face/default/emotion_002.png"),id:"default:2"},{name:"色",src:uriResolve.assetsResolve("app/img/face/default/emotion_003.png"),id:"default:3"},{name:"发呆",src:uriResolve.assetsResolve("app/img/face/default/emotion_004.png"),id:"default:4"},{name:"老板",src:uriResolve.assetsResolve("app/img/face/default/emotion_005.png"),id:"default:5"},{name:"流泪",src:uriResolve.assetsResolve("app/img/face/default/emotion_006.png"),id:"default:6"},{name:"害羞",src:uriResolve.assetsResolve("app/img/face/default/emotion_007.png"),id:"default:7"},{name:"闭嘴",src:uriResolve.assetsResolve("app/img/face/default/emotion_008.png"),id:"default:8"},{name:"睡",src:uriResolve.assetsResolve("app/img/face/default/emotion_009.png"),id:"default:9"},{name:"大哭",src:uriResolve.assetsResolve("app/img/face/default/emotion_010.png"),id:"default:10"},{name:"尴尬",src:uriResolve.assetsResolve("app/img/face/default/emotion_011.png"),id:"default:11"},{name:"发怒",src:uriResolve.assetsResolve("app/img/face/default/emotion_012.png"),id:"default:12"},{name:"调皮",src:uriResolve.assetsResolve("app/img/face/default/emotion_013.png"),id:"default:13"},{name:"大笑",src:uriResolve.assetsResolve("app/img/face/default/emotion_014.png"),id:"default:14"},{name:"惊讶",src:uriResolve.assetsResolve("app/img/face/default/emotion_015.png"),id:"default:15"},{name:"流汗",src:uriResolve.assetsResolve("app/img/face/default/emotion_016.png"),id:"default:16"},{name:"广播",src:uriResolve.assetsResolve("app/img/face/default/emotion_017.png"),id:"default:17"},{name:"阴笑",src:uriResolve.assetsResolve("app/img/face/default/emotion_018.png"),id:"default:18"},{name:"你强",src:uriResolve.assetsResolve("app/img/face/default/emotion_019.png"),id:"default:19"},{name:"怒吼",src:uriResolve.assetsResolve("app/img/face/default/emotion_020.png"),id:"default:20"},{name:"惊愕",src:uriResolve.assetsResolve("app/img/face/default/emotion_021.png"),id:"default:21"},{name:"疑问",src:uriResolve.assetsResolve("app/img/face/default/emotion_022.png"),id:"default:22"},{name:"OK",src:uriResolve.assetsResolve("app/img/face/default/emotion_023.png"),id:"default:23"},{name:"赞",src:uriResolve.assetsResolve("app/img/face/default/emotion_078.png"),id:"default:78"},{name:"鼓掌",src:uriResolve.assetsResolve("app/img/face/default/emotion_024.png"),id:"default:24"},{name:"握手",src:uriResolve.assetsResolve("app/img/face/default/emotion_025.png"),id:"default:25"},{name:"偷笑",src:uriResolve.assetsResolve("app/img/face/default/emotion_026.png"),id:"default:26"},{name:"无聊",src:uriResolve.assetsResolve("app/img/face/default/emotion_027.png"),id:"default:27"},{name:"加油",src:uriResolve.assetsResolve("app/img/face/default/emotion_028.png"),id:"default:28"},{name:"快哭了",src:uriResolve.assetsResolve("app/img/face/default/emotion_029.png"),id:"default:29"},{name:"吐",src:uriResolve.assetsResolve("app/img/face/default/emotion_030.png"),id:"default:30"},{name:"晕",src:uriResolve.assetsResolve("app/img/face/default/emotion_031.png"),id:"default:31"},{name:"胜利",src:uriResolve.assetsResolve("app/img/face/default/emotion_033.png"),id:"default:33"},{name:"摸摸",src:uriResolve.assetsResolve("app/img/face/default/emotion_032.png"),id:"default:32"},{name:"飞吻",src:uriResolve.assetsResolve("app/img/face/default/emotion_034.png"),id:"default:34"},{name:"跳舞",src:uriResolve.assetsResolve("app/img/face/default/emotion_035.png"),id:"default:35"},{name:"傻笑",src:uriResolve.assetsResolve("app/img/face/default/emotion_036.png"),id:"default:36"},{name:"鄙视",src:uriResolve.assetsResolve("app/img/face/default/emotion_037.png"),id:"default:37"},{name:"嘘",src:uriResolve.assetsResolve("app/img/face/default/emotion_038.png"),id:"default:38"},{name:"衰",src:uriResolve.assetsResolve("app/img/face/default/emotion_039.png"),id:"default:39"},{name:"思考",src:uriResolve.assetsResolve("app/img/face/default/emotion_040.png"),id:"default:40"},{name:"亲亲",src:uriResolve.assetsResolve("app/img/face/default/emotion_041.png"),id:"default:41"},{name:"无奈",src:uriResolve.assetsResolve("app/img/face/default/emotion_042.png"),id:"default:42"},{name:"感冒",src:uriResolve.assetsResolve("app/img/face/default/emotion_043.png"),id:"default:43"},{name:"对不起",src:uriResolve.assetsResolve("app/img/face/default/emotion_044.png"),id:"default:44"},{name:"再见",src:uriResolve.assetsResolve("app/img/face/default/emotion_045.png"),id:"default:45"},{name:"投降",src:uriResolve.assetsResolve("app/img/face/default/emotion_046.png"),id:"default:46"},{name:"哼",src:uriResolve.assetsResolve("app/img/face/default/emotion_047.png"),id:"default:47"},{name:"欠扁",src:uriResolve.assetsResolve("app/img/face/default/emotion_048.png"),id:"default:48"},{name:"恭喜",src:uriResolve.assetsResolve("app/img/face/default/emotion_049.png"),id:"default:49"},{name:"可怜",src:uriResolve.assetsResolve("app/img/face/default/emotion_050.png"),id:"default:50"},{name:"舒服",src:uriResolve.assetsResolve("app/img/face/default/emotion_051.png"),id:"default:51"},{name:"爱意",src:uriResolve.assetsResolve("app/img/face/default/emotion_052.png"),id:"default:52"},{name:"单挑",src:uriResolve.assetsResolve("app/img/face/default/emotion_053.png"),id:"default:53"},{name:"财迷",src:uriResolve.assetsResolve("app/img/face/default/emotion_054.png"),id:"default:54"},{name:"迷惑",src:uriResolve.assetsResolve("app/img/face/default/emotion_055.png"),id:"default:55"},{name:"委屈",src:uriResolve.assetsResolve("app/img/face/default/emotion_056.png"),id:"default:56"},{name:"灵感",src:uriResolve.assetsResolve("app/img/face/default/emotion_057.png"),id:"default:57"},{name:"天使",src:uriResolve.assetsResolve("app/img/face/default/emotion_058.png"),id:"default:58"},{name:"鬼脸",src:uriResolve.assetsResolve("app/img/face/default/emotion_059.png"),id:"default:59"},{name:"凄凉",src:uriResolve.assetsResolve("app/img/face/default/emotion_060.png"),id:"default:60"},{name:"郁闷",src:uriResolve.assetsResolve("app/img/face/default/emotion_061.png"),id:"default:61"},{name:"邪恶",src:uriResolve.assetsResolve("app/img/face/default/emotion_063.png"),id:"default:63"},{name:"忍者",src:uriResolve.assetsResolve("app/img/face/default/emotion_066.png"),id:"default:64"},{name:"色情狂",src:uriResolve.assetsResolve("app/img/face/default/emotion_065.png"),id:"default:65"},{name:"算账",src:uriResolve.assetsResolve("app/img/face/default/emotion_064.png"),id:"default:66"},{name:"炸弹",src:uriResolve.assetsResolve("app/img/face/default/emotion_067.png"),id:"default:67"},{name:"邮件",src:uriResolve.assetsResolve("app/img/face/default/emotion_068.png"),id:"default:68"},{name:"电话",src:uriResolve.assetsResolve("app/img/face/default/emotion_069.png"),id:"default:69"},{name:"礼物",src:uriResolve.assetsResolve("app/img/face/default/emotion_070.png"),id:"default:70"},{name:"爱心",src:uriResolve.assetsResolve("app/img/face/default/emotion_071.png"),id:"default:71"},{name:"心碎",src:uriResolve.assetsResolve("app/img/face/default/emotion_072.png"),id:"default:72"},{name:"嘴唇",src:uriResolve.assetsResolve("app/img/face/default/emotion_073.png"),id:"default:73"},{name:"鲜花",src:uriResolve.assetsResolve("app/img/face/default/emotion_074.png"),id:"default:74"},{name:"残花",src:uriResolve.assetsResolve("app/img/face/default/emotion_075.png"),id:"default:75"},{name:"出差",src:uriResolve.assetsResolve("app/img/face/default/emotion_076.png"),id:"default:76"},{name:"干杯",src:uriResolve.assetsResolve("app/img/face/default/emotion_077.png"),id:"default:77"}]),module.exports=moduleName;

},{"../uriResolve/resolve":628}],378:[function(require,module,exports){
"use strict";function toUint8Array(i){for(var t=new Uint8Array(i.length),e=0;e<i.length;e++)t[e]=i[e];return t}var ua=require("../ua");if(ua.isNw)var fs=_nwrequire("fs");var sep="/";ua.isWin&&(sep="\\");var LocalFile=function(i,t){var t=t||{};this.fpath=i,this.path=i,this.name=t.name||this.fpath.split(sep).pop(),this.__fileObjType="DingTalkLocalFile",this._size=null,Object.defineProperties(this,{size:{get:function(){if(null!==this._size)return this._size;try{if(ua.isNw)var i=fs.statSync(this.fpath);else if(ua.isDingTalkWin)var i=dingtalk.fs.statSync(this.fpath);return this._size=i.size,this._size}catch(i){return this._size=0,this._size}}}})};LocalFile.prototype=new Blob(["localFile"]),LocalFile.prototype.slice=function(i,t,e){var i=i||0;if(t)var s=t-i;else var s=this.size-i;if(ua.isNw){var a=fs.openSync(this.fpath,"r"),r=new nw.global.Buffer(s);fs.readSync(a,r,0,s,i);var n=toUint8Array(r);fs.closeSync(a)}else if(ua.isDingTalkWin){var a=dingtalk.fs.openSync(this.fpath,"rb"),r=dingtalk.fs.createArraySync(s);dingtalk.fs.readSync(a,r,0,s,i);var n=toUint8Array(r);dingtalk.fs.closeSync(a)}return new Blob([n],{type:e})},module.exports=LocalFile;

},{"../ua":621}],379:[function(require,module,exports){
(function (Buffer){
"use strict";var moduleName="ddWeb.file.fileHelper";require("./fileTypes");var localLog=require("../log/localLog"),LocalFile=require("./LocalFile"),LocalFilePathManager=require("../../service/app/localFilePathManager"),$my=require("../../service/user/my"),Exif=require("exif-js"),ua=require("../../service/ua"),sep="\\";if(ua.isNw){var fs=_nwrequire("fs");sep="/"}var FRAG_FILE_SIZE=102e3;angular.module(moduleName,["ddWeb.file.fileTypes",require("../../service/tool/tool")]).factory("$fileHelper",["$fileTypes","tool",function(e,r){var n={success:-1,fileNull:0,overSize:1,errType:2,nameEmpty:3},t={0:"该文件为空",1:"该文件大小超过30M",2:"该文件格式不支持",3:"文件名为空"},i={SUCCESS:-1,FILE_NULL:1,FILE_OVER_SIZE:2,IMG_OVER_SIZE:3,NAME_EMPTY:4},a={1:"该文件为空",2:"单个文件不能超过2G",3:"该图片大小超过30M",4:"文件名为空"},o=2147483648,l=31457280;return{checkFile:function(r){if(!r||0===r.size)return[!1,n.fileNull,t[n.fileNull]];var i=r.name;if(!i)return[!1,n.nameEmpty,t[n.nameEmpty]];var a=e.getTypeByName(i);return e.isValid(a)?r.size>31457280?[!1,n.overSize,t[n.overSize]]:[!0]:[!1,n.errType,t[n.errType]]},getTmpUri:function(e){if(ua.isNw)var r="file://"+e;else var n=e.split("\\").pop(),r="http://tmp.dingtalk.com/DingTalk/"+n;return r},getAudioUri:function(e){if(ua.isNw)var r="file://"+LocalFilePathManager.getAudioFilePath()+"/"+e;else var r="http://desktop.dingtalk.com/"+$my.uid+"/audioFiles/"+e;return r},getImageUri:function(e){if(ua.isNw)var r="file://"+LocalFilePathManager.getImageFilePath()+"/"+e;else var r="http://desktop.dingtalk.com/"+$my.uid+"/imageFiles/"+e;return r},getAudioPath:function(e){return LocalFilePathManager.getAudioFilePath()+sep+e},getImagePath:function(e){return LocalFilePathManager.getImageFilePath()+sep+e},rename:function(e,r){return new Promise(function(n,t){ua.isNw?fs.rename(e,r,function(e){return e?t(e):void n()}):dingtalk.fs.rename(e,r,function(e){return e?t(e):n()})})},unlink:function(e){return new Promise(function(r,n){ua.isNw?fs.unlink(e,function(e){return e?n(e):r()}):dingtalk.fs.unlink(e,function(e){return e?n(e):r()})})},openSync:function(e,r){return ua.isNw?fs.openSync(e,r):dingtalk.fs.openSync(e,r)},closeSync:function(e){return ua.isNw?fs.closeSync(e):dingtalk.fs.closeSync(e)},removeFiles:function(e){return e||Array.isArray(e)?Promise.all(e.map(function(e){return this.unlink(e).catch(function(){return Promise.resolve()})}.bind(this))):Promise.resolve()},checkFileV2:function(r){if(!r||0===r.size)return[!1,i.FILE_NULL,a[i.FILE_NULL]];var n=r.name;if(!n)return[!1,i.NAME_EMPTY,a[i.NAME_EMPTY]];if(e.isImg(e.getTypeByName(n))){if(r.size>l)return[!1,i.IMG_OVER_SIZE,a[i.IMG_OVER_SIZE]]}else if(r.size>o)return[!1,i.FILE_OVER_SIZE,a[i.FILE_OVER_SIZE]];return[!0]},formatFileSize:function(e){var r=["B","KB","MB","GB","TB"];if(0==e)return"0 B";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024))),t=(Math.round(10*e/Math.pow(1024,n))/10).toString();return t.indexOf(".")===-1&&(t+=".0"),t+" "+r[n]},arrayBufferToBuffer:function(e){for(var r=new Buffer(e.byteLength),n=new Uint8Array(e),t=0;t<r.length;++t)r[t]=n[t];return r},appendBlob:function(e,r,n){var t=this,i=new FileReader;ua.isNw?(i.onload=function(){var r=t.arrayBufferToBuffer(i.result).toString("binary");fs.appendFile(e,r,"binary",n)},i.readAsArrayBuffer(r)):(i.onload=function(){var r=i.result,t=r.split(",")[1];dingtalk.fs.appendB64(e,t,n)},i.readAsDataURL(r))},statsSync:function(e){var r;if(ua.isNw)try{r=fs.statSync(e)}catch(e){}else try{r=dingtalk.fs.statSync(e)}catch(e){}return r},fileObjectToFile:function(e){var r=this,n=e.name,t=this.getTmpPath();if(ua.isNw)var i="w";else var i="wb";var a=this.openSync(t,i),o=0,l=function(i){return Promise.resolve().then(function(){return new Promise(function(n,t){var l=i*FRAG_FILE_SIZE;o=Math.min(e.size,l+FRAG_FILE_SIZE);var u=e.slice(l,o);r.appendBlob(a,u,function(e){return e?t(e):n()})})}).then(function(){if(o===e.size){r.closeSync(a);var u=new LocalFile(t,{name:n});return Promise.resolve(u)}return i++,l(i)})};return l(0)},getTmpPath:function(e){var n=LocalFilePathManager.getBaseTmpPath()+sep+"DingTalk"+sep,t=n+r.buildUniqueKey();return t},b64ToFile:function(e,r,n){for(var t=window.atob(e),i=new Uint8Array(t.length),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);var o=new Blob([i],{type:r});return o.name=n,o},bufferToFile:function(e,r,n){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=e[i];var a=new Blob([t],{type:r});return a.name=n,a},getImgObj:function(r){var n=this,t=r.name,i=e.getTypeByName(t);return new Promise(function(e,t){var a=new Image;a.src=n.getTmpUri(r.path),a.onload=function(){if("DingTalkLocalFile"===r.__fileObjType||"jpg"!==i&&"jpeg"!==i)e({orientation:0,width:a.naturalWidth,height:a.naturalHeight});else try{Exif.getData(r,function(){e({orientation:_.get(this,"exifdata.Orientation")||0,width:a.naturalWidth,height:a.naturalHeight})})}catch(r){localLog.error("getExif error",r),e({orientation:0,width:a.naturalWidth,height:a.naturalHeight})}},a.onerror=function(){localLog.error("get img obj error",a.src),e({})}})},getExif:function(r){return new Promise(function(n,t){var i=r.name,a=e.getTypeByName(i);if("DingTalkLocalFile"===r.__fileObjType&&n(r),"jpg"===a||"jpeg"===a)try{Exif.getData(r,function(){r.orientation=_.get(this,"exifdata.Orientation"),n(r)})}catch(e){localLog.error("getExif error",e),n(r)}else n(r)})},readFile:function(r,n){if(r.dataURI)n();else{var t={},i={},a=new Promise(function(e,r){t.resolve=e,t.reject=r}),o=new Promise(function(e,r){i.resolve=e,i.reject=r}),l=r.name,u=e.getTypeByName(l),f=e.getCateTypeByType(u),s=f.replace("_","/").toLowerCase(),c=new FileReader;if(c.onload=function(e){r.dataURI=c.result,t.resolve()},"DingTalkLocalFile"===r.__fileObjType?c.readAsDataURL(r.slice(0,null,s)):c.readAsDataURL(r),"jpg"===u||"jpeg"===u)try{Exif.getData(r,function(){var e=this.exifdata;r.orientation=parseInt(e.Orientation),i.resolve()})}catch(e){console.log(e),i.resolve()}else i.resolve();Promise.all([a,o]).then(function(){n()})}},escapeFileName:function(e){return e.replace(/[<>\/\\|:"\*\?]/g,"_")}}}]),module.exports=moduleName;

}).call(this,require("buffer").Buffer)
},{"../../service/app/localFilePathManager":254,"../../service/tool/tool":616,"../../service/ua":621,"../../service/user/my":635,"../log/localLog":421,"./LocalFile":378,"./fileTypes":381,"buffer":2,"exif-js":898}],380:[function(require,module,exports){
module.exports={zip:5368709120,jar:5368709120};

},{}],381:[function(require,module,exports){
"use strict";var fileTypes=require("@ali/ding-filetypes"),moduleName="ddWeb.file.fileTypes";angular.module(moduleName,[]).factory("$fileTypes",[function(){return fileTypes}]),module.exports=moduleName;

},{"@ali/ding-filetypes":714}],382:[function(require,module,exports){
"use strict";var option={iframe_width:650,iframe_height:450,img_size_limit:52428800,file_size_limit:20971520};module.exports=option;

},{}],383:[function(require,module,exports){
"use strict";module.exports={ILLEGAL_URL:"https://space.dingtalk.com/unsupported_file.png",TOOBIG_URL:"https://space.dingtalk.com/big_file.png"};

},{}],384:[function(require,module,exports){
"use strict";module.exports={imgType:["gif","bmp","png","jpg","jpeg","ico","tiff","tif","tga","jpe","pcx","jiff","fax","wbmp","webp"],fileTypeCheckArr:["ppt","pptx","doc","docx","xls","xlsx","pdf","zip","jar"],fileTypeNormalArr:["txt","java","js","py","pl","pm","c","cpp","xml","php","ini","asp","aspx","config","css","csv","jsp","log","properties","sql","html","htm"]};

},{}],385:[function(require,module,exports){
"use strict";var hostConfig=require("../hostConfig"),path=require("path"),imgType=require("./previewFileType").imgType,fileTypeCheckArr=require("./previewFileType").fileTypeCheckArr,fileTypeNormalArr=require("./previewFileType").fileTypeNormalArr,fileTypeCheckZip=require("./previewFileType").fileTypeCheckZip,ILLEGAL_URL=require("./previewFileErrMsg").ILLEGAL_URL,TOOBIG_URL=require("./previewFileErrMsg").TOOBIG_URL,previewFileConfig=require("./previewFileConfig"),fileType2Limit=require("./fileType2Limit"),uriResolve=require("../uriResolve/resolve"),getFileUri=function(e){return hostConfig.space+"/auth/download?spaceId="+e.s_id+"&path="+encodeURIComponent(e.f_id||e.path)},getPreviewUri=function(e,i,r){var o=path.extname(e.f_name.toLocaleLowerCase());if(o=o.substring(1,o.length),imgType.indexOf(o)!==-1)return parseInt(e.f_size)<previewFileConfig.img_size_limit?_getPreviewImgUri(e,i,r):Promise.resolve({preview_url:TOOBIG_URL,download_url:getFileUri(e),filename:e.f_name,isImg:!0,isUnsupport:!0,isNotSupportDownload:!1,hasWatermark:!1,orgId:e.orgId});var t;return fileTypeCheckArr.indexOf(o)!==-1?(t=fileType2Limit[o]||previewFileConfig.file_size_limit,parseInt(e.f_size)<t?_getPreviewFileUri(e):Promise.resolve({preview_url:TOOBIG_URL,download_url:getFileUri(e),filename:e.f_name,isImg:!0,isUnsupport:!0,isNotSupportDownload:!1,hasWatermark:e.f_watermark,orgId:e.orgId})):fileTypeNormalArr.indexOf(o)!==-1?_getPreviewFileUri(e):Promise.resolve({preview_url:ILLEGAL_URL,download_url:getFileUri(e),filename:e.f_name,isImg:!0,isUnsupport:!0,isNotSupportDownload:!1,hasWatermark:e.f_watermark,orgId:e.orgId})},_getPreviewImgUri=function(e,i,r){var o=$.param({bizid:e.s_id,biztype:"file",objectid:e.f_id||e.path,rule:i+"w_"+r+"h_1l_100Q"}),t=hostConfig.space+"/preview/img/single?"+o;return Promise.resolve({preview_url:t,download_url:getFileUri(e),filename:e.f_name,isImg:!0,isNotSupportDownload:!!e.f_readonly,hasWatermark:!1,orgId:e.orgId})},_getPreviewFileUri=function(e){var i=$.param({bizid:e.s_id,objectid:e.f_id||e.path,frontend:"pc_dingding"}),r=uriResolve.apiResolve("/preview/auth?"+i);return new Promise(function(i,o){$.ajax({type:"GET",url:r,dataType:"json"}).then(function(r){"000000"===r.status?i({preview_url:r.content.src,download_url:getFileUri(e),filename:e.f_name,isNotSupportDownload:!!e.f_readonly,hasWatermark:e.f_watermark,orgId:e.orgId}):o(r)},o)})};module.exports={getFileUri:getFileUri,getPreviewUri:getPreviewUri};

},{"../hostConfig":405,"../uriResolve/resolve":628,"./fileType2Limit":380,"./previewFileConfig":382,"./previewFileErrMsg":383,"./previewFileType":384,"path":7}],386:[function(require,module,exports){
var moduleName="ddWeb.fileList.fileListStatusService",Uri=require("jsuri"),ua=require("../ua"),app=angular.module(moduleName,[require("../spacePlugin/upload")]);app.factory("fileListStatusService",["$fileHelper","CSpaceFileUploader",function(e,o){function i(e){if(e)return n[e]||(n[e]={}),n[e]}function r(e){e&&n[e]&&delete n[e]}var l=this,n={},a=o.initFileUploader();return l.onFileProgress=function(o){var r=o.clientId;if(r){var l=o.isCompress,n=i(r);o.isDownload&&(n.fileSize=o.fileSize,n.size=e.formatFileSize(o.fileSize)),l?n.isCompress=!0:void 0!==o.percent&&(n.progress=Math.ceil(100*o.percent),n.finishSize=e.formatFileSize(o.percent*n.fileSize),o.isDownload||(n.error=!1)),n.begin=!0}},a.on("fileProgress",l.onFileProgress),a.on("fileDownloadProgress",l.onFileProgress),l.onFileUploadSuccess=function(e){if(e.clientId){var o=i(e.clientId);o.done=!0}},a.on("fileUploadSuccess",l.onFileUploadSuccess),l.onFileUploadError=function(e){if(e&&e.clientId){var o=i(e.clientId);e.reason&&"STOP_REJECT"==e.reason||e.isFromIM?delete n[e.clientId]:("200012"==e.errorCode&&(o.spaceFull=!0),o.done=!0,o.error=!0,o.errorMsg=e.msg)}},a.on("fileUploadError",l.onFileUploadError),l.onFileDownloadError=function(e){if(e&&e.clientId){var o=i(e.clientId);o.done=!0,o.error=!0,o.errorMsg=e.msg||"下载失败",o.isDownloadCancel=e.isDownloadCancel}},a.on("fileDownloadError",l.onFileDownloadError),l.onFileDownloadSuccess=function(e){var o=e.clientId;if(o){var r=i(o);r.done=!0,r.error=!1}},a.on("fileDownloadSuccess",l.onFileDownloadSuccess),l.onFileUploadStopAll=function(e){if(e)for(var o=0;o<e.length;o++)delete n[e.clientId]},a.on("afterstopallitems",l.onFileUploadStopAll),{getFileListStatus:i,clearFileListStatus:r}}]),module.exports=moduleName;

},{"../spacePlugin/upload":603,"../ua":621,"jsuri":901}],387:[function(require,module,exports){
"use strict";var moduleName="ddWeb.container.commModal",_=require("lodash"),path=require("path");angular.module(moduleName,[require("../modal/modal")]).factory("openCommModal",["$modal",function(o){var t={size:"default",url:"about:blank",title:""},e=function(e){var e=e||{};e=_.assign({},t,e);var l=o.open({template:'<div class="dialog open-modal-container" ng-class="CommModalCtrl.size">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{CommModalCtrl.title}}</span>\n    </div>\n    <div class="body">\n        <micro-app-container on-quit="CommModalCtrl.onQuit(params)" on-set-title="CommModalCtrl.onSetTitle(params)"  app-url="CommModalCtrl.appUrl"></micro-app-container>\n    </div>\n</div>\n',controller:"CommModalCtrl",controllerAs:"CommModalCtrl",resolve:{option:function(){return e}}});return l.result};return e}]).controller("CommModalCtrl",["option","$modalInstance","$scope",function(o,t,e){var l=this;this.appUrl=o.url,this.size=o.size,this.title=o.title,this.onSetTitle=function(o){console.log(o);var t=o.title||"";return l.title=t,e.$digest(),Promise.resolve(!0)},this.onQuit=function(o){var e=o.message||"";return t.close(e),Promise.resolve(!0)}}]),module.exports=moduleName;

},{"../modal/modal":458,"lodash":919,"path":7}],388:[function(require,module,exports){
"use strict";var moduleName="ddWeb.container.slidePanel",_=require("lodash"),path=require("path"),EventEmitter=require("wolfy87-eventemitter"),DEFAULT_SIZE=360,BIG_SIZE=420;angular.module(moduleName,[require("../unPopModal/modal")]).factory("openSlidePanelContainer",["$unPopModal",function(e){function t(t){var t=t||{};if(t=_.assign({},n,t),i=(new Date).getTime(),i-l>=1e3){e.dismissAll();var a=e.open({template:'<div class="unpop-modal open-slide-panel-container" ng-style="{\'width\': slidePanelCtrl.panelWidth}">\n    <div class="head">\n        <i class="close iconfont unpop-modal-close-btn"></i>\n        <span class="title">{{slidePanelCtrl.title}}</span>\n        <a href="#" ng-if="slidePanelCtrl.leftBtnText" ng-click="slidePanelCtrl.onLeftBtnClick($event)" class="left-btn">{{ slidePanelCtrl.leftBtnText }}</a>\n    </div>\n    <div class="body">\n        <micro-app-container\n                ng-if="slidePanelCtrl.showAppPage"\n                on-set-title="slidePanelCtrl.onSetTitle(params)"\n                on-set-left="slidePanelCtrl.onSetLeft(params)"\n                on-quit="slidePanelCtrl.onQuit(params)"\n                event-emitter="slidePanelCtrl.eventEmitter"\n                app-url="slidePanelCtrl.appUrl"></micro-app-container>\n        <div class="micro-app-default-page" ng-if="!slidePanelCtrl.showAppPage">\n            <div class="micro-app-default-icon"></div>\n            <p class="micro-app-default-text">努力开发中，敬请期待</p>\n        </div>\n    </div>\n</div>\n',controller:"slidePanelCtrl",controllerAs:"slidePanelCtrl",key:"slidePanel_"+t.appUrl,resolve:{option:function(){return t}},closable:!1});return l=i,a.result}return Promise.reject(!1)}var n={url:"about:blank",title:"",isBig:!1},l=(new Date).getTime(),i=(new Date).getTime();return t}]).controller("slidePanelCtrl",["$scope","option","$modalInstance",function(e,t,n){var l=this;this.appUrl=t.url,this.title=t.title,this.leftBtnText="",l.showAppPage=t.showAppPage!==!1;var i=DEFAULT_SIZE+"px";t.isBig&&(i=BIG_SIZE+"px"),this.panelWidth=i,l.showAppPage&&(this.onSetTitle=function(t){var n=t.title||"";return l.title=n,e.$digest(),Promise.resolve(!0)},this.onSetLeft=function(t){var n=t.text||"";return l.leftBtnText=n,e.$digest(),Promise.resolve(!0)},this.onQuit=function(e){var t=e.message||"";return n.close(t),Promise.resolve(!0)},this.eventEmitter=new EventEmitter,this.onLeftBtnClick=function(e){e.preventDefault(),this.eventEmitter.emit("containerEvent","leftBtnClick",{})})}]),module.exports=moduleName;

},{"../unPopModal/modal":627,"lodash":919,"path":7,"wolfy87-eventemitter":944}],389:[function(require,module,exports){
require("./FriendList"),require("./FriendRequestList");var $my=require("../user/my"),app=angular.module("ddWeb.friend.FriendFactory",["ddWeb.friend.FriendList","ddWeb.friend.FriendRequestList",require("../api/MsgSub"),require("../conversation/conversationWithSDK")]);app.factory("FriendFactory",["FriendList","FriendRequestList","MsgSub","conversationWithSDK",function(e,i,r,n){function t(){return a||(a=new e({cursor:0,SIZE:1e3})),a}function d(){return c||(c=new i({cursor:9999999999999,SIZE:30})),c}function u(){a&&(a=null)}function s(){c&&(c=null)}function o(){r.subscribe("/s/biz/friend",function(e,i){if(i({}),e.body)if(0===e.body.status){if(e.body.initiator){var r=n.createCid([e.body.uid,$my.uid]);n.hideConv(r,!1)}}else 1===e.body.status&&a&&a.addItem(e.body)})}var a=null,c=null;return{init:o,getFriendList:t,getFriendRequestList:d,destoryFriendList:u,destroyFriendRequestList:s}}]);

},{"../api/MsgSub":240,"../conversation/conversationWithSDK":308,"../user/my":635,"./FriendList":391,"./FriendRequestList":393}],390:[function(require,module,exports){
"use strict";var Class=require("../../lib/class"),profileModal=require("../modal/profileModal");angular.module("ddWeb.friend.FriendItem",[require("../user/userManager")]).factory("FriendItem",["profileModalService","userManager",function(e,r){var i=Class.create({initialize:function(e){this.remark=e.remark||"",this.uid=e.userProfileModel.uid,this.user=e,this.userInstance={},r.getUsers([this.uid]).then(function(e){e&&e[0]&&(this.userInstance=e[0])}.bind(this))},showProfileModal:function(r,i){i&&i.preventDefault(),i&&i.stopPropagation(),e(this.uid,null,null,null,r||!1)}});return i}]);

},{"../../lib/class":198,"../modal/profileModal":466,"../user/userManager":641}],391:[function(require,module,exports){
require("./FriendListBaseClass"),require("./FriendItem"),require("../toast/toast"),require("./FriendType");var EventEmitter=require("wolfy87-eventemitter"),app=angular.module("ddWeb.friend.FriendList",["ddWeb.friend.FriendListBaseClass",require("@ali/ding-api").interface.FriendI,"ddWeb.friend.FriendItem","ddWeb.toast","ddWeb.friend.FriendType"]);app.factory("FriendList",["FriendListBaseClass","FriendI","FriendItem","toastService","FriendType","$rootScope",function(e,i,r,t,s,n){var d=e.extend({initialize:function(e){d.superclass.initialize.call(this,e)},Implements:EventEmitter,EventsName:{GET_FRIENDS:"get_friends"},_getDataRequest:function(e){var r=this;i.getFriendList(this.cursor,this.SIZE,function(i){r.isLoading=!1,200===i.code?(r._resolveData(i),e&&e()):t.show("拉取好友列表失败，请重试",{type:"error"}),r.emitEvent(r.EventsName.GET_FRIENDS)})},_resolveData:function(e){var i=this;i.hasMore=e.body.hasMore,i.cursor=e.body.cursor,e.body&&e.body.friendList.forEach(function(e){i.addItem(e)})},addItem:function(e){var i=this;if(0!==e.status&&e.userProfileModel){var t=new r({status:s.FRIEND,userProfileModel:e.userProfileModel});i.friendList.push(t)}}});return d}]);

},{"../toast/toast":611,"./FriendItem":390,"./FriendListBaseClass":392,"./FriendType":394,"@ali/ding-api":711,"wolfy87-eventemitter":944}],392:[function(require,module,exports){
var Class=require("../../lib/class"),app=angular.module("ddWeb.friend.FriendListBaseClass",[]);app.factory("FriendListBaseClass",[function(){var i=Class.create({initialize:function(i){this.friendList=[],this.cursor=i.cursor||0,this.SIZE=i.SIZE||1e3,this.hasMore=!0,this.isLoading=!1,this.loadMore()},_getDataRequest:function(){console.log("need to overwrite this function!")},_resolveData:function(i){console.log("need to overwrite this function!")},loadMore:function(i){this.hasMore&&!this.isLoading&&(this.isLoading=!0,this._getDataRequest(i))}});return i}]);

},{"../../lib/class":198}],393:[function(require,module,exports){
require("./FriendListBaseClass"),require("./FriendItem"),require("../toast/toast");var EventEmitter=require("wolfy87-eventemitter"),app=angular.module("ddWeb.friend.FriendRequestList",["ddWeb.friend.FriendListBaseClass",require("@ali/ding-api").interface.FriendI,"ddWeb.friend.FriendItem","ddWeb.toast"]);app.factory("FriendRequestList",["FriendListBaseClass","FriendI","FriendItem","toastService","$rootScope",function(e,t,r,i,s){var n=e.extend({initialize:function(e){n.superclass.initialize.call(this,e)},Implements:EventEmitter,EventsName:{GET_FRIENDS:"get_friends"},_getDataRequest:function(e){var r=this;t.getFriendRequestListV2(this.cursor,this.SIZE,function(t){r.isLoading=!1,200===t.code?(r._resolveData(t),e&&e()):i.show("拉取好友列表失败，请重试",{type:"error"}),r.emitEvent(r.EventsName.GET_FRIENDS)})},_resolveData:function(e){var t=this;this.hasMore=e.body.hasMore,this.cursor=e.body.cursor,e.body.friendList.forEach(function(e){var i=new r({remark:e.remark,status:e.status,userProfileModel:e.userProfileModel});t.friendList.push(i)})}});return n}]);

},{"../toast/toast":611,"./FriendItem":390,"./FriendListBaseClass":392,"@ali/ding-api":711,"wolfy87-eventemitter":944}],394:[function(require,module,exports){
angular.module("ddWeb.friend.FriendType",[]).value("FriendType",{NON_RELATION:0,RECEIVE_FRIEND_REQUEST:1,HAVE_SEND_FRIEND_REQUEST:2,FRIEND:3,PHONE_RELATION:4});

},{}],395:[function(require,module,exports){
var gAudioContext;module.exports=function(){return gAudioContext||(gAudioContext=new AudioContext),gAudioContext};

},{}],396:[function(require,module,exports){
"use strict";var EventEmitter=require("wolfy87-eventemitter"),eventEmitter=new EventEmitter;module.exports=eventEmitter;

},{"wolfy87-eventemitter":944}],397:[function(require,module,exports){
module.exports={CHANGE_ENT_GROUP:"/action/change_ent_group"};

},{}],398:[function(require,module,exports){
module.exports={DOWNLOAD_URL:"http://www.dingtalk.com/?gotoDownload=true",WIN_APP_RELEASE_PACKAGE:"http://www.dingtalk.com/win/d/",MAC_APP_RELEASE_PACKAGE:"http://www.dingtalk.com/mac/d/",ORG_REGISTER:"https://oa.dingtalk.com/register.html?from=6",DING_TIPS:"https://csmobile.alipay.com/detailSolution.htm?knowledgeType=1&scene=dd_ding&questionId=201602050549",SAFETY_INTRUDUCE:"https://h5.dingtalk.com/safety/encrypt.html?source=pc",ROBOT_SETTING_URL:"https://h5.dingtalk.com/openim/index.html"};

},{}],399:[function(require,module,exports){
angular.module("ddWeb.goldlog",[]).factory("goldlog",[function(){var o=function(o){},n=function(o,n){};return{init:o,log:n}}]);

},{}],400:[function(require,module,exports){
"use strict";var nwWindow=require("../app/nwWindow");require("../log/lwlog.js"),angular.module("ddWeb.goldlog.staylog",["ddWeb.goldlog","ddWeb.log.lwlog"]).factory("staylog",["$rootScope","$state","goldlog","lwlog",function(e,t,n,i){function a(){o()}function o(){document.addEventListener("visibilitychange",function(e){var n=document.visibilityState;r=t.current.name;var i=(new Date).getTime();if("hidden"==n){var a=i-g;d(r,a)}g=i}),nwWindow.addListener(nwWindow.EventsName.VISIBILITY_CHANGE,function(){r=t.current.name;var e=(new Date).getTime();if("hidden"===nwWindow.visibilityState){var n=e-g;d(r,n)}g=e}),e.$on("$stateChangeSuccess",function(e,t,n,i,a){r=i.name;var o=(new Date).getTime(),l=o-g;d(r,l),g=o})}function d(e,t){e&&(n.log("stay","stayName="+e+"&stayTime="+t),i.commLog("stay","stayName="+e+"&stayTime="+t))}var r,g=(new Date).getTime();return{init:a}}]);

},{"../app/nwWindow":257,"../log/lwlog.js":424}],401:[function(require,module,exports){
"use strict";var moduleName="ddWeb.group.GroupFactory";angular.module(moduleName,[require("../../service/group/GroupRequestList")]).factory("GroupRequestFactory",["GroupRequestList",function(e){function u(){return t||(t=new e),t}function r(){t&&t.destroy(),t=null}var t=null;return{getGroupRequestList:u,destroyGroupRequestList:r}}]),module.exports=moduleName;
},{"../../service/group/GroupRequestList":403}],402:[function(require,module,exports){
"use strict";var moduleName="ddWeb.group.GroupItem",Class=require("../../lib/class"),wksdk=require("@ali/wksdk"),groupValidationService=wksdk.groupValidationService,JOIN_GROUP_STATUS=wksdk.joinGroupStatus,localLog=require("../log/localLog");angular.module(moduleName,[require("../../service/user/userManager")]).factory("GroupRequestItem",["userManager",function(e){var r=Class.create({initialize:function(e){var e=e||{};this.groupRequestModel=_.assign({},e.groupRequestData),this.id=[this.groupRequestModel.conversationId,this.groupRequestModel.applyId].join(":"),this.applicant=_.assign({},e.applicant),this._fetchPromise=null},auditJoinGroupStatus:function(e,r,t,i){return this._fetchPromise?this._fetchPromise:groupValidationService.auditJoinGroupStatus(e,r,t,i).result.then(function(e){return this._fetchPromise=null,this.groupRequestModel.status=i,Promise.resolve()}.bind(this)).catch(function(t){return this._fetchPromise=null,localLog.error("audit join group status error",t,e,r,i),Promise.reject(t)}.bind(this))},accept:function(){return e.getUsers([this.groupRequestModel.inviterId]).then(function(e){if(e&&e.length>0){var r=e[0];if(1===this.groupRequestModel.origin)var t=this.applicant.userProfileModel.nick+"通过扫描"+r.userProfileModel.nick+"分享的二维码加入该群";else var t=r.userProfileModel.nick+"邀请"+this.applicant.userProfileModel.nick+"加入群聊";return this.auditJoinGroupStatus(this.groupRequestModel.conversationId,this.groupRequestModel.applyId,t,JOIN_GROUP_STATUS.PASS)}return Promise.reject(new Error("get inviter data error"))}.bind(this))}});return r}]),module.exports=moduleName;

},{"../../lib/class":198,"../../service/user/userManager":641,"../log/localLog":421,"@ali/wksdk":779}],403:[function(require,module,exports){
"use strict";var moduleName="ddWeb.group.GroupList",EventEmitter=require("wolfy87-eventemitter"),Class=require("../../lib/class"),localLog=require("../log/localLog"),wksdk=require("@ali/wksdk"),groupValidationService=wksdk.groupValidationService,app=angular.module(moduleName,[require("./GroupRequestItem"),require("../../service/user/userManager"),require("../../service/conversation/conversationWithSDK")]);app.factory("GroupRequestList",["GroupRequestItem","conversationWithSDK","userManager",function(e,t,r){var i=Class.create({initialize:function(e){var e=e||{};this.groupRequestItems=[],this.cursor=e.cursor,this.SIZE=e.SIZE||30,this._fetchPromise=null,this.hasMore=!0},Implements:EventEmitter,EventsName:{UPDATE:"update",DESTROY:"destroy"},cleanAll:function(){return groupValidationService.cleanJoinGroupValidationByOwner(0).result.then(function(e){this.destroy()}.bind(this)).catch(function(e){return localLog.error("clean group request failed",e),Promise.reject(e)})},_destroy:function(){this.groupRequestItems=[],this.cursor=null,this.hasMore=!0,this.emit(this.EventsName.DESTROY)},destroy:function(){this._fetchPromise?this._fetchPromise.then(function(){this._destroy()}.bind(this)).catch(function(){this._destroy()}.bind(this)):this._destroy()},_getDataFromServer:function(){return groupValidationService.listJoinGroupValidation(this.cursor||9999999999999,this.SIZE).result.then(function(e){return Promise.resolve(e)})},loadMore:function(){return this.hasMore?(this._fetchPromise||(this._fetchPromise=this._getDataFromServer().then(function(t){if(this._fetchPromise=null,0===t.body.length)return Promise.resolve();var i=[];return t.body.forEach(function(e){i.indexOf(e.applyId)===-1&&i.push(e.applyId)}),r.getUsers(i).then(function(r){var i={},s=[];return r&&r.length>0&&r.forEach(function(e){i[e.openId]=e}.bind(this)),t.body.forEach(function(t){if(!i[t.applyId])return void localLog.error("can not get user data");var r=new e({groupRequestData:t,applicant:i[t.applyId]});_.find(this.groupRequestItems,function(e){return e.id===r.id})||s.push(r)}.bind(this)),0===s.length&&(this.hasMore=!1),this.groupRequestItems=this.groupRequestItems.concat(s),0===this.groupRequestItems.length?Promise.resolve():(this.cursor=_.last(this.groupRequestItems).groupRequestModel.createdAt,this.emit(this.EventsName.UPDATE),Promise.resolve())}.bind(this))}.bind(this)).catch(function(e){return this._fetchPromise=null,localLog.error("load more group request error",e,this.cursor,this),Promise.reject(e)}.bind(this))),this._fetchPromise):Promise.resolve()}});return i}]),module.exports=moduleName;

},{"../../lib/class":198,"../../service/conversation/conversationWithSDK":308,"../../service/user/userManager":641,"../log/localLog":421,"./GroupRequestItem":402,"@ali/wksdk":779,"wolfy87-eventemitter":944}],404:[function(require,module,exports){
"use strict";var ConvType=require("../conversation/ConvType"),ConvExtensionType=require("../conversation/convExtensionType"),groupSupportType={conversation:{allowedShowJumpType:[ConvExtensionType.FRIEND,ConvExtensionType.FILESHELPER],fullSupportGroupType:[ConvType.ORDINARY_GROUP,ConvType.COMPANY_GROUP,ConvType.SECRETARY,ConvType.FILEHELPER,ConvType.ANNOUNCEMENT,ConvType.ENCRYPT_CHAT]},myGroup:{fullSupportGroupType:[ConvType.ORDINARY_GROUP,ConvType.COMPANY_GROUP]},chatSearch:{fullSupportGroupType:[ConvType.ORDINARY_GROUP,ConvType.COMPANY_GROUP,ConvType.ENCRYPT_CHAT]}};module.exports=groupSupportType;
},{"../conversation/ConvType":294,"../conversation/convExtensionType":307}],405:[function(require,module,exports){
"use strict";var env=require("./env/env");if(env.isOnline)var login="https://login.dingtalk.com",login2="https://login2.dingtalk.com",space="https://space.dingtalk.com",spaceRc="https://space.dingtalk.com/index_rc.html",cookie="https://webalfa.dingtalk.com",wsAlternative=["wss://webalfa-cm3.dingtalk.com/lwp","wss://webalfa-cm10.dingtalk.com/lwp"],aladin="https://vip.laiwang.com/alfa",cmail1="https://tms.dingtalk.com/markets/dingtalk/dingdingmailhasqrcode",cmail2="https://tms.dingtalk.com/markets/dingtalk/dingdingmailnoqrcode",cmail3="https://tms.dingtalk.com/markets/dingtalk/dingdingMailNotFindProxy";else{var dailyWSUriKey="env-daily-ws-uri",wsUri="ws://10.218.136.150:7001/lwp",aladin="http://10.189.193.238/alfa";window.localStorage[dailyWSUriKey]&&(wsUri=window.localStorage[dailyWSUriKey],aladin="");var login="http://devlogin.dingtalk.com:7001",space="http://devspace.dingtalk.com",spaceRc="http://devspace.dingtalk.com/index_rc.html",cookie="http://10.218.136.150",wsAlternative=[wsUri],cmail1="https://tms.dingtalk.com/markets/dingtalk/dingdingmailhasqrcode",cmail2="https://tms.dingtalk.com/markets/dingtalk/dingdingmailnoqrcode",cmail3="https://tms.dingtalk.com/markets/dingtalk/dingdingMailNotFindProxy"}module.exports={login:login,login2:login2,space:space,spaceRc:spaceRc,cmail1:cmail1,cmail2:cmail2,cmail3:cmail3,cookie:cookie,wsAlternative:wsAlternative,aladin:aladin};

},{"./env/env":374}],406:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.ImgType";angular.module(moduleName,[]).value("IMGTYPE",{DTImageOrientationUndefined:0,DTImageOrientationNormal:1,DTImageOrientation_Flip_Horizontal:2,DTImageOrientation_Rotate_180:3,DTImageOrientation_Flip_Vertical:4,DTImageOrientation_Transpose:5,DTImageOrientation_Rotate_90:6,DTImageOrientation_Transverse:7,DTImageOrientation_Rotate_270:8}),module.exports=moduleName;
},{}],407:[function(require,module,exports){
var moduleName="ddWeb.service.Rotate";angular.module(moduleName,[require("./ImgType")]).factory("Rotate",["IMGTYPE",function(e){return function(t){switch(t){case e.DTImageOrientationUndefined:return 0;case e.DTImageOrientation_Rotate_180:return 180;case e.DTImageOrientation_Rotate_90:return 90;case e.DTImageOrientation_Rotate_270:return 270;default:return 0}}}]),module.exports=moduleName;
},{"./ImgType":406}],408:[function(require,module,exports){
"use strict";require("./../modal/modal"),require("../../directive/img/imgPreviewDirective"),require("../mediaId/mediaId");var moduleName="ddWeb.service.imgPreviewService",app=angular.module(moduleName,["ddWeb.modal","ddWeb.widget.imgPreview","ddWeb.mediaId"]);app.factory("imgPreviewService",["$modal",function(e){function t(t,r,i,n){var n=n||{},a=r?r:function(){},o=i?i:function(){},c=e.open({template:"<div img-preview-directive ></div>",controller:"imgPreviewCtrl",resolve:{localState:function(){return t},getPrevStateFunc:function(){return a},getNextStateFunc:function(){return o},conf:function(){return n}}});return c.result}return{preview:t}}]),app.controller("imgPreviewCtrl",["$scope","localState","getPrevStateFunc","getNextStateFunc","mediaId","$modalInstance","conf",function(e,t,r,i,n,a,o){e.modalInstance=a,e.getPrevStateFunc=r,e.getNextStateFunc=i,e.localState=t,e.conf=o}]),module.exports=moduleName;

},{"../../directive/img/imgPreviewDirective":113,"../mediaId/mediaId":433,"./../modal/modal":458}],409:[function(require,module,exports){
"use strict";var RequestMerge=function(e,t){this.name=e,this.cacheTime=t||1e3,this.cacheMap={}};RequestMerge.prototype.request=function(e,t){return this.cacheMap[e]?this.cacheMap[e]:(this.cacheMap[e]=t(),this.cacheMap[e].then(function(){this.clearCacheById(e)}.bind(this)).catch(function(){this.clearCacheById(e)}.bind(this)),this.cacheMap[e])},RequestMerge.prototype.clearCacheById=function(e){setTimeout(function(){this.cacheMap[e]=null}.bind(this),this.cacheTime)},module.exports=RequestMerge;

},{}],410:[function(require,module,exports){
"use strict";function binaryStringToUtf8(e){var r=e.replace(/(.)/g,function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t});return decodeURIComponent(r)}var WKEngine=require("@ali/wksdk"),ws=WKEngine.ws,request=function(e,r,t,n,o,s){var a={method:r||"GET",url:e,header:t||{},body:n||"",followRedirect:o,extension:s};return ws.sendMsg("/r/Adaptor/",{},[a]).result},base64ToUtf8=function(e){var r=atob(e);return binaryStringToUtf8(r)};exports.request=request,exports.base64ToUtf8=base64ToUtf8;

},{"@ali/wksdk":779}],411:[function(require,module,exports){
"use strict";var moduleName="ddWeb.io.mainWS",WK=require("@ali/wksdk"),ua=require("../ua"),db=require("../db/db"),storage=require("../storage/storage"),log=require("../log/localLog"),LoginStatusCode=require("../login/LoginStatusCode"),nw=require("../app/nw"),DTSearchManager=require("../nativesearch/DTSearchManager"),statLog=require("../log/statLog"),LoginStatusCode=require("../login/LoginStatusCode"),loginStatus=require("../login/loginStatus");angular.module(moduleName,[]).factory("mainWS",[function(){function e(){n.logout(),nw.setUnread(0),nw.removeAllCookies().then(function(){window.location.reload()}).catch(function(){window.location.reload()}),ua.isDesktop&&(DTSearchManager.close(),db.reset()),ua.isDingTalkWin&&(dingtalk.tray.chatMsgNotify(JSON.stringify({chatMsg:[]})),dingtalk.remote.stopRemote())}function t(e){i.push(e)}var n=WK.ws,o=function(e,t){return n.auth(e,t)},a=function(){return n.disconnect()},r=function(e,t,o,a){return n.sendMsg(e,t,o,function(){a&&a.apply(this,arguments)})},i=[];n.addListener(n.EventsName.PUSH_MSG,function(e){i.forEach(function(t){t(e)})});var u=function(){return n.getConnectTime()},s=function(){return n.autoLogin()};n.addListener(n.EventsName.WS_STATE_CHANGE,function(e){e!==n.WSState.REGED&&e!==n.WSState.OPENED&&(e===n.WSState.CONNECTING?loginStatus.setLoginStatus(LoginStatusCode.LOGINING):e===n.WSState.SUBSCRIBED?loginStatus.setLoginStatus(LoginStatusCode.LOGINED):e===n.WSState.SILENT_CONNECTING?loginStatus.setLoginStatus(LoginStatusCode.SILENT_CONNECTING):loginStatus.setLoginStatus(LoginStatusCode.NOT_LOGIN))}),n.addListener(n.EventsName.SUBSCRIBE_FAIL,function(t){log.error("ws susbcribe fail, force logout msg :"+t.toString()),e()});var g={};return n.addListener(n.EventsName.PERF_EVENT,function(e){var t=e.connectId;switch(e.event){case"open":g[t]={},g[t].open=window.performance.now();break;case"opened":if(!g[t])break;g[t].opened=window.performance.now();break;case"reged":case"authed":if(!g[t])break;if(g[t].connected=window.performance.now(),"number"==typeof g[t].connected&&"number"==typeof g[t].open&&"number"==typeof g[t].opened){var n=parseInt(g[t].connected-g[t].open),o=parseInt(g[t].opened-g[t].open);statLog.writePerfLog(n,0,o,0,0,0)}g={}}}),{logout:e,sendMsg:r,regDownMsgHandle:t,forceOffline:a,auth:o,getConnectTime:u,autoLogin:s}}]),module.exports=moduleName;

},{"../app/nw":255,"../db/db":327,"../log/localLog":421,"../log/statLog":425,"../login/LoginStatusCode":429,"../login/loginStatus":431,"../nativesearch/DTSearchManager":486,"../storage/storage":606,"../ua":621,"@ali/wksdk":779}],412:[function(require,module,exports){
"use strict";var layoutResizeDirection=require("./layoutResizeDirection"),ddStorage=require("../storage/ddStorage");module.exports={convList:{direction:layoutResizeDirection.RIGHT,minWidth:213,maxWidth:400,storageKey:ddStorage.STORAGE_KEY.CONV_LIST_WIDTH},inputArea:{direction:layoutResizeDirection.TOP,minHeight:107,maxHeight:200,storageKey:ddStorage.STORAGE_KEY.INPUT_AREA_HEIGHT}};

},{"../storage/ddStorage":605,"./layoutResizeDirection":413}],413:[function(require,module,exports){
module.exports={LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom"};

},{}],414:[function(require,module,exports){
"use strict";module.exports={IMAGE_READ_B64_SIZE_LIMIT:3145728,DING_SPACE_FILE_UPLOAD_LIMIT:2147483648,SAEFTY_FILE_UPLOAD_LIMIT:52428800,SAEFTY_IMAGE_UPLOAD_LIMIT:31457280,SAFETY_AUTO_DECRYPT_IMAGE_LIMIT:4194304,DING_ATTACHMENT_LIMIT:9,MIN_MICRO_APP_NW_VERSION:"0.4.2",MIN_TEMPLATE_TRAY_ICON_FOR_MAC:"0.9.50",WIN_APP_NEWEST_VERSION:"1.0.0",MAC_APP_NEWEST_VERSION:"1.0.0",MIN_CHECKUPDATE_VERSION:"1.4.0",MIN_WEBVIEW_VERSION:"1.3.0",MIN_WIN_COPY_IMAGE_VERSION:"1.10.6",MIN_NATIVE_SEARCH_VERSION:"1.6.99"};

},{}],415:[function(require,module,exports){
"use strict";var Class=require("../../lib/class");require("./ListItem"),require("./ListItemEOF");var gloablEventEmitter=require("../globalEventEmitter"),EVENTS=require("../events"),EventEmitter=require("wolfy87-eventemitter"),defaultConfig={order:"DESC",defSize:20,pageSize:20,getMore:function(t,e,i){},itemConstructor:null,newItemMode:"continuous",allowReOrder:!1,delayInit:!1,autoPullData:!0,reconnRestore:!1},moduleName=module.exports="ddWeb.listContainer.ListContainer";angular.module(moduleName,["ddWeb.listContainer.ListItemEOF","ddWeb.listContainer.ListItem"]).factory("ListContainer",["ListItemEOF","ListItem","$rootScope",function(t,e,i){var s=Class.create({initialize:function(t,e){var t=t||{};return this.conf=$.extend({},defaultConfig,t),t.itemConstructor?(this.showSize=0,this.newCount=0,this.showItems=[],this.Ids=[],this._cache={},this.stateIsActive=!1,e&&Array.isArray(e)&&this.update(e),this.initData(),void this.initReconnRestore()):void console.log("itemConstructor can't be null")},initData:function(){if(this.conf.autoPullData!==!1)if(this.conf.delayInit===!0){var t=this;setTimeout(function(){t.showMore()},5e3)}else this.showMore()},update:function(t){var i=0,s=this,n=0;if(t&&Array.isArray(t)&&t.length>0){var t=t.map(function(t){return t instanceof e||(t=new s.conf.itemConstructor(t)),t});t=t.sort(function(t,e){return"DESC"===s.conf.sort?e.getSortValue()-t.getSortValue():t.getSortValue()-e.getSortValue()}),t.forEach(function(t){var e=t.getId();s._cache[e]=t;var o=s.Ids.indexOf(e);if(o!==-1){if(s.conf.allowReOrder===!1)return;s.Ids.splice(o,1),i-=1}var r=t.getSortValue(),h=s._getInsertPos(r);s.Ids.splice(h,0,e),i+=1,"continuous"===s.conf.newItemMode&&(t.isNew()?n+=1:n=0)})}return s.isActive()?(s.showSize+=i,s._genShowItems(),s.makeItemsOld()):"continuous"===this.conf.newItemMode&&(s.newCount+=n),"exact"===this.conf.newItemMode&&this.genNewCount(),this.emitEvent(this.EventsName.UPDATE_ITEMS),i},initReconnRestore:function(){if(this.conf.reconnRestore!==!1){var t=this;gloablEventEmitter.addListener(EVENTS.LOGIN_STATE_CHANGE,function(e){2===e&&(t.showSize=0,t.newCount=0,t.showItems=[],t.Ids=[],t._cache={},t.initData())})}},genNewCount:function(){var t=this;this.newCount=this.Ids.filter(function(e){return t._cache[e].isNew()}).length,this.emitEvent(this.EventsName.NEW_COUNT_CHANGE)},_getInsertPos:function(t){var e=this,i=0;if("DESC"===e.conf.order)for(var s=0;s<=e.Ids.length;s++){if(0===s)var n=Number.MAX_VALUE;else var n=e._cache[e.Ids[s-1]].getSortValue();if(s===e.Ids.length)var o=Number.MIN_VALUE;else var o=e._cache[e.Ids[s]].getSortValue();if(t<n&&t>=o)return s}else for(var s=0;s<=e.Ids.length;s++){if(0===s)var n=Number.MIN_VALUE;else var n=e._cache[e.Ids[s-1]].getSortValue();if(s===e.Ids.length)var o=Number.MAX_VALUE;else var o=e._cache[e.Ids[s]].getSortValue();if(t>=n&&t<o)return s}return i},_genShowItems:function(){var t=this,e=[];e="DESC"===this.conf.order?this.Ids.slice(0,this.showSize):this.Ids.slice(0-this.showSize),this.showItems=e.map(function(e){return t._cache[e]})},remove:function(t){this.Ids=_.without(this.Ids,t),this._cache[t]&&(this._cache[t]=null),this._genShowItems(),this.emitEvent(this.EventsName.UPDATE_ITEMS)},active:function(){var e=this;if(this.stateIsActive=!0,this.showSize=Math.min(this.conf.defSize,this.Ids.length),this._genShowItems(),this.showSize<this.conf.defSize){var i=this._getLatestItem();this.conf.getMore(this.conf.defSize-this.showSize,i,function(i){i&&Array.isArray(i)&&i.length>0?e.update(i):e.update([new t])})}"continuous"===this.conf.newItemMode&&(this.makeItemsOld(),this.clearNew())},deactive:function(){this.stateIsActive=!1},isActive:function(){return this.stateIsActive},_getLatestItem:function(){if(this.showItems.length>0)if("DESC"===this.conf.order)var t=this.showItems[this.showItems.length-1];else var t=this.showItems[0];else var t=null;return t},showMore:function(e){var i=this;if(this.Ids.length-this.showSize>=this.conf.pageSize)this.showSize+=this.conf.pageSize,this._genShowItems(),e&&e();else{var s=this.conf.pageSize-Math.max(this.Ids.length-this.showSize,0);this.showSize=this.Ids.length;var n=this._getLatestItem();this.conf.getMore(s,n,function(s){s&&Array.isArray(s)&&s.length>0?i.update(s):i.update([new t]),e&&e()}),this._genShowItems()}},makeItemsOld:function(){this.showItems.length>0&&this.makeItemOld(this._getLatestItem())},makeItemOld:function(t){t.makeOld()},clearNew:function(){this.newCount=0,this.emitEvent(this.EventsName.NEW_COUNT_CHANGE)},makeItemFirst:function(t){t instanceof e||(t=new this.conf.itemConstructor(t));var i=t.getId();this._cache[i]=t;var s=this.Ids.indexOf(i);s!==-1?this.Ids.splice(s,1):this.showSize+=1,this.Ids.unshift(i),this.isActive()&&this._genShowItems(),this.emitEvent(this.EventsName.ITEM_SORT_CHANGE)},Implements:EventEmitter,EventsName:{DELETE_ITEM:"delete_item",UPDATE_ITEMS:"update_items",ITEM_SORT_CHANGE:"item_sort_change",NEW_COUNT_CHANGE:"new_count_change"}});return s}]);
},{"../../lib/class":198,"../events":376,"../globalEventEmitter":396,"./ListItem":416,"./ListItemEOF":417,"wolfy87-eventemitter":944}],416:[function(require,module,exports){
var Class=require("../../lib/class"),moduleName=module.exports="ddWeb.listContainer.ListItem";angular.module(moduleName,[]).factory("ListItem",[function(){var e=Class.create({initialize:function(){},isNew:function(){return!1},makeOld:function(){return!0},getId:function(){return console.log("You should realize the getUniqId method"),0},getSortValue:function(){return console.log("You should realize the getSortValue method"),0}});return e}]);

},{"../../lib/class":198}],417:[function(require,module,exports){
require("./ListItem"),angular.module("ddWeb.listContainer.ListItemEOF",["ddWeb.listContainer.ListItem"]).factory("ListItemEOF",["ListItem",function(t){var e=t.extend({initialize:function(){this.EOF=!0,this.id=(new Date).getTime().toString()+parseInt(1e3*Math.random())},getId:function(){return this.id},getSortValue:function(){return Number.MIN_VALUE}});return e}]);

},{"./ListItem":416}],418:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.exceptionLog",env=require("../env/env"),ua=require("../ua.js");require("../log/lwlog.js");var localLog=require("./localLog");angular.module(moduleName,["ddWeb.log.lwlog"]).factory("exceptionLog",["lwlog",function(o){return{init:function(){this._initNodeHandle(),this._initBrowserHandle()},_initNodeHandle:function(){ua.isNw&&env.isProductEnv&&window.process&&window.process.on("uncaughtException",function(o){console.log("Caught exception: "+o),localLog.error(o)})},_initBrowserHandle:function(){window.onerror=function(o){localLog.error(o)}}}}]),module.exports=moduleName;

},{"../env/env":374,"../log/lwlog.js":424,"../ua.js":621,"./localLog":421}],419:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.imLog";angular.module(moduleName,[require("./lwlog")]).factory("imLog",["lwlog",function(_){var e,n={},o=!1,a={CHAT_MSG_SINGLE_PAGE:"chat_msg_single_page",CHAT_MSG_SINGLE_PAGE_SEND:"chat_msg_single_page_send",CHAT_MSG_GROUP_PAGE:"chat_msg_group_page",CHAT_MSG_GROUP_PAGE_SEND:"chat_msg_group_page_send"},r=function(e,o){var a="type="+n[e];_.commLog(o,a)};return{trace:function(_,o){_&&o&&(n[_]=o,e=_)},sendMsg:function(_){if(_&&_.hasOwnProperty("convId")&&_.hasOwnProperty("isSingleChat")){if(o)return;var e=_.isSingleChat?a.CHAT_MSG_SINGLE_PAGE_SEND:a.CHAT_MSG_GROUP_PAGE_SEND;r(_.convId,e),o=!0}},deactive:function(_){if(_&&_.hasOwnProperty("convId")){if(e===_.convId)return;n[_.convId]=null}},active:function(_){if(o=!1,_&&_.hasOwnProperty("convId")&&_.hasOwnProperty("isSingleChat")){var e=_.isSingleChat?a.CHAT_MSG_SINGLE_PAGE:a.CHAT_MSG_GROUP_PAGE;r(_.convId,e)}}}}]),module.exports=moduleName;

},{"./lwlog":424}],420:[function(require,module,exports){
module.exports={MAIPAGE_CREATE:"maipage_create",SINGLE_ADD_MEMBER:"single_add_member",MAIPAGE_MSG_LIST:"maipage_msg_list",SEARCH_RESULT:"search_result",PROFILE:"profile",CONTACT_GROUP:"contact_group",PLUS_BOSS:"plus_boss",SINGLE_SET_BOSS:"single_set_boss",UNREAD_MENU:"unread_menu"};

},{}],421:[function(require,module,exports){
"use strict";function getLogDir(){if(isNw){var r=_nwrequire("path");return r.join(appDataPath,"appLogs")}if(isDingTalkWin)return appDataPath+"log\\"}function clearLogFile(){if(isNw)try{var r=_nwrequire("fs"),t=_nwrequire("path");if(r.existsSync(logDir)){var e=r.readdirSync(logDir);e.forEach(function(e){var i=logPattern.exec(e);if(i&&i.length>1){var a=parseInt(i[1]),o=parseInt(get15DaysBefore());a<=o&&r.unlinkSync(t.join(logDir,e))}})}}catch(r){console.error(r)}}function leftPad(r,t,e){if(r+="",t-=r.length,t<=0)return r;e||0===e||(e=" "),e+="";for(var i="";;){if(1&t&&(i+=e),t>>=1,!t)break;e+=e}return i+r}function get15DaysBefore(){var r=(new Date).getTime(),t=new Date(r-1296e6);return""+t.getFullYear()+leftPad(t.getMonth()+1,2,"0")+leftPad(t.getDate(),2,"0")}function mkdirp(r){if(isNw){var t=_nwrequire("fs"),e=_nwrequire("path"),r=e.resolve(r);try{t.mkdirSync(r)}catch(a){switch(a.code){case"ENOENT":mkdirp(e.dirname(r)),mkdirp(r);break;default:var i;try{i=t.statSync(r)}catch(r){throw r}if(!i.isDirectory())throw a}}return r}}function _saveLog(r,t){if(isNw){var e=_nwrequire("fs"),i=(_nwrequire("path"),_getLogFilePath(r)),t="\n"+new Date+"  "+t;logCache[i]||(logCache[i]=""),logCache[i]=logCache[i]+t;var a=function(r){var t=logCache[r];logCache[r]="",writeStatus[r]=WRITE_STATUS.WRITING,e.appendFile(r,t,function(t,e){writeStatus[r]=WRITE_STATUS.IDLE,logCache[r]&&a(r)})};try{logDirExist===!1&&(e.existsSync(logDir)||mkdirp(logDir),logDirExist=!0),writeStatus[i]===WRITE_STATUS.WRITING||a(i)}catch(r){console.log(r)}}else isDingTalkWin&&dingtalk.util.log(LOG_TYPE_ENUM[r],t)}function _getLogFilePath(r,t){var e=t?moment(t).format("YYYYMMDD"):moment().format("YYYYMMDD");if(isNw){var i=_nwrequire("path"),a=i.join(logDir,r+"-"+e+".log");return a}if(isDingTalkWin)return logDir+e+".log"}function _formatLog(r){return r=r.map(function(r){return r instanceof Error?r.stack+r.toString():void 0!==r&&null!==r&&r.toString?r.toString():"null"}),r.join(" | ")}var ua=require("../ua.js"),logDir,isNw=ua.isNw,isDingTalkWin=ua.isDingTalkWin,moment=require("moment"),logPattern=/(\d{8})\.log$/,appDataPath=require("../app/localFilePathManager").getAppDataPath();logDir=getLogDir(),clearLogFile();var logDirExist=!1,WRITE_STATUS={IDLE:0,WRITING:1},writeStatus={},logCache={},LOG_TYPE_ENUM={DEBUG:0,INFO:1,TICE:2,WARN:3,ERROR:4};module.exports={info:function(){var r=Array.prototype.slice.apply(arguments),t=_formatLog(r);_saveLog("INFO",t)},error:function(){var r=Array.prototype.slice.apply(arguments),t=_formatLog(r);_saveLog("ERROR",t)},getLogFilePath:_getLogFilePath};

},{"../app/localFilePathManager":254,"../ua.js":621,"moment":923}],422:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.log",localLog=require("./localLog");angular.module(moduleName,[]).factory("log",[function(){return localLog}]),module.exports=moduleName;

},{"./localLog":421}],423:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.logUpload",loginStatusCode=require("../login/LoginStatusCode"),_=require("lodash"),ua=require("../ua"),path=require("path"),statLog=require("./statLog"),localLog=require("./localLog"),moment=require("moment"),LocalFile=require("../file/LocalFile"),Upload=require("@ali/wksdk").upload;angular.module(moduleName,[require("../io/mainWS"),require("../file/fileHelper"),require("../api/MsgSub")]).factory("logUpload",["mainWS","$fileHelper","MsgSub",function(e,o,n){var r=function(){return[0,e.getConnectTime(),"wifi","WK","w",window.version].join(String.fromCharCode(1))},i=function(){statLog.on(statLog.EventsName.READY_UPLOAD_LOG,function(){var o=r(),n=[o].concat(statLog.consumeAllLogs());e.sendMsg("/r/LwpLog/web",{},n.join("\n"),function(e){})}),n.subscribe("/push/lwp",function(e,o){var n=_.get(e,"headers.cmd");if("log"===n){if(o(),e.body&&2===e.body.split(" ").length)var r=e.body.split(" ")[1].split("_")[0];else var r=moment().format("YYYYMMDD");t(r)}})},t=function(e){if(ua.isNw){var o=localLog.getLogFilePath("info",e),n=localLog.getLogFilePath("error",e);a(o).then(function(e){localLog.info("upload info log result : "+JSON.stringify(e))}).catch(function(e){localLog.error("upload info log err : "+e.toString())}),a(n).then(function(e){localLog.info("upload error log result : "+JSON.stringify(e))}).catch(function(e){localLog.error("upload error log err : "+e.toString())})}else if(ua.isDingTalkWin){var r=localLog.getLogFilePath("",e);l(r)}},l=function(o){var n=o+".copy";dingtalk.util.copyLogFile(o,n);var r=new LocalFile(n);return Upload.upload(r,function(){},{isPrivate:!0}).then(function(n){return e.sendMsg("/r/LwpLog/fileInfo",{},{fileName:path.basename(o),version:window.version,message:"time="+(new Date).toLocaleString(),tfsKey:n.uri.split("/").pop()}).result}).catch(function(e){localLog.error("upload log file err :"+e.toString())})},a=function(n){var r=_nwrequire("fs"),i=_nwrequire("path");return Promise.resolve().then(function(){return new Promise(function(e,o){r.access(n,r.R_OK,function(r){r?o(r):e(n)})})}).then(function(){return new Promise(function(e,o){r.readFile(n,function(n,r){n?o(n):e(r)})})}).then(function(e){return o.bufferToFile(e,"text/plain",i.basename(n))}).then(function(e){return Upload.upload(e,function(){},{isPrivate:!0})}).then(function(o){return e.sendMsg("/r/LwpLog/fileInfo",{},{fileName:i.basename(n),version:window.version,message:"time="+(new Date).toLocaleString(),tfsKey:o.uri.split("/").pop()}).result}).catch(function(e){localLog.error("upload log file err :"+e.toString())})};return{init:i}}]),module.exports=moduleName;

},{"../api/MsgSub":240,"../file/LocalFile":378,"../file/fileHelper":379,"../io/mainWS":411,"../login/LoginStatusCode":429,"../ua":621,"./localLog":421,"./statLog":425,"@ali/wksdk":779,"lodash":919,"moment":923,"path":7}],424:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.lwlog",nw=require("../app/nw"),ua=require("../ua.js"),my=require("../user/my");angular.module(moduleName,[require("@ali/ding-api").interface.LogI]).factory("lwlog",["LogI",function(e){var o,r={COMMON:2,ERR:3,PROFILE_SAFE:10},a="dd",n=(window.navigator.userAgent,window.version),u=nw.version(),i=u?n+"#"+u:n,g=ua.isMac?"MAC":"WINDOWS",m=ua.osVersion,t="",d="",l=1,s=function(e,r,a,n){if(o||(o=my.getId()),r){var u=a?"gmkey:"+r+",gokey:"+a:"gmkey:"+r;f(e,u,n)}},c=function(e,o,a){var n=r.COMMON;s(n,e,o,a)},v=function(e,o,a){var n=r.ERR;s(n,e,o,a)},f=function(r,n,u){o||(o=my.getId());var s={code:r,uid:o,app:a,appVer:i,os:g,osVer:m,manufacturer:t,model:d,level:l,message:n};e.log(s,function(e){u&&u(e)})};return{commLog:c,errorLog:v,nativeLog:f,CODES:r}}]),module.exports=moduleName;
},{"../app/nw":255,"../ua.js":621,"../user/my":635,"@ali/ding-api":711}],425:[function(require,module,exports){
"use strict";var Class=require("../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),ua=require("../ua"),NET_TYPE="wifi",LOG_TYPE={BASE:0,SERVER:1,CONNECT_PERFORMANCE:52,SPACE_FILE_UPLOAD:53,SPACE_FILE_DOWNLOAD:54,PRC_ACCESS:3,UPLOAD_PERFORMANCE:4,ALADDIN_ACCESS:5,FILE_DOWNLOAD:6,RPC_LIMITING:7,MEM_USAGE:18},intervalTime=3e5,StatLog=Class.create({initialize:function(t){this.allLogs=[],this.fileDownloadErrCount=0,this._timer=null,this.startTimer(),this._monitorCount=0,this._loopTimer=null,ua.isDesktop&&this.startLoopTimer()},Implements:EventEmitter,EventsName:{READY_UPLOAD_LOG:"ready_upload_log"},startTimer:function(){this._timer=setTimeout(function(){this.allLogs.length>0&&this.emit(this.EventsName.READY_UPLOAD_LOG)}.bind(this),intervalTime)},writeFileDownloadLog:function(t,i,e,o){this.allLogs.push([LOG_TYPE.FILE_DOWNLOAD,t,i,e,o?1:0,NET_TYPE].join(String.fromCharCode(1))),o?this.fileDownloadErrCount++:this.fileDownloadErrCount=0,this.fileDownloadErrCount>30&&this.emit(this.EventsName.READY_UPLOAD_LOG)},consumeAllLogs:function(){var t=[].concat(this.allLogs.slice(-100));return this.allLogs=[],this.fileDownloadErrCount=0,t},startLoopTimer:function(){if(0==this._monitorCount)this._loopTimer=setTimeout(function(){this.writeMemUsageLog(0)}.bind(this),8e4);else if(1==this._monitorCount)this._loopTimer=setTimeout(function(){this.writeMemUsageLog(1)}.bind(this),36e5);else if(this._monitorCount<7){var t=2*(this._monitorCount-1);this._loopTimer=setTimeout(function(){this.writeMemUsageLog(t)}.bind(this),72e5)}else{var t=12*(this._monitorCount-6);this._loopTimer=setTimeout(function(){this.writeMemUsageLog(t)}.bind(this),432e5)}this._monitorCount=this._monitorCount+1},writeMemUsageLog:function(t){if(ua.isDingTalkWin){var i=this;dingtalk.mem.getAppMemInfo(function(e){e>0&&(i.allLogs.push([LOG_TYPE.MEM_USAGE,t,e].join(String.fromCharCode(1))),i.emit(i.EventsName.READY_UPLOAD_LOG))}),this.startLoopTimer()}},writePerfLog:function(t,i,e,o,s,n){this.allLogs.push([LOG_TYPE.CONNECT_PERFORMANCE,t,i,e,o,s,n].join(String.fromCharCode(1))),setTimeout(function(){this.emit(this.EventsName.READY_UPLOAD_LOG)}.bind(this),1e3)},writeSpaceFileUploadLog:function(t,i){this.allLogs.push([LOG_TYPE.SPACE_FILE_UPLOAD,t,i].join(String.fromCharCode(1))),setTimeout(function(){this.emit(this.EventsName.READY_UPLOAD_LOG)}.bind(this),1e3)},writeSpaceFileDownloadLog:function(t,i){this.allLogs.push([LOG_TYPE.SPACE_FILE_DOWNLOAD,t,i].join(String.fromCharCode(1))),setTimeout(function(){this.emit(this.EventsName.READY_UPLOAD_LOG)}.bind(this),1e3)}});module.exports=new StatLog;

},{"../../lib/class":198,"../ua":621,"wolfy87-eventemitter":944}],426:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.vipLog",WKSDK=require("@ali/wksdk"),clientLogI=WKSDK.clientLog,cloudSetting=WKSDK.cloudSetting,Class=require("../../lib/class"),localLog=require("../log/localLog");angular.module(moduleName,[]).factory("VipLog",[function(){var e=Class.create({initialize:function(e){this.moduleName="wk_phone",this.topicName="vip_user",this.data=cloudSetting.getConfig(this.moduleName,this.topicName),this.initCloudSetting(),this._cache={},this.FREQ=216e5,this.MAX_COUNT=3},initCloudSetting:function(){cloudSetting.addListener(this.moduleName,this.topicName,function(e){this.data=e}.bind(this))},getCacheId:function(e){return[e.moduleName,e.subType].join(":")},record:function(e){var t=this.getCacheId(e);this._cache[t]?(this._cache[t].count+=1,this._cache[t].lastTime=Date.now()):this._cache[t]={count:1,lastTime:Date.now()}},isVip:function(){return"1"===_.get(this.data,"settingValue")},sendAlarmMsg:function(e){return clientLogI.alarm(e).result.then(function(e){return Promise.resolve(e)}).catch(function(e){return localLog.error("vip log error",e),Promise.reject(e)})},canSendMsg:function(e){if(!this.isVip())return!1;var t=this.getCacheId(e);return!this._cache[t]||(Date.now()-this._cache[t].lastTime>this.FREQ&&(this._cache[t]=0),!(this._cache[t].count>this.MAX_COUNT))},alarm:function(e,t,i,o,a){if(!(e&&t&&i&&o))return Promise.reject("VipLog, params error");var n={moduleName:e,subType:t,subtypeDesc:i,data:o};return this.canSendMsg(n)?(this.record(n),this.sendAlarmMsg(n)):Promise.resolve()}});return e}]),module.exports=moduleName;

},{"../../lib/class":198,"../log/localLog":421,"@ali/wksdk":779}],427:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.vipLogManager";angular.module(moduleName,[require("./vipLog")]).factory("vipLogManager",["VipLog",function(e){function r(){return n||(n=new e),n}function a(e,a,n,o){var t=r();return t.alarm(e,a,n,o)}var n=null,o={Safety:"safe_im",IM:"pc_im"},t={EncryptFail:1501,DecryptFail:1502,SafetyError:1503,AnhengError:1504,DB_TRANSACTION_ERROR:2001};return{Name:o,SubType:t,getInstance:r,alarm:a}}]),module.exports=moduleName;

},{"./vipLog":426}],428:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.wkLogCapture",WKEngine=require("@ali/wksdk");angular.module(moduleName,[require("./vipLogManager")]).factory("wkLogCapture",["vipLogManager",function(e){var r=function(){WKEngine.errorLogEventEmitter.addListener(WKEngine.errorLogEventEmitter.EventsName.DB_TRANSACTION_ERROR,function(r){e.alarm(e.Name.IM,e.SubType.DB_TRANSACTION_ERROR,"DB transaction error",{message:r})})};return{init:r}}]),module.exports=moduleName;

},{"./vipLogManager":427,"@ali/wksdk":779}],429:[function(require,module,exports){
"use strict";module.exports={NOT_LOGIN:0,LOGINING:1,LOGINED:2,LOGIN_FAIL:3,SILENT_CONNECTING:4};

},{}],430:[function(require,module,exports){
"use strict";var moduleName="ddWeb.login.compare2local",storage=require("../storage/storage");angular.module(moduleName,[]).factory("compare2local",[function(){var e=function(e,r){var a={};try{a=JSON.parse(storage.local.getItem(storage.KEYS.LATEST_USER_INFO))}catch(e){}a||(a={});var o=a.countryKey,t=a.tel;return o&&t&&e&&r&&e===o&&parseInt(r)===parseInt(t)};return{isSameUser:e}}]),module.exports=moduleName;

},{"../storage/storage":606}],431:[function(require,module,exports){
"use strict";var moduleName="ddWeb.login.status",StatusCode=require("./LoginStatusCode"),EVENTS=require("../events"),log=require("../log/localLog"),globalEventEmitter=require("../globalEventEmitter"),currentStatus=StatusCode.NOT_LOGIN,setLoginStatus=function(t){t!==currentStatus&&(currentStatus=t,globalEventEmitter.emit(EVENTS.LOGIN_STATE_CHANGE,t),log.info("broadcast LOGIN_STATE_CHANGE | loginStatus: ",JSON.stringify(t)))},getLoginStatus=function(){return currentStatus},isOffline=function(){return!(currentStatus===StatusCode.LOGINED||currentStatus===StatusCode.SILENT_CONNECTING)};module.exports={setLoginStatus:setLoginStatus,getLoginStatus:getLoginStatus,isOffline:isOffline};

},{"../events":376,"../globalEventEmitter":396,"../log/localLog":421,"./LoginStatusCode":429}],432:[function(require,module,exports){
function serviceDefine(e,o){function r(e){ua.isDesktop?nwService.openExternal(e):window.open(e)}function n(n){var t=new Uri(env.isOnline?i:a);t.addQueryParam("orgId",n.orgId),t.addQueryParam("scene",n.scene),e.getAuthTmpCode(t.toString()).result.then(function(e){e.body&&r(e.body)}).catch(function(e){var i="登录管理后台失败";e.body&&e.body.reason&&(i=e.body.reason),o.show(i,{type:"error"}),localLog.error(n.errorLog,e,JSON.stringify(e._originMsg)),r(t.toString())})}var i="https://oa.dingtalk.com/omp/login/sso_login",a="http://10.101.110.119/omp/login/sso_login";return{tryLoginOA:n}}var moduleName=module.exports="ddWeb.login.loginToOAHelper",serviceName="loginToOAHelper",env=require("../env/env"),nwService=require("../app/nw"),Uri=require("jsuri"),ua=require("../ua.js"),localLog=require("../log/localLog.js");angular.module(moduleName,[require("@ali/ding-api").interface.LoginI,require("../toast/toast.js")]).factory(serviceName,["LoginI","toastService",serviceDefine]);
},{"../app/nw":255,"../env/env":374,"../log/localLog.js":421,"../toast/toast.js":611,"../ua.js":621,"@ali/ding-api":711,"jsuri":901}],433:[function(require,module,exports){
var mediaId=require("@ali/ding-mediaid"),moduleName="ddWeb.mediaId";angular.module(moduleName,[]).factory("mediaId",[function(){return mediaId}]),module.exports=moduleName;

},{"@ali/ding-mediaid":716}],434:[function(require,module,exports){
"use strict";var moduleName="ddWeb.microApp.appList",env=require("../env/env"),appList={space:{name:"钉盘",id:-3,display:!1},orgMail:{name:"钉邮",id:-5,display:!1},RiZhi:{name:"日志",id:2,display:!0},ShenPi:{name:"审批",id:-4,display:!1},GongGao:{name:"公告",id:-2,display:!1},GuanLiRiLi:{name:"管理日历",id:-6,display:!1},GuoJiDianHua:{name:"国际电话",id:-7,display:!1},QianDao:{name:"签到",id:-8,display:!1}};angular.module(moduleName,[]).value("appList",appList),module.exports=moduleName;

},{"../env/env":374}],435:[function(require,module,exports){
"use strict";var env=require("../env/env"),whiteAppIdList=["2"];env.isProductEnv||whiteAppIdList.push("100","4"),module.exports=whiteAppIdList;

},{"../env/env":374}],436:[function(require,module,exports){
"use strict";var moduleName="ddWeb.microApp.authorize";angular.module(moduleName,[require("@ali/ding-api").interface.OAPII]).factory("authorize",["OAPII",function(e){function o(o){return new Promise(function(r,u){e.authorize(o.corpId,o.url,function(e){200===e.code?r(e):u(e)})})}return{getCode:o}}]),module.exports=moduleName;

},{"@ali/ding-api":711}],437:[function(require,module,exports){
"use strict";var moduleName="ddWeb.microApp.microAppData",_=require("lodash"),safetyType=require("../safety/safetyType"),EventEmitter=require("wolfy87-eventemitter"),safetyType=require("../safety/safetyType");angular.module(moduleName,[require("../CSConfig/CSConfigTopic")]).factory("microAppData",["CSConfigTopic",function(e){var r=new EventEmitter,t="oApiPush_",o={UPDATE:"update"},n="oa_user",i=_.values(safetyType),a="",u=function(){return a||(a=new e(n),a.on(a.EventsName.UPDATE,function(e){r.emit(o.UPDATE,e)})),a.getData()},f=function(e){return u().then(function(r){var t=_.get(r,"oa_org."+e);return t?Promise.resolve(t):Promise.reject({body:{reason:"该企业未开通微应用"}})})},s=function(e,r){return e.filter(function(e){return(e.location&r)===r})},c=function(e){return u().then(function(r){var t=null;if(r&&"object"==typeof r.oa_org&&(t=_.get(_.find(r.oa_org,function(r,t){return r.corpId===e}),"orgId")),t)return t;var o={body:{reason:"corpId 错误"}};return Promise.reject(o)})},m=function(){var e={};return a?a.getData().then(function(r){return r&&r.oa_org?(Object.keys(r.oa_org).forEach(function(t){e[t]=Object.keys(r.oa_org[t].oa_app)}),Promise.resolve(e)):Promise.resolve({})}):Promise.resolve({})},p=function(){return m().then(function(e){var r=Object.keys(e);if(0===r.length)return Promise.reject();for(var t=0;t<r.length;t++)for(var o=e[r[t]],n=0;n<i.length;n++){var a=o.indexOf(i[n]);if(a!==-1)return Promise.resolve(!0)}return Promise.resolve(!1)})},v=function(e){return e?m().then(function(r){var t=r[e];if(!t)return Promise.reject();for(var o=0;o<i.length;o++){var n=t.indexOf(i[o]);if(n>-1)return Promise.resolve(i[o])}return Promise.reject()}):Promise.reject()},g=function(e){if(e){var r=e.appId;this.emit(t+r,e)}};return _.assign(r,{getSafetyApp:v,getData:u,hasJoinSafetyOrg:p,getDataByOrgId:f,filterAppByLocationScene:s,EventsName:o,getOrgIdByCorpId:c,receiveOApiPush:g,oApiPushEventPrefix:t})}]),module.exports=moduleName;

},{"../CSConfig/CSConfigTopic":234,"../safety/safetyType":562,"lodash":919,"wolfy87-eventemitter":944}],438:[function(require,module,exports){
"use strict";var LocationSceneEnum={NONE:0,WORK_TAB:1,IM_OTO_EXT:2,IM_MTM_EXT:4,SEARCH:8,OA_CONVERSATION_FILTER:16,MAIN_TAB_EXT:32,ENTERPRISE_GROUP:64,CRM:128,CRMV2:256};module.exports=LocationSceneEnum;

},{}],439:[function(require,module,exports){
"use strict";var moduleName="ddWeb.microApp.requestAuthCode";angular.module(moduleName,[require("@ali/ding-api").interface.OAPII]).factory("requestAuthCode",["OAPII",function(e){function u(u){return new Promise(function(o,r){e.authorize(u.corpId,u.url,function(e){200===e.code?o(e):r(e)})})}return{getCode:u}}]),module.exports=moduleName;

},{"@ali/ding-api":711}],440:[function(require,module,exports){
"use strict";var moduleName="ddWeb.microApp.space",_=require("lodash");angular.module(moduleName,[require("./appList"),require("./microAppData")]).factory("spaceApp",["appList","microAppData",function(e,o){var a=function(){var a=e.space.id;return o.getData().then(function(e){return!(!e||"object"!=typeof e.oa_org)&&Object.keys(e.oa_org).some(function(o){var r=e.oa_org[o],t=_.get(r,"oa_app."+a+".location");return!!t})}).catch(function(e){console.log(e)})};return{hasPermission:a}}]),module.exports=moduleName;

},{"./appList":434,"./microAppData":437,"lodash":919}],441:[function(require,module,exports){
"use strict";var path=require("path");require("./modal");var ua=require("../ua"),storage=require("../storage/storage"),semver=require("semver");angular.module("ddWeb.modal.updateMsgModal",["ddWeb.modal"]).factory("updateMsgModal",["$modal","$sce",function(t,e){function i(){var t="~"+o;return o&&semver.gt(version,o)&&!semver.satisfies(version,t)}function n(t){return semver.major(t)+"."+semver.minor(t)+".*"}function s(){return o&&semver.gt(version,o)&&a.indexOf(version)!==-1}function X(t){var i=[];return t.forEach(function(t){t.title=e.trustAsHtml(t.title),t.description=e.trustAsHtml(t.description),0!=!!t.title&&(t.showOn?ua.isDesktop?ua.isMac&&t.showOn.indexOf("mac")!=-1?i.push(t):ua.isWin&&t.showOn.indexOf("win")!=-1&&i.push(t):t.showOn.indexOf("web")!=-1&&i.push(t):i.push(t))}),i}var o=storage.local.getItem("web-version"),r=storage.local.getItem("newUserState"),a=["3.1.4"],l={default:[{title:"将钉钉显示在任务栏上",description:"如果钉钉小图标被隐藏，可以将小图标拖拽到桌面上；",imgSrc:"https://gtd.alicdn.com/tps/TB18ajXHVXXXXabXpXXXXXXXXXX.png",showOn:["win"]},{title:"右键点击小图标",description:"右键点击小图标，新消息提醒点击可跳转到具体消息，点击退出会完全退出钉钉；",imgSrc:"https://gtd.alicdn.com/tps/TB1i059HVXXXXc8XpXXXXXXXXXX.png",showOn:["win"]},{title:"点击小图标",description:"点击小图标，新消息提醒点击可跳转到具体消息，点击退出会完全退出钉钉；",imgSrc:"https://img.alicdn.com/tps/TB1jyK5MpXXXXb1XpXXXXXXXXXX-700-400.png",showOn:["mac"]},{title:"会话列表右键弹出更多操作",description:"右键单击会话，快速对该会话做更多操作；",imgSrc:"https://gtd.alicdn.com/tps/TB1RNKWHVXXXXbQXVXXXXXXXXXX.png"},{title:"设置快捷键，开机自动启动",description:"消息，截图等快捷键、提醒设置、开机自动启动，都可以在“设置”里找到。",imgSrc:"https://img.alicdn.com/tps/TB1KjqLMpXXXXalaXXXXXXXXXXX-700-400.png",showOn:["win"]},{title:"提醒、快捷键设置",description:"消息，截图等快捷键、提醒设置，都可以在“设置”里找到。",imgSrc:"https://img.alicdn.com/tps/TB1mfOPMpXXXXbhXVXXXXXXXXXX-700-400.png",showOn:["mac"]}],"3.2.*":[{title:"远程协助支持主动申请控制（需双方都是最新版本）",description:"远程协助接收方可以主动发起控制申请，需双方都是最新版本。",imgSrc:"https://gw.alicdn.com/tps/TB1YVNlOpXXXXcaXVXXXXXXXXXX-800-400.png",showOn:["win"]},{title:"DING 回复支持表情和附件",description:"DING的回复内容更为丰富化",imgSrc:"https://gw.alicdn.com/tps/TB1.MBkOpXXXXbOXVXXXXXXXXXX-800-400.png"},{title:"钉盘-增加“最近使用”列表",description:"快速锁定最近打开或下载的文件，不再担心文件太多找不到",imgSrc:"https://gw.alicdn.com/tps/TB1hvBOOpXXXXXsXXXXXXXXXXXX-800-400.png"},{title:"钉盘-增加“文件动态”列表",description:"跟踪文档更新更方便，文件协作更高效",imgSrc:"https://gw.alicdn.com/tps/TB11i8mOpXXXXa_XVXXXXXXXXXX-800-400.png"}]};return function(e){var o=null,a=null;if(storage.local.setItem("web-version",version),"firstTip"===r&&window.localStorage.setItem("newUserState","secTip"),r){var c=n(version);if(!i()&&!s()||!l[c])return Promise.resolve();o=l[c]}else window.localStorage.setItem("newUserState","firstTip"),o=l.default,a="欢迎使用钉钉";var d=X(o);if(0===d.length)return Promise.resolve();var p=t.open({template:'<div class="dialog middle dialog-update-msg">\n     <div class="head" ng-show="!!updateMsgModal.title">\n         <i class="iconfont close"></i>\n         <span class="title">{{updateMsgModal.title}}</span>\n     </div>\n     <div class="body">\n        <ul class="update-msg-list">\n            <li ng-repeat="item in updateMsgModal.updateItems" class="msg-item">\n                <div class="title">\n                    <span>{{$index+1}}、</span>\n                    <span ng-bind-html="item.title"></span>\n                </div>\n                <div class="content">\n                    <div ng-if="!!item.imgSrc">\n                        <img class="img-container" ng-src="{{item.imgSrc}}" />\n                    </div>\n                    <div ng-if="!!item.description" ng-bind-html="item.description" class="content-des"></div>\n                </div>\n\n            </li>\n        </ul>\n     </div>\n     <div class="foot">\n         <button class="blue" ng-click="updateMsgModal.ok()">开始使用</button>\n     </div>\n </div>\n',controller:"updateMsgModalCtrl",controllerAs:"updateMsgModal",resolve:{toShowUpdateItems:function(){return d},title:function(){return a}}});return p.result}}]).controller("updateMsgModalCtrl",["$modalInstance","toShowUpdateItems","title",function(t,e,i){this.title="钉钉新功能介绍",i&&(this.title=i),this.ok=function(){t.close("ok")},this.updateItems=e}]);

},{"../storage/storage":606,"../ua":621,"./modal":458,"path":7,"semver":930}],442:[function(require,module,exports){
var moduleName="ddWeb.modal.actionSheet",serviceName="actionSheetModal",_=require("lodash"),path=require("path");angular.module(moduleName,[require("./modal")]).factory(serviceName,["$modal",function(t){return function(e){var n={title:"actionSheet",cancelButton:"取消",otherButtons:["test"]},o=_.assign({},n,e);return t.open({template:'<div class="dialog mini action-sheet">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title" ng-bind-html="actionSheet.title | emoj"></span>\n    </div>\n    <div class="body">\n        <ul>\n            <li class="action-sheet-item" ng-repeat="btn in actionSheet.otherButtons" ng-click="actionSheet.selectAction($index)">{{btn}}</li>\n        </ul>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="actionSheet.cancel()">{{actionSheet.cancelButton}}</button>\n    </div>\n</div>\n',controller:"actionSheetCtrl",controllerAs:"actionSheet",resolve:{options:function(){return o}},closable:!0,autofocus:!1}).result}}]).controller("actionSheetCtrl",["$modalInstance","options",function(t,e){this.title=e.title,this.cancelButton=e.cancelButton,this.otherButtons=e.otherButtons,this.otherButtons=_.uniq(this.otherButtons);var n={buttonIndex:-1};this.selectAction=function(e){n.buttonIndex=e,t.close(n)},this.cancel=function(){t.close(n)}}]),module.exports=moduleName;

},{"./modal":458,"lodash":919,"path":7}],443:[function(require,module,exports){
"use strict";var moduleName="ddWeb.modal.addFriend",path=require("path");require("./modal"),require("./profileModal"),angular.module(moduleName,["ddWeb.modal",require("@ali/ding-api").interface.UserI,"ddWeb.service.profileModal"]).factory("$addFriend",["$modal",function(e){return function(){var r=e.open({template:'<form ng-submit=\'addFriendCtrl.submit($event)\' class="dialog mini add-friend-modal">\r\n    <div class="head">\r\n        <i class="close iconfont"></i>\r\n        <span class="title">添加好友</span>\r\n    </div>\r\n    <div class="body">\r\n        <input class="input" type="text" autofocus="true" name="telephone" ng-model="addFriendCtrl.telephone" ng-change="addFriendCtrl.errorMsg=\'\'" required placeholder="请输入手机号">\r\n        <div ng-show="addFriendCtrl.errorMsg" class="error">{{addFriendCtrl.errorMsg}}</div>\r\n        <span class="loading" ng-if="addFriendCtrl.isLoading">\r\n            <div class="bounce1"></div>\r\n            <div class="bounce2"></div>\r\n            <div class="bounce3"></div>\r\n        </span>\r\n    </div>\r\n    <div class="foot">\r\n        <button type="submit" ng-class="{disabled:!addFriendCtrl.telephone}" ng-disabled="!addFriendCtrl.telephone" class="blue">确定</button>\r\n    </div>\r\n</form>\r\n',controller:"addFriendCtrl",controllerAs:"addFriendCtrl"});return r.result}}]).controller("addFriendCtrl",["$scope","$modalInstance","UserI","profileModalService",function(e,r,d,n){var l=this;this.telephone="",this.submit=function(i){i.preventDefault();var o=l.telephone;o?(l.isLoading=!0,d.searchUserProfileByMobile("",o,function(d){l.isLoading=!1,200==d.code?(r.close(o),n(null,null,null,o)):d.body&&d.body.reason&&(l.errorMsg=d.body.reason,e.$digest())})):l.errorMsg="请填写手机号"}}]),module.exports=moduleName;

},{"./modal":458,"./profileModal":466,"@ali/ding-api":711,"path":7}],444:[function(require,module,exports){
"use strict";var moduleName="ddWeb.modal.addFriendByUid",path=require("path");require("./modal"),require("./profileModal");var $my=require("../user/my");angular.module(moduleName,["ddWeb.modal",require("@ali/ding-api").interface.FriendI]).factory("$addFriendByUid",["$modal",function(d){return function(){var i=d.open({template:'<form ng-submit=\'addFriendByUidCtrl.submit($event)\' class="dialog mini add-friend-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">添加好友</span>\n    </div>\n    <div class="body">\n        <input class="input" type="text" autofocus="true" name="uid" ng-model="addFriendByUidCtrl.uid" ng-change="addFriendByUidCtrl.errorMsg=\'\'" required placeholder="请输入uid">\n        <div ng-show="addFriendByUidCtrl.errorMsg" class="error">{{addFriendByUidCtrl.errorMsg}}</div>\n        <span class="loading" ng-if="addFriendByUidCtrl.isLoading">\n            <div class="bounce1"></div>\n            <div class="bounce2"></div>\n            <div class="bounce3"></div>\n        </span>\n    </div>\n    <div class="foot">\n        <button type="submit" ng-class="{disabled:!addFriendByUidCtrl.uid}" ng-disabled="!addFriendByUidCtrl.uid" class="blue">确定</button>\n    </div>\n</form>\n',controller:"addFriendByUidCtrl",controllerAs:"addFriendByUidCtrl"});return i.result}}]).controller("addFriendByUidCtrl",["$modalInstance","FriendI",function(d,i){var e=this;this.uid="",this.submit=function(n){n.preventDefault(),i.sendFriendRequest({uid:e.uid,source:3,remark:"我是钉钉开发"+$my.userProfileModel.nick},function(i){console.log(i),d.close()})}}]),module.exports=moduleName;

},{"../user/my":635,"./modal":458,"./profileModal":466,"@ali/ding-api":711,"path":7}],445:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.alert";require("./modal"),angular.module(moduleName,["ddWeb.modal"]).factory("$alert",["$modal",function(t){var e={title:"",content:""};return function(n){var n=n||{};n=$.extend({},e,n);var l=t.open({template:'<div class="dialog mini alert-modal">\n    <div class="head" ng-show="!!Alert.title">\n        <span class="title">{{Alert.title}}</span>\n    </div>\n    <div class="body">\n        <p ng-bind-html="Alert.content"></p>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="Alert.ok()">{{Alert.buttonName}}</button>\n    </div>\n</div>\n',controller:"AlertCtrl",controllerAs:"Alert",resolve:{options:function(){return n}},closable:!1,enterTriggerEl:".ok"});return l.result}}]).controller("AlertCtrl",["$modalInstance","options",function(t,e){this.title=e.title,this.content=e.content,this.buttonName=e.buttonName||"确定";var n=e.autoDismissTimeout,l=null;n&&(l=setTimeout(function(){t.dismiss()},n)),this.ok=function(){l&&clearTimeout(l),t.close({buttonIndex:0})}}]),module.exports=moduleName;

},{"./modal":458,"path":7}],446:[function(require,module,exports){
var moduleName=module.exports="ddWeb.modal.callSelectorModal",serviceName="callSelectorModal",controllerName="callSelector",_=require("lodash"),path=require("path"),confUserType=require("../videoConf/conferenceUserType"),localLog=require("../log/localLog"),ua=require("../ua");angular.module(moduleName,[require("./modal"),require("../user/userManager.js"),require("../../directive/avatar/userAvatar.js"),require("../voipService/voipWindowManager.js"),require("../callCenter/callCenter.js"),require("@ali/ding-api").interface.CallAdminI,require("../log/lwlog.js"),require("../videoConf/confManager.js"),require("../toast/toast.js")]).factory(serviceName,["$modal",function(e){return function(o){return e.open({template:'<div class="dialog mini call-selector">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{::callSelector.text.pc_callmodal_title_selectway}}</span>\n    </div>\n    <div class="body">\n        <div class="user-info">\n            <div class="avatar-container">\n                <user-avatar class="avatar" uid="{{::callSelector.uid}}"></user-avatar>\n                <p>\n                    {{::callSelector.user.userProfileModel.nick}}\n                </p>\n            </div>\n            <div class="org-info" ng-if="callSelector.user.orgEmployees[0]">\n                <p>\n                    {{::callSelector.user.orgEmployees[0].orgDetail.orgName}}\n                </p>\n                <p>\n                    {{::callSelector.user.orgEmployees[0].orgEmployeeModel.orgTitle}}\n                </p>\n            </div>\n        </div>\n        <div class="selector-container">\n            <button type="button" class="btn " ng-click="callSelector.pubCall()" ng-disabled="!callSelector.callCenter.isSupport">{{::callSelector.text.pc_video_bizcall}}</button>\n            <button type="button" class="btn green" ng-click="callSelector.voip()" ng-if="callSelector.voipWindowManager.isSupport">{{::callSelector.text.pc_video_networkcall}}</button>\n            <button type="button" class="btn green" ng-click="callSelector.conf()" ng-if="callSelector.confManager.isSupport" ng-disabled="!callSelector.canCreateConf">{{::callSelector.text.pc_video_confvideocall}}</button>\n        </div>\n    </div>\n</div>\n',controller:controllerName,controllerAs:controllerName,resolve:{options:function(){return o}},closable:!0,autofocus:!1}).result}}]).controller(controllerName,["$modalInstance","options","userManager","voipWindowManager","callCenter","$scope","confManager","lwlog","toastService","$translate",function(e,o,t,n,l,c,a,r,i,s){function u(){try{c.$digest()}catch(e){}}var d=this;r.commLog("chat_single_makephone_window_click",""),d.text={pc_toast_error_opening_videoconf:s.instant("pc_toast_error_opening_videoconf"),pc_toast_error_launch:s.instant("pc_toast_error_launch"),pc_toast_error_launch_call:s.instant("pc_toast_error_launch_call"),pc_callmodal_title_selectway:s.instant("pc_callmodal_title_selectway"),pc_video_bizcall:s.instant("pc_video_bizcall"),pc_video_networkcall:s.instant("pc_video_networkcall"),pc_video_confvideocall:s.instant("pc_video_confvideocall")};var p=o.uid;this.uid=p,this.user=null,this.ua=ua,this.callCenter=l,this.confManager=a,this.voipWindowManager=n,t.getUserWithExt(p).then(function(e){this.user=e,u()}.bind(this)),this.voip=function(){a.getCurrentConference()?i.show(d.text.pc_toast_error_opening_videoconf,{type:"error"}):(r.commLog("chat_single_makephone_voip_click",""),n.createCall(p).then(function(){e.close()}).catch(function(){i.show(d.text.pc_toast_error_launch,{type:"error"})}))}.bind(this),d.canCreateConf=!0,this.conf=function(){return d.canCreateConf?(d.canCreateConf=!1,u(),r.commLog("chat_single_makephone_video_click",""),void a.requestCreateConference([p]).then(function(){e.close()}).catch(function(e){d.canCreateConf=!0,u(),i.show(e.cause||e.reason,{type:"error"})})):void i.show("don't create Conference",{type:"error"})},this.pubCall=function(){r.commLog("chat_single_makephone_servicephone_click",""),l.createBizCallByUid(p).then(function(){e.close()})}.bind(this)}]);

},{"../../directive/avatar/userAvatar.js":55,"../callCenter/callCenter.js":269,"../log/localLog":421,"../log/lwlog.js":424,"../toast/toast.js":611,"../ua":621,"../user/userManager.js":641,"../videoConf/confManager.js":645,"../videoConf/conferenceUserType":647,"../voipService/voipWindowManager.js":652,"./modal":458,"@ali/ding-api":711,"lodash":919,"path":7}],447:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.confirm";require("./modal"),angular.module(moduleName,["ddWeb.modal"]).factory("$confirm",["$modal",function(n){var i={title:"",content:"",isWarning:!1,confirmText:"确定",cancelText:"取消"};return function(t){var t=t||{};t=$.extend({},i,t);var o=n.open({template:'<div class="dialog mini confirm">\n    <div class="head" ng-show="!!Confirm.title">\n        <i class="iconfont close"></i>\n        <span class="title">{{Confirm.title}}</span>\n    </div>\n    <div class="body">\n        <div class="content"><span ng-bind-html="Confirm.content|emoj"></span></div>\n    </div>\n    <div class="foot">\n        <button ng-class="Confirm.isWarning?\'red\':\'blue\'" ng-click="Confirm.confirm()">{{Confirm.confirmText}}</button>\n        <button ng-class="Confirm.isWarning?\'blue\':\'red\'" class="confirm-cancel" ng-click="Confirm.cancel()">{{Confirm.cancelText}}</button>\n    </div>\n</div>\n',controller:"ConfirmCtrl",controllerAs:"Confirm",resolve:{options:function(){return t}},closable:!0,enterTriggerEl:".confirm-cancel"});return o.result}}]).controller("ConfirmCtrl",["$modalInstance","options",function(n,i){this.title=i.title,this.content=i.content,this.isWarning=i.isWarning,this.confirmText=i.confirmText,this.cancelText=i.cancelText,this.confirm=function(){n.close()},this.cancel=function(){n.dismiss()}}]),module.exports=moduleName;

},{"./modal":458,"path":7}],448:[function(require,module,exports){
var moduleName=module.exports="ddWeb.modal.corpTelCallModal",serviceName="corpTelCallModal",_=require("lodash"),path=require("path"),my=require("../user/my");angular.module(moduleName,[require("./modal"),require("../callCenter/CorpTelCall"),require("../user/userManager"),require("../log/lwlog")]).factory(serviceName,["$modal",function(l){return function(a){return l.open({template:'<div class="dialog middle biz-call-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title" ng-if="corpTelCallModal.corpTelCall.state === corpTelCallModal.corpTelCall.TelStates.WAIT || corpTelCallModal.corpTelCall.state === corpTelCallModal.corpTelCall.TelStates.CALLING">{{::corpTelCallModal.text.pc_modal_bizcall_title_launch}}</span>\n        <span class="title" ng-if="corpTelCallModal.corpTelCall.state === corpTelCallModal.corpTelCall.TelStates.TIMEOUT">{{::corpTelCallModal.text.pc_modal_bizcall_title_launch_error}}</span>\n    </div>\n    <div class="body"\n         ng-if="corpTelCallModal.corpTelCall.state === corpTelCallModal.corpTelCall.TelStates.WAIT || corpTelCallModal.corpTelCall.state === corpTelCallModal.corpTelCall.TelStates.CALLING">\n        <div class="call-info">\n            <div class="user">\n                <div class="icon-wrap">\n                    <div class="connecting" ng-if="corpTelCallModal.uiStatus.callerConnecting">{{::corpTelCallModal.text.pc_modal_bizcall_conneting}}</div>\n                    <user-avatar class="big-52" uid="{{corpTelCallModal.callInfo.callerUid}}" ng-if="!corpTelCallModal.uiStatus.callerConnecting"></user-avatar>\n                </div>\n                <div class="name">{{::corpTelCallModal.text.pc_modal_bizcall_profile_me}}</div>\n                <div class="tel" ng-if="corpTelCallModal.org.orgEmployeeModel.orgUserMobile">{{corpTelCallModal.org.orgEmployeeModel.orgUserMobile}}</div>\n            </div>\n            <div class="biz-call-progress">\n                <div class="loading" ng-if="corpTelCallModal.uiStatus.callerLoading">\n                    <div class="bounce3"></div>\n                    <div class="bounce2"></div>\n                    <div class="bounce1"></div>\n                </div>\n            </div>\n\n            <div class="biz-call-info">\n                <div class="icon-wrap"><i class="iconfont icon-iconbizcallfill"></i></div>\n                <div class="name">{{corpTelCallModal.org.orgDetail.orgName}}</div>\n                <div class="tel">{{corpTelCallModal.callInfo.bizCallNum}}</div>\n            </div>\n\n            <div class="biz-call-progress">\n                <div class="loading" ng-if="corpTelCallModal.uiStatus.calleeLoading">\n                    <div class="bounce1"></div>\n                    <div class="bounce2"></div>\n                    <div class="bounce3"></div>\n                </div>\n            </div>\n\n            <div class="user">\n                <div class="icon-wrap">\n                    <div class="connecting" ng-if="corpTelCallModal.uiStatus.calleeConnecting">{{::corpTelCallModal.text.pc_modal_bizcall_conneting}}</div>\n                    <user-avatar class="big-52" uid="{{corpTelCallModal.callInfo.calleeUid}}" ng-if="!corpTelCallModal.uiStatus.calleeConnecting"></user-avatar>\n                </div>\n                <div class="name">{{corpTelCallModal.callee.userProfileModel.nick}}</div>\n                <div class="company" ng-if="corpTelCallModal.callee.orgEmployees.length">{{corpTelCallModal.callee.orgEmployees[0].orgEmployeeModel.orgName}}</div>\n                <div class="title" ng-if="corpTelCallModal.callee.orgEmployees[0]">{{corpTelCallModal.callee.orgEmployees[0].orgEmployeeModel.orgTitle}}</div>\n            </div>\n\n        </div>\n        <button class="hang-up-btn" ng-click="corpTelCallModal.hangUp()"><i class="iconfont">&#xe698;</i></button>\n        <div class="tip">{{::corpTelCallModal.text.pc_modal_bizcall_hangup_tip}}</div>\n    </div>\n    <div class="body" ng-if="corpTelCallModal.corpTelCall.state === corpTelCallModal.corpTelCall.TelStates.TIMEOUT">\n        <div class="call-info">\n            <div class="user">\n                <div class="icon-wrap">\n                    <user-avatar class="big-52" uid="{{corpTelCallModal.callInfo.calleeUid}}"></user-avatar>\n                </div>\n                <div class="name">{{corpTelCallModal.callee.userProfileModel.nick}}</div>\n                <div class="company" >{{corpTelCallModal.callee.orgEmployees[0].orgEmployeeModel.orgName}}</div>\n                <div class="title" ng-if="corpTelCallModal.callee.orgEmployees[0]">{{corpTelCallModal.callee.orgEmployees[0].orgEmployeeModel.orgTitle}}</div>\n            </div>\n        </div>\n        <button class="redial-btn" ng-click="corpTelCallModal.redial()">{{::corpTelCallModal.text.pc_modal_bizcall_redial}}</button>\n    </div>\n</div>\n',controller:"corpTelCallModalCtrl",controllerAs:"corpTelCallModal",resolve:{corpTelCall:function(){return a}},closable:!0,autofocus:!1}).result}}]).controller("corpTelCallModalCtrl",["$modalInstance","corpTelCall","$scope","userManager","$translate","lwlog",function(l,a,e,o,n,c){function i(){e.$evalAsync()}var r=5e3,t=this;t.callInfo=a.callInfo,t.text={pc_modal_bizcall_title_launch:n.instant("pc_modal_bizcall_title_launch"),pc_modal_bizcall_title_launch_error:n.instant("pc_modal_bizcall_title_launch_error"),pc_modal_bizcall_conneting:n.instant("pc_modal_bizcall_conneting"),pc_modal_bizcall_profile_me:n.instant("pc_modal_bizcall_profile_me"),pc_modal_bizcall_hangup:n.instant("pc_modal_bizcall_hangup"),pc_modal_bizcall_redial:n.instant("pc_modal_bizcall_redial"),pc_modal_bizcall_hangup_tip:n.instant("pc_modal_bizcall_hangup_tip")};var s={START:0,RECEIVE_CALL:1,CALLER_ANSWER:2,CALLEE_RECEIVE_CALL:3,HANG_UP:5};t.status=s.START,t.callStatus=s,t.corpTelCall=a,o.getUserWithExt(a.callInfo.callerUid).then(function(l){t.caller=l,i()}),o.getUserWithExt(a.callInfo.calleeUid).then(function(l){t.callee=l,i()}),t.org=my.getOrgByOid(a.callInfo.orgId);var d=null,_=function(a){switch(t.status=a,t.status){case s.START:t.uiStatus={callerConnecting:!0,callerLoading:!0,calleeConnecting:!0,calleeLoading:!1};break;case s.RECEIVE_CALL:t.uiStatus={callerConnecting:!1,callerLoading:!0,calleeConnecting:!0,calleeLoading:!1};break;case s.CALLER_ANSWER:t.uiStatus={callerConnecting:!1,callerLoading:!0,calleeConnecting:!0,calleeLoading:!0};break;case s.CALLEE_RECEIVE_CALL:t.uiStatus={callerConnecting:!1,callerLoading:!0,calleeConnecting:!1,calleeLoading:!0},d=setTimeout(function(){l.close()},r);break;case s.HANG_UP:l.close()}e.$evalAsync(function(){})};_(s.START);var p=function(){_(s.RECEIVE_CALL)},C=function(){_(s.CALLER_ANSWER)},T=function(){_(s.CALLEE_RECEIVE_CALL)},v=function(){_(s.HANG_UP)},u=function(){i()};t.hangUp=function(){c.commLog("phone_servicephone_cancel"),a.cancelBizCall(),l.close()},t.redial=function(){a.createBizCall(),_(s.START)},a.on(a.Events.TEL_STATUS_CHANGED_CALLER_RECEIVE_CALL,p),a.on(a.Events.TEL_STATUS_CHANGED_CALLER_ANSWER,C),a.on(a.Events.TEL_STATUS_CHANGED_CALLEE_RECEIVE_CALL,T),a.on(a.Events.TEL_STATUS_CHANGED_CALLER_HANGUP,v),a.on(a.Events.TEL_STATE_CHANGE,u),e.$on("$destroy",function(){d&&clearTimeout(d),a.removeListener(a.Events.TEL_STATUS_CHANGED_CALLER_RECEIVE_CALL,p),a.removeListener(a.Events.TEL_STATUS_CHANGED_CALLER_ANSWER,C),a.removeListener(a.Events.TEL_STATUS_CHANGED_CALLEE_RECEIVE_CALL,T),a.removeListener(a.Events.TEL_STATUS_CHANGED_CALLER_HANGUP,v),a.removeListener(a.Events.TEL_STATE_CHANGE,u)})}]);

},{"../callCenter/CorpTelCall":268,"../log/lwlog":424,"../user/my":635,"../user/userManager":641,"./modal":458,"lodash":919,"path":7}],449:[function(require,module,exports){
"use strict";var moduleName="ddWeb.modal.createConference",moment=require("moment"),path=require("path"),_=require("lodash");require("./modal");var $my=require("../user/my");require("../../directive/selectorPanel/selectorPanel"),require("../../service/selectorPanel/PanelType"),require("../../service/tool/modelHelper"),require("../../service/tool/multiOrgTool"),require("../../service/search/search/SearchType"),require("../../service/widget/selectorBar/selectorBarTool"),require("../../directive/widget/selectorBar"),require("../../service/goldlog/goldlog"),require("../../service/log/lwlog.js");var SearchBarEvents=require("../../service/search/bar/SearchBarEvents"),localLog=require("../log/localLog"),app=angular.module(moduleName,["ddWeb.modal","ddWeb.selectorPanel","ddWeb.service.PanelType","ddWeb.service.modelHelper","ddWeb.service.multiOrgTool","ddWeb.service.SearchType",require("../../service/user/userManager"),"ddWeb.service.selectorBarTool","ddWeb.widget.selectorBar",require("./confirm"),"ddWeb.goldlog","ddWeb.log.lwlog",require("../selectorPanel/selected/selectedList"),require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("../../service/videoConf/confManager"),require("../../service/voipService/voipWindowManager"),require("../../service/toast/toast")]);app.factory("createConference",["$modal","confManager","voipWindowManager",function(e,t,n){function r(r){var r=r||{},i=t.getCurrentConference();if(i&&!r.isInviting)return Promise.reject(new Error("正在视频会议中，不能再次发起"));if(n.getVoipInstance())return Promise.reject(new Error("正在语音通话中，不能发起"));var r=r||{},s=e.open({template:'<div class="dialog create-conf">\n    <div class="head">\n        <i class="iconfont close"></i>\n        <span class="title" ng-if="!createConference.isInviting">发起视频会议</span>\n        <span class="title" ng-if="createConference.isInviting">视频会议邀请</span>\n    </div>\n    <div class="body">\n        <div class="left">\n            <div class="search-bar-box">\n                <p class="explainText">会议成员:\n                  <span class="select-user-count">\n                    <i class="iconfont loop-loading selector-bar-loading" ng-if="createConference.isSearching">&#xe657;</i>已选 {{createConference._SelectedList.getSelected().length + createConference.lockedIds.length}} / {{createConference.maxMembers}}人\n                  </span>\n                </p>\n                <selector-bar\n                    search-state="createConference.searchState"\n                    menu-data="createConference.menuData"\n                    search-type="createConference.searchType"\n                    locked-ids="createConference.lockedIds"\n                    placeholder="搜索名字、拼音、手机号..."\n                    action-type="createConference.actionType"\n                    custom-uids="createConference.customUids"\n                    is-searching="createConference.isSearching"\n                    selected-list="createConference._SelectedList"\n                    >\n                </selector-bar>\n            </div>\n\n        </div>\n        <div class="right">\n            <p class="explainText">选择会议成员:</p>\n            <div\n                selector-panel\n                menu-data="createConference.menuData"\n                locked-ids="createConference.lockedIds"\n                custom-uids="createConference.customUids"\n                selected-list="createConference._SelectedList"\n                ></div>\n        </div>\n    </div>\n    <div class="foot">\n        <button  ng-click="createConference.submit()"\n                 ng-disabled="createConference.isSubmiting || createConference._SelectedList.getSelected().length===0 || createConference._SelectedList.getSelected().length + createConference.lockedIds.length > createConference.maxMembers">{{createConference.buttonName}}</button>\n    </div>\n</div>\n',controller:"createConferenceCtrl",controllerAs:"createConference",resolve:{option:function(){return r||{}}},closable:!0,autofocus:!1});return s.result}return{showModal:r}}]),app.controller("createConferenceCtrl",["toastService","$modalInstance","option","PanelType","modelHelper","multiOrgTool","SearchType","userManager","selectorBarTool","$scope","$confirm","$state","goldlog","lwlog","SelectedList","selectedItemFactory","selectedItemType","confManager",function(e,t,n,r,i,s,c,o,a,l,d,u,m,g,f,h,v,p){function C(){e.show("视频会议最多支持"+this.maxMembers+"人，请删除人员后再发起",{type:"error"})}function b(){return S._SelectedList.getSelected().filter(function(e){return e.model.uid!==$my.uid}).map(function(e){return e.model.uid})}var S=this;if(this.selectedUids=n.selectedUids||[],this.lockedIds=n.lockedIds||[$my.getId()],this.customUids=n.customUids||[],this.isSearching=!1,this.maxMembers=p.getConferenceLimit().memberLimit,this.isInviting=n.isInviting||!1,this.conferenceId=n.conferenceId||"",this.lockedIds&&this.lockedIds.length>0)var I=this.lockedIds.map(function(e){return h.genSelectedItem(v.USER,e,!0)});var y="最多支持"+this.maxMembers+"人";this.isSubmiting=!1,this.buttonName="确定",this.selectedUids.length>0?(this.selectedUids.length>this.maxMembers&&C(),this._SelectedList=new f([],I)):this._SelectedList=new f([],I,this.maxMembers-this.lockedIds.length,y),0!==this.selectedUids.length&&o.getUsers(S.selectedUids).then(function(e){var t=e.map(function(e){return h.genSelectedItem(v.USER,e)});S._SelectedList.addItems(t),S._SelectedList.setMax(S.maxMembers-S.lockedIds.length),S._SelectedList.setOverMaxTip(y),l.$digest()});var L=null,T=null;this.customUids&&0!=this.customUids.length?(L=[r.CUSTOM],this.searchType=[c.CUSTOM]):i.isOrgUser($my)?(L=[r.ORG,r.FRIEND,r.EXTERNAL_CONTACT],T=s.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees),this.searchType=[c.ORG,c.FRIEND,c.LOCAL,r.EXTERNAL_CONTACT]):(L=[r.FRIEND],this.searchType=[c.FRIEND,c.LOCAL]),S.menuData={panelTypeArr:L,orgDataArr:T},S.submit=function(){if(!S.isSubmiting){var n=b(),r=p.getCurrentConference();if(S._SelectedList.getSelected().length+S.lockedIds.length>S.maxMembers)return C();if(r&&!S.isInviting)return e.show("正在视频会议中，不能再次发起",{type:"error"});if(p.getIsDoingCreateConf())return e.show("正在发起视频会议中，不能再次发起",{type:"error"});S.isSubmiting=!0,S.isInviting?(localLog.info("invite members",JSON.stringify(n)),S.buttonName="邀请中"):(g.commLog("videocall_start_click","uids="+n.join(":")),localLog.info("create conference:",JSON.stringify(n)),p.setIsDoingCreateConf(!0),S.buttonName="发起中"),p.setConfMemberProfiles(n).then(function(){S.isInviting?p.addMember(S.conferenceId,n).then(function(e){S.isSubmiting=!1,t.close(),localLog.info("invite members successfully")}).catch(function(){S.isSubmiting=!1,e.show("邀请失败，请稍候再试",{type:"error"}),t.dismiss(),localLog.info("invite members failed")}):p.createConference(n).then(function(e){S.isSubmiting=!1,p.setIsDoingCreateConf(!1),p.acceptInvite(e),t.close(),g.commLog("videocall_start_create_succ","confid="+e.conferenceId),localLog.info("create conference successfully")}).catch(function(n){S.isSubmiting=!1,p.setIsDoingCreateConf(!1),e.show(n.cause||n.reason,{type:"error"}),t.dismiss(),localLog.info("create conference failed")})}).catch(function(){S.isSubmiting=!1,p.setIsDoingCreateConf(!1),e.show("获取参会人员失败,请稍候再试",{type:"error"}),l.$digest()})}};var E=p.getEventEmitter();E.on(p.confManagerEvents.CONF_ENDED,t.dismiss),l.$on("$destroy",function(){E.removeListener(p.confManagerEvents.CONF_ENDED,t.dismiss)});var M=function(){try{l.$digest()}catch(e){}};l.$on(SearchBarEvents.IS_SEARCHING,function(e,t){S.isSearching=t,M()})}]),module.exports=moduleName;

},{"../../directive/selectorPanel/selectorPanel":135,"../../directive/widget/selectorBar":188,"../../service/goldlog/goldlog":399,"../../service/log/lwlog.js":424,"../../service/search/bar/SearchBarEvents":566,"../../service/search/search/SearchType":583,"../../service/selectorPanel/PanelType":590,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/toast/toast":611,"../../service/tool/modelHelper":613,"../../service/tool/multiOrgTool":614,"../../service/user/userManager":641,"../../service/videoConf/confManager":645,"../../service/voipService/voipWindowManager":652,"../../service/widget/selectorBar/selectorBarTool":672,"../log/localLog":421,"../selectorPanel/selected/selectedList":596,"../user/my":635,"./confirm":447,"./modal":458,"lodash":919,"moment":923,"path":7}],450:[function(require,module,exports){
"use strict";var path=require("path"),createGroup="ddWeb.service.createGroupModal";require("./modal"),require("../../service/search/search/SearchType"),require("../../service/selectorPanel/PanelType"),require("../../service/tool/modelHelper"),require("../../service/tool/multiOrgTool"),require("../../service/search/SearchState");var $my=require("../../service/user/my"),SearchBarEvents=require("../../service/search/bar/SearchBarEvents");require("../../service/createGroup/CreateGroup"),angular.module(createGroup,["ddWeb.service.PanelType","ddWeb.service.modelHelper","ddWeb.service.multiOrgTool","ddWeb.service.SearchType","ddWeb.service.ActionType","ddWeb.service.SearchState","ddWeb.service.CreateGroup"]).factory("createGroupModalService",["$modal",function(e){function r(r){var a=e.open({template:'<div class="dialog create-group-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title" ng-if="createGroupModalCtrl.tag===1">发起聊天</span>\n        <span class="title" ng-if="createGroupModalCtrl.tag===2">企业群聊天</span>\n    </div>\n    <div class="body">\n        <div class="left">\n            <div class="search-bar-box">\n                <p class="explainText">群成员:\n                  <span class="select-user-count">\n                    <i class="iconfont loop-loading selector-bar-loading" ng-if="createGroupModalCtrl.isSearching">&#xe657;</i>已选 {{createGroupModalCtrl._SelectedList.getSelected().length}} 人\n                  </span>\n                </p>\n                <selector-bar \n                      search-state="createGroupModalCtrl.searchState"\n                      menu-data="createGroupModalCtrl.menuData"\n                      search-type="createGroupModalCtrl.searchType"\n                      placeholder="搜索名字、拼音、手机号..."\n                      is-searching="createGroupModalCtrl.isSearching"\n                      selected-list="createGroupModalCtrl._SelectedList"\n\n                ></selector-bar>\n            </div>\n            <div class="group-input-box">\n                <p class="explainText">群名称:</p>\n                <div class="input-box">\n                    <input name="title" class="input gourp-name-input" placeholder="请输入群名称（非必填）" type="text" maxlength="20"\n                           autocomplete="off" ng-model="createGroupModalCtrl.groupName"/>\n                </div>\n            </div>\n        </div>\n        <div class="right">\n            <p class="explainText">选择群成员:</p>\n\n            <div selector-panel class="selector-panel"\n                 menu-data="createGroupModalCtrl.menuData"\n                 org-data-arr="createGroupModalCtrl.orgDataArr"\n                 selected-list="createGroupModalCtrl._SelectedList"\n                 ></div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-disabled="createGroupModalCtrl.disableSend||createGroupModalCtrl.selected.length===0" ng-click="createGroupModalCtrl.submit(createGroupModalCtrl.submitCb)">确定</button>\n    </div>\n</div>\n',controller:"createGroupModalCtrl",controllerAs:"createGroupModalCtrl",resolve:{orgData:function(){return r}},closable:!0,autofocus:!1});return a.result}return{showModal:r}}]).controller("createGroupModalCtrl",["$scope","$modalInstance","createGroupModalService","orgData","PanelType","modelHelper","SearchType","multiOrgTool","SearchState","CreateGroup",function(e,r,a,t,l,o,n,s,c,i){var d=this,u=null,p=null;this.menuData=null,this.searchState=c.LOCK,this.searchType=[],this.isSearching=!1;var h=function(){try{e.$digest()}catch(e){}};t?(this.tag=2,u=[l.ORG],p=[t],this.searchType=[n.ORG],$.extend(this,new i(!0,t.oid))):(this.tag=1,o.isOrgUser($my)?(u=[l.ORG,l.FRIEND,l.EXTERNAL_CONTACT],p=s.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees),this.searchType=[n.ORG,n.FRIEND,n.LOCAL,n.EXTERNAL_CONTACT]):(u=[l.FRIEND],this.searchType=[n.FRIEND,n.LOCAL]),$.extend(d,new i(!1))),d.menuData={panelTypeArr:u,orgDataArr:p},d.init(),d.submitCb=function(){r.close()},e.$on(SearchBarEvents.IS_SEARCHING,function(e,r){d.isSearching=r,h()})}]),module.exports=createGroup;

},{"../../service/createGroup/CreateGroup":324,"../../service/search/SearchState":563,"../../service/search/bar/SearchBarEvents":566,"../../service/search/search/SearchType":583,"../../service/selectorPanel/PanelType":590,"../../service/tool/modelHelper":613,"../../service/tool/multiOrgTool":614,"../../service/user/my":635,"./modal":458,"path":7}],451:[function(require,module,exports){
"use strict";var path=require("path"),ua=require("../ua"),_=require("lodash"),Uri=require("jsuri"),mydetector=require("@ali/ding-detector"),moduleName="ddWeb.service.modal.detector",serviceName="detectorModalService";angular.module(moduleName,[require("./modal"),require("../../directive/widget/localTime")]).factory(serviceName,["$modal",function(e){return function(){var t=e.open({template:'<div class="detector-modal dialog middle">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">网络检测</span>\n    </div>\n    <div class="body">\n        <section class="base-info">\n            <h3><strong>基础信息</strong></h3>\n            <ul class="base-info-list">\n                <li>系统信息：<span >{{::detectorModal.os}}</span></li>\n                <li>系统时间：<span local-time></span> (请确认你的时间是否正确)</li>\n                <li ng-show="!detectorModal.notshowProxy">代理服务器：<span ng-bind-html="detectorModal.proxy" ng-class="{\'red-proxy\': detectorModal.showRedProxy}"></span></li>\n            </ul>\n        </section>\n        <section class="net-info">\n            <h3><strong>网络信息</strong></h3>\n            <ul class="net-info-list">\n                <li>钉钉图片服务：<span ng-show="!detectorModal.laodingOK" ng-bind-html="detectorModal.showloading"></span><span ng-bind-html="detectorModal.imgCDN"></span></li>\n                <li>钉钉登录服务：<span ng-show="!detectorModal.laodingOK" ng-bind-html="detectorModal.showloading"></span><span ng-bind-html="detectorModal.login"></span></li>\n                <li>钉钉云盘服务：<span ng-show="!detectorModal.laodingOK" ng-bind-html="detectorModal.showloading"></span><span ng-bind-html="detectorModal.space"></span></li>\n                <li>钉钉聊天服务：<span ng-show="!detectorModal.laodingOK" ng-bind-html="detectorModal.showloading"></span><span ng-bind-html="detectorModal.WS"></span></li>\n            </ul>\n        </section>\n         <section class="net-info">\n            <h3><strong>检测结果</strong></h3>\n            <span ng-bind-html="detectorModal.networkres"></span>\n        </section>\n    </div>\n    <div class="foot">\n        <span ng-if="!detectorModal.isNormal"><span>如未能解决你的问题，可在手机端发消息给"钉小秘"反馈</span><br> 或 <a href="{{detectorModal.matiltoUrl}}">发送反馈邮件到 dingding@service.taobao.com</a> </span>\n        <button ng-if="detectorModal.isNormal" type="button" class="blue close">关闭</button>\n    </div>\n  </div>\n',controller:"detectorModalCtrl",controllerAs:"detectorModal",resolve:{},enterTriggerEl:".chatto-action-btn"});return t.result}}]).controller("detectorModalCtrl",["$scope",function(e){var t=this;t.ua=mydetector.baseInfo.ua,t.os=mydetector.baseInfo.os,t.showloading="<a></a>",t.laodingOK=!1,t.notshowProxy=!1;var o='<i class="iconfont success">&#xe63b;</i>',n='<i class="iconfont error">&#xe63d;</i>',r="https://static.dingtalk.com/media",i=[{url:r+"/lALOAFF1eczIzMg_200_200.png_120x120q90.jpg",height:120,width:120}],s="wss://webalfa-cm3.dingtalk.com/lwp",a="wss://webalfa-cm10.dingtalk.com/lwp",d={ERROR:n,OPEN:o,CLOSE:n,NONSUPPORT:n},l="https://login.dingtalk.com/user/qrcode/generate.jsonp",c="https://space.dingtalk.com/v1/ding/token?callback=jQuery191019606852415017784_1446696153504",p="http://login.dingtalk.com/",g="https://login.dingtalk.com/",m=function(){t.os.indexOf("mac")>-1?t.networkres="你的网络异常,请参照以下方法检查HTTP代理：<br/>系统偏好设置->网络->高级->代理":t.networkres="你的网络异常,请参照以下方法检查HTTP代理：<br/>开始->控制面板->网络和Internet->Internet选项->连接->局域网设置"};t.isNormal=!0;var x=function(e){var t=new Uri("mailto:dingding@service.taobao.com");t.addQueryParam("subject","[钉钉PC版网络检测反馈]-[这里填入钉钉号]");var o="！！！服务异常",n="服务正常",r={imgCDN:{pre_text:"钉钉图片服务："},login:{pre_text:"钉钉登录服务："},space:{pre_text:"钉钉云盘服务："},WS:{pre_text:"钉钉聊天服务："},proxy:{pre_text:"你的代理服务器："},networkres:{pre_text:"诊断结果："}},i="";return e.os&&(i+="系统信息：\n"+mydetector.baseInfo.os+"\n"),i+="系统时间："+new Date+"\n",i+="钉钉服务情况：\n",Object.keys(r).forEach(function(t){_.isString(e[t])?i+=r[t].pre_text+e[t]+"\n":_.isBoolean(e[t])&&(i+=r[t].pre_text,i+=e[t]?n:o,i+="\n")}),i+="为了以便我们联系你帮你解决当前问题，请填写你的钉钉号码：___(跟主题一致填写)__\n",i+="详细问题描述：____________",t.addQueryParam("body",i),t.toString()},f={};f.os=mydetector.baseInfo.os,ua.isNw?Promise.all([mydetector.testImageCDN(i[0]),mydetector.testDns("static.dingtalk.com"),mydetector.testNetWork(l),mydetector.testDns("login.dingtalk.com"),mydetector.testNetWork(c),mydetector.testDns("space.dingtalk.com"),mydetector.testWebSocket(s),mydetector.testDns("webalfa-cm3.dingtalk.com"),mydetector.testHttpProxy(p),mydetector.testHttpProxy(g),mydetector.testWebSocket(a)]).then(function(r){t.imgCDN=r[0]?o:n,t.imgCDN.indexOf("error")>-1?r[1]?t.imgCDN+=f.imgCDN=" (连接"+r[1]+"失败)":t.imgCDN+=f.imgCDN=" (DNS解析失败)":f.imgCDN=!0,t.login=r[2]?o:n,t.login.indexOf("error")>-1?r[3]?t.login+=f.login=" (连接"+r[3]+"失败)":t.login+=f.login=" (DNS解析失败)":f.login=!0,t.space=r[4]?o:n,t.space.indexOf("error")>-1?r[5]?t.space+=f.space=" (连接"+r[5]+"失败)":t.space+=f.space=" (DNS解析失败)":f.space=!0,d[r[6].state].indexOf("error")===-1||d[r[10].state].indexOf("error")===-1?(t.WS=o,f.WS=!0):(t.WS=d[r[6].state],r[7]?t.WS+=f.WS=" (连接"+r[7]+"失败)":t.WS+=f.WS=" (DNS解析失败)"),t.proxyHttp=r[8],t.proxyHttps=r[9],t.networkres="你的网络一切正常!",t.showRedProxy=!1,t.proxyHttp.indexOf("DIRECT")>-1&&t.proxyHttp.indexOf("PROXY")===-1&&t.proxyHttps.indexOf("PROXY")===-1&&t.proxyHttps.indexOf("SOCKS")===-1?t.proxy="无":t.proxyHttps.indexOf("SOCKS")>-1?(t.proxy="有 ("+t.proxyHttps+")",t.showRedProxy=!0):t.proxyHttps.indexOf("PROXY")>-1?(t.proxy="有 ("+t.proxyHttps+")",t.showRedProxy=!0):t.proxyHttp.indexOf("PROXY")>-1&&(t.proxy="有 ("+t.proxyHttp+")",t.showRedProxy=!0),f.proxy=t.proxy,(t.imgCDN.indexOf("error")>-1||t.login.indexOf("error")>-1||t.space.indexOf("error")>-1||t.WS.indexOf("error")>-1)&&(t.networkres="当前部分网络异常",t.isNormal=!1),t.WS.indexOf("error")>-1&&(t.proxyHttp.indexOf("PROXY")>-1||t.proxyHttps.indexOf("PROXY")>-1||t.proxyHttps.indexOf("SOCKS")>-1?m():!window.navigator.onLine&&t.imgCDN.indexOf("error")>-1&&t.login.indexOf("error")>-1&&t.space.indexOf("error")>-1&&(t.networkres=f.networkres="你目前没有联网，请先联网")),t.matiltoUrl=x(f),t.laodingOK=!0,e.$digest()}).catch(function(e){t.laodingOK=!0,t.networkres="检测失败"}):(t.notshowProxy=!0,Promise.all([mydetector.testImageCDN(i[0]),mydetector.testNetWork(l),mydetector.testNetWork(c),mydetector.testWebSocket(s),mydetector.testWebSocket(a)]).then(function(r){t.networkres="你的网络一切正常!",t.imgCDN=r[0]?o:n,f.imgCDN=r[0],t.login=r[1]?o:n,f.login=r[1],t.space=r[2]?o:n,f.space=r[2],d[r[3].state].indexOf("error")===-1||d[r[4].state].indexOf("error")===-1?(t.WS=o,f.WS=!0):(t.WS=n,f.WS=!1),(t.imgCDN.indexOf("error")>-1||t.login.indexOf("error")>-1||t.space.indexOf("error")>-1||t.WS.indexOf("error")>-1)&&(t.networkres="当前部分网络异常",t.isNormal=!1),t.WS.indexOf("error")>-1&&(!window.navigator.onLine&&t.imgCDN.indexOf("error")>-1&&t.login.indexOf("error")>-1&&t.space.indexOf("error")>-1?t.networkres=f.networkres="你目前没有联网，请先联网":t.networkres="当前部分网络异常"),t.matiltoUrl=x(f),t.laodingOK=!0,e.$digest()}))}]),module.exports=moduleName;

},{"../../directive/widget/localTime":164,"../ua":621,"./modal":458,"@ali/ding-detector":713,"jsuri":901,"lodash":919,"path":7}],452:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.emotionList",MyEmotionStatus=require("../../service/emotion/myEmotionStatus");angular.module(moduleName,[require("../../service/emotion/emotionPackageFactory"),require("./emotionPkgDetailModal")]).factory("emotionListModal",["$modal",function(t){function o(o){var e=t.open({template:'<div class="dialog pkg-list-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">添加表情</span>\n    </div>\n    <div class="body">\n      <ul>\n        <li class="pkg-list-section" ng-repeat="item in emotionListCtrl.emotionPackage.pkgList track by item.packageId" ng-click="emotionListCtrl.showDetail($event, item)">\n          <div class="pkg-avatar"><img ng-src="{{::item.iconSrc}}" draggable="false"/></div>\n          <div class="pkg-info">\n            <div class="pkg-title">{{::item.name}}</div>\n            <div class="pkg-desc">{{::item.shortDesc}}</div>\n          </div>\n          <div class="pkg-status">\n            <div class="pkg-status-add" ng-click="emotionListCtrl.addPkgEmotion($event, item)" ng-if="item.myEmotionStatus !== emotionListCtrl.MyEmotionStatus.USED">下载</div>\n            <div class="pkg-status-remove" ng-click="emotionListCtrl.removePkg($event, item)" ng-if="item.myEmotionStatus === emotionListCtrl.MyEmotionStatus.USED">移除</div>\n          </div>\n        </li>\n\n      </ul>\n    </div>\n</div>\n\n',controller:"emotionListCtrl",controllerAs:"emotionListCtrl",resolve:{}});return e.result}return{showModal:o}}]).controller("emotionListCtrl",["$scope","EmotionPackageFactory","emotionPkgDetailModal",function(t,o,e){function i(){a();try{t.$digest()}catch(t){}}var n=this;n.emotionPackage=o.getInstance(),n.MyEmotionStatus=MyEmotionStatus;var a=function(){n.emotionPackage.myEmotions.forEach(function(t){var o=_.findIndex(n.emotionPackage.pkgList,function(o){return o.packageId===t.packageId});o!==-1&&(n.emotionPackage.pkgList[o].myEmotionStatus=t.status)})};n.showDetail=function(t,o){t.preventDefault(),t.stopPropagation(),e.showModal(o)},n.addPkgEmotion=function(t,o){t.preventDefault(),t.stopPropagation(),n.emotionPackage.addPkgEmotion(o)},n.removePkg=function(t,o){t.preventDefault(),t.stopPropagation(),n.emotionPackage.removePkgEmotion(o)},n.emotionPackage.on(n.emotionPackage.EventsName.PKG_LIST_UPDATE,i),n.emotionPackage.on(n.emotionPackage.EventsName.MY_EMOTION_UPDATE_LIST,i),n.emotionPackage.getEmotionPackageList(),t.$on("$destroy",function(){n.emotionPackage.off(n.emotionPackage.EventsName.PKG_LIST_UPDATE,i),n.emotionPackage.off(n.emotionPackage.EventsName.MY_EMOTION_UPDATE_LIST,i)})}]),module.exports=moduleName;

},{"../../service/emotion/emotionPackageFactory":366,"../../service/emotion/myEmotionStatus":371,"./emotionPkgDetailModal":453,"path":7}],453:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.pkgDetail",MyEmotionStatus=require("../../service/emotion/myEmotionStatus");angular.module(moduleName,[require("../../service/emotion/emotionPackageFactory")]).factory("emotionPkgDetailModal",["$modal",function(t){function e(e){var e=e||{},i=t.open({template:'<div class="dialog em-pkg-detail-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">表情详情</span>\n    </div>\n    <div class="body">\n      <div class="banner">\n        <img ng-src="{{::emotionPkgDetailCtrl.pkgDetail.bannerSrc}}" draggable="false"/>\n      </div>\n      <div class="main">\n        <div class="info">\n          <div class="name-wrap">\n            <div class="title">\n              <span class="name">{{::emotionPkgDetailCtrl.pkgDetail.name}}</span>\n              <i class="icon-gif" ng-if="::emotionPkgDetailCtrl.pkgDetail.isGif"></i>\n            </div>\n            <div class="expired">使用期限：无限制</div>\n          </div>\n          <div class="pay-info">\n            免费\n          </div>\n        </div>\n        <div class="status">\n          <button class="download" ng-click="emotionPkgDetailCtrl.download()" ng-if="emotionPkgDetailCtrl.pkgDetail.myEmotionStatus !== emotionPkgDetailCtrl.MyEmotionStatus.USED">下载</button>\n          <div class="downloaded" ng-if="emotionPkgDetailCtrl.pkgDetail.myEmotionStatus === emotionPkgDetailCtrl.MyEmotionStatus.USED">已下载</div>\n        </div>\n        <div class="desc">\n          {{::emotionPkgDetailCtrl.pkgDetail.fullDesc}}\n        </div>\n      </div>\n      <div class="action-label">鼠标停留可预览表情</div>\n      <ul class="emotions" >\n        <li class="emotion" ng-repeat="item in emotionPkgDetailCtrl.pkgDetail.emotions track by item.id">\n          <img ng-src="{{item.src}}" alt="{{::item.name}}" ng-mouseenter="emotionPkgDetailCtrl.onMouseEnter(item)" ng-mouseleave="emotionPkgDetailCtrl.onMouseLeave(item)" draggable="false">\n        </li>\n      </ul>\n      <div class="footer">\n        <div class="copyright">Copyright@{{::emotionPkgDetailCtrl.pkgDetail.copyright}}</div>\n        <a class="declare" href="{{::emotionPkgDetailCtrl.pkgDetail.declareUrl}}" target="_blank">{{::emotionPkgDetailCtrl.pkgDetail.declare}}</a>\n      </div>\n    </div>\n</div>\n\n',controller:"emotionPkgDetailCtrl",controllerAs:"emotionPkgDetailCtrl",resolve:{option:function(){return e}}});return i.result}return{showModal:e}}]).controller("emotionPkgDetailCtrl",["$scope","EmotionPackageFactory","option",function(t,e,i){function n(){try{t.$digest()}catch(t){}}var o=this;o.MyEmotionStatus=MyEmotionStatus;var a=i.packageId;o.emotionPackage=e.getInstance(),o.pkgDetail={},o.download=function(){o.emotionPackage.addPkgEmotion(o.pkgDetail)},o.onMouseEnter=function(t){t.src=t.orgSrc},o.onMouseLeave=function(t){t.src=t.previewSrc};var l=function(t){o.pkgDetail.myEmotionStatus=t.emotionModel.status,n()},s=function(){o.emotionPackage.getPackageDetail(a).then(function(t){o.pkgDetail=t,n()}),o.emotionPackage.on(o.emotionPackage.EventsName.MY_EMOTION_UPDATE+"_"+a,l)};s(),t.$on("$destroy",function(){o.emotionPackage.off(o.emotionPackage.EventsName.MY_EMOTION_UPDATE+"_"+a,l)})}]),module.exports=moduleName;

},{"../../service/emotion/emotionPackageFactory":366,"../../service/emotion/myEmotionStatus":371,"path":7}],454:[function(require,module,exports){
function modalDefine(t){return function(){return t.open({template:'<div class="dialog external-contect-filter mini">\n\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{::externalContactFilter.text.pc_contact_external_contact_filter_title}}</span>\n    </div>\n    <div class="body filter-body">\n        <external-label-groups selected-labels="externalContactFilter.selectedLabels" mode="externalContactFilter.labelGroupsListMode"></external-label-groups>\n    </div>\n    <div class="foot" ng-if="externalContactFilter.labels.length > 0">\n        <button type="button" ng-click="externalContactFilter.doReset()">{{::externalContactFilter.text.pc_contact_external_contact_filter_reset}}</button>\n        <button type="button" ng-click="externalContactFilter.doFilter()">{{::externalContactFilter.text.pc_contact_external_contact_filter_confirm}}</button>\n    </div>\n</div>\n',controller:ctrlName,controllerAs:modalName,resolve:{},closable:!0,autofocus:!1}).result}}function ctrlDefine(t,e,n,a,c,l,o,r){function s(){try{t.$digest()}catch(t){}}var i=l.getStore(sourceTypes.CONTACT);this.text={pc_contact_external_contact_filter_title:o.instant("pc_contact_external_contact_filter_title"),pc_contact_external_contact_filter_reset:o.instant("pc_contact_external_contact_filter_reset"),pc_contact_external_contact_filter_confirm:o.instant("pc_contact_external_contact_filter_confirm"),pc_contact_external_contact_empty_labels:o.instant("pc_contact_external_contact_empty_labels")};var _=function(){r.commLog("contact_exter_list_filter_ok_click","");var t=[],n=i.getCurrentExternalContactList();this.labels.forEach(function(e){e.labels&&e.labels.forEach(function(e){e.isChecked&&t.push(e.id)})}),a.dispatch({type:actionTypes.CHANGE_INSTANCE,source:sourceTypes.CONTACT,scope:n.scope,labelIds:t}),e.cacheLabelIds(t),c.close()}.bind(this),p=function(){a.dispatch({type:labelActionTypes.RESET_LABELS})}.bind(this),u=function(){this.labels=e.getLabels(),s()}.bind(this);this.selectedLabels=e.currentLabelIds,this.labelGroupsListMode=externalLabelGroupModeTypes.FILTER,this.doFilter=_,this.doReset=p,e.on(e.Events.FETCH_COMPLETE,u),t.$on("$destroy",function(){e.removeListener(e.Events.FETCH_COMPLETE,u)}.bind(this))}var moduleName=module.exports="ddWeb.contact.externalContactFilter",modalName="externalContactFilter",ctrlName="externalContactFilterCtrl",path=require("path"),actionTypes=require("../contact/externalContact/actionTypes.js"),labelActionTypes=require("../contact/externalContact/labelActionTypes.js"),scopeList=require("../contact/externalContact/listScope.js").scope,sourceTypes=require("../contact/externalContact/sourceType.js"),externalLabelGroupModeTypes=require("../contact/externalContact/externalLabelGroupModeTypes.js");angular.module(moduleName,[require("./modal.js"),require("../contact/externalContact/labelStore.js"),require("../org/orgStateManager.js"),require("../contact/externalContact/dispatcher.js"),require("../contact/externalContact/externalContactHelper.js"),require("../log/lwlog.js"),require("../../component/contact/externalLabelGroups.js")]).factory(modalName,["$modal",modalDefine]).controller(ctrlName,["$scope","labelStore","orgStateManager","externalContactDispatcher","$modalInstance","externalContactHelper","$translate","lwlog",ctrlDefine]);

},{"../../component/contact/externalLabelGroups.js":21,"../contact/externalContact/actionTypes.js":281,"../contact/externalContact/dispatcher.js":282,"../contact/externalContact/externalContactHelper.js":283,"../contact/externalContact/externalLabelGroupModeTypes.js":285,"../contact/externalContact/labelActionTypes.js":286,"../contact/externalContact/labelStore.js":287,"../contact/externalContact/listScope.js":288,"../contact/externalContact/sourceType.js":289,"../log/lwlog.js":424,"../org/orgStateManager.js":541,"./modal.js":458,"path":7}],455:[function(require,module,exports){
function modalDefine(e){return function(t){return e.open({template:'<div class="dialog external-contect-filter mini">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{::externalLabelEditModal.text.dt_user_external_contact_label_select_title}}</span>\n    </div>\n    <div class="body filter-body">\n        <external-label-groups org-id="externalLabelEditModal.orgEmployeeModel.orgId" selected-labels="externalLabelEditModal.selectedLabels" mode="externalLabelEditModal.labelGroupsListMode"></external-label-groups>\n    </div>\n    <div class="foot" ng-if="externalLabelEditModal.labels.length > 0">\n        <button type="button" ng-click="externalLabelEditModal.doUpdate()">{{::externalLabelEditModal.text.pc_contact_external_contact_filter_confirm}}</button>\n    </div>\n</div>\n',controller:ctrlName,controllerAs:modalName,resolve:{OrgEmployeeExtensionModel:function(){return t}},closable:!0,autofocus:!1}).result}}function ctrlDefine(e,t,a,l,o,n,c,r,s,i,d){function _(){try{e.$evalAsync(function(){})}catch(e){}}this.orgEmployeeModel=s.orgEmployeeModel,this.selectedLabels=this.orgEmployeeModel.labels.map(function(e){return e.id}),this.text={dt_user_external_contact_label_select_title:c.instant("dt_user_external_contact_label_select_title"),pc_contact_external_contact_filter_confirm:c.instant("pc_contact_external_contact_filter_confirm"),pc_contact_external_contact_edit_success:c.instant("pc_contact_external_contact_edit_success"),pc_contact_external_contact_edit_failed:c.instant("pc_contact_external_contact_edit_failed"),dt_external_contact_label_empty:c.instant("dt_external_contact_label_empty")};var p=function(){var e=[];return this.labels.forEach(function(t){t.labels&&t.labels.forEach(function(t){t.isChecked&&e.push({color:t.color,id:t.id,name:t.name})})}),0===e.length?d.show(this.text.dt_external_contact_label_empty,{type:"error"}):(this.orgEmployeeModel.labels=e,void i.updateContact(s).result.then(function(e){o.close(),l.dispatch({type:actionTypes.UPDATE_ITEM,orgEmployeeModel:e.body.orgEmployeeModel,source:sourceTypes.CONTACT}),d.show(this.text.pc_contact_external_contact_edit_success,{type:"success"})}.bind(this)).catch(function(e){d.show(this.text.pc_contact_external_contact_edit_failed,{type:"error"}),localLog.error("update contact error",JSON.stringify(e))}.bind(this)))}.bind(this),u=function(){this.labels=t.getLabels(this.orgEmployeeModel.orgId),_()}.bind(this);this.labelGroupsListMode=externalLabelGroupModeTypes.EDIT,this.doUpdate=p,t.on(t.Events.FETCH_COMPLETE,u),e.$on("$destroy",function(){t.removeListener(t.Events.FETCH_COMPLETE,u)}.bind(this))}var moduleName=module.exports="ddWeb.contact.externalLabelEditModal",modalName="externalLabelEditModal",ctrlName="externalLabelEditModalCtrl",path=require("path"),actionTypes=require("../contact/externalContact/actionTypes.js"),labelActionTypes=require("../contact/externalContact/labelActionTypes.js"),scopeList=require("../contact/externalContact/listScope.js").scope,sourceTypes=require("../contact/externalContact/sourceType.js"),externalLabelGroupModeTypes=require("../contact/externalContact/externalLabelGroupModeTypes.js"),localLog=require("../log/localLog");angular.module(moduleName,[require("./modal.js"),require("../contact/externalContact/labelStore.js"),require("../org/orgStateManager.js"),require("../contact/externalContact/dispatcher.js"),require("../contact/externalContact/externalContactHelper.js"),require("../log/lwlog.js"),require("../../component/contact/externalLabelGroups.js"),require("@ali/ding-api").interface.ExternalContactI,require("../toast/toast.js")]).factory(modalName,["$modal",modalDefine]).controller(ctrlName,["$scope","labelStore","orgStateManager","externalContactDispatcher","$modalInstance","externalContactHelper","$translate","lwlog","OrgEmployeeExtensionModel","ExternalContactI","toastService",ctrlDefine]);

},{"../../component/contact/externalLabelGroups.js":21,"../contact/externalContact/actionTypes.js":281,"../contact/externalContact/dispatcher.js":282,"../contact/externalContact/externalContactHelper.js":283,"../contact/externalContact/externalLabelGroupModeTypes.js":285,"../contact/externalContact/labelActionTypes.js":286,"../contact/externalContact/labelStore.js":287,"../contact/externalContact/listScope.js":288,"../contact/externalContact/sourceType.js":289,"../log/localLog":421,"../log/lwlog.js":424,"../org/orgStateManager.js":541,"../toast/toast.js":611,"./modal.js":458,"@ali/ding-api":711,"path":7}],456:[function(require,module,exports){
"use strict";var moduleName="ddWeb.modal.forwardMsg",serviceName="forwardMsg",_=require("lodash"),$my=require("../user/my"),userHelper=require("../user/userHelper"),ContentType=require("../conversation/ContentType");angular.module(moduleName,[require("../selectorPanel/PanelType"),require("./selectPanelModal"),require("../toast/toast"),require("../user/userManager"),require("../selectorPanel/selected/selectedItemType"),require("../conversation/conversationWithSDK")]).factory(serviceName,["PanelType","selectPanelModal","toastService","userManager","selectedItemType","conversationWithSDK",function(e,t,r,n,o,s){function a(e){if(e.type===o.GROUP)var t=e.model.conversationId;else{if(!_.get(e,"model.uid"))return Promise.resolve();var t=$my.getId()<_.get(e,"model.uid")?$my.getId()+":"+_.get(e,"model.uid"):_.get(e,"model.uid")+":"+$my.getId()}return s.getConvById(t,!0)}function i(o){var i={window:{title:"转发消息",closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[e.CONV],lockedIds:{cids:[]},customUids:[]},selectorBar:{display:!0,placeholder:"搜索会话，支持多会话转发"},type:"SELECT_CONVERSATION",max:50,multiple:!0,callbacks:{onItemSelectValidate:function(e){return a(e).then(function(e){if(1===e.baseConversation.isKicked)return 1===e.baseConversation.isDisband?(r.show("该群已经被解散",{type:"error"}),Promise.reject()):(r.show("你已退出该群",{type:"error"}),Promise.reject());if(o.baseMessage.content.contentType!==ContentType.ORG_SPACE_FILE&&o.baseMessage.content.contentType!==ContentType.IM_SPACE_FILE&&o.baseMessage.content.contentType!==ContentType.SAFETY_IM_SPACE_FILE&&o.baseMessage.content.contentType!==ContentType.SAFETY_IMG)return Promise.resolve();if(e.isFileHelper())return Promise.resolve();var t=_.get(o,"baseMessage.content.attachments[0].extension.oid");if(e&&t){if(e.isSingleChat){var s=e.convId.split(":"),a=$my.getId()===parseInt(s[0])?parseInt(s[1]):parseInt(s[0]);return n.getUserWithExt(a).then(function(e){return userHelper.getOrgByOid(e,t)?Promise.resolve():(r.show("企业内文件暂不支持发送给企业外人员",{type:"error"}),Promise.reject())})}var i=_.get(e,"baseConversation.extension.id");return t===i?Promise.resolve():(r.show("企业内文件暂不支持发送给企业外人员",{type:"error"}),Promise.reject())}return Promise.resolve()})}}};t(i).then(function(e){var t=[],n={};e.conversations&&Array.isArray(e.conversations)&&(t=e.conversations.map(function(e){return e.conversationId}),e.conversations.forEach(function(e){n[e.conversationId]=e.title}));var a=t.map(function(e){return s.getConvById(e).then(function(t){return t.acceptForwardMsg(o).then(function(e){return{success:!0}}).catch(function(t){return{success:!1,conversationId:e}})})});Promise.all(a).then(function(e){var t=e.filter(function(e){return e.success===!1});if(0===t.length)return void r.show("转发成功",{type:"success"});var o=" ";t.length>=2?(o=n[t[0].conversationId]+", "+n[t[1].conversationId]+" ",r.show("消息转发到"+o+"等会话失败",{type:"error"})):r.show("消息转发到 "+n[t[0].conversationId]+" 失败",{type:"error"})})})}return{show:i}}]),module.exports=moduleName;

},{"../conversation/ContentType":293,"../conversation/conversationWithSDK":308,"../selectorPanel/PanelType":590,"../selectorPanel/selected/selectedItemType":595,"../toast/toast":611,"../user/my":635,"../user/userHelper":640,"../user/userManager":641,"./selectPanelModal":470,"lodash":919}],457:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.groupAddMembersModal",path=require("path");require("./modal"),require("../selectorPanel/PanelType"),require("../tool/modelHelper"),require("../tool/multiOrgTool"),require("../search/SearchState"),require("../search/search/SearchType");var $my=require("../user/my");require("../toast/toast"),require("../../directive/selectorPanel/selectorPanel"),require("../../directive/widget/selectorBar");var _=require("lodash"),SearchBarEvents=require("../../service/search/bar/SearchBarEvents");angular.module(moduleName,["ddWeb.modal","ddWeb.service.PanelType","ddWeb.service.modelHelper","ddWeb.service.multiOrgTool","ddWeb.service.SearchState","ddWeb.toast","ddWeb.selectorPanel","ddWeb.widget.selectorBar","ddWeb.service.selectorBarTool","ddWeb.service.SearchType",require("../selectorPanel/selected/selectedList"),require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("../../service/conversation/conversationWithSDK")]).factory("groupAddMembersModalService",["$modal","conversationWithSDK",function(e,r){function t(t){return console.log("$my.syncProtocol groupAddMembersModal",$my.syncProtocol),r.getConvById(t.conversationId).then(function(e){var r=e.getMemberLimitState();return r.memberCount>=r.memberLimit?Promise.reject(new Error("已达到群人数上限，不能再添加")):Promise.resolve(r)}).then(function(r){var o=e.open({template:'<div class="dialog add-group-member-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">添加新成员</span>\n    </div>\n    <div class="body">\n        <div class="left">\n            <p class="explainText">新添成员:\n              <span class="select-user-count">\n                <i class="iconfont loop-loading selector-bar-loading" ng-if="groupAddMembersModalCtrl.isSearching">&#xe657;</i>已选 {{groupAddMembersModalCtrl._SelectedList.getSelected().length + groupAddMembersModalCtrl.memberCount}} / {{groupAddMembersModalCtrl.memberLimit }} 人\n              </span>\n            </p>\n            <selector-bar\n                  selected-list="groupAddMembersModalCtrl._SelectedList"\n                  search-state="groupAddMembersModalCtrl.searchState"\n                  menu-data="groupAddMembersModalCtrl.menuData"\n                  search-type="groupAddMembersModalCtrl.searchType"\n                  placeholder="搜索名字、拼音、手机号..."\n                  is-searching="groupAddMembersModalCtrl.isSearching"\n            ></selector-bar>\n\n        </div>\n        <div class="right">\n            <p class="explainText">选择联系人:</p>\n\n            <div selector-panel class="selector-panel"\n                 menu-data="groupAddMembersModalCtrl.menuData"\n                 org-data-arr="groupAddMembersModalCtrl.orgDataArr"\n                 selected-list="groupAddMembersModalCtrl._SelectedList">\n            </div>\n\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-disabled="groupAddMembersModalCtrl.isDisabled()" ng-click="groupAddMembersModalCtrl.submit()">确定</button>\n    </div>\n</div>\n',controller:"groupAddMembersModalCtrl",controllerAs:"groupAddMembersModalCtrl",resolve:{isCompanyGroup:function(){return t.isCompanyGroup},orgData:function(){return{oid:t.oid,orgName:t.orgName}},lockedIds:function(){return t.lockedIds},memberCount:function(){return r.memberCount},memberLimit:function(){return r.memberLimit}},closable:!0,autofocus:!1});return o.result})}return{showModal:t}}]).controller("groupAddMembersModalCtrl",["$scope","$modalInstance","isCompanyGroup","orgData","lockedIds","memberCount","memberLimit","PanelType","selectorBarTool","modelHelper","multiOrgTool","SearchState","SearchType","SelectedList","selectedItemFactory","selectedItemType",function(e,r,t,o,s,l,a,n,d,i,c,u,m,p,g,b){function h(e){return e.map(function(e){return e.model.uid})}function v(e,r){var t=null;return e?r?(t=[n.ORG,n.EXTERNAL_CONTACT],C.searchType=[m.ORG,m.EXTERNAL_CONTACT]):(t=[n.ORG,n.FRIEND,n.EXTERNAL_CONTACT],C.searchType=[m.LOCAL,m.ORG,m.FRIEND,m.EXTERNAL_CONTACT]):r?(t=null,C.searchType=[]):(t=[n.FRIEND],C.searchType=[m.LOCAL,m.FRIEND]),t}function M(e,r){return e?t&&o.oid&&o.orgName?[o]:c.convertOrgEmployeeExtensionModelListToOrgDataList(r):null}var C=this;this.lockedIds=s||[],this.menuData=null,this.searchType=[],this.searchState=u.LOCK,this.isSearching=!1,this.memberCount=l,this.memberLimit=a;var S=this.lockedIds.map(function(e){return g.genSelectedItem(b.USER,e,!0)});this._SelectedList=new p([],S,a-l),this.focusBar=function(){var e="selector-bar-input";d.focusBar(e)},this.isDisabled=function(){var e=1;return this._SelectedList.getSelected().length<e},this.submit=function(){r.close(h(this._SelectedList.getSelected()))};var y=function(){try{e.$digest()}catch(e){}};e.$on(SearchBarEvents.IS_SEARCHING,function(e,r){C.isSearching=r,y()});var A=null,T=null;T=i.isOrgUser($my),A=v(T,t),null===A?C.searchState=u.LOCK:C.searchState=u.OPEN,C.menuData={panelTypeArr:A,orgDataArr:M(T,$my.orgEmployees)}}]),module.exports=moduleName;

},{"../../directive/selectorPanel/selectorPanel":135,"../../directive/widget/selectorBar":188,"../../service/conversation/conversationWithSDK":308,"../../service/search/bar/SearchBarEvents":566,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../search/SearchState":563,"../search/search/SearchType":583,"../selectorPanel/PanelType":590,"../selectorPanel/selected/selectedList":596,"../toast/toast":611,"../tool/modelHelper":613,"../tool/multiOrgTool":614,"../user/my":635,"./modal":458,"lodash":919,"path":7}],458:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal";require("../animation/transition"),angular.module(moduleName,["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(n,t){e.push({key:n,value:t})},get:function(n){for(var t=0;t<e.length;t++)if(n==e[t].key)return e[t]},keys:function(){for(var n=[],t=0;t<e.length;t++)n.push(e[t].key);return n},top:function(){return e[e.length-1]},remove:function(n){for(var t=-1,o=0;o<e.length;o++)if(n==e[o].key){t=o;break}return e.splice(t,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,template:'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n',link:function(n,t,o){n.backdropClass=o.backdropClass||"",n.animate=!1,e(function(){n.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,n){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,template:'<div tabindex="-1" role="dialog" class="ding-modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-content" modal-transclude></div>\n</div>',link:function(t,o,r){o.addClass(r.windowClass||""),t.size=r.size,"true"===r.closable&&o.on("click",".modal-content",function(e){t.close(e)}),o.on("click",".close",function(e){t.close(e)}),t.$on("$destroy",function(){o.unbind()}),n(function(){t.animate=!0,o[0].querySelectorAll("[autofocus]").length||o[0].focus()}),t.close=function(n){var t=e.getTop();t&&t.value.backdrop&&"static"!=t.value.backdrop&&n.target===n.currentTarget&&(n.preventDefault(),n.stopPropagation(),e.dismiss(t.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,n,t,o,r){r(e.$parent,function(e){n.empty(),n.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,n,t,o,r,a){function i(){for(var e=-1,n=p.keys(),t=0;t<n.length;t++)p.get(n[t]).value.backdrop&&(e=t);return e}function l(e){var n=t.find("body").eq(0),o=p.get(e).value;p.remove(e),s(o.modalDomEl,o.modalScope,300,function(){o.modalScope.$destroy(),n.toggleClass(f,p.length()>0),c()})}function c(){if(d&&i()==-1){var e=u;s(d,u,150,function(){e.$destroy(),e=null}),d=void 0,u=void 0}}function s(t,o,r,a){function i(){i.done||(i.done=!0,t.remove(),a&&a())}o.animate=!1;var l=e.transitionEndEventName;if(l){var c=n(i,r);t.bind(l,function(){n.cancel(c),i(),o.$apply()})}else n(i)}var d,u,f="modal-open",p=a.createNew(),m={};return r.$watch(i,function(e){u&&(u.index=e)}),t.bind("keydown",function(e){var n;27===e.which&&(n=p.top(),n&&n.value.keyboard&&(e.preventDefault(),r.$apply(function(){m.dismiss(n.key,"escape key press")})))}),t.bind("keydown.$modal",function(e){var n;13===e.which&&(n=p.top(),n&&n.value.enterTriggerEl&&(e.preventDefault(),n.value.modalDomEl.find(n.value.enterTriggerEl).trigger("click")))}),m.open=function(e,n){p.add(e,{deferred:n.deferred,modalScope:n.scope,keyboard:n.keyboard,enterTriggerEl:n.enterTriggerEl,backdrop:n.backdrop,beforeDismiss:n.beforeDismiss});var a=t.find("body").eq(0),l=i();if(l>=0&&!d){u=r.$new(!0),u.index=l;var c=angular.element("<div modal-backdrop></div>");c.attr("backdrop-class",n.backdropClass),d=o(c)(u),a.append(d)}var s=angular.element("<div modal-window></div>");s.attr({"template-url":n.windowTemplateUrl,"window-class":n.windowClass,size:n.size,index:p.length()-1,closable:n.closable}).html(n.content);var m=o(s)(n.scope);p.top().value.modalDomEl=m,a.append(m),a.addClass(f)},m.close=function(e,n){var t=p.get(e);t&&(t.value.deferred.resolve(n),l(e))},m.dismiss=function(e,n){function t(){o.value.deferred.reject(n),l(e)}var o=p.get(e);if(o)if(o.value.beforeDismiss&&"function"==typeof o.value.beforeDismiss){var r=o.value.beforeDismiss(n);if(r.then)r.then(function(){t()},function(){});else{if(r===!1)return;t()}}else t()},m.dismissAll=function(e){for(var n=this.getTop();n;)this.dismiss(n.key,e),n=this.getTop()},m.getTop=function(){return p.top()},m.changeEnterEl=function(e,n){var t=p.get(e);t&&t.value&&(t.value.enterTriggerEl=n)},m}]).provider("$modal",function(){var e={options:{keyboard:!0,closable:!0,enterTriggerEl:"",backdrop:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(n,t,o,r,a,i,l){function c(e){return e.template?o.when(e.template):r.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:a}).then(function(e){return e.data})}function s(e){var t=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&t.push(o.when(n.invoke(e)))}),t}var d={};return d.open=function(n){var r=o.defer(),a=o.defer(),d={result:r.promise,opened:a.promise,close:function(e){l.close(d,e)},dismiss:function(e){l.dismiss(d,e)},changeEnterEl:function(e){l.changeEnterEl(d,e)}};if(n=angular.extend({},e.options,n),n.resolve=n.resolve||{},!n.template&&!n.templateUrl)throw new Error("One of template or templateUrl options is required.");var u=o.all([c(n)].concat(s(n.resolve)));return u.then(function(e){var o=(n.scope||t).$new();o.$close=d.close,o.$dismiss=d.dismiss;var a,c={},s=1;n.controller&&(c.$scope=o,c.$modalInstance=d,angular.forEach(n.resolve,function(n,t){c[t]=e[s++]}),a=i(n.controller,c),n.controllerAs&&(o[n.controllerAs]=a)),l.open(d,{scope:o,deferred:r,content:e[0],keyboard:n.keyboard,closable:n.closable,enterTriggerEl:n.enterTriggerEl,beforeDismiss:n.beforeDismiss,size:n.size,backdrop:n.backdrop,backdropClass:n.backdropClass,windowClass:n.windowClass,windowTemplateUrl:n.windowTemplateUrl})},function(e){r.reject(e)}),u.then(function(){a.resolve(!0)},function(){a.reject(!1)}),d},d}]};return e}),module.exports=moduleName;

},{"../animation/transition":238,"path":7}],459:[function(require,module,exports){
angular.module("ddWeb.service.modalHelper",[]).factory("modalHelperService",["$rootScope","$compile","$templateCache",function(n,o,e){return{compileTemplate:function(n){var t=null;return t=e.get(n).toString().trim(),o($(t))},insertDomAndReturnScope:function(o,e,t){var i=n.$new(),e=e||"modalList",t=t||function(){};return o(i,function(n,o){$("#"+e).append(n),t(n),n.on("$destroy",function(){i.$destroy()})}),i},showModal:function(n,o,e,t){var o=o||function(){},e=e||function(){},t=t||function(){};$("#"+n).modal("hide"),$("#"+n).modal("setting",{onVisible:function(){e()},onShow:function(){t($(this))},onHide:function(){o($(this)),$(this).remove()}}).modal("show")},closeModal:function(n){$("#"+n).modal("setting",{onHide:function(){$(this).remove()}}).modal("hide")}}}]);

},{}],460:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.msgReceiverListModal",path=require("path"),_=require("lodash"),MainScene=require("../../service/user/MainScene");require("./profileModal.js"),require("./modalHelper"),require("../user/userManager"),angular.module(moduleName,[require("@ali/ding-api").interface.IDLDing,"ddWeb.service.profileModal","ddWeb.user.userManager",require("../conversation/conversationWithSDK"),require("./modal"),require("./sendDingModal"),require("../ding/dinglist"),require("../ding/DingSendStatus"),require("../../service/log/lwlog")]).factory("msgReceiverListModalService",["IDLDing","profileModalService","userManager","$modal",function(e,n,i,s){function r(e,n){var i={isMsg:n,isShowDing:n&&1===e.baseMessage.content.contentType,hasData:!1,isAllRead:!1},r=s.open({template:'<div class="dialog middle receiver-list-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <div class="header">\n            {{mrlCtrl.title}}\n        </div>\n    </div>\n    <div class="body">\n        <div class="ui list relaxed divided">\n            <span class="loading" ng-if="!mrlCtrl.dataReady">\n            <div class="bounce1"></div>\n            <div class="bounce2"></div>\n            <div class="bounce3"></div>\n            </span>\n            <div ng-if="mrlCtrl.unConfirmedRec.length === 0" class="unreadList-all-read">全部已读</div>\n\n            <div ng-if="mrlCtrl.unConfirmedRec.length > 0 && mrlCtrl.unConfirmedRec.length !== 0" class="clearfix">\n                <div>\n                    <span ng-if="!mrlCtrl.isMsg">未确认</span>\n                    <span ng-if="mrlCtrl.isMsg">未读</span>\n                    <span>({{mrlCtrl.unConfirmedRec.length}})</span>\n                    <a href="javascript:;" class="ding-again-btn" ng-click="mrlCtrl.dingAgain()" ng-if="!mrlCtrl.isMsg&&mrlCtrl.isShowDingAgain">再次提醒</a>\n                </div>\n\n                <div class="item-list clearfix">\n                    <div class="people" ng-repeat="item in mrlCtrl.unConfirmedRec" htitle="{{item.displayName}}{{item.status}}">\n                        <dd-avatar uid="item.user.userProfileModel.uid"\n                                   ng-click="mrlCtrl.showUserProfile(item.user.userProfileModel.uid)"\n                                   class="dinglist-tool-pointer"></dd-avatar>\n                        <div class="unconfirm-loading-box" ng-if="!mrlCtrl.isMsg && item.statusCode < 10&&mrlCtrl.isShowDingAgain">\n                            <i class="close iconfont unconfirm-loading-btn">&#xe668;</i>\n                        </div>\n                        <p ng-bind-html="item.displayName|emoj"></p>\n                    </div>\n                </div>\n            </div>\n\n            <div ng-if="mrlCtrl.confirmRec.length > 0 && mrlCtrl.unConfirmedRec.length !== 0">\n                <div>\n                    <span ng-if="!mrlCtrl.isMsg">已确认</span>\n                    <span ng-if="mrlCtrl.isMsg">已读</span>\n                    <span>({{mrlCtrl.confirmRec.length}})</span>\n                </div>\n                <div class="item-list clearfix">\n                    <div class="people" ng-repeat="item in mrlCtrl.confirmRec" htitle="{{item.displayName}}">\n                        <dd-avatar uid="item.user.userProfileModel.uid"\n                                   ng-click="mrlCtrl.showUserProfile(item.user.userProfileModel.uid)"\n                                   class="dinglist-tool-pointer"></dd-avatar>\n                        <p ng-bind-html="item.displayName|emoj"></p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-show="!mrlCtrl.isShowDing" ng-click="mrlCtrl.close()">确定</button>\n        <button class="blue" ng-show="mrlCtrl.isShowDing" ng-click="mrlCtrl.msgToDing()">DING一下</button>\n    </div>\n</div>\n',controller:"msgReceiverListCtrl",controllerAs:"mrlCtrl",resolve:{options:function(){return i},msg:function(){return e}}});return r.result}return{showModal:r}}]).controller("msgReceiverListCtrl",["$modalInstance","options","msg","profileModalService","userManager","conversationWithSDK","sendDingModalService","dinglist","DingSendStatus","$scope","lwlog",function(e,n,i,s,r,t,a,o,l,d,c){function g(){try{d.$digest()}catch(e){}}this.isMsg=n.isMsg,n.isMsg?this.title="消息接收人列表":this.title="消息确认详情",this.dataReady=!1,this.msg=i,this.isShowDing=n.isShowDing;var m=t.getConvObj(this.msg.baseMessage.conversationId);this.showUserProfile=function(n){e.close("ok"),s(n)},this.msgToDing=function(){c.commLog("chat_unread_user_ding");var n=this,i=n.unConfirmedRec.map(function(e){return e.user.userProfileModel.uid}),s=[];m.getMembers(function(r){s=r.map(function(e){return e.openIdEx.openId}),e.close("ok"),a.showModal({msgId:n.msg.baseMessage.messageId,content:n.msg?n.msg.getContent().textContent.text:"",selectedUids:i,customUids:s,disableEdit:!0}),g()})},this.close=function(){e.close("ok")};var u=this;this.isMsg?(i.getReceiverList().then(function(e){var n=[],i=[],s=m.getScene(MainScene.RECEIVER_LIST);e.confirmReceivers.forEach(function(e){var i=e.user;n.push(i.getName(m.convId,s,{oid:m.orgId}).then(function(n){return _.assign(e,{displayName:n})}))}),e.unConfirmReceivers.forEach(function(e){var n=e.user;i.push(n.getName(m.convId,s,{oid:m.orgId}).then(function(n){return _.assign(e,{displayName:n})}))}),Promise.all([Promise.all(n),Promise.all(i)]).then(function(e){u.confirmRec=e[0],u.unConfirmedRec=e[1],u.dataReady=!0,g()})}),i.on(i.EventsName.UPDATE_READ_STATUS,g)):o.getDingById(i.baseMessage.memberExtension.dingId,function(e){u.ding=e,e.on(e.EventsName.UPDATE_CONFIRM,g),e.on(e.EventsName.UPDATE_PARTICIPATOR,g),e.getReceiverList(function(n){var i=[],s=[],r=m.getScene(MainScene.RECEIVER_LIST);n.confirmList.forEach(function(e){var n=e.user;i.push(n.getName(m.convId,r,{oid:m.orgId}).then(function(n){return _.assign(e,{displayName:n})}))}),n.unConfirmList.forEach(function(e){var n=e.user;s.push(n.getName(m.convId,r,{oid:m.orgId}).then(function(n){return _.assign(e,{displayName:n})}))}),Promise.all([Promise.all(i),Promise.all(s)]).then(function(n){u.confirmRec=n[0],u.unConfirmedRec=n[1],u.dataReady=!0,u.isShowDingAgain=e.sendStatus!==l.NOTSEND,g()})})}),this.dingAgain=function(){a.dingAgain(i.baseMessage.memberExtension.dingId)},d.$on("$destroy",function(){u.ding&&(u.ding.off(u.ding.EventsName.UPDATE_CONFIRM,g),u.ding.off(u.ding.EventsName.UPDATE_PARTICIPATOR,g)),u.isMsg&&i.off(i.EventsName.UPDATE_READ_STATUS,g)})}]),module.exports=moduleName;

},{"../../service/log/lwlog":424,"../../service/user/MainScene":629,"../conversation/conversationWithSDK":308,"../ding/DingSendStatus":342,"../ding/dinglist":359,"../user/userManager":641,"./modal":458,"./modalHelper":459,"./profileModal.js":466,"./sendDingModal":472,"@ali/ding-api":711,"lodash":919,"path":7}],461:[function(require,module,exports){
var path=require("path"),moduleName="ddWeb.modal.multiFileUpload";require("./modal"),require("../file/fileHelper"),require("../file/fileTypes"),angular.module(moduleName,["ddWeb.modal","ddWeb.file.fileHelper","ddWeb.file.fileTypes"]).factory("$multiFileUpload",["$modal",function(e){var l=function(l){var l=l||[];if(0===l.length)return Promise.resolve();var i=e.open({template:'<div class="dialog multifile-upload-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">上传文件</span>\n    </div>\n    <div class="body">\n        <div class="file-list">\n            <p class="summary">本次选择 {{files.length}} 个文件，可以发送 {{getValidFiles().length}} 个。</p>\n            <div class="file-item clearfix" ng-repeat="item in files">\n                <div class="file-icon" ng-class="item.iconClass"></div>\n                <div class="content">\n                    <div class="file-name">{{item.name}}</div>\n                    <div class="file-size">({{item.showSize}})</div>\n                </div>\n                <div class="error">{{item.checkResult[2]}}</div>\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="ok()">发送</button>\n    </div>\n</div>\n',controller:"multiFileUploadCtrl",resolve:{files:function(){return l}},enterTriggerEl:".ok"});return i.result};return{open:l}}]).controller("multiFileUploadCtrl",["$scope","files","$modalInstance","$fileHelper","$fileTypes",function(e,l,i,n,s){var l=l||[];if(!(l instanceof Array))try{l=Array.prototype.slice.apply(l)}catch(e){return console.log("files 不能转换成 Array, 请检查传参数是否正确"),!1}l.forEach(function(e){e.checkResult=n.checkFileV2(e),e.iconClass=s.getFileIconByType(s.getTypeByName(e.name)),e.showSize=n.formatFileSize(e.size)}),e.files=l,e.getValidFiles=function(){return e.files.filter(function(e){return e.checkResult[0]})},e.ok=function(){i.close(e.getValidFiles())},e.cancel=function(){i.dismiss("cancel")}}]),module.exports=moduleName;

},{"../file/fileHelper":379,"../file/fileTypes":381,"./modal":458,"path":7}],462:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),moduleName="ddWeb.modal.openApiConfirm";require("./modal"),angular.module(moduleName,["ddWeb.modal"]).factory("$openApiConfirm",["$modal",function(n){var t={title:"",content:"",confirmText:"确定",cancelText:"取消"};return function(o){var i=_.assign({},t,o),e=n.open({template:'<div class="dialog mini confirm">\n    <div class="head" ng-show="!!Confirm.title">\n        <i class="iconfont close"></i>\n        <span class="title">{{Confirm.title}}</span>\n    </div>\n    <div class="body">\n        <div class="content"><span ng-bind-html="Confirm.content|emoj"></span></div>\n    </div>\n    <div class="foot">\n        <button ng-class="Confirm.isWarning?\'red\':\'blue\'" ng-click="Confirm.confirm()">{{Confirm.confirmText}}</button>\n        <button ng-class="Confirm.isWarning?\'blue\':\'red\'" class="confirm-cancel" ng-click="Confirm.cancel()">{{Confirm.cancelText}}</button>\n    </div>\n</div>\n',controller:"openApiConfirmCtrl",controllerAs:"Confirm",resolve:{options:function(){return i}},closable:!0,enterTriggerEl:".confirm-cancel"});return e.result}}]).controller("openApiConfirmCtrl",["$modalInstance","options",function(n,t){this.title=t.title,this.content=t.content,this.confirmText=t.confirmText,this.cancelText=t.cancelText,this.isWarning=t.isWarning,t.buttonLabels&&(this.confirmText=t.buttonLabels[0],this.cancelText=t.buttonLabels[1]),this.confirm=function(){n.close({buttonIndex:0})},this.cancel=function(){n.close({buttonIndex:1})}}]),module.exports=moduleName;

},{"./modal":458,"lodash":919,"path":7}],463:[function(require,module,exports){
"use strict";var path=require("path"),moduleName=module.exports="ddWeb.service.permissionManage",serviceName="permissionManageModal",localLog=require("../log/localLog");require("../goldlog/goldlog"),require("../log/lwlog"),require("../toast/toast");var $my=require("../user/my"),uriResolve=require("../../service/uriResolve/resolve"),_=require("lodash");angular.module(moduleName,[require("./modal"),"ddWeb.goldlog","ddWeb.log.lwlog","ddWeb.toast",require("../../directive/avatar/userAvatar"),require("@ali/ding-api").interface.ExternalContactI]).factory(serviceName,["$modal",function(e){return function(n){var i=e.open({template:'<div class="dialog permisstion-manage-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{::permissionManageModal.text.pc_modal_external_contact_permission_title}}</span>\n    </div>\n    <div class="body">\n        <div class="item no-border" ng-if="permissionManageModal.follower">\n            <div user-avatar class="user-avatar normal" uid="{{permissionManageModal.follower.orgEmployeeModel.uid}}"></div>\n            <div class="name">{{permissionManageModal.follower.orgEmployeeModel.orgUserName}}</div>\n            <div class="label">{{::permissionManageModal.text.pc_modal_external_contact_permission_owner_label}}</div>\n        </div>\n        <div class="title">{{::permissionManageModal.text.pc_modal_external_contact_permission_can_view_dept_and_person}}</div>\n        <div class="item" ng-repeat="permit in OrgEmployeeExtensionModel.permission.permits" ng-if="permit.dept">\n            <div class="name">{{permit.dept.deptName}}（{{permit.dept.memberCount}}人）</div>\n            <div class="del-btn" ng-click="permissionManageModal.delPermit(permit)" ng-if="OrgEmployeeExtensionModel.permission.canEdit" >\n                {{::permissionManageModal.text.pc_modal_external_contact_permission_delete_dept}}\n            </div>\n        </div>\n        <div class="item" ng-repeat="permit in OrgEmployeeExtensionModel.permission.permits" ng-if="permit.employee">\n            <div user-avatar class="user-avatar normal" uid="{{permit.employee.uid}}"></div>\n            <div class="name">{{permit.employee.orgUserName}}</div>\n            <div class="del-btn" ng-click="permissionManageModal.delPermit(permit)" ng-if="OrgEmployeeExtensionModel.permission.canEdit" >\n                {{::permissionManageModal.text.pc_modal_external_contact_permission_delete_person}}\n            </div>\n        </div>\n    </div>\n</div>\n',controller:"permissionManageModalCtrl",controllerAs:"permissionManageModal",resolve:{OrgEmployeeExtensionModel:function(){return n}}});return i.result}}]).controller("permissionManageModalCtrl",["$scope","$modalInstance","OrgEmployeeExtensionModel","ExternalContactI","toastService","$translate",function(e,n,i,o,a,t){var r=this;r.follower=i.follower,this.text={pc_modal_external_contact_permission_title:t.instant("pc_modal_external_contact_permission_title"),pc_modal_external_contact_permission_owner_label:t.instant("pc_modal_external_contact_permission_owner_label"),pc_modal_external_contact_permission_can_view_dept_and_person:t.instant("pc_modal_external_contact_permission_can_view_dept_and_person"),pc_modal_external_contact_permission_delete_dept:t.instant("pc_modal_external_contact_permission_delete_dept"),pc_modal_external_contact_permission_delete_person:t.instant("pc_modal_external_contact_permission_delete_person")},e.OrgEmployeeExtensionModel=i,r.delPermit=function(e){if(_.get(i,"permission.permits")){var n=_.clone(i,!0),t=i.permission.permits.filter(function(n){return e!==n});n.permission.permits=t,o.updateContact(n,function(e){200==e.code?(i=n,l()):a.show("删除人员或部门失败",{type:"error"})})}};var l=function(){try{e.$digest()}catch(e){}}}]);

},{"../../directive/avatar/userAvatar":55,"../../service/uriResolve/resolve":628,"../goldlog/goldlog":399,"../log/localLog":421,"../log/lwlog":424,"../toast/toast":611,"../user/my":635,"./modal":458,"@ali/ding-api":711,"lodash":919,"path":7}],464:[function(require,module,exports){
var moduleName="ddWeb.modal.pickCustomer",serviceName="pickCustomerModal",_=require("lodash"),path=require("path");angular.module(moduleName,[require("./modal"),require("../microApp/microAppData"),require("../clientContact/ContactClientList"),require("../clientContact/ContactClientItem"),require("@ali/ding-api").interface.CrmI,require("../../directive/infiniteScroll"),require("../../directive/widget/loading/loading")]).factory(serviceName,["$modal",function(t){return function(e){return t.open({template:'<div class="dialog mini action-sheet">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title" ng-bind-html="pickCustomer.title | emoj"></span>\n    </div>\n    <div class="body">\n        <loading ng-if="pickCustomer.isLoading"></loading>\n        <ul infinite-scroll infinite-scroll-bottom="pickCustomer.loadMore()">\n            <li class="action-sheet-item" ng-repeat="customer in pickCustomer.contactClientList.showItems track by customer.crmModel.customerId" ng-click="pickCustomer.selectAction(customer)">{{customer.crmModel.name}}</li>\n        </ul>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="pickCustomer.cancel()">{{pickCustomer.cancelButton}}</button>\n    </div>\n</div>\n',controller:"pickCustomerCtrl",controllerAs:"pickCustomer",resolve:{options:function(){return e}},closable:!0,autofocus:!1}).result}}]).controller("pickCustomerCtrl",["$scope","$modalInstance","options","ContactClientList","ContactClientItem","CrmI","microAppData",function(t,e,i,o,n,c,r){function s(){d.contactClientList.showMore(function(){l()})}function a(){d.contactClientList=new o({order:"ASC",itemConstructor:n,getMore:u,autoPullData:!1}),!d.contactClientList.isActive()&&d.contactClientList.active(),d.contactClientList.on(d.contactClientList.EventsName.UPDATE_ITEMS,l)}function l(){try{t.$digest()}catch(t){}}function u(t,e,i){if(C){if(e)var o=e.index+1;else var o=0;d.isLoading=!0,m=c.getCrmCustomerList(d.orgId,d.staffId,o,t,function(t){m=null,d.isLoading=!1,200===t.code&&(i(t.body.modelList.map(function(t,e){return t.$dd_index=o+e,t})),C=t.body.hasMore)})}}var d=this,m=null,C=!0;this.isLoading=!0,this.orgId=null,this.staffId=i.userId,this.title=i.title,this.cancelButton="取消",this.loadMore=s,this.selectAction=function(t){e.close({customId:t.crmModel.customerId,customName:t.crmModel.name})},this.cancel=function(){e.dismiss()},r.getData().then(function(t){if(t&&"object"==typeof t.oa_org){if(d.orgId=_.get(_.find(t.oa_org,function(t,e){return t.corpId===i.corpId}),"orgId"),!d.orgId){var e={body:{reason:"corpID 错误, 不存在"}};return Promise.reject(e)}return Promise.resolve()}}).then(function(){a()}).catch(function(t){e.dismiss(t)}),t.$on("$destroy",function(){m&&m.dismiss(),d.contactClientList&&d.contactClientList.removeListener(d.contactClientList.EventsName.UPDATE_ITEMS,l)})}]),module.exports=moduleName;

},{"../../directive/infiniteScroll":114,"../../directive/widget/loading/loading":163,"../clientContact/ContactClientItem":277,"../clientContact/ContactClientList":278,"../microApp/microAppData":437,"./modal":458,"@ali/ding-api":711,"lodash":919,"path":7}],465:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.previewFileModal",ua=require("../ua"),app=angular.module(moduleName,[require("./modal"),require("../../directive/previewFile/previewFile"),require("../app/download/fileFactory"),require("../app/download/LocalCache"),require("../app/download/openFile")]);app.factory("previewFileModal",["$modal",function(e){function i(i){var o=e.open({template:'<div class=\'preview-file-modal\'>\n    <i class="iconfont close dimmer-btns-close" title="关闭">&#xe632;</i>\n    <div class="info-span">\n        <span class="file-name">{{previewFile.option.filename}}</span>\n        <a class="download-btn" ng-if="!previewFile.option.isNotSupportDownload&&(!previewFile.isDesktop||(previewFile.isDesktop&&!previewFile._DLFile.isActive&&!previewFile._DLFile.isFinish))" href="{{previewFile.option.download_url}}" target="_blank" download="{{previewFile.option.filename}}" nwdirectory nwsaveas="{{previewFile.option.filename}}" ng-click="previewFile.download($event)">\n            <button class="blue">下载</button>\n        </a>\n        <a class="download-btn" href="javascript:;" ng-if="!previewFile.option.isNotSupportDownload&&previewFile.isDesktop&&previewFile._DLFile.isActive&&!previewFile._DLFile.isFinish">\n            <div class="downloading-box">\n                <button class="blue">下载中</button>\n                <div progress-bar progress="previewFile._DLFile.progress" ng-if="previewFile._DLFile.isActive"></div>\n            </div>\n        </a>\n        <a class="download-btn" href="javascript:;" ng-if="!previewFile.option.isNotSupportDownload&&previewFile.isDesktop&&previewFile._DLFile.isFinish" ng-click="previewFile.openFile($event)">\n            <button class="blue">打开</button>\n        </a>\n    </div>\n    <div preview-file option=\'previewFile.option\' class="preview-file-wrap" ng-class="{\'preview-file-watermark-wrap\':!previewFile.option.isImg}"></div>\n</div>\n',controller:"previewFileModalCtrl",controllerAs:"previewFile",closable:!0,resolve:{option:function(){return i}}});return o.result}return i}]),app.controller("previewFileModalCtrl",["$scope","$modalInstance","fileFactory","DLLocalCache","openFileService","option",function(e,i,o,l,n,r){var t=this;this.option=r,this._DLFile=o.getFileObj(t.option.download_url,t.option.filename);var p=function(){e.$digest()};t._DLFile.proxy.on(t._DLFile.EVENTS.STRAT,p),t._DLFile.proxy.on(t._DLFile.EVENTS.PROGRESS,p),t._DLFile.proxy.on(t._DLFile.EVENTS.FINISH,p),this.isDesktop=ua.isDesktop,this.download=function(e){r.onDownload&&r.onDownload(),ua.isDesktop&&(e.preventDefault(),t._DLFile.download())},this.openFile=function(e){e.preventDefault(),n.open({url:t._DLFile.url}).then(function(){},function(){t._DLFile.reset()})},e.$on("$destroy",function(){t._DLFile.proxy&&(t._DLFile.proxy.off(t._DLFile.EVENTS.STRAT,p),t._DLFile.proxy.off(t._DLFile.EVENTS.PROGRESS,p),t._DLFile.proxy.off(t._DLFile.EVENTS.FINISH,p))})}]),module.exports=moduleName;

},{"../../directive/previewFile/previewFile":125,"../app/download/LocalCache":249,"../app/download/fileFactory":252,"../app/download/openFile":253,"../ua":621,"./modal":458,"path":7}],466:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.service.profileModal",serviceName="profileModalService",localLog=require("../log/localLog");require("./modal"),require("../goldlog/goldlog"),require("../log/lwlog"),require("../chat/chatCallService"),require("../user/userManager");var EVENTS=require("../events.js");require("../toast/toast"),require("../../directive/widget/focus");var $my=require("../user/my");require("../friend/FriendType"),require("../../directive/widget/editBar"),require("../mediaId/mediaId"),require("../../service/modal/sendDingModal");var uriResolve=require("../../service/uriResolve/resolve"),_=require("lodash"),watermarkLocation=require("../../service/watermark/watermarkLocation"),watermarkTypeKey=require("../../service/watermark/watermarkType").key,orgNodeType=require("../../service/org/OrgNodeType.js"),orgEmpMobileSource=require("../user/orgEmpMobileSource"),$my=require("../../service/user/my"),IMLogType=require("../../service/log/imLogType");angular.module(moduleName,["ddWeb.modal","ddWeb.goldlog","ddWeb.log.lwlog",require("@ali/ding-api").interface.FriendI,require("@ali/ding-api").interface.ExternalContactI,require("@ali/ding-api").interface.ContactI,"ddWeb.service.chaCallService","ddWeb.user.userManager","ddWeb.toast","ddWeb.widget.focus","ddWeb.modal.confirm",require("../conversation/conversationWithSDK"),"ddWeb.friend.FriendType","ddWeb.widget.editBar","ddWeb.mediaId","ddWeb.modal.sendDingModal",require("../../directive/watermark"),require("../../directive/avatar/userAvatar"),require("../img/imgPreviewService"),require("../org/orgStateManager"),require("./sendCardToConv"),require("../../directive/widget/extContactLabel"),require("./permissionManage"),require("../onebox/oneboxModal.js"),require("./externalLabelEditModal.js"),require("../../component/user/userDingTitleList.js"),require("./callSelectorModal.js"),require("../../service/log/imLog")]).factory(serviceName,["$modal",function(e){return function(o,r,i,t,n,l,a){var s=e.open({template:' <div class="profile-card">\n     <header class="header">\n         <div class="bg"  ng-class="{\'default-bg-img\':!profileModal.user.userProfileModel.avatarMediaId,\'user-bg-img\':profileModal.user.userProfileModel.avatarMediaId}" style="background-image:url({{profileModal.avatarUrl}})"></div>\n         <i class="iconfont close dialog-close"></i>\n         <div class="avatar-wrap">\n             <user-avatar ng-if="profileModal.uid" on-click-avatar="profileModal.onClickAvatar()" class="big" uid="{{ profileModal.uid }}"></user-avatar>\n             <static-user-avatar ng-if="!profileModal.uid" on-click-avatar="profileModal.onClickAvatar()" class="big" media-id="{{profileModal.user.userProfileModel.avatarMediaId}}" name="{{profileModal.user.userProfileModal.nick || profileModal.user.extContact.orgEmployeeModel.orgUserName}}"></static-user-avatar>\n         </div>\n         <div class="detail-info" ng-class="{\'has-user-ding-title\':profileModal.userInstance.dingTitles.length}">\n             <div class="name" title=""><span ng-bind-html="((!profileModal.user.userProfileModel.isDataComplete?profileModal.card.name:\'\') ||profileModal.user.remarkNameObj.alias||profileModal.user.userProfileModel.nick || profileModal.user.extContact.orgEmployeeModel.orgUserName)|emoj"></span></div>\n            <i class="iconfont icon-org" ng-if="profileModal.user.userProfileModel.isOrgUser"></i>\n            <i class="iconfont icon-follow"  htitle="{{profileModal.followMsg}}" ng-class="{\'follow\':profileModal.userInstance.isFollowing,\'unfollow\':!profileModal.userInstance.isFollowing}" ng-click="profileModal.toggleFollow()" ng-if="profileModal.showFollow && profileModal.uid"></i>\n            <i class="iconfont icon-card" ng-if="profileModal.user.userProfileModel" htitle="发送该名片" ng-click="profileModal.sendCardToConv()">&#xe6ae;</i>\n         </div>\n         <div class="ding-title-container" ng-if="profileModal.userInstance.dingTitles.length">\n             <user-ding-title-list uid="{{profileModal.uid}}"></user-ding-title-list>\n         </div>\n         <div class="certification" ng-if="profileModal.showCertification" title="{{profileModal.certificationTitle}}">钉钉认证：{{profileModal.certificationTitle}}</div>\n         <button class="button add-friend" ng-if="profileModal.uid && profileModal.user.userPermissionModel.canBeSendFriendRequest && (profileModal.user.friendRequestModel.status === profileModal.FriendType.NON_RELATION||profileModal.user.friendRequestModel.status === profileModal.FriendType.PHONE_RELATION)" ng-click="profileModal.openRequestFriend()">添加好友</button>\n         <button class="button red del-friend" ng-if="profileModal.uid &&profileModal.user.friendRequestModel.status === profileModal.FriendType.FRIEND"  ng-click="profileModal.removeFriend()">解除好友</button>\n         <button class="button disabled" ng-if="profileModal.uid && profileModal.user.friendRequestModel.status === profileModal.FriendType.HAVE_SEND_FRIEND_REQUEST">已发送好友请求</button>\n         <button class="button add-friend" ng-if="profileModal.uid && profileModal.user.friendRequestModel.status === profileModal.FriendType.RECEIVE_FRIEND_REQUEST" ng-click="profileModal.acceptFriend($event)">接受</button>\n     </header>\n     <article class="detail-content">\n         <loading ng-hide="!profileModal.isLoading"></loading>\n         <section ng-hide="profileModal.isLoading" class="detail-box" ng-repeat="orgData in profileModal.user.orgEmployees" ng-if="orgData.orgEmployeeModel" watermark="profileModal.watermarkLocation.CONTACT" watermark-type="profileModal.watermarkTypeKey.SMALL" org-id="orgData.orgEmployeeModel.orgId">\n             <h5 class="box-title">{{orgData.orgEmployeeModel.orgName}}</h5>\n             <dl class="box-item">\n                 <dt class="label" htitle="姓名">姓名</dt>\n                 <dd class="cnt">{{orgData.orgEmployeeModel.orgUserName}}</dd>\n             </dl>\n             <dl class="box-item" ng-if="profileModal.hideMobileNumber(orgData.orgEmployeeModel.orgUserMobile);">\n                 <dt class="label" htitle="电话">电话</dt>\n                 <dd class="cnt">+{{orgData.orgEmployeeModel.stateCode}}-{{profileModal.hideMobileNumber(orgData.orgEmployeeModel.orgUserMobile)}}</dd>\n             </dl>\n             <dl class="box-item" ng-if="!profileModal.hideMobileNumber(orgData.orgEmployeeModel.orgUserMobile) && orgData.orgEmployeeModel.orgUserMobileDesensitize">\n                 <dt class="label" htitle="电话">电话</dt>\n                 <dd class="cnt">{{orgData.orgEmployeeModel._orgEmpMobile || orgData.orgEmployeeModel.orgUserMobileDesensitize}}</dd>\n                 <dd class="cnt show-number" ng-if="!orgData.orgEmployeeModel._orgEmpMobile">\n                     <a ng-class="{\'disabled\':orgData._tryShowing}" href="#" ng-click="profileModal.showUserOrgEmpMobile(orgData)">点击查看</a>\n                 </dd>\n             </dl>\n             <dl class="box-item" ng-if="orgData.orgEmployeeModel.orgAuthEmail || orgData.orgEmployeeModel.orgEmail">\n                 <dt class="label" htitle="邮箱">邮箱</dt>\n                 <dd class="cnt"><a href="mailto:{{orgData.orgEmployeeModel.orgAuthEmail || orgData.orgEmployeeModel.orgEmail}}">{{orgData.orgEmployeeModel.orgAuthEmail || orgData.orgEmployeeModel.orgEmail}}</a></dd>\n             </dl>\n             <dl class="box-item" ng-if="orgData.orgEmployeeModel.orgMasterDisplayName">\n                 <dt class="label" htitle="主管">主管</dt>\n                 <dd class="cnt">{{orgData.orgEmployeeModel.orgMasterDisplayName}}</dd>\n             </dl>\n             <dl class="box-item" ng-repeat="orgNodeItem in orgData.orgNodeItemList">\n                 <dt class="label" htitle="部门">部门</dt>\n                 <dd class="cnt">\n                     <a href="#" ng-click="profileModal.goApartment(orgData.orgDetail.orgId,orgNodeItem.deptId)">{{orgNodeItem.dept.deptName || orgData.orgEmployeeModel.depts[$index].deptName}}</a>\n                 </dd>\n             </dl>\n             <dl class="box-item" ng-repeat="item in orgData.orgExtPropertyList" class="item" ng-show="item.itemValue && item.itemValue.length > 0">\n                 <dt class="label" htitle="{{item.itemName}}">{{item.itemName}}</dt>\n                 <dd class="cnt">{{item.itemValue}}</dd>\n             </dl>\n         </section>\n         <section ng-hide="profileModal.isLoading" class="detail-box" ng-if="profileModal.showCustomerContact">\n             <h5 class="box-title">客户信息</h5>\n             <dl class="box-item" ng-repeat="item in profileModal.crmContact track by $index" ng-if="item.itemValue">\n                 <dt class="label" >{{item.itemName}}</dt>\n                 <dd class="cnt">{{item.itemValue}}</dd>\n             </dl>\n\n         </section>\n\n         <section ng-hide="profileModal.isLoading" class="detail-box" ng-if="profileModal.showExternalContact" watermark="profileModal.watermarkLocation.CONTACT" watermark-type="profileModal.watermarkTypeKey.SMALL" org-id="profileModal.user.extContact.orgEmployeeModel.orgId" ng-repeat="extContact in profileModal.user.extContacts">\n             <h5 class="box-title">外部联系人<span ng-if="profileModal.user.extContacts.length > 1">-{{extContact.orgEmployeeModel.orgName}}</span></h5>\n             <dl class="box-item">\n                 <dt class="label" htitle="姓名">姓名</dt>\n                 <dd class="cnt">{{extContact.orgEmployeeModel.orgUserName}}</dd>\n             </dl>\n             <dl class="box-item" ng-if="profileModal.hideMobileNumber(extContact.orgEmployeeModel.orgUserMobile);">\n                 <dt class="label" htitle="电话">电话</dt>\n                 <dd class="cnt">+{{extContact.orgEmployeeModel.stateCode}}-{{profileModal.hideMobileNumber(extContact.orgEmployeeModel.orgUserMobile)}}</dd>\n             </dl>\n             <dl class="box-item" ng-if="extContact.orgEmployeeModel.orgEmail">\n                 <dt class="label" htitle="邮箱">邮箱</dt>\n                 <dd class="cnt"><a href="mailto:{{profileModal.user.extContact.orgEmployeeModel.orgEmail}}">{{extContact.orgEmployeeModel.orgEmail}}</a></dd>\n             </dl>\n             <dl class="box-item" ng-if="extContact.orgEmployeeModel.deptName">\n                 <dt class="label" htitle="部门">部门</dt>\n                 <dd class="cnt">{{extContact.orgEmployeeModel.deptName}}</dd>\n             </dl>\n             <dl class="box-item" ng-if="extContact.orgEmployeeModel.companyName">\n                 <dt class="label" htitle="公司">公司</dt>\n                 <dd class="cnt">{{extContact.orgEmployeeModel.companyName}}</dd>\n             </dl>\n             <dl class="box-item" ng-if="extContact.orgEmployeeModel.orgTitle">\n                 <dt class="label" htitle="职位">职位</dt>\n                 <dd class="cnt">{{extContact.orgEmployeeModel.orgTitle}}</dd>\n             </dl>\n             <dl class="box-item" ng-if="extContact.remark">\n                 <dt class="label" htitle="备注">备注</dt>\n                 <dd class="cnt">{{extContact.remark}}</dd>\n             </dl>\n             <dl class="box-item can-click" ng-click="profileModal.showOneBox()" ng-if="extContact.followRecordsBrief">\n                 <dt class="label" htitle="往来记录">往来记录</dt>\n                 <dd class="cnt">{{extContact.followRecordsBrief.totalCount || 0}}条记录，{{extContact.noFollowDay}}天未跟进</dd>\n                 <i class="iconfont right-arrow"></i>\n             </dl>\n             <dl class="box-item" ng-click="profileModal.onClickLabel(extContact)" ng-if="extContact.orgEmployeeModel.labels && extContact.orgEmployeeModel.labels.length > 0">\n                 <dt class="label" htitle="标签">标签</dt>\n                 <dd class="cnt">\n                     <ext-contact-label ng-repeat="label in extContact.orgEmployeeModel.labels" color="label.color" text="label.name"></ext-contact-label>\n                 </dd>\n                 <i class="iconfont right-arrow"></i>\n             </dl>\n             <dl class="box-item can-click" ng-if="extContact.bizCardMediaId" ng-click="profileModal.previewImg(extContact.bizCardMediaId)">\n                 <dt class="label" htitle="名片">名片</dt>\n                 <dd class="cnt" >查看图片</dd>\n                 <i class="iconfont right-arrow"></i>\n             </dl>\n             <dl class="box-item can-click" ng-click="profileModal.openPermissionManage(extContact)">\n                 <dt class="label" htitle="共享权限">权限</dt>\n                 <dd class="cnt">\n                     <span ng-if="extContact.follower.orgEmployeeModel.orgUserName">{{extContact.follower.orgEmployeeModel.orgUserName}}负责</span>\n                     <span ng-if="!extContact.follower.orgEmployeeModel.orgUserName">无人负责</span>\n                     <span ng-if="extContact.permisstionCoWorkerNum!==0 || extContact.permisstionDeptNum!==0">，共享给{{extContact.permisstionCoWorkerNum}}个同事，{{extContact.permisstionDeptNum}}个部门</span>\n                 </dd>\n                 <i ng-if="extContact.permisstionCoWorkerNum!==0 || extContact.permisstionDeptNum!==0" class="iconfont right-arrow"></i>\n             </dl>\n             <dl class="box-item" ng-repeat="item in extContact.orgExtPropertyList track by item.itemName" ng-show="item.itemValue">\n                <dt class="label" htitle="{{item.itemName}}">{{item.itemName}}</dt>\n                 <dd class="cnt">{{item.itemValue}}</dd>\n             </dl>\n\n         </section>\n\n        <section class="detail-box" ng-hide="profileModal.isLoading || !profileModal.uid">\n            <h5 class="box-title">个人信息</h5>\n            <dl class="box-item">\n                <dt class="label">昵称</dt>\n                <dd class="cnt">\n                    <span ng-bind-html="profileModal.user.userProfileModel.nick|emoj"></span>\n                    <span class="unactived" ng-if="!profileModal.user.userProfileModel.isActive">未激活</span>\n                </dd>\n            </dl>\n            <dl class="box-item" ng-if="profileModal.showRemarkEdit">\n                <dt class="label">备注</dt>\n                <edit-bar is-edit-bar-open="profileModal.isEditBarOpen" custom-value="profileModal.userInstance.remarkNameObj.alias" default-value="profileModal.userInstance.userProfileModel.nick" save-action="profileModal.saveRemarkName"></edit-bar>\n            </dl>\n            <dl class="box-item" ng-if="profileModal.user.userProfileModel.city">\n                <dt class="label">地区</dt>\n                <dd class="cnt">{{profileModal.user.userProfileModel.city}}</dd>\n            </dl>\n        </section>\n\n     </article>\n     <footer class="footer">\n        <div class="actions-wrapper" ng-show="!profileModal.isOpenAddFriend && (profileModal.user.userPermissionModel.canBeSentMsg || profileModal.showChatCall || profileModal.showSendDing)">\n             <a href="javascript:;" class="footer-item send-msg chatto-action-btn" ng-click="profileModal.chatTo(profileModal.user.userProfileModel.uid,$event)" ng-class="{\'disabled\':!profileModal.user.userPermissionModel.canBeSentMsg}">\n                 <i class="iconfont">&#xe61c;</i><span>发消息</span>\n             </a>\n             <a href="javascript:;" class="footer-item free-call" ng-click="profileModal.createCall()" ng-class="{\'disabled\':!profileModal.showChatCall||profileModal.isCalling}">\n                 <i class="iconfont">&#xe6ef;</i><span>{{profileModal.callText}}</span>\n             </a>\n             <a href="javascript:;" class="footer-item send-ding" ng-click="profileModal.sendDing()" ng-class="{\'disabled\':!profileModal.showSendDing}" >\n                 <i class="iconfont">&#xe6e5;</i><span>DING一下</span>\n             </a>\n         </div>\n         <div class="add-friend-wrapper" ng-show="profileModal.isOpenAddFriend">\n             <p class="des">请输入请求好友说明：<a href="javascript:void(0)" class="profile-addFriend-back" ng-click="profileModal.closeRequestFriend();">返回</a></p>\n\n             <input type="text" class="input req-msg" placeholder="请输入请求好友说明" ng-model="profileModal.addFriendInfo" focus="profileModal.focusOnAddFriendInfo"/>\n             <button class="send-friend-req add-friend-btn" ng-class="{disabled:profileModal.isAdding || !profileModal.addFriendInfo}" ng-click="profileModal.sendFriend(profileModal.user.userProfileModel.uid,$event)">发送</button>\n         </div>\n     </footer>\n </div>\n',controller:"profileModalCtrl",controllerAs:"profileModal",resolve:{uid:function(){return o},orgStaffId:function(){return r},orgExtId:function(){return a},orgId:function(){return i},mobile:function(){return t},isAutoOpenRequest:function(){return n},card:function(){return l}},enterTriggerEl:".chatto-action-btn"});return s.result}}]).controller("profileModalCtrl",["$scope","$modalInstance","uid","goldlog","lwlog","userManager","orgStaffId","orgId","mobile","FriendI","chatCallService","$rootScope","toastService","$timeout","$confirm","conversationWithSDK","FriendType","isAutoOpenRequest","mediaId","sendDingModalService","card","$state","imgPreviewService","orgStateManager","ExternalContactI","orgExtId","sendCardToConv","permissionManageModal","openOneBox","externalLabelEditModal","callSelectorModal","ContactI","imLog",function(e,o,r,i,t,n,l,a,s,d,c,u,g,f,m,p,M,h,b,E,C,v,y,w,I,x,N,D,L,k,F,T,S){function P(){q.followMsg=q.userInstance&&q.userInstance.isFollowing?"取消关注":"特别关注"}var q=this,A=$my.uid;q.showChatCall=!1,q.isLoading=!0,q.isOpenAddFriend=!1,q.uid=r,q.focusOnAddFriendInfo=!1,q.addFriendInfo=null,q.showRemarkEdit=!1,q.showSendDing=!1,q.FriendType=M,q.isEditBarOpen=!1,q.isCalling=!1,q.card=C,q.showCertification=!1,q.certificationTitle="",q.isFollowing=!1,q.followMsg="特别关注",q.showFollow=!1,q.showExternalContact=!1,q.showCustomerContact=!1,q.watermarkLocation=watermarkLocation,q.watermarkTypeKey=watermarkTypeKey,r&&(i.log("profile_one_user_enter","uid="+r),t.commLog("profile_one_user_enter","uid="+r),a=null);var R=function(){e.$evalAsync()};q.previewImg=function(e){y.preview({mediaId:e},null,null,{hideSaveEmotion:!0,hideDownloadBtn:!0,hideSaveToCloud:!0}),o.close()},q.requestExtContact=function(e,o,r){function i(e){200===e.code&&(q.user.extContacts=[].concat(e.body),q.user.extContacts.forEach(function(e){e.followRecordsBrief&&(e.followRecordsBrief.lastRecordDate?e.noFollowDay=parseInt((+new Date-e.followRecordsBrief.lastRecordDate)/1e3/3600/24,10):e.noFollowDay=0),_.get(e,"permission.permits")&&(e.permisstionCoWorkerNum=e.permission.permits.filter(function(e){return e.nodeType===orgNodeType.PEOPLE}).length,e.permisstionDeptNum=e.permission.permits.filter(function(e){return e.nodeType===orgNodeType.DEPT}).length)}),q.showExternalContact=!0),q.isLoading=!1,R()}q.isLoading=!0,e?I.getContactsByUid(e,i.bind(this)):o&&I.getContact(o,r||0,i.bind(this))},q.callText="钉钉电话",n.getUserWithExt(r,l,s,a).then(function(o){if(o&&e.$$destroyed!==!0){if(q.isLoading=!1,q.isAdding=!1,q.user=o,q.uid=o.userProfileModel.uid,_.get(o,"relationModel.isInExternalContact")===!0&&q.requestExtContact(q.uid,l,x),o.userPermissionModel.canBeSendConference&&parseInt(A)!==q.uid&&(q.showChatCall=!0),o.userPermissionModel.canBeSendDing&&parseInt(A)!==q.uid&&(q.showSendDing=!0),parseInt(A)!==q.uid&&(q.showFollow=!0),o.crmContactsV2&&o.crmContactsV2[0]){q.showCustomerContact=!0;var r=o.crmContactsV2[0],i=[{itemName:"姓名",itemValue:r.name},{itemName:"电话",itemValue:"+"+r.stateCode+"-"+r.mobile},{itemName:"客户公司",itemValue:r.customerName}];Array.isArray(r.contactExtPropertyList)&&(i=i.concat(r.contactExtPropertyList)),q.crmContact=i}h&&q.openRequestFriend(),q.uid&&parseInt(A)!==q.uid&&(q.showRemarkEdit=!0),q.avatarUrl=uriResolve.assetsResolve("app/img/profile_modal_bg.png"),o.userProfileModel.avatarMediaId&&(q.avatarUrl=b.mid2Url(o.userProfileModel.avatarMediaId,{imageSize:"origin"})),q.showCertification=o.userProfileModel.isOrgUser&&o.userProfileModel.labels.length,q.showCertification&&(q.certificationTitle=o.userProfileModel.labels.join(" ")),q.uid&&n.getUsers([q.uid]).then(function(o){o&&o[0]&&e.$$destroyed!==!0&&(q.userInstance=o[0],q.userInstance.addListener(q.userInstance.EventsName.ALIAS_UPDATE,R),q.userInstance.addListener(q.userInstance.EventsName.FOLLOW_UPDATE,P),q.userInstance.addListener(q.userInstance.EventsName.FOLLOW_UPDATE,R),P(),R())}),R(),t.nativeLog(t.CODES.PROFILE_SAFE,[(new Date).getTime(),q.uid].join(String.fromCharCode(7)))}},function(){setTimeout(function(){g.show("获取人员信息失败",{type:"error"}),o.dismiss()},400)}),c.checkCallState()?q.isCalling=!1:q.isCalling=!0;var O=c.chatCallStates;u.$on(EVENTS.CHANGE_CALL_STATE,function(e,o){o==O.UNCALL?q.isCalling=!1:o===O.CALLSUCCESS&&(q.isCalling=!0)}),e.$watch(function(){return q.isEditBarOpen},function(e){e?o.changeEnterEl(".edit-bar-confirm-btn"):o.changeEnterEl(".chatto-action-btn")}),q.showOneBox=function(){t.commLog("profile_record_click",""),L.openModal({openId:r})},q.createCall=function(){q.showChatCall&&!q.isCalling&&(localLog.info("create call from profile",r),o.close(),F({uid:r}))},q.saveRemarkName=function(e){return q.userInstance?q.userInstance.setRemark(e.value).then(function(){return Promise.resolve()},function(){return g.show("修改备注名失败",{type:"error"}),Promise.reject()}):(localLog.error("user instance is not ready when save remark name"),g.show("修改备注名失败",{type:"error"}),Promise.reject())},q.toggleFollow=function(){q.userInstance?q.userInstance.isFollowing?q.userInstance.unFollow().then(function(){},function(){g.show("取消失败",{type:"error"})}):q.userInstance.follow().then(function(){},function(){g.show("关注失败",{type:"error"})}):localLog.error("user instance is not ready when toggle follow")},q.hideMobileNumber=function(e){if(this.user.userPermissionModel.couldShowMobile)return e;if(!e)return"";for(var e=e.toString(),o=e.substring(0,3),r=e.length,i=e.substring(r-4,r),t=r-7,n="",l=0;l<t;l++)n+="*";return o+n+i},q.openPermissionManage=function(e){0===e.permisstionCoWorkerNum&&0===e.permisstionDeptNum||(t.commLog("profile_shareto_click",""),o.close(),D(e))},q.onClickLabel=function(e){t.commLog("profile_lable_click",""),o.close(),k(e)},q.chatTo=function(e){if(q.user.userPermissionModel.canBeSentMsg){var r=[e,$my.uid].sort(function(e,o){return e-o}).join(":");S.trace(r,IMLogType.PROFILE),u.$broadcast("leftpannel.openChatByUid",{uid:e}),i.log("profile_sendmsg_click","uid="+e),t.commLog("profile_sendmsg_click","uid="+e),o.close()}},q.openRequestFriend=function(){if(q.user.friendRequestModel.status==M.NON_RELATION||q.user.friendRequestModel.status==M.RECEIVE_FRIEND_REQUEST||q.user.friendRequestModel.status==M.PHONE_RELATION){q.isOpenAddFriend=!0;var e=$my.userProfileModel.nick;q.addFriendInfo="我是"+e,f(function(){q.focusOnAddFriendInfo=!0},200)}o.changeEnterEl(".add-friend-btn")},q.closeRequestFriend=function(){q.isOpenAddFriend=!1,o.changeEnterEl(".chatto-action-btn")},q.sendFriend=function(e){if(q.addFriendInfo&&e&&!q.isAdding){if(q.addFriendInfo.length>20)return void g.show("验证信息不能超过20个字",{type:"error"});q.isAdding=!0,d.sendFriendRequest({uid:e,source:3,remark:q.addFriendInfo},function(e){200==e.code?q.user.friendRequestModel.status=M.HAVE_SEND_FRIEND_REQUEST:e.body&&e.body.reason&&g.show(e.body.reason,{type:"error"}),q.isAdding=!1,q.isOpenAddFriend=!1,o.changeEnterEl(".chatto-action-btn"),R()})}},q.acceptFriend=function(e){e.preventDefault(),q.userInstance?q.userInstance.acceptFriend().then(function(e){q.user.friendRequestModel.status=M.FRIEND,q.user.userPermissionModel&&(q.user.userPermissionModel.canBeSentMsg=!0),R()}).catch(function(e){e.body&&e.body.reason&&g.show(e.body.reason,{type:"error"})}):localLog.error("user instance is not ready when accept friend")},q.removeFriend=function(){o.close(),m({title:"确认消息",content:"确定要解除好友？解除后会删除与对方的会话记录。",isWarning:!0}).then(function(){q.userInstance?q.userInstance.removeFriend(function(){var e=p.createCid([q.user.userProfileModel.uid,$my.uid]);p.hideConv(e,!1)}):localLog.error("user instance is not ready when remote friend")})},q.sendDing=function(){if(q.showSendDing){var e=[],o=[];e.push(q.user.userProfileModel.uid),o.push(q.user.userProfileModel.uid),E.showModal({selectedUids:e,customUids:o}),t.commLog("profile_bottom_ding_click","")}},q.goApartment=function(e,i){var t={orgId:e,deptId:i,uid:r,staffId:l};w.changeOrgState(t,!0),v.go("authorized.contact.arch"),o.close()},q.onClickAvatar=function(){if(q.user&&q.user.userProfileModel&&q.user.userProfileModel.avatarMediaId){var e=q.user.userProfileModel.avatarMediaId;e&&(y.preview({mediaId:e},null,null,{hideSaveEmotion:!0,hideDownloadBtn:!0,hideSaveToCloud:!0}),o.close())}},q.sendCardToConv=function(){q.user&&q.user.userProfileModel&&(o.close(),N.show(q.user.userProfileModel))},q.showUserOrgEmpMobile=function(e){e._tryShowing||(e._tryShowing=!0,T.getOrgEmpMobile(e.orgDetail.orgId,q.user.userProfileModel.uid,orgEmpMobileSource.PROFILE).result.then(function(o){e.orgEmployeeModel._orgEmpMobile=o.body,e._tryShowing=!1,R()}).catch(function(o){e._tryShowing=!1,g.show("查看失败，请重新尝试",{type:"error"}),localLog.error("getOrgEmpMobile error",JSON.stringify(o)),R()}))},e.$on("$destroy",function(){q.userInstance&&q.userInstance.removeListener(q.userInstance.EventsName.ALIAS_UPDATE,R),q.userInstance&&q.userInstance.removeListener(q.userInstance.EventsName.FOLLOW_UPDATE,P),q.userInstance&&q.userInstance.removeListener(q.userInstance.EventsName.FOLLOW_UPDATE,R)})}]),module.exports=moduleName;

},{"../../component/user/userDingTitleList.js":48,"../../directive/avatar/userAvatar":55,"../../directive/watermark":138,"../../directive/widget/editBar":155,"../../directive/widget/extContactLabel":156,"../../directive/widget/focus":157,"../../service/log/imLog":419,"../../service/log/imLogType":420,"../../service/modal/sendDingModal":472,"../../service/org/OrgNodeType.js":537,"../../service/uriResolve/resolve":628,"../../service/user/my":635,"../../service/watermark/watermarkLocation":654,"../../service/watermark/watermarkType":655,"../chat/chatCallService":272,"../conversation/conversationWithSDK":308,"../events.js":376,"../friend/FriendType":394,"../goldlog/goldlog":399,"../img/imgPreviewService":408,"../log/localLog":421,"../log/lwlog":424,"../mediaId/mediaId":433,"../onebox/oneboxModal.js":489,"../org/orgStateManager":541,"../toast/toast":611,"../user/my":635,"../user/orgEmpMobileSource":637,"../user/userManager":641,"./callSelectorModal.js":446,"./externalLabelEditModal.js":455,"./modal":458,"./permissionManage":463,"./sendCardToConv":471,"@ali/ding-api":711,"lodash":919,"path":7}],467:[function(require,module,exports){
"use strict";var path=require("path"),_=require("lodash"),moduleName="ddWeb.modal.prompt";angular.module(moduleName,[require("./modal")]).factory("$prompt",["$modal",function(e){var t={title:"",message:"",placeholder:"",buttonLabels:["取消","确定"]};return function(o){var o=o||{};o=_.assign({},t,o);var l=e.open({template:'<div class="dialog mini prompt-modal">\n    <div class="head" ng-show="!!Prompt.title">\n        <i class="iconfont close"></i>\n        <span class="title">{{Prompt.title}}</span>\n    </div>\n    <div class="body">\n        <p ng-show="!!Prompt.message">{{Prompt.message}}</p>\n        <textarea placeholder="{{ Prompt.placeholder }}" ng-model="Prompt.value"></textarea>\n    </div>\n    <div class="foot">\n        <button ng-show="label" ng-repeat="label in Prompt.buttonLabels track by $index" class="blue" ng-click="Prompt.ok($index)">{{ label }}</button>\n    </div>\n</div>\n',controller:"PromptCtrl",controllerAs:"Prompt",resolve:{options:function(){return o}}});return l.result}}]).controller("PromptCtrl",["$modalInstance","options",function(e,t){var o=this;this.title=t.title,this.message=t.message,this.placeholder=t.placeholder,this.buttonLabels=t.buttonLabels.slice(0,2),this.value="",this.ok=function(t){e.close({buttonIndex:t,value:o.value})}}]),module.exports=moduleName;

},{"./modal":458,"lodash":919,"path":7}],468:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.quitCompanyModal",path=require("path");require("./modal"),require("../../service/safe/safe"),require("../toast/toast"),angular.module(moduleName,["ddWeb.modal","ddWeb.safe","ddWeb.toast"]).factory("quitCompanyModalService",["$rootScope","$controller","$modal",function(a,e,n){function l(a,e){var l=n.open({template:'<div class="dialog middle">\n    <div class="head">\n        <i class="iconfont close"></i>\n        <span class="title">申请退出</span>\n    </div>\n    <div class="body">\n        <div class="quit-company-container">\n            <p class="reminder-bar">请选择退出原因：<span class="stress">*</span></p>\n            <ul class="reasons clearfix">\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="11"/>\n                    <label>离职</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="12"/>\n                    <label>非企业员工</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="13"/>\n                    <label>广告骚扰</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="14"/>\n                    <label>欺诈</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="15"/>\n                    <label>政治</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="16"/>\n                    <label>其它</label>\n                </li>\n            </ul>\n            <p class="reminder-bar">其它补充（选填）</p>\n            <textarea class="textarea extro-reason" ng-model="quitCompanyCtrl.reasonExtra"></textarea>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="quitCompanyCtrl.goConfirm()" ng-disabled="quitCompanyCtrl.radioName === \'\'" ng-class="{\'disabled\':quitCompanyCtrl.radioName === \'\'}">确定</button>\n    </div>\n</div>',controller:"quitCompanyCtrl",controllerAs:"quitCompanyCtrl",resolve:{authLevel:function(){return a},oid:function(){return e}}});return l.result}return{showModal:l}}]).controller("quitCompanyCtrl",["$rootScope","$modalInstance","authLevel","oid","safe","toastService",function(a,e,n,l,o){var t=this;t.authLevel=n,t.oid=l,t.radioName="",t.reasonExtra="",t.goConfirm=function(){t.quitModel={orgId:t.oid,reason:o.escapeHTML(t.reasonExtra),code:t.radioName},t.confirmPopup=!0,e.close(t.quitModel)}}]),module.exports=moduleName;

},{"../../service/safe/safe":545,"../toast/toast":611,"./modal":458,"path":7}],469:[function(require,module,exports){
"use strict";var moduleName="ddWeb.modal.selectCardToBeSend",serviceName="selectCardToBeSend";angular.module(moduleName,[require("../selectorPanel/PanelType"),require("./selectPanelModal"),require("../toast/toast"),require("../user/userManager")]).factory(serviceName,["PanelType","selectPanelModal","toastService","userManager",function(e,r,a,l){var t=function(a){var t={window:{title:"选择发送的名片",closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[e.ORG,e.FRIEND,e.EXTERNAL_CONTACT],lockedIds:{cids:[]},customUids:[]},selectorBar:{display:!0,placeholder:"搜索，只可单选"},type:"SELECT_ALL_USER",multiple:!1,callbacks:{}};return r(t).then(function(e){return e.forEach(function(e){var r=e.model.uid;l.getUserWithExt(r).then(function(e){a.sendCardMsg(e.userProfileModel)})}),Promise.resolve()})};return{show:t}}]),module.exports=moduleName;

},{"../selectorPanel/PanelType":590,"../toast/toast":611,"../user/userManager":641,"./selectPanelModal":470}],470:[function(require,module,exports){
"user strict";var moduleName="ddWeb.modal.selectPanelModal",serviceName="selectPanelModal",path=require("path");require("../../service/selectorPanel/PanelType"),require("../../service/tool/multiOrgTool"),require("../../service/user/userManager");var $my=require("../user/my"),SearchBarEvents=require("../../service/search/bar/SearchBarEvents"),_=require("lodash");angular.module(moduleName,[require("./modal"),"ddWeb.service.PanelType",require("../selectorPanel/selected/selectedList"),require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("../../service/search/search/SearchType"),require("../../service/mediaId/mediaId"),require("../../service/widget/avatarExplainer"),require("../../directive/selectorPanel/selectorPanel"),"ddWeb.user.userManager"]).factory(serviceName,["$modal",function(e){return function(t){var l=e.open({template:'<div class="dialog select-panel-modal">\n    <div class="head">\n        <i class="iconfont close"></i>\n        <span class="title">{{selectPanelModal.option.window.title}}</span>\n    </div>\n    <div class="body">\n        <div\n            ng-if="selectPanelModal.option.selectorPanel.display"\n            selector-panel\n            menu-data="selectPanelModal.menuData"\n            custom-uids="selectPanelModal.customUids"\n            selected-list="selectPanelModal._SelectedList"\n            is-multiple = "selectPanelModal.multiple"\n            show-company-name-conf = "selectPanelModal.showCompanyNameConf"\n        ></div>\n        <div class="selector-and-content">\n            <div class="selector-choices-wrapper" ng-if="selectPanelModal.option.selectorBar.display" ng-class = "{\'no-content\':!selectPanelModal.option.contentBox.display}">\n                <selector-bar\n                          selected-list="selectPanelModal._SelectedList"\n                          search-state="selectPanelModal.searchState"\n                          menu-data="selectPanelModal.menuData"\n                          search-type="selectPanelModal.searchType"\n                          placeholder="{{selectPanelModal.option.selectorBar.placeholder}}"\n                          custom-uids="selectPanelModal.customUids"\n                          is-searching="selectPanelModal.isSearching"\n                          >\n                </selector-bar>\n                <span class="select-user-count" ng-class=""><i class="iconfont loop-loading selector-bar-loading" ng-if="selectPanelModal.isSearching">&#xe657;</i><span>{{selectPanelModal._SelectedList.getSelected().length}}/{{selectPanelModal.max}}</span></span>\n            </div>\n            <div class="content-wrapper" ng-if="selectPanelModal.option.contentBox.display">\n                <textarea class="textarea select-text" ng-model="selectPanelModal.content" ng-disabled="selectPanelModal.option.contentBox.defaultContent"></textarea>\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button ng-click="selectPanelModal.submit()" ng-disabled="selectPanelModal.lockedIds.length === 0 && selectPanelModal._SelectedList.getSelected().length===0">确定</button>\n    </div>\n</div>\n',controller:"selectPanelModalCtrl",controllerAs:"selectPanelModal",resolve:{option:function(){return t}},closable:t.window.closable,autofocus:t.window.autofocus});return l.result}}]).controller("selectPanelModalCtrl",["$modalInstance","$scope","option","SelectedList","selectedItemFactory","selectedItemType","multiOrgTool","PanelType","SearchType","mediaId","avatarExplainer","userManager",function(e,t,l,n,s,a,o,i,r,c,d,u){function m(e,t){var l=e.indexOf(t);l!==-1&&e.splice(l,1)}function p(){var e=l.selectorPanel.panelTypes;if(!P){var t=[i.ORG];t.forEach(function(t){m(e,t)})}if("SELECT_USER"===S){var n=l.orgId;n||m(e,i.ORG)}if("SELECT_ORG_USER"===S){var s=[i.FRIEND,i.CUSTOM];s.forEach(function(t){m(e,t)})}if("SELECT_CONVERSATION"===S){var n=l.orgId;n||m(e,i.ORG)}if("SELECT_ALL_USER"===S){var s=[i.FRIEND,i.ORG,i.EXTERNAL_CONTACT];e=e.filter(function(e){return s.indexOf(e)>=0})}return h(e),e}function h(e){var t=[],l=e.indexOf(i.CUSTOM)!==-1,n=1===e.length&&e.indexOf(i.EXTERNAL_CONTACT)!==-1;l?t.push(r.CUSTOM):("SELECT_ORG_USER"===S||n||t.push(r.LOCAL),e.forEach(function(e){switch(e){case i.ORG:t.push(r.ORG);break;case i.FRIEND:t.push(r.FRIEND);break;case i.CONV:t.push(r.GROUP),t.push(r.ORG),t.push(r.FRIEND);break;case i.EXTERNAL_CONTACT:t.push(r.EXTERNAL_CONTACT)}})),f.searchType=_.uniq(t)}function g(){var e=null,t=l.orgId;if(t){var n=[],s=$my.getOrgByOid(t);if(s?n.push(s):(m(y,i.ORG),console.log("你不在这个企业内或者ID"+t+"出错")),0===n.length){var a=o.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees),r=o.getCurrentOrgData(a[0],a);n.push(r)}else e=o.convertOrgEmployeeExtensionModelListToOrgDataList(n)}else"SELECT_ALL_USER"===S&&(e=o.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees));return e}function v(){f.menuData={panelTypeArr:y,orgDataArr:T}}function E(){var e=f._SelectedList.getSelected(),t={conversations:[],content:""};return e.forEach(function(e){if(e.type===a.GROUP)var l={conversationId:e.model.conversationId,title:e.text};else if(e.type===a.USER){var n=e.model.uid+":"+$my.userProfileModel.uid;parseInt(e.model.uid)>parseInt($my.userProfileModel.uid)&&(n=$my.userProfileModel.uid+":"+e.model.uid);var l={conversationId:n,title:e.text};l.iconPromise=Promise.resolve(l.icon)}t.conversations.push(l)}),t.content=f.content,t}var f=this;this.option=l,this.isSearching=!1,this.multiple=l.multiple,this.max=l.max;var S=l.type,P=$my.orgEmployees&&$my.orgEmployees.length,y=null,T=null;f.customUids=l.selectorPanel.customUids,f.content=this.option.contentBox.defaultContent,f.canSubmit=!1,this.showCompanyNameConf=l.selectorPanel.showCompanyNameConf,this.selectedUids=l.selectorPanel.selectedUids||[],this.disabledUids=l.selectorPanel.disabledUids||[],y=p(),T=g(),v();var M=_.get(l,"selectorPanel.lockedIds.uids"),O=_.get(l,"selectorPanel.lockedIds.cids"),I=[],L=[];M&&M.length>0&&(I=M.map(function(e){return s.genSelectedItem(a.USER,e,!0)})),O&&O.length>0&&(L=O.map(function(e){if(e.indexOf(":")!==-1){var t=e.split(":");if($my.userProfileModel.uid===parseInt(t[0]))var l=t[1];else var l=t[0];return s.genSelectedItem(a.USER,l,!0)}return s.genSelectedItem(a.GROUP,e,!0)}));var C=I.concat(L);f.lockedIds=C,this.multiple||(this.max=1),this._SelectedList=new n([],C,this.max,l.limitTips),_.get(l,"callbacks.onItemSelectValidate")&&this._SelectedList.addCustomValidCallback(_.get(l,"callbacks.onItemSelectValidate")),Array.isArray(this.selectedUids)&&0!==this.selectedUids.length&&u.getUsers(f.selectedUids).then(function(e){var l=e.map(function(e){return s.genSelectedItem(a.USER,e)});f._SelectedList.addItems(l),t.$digest()}),Array.isArray(this.disabledUids)&&0!==this.disabledUids.length&&u.getUsers(f.disabledUids).then(function(e){var l=e.map(function(e){return s.genSelectedItem(a.USER,e)});f._SelectedList.disableItems(l),t.$digest()}),this.submit=function(){"SELECT_USER"===S||"SELECT_ORG_USER"===S||"SELECT_ALL_USER"===S?e.close(f._SelectedList.getSelected()):"SELECT_CONVERSATION"===S&&e.close(E())};var R=function(){try{t.$digest()}catch(e){}};t.$on(SearchBarEvents.IS_SEARCHING,function(e,t){f.isSearching=t,R()})}]),module.exports=moduleName;

},{"../../directive/selectorPanel/selectorPanel":135,"../../service/mediaId/mediaId":433,"../../service/search/bar/SearchBarEvents":566,"../../service/search/search/SearchType":583,"../../service/selectorPanel/PanelType":590,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/tool/multiOrgTool":614,"../../service/user/userManager":641,"../../service/widget/avatarExplainer":657,"../selectorPanel/selected/selectedList":596,"../user/my":635,"./modal":458,"lodash":919,"path":7}],471:[function(require,module,exports){
"use strict";var moduleName="ddWeb.modal.sendCardToConv",serviceName="sendCardToConv";angular.module(moduleName,[require("../selectorPanel/PanelType"),require("./selectPanelModal"),require("../toast/toast"),require("../conversation/conversationWithSDK")]).factory(serviceName,["PanelType","selectPanelModal","toastService","conversationWithSDK",function(e,n,o,t){var r=function(r){var s={window:{title:"选择会话",closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[e.CONV],lockedIds:{cids:[]},customUids:[]},selectorBar:{display:!0,placeholder:"搜索会话，支持发送名片到多个会话"},type:"SELECT_CONVERSATION",max:50,multiple:!0,callbacks:{}};n(s).then(function(e){var n=[],s={};if(e.conversations&&Array.isArray(e.conversations)){n=e.conversations.map(function(e){return e.conversationId}),e.conversations.forEach(function(e){s[e.conversationId]=e.title});var a=n.map(function(e){return t.getConvById(e).then(function(n){return n.sendCardMsg(r).then(function(n){return{success:!0,conversationId:e}}).catch(function(n){return{success:!1,conversationId:e}})})});Promise.all(a).then(function(e){var n=e.filter(function(e){return e.success===!1}),t=e.filter(function(e){return e.success===!0});if(0===n.length)o.show("名片发送到 "+s[t[0].conversationId]+" 等会话成功",{type:"success"});else if(n.length>=2){var r=" ";r=s[n[0].conversationId]+", "+s[n[1].conversationId]+" ",o.show("名片发送到"+r+"等会话失败",{type:"error"})}else o.show("名片发送到 "+s[n[0].conversationId]+" 失败",{type:"error"})})}})};return{show:r}}]),module.exports=moduleName;

},{"../conversation/conversationWithSDK":308,"../selectorPanel/PanelType":590,"../toast/toast":611,"./selectPanelModal":470}],472:[function(require,module,exports){
"use strict";var moduleName="ddWeb.modal.sendDingModal",moment=require("moment"),path=require("path"),_=require("lodash"),GlobalUrl=require("../../service/globalUrl"),DingCommentAuthType=require("../../service/ding/DingCommentAuthType");require("./modal");var $my=require("../user/my");require("../ding/dinglist"),require("../../directive/selectorPanel/selectorPanel"),require("../../service/selectorPanel/PanelType"),require("../../service/tool/modelHelper"),require("../../service/tool/multiOrgTool"),require("../../service/search/search/SearchType"),require("../../service/widget/selectorBar/selectorBarTool"),require("../../service/user/userManager"),require("../../directive/widget/selectorBar"),require("../../service/widget/selectorBar/ActionType"),require("../../service/toast/toast"),require("../../service/goldlog/goldlog"),require("../../service/log/lwlog.js");var SearchBarEvents=require("../../service/search/bar/SearchBarEvents"),CONTENT_TYPE=require("../../service/ding/DingContentType"),ContentType=require("../../service/conversation/ContentType"),limitConfig=require("../../service/limitConfig"),app=angular.module(moduleName,["ddWeb.modal","ddWeb.ding",require("../../component/ding/sendDing/dingAttachmentUpload"),"ddWeb.selectorPanel","ddWeb.service.PanelType","ddWeb.service.modelHelper","ddWeb.service.multiOrgTool","ddWeb.service.SearchType","ddWeb.user.userManager","ddWeb.service.selectorBarTool","ddWeb.widget.selectorBar","ddWeb.service.ActionType",require("./confirm"),require("../../directive/sendDing/datetimePicker"),"ddWeb.toast","ddWeb.goldlog","ddWeb.log.lwlog",require("../selectorPanel/selected/selectedList"),require("../../service/selectorPanel/selected/selectedItemFactory"),require("../../service/selectorPanel/selected/selectedItemType"),require("../ding/DingAttachmentType"),require("../../service/ding/DingAttachmentManager")]);app.factory("sendDingModalService",["$modal","$confirm","dinglist","toastService",function(e,n,t,i){function d(t){var t=t||{};t._hasEdited=!1;var i=e.open({template:'<div class="dialog send-ding-box">\n    <div class="head">\n        <i class="iconfont close"></i>\n        <span class="title" ng-if="!sendDing.isDingAgain">DING一下</span>\n        <span class="title" ng-if="sendDing.isDingAgain">请选择再次提醒对象</span>\n    </div>\n    <div class="body">\n        <div\n            selector-panel\n            menu-data="sendDing.menuData"\n            locked-ids="sendDing.lockedIds"\n            custom-uids="sendDing.customUids"\n            selected-list="sendDing._SelectedList"\n        ></div>\n        <div class="selector-and-content">\n            <div class="selector-choices-wrapper">\n            <selector-bar \n                          search-state="sendDing.searchState"\n                          menu-data="sendDing.menuData"\n                          filter-data="sendDing.filterData"\n                          search-type="sendDing.searchType"\n                          locked-ids="sendDing.lockedIds"\n                          placeholder="搜索名字、拼音、手机号..."\n                          action-type="sendDing.actionType"\n                          custom-uids="sendDing.customUids"\n                          is-searching="sendDing.isSearching"\n                          selected-list="sendDing._SelectedList"\n                          >\n                </selector-bar>\n                <span class="select-user-count" ng-class="{\'select-user-err-count\':sendDing._SelectedList.getSelected().length>sendDing.remainNumByPerson}"><i class="iconfont loop-loading selector-bar-loading" ng-if="sendDing.isSearching">&#xe657;</i>{{sendDing._SelectedList.getLocked().length+sendDing._SelectedList.getSelected().length}}/{{sendDing.remainNumByPerson}}</span>\n            </div>\n            <div class="content-wrapper">\n                <div class="audio-box clearfix" ng-if="sendDing.contentType=== sendDing.CONTENT_TYPE.AUDIO">\n                    <audio-player audio-media-id="sendDing.audioMediaId" audio-duration="sendDing.audioDuration" log="ding_voice_play"></audio-player>\n                </div>\n                <textarea ng-if="sendDing.contentType===sendDing.CONTENT_TYPE.TEXT" class="textarea ding-text" ng-change="sendDing.onContentChange()" ng-model="sendDing.content" ng-disabled="sendDing.disableEdit"></textarea>\n                <ding-attachment-upload ding-attachment-manager="sendDing.dingAttachmentManager" disable-upload="sendDing.disableUpload"></ding-attachment-upload>\n            </div>\n        </div>\n        <div class="clearfix notice-time-type" ng-class="{\'definte-notice-time\':sendDing.currentTimeMode.type===\'DEFINITETIME\', \'date-picker-hide\': !sendDing.dtPickerShow}">\n            <dd-drop-down\n                class="notice-time"\n                repeat-data="sendDing.DATETIME"\n                on-select="sendDing.onSelectTimeMode"\n                ng-model="sendDing.currentTimeMode"\n                ng-if="!sendDing.isDingAgain"\n                >\n                <dd-drop-down-match class="eye selected-country">\n                    <span class="rem">发送时间：</span>\n                    <span class="choiced-content">{{$selectItem.text}}</span>\n                    <i class="iconfont tri">&#xe633;</i>\n                </dd-drop-down-match>\n                <dd-drop-down-choices>\n                    <span class="menu">{{$repeatItem.text}}</span>\n                </dd-drop-down-choices>\n            </dd-drop-down>\n            <div date-time-picker ng-if="sendDing.currentTimeMode.type===\'DEFINITETIME\'" time="sendDing.currentTime" on-dt-picker-show="sendDing.onDtPickerShow()" on-dt-picker-close="sendDing.onDtPickerClose()"></div>\n            <dd-drop-down\n                class="notice-type"\n                repeat-data="sendDing.NOTITYPE"\n                is-watch-repeat="true"\n                on-before-select="sendDing.onBeforeSelectNotitype"\n                on-select="sendDing.onSelectNotitype"\n                ng-model="sendDing.currentNotitype"\n                >\n                <dd-drop-down-match class="eye selected-country">\n                    <span class="rem">发送方式：</span>\n                    <span class="choiced-content">{{$selectItem.text}}</span>\n                    <i class="iconfont tri">&#xe633;</i>\n                </dd-drop-down-match>\n                <dd-drop-down-choices>\n                  <span class="menu" ng-show="$repeatItem.type !== \'TIPS\'">{{$repeatItem.text}}</span>\n                  <span class="menu-tips" ng-show="$repeatItem.type === \'TIPS\'">\n                    <p class="menu-tips-text">短信/电话提醒余额不足</p>\n                    <a class="menu-tips-link" href={{$repeatItem.link}} target="_blank">了解更多</a>\n                  </span>\n                </dd-drop-down-choices>\n            </dd-drop-down>\n\n            <dd-drop-down\n                class="notice-reply"\n                repeat-data="sendDing.REPLY_TYPE"\n                is-watch-repeat="true"\n                on-select="sendDing.onSelectReplyType"\n                ng-model="sendDing.currentReplyType"\n                >\n                <dd-drop-down-match class="eye selected-country">\n                    <span class="rem">悄悄话模式：</span>\n                    <span class="choiced-content">{{$selectItem.text}}</span>\n                    <i class="iconfont tri">&#xe633;</i>\n                </dd-drop-down-match>\n                <dd-drop-down-choices>\n                  <span class="menu" ng-show="$repeatItem.type !== \'TIPS\'">{{$repeatItem.text}}</span>\n                </dd-drop-down-choices>\n            </dd-drop-down>\n        </div>\n        <span class="ding-again-tips" ng-if="sendDing.isDingAgain">再次提醒将不会创建一个新的DING</span>\n    </div>\n    <div class="foot">\n        <button ng-disabled="(sendDing._SelectedList.getLocked().length+sendDing._SelectedList.getSelected().length===0||sendDing._SelectedList.getLocked().length+sendDing._SelectedList.getSelected().length>sendDing.remainNumByPerson||(sendDing.filesList.length!=0&&!sendDing.isUploadFinish)||sendDing.disableSend)" ng-click="sendDing.submit()">\n            <span ng-if="!sendDing.isDingAgain">发送</span>\n            <span ng-if="sendDing.isDingAgain">再次发送</span>\n        </button>\n    </div>\n</div>\n',controller:"sendDingModalCtrl",controllerAs:"sendDing",resolve:{option:function(){return t||{}}},closable:!0,autofocus:!1,beforeDismiss:function(){return!t._hasEdited||n({content:"关闭会清空你的输入信息，是否确认？"})}});return i.result}function s(e){t.getDingById(e,function(n){var t=_.get(n,"receiverList.unConfirmList")||[];t=t.filter(function(e){return e.statusCode>=10}).map(function(e){return e.user.userProfileModel.uid}),0===t.length?i.show("当前没有可以再次 DING 的人",{type:"error"}):d({did:e,disableEdit:!0,isDingAgain:!0,customUids:t,selectedUids:t,dingAttachments:n.dingAttachments})})}return{showModal:d,dingAgain:s}}]),app.controller("sendDingModalCtrl",["$modalInstance","option","dinglist","PanelType","modelHelper","multiOrgTool","SearchType","userManager","selectorBarTool","ActionType","$scope","$confirm","toastService","$state","goldlog","lwlog","SelectedList","selectedItemFactory","selectedItemType","DingAttachmentType","DingAttachmentManager",function(e,n,t,i,d,s,r,o,a,c,l,g,m,p,u,y,T,h,D,E,v){function I(e){var n=e.uidAttr,t=e.notiType,i=e.remindTime,d=e.content,s=e.mid,r=e.did,o=e.cid;if(b.disableSend=!0,b.isUploadFinish=!0,b.isDingAgain)return void N(r,n,t);if(s&&""!=s){var a={commentAuth:M[b.currentReplyType.type],remindTime:i,attachments:b.dingAttachmentManager.getDingAttachments(),extension:{msgId:s,cid:o}};S(n,t,d,a)}else{var a={commentAuth:M[b.currentReplyType.type],remindTime:i,attachments:b.dingAttachmentManager.getDingAttachments()};f(n,t,d,a)}}function f(e,n,i,d){t.sendTextDing(e,n,i,d,A)}function S(e,n,i,d){t.msgToDing(e,n,i,d,A)}function N(n,i,d){t.dingAgain(n,i,d,function(n,t){if(n)e.close(),m.show("再次提醒成功",{type:"success"});else{b.disableSend=!1;var i=_.get(t,"body.reason");m.show(i||"再次提醒失败",{type:"error"})}l.$digest()})}function A(n,t){if(n)e.close(),p.go("authorized.ding.send"),u.log("mainpage_sendDing_create_click","dingId="+t.body.dingId),y.commLog("mainpage_sendDing_create_click","dingId="+t.body.dingId);else{if(b.disableSend=!1,408==t.code)return void(t.body&&t.body.reason?m.show(t.body.reason,{type:"error"}):m.show("请求超时",{type:"error"}));t.body&&t.body.reason&&m.show(t.body.reason,{type:"error"})}l.$digest()}this.disableSubmit=void 0===n.disableSubmit||n.disableSubmit;var b=this;this.uidAttr=[],this.selectedUids=n.selectedUids||[],this.lockedIds=n.lockedIds||[],this.customUids=n.customUids||[],this.content=n.content||"",this.msgId=n.msgId,this.did=n.did,this.cid=n.cid,this.isSearching=!1,this.disableEdit=n.disableEdit||!1,this.isDingAgain=n.isDingAgain||!1,this.contentType=n.contentType||1,this.disableUpload=n.disableEdit||n.disableUpload||!1,this.filterData=n.filterData,this.filesList=[],this.CONTENT_TYPE=ContentType,this.dingAttachmentManager=new v({limit:limitConfig.DING_ATTACHMENT_LIMIT}),n.dingAttachments&&_.isArray(n.dingAttachments)&&(this.attachment=n.dingAttachments[0],this.dingAttachmentManager.addAttachment(this.attachment));var P=function(){try{l.$evalAsync()}catch(e){}};this._SelectedList=new T([],this.lockedIds),this.did?t.getDingById(this.did,function(e){b.contentType=_.get(e,"dingEntity.data.contentType"),e.dingEntity.data.contentType===CONTENT_TYPE.TEXT?b.content=_.get(e,"dingEntity.data.textContent.text"):e.dingEntity.data.contentType===CONTENT_TYPE.AUDIO&&(b.audioMediaId=_.get(e,"dingEntity.data.audioContent.mediaId"),b.contentType=ContentType.AUDIO,b.audioDuration=parseInt(_.get(e,"dingEntity.data.audioContent.duration")/1e3));try{l.$digest()}catch(e){}}):this.contentType===ContentType.AUDIO&&(this.audioMediaId=_.get(this.content,"mediaId"),this.audioDuration=parseInt(_.get(this.content,"duration")/1e3)),0!==this.selectedUids.length&&o.getUsers(b.selectedUids).then(function(e){var n=e.map(function(e){return h.genSelectedItem(D.USER,e)});b._SelectedList.addItems(n),l.$digest()}),b.remainNumByPerson=b.remainNumByOrg=50,$my.userProfileModel.isOrgUser?b.remainNumByPerson=b.remainNumByOrg=600:$my.orgEmployees&&$my.orgEmployees.length>0?b.remainNumByPerson=b.remainNumByOrg=100:b.remainNumByPerson=b.remainNumByOrg=50,t.canSendDingToday(function(e,n){e?console.log(e):(b.remainNumByOrg=n.remainNumByOrg,b.remainNumByPerson=n.remainNumByPerson),C(),l.$digest()});var L=null,w=null;this.customUids&&0!=this.customUids.length?(L=n.panelTypeArr||[i.CUSTOM],w=n.orgDataArr||[],this.searchType=n.searchType||[r.CUSTOM]):d.isOrgUser($my)?(L=[i.ORG,i.FRIEND,i.EXTERNAL_CONTACT],w=s.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees),this.searchType=[r.ORG,r.FRIEND,r.LOCAL,r.EXTERNAL_CONTACT]):(L=n.panelTypeArr||[i.FRIEND],this.searchType=n.searchType||[r.FRIEND,r.LOCAL]),b.menuData={panelTypeArr:L,orgDataArr:w},b.isUploadFinish=!0,b.dingFileModelList=[];var M=DingCommentAuthType;b.REPLY_TYPE=[{text:"关",type:"OFF"},{text:"开",type:"ON"}],b.currentReplyType=b.REPLY_TYPE[0],b.onSelectReplyType=function(e){b.currentReplyType=e,y.commLog("ding_send_private_click")};var O=[{text:"电话",type:"TEL"},{text:"短信",type:"SMS"},{text:"应用内",type:"APP"}];b.NOTITYPE=O;var C=function(){var e=b._SelectedList.getLocked().length+b._SelectedList.getSelected().length;e>=b.remainNumByPerson?b.NOTITYPE=[{type:"TIPS",link:GlobalUrl.DING_TIPS}]:e>=b.remainNumByOrg?b.NOTITYPE=[{text:"应用内",type:"APP"},{type:"TIPS",link:GlobalUrl.DING_TIPS}]:b.NOTITYPE=O,P()};if(b._SelectedList.EventEmitter.on(b._SelectedList.EventsName.UNSELECTED_ITEMS,C),b._SelectedList.EventEmitter.on(b._SelectedList.EventsName.SELECTED_ITEMS,C),b.currentNotitype=b.NOTITYPE[2],void 0!=n.alertType&&_.isNumber(n.alertType)&&b.NOTITYPE[n.alertType]&&(b.currentNotitype=b.NOTITYPE[n.alertType]),b.onSelectNotitype=function(e){sessionStorage.setItem("ding_notiType",JSON.stringify({text:e.text,type:e.type})),b.currentNotitype=e},b.onBeforeSelectNotitype=function(e){return"TIPS"===e.type?Promise.reject(new Error("unselected item")):Promise.resolve()},b.DATETIME=[{text:"立即发送",type:"RIGHTNOW"},{text:"在指定时间发送",type:"DEFINITETIME"}],b.currentTimeMode=b.DATETIME[0],b.currentTime=null,n.alertDate&&n.alertDate.value&&n.alertDate.format){var x=moment(n.alertDate.value,n.alertDate.format).format("YYYY-MM-DD HH:mm");x&&(b.currentTime=x,b.currentTimeMode=b.DATETIME[1])}b.submit=function(e){if(y.commLog("ding_list_ding_send_click"),0===b.content.length&&b.contentType!==ContentType.AUDIO)return void m.show("请输入文字",{type:"error"});if(b.dingAttachmentManager.isUploading())return void m.show("附件正在上传",{type:"error"});var n=null;return n=b.currentTime&&"RIGHTNOW"!==b.currentTimeMode.type?moment(b.currentTime,"YYYY-MM-DD HH:mm").valueOf():null,b.uidAttr=b._SelectedList.getSelected().concat(b._SelectedList.getLocked()).map(function(e){return e.model.uid||""}),b.content.length>5e3?void m.show("DING文字不能超过5000字",{type:"information"}):void("TEL"===b.currentNotitype.type&&b.uidAttr.length>40?g({title:"建议你使用短信或应用内提示",content:"电话通知的人数较多，对方未及时接听可能产生多个来电回拨",confirmText:"继续发送",cancelText:"取消"}).then(function(){I({uidAttr:b.uidAttr,notiType:b.currentNotitype.type,remindTime:n,content:b.content,mid:b.msgId,cid:b.cid,did:b.did})}):I({uidAttr:b.uidAttr,notiType:b.currentNotitype.type,remindTime:n,content:b.content,mid:b.msgId,cid:b.cid,did:b.did}))},b.onContentChange=function(){b.content.length>0?n._hasEdited=!0:n._hasEdited=!1},b.dtPickerShow=!1,b.onDtPickerShow=function(){b.dtPickerShow=!0},b.onDtPickerClose=function(){b.dtPickerShow=!1},l.$on(SearchBarEvents.IS_SEARCHING,function(e,n){b.isSearching=n,P()}),l.$on("$destroy",function(){b._SelectedList.EventEmitter.off(b._SelectedList.EventsName.UNSELECTED_ITEMS,C),b._SelectedList.EventEmitter.off(b._SelectedList.EventsName.SELECTED_ITEMS,C)})}]),module.exports=moduleName;

},{"../../component/ding/sendDing/dingAttachmentUpload":32,"../../directive/selectorPanel/selectorPanel":135,"../../directive/sendDing/datetimePicker":136,"../../directive/widget/selectorBar":188,"../../service/conversation/ContentType":293,"../../service/ding/DingAttachmentManager":334,"../../service/ding/DingCommentAuthType":336,"../../service/ding/DingContentType":337,"../../service/globalUrl":398,"../../service/goldlog/goldlog":399,"../../service/limitConfig":414,"../../service/log/lwlog.js":424,"../../service/search/bar/SearchBarEvents":566,"../../service/search/search/SearchType":583,"../../service/selectorPanel/PanelType":590,"../../service/selectorPanel/selected/selectedItemFactory":594,"../../service/selectorPanel/selected/selectedItemType":595,"../../service/toast/toast":611,"../../service/tool/modelHelper":613,"../../service/tool/multiOrgTool":614,"../../service/user/userManager":641,"../../service/widget/selectorBar/ActionType":665,"../../service/widget/selectorBar/selectorBarTool":672,"../ding/DingAttachmentType":335,"../ding/dinglist":359,"../selectorPanel/selected/selectedList":596,"../user/my":635,"./confirm":447,"./modal":458,"lodash":919,"moment":923,"path":7}],473:[function(require,module,exports){
"use strict";var path=require("path"),ua=require("../ua");require("./modal");var nw=require("../app/nw"),storage=require("../storage/storage"),versionCmp=require("../app/versionCmp");require("../notification"),require("../app/appAutoRun"),require("../tool/tool"),require("../toast/toast");var EVENTS=require("../events"),muitiLanguage=require("../pcMedusaService/medusa"),limitConfig=require("../limitConfig"),semver=require("semver"),ddStorage=require("../storage/ddStorage");angular.module("ddWeb.modal.settingModal",["ddWeb.modal","ddWeb.notification","ddWeb.appAutoRun","ddWeb.service.tool","ddWeb.toast",require("../../directive/widget/hotkey"),require("../widget/hotkeyManager"),require("../../directive/widget/radiobox"),require("../../service/modal/detector"),require("../../directive/widget/updateCheck/updateChecker")]).factory("settingModal",["$modal",function(t){return function(e){var n=t.open({template:' <div class="dialog mini">\n     <div class="head">\n         <i class="iconfont close"></i>\n         <span class="title">设置</span>\n     </div>\n     <div class="body">\n         <div class="settings">\n             <div class="setting-item desk-notice" ng-if="settingModal.settingSwitcher.notification">\n                 <span class="rem">桌面通知权限</span>\n                 <div class="toggle" dd-checkbox ng-model="settingModal.localSetting.notification">\n                     <label></label>\n                 </div>\n             </div>\n             <div class="setting-item desk-notice" ng-if="settingModal.settingSwitcher.dingEmailNotification">\n                 <span class="rem">钉邮桌面通知</span>\n                 <div class="toggle" dd-checkbox ng-model="settingModal.localSetting.dingEmailNotification">\n                     <label></label>\n                 </div>\n             </div>\n             <div class="setting-item reminder-voice" ng-if="settingModal.settingSwitcher.beep">\n                 <span class="rem">打开提示音</span>\n                 <div class="toggle" dd-checkbox ng-model="settingModal.localSetting.beep">\n                     <label></label>\n                 </div>\n             </div>\n\n             <hotkey ng-repeat = "item in settingModal.hotkeyEditState" hotkey-setting="settingModal.localSetting[item.key]" identifier="{{item.key}}" ng-if="item.value"></hotkey>\n\n             <div class="setting-item" ng-if="settingModal.settingSwitcher.autorun">\n                 <span class="rem">开机自动启动<span ng-if="!settingModal.canSetAutoRun" class="autorun-open-label">（此版本不支持，请到官网下载新版本）</span></span>\n                 <div class="toggle" dd-checkbox ng-model="settingModal.localSetting.autorun">\n                     <label></label>\n                 </div>\n             </div>\n\n            <div class="dd-lang-setting">\n                    <span class="changelang">切换语言(beta)</span>\n                    <div class="cleaning-input">\n                        <dd-drop-down\n                        class="lang-select"\n                        repeat-data="settingModal.LANGS"\n                        on-select="settingModal.onSelectLangType"\n                        ng-model="settingModal.selectLangType"\n                        >\n                            <dd-drop-down-match class="eye">\n                                <span class="choiced-content">{{$selectItem.text}}</span>\n                                <i class="iconfont lang-select-icon">&#xe633;</i>\n                            </dd-drop-down-match>\n                            <dd-drop-down-choices>\n                                <span class="menu">{{$repeatItem.text}}</span>\n                            </dd-drop-down-choices>\n                        </dd-drop-down>\n                    </div>\n                    <pre class="lang-restart-tip">重新启动钉钉后生效</pre>\n             </div> \n\n             <div class="setting-item clearfix">\n                 <span class="rem">发送消息快捷键</span>\n                 <div class="radio-list">\n                     <dd-radiobox ng-model="settingModal.localSetting.sendMessageShortcut" value="Enter">\n                         Enter 发送 , Ctrl+Enter 换行\n                     </dd-radiobox>\n                     <dd-radiobox ng-model="settingModal.localSetting.sendMessageShortcut" value="Ctrl+Enter">\n                         Enter 换行 , Ctrl+Enter 发送\n                     </dd-radiobox>\n                 </div>\n             </div>\n\n             \n\n             <div class="dd-version-item">\n                 <span ng-if="settingModal.isDesktop">v{{settingModal.nwversion}}</span>\n                 <span ng-if="!settingModal.isDesktop">v{{settingModal.ddVersion}}</span>\n                 <update-checker ng-if="settingModal.isDesktop" class="dd-update-checker"></update-checker>\n                 <span ng-click="settingModal.networkTest()" class="dd-network-test">网络检测</span>\n             </div>\n         </div>\n     </div>\n     <div class="foot">\n         <button class="blue" ng-click="settingModal.submitSetting()">确定</button>\n     </div>\n </div>\n',controller:"settingModalCtrl",controllerAs:"settingModal",resolve:{}});return n.result}}]).controller("settingModalCtrl",["$modalInstance","$timeout","detectorModalService","notification","appAutoRun","hotkeyManager","tool","toastService","$rootScope",function(t,e,n,i,a,o,s,l,c){function d(){f.isDesktop&&ua.isWin&&(f.canSetAutoRun=!0)}function r(){h.forEach(function(t){t.value&&o.setHotkey(t.key,f.localSetting[t.key])})}function g(){h.forEach(function(t){t.value&&(f.localSetting[t.key]=o.getHotkey(t.key).value)})}function u(){var t=[],e="快捷键不能重复";if(h.forEach(function(e){e.value&&t.push(f.localSetting[e.key])}),p(t))return!0;var n=function(t,e){return t&&e&&t===e};return!s.hasRepeatItem(t,n)||(l.show(e,{type:"error"}),!1)}function p(t){return 0===t.filter(function(t){return t&&t.length>0}).length}function v(){var t=storage.local.getItem("notification"),e=storage.local.getItem("isBeepOpen"),n=storage.local.getItem("autorun"),i=ddStorage.getItemWithUid("dingEmailNotification"),a=ddStorage.getItem("sendMessageShortcut")||"Enter";t="true"===t,e="true"===e,i="true"===i,f.canSetAutoRun&&(n=!n||"true"===n,f.localSetting.autorun=n),g(),f.localSetting.notification=t,f.localSetting.beep=e,f.localSetting.dingEmailNotification=i,f.localSetting.sendMessageShortcut=a}function m(){u()&&(f.localSetting.notification&&i.init(function(t){"granted"==t?f.localSetting.notification=!0:(f.localSetting.notification=!1,storage.local.setItem("notification",f.localSetting.notification))}),storage.local.setItem(storage.KEYS.USE_LANG,f.selectLangType.type),storage.local.setItem("notification",f.localSetting.notification),ddStorage.setItemWithUid("dingEmailNotification",f.localSetting.dingEmailNotification),ddStorage.setItem("sendMessageShortcut",f.localSetting.sendMessageShortcut),f.canSetAutoRun&&(storage.local.setItem("autorun",f.localSetting.autorun),a.setAppAutoRun(f.localSetting.autorun)),storage.local.setItem("isBeepOpen",f.localSetting.beep),r(),f.currentLang!==f.selectLangType&&l.show("重新启动钉钉后语言设置生效",{type:"success"}),t.close("ok"),c.$broadcast(EVENTS.SETTING_MODAL_CLOSE))}function S(){d(),v()}var f=this,h=o.getHotkeyEditState();this.title="设置",this.isNw=ua.isNw,this.isDesktop=ua.isDesktop,this.isMac=ua.isMac,this.settingSwitcher={notification:!0,beep:!0,autorun:ua.isDingTalkWin,dingEmailNotification:!0},this.canSetAutoRun=null,this.localSetting={},this.hotkeyEditState=h,f.LANGS=muitiLanguage.Langs,f.currentLang=f.selectLangType=muitiLanguage.getCurrentLang(),f.onSelectLangType=function(t){f.selectLangType=t},S(),this.isDesktop&&(this.nwversion=nw.version()),this.ddVersion=window.version,this.submitSetting=m,this.networkTest=function(){t.close("ok"),c.$broadcast(EVENTS.SETTING_MODAL_CLOSE),e(function(){n()},500)}}]);

},{"../../directive/widget/hotkey":159,"../../directive/widget/radiobox":168,"../../directive/widget/updateCheck/updateChecker":189,"../../service/modal/detector":451,"../app/appAutoRun":244,"../app/nw":255,"../app/versionCmp":261,"../events":376,"../limitConfig":414,"../notification":487,"../pcMedusaService/medusa":542,"../storage/ddStorage":605,"../storage/storage":606,"../toast/toast":611,"../tool/tool":616,"../ua":621,"../widget/hotkeyManager":663,"./modal":458,"path":7,"semver":930}],474:[function(require,module,exports){
var moduleName="ddWeb.modal.spaceFileModal",path=require("path"),cspacePlugin=require("@ali/space-plugin");angular.module(moduleName,[require("./modal"),require("../toast/toast"),require("../spacePlugin/config")]).factory("spaceFileModal",["$modal","toastService","spacePluginConfig",function(e,o,i){i.config();var s=function(e){return new Promise(function(i,s){cspacePlugin.validateFileSelect(e).then(function(){t(e).then(function(e){i(e)},function(e){s(e)})},function(i){var s="钉盘访问失败，请稍后重试";switch(i.errorCode){case 1006:s="保存 "+e.file.fileName+" 失败，没有权限";break;case 1007:s="您还没有加入任何企业";break;case 1008:s="获取钉盘列表失败，请稍后重试"}o.show(s,{type:"error"}),e.onValidateError&&e.onValidateError(i)})})},t=function(o){var i=e.open({template:'<div class="dialog space-file-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{spaceFile.title}}</span>\n    </div>\n    <div class="body" style="position: relative;" space-file option="spaceFile.option" close-modal="spaceFile.closeModal()"></div>\n</div>\n',resolve:{option:function(){return o}},controller:"spaceFileModalCtrl",controllerAs:"spaceFile",closable:!0,autofocus:!1});return i.result};return{showModal:s}}]).controller("spaceFileModalCtrl",["$modalInstance","option",function(e,o){this.option=o,this.title="","1"===this.option.dialogType||"3"===this.option.dialogType?this.title="选择文件":"2"===this.option.dialogType&&(this.title="选择保存目录"),this.closeModal=function(){e.close()}}]).directive("spaceFile",["toastService","spacePluginConfig",function(e,o){return{restrict:"AE",scope:{option:"=",closeModal:"&"},template:'<div class="space-file-dialog-inner"></div>',link:function(i,s,t){var l=i.option;cspacePlugin.openFileSelectDialog({dialogType:l.dialogType,container:s[0],file:l.file,orgId:l.orgId,fromIM:l.fromIM,dingSelectCustomLimit:l.dingSelectCustomLimit,targetSpaceId:l.targetSpaceId,targetUserOrgList:l.targetUserOrgList,onSelect:function(o){l.onSelect&&l.onSelect(),i.closeModal&&i.closeModal(),"1"===l.dialogType?(o.successList&&o.successList.length&&l.onSuccess&&l.onSuccess(o.successList),o.failedList&&o.failedList.length&&(l.onError&&l.onError(),e.show(o.failedList.length+" 个文件发送失败",{type:"error"}))):"2"===l.dialogType?o.then(function(o){if(o&&!o.success||o.data.failedList&&o.data.failedList.length){var i="保存 "+l.file.fileName+" 失败";o.userMessage&&(i=o.userMessage),l.onError&&l.onError(),e.show(i,{type:"error"})}else l.onSuccess&&l.onSuccess(o.data),e.show("保存 "+l.file.fileName+" 成功",{type:"success"})},function(){l.onError&&l.onError(),e.show("保存 "+l.file.fileName+" 失败",{type:"error"})}).always(function(){l.alwaysCallback&&l.alwaysCallback()}):"3"===l.dialogType&&o.successList&&o.successList.length&&l.onSuccess&&l.onSuccess(o.successList)},onSelectError:function(s){if(1010===s.errorCode){if(l.onError&&l.onError(s),"3"===l.dialogType)var t="最多只能选择 "+(l.dingSelectCustomLimit||o.cspaceConfig.dingSelectCountLimit)+" 个文件";else var t="最多只能选择 20 个文件";e.show(t,{type:"error"})}else i.closeModal&&i.closeModal(),l.onError&&l.onError(s),e.show("操作失败，请稍后重试",{type:"error"})}})}}}]),module.exports=moduleName;

},{"../spacePlugin/config":602,"../toast/toast":611,"./modal":458,"@ali/space-plugin":735,"path":7}],475:[function(require,module,exports){
"use strict";var path=require("path");require("./modal"),require("../tool/multiOrgTool");var moduleName="ddWeb.service.switchOrgModal";angular.module(moduleName,["ddWeb.modal","ddWeb.service.multiOrgTool"]).factory("switchOrgModalService",["$modal","multiOrgTool",function(t,r){function e(e){var l=null;if(e&&e.orgEmployees)return 1===e.orgEmployees.length?o(e.orgEmployees):(l=t.open({template:'<div class="dialog mini switch-org-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">请选择企业</span>\n    </div>\n    <div class="body">\n        <ul>\n            <li ng-click="switchOrgModalCtrl.switch(item)" ng-class="{selected: switchOrgModalCtrl.isSelected(item)}" ng-repeat="item in switchOrgModalCtrl.orgDataArr">\n                {{item.orgName}}\n            </li>\n        </ul>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="switchOrgModalCtrl.submit()">确定</button>\n    </div>\n</div>\n',controller:"switchOrgModalCtrl",controllerAs:"switchOrgModalCtrl",resolve:{orgDataArr:function(){return r.convertOrgEmployeeExtensionModelListToOrgDataList(e.orgEmployees)}},closable:!0,autofocus:!1}),l.result)}function o(t){var e=null;return e=r.convertOrgEmployeeExtensionModelListToOrgDataList(t),Promise.resolve(r.getCurrentOrgData(e[0],e))}return{showModal:e}}]).controller("switchOrgModalCtrl",["$modalInstance","$timeout","orgDataArr","multiOrgTool",function(t,r,e,o){this.targetOrgData=null,this.orgDataArr=e,this.switch=function(t){this.targetOrgData=t},this.submit=function(){t.close(this.targetOrgData)},this.close=function(){t.dismiss("取消")},this.isSelected=function(t){return o.isOrgDataEqual(this.targetOrgData,t)},this.switch(o.getCurrentOrgData(this.orgDataArr[0],this.orgDataArr))}]),module.exports=moduleName;

},{"../tool/multiOrgTool":614,"./modal":458,"path":7}],476:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.transferGroupBossModal",path=require("path"),LoginStatusCode=require("../login/LoginStatusCode"),MainScene=require("../../service/user/MainScene");require("./modalHelper"),require("../toast/toast");var $my=require("../user/my"),loginStatus=require("../login/loginStatus");angular.module(moduleName,[require("../user/userManager"),require("./modal"),require("../conversation/conversationWithSDK"),require("../conversation/msg/msgFactory"),require("../conversation/GroupRole"),"ddWeb.toast",require("../log/log")]).factory("transferGroupBossService",["$modal",function(e){function t(t){var r=e.open({template:'<div class="dialog middle transfer-group-boss-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <div class="header">请选择新的群主</div>\n    </div>\n    <div class="body">\n        <loading ng-if="!tbCtrl.dataReady"></loading>\n        <div class="people" ng-class="{\'checked\': tbCtrl.checkedUid === item.user.userProfileModel.uid}" ng-repeat="item in tbCtrl.avatarList track by item.user.userProfileModel.uid" ng-click="tbCtrl.onItemClick(item.user.userProfileModel.uid)">\n            <dd-avatar uid="item.user.userProfileModel.uid"></dd-avatar>\n            <p class="name" ng-bind-html="item.displayName|emoj" htitle="{{item.displayName}}" htitle-offset="left"></p>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue small" ng-click="tbCtrl.setGroupBoss()" ng-disabled="tbCtrl.isDisabled">确认</button>\n        <button class="red small" ng-click="tbCtrl.cancel()">取消</button>\n    </div>\n</div>\n',controller:"transferGroupBossCtrl",controllerAs:"tbCtrl",resolve:{info:function(){return t}}});return r.result}return{showModal:t}}]).controller("transferGroupBossCtrl",["$scope","$modalInstance","info","userManager","conversationWithSDK","msgFactory","GroupRole","toastService","log",function(e,t,r,i,n,o,s,a,l){var d=this,u=n.getConvObj(r.cid);d.conv=u,d.conv.getMembers(),d.avatarList=[],d.dataReady=!1,d.checkedUid=null,d.isDisabled=!0,u.getMembers().then(function(t){if(t&&0!==t.length){d.avatarList=[];var r=[];t.forEach(function(e){e.role!==s.BOSS&&r.push(e.openIdEx.openId)});var n=u.getScene(MainScene.GROUP_SETTING);i.getUsers(r).then(function(t){if(t&&t.length>0){var r=[];t.forEach(function(e){r.push(e.getName(u.convId,n,{oid:u.orgId}).then(function(t){d.avatarList.push({user:e,displayName:t})}))}),Promise.all(r).then(function(){d.dataReady=!0,e.$digest()})}})}}),d.onItemClick=function(e){d.checkedUid===e?(d.checkedUid=null,d.isDisabled=!0):(d.checkedUid=e,d.isDisabled=!1)},d.setGroupBoss=function(){return d.isDisabled=!0,loginStatus.isOffline()?void a.show("当前网络不可用，请稍后再试",{type:"error"}):(t.close(),i.getUsers([$my.uid]).then(function(e){if(e&&e[0]){var t=e[0],r=u.convId,i=u.getScene("SYSTEM_MSG");return t.getName(r,i,{oid:u.orgId})}return Promise.reject("get users failed")}.bind(this)).then(function(e){u.updateOwner(d.checkedUid,e).then(function(e){var t=d.avatarList.filter(function(e){return e.user.userProfileModel.uid===d.checkedUid});a.show("已转让群主给"+t[0].displayName,{type:"success"})}).catch(function(e){a.show("转让群主失败",{type:"error"}),l.info("transfer group boss",JSON.stringify(e))})}.bind(this)))},d.cancel=function(){t.dismiss()}}]),module.exports=moduleName;

},{"../../service/user/MainScene":629,"../conversation/GroupRole":297,"../conversation/conversationWithSDK":308,"../conversation/msg/msgFactory":316,"../log/log":422,"../login/LoginStatusCode":429,"../login/loginStatus":431,"../toast/toast":611,"../user/my":635,"../user/userManager":641,"./modal":458,"./modalHelper":459,"path":7}],477:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.updateAlert",serviceName="updateAlert",_=require("lodash"),nw=require("../app/nw");angular.module(moduleName,[require("./modal")]).factory(serviceName,["$modal",function(t){return function(e){var n=t.open({template:'<div class="dialog mini force-update-alert">\n    <div class="head" ng-show="!!updateAlertCtrl.title">\n        <span class="title">{{updateAlertCtrl.title}}</span>\n        <i class="close iconfont" ng-if="!updateAlertCtrl.isForceUpdate"></i>\n    </div>\n    <div class="body">\n        <p class="update-title" ng-if="updateAlertCtrl.updateTitle">{{updateAlertCtrl.updateTitle}}</p>\n        <p class="update-title" ng-if= "updateAlertCtrl.isDoDownload">全新的钉钉客户端已经准备完毕，此版本需要重新下载和安装。</p>\n        <div class="update-content">\n            <p>更新内容：</p>\n            <ol class="update-content-list">\n                <li ng-repeat="item in updateAlertCtrl.desc">{{ item }}</li>\n            </ol>\n        </div>\n        <p class="update-tip" ng-if= "updateAlertCtrl.isDoDownload">如果未能成功下载，请到官网(http://www.dingtalk.com/?gotoDownload=true)下载最新版本</p>\n    </div>\n    <div class="foot {{:: updateAlertCtrl.btnGroupType }}">\n        <button ng-repeat="item in updateAlertCtrl.buttonList" ng-click="item.action()" class="{{ item.role }}" ng-class="{\'white\':item.type===\'normal\',\'blue\':item.type===\'positive\'}">{{item.name}}</button>\n    </div>\n</div>\n',controller:"updateAlertCtrl",controllerAs:"updateAlertCtrl",resolve:{updateConf:function(){return e}},closable:!e.isForce,autofocus:!1});return n.result}}]).controller("updateAlertCtrl",["$modalInstance","updateConf",function(t,e){var n=this,o=function(){var o=e.downloadURL;nw.openExternal(o),n.isForceUpdate||t.close("ok")},l=function(){t.close()},a=function(){t.dismiss({btn:"later"})},i=function(){t.dismiss({btn:"ignore"})};this.title="升级提醒",this.desc=e.desc||[],this.isForceUpdate=!!e.isForce,this.isDoDownload=!!e.isDoDownload,this.updateTitle=e.updateTitle,this.buttonList=[];var r={downloadBtn:{name:"下载",action:o,type:"positive",role:"download"},confirmBtn:{name:"确定",action:l,type:"positive",role:"confirm"},ignoreBtn:{name:"跳过此版本",action:i,type:"normal",role:"ignore"},laterBtn:{name:"稍后提醒我",action:a,type:"normal",role:"later"},cancelBtn:{name:"取消",action:a,type:"normal",role:"cancel"}},d={onlyDownload:[r.downloadBtn],confirmOrCancel:[r.cancelBtn,r.confirmBtn],onlyConfirm:[r.confirmBtn],confirmOrIgnore:[r.ignoreBtn,r.confirmBtn,r.laterBtn],downloadOrIgnore:[r.ignoreBtn,r.downloadBtn,r.laterBtn]};this.btnGroupType=e.btnGroupType,e.btnGroupType&&d[e.btnGroupType]&&(this.buttonList=d[e.btnGroupType])}]),module.exports=moduleName;

},{"../app/nw":255,"./modal":458,"lodash":919,"path":7}],478:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.updateConfirm";require("./modal"),angular.module(moduleName,["ddWeb.modal",require("../../directive/widget/updateCheck/updateChecker")]).factory("updateConfirmService",["$modal",function(n){var e={title:"",content:"",cancelText:"取消"};return function(t){var t=t||{};t=$.extend({},e,t);var c=n.open({template:'<div class="dialog mini confirm">\n    <div class="head" ng-show="!!Confirm.title">\n        <i class="iconfont close"></i>\n        <span class="title">{{::Confirm.title}}</span>\n    </div>\n\n    <div class="body">\n        <div class="content"><span ng-bind-html="::Confirm.content|emoj"></span></div>\n    </div>\n    <div class="foot">\n        <button class="blue"><update-checker ng-click="Confirm.confirm()" class="confirm-update-checker" ></update-checker></button>\n        <button class="confirm-cancel red" ng-click="Confirm.cancel()">{{::Confirm.cancelText}}</button>\n    </div>\n</div>\n',controller:"UpdateConfirmCtrl",controllerAs:"Confirm",resolve:{options:function(){return t}},closable:!0,enterTriggerEl:".confirm-cancel"});return c.result}}]).controller("UpdateConfirmCtrl",["$modalInstance","options",function(n,e){this.title=e.title,this.content=e.content,this.cancelText=e.cancelText,this.confirm=function(){n.close()},this.cancel=function(){n.dismiss()}}]),module.exports=moduleName;

},{"../../directive/widget/updateCheck/updateChecker":189,"./modal":458,"path":7}],479:[function(require,module,exports){
"use strict";var moduleName="ddWeb.modal.uploadAttachment",serviceName="uploadAttachment",_=require("lodash"),mediaId=require("@ali/ding-mediaid"),Uri=require("jsuri"),fileofferTypes=require("@ali/ding-filetypes"),ua=require("../ua"),openAPIErrorCode=require("../openAPI/openAPIErrorCode"),schema=require("@ali/ding-schemajs");angular.module(moduleName,[require("./actionSheetModal"),require("./spaceFileModal"),require("../microApp/microAppData"),require("./uploadMultiFiles")]).factory(serviceName,["actionSheetModal","spaceFileModal","microAppData","$uploadMultiFiles",function(e,r,t,o){var n=function(e,r){var t=document.createElement("input"),n=angular.element(t);return t.setAttribute("type","file"),e.multiple===!0?(t.setAttribute("multiple","multiple"),e.max=e.max||9):e.max=1,r=r||{},Object.keys(r).forEach(function(e){t.setAttribute(e,r[e])}),new Promise(function(r,a){var i=function(i){o.open(this.files,e).then(function(e){r(e)},function(e){a({errCode:openAPIErrorCode.USER_INTERRUPT,errMessage:e})}),n.remove(),t=null};n.one("change",i),t.click()})},a=function(e){return t.getOrgIdByCorpId(e.corpId).then(function(t){return new Promise(function(o,n){r.showModal({dialogType:"1",orgId:t,targetSpaceId:e.spaceId,onSuccess:function(r){o(r.map(function(r){return{spaceId:e.spaceId,fileId:r.id,fileName:r.name,fileSize:r.size,fileType:fileofferTypes.getTypeByName(r.name)}}))},onError:function(e){n({errCode:openAPIErrorCode.ERR_UNKNOWN,errMessage:e&&e.errorMessage&&JSON.stringify(e.errorMessage)||"未知原因"})},onValidateError:function(e){n({errCode:openAPIErrorCode.ERR_UNKNOWN,errMessage:e&&e.errorMessage&&JSON.stringify(e.errorMessage)||"未知原因"})}}).then(void 0,function(e){n({errCode:openAPIErrorCode.USER_INTERRUPT,errMessage:"你取消了从钉盘选择文件操作"})})})},function(e){return Promise.reject({errCode:openAPIErrorCode.ERR_INVALID_CORPID,errMessage:"无效的corpId"})})},i=schema.create({spaceId:{type:"string",required:!0},multiple:{type:"boolean",default:!0,required:!0},max:{type:"int",default:9,properties:{min:1,max:9},error:{min:"不得小于文件数量最小值1",max:"不得超过文件数量最大值9"},required:!0}}),s=schema.create({spaceId:{type:"string",required:!0},corpId:{type:"string+",required:!0}}),u={file:{paramsKey:"file",showText:"选择本地文件上传",schema:i,fn:function(e){return n(e)}},space:{paramsKey:"space",showText:"从钉盘选择",schema:s,fn:function(e){return a(e)}},photo:{paramsKey:"image",showText:"选择本地图片上传",schema:i,fn:function(e){return n(e,{accept:"image/png, image/jpeg, image/jpg, image/gif, image/bmp, image/webp"})}}},p=function(r){if(!r.types)return Promise.reject({errCode:openAPIErrorCode.ERR_PARAMS,errMessage:"参数出错，需提供types数组"});var t=[];if(r.types.forEach(function(e){u[e]&&t.indexOf(e)===-1&&t.push(e)}),0===t.length)return Promise.reject({errCode:openAPIErrorCode.ERR_PARAMS,errMessage:"参数出错，需保证types数组可用参数长度至少为1"});var o=!1;if(t.every(function(e){var t=u[e].paramsKey;if(!(t in r))return o="缺少"+e+"类型对应的参数",!1;var n=u[e].schema.validate(r[t]);return n.valid?(r[t]=n.data,!0):(o=n.errors,!1)}),o)return Promise.reject({errCode:openAPIErrorCode.ERR_PARAMS,errMessage:o});if(t.length>=2)return e({title:"选择上传附件方式",otherButtons:t.map(function(e){return u[e].showText})}).then(function(e){if(e.buttonIndex===-1)return Promise.reject({errCode:openAPIErrorCode.USER_INTERRUPT,errMessage:"你取消了选择"});var o=t[e.buttonIndex];return u[o].fn(r[u[o].paramsKey]).then(function(e){return Promise.resolve({type:u[o].paramsKey,data:e})})},function(e){return Promise.reject({errCode:openAPIErrorCode.USER_INTERRUPT,errMessage:"你关闭了actionSheet"})});if(1===t.length){var n=t[0];return u[n].fn(r[u[n].paramsKey]).then(function(e){return Promise.resolve({type:u[n].paramsKey,data:e})})}};return{start:p}}]),module.exports=moduleName;

},{"../microApp/microAppData":437,"../openAPI/openAPIErrorCode":530,"../ua":621,"./actionSheetModal":442,"./spaceFileModal":474,"./uploadMultiFiles":482,"@ali/ding-filetypes":714,"@ali/ding-mediaid":716,"@ali/ding-schemajs":720,"jsuri":901,"lodash":919}],480:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.uploadDingFileModal",ATTACHMENT_INSTANCE_TYPE=require("../../service/ding/AttachmentInstanceType");angular.module(moduleName,[require("../../component/ding/uploadDingFileModal/dingFileItem"),require("../../directive/widget/ddInput"),require("../../service/modal/spaceFileModal"),require("../../service/serviceWindow/spaceApp")]).factory("uploadDingFileModal",["$modal",function(n){function i(i){var i=i||{},a=n.open({template:'<div class="dialog upload-ding-file-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{::uploadDingFileModalCtrl.text.pc_upload_ding_file_add_attachment}}</span>\n        <div class="add-attachement-action"\n            ng-show="uploadDingFileModalCtrl.dingAttachmentManager.attachments.length < uploadDingFileModalCtrl.dingAttachmentManager.limit"\n            ng-mouseenter="uploadDingFileModalCtrl.active()"\n            ng-mouseleave="uploadDingFileModalCtrl.deactive()"\n            > {{::uploadDingFileModalCtrl.text.pc_ding_file_add_more}}\n          <div class="ding-attachment-upload-menu" ng-show="uploadDingFileModalCtrl.showMenu" ng-class="{\'show-space\': uploadDingFileModalCtrl.isShowCSpace}">\n            <ul class="items">\n              <li class="item">\n                <div class="add-attachment">\n                  {{::uploadDingFileModalCtrl.text.pc_ding_file_upload_local_file}}\n                </div>\n                <dd-input is-multi="true" on-change="uploadDingFileModalCtrl.upload" class="add-attachment-file"></dd-input>\n              </li>\n              <li class="item" ng-click="uploadDingFileModalCtrl.uploadFromSpace()" ng-if="uploadDingFileModalCtrl.isShowCSpace">\n                {{::uploadDingFileModalCtrl.text.pc_ding_file_upload_space_file}}\n              </li>\n            </ul>\n            <div class="ding-attachment-upload-menu-tri"></div>\n            <div class="ding-attachment-upload-menu-tri-border"></div>\n          </div>\n        </div>\n\n        <div class="add-attachement-action disable"\n             ng-show="uploadDingFileModalCtrl.dingAttachmentManager.attachments.length >= uploadDingFileModalCtrl.dingAttachmentManager.limit"\n          >\n          {{::uploadDingFileModalCtrl.text.pc_ding_file_upload_over_limit}}\n        </div>\n    </div>\n    <div class="body">\n      <ul class="upload-ding-file-items">\n        <ding-file-item class="item" \n          item="item" \n          disable-edit="uploadDingFileModalCtrl.disableEdit"\n          on-remove="uploadDingFileModalCtrl.onRemove(item)" \n          ng-repeat="item in uploadDingFileModalCtrl.dingAttachmentManager.attachments track by item._id">\n        </ding-file-item>\n      </ul>\n      <div class="confirm-btn" ng-click="uploadDingFileModalCtrl.confirm()">{{::uploadDingFileModalCtrl.text.pc_upload_ding_file_confirm}}</div>\n    </div>\n</div>\n\n',controller:"uploadDingFileModalCtrl",controllerAs:"uploadDingFileModalCtrl",resolve:{option:function(){return i}}});return a.result}return{showModal:i}}]).controller("uploadDingFileModalCtrl",["$scope","option","$modalInstance","$translate","spaceFileModal","spaceApp",function(n,i,a,e,t,l){var d=this;this.text={pc_upload_ding_file_add_attachment:e.instant("pc_upload_ding_file_add_attachment"),pc_upload_ding_file_confirm:e.instant("pc_upload_ding_file_confirm"),pc_ding_file_upload_local_file:e.instant("pc_ding_file_upload_local_file"),pc_ding_file_upload_space_file:e.instant("pc_ding_file_upload_space_file"),pc_ding_file_upload_over_limit:e.instant("pc_ding_file_upload_over_limit"),pc_ding_file_add_more:e.instant("pc_ding_file_add_more")},this.showMenu=!1,this.isShowCSpace=!1;var o=function(){try{n.$evalAsync()}catch(n){}};l.hasPermission().then(function(n){d.isShowCSpace=d.isShowCSpace||n,o()}),this.disableEdit=i.disableEdit||!1,this.dingAttachmentManager=i.dingAttachmentManager,this.dingAttachmentManager.on(this.dingAttachmentManager.UPDATE_LIST,o),this.upload=function(n){for(var i=n.target.files||[],a=[],e=0;e<i.length;e++){var t=i[e];t.instanceType=ATTACHMENT_INSTANCE_TYPE.LOCAL,a.push(t)}d.dingAttachmentManager.addAttachments(a),d.showMenu=!1,o()},this.uploadFromSpace=function(){t.showModal({dialogType:"3",orgId:null,targetSpaceId:null,targetUserOrgList:[],onSuccess:function(n){var i=n.map(function(n){return n.instanceType=ATTACHMENT_INSTANCE_TYPE.SPACE,n});d.dingAttachmentManager.addAttachments(i),o()},onError:function(){}}),d.showMenu=!1},this.active=function(){d.showMenu=!0},this.deactive=function(){d.showMenu=!1},this.onRemove=function(n){d.dingAttachmentManager.removeFileById(n._id)},this.confirm=function(){a.close()},n.$on("$destroy",function(){d.dingAttachmentManager.off(d.dingAttachmentManager.UPDATE_LIST,o)})}]),module.exports=moduleName;

},{"../../component/ding/uploadDingFileModal/dingFileItem":33,"../../directive/widget/ddInput":153,"../../service/ding/AttachmentInstanceType":331,"../../service/modal/spaceFileModal":474,"../../service/serviceWindow/spaceApp":601,"path":7}],481:[function(require,module,exports){
"use strict";var path=require("path");require("./modal"),require("../file/fileTypes"),require("../file/fileHelper"),angular.module("ddWeb.modal.uploadFile",["ddWeb.modal","ddWeb.file.fileTypes","ddWeb.file.fileHelper",require("../../directive/uploadFileContent/uploadFileContent"),require("../conversation/conversationWithSDK")]).factory("$uploadFilePreview",["$modal",function(e){var i={isFromScreenShot:!1};return function(l,n){if(!l)return Promise.resolve();var n=n||{};n=$.extend({},i,n);var o=e.open({template:'<div class="dialog middle">\n    <div class="head">\n        <i class="iconfont close" ng-click="UploadFile.cancel()"></i>\n        <span class="title">{{UploadFile.title}}</span>\n    </div>\n    <div class="body">\n        <upload-file-content file="UploadFile.file" options="UploadFile.options"></upload-file-content>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-if="UploadFile.isFromScreenShot" ng-click="UploadFile.cancel()">复制图片</button>\n        <button class="blue ok" ng-if="UploadFile.canSendImg" ng-click="UploadFile.ok()">发送</button>\n    </div>\n</div>\n',controller:"UploadFile",controllerAs:"UploadFile",resolve:{file:function(){return l},options:function(){return n}},enterTriggerEl:".ok"});return o.result}}]).controller("UploadFile",["file","$modalInstance","options","$fileHelper","$fileTypes","$sce","$scope","conversationWithSDK",function(e,i,l,n,o,t,r,s){this.isFromScreenShot=l.isFromScreenShot,this.file=e,this.options=l,this.title="";var a=o.getTypeByName(e.name),c=o.isImg(a);c?this.title="发送图片":this.title="文件上传";var d=s.getCurrentActiveConv();this.canSendImg=d&&!d.isOAConv,this.ok=function(){i.close(e)},this.cancel=function(){i.dismiss()}}]);

},{"../../directive/uploadFileContent/uploadFileContent":137,"../conversation/conversationWithSDK":308,"../file/fileHelper":379,"../file/fileTypes":381,"./modal":458,"path":7}],482:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.uploadMultiFiles",spaceUploadQueue=require("../api/spaceUploadQueue");require("./modal"),require("../file/fileHelper"),require("../file/fileTypes"),angular.module(moduleName,["ddWeb.modal","ddWeb.file.fileHelper","ddWeb.file.fileTypes",require("../api/SpaceUpload"),require("../mediaId/mediaId"),require("../../directive/widget/progressBar")]).factory("$uploadMultiFiles",["$modal",function(e){var i=function(i,l){var i=i||[];if(0===i.length)return Promise.resolve();var s=e.open({template:'<div class="dialog multifile-upload-modal">\n    <div class="head">\n        <i class="close iconfont" ng-click="stopUpload()"></i>\n        <span class="title">上传文件</span>\n    </div>\n    <div class="body">\n        <div class="file-list">\n            <p class="summary">本次选择 {{files.length}} 个文件，可以发送 {{validFiles.length}} 个。</p>\n            <div class="file-item clearfix" ng-repeat="item in files">\n                <div class="file-icon" ng-class="item.iconClass"></div>\n                <div class="content">\n                    <div class="file-name">{{item.name}}<span>({{item.showSize}})</span></div>\n                    <div class="file-progress">\n                    <progress-bar ng-if="item.checkResult[0] && !item.uploadSuccess && !item.overSize" progress="item.progress"></progress-bar>\n                    <span ng-if="!item.checkResult[0] || item.overSize">{{item.checkResult[2]}}</span>\n                    <span ng-if="item.uploadSuccess && item.progress === 100">上传成功</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="ok()" ng-disabled="!canSubmit">确定</button>\n    </div>\n</div>\n',controller:"uploadMultiFilesCtrl",resolve:{files:function(){return i},option:function(){return l}},enterTriggerEl:".ok"});return s.result};return{open:i}}]).controller("uploadMultiFilesCtrl",["$scope","files","$modalInstance","$fileHelper","$fileTypes","mediaId","option","SpaceUpload",function(e,i,l,s,a,n,t,c){function r(){e.canSubmit=o===e.validFiles.length,e.$digest()}var i=i||[],o=0,d=t.max>9?9:t.max;if(!(i instanceof Array))try{i=Array.prototype.slice.apply(i)}catch(e){return console.log("files 不能转换成 Array, 请检查传参数是否正确"),!1}e.files=i,e.canSubmit=!1,i.forEach(function(e){e.checkResult=s.checkFileV2(e),e.iconClass=a.getFileIconByType(a.getTypeByName(e.name)),e.showSize=s.formatFileSize(e.size),e.fileType=a.getTypeByName(e.name)});var u=e.files.filter(function(e){return e.checkResult[0]}),p=u.length>d?d:u.length;u.forEach(function(e,i){i>=p&&(e.overSize=!0,e.checkResult[2]="超过上传数量限制，不能上传")}),e.validFiles=u.slice(0,p);var f=[];e.validFiles.forEach(function(i){var l=new c(i,t.spaceId,function(l){i.progress=parseInt(100*l),e.$digest()});l.result.then(function(e){f.shift(),i.space_id=e.data.id,i.space_name=e.data.name,i.space_size=e.data.size,i.space_type=e.data.ext,i.uploadSuccess=!0,o++,r()},function(e){f.shift(),i.checkResult[0]=!1,i.checkResult[2]=e.userMessage,o++,r()}),f.push(l),spaceUploadQueue.add(l)}),l.result.then(void 0,function(){f.forEach(function(e){e.cancel(),spaceUploadQueue.delete(e)})}),e.ok=function(){var i=e.validFiles.filter(function(e){return e.checkResult[0]}).map(function(e){return{spaceId:t.spaceId,fileId:e.space_id,fileName:e.space_name,fileSize:e.space_size,fileType:e.space_type}});l.close(i)},e.cancel=function(){l.dismiss("cancel")}}]),module.exports=moduleName;

},{"../../directive/widget/progressBar":167,"../api/SpaceUpload":241,"../api/spaceUploadQueue":242,"../file/fileHelper":379,"../file/fileTypes":381,"../mediaId/mediaId":433,"./modal":458,"path":7}],483:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.uploadMultiImgs";require("./modal"),require("../file/fileHelper"),require("../file/fileTypes");var Upload=require("@ali/wksdk").upload;angular.module(moduleName,["ddWeb.modal","ddWeb.file.fileHelper","ddWeb.file.fileTypes",require("../mediaId/mediaId"),require("../../directive/widget/progressBar")]).factory("$uploadMultiImgs",["$modal",function(e){var i=function(i,n){var i=i||[];if(0===i.length)return Promise.resolve();var l=e.open({template:'<div class="dialog multifile-upload-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">上传图片</span>\n    </div>\n    <div class="body">\n        <div class="file-list">\n            <p class="summary">本次选择 {{files.length}} 个文件，可以发送 {{validFiles.length}} 个。</p>\n            <div class="file-item clearfix" ng-repeat="item in files">\n                <div class="file-icon" ng-class="item.iconClass"></div>\n                <div class="content">\n                    <div class="file-name">{{item.name}}<span>({{item.showSize}})</span></div>\n                    <div class="file-progress">\n                    <progress-bar ng-if="item.checkResult[0] && item.isImg && item.progress !== 100 && !item.overSize" progress="item.progress"></progress-bar>\n                    <span ng-if="!item.checkResult[0] || !item.isImg || item.overSize">{{item.checkResult[2]}}</span>\n                    <span ng-if="item.progress === 100">上传成功</span>\n                    </div>                    \n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="ok()" ng-disabled="!canSubmit">确定</button>\n    </div>\n</div>\n',controller:"uploadMultiImgsCtrl",resolve:{files:function(){return i},maxCountLimit:function(){return n}},enterTriggerEl:".ok"});return l.result};return{open:i}}]).controller("uploadMultiImgsCtrl",["$scope","files","$modalInstance","$fileHelper","$fileTypes","mediaId","maxCountLimit",function(e,i,n,l,s,r,t){function a(){i.forEach(function(e){e.checkResult=l.checkFileV2(e),e.iconClass=s.getFileIconByType(s.getTypeByName(e.name)),e.showSize=l.formatFileSize(e.size),e.fileType=s.getTypeByName(e.name),e.isImg=s.isImg(e.fileType),e.isImg||(e.checkResult[2]="非图片不能上传")})}function o(){e.canSubmit=d===e.validFiles.length,e.$digest()}function c(i){return Upload.upload(i,function(n){i.progress=parseInt(100*n),e.$digest()}).then(function(n){d++,o();var l=null;l=n.hd?n.hd:n.uri,l&&(i.thumbSrc=r.mid2Url(l,{imageSize:"thumb"}),i.originSrc=r.mid2Url(l,{imageSize:"origin"})),e.$digest()})}function u(){var i=Promise.resolve();e.validFiles.forEach(function(e){i=i.then(function(){return c(e)})})}var i=i||[],d=0,m=t>10?10:t;if(!(i instanceof Array))try{i=Array.prototype.slice.apply(i)}catch(e){return console.log("files 不能转换成 Array, 请检查传参数是否正确"),!1}e.files=i,e.canSubmit=!1,a(),e.getValidFiles=function(){var i=e.files.filter(function(e){return e.checkResult[0]&&e.isImg}),n=i.length>m?m:i.length;return i.forEach(function(e,i){i>=n&&(e.overSize=!0,e.checkResult[2]="超过上传数量限制，不能上传")}),i.slice(0,n)},e.validFiles=e.getValidFiles(),u(),e.ok=function(){var i=e.validFiles.map(function(e){return{filename:e.name,thumbSrc:e.thumbSrc,originSrc:e.originSrc,fileSize:e.size}});n.close(i)},e.cancel=function(){n.dismiss("cancel")}}]),module.exports=moduleName;

},{"../../directive/widget/progressBar":167,"../file/fileHelper":379,"../file/fileTypes":381,"../mediaId/mediaId":433,"./modal":458,"@ali/wksdk":779,"path":7}],484:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.modal.videoInviteModal",_=require("lodash");require("./modal");var localLog=require("../log/localLog");angular.module(moduleName,["ddWeb.modal",require("../videoConf/confManager"),require("../user/userManager"),require("../../directive/widget/avatar/avatar"),require("./confirm"),require("../audio"),require("../toast/toast"),require("../log/lwlog"),require("../../filter/emoj")]).factory("videoInviteModal",["$modal",function(e){return function(o){var n=e.open({template:'<div class="dialog middle video-invite-modal">\n    <div class="head" ng-show="!!videoInviteModal.title">\n        <span class="title">{{videoInviteModal.title}}</span>\n    </div>\n    <div class="body">\n        <div class="video-invite-user">\n            <dd-avatar mediaid="videoInviteModal.caller.userProfileModel.avatarMediaId"\n               uid = "videoInviteModal.caller.userProfileModel.uid"\n               nick="videoInviteModal.caller.userProfileModel.nick"\n               class="video-invite-user-avatar"\n              ></dd-avatar>\n              <p><span ng-bind-html="videoInviteModal.caller.userProfileModel.nick | emoj"></span>正在邀请你进入视频会议</p>\n              <p class="members">参会人员: <span ng-bind-html="videoInviteModal.confMembers | emoj"></span></p>\n        </div>\n\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="videoInviteModal.ok()">{{videoInviteModal.resolveBtn}}</button>\n        <button class="red" ng-click="videoInviteModal.reject()">{{videoInviteModal.rejectBtn}}</button>\n    </div>\n</div>\n',controller:"videoInviteModalCtrl",controllerAs:"videoInviteModal",resolve:{options:function(){return o}},closable:!1,enterTriggerEl:".ok"});return n.result}}]).controller("videoInviteModalCtrl",["$modalInstance","options","confManager","userManager","$scope","$confirm","audioService","toastService","lwlog",function(e,o,n,i,t,r,c,a,l){function d(){u||(u=!1,e.dismiss())}this.title="视频会议邀请",this.content=o.content,this.resolveBtn="同意",this.rejectBtn="拒绝",c.videoInviteAudio.rollingPlay();var s=_.uniq([o.callerId].concat(o.calleeIds)),v=6e4;this.caller=null,this.confMembersNick=[],this.confMembers="",i.getUsers(s).then(function(e){e&&e.length&&(this.caller=e[0],e.forEach(function(e,o){this.confMembersNick.push(e.userProfileModel.nick),this.confMembers=this.confMembersNick.join("，")}.bind(this))),t.$digest()}.bind(this));var u=!1;this.ok=function(){u=!0,l.commLog("videocall_incomming_accept_click","confid="+o.conferenceId),localLog.info("acceptConference with confId",o.conferenceId),n.acceptConference(o.conferenceId).then(function(n){l.commLog("videocall_incomming_accept_succ","confid="+o.conferenceId),e.close()}).catch(function(o){a.show(o.cause||o.reason,{type:"error"}),e.dismiss(o.cause||o.reason)})},this.reject=function(){u=!0,l.commLog("videocall_incomming_reject_click",""),localLog.info("reject with confId",o.conferenceId),r({content:"确定拒绝视频通话？"}).then(function(){e.dismiss(),n.refuseConference(o.conferenceId).catch(function(e){a.show(e.cause||e.reason,{type:"error"})})})},setTimeout(function(){c.videoInviteAudio.pause()},v);var f=n.getEventEmitter();f.on(n.confManagerEvents.CONF_STOP_RING,d),t.$on("$destroy",function(){f.removeListener(n.confManagerEvents.CONF_STOP_RING,d)})}]),module.exports=moduleName;

},{"../../directive/widget/avatar/avatar":141,"../../filter/emoj":193,"../audio":265,"../log/localLog":421,"../log/lwlog":424,"../toast/toast":611,"../user/userManager":641,"../videoConf/confManager":645,"./confirm":447,"./modal":458,"lodash":919,"path":7}],485:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.service.pwdModify";require("../modal/modal"),require("../../service/toast/toast"),angular.module(moduleName,["ddWeb.modal",require("@ali/ding-api").interface.UserI,"ddWeb.toast"]).factory("pwdModify",["$rootScope","$controller","$compile","$templateCache","$sce","$modal",function(o,n,e,i,d,t){var l={title:"",content:"",closable:!0,hasTitle:!1};return function(o){var o=o||{};o=$.extend({},l,o);var n=t.open({template:' <div class="dialog mini modify-password-dialog">\n <form>\n     <div class="head">\n         <i class="iconfont close" ng-if="pwdModify.closable" ng-click="pwdModify.closeModal()"></i>\n         <span class="title">修改密码</span>\n\n     </div>\n     <div class="body">\n        <div class="dialog-pwd-warning" ng-if="pwdModify.modalContentTitle"><i class="iconfont">&#xe63c;</i><span>{{pwdModify.modalContentTitle}}</span></div>\n         <div class="form-area modify-password">\n             <ul class="form-items">\n                 <li class="form-item old-pwd">\n                     <label for="" class="title">原密码：</label>\n                     <input type="password" class="input" ng-model = "pwdModify.oldPwd"/>\n                     <p class="extro-des">如忘记原密码，请在手机钉钉上使用验证码登入，即可重置密码。</p>\n                 </li>\n                 <li class="form-item">\n                     <label for="" class="title">新密码：</label>\n                     <input type="password" placeholder="请输入6~20位密码" class="input" ng-model = "pwdModify.newPwd" ng-class="pwdModify.shortenInput"/>\n                 </li>\n                 <li class="form-item">\n                     <label for="" class="title" >确认新密码：</label>\n                     <input type="password" class="input" placeholder="再次输入密码" ng-model ="pwdModify.confirmPwd"/>\n                 </li>\n             </ul>\n         </div>\n     </div>\n     <div class="foot">\n         <button class="blue" ng-class="{\'onloading\':pwdModify.connecting}" ng-click="pwdModify.modifyPwdConfirm()" value="确定" type="submit" ng-disabled="!pwdModify.pwdSubmitable || !pwdModify.oldPwd || !pwdModify.newPwd || !pwdModify.confirmPwd">确定</button>\n     </div>\n     </form>\n </div>\n',controller:"pwdModifyCtrl",controllerAs:"pwdModify",resolve:{options:function(){return o}},closable:o.closable});return n.result}}]).controller("pwdModifyCtrl",["$scope","$modalInstance","options","UserI","$sce","toastService",function(o,n,e,i,d,t){function l(o){return new Promise(function(n,e){i.checkPwd(o,function(o){200==o.code?n(o.body):e(o.body&&o.body.reason?o.body.code&&"11028"==o.body.code?u.PWD_CHECK_TOO_MUCH:o.body.reason:u.SERVER_ERROR)})})}function s(o){return new Promise(function(n,e){i.changePwd(o,function(o){n(o)})})}function a(o){w.pwdMsg={msg:d.trustAsHtml(o)},t.show(w.pwdMsg.msg,{type:"error"}),w.connecting=!1,w.pwdSubmitable=!0}function c(o){w.pwdMsg=w.pwdMsg={msg:d.trustAsHtml(o)},t.show(w.pwdMsg.msg,{type:"success"})}function r(o){var n=w.oldPwd,e=w.newPwd,i=w.confirmPwd;return e.length<6||e.length>20?void a(u.PWD_NOT_MATCH_RULE):e==n?void a(u.PWD_SAME):e!==i?void a(u.PWD_NOT_CONSIST):void l(n).then(function(o){return o?s(e):void a(u.OLD_PWD_ERROR)},function(o){a(o)}).then(function(n){n&&(200==n.code?(c("修改密码成功，三秒后登出，请重新登录"),o()):a(u.SERVER_ERROR))})}function p(){w.pwdSubmitable&&(w.connecting=!0,w.pwdSubmitable=!1,r(function(){setTimeout(function(){n.close(!0)},3e3)}))}function f(){n.close(!1)}var u={OLD_PWD_ERROR:"原密码错误",PWD_NOT_CONSIST:"确认密码不一致",SERVER_ERROR:"服务器内部错误",PWD_SHORT:"密码必须长于4位",PWD_SAME:"新密码不能和旧密码相同",PWD_NOT_STRONG:"新密码安全程度应该高于弱，建议使用英文字母(大小写区分)加数字或符号的混合密码",PWD_CHECK_TOO_MUCH:"您已进行多次修改，为了账户安全，请稍后重试",PWD_NOT_MATCH_RULE:"密码长度必须在 6 到 20 之间"},w=this;this.closable=e.closable,this.msgTitle=e.title,e.hasTitle&&(this.modalContentTitle=d.trustAsHtml("您的密码安全等级比较低，为了您的信息安全，请更改密码")),this.pwdMsg={msg:""},this.pwdSubmitable=!1,this.closeModal=f,this.connecting=!1,this.modifyPwdConfirm=p,o.$watch("pwdModify.confirmPwd",function(o){void 0!=o&&(o==w.newPwd?w.pwdSubmitable=!0:w.pwdSubmitable=!1)})}]),module.exports=moduleName;

},{"../../service/toast/toast":611,"../modal/modal":458,"@ali/ding-api":711,"path":7}],486:[function(require,module,exports){
var ua=require("../ua"),localLog=require("../log/localLog"),WKim=require("@ali/wksdk"),conversationTableEnum=WKim.conversationTableDef.colsEnums,messageColsEnums=WKim.messageTableDef.colsEnums,tableName=require("../db/TableName"),db=require("../db/db"),localFilePathManager=require("../app/localFilePathManager"),_neadJsonParse=function(e){return/Json$/.test(e)};!function(){function e(){}if(ua.isNw)try{var n=_nwrequire("@ali/dingtalk-sqlite3"),r=n.SearchProvider,o=n.SearchIndex}catch(e){return localLog.error("nw @ali/dingtalk-sqlite3 or @ali/sqlite-wrapper not install well",e),void(module.exports=null)}else{if(!ua.isDingTalkWin)return void(module.exports=null);var r=window.dingtalkWindowsGlue.SearchProvider,o=window.dingtalkWindowsGlue.SearchIndex}e.prototype.initSearchEngine=function(){localFilePathManager.initSearchFilePath();var e=localFilePathManager.getSearchFilePath();this.search_provider=new r,this.search_provider.open(e,function(){this.searchPrepare()}.bind(this))},e.prototype.searchPrepare=function(){var e=db.getDtSqliteWrapper(),n=e.dbConn.getDBSync(e.dbConn.operationMode.OPEN_READWRITE),r=e.dbConn.getDBSync(e.dbConn.operationMode.OPEN_READONLY),o=e.dbConn.getDBSync(e.dbConn.operationMode.OPEN_SCANNER);return n&&r&&o?(this.search_provider.setDBConnection(db.getDbName(),n,r,o),this.configIndexSource(),this.search_provider.startScan(),void this.search_provider.startHook()):void localLog.error("get connection error, may cause by db init error or logout action async stuff occurs")},e.prototype.configIndexSource=function(){var n=new o,r=this.search_provider,t=db.getDtSqliteWrapper();n.addIndexField(conversationTableEnum.TITLE,n.TokenizerType.TOKENZIER_TYPE_NAME),n.addIndexSource(e.SEARCH_CONVERSATION_INDEX_NAME,db.getDbName(),tableName.CONVERSATION_TABLE_NAME,conversationTableEnum.CONVERSATION_ID,"",""),r.addSourceToIndex(n.stringify()),t.dbConn.getDBSync(t.dbConn.operationMode.OPEN_READONLY).all(e.DB_ALL_TABLES_SQL,function(o,t){if(!o)for(var a=0;a<t.length;++a){var i=t[a].name;i.match(e.MSG_TABLE_NAME_REQULAR)&&(n.reset(),n.addIndexField(messageColsEnums.CONTENT,n.TokenizerType.TOKENZIER_TYPE_TEXT),n.addIndexField(messageColsEnums.SENDER_ID,n.TokenizerType.TOKENZIER_TYPE_NOTOKEN),n.addIndexSource(e.SEARCH_CHAT_INDEX_NAME,db.getDbName(),i,messageColsEnums.PRIMARY_KEY,"",""),r.addSourceToIndex(n.stringify()))}})},e.prototype.addChatIndexToSource=function(n){var r=new o;r.addIndexField(messageColsEnums.CONTENT,r.TokenizerType.TOKENZIER_TYPE_TEXT),r.addIndexField(messageColsEnums.SENDER_ID,r.TokenizerType.TOKENZIER_TYPE_NOTOKEN),r.addIndexSource(e.SEARCH_CHAT_INDEX_NAME,db.getDbName(),n,messageColsEnums.PRIMARY_KEY,"",""),this.search_provider.addSourceToIndex(r.stringify())},e.prototype.searchChatContent=function(n,r,o){var t=this;return Promise.resolve().then(function(){return new Promise(function(a,i){t.search_provider.search(e.SEARCH_CHAT_INDEX_NAME,!1,n,r,o,function(e){a(e)})})}).then(function(e){var n=[messageColsEnums.CONVERSATION_ID,messageColsEnums.MESSAGE_ID,messageColsEnums.CONTENT,messageColsEnums.CREATED_AT,messageColsEnums.RECALL_STATUS,messageColsEnums.IS_DEL];return t.getTableField(n.join(","),messageColsEnums.PRIMARY_KEY,e)})},e.prototype.searchConversation=function(n,r,o){var t=this;return Promise.resolve().then(function(){return new Promise(function(a,i){t.search_provider.search(e.SEARCH_CONVERSATION_INDEX_NAME,!1,n,r,o,function(e){a(e)})})}).then(function(e){return t.getTableField(messageColsEnums.CONVERSATION_ID,conversationTableEnum.CONVERSATION_ID,e)})},e.prototype.getTableField=function(n,r,o){for(var t=[],a=db.getDtSqliteWrapper(),i=0;i<e.SEARCH_TABLE_RESULT_THRESHOLD&&i<o.table_result.length;++i){for(var s=o.table_result[i].row_result,E=o.table_result[i].table_name,d="(",l=0;l<s.length;++l)d+=s[l].pkey+(l<s.length-1?",":")");!function(e){var o=new Promise(function(o,t){a.dbConn.getDBSync(a.dbConn.operationMode.OPEN_READONLY).all("select "+n+" from "+e+" where "+r+" in "+d,function(e,n){e?t(e):(n.forEach(function(e){Object.keys(e).forEach(function(n){if(_neadJsonParse(n))try{e[n.replace(/Json$/,"")]=JSON.parse(e[n])}catch(e){}})}),o(n))})});t.push(o)}(E)}return Promise.all(t)},e.prototype.close=function(){this.search_provider.close()},e.prototype.stop=function(){this.search_provider.stop()},e.prototype.delSearchDataAndRebuild=function(){this.search_provider.stop(),this.search_provider.deleteAllIndexAndData(function(){this.initSearchEngine()}.bind(this))},e.SEARCH_CHAT_INDEX_NAME="search_chat_index_name",e.SEARCH_CONVERSATION_INDEX_NAME="search_conversation_index_name",e.SEARCH_CHAT_RESULT_SIZE=1e3,e.SEARCH_CONVERSATION_SIZE=1e3,e.SEARCH_TABLE_RESULT_THRESHOLD=1e3,e.DB_ALL_TABLES_SQL="SELECT name FROM sqlite_master",e.MSG_TABLE_NAME_REQULAR="^ddmsg_([0-9a-zA-Z]){32}",module.exports=new e}();

},{"../app/localFilePathManager":254,"../db/TableName":326,"../db/db":327,"../log/localLog":421,"../ua":621,"@ali/wksdk":779}],487:[function(require,module,exports){
"use strict";var moduleName="ddWeb.notification",ua=require("./ua"),uriResolve=require("./uriResolve/resolve"),DingtalkNotification=require("./dingtalkNotification/dingtalkNotification").Notification;angular.module(moduleName,[]).factory("notification",["$window",function(i){function t(t){ua.isDingTalkWin?t("granted"):i.Notification.requestPermission(t)}function e(t,e){var n="true"==localStorage.getItem("notification");if(n){if(ua.isDingTalkWin||i.Notification&&"granted"===Notification.permission){t.text&&t.text.length>35&&(t.text=t.text.substr(0,35)+"..."),t.name&&t.name.length>25&&(t.name=t.name.substr(0,25)+"...");var o={default:uriResolve.assetsResolve("/app/img/notification/dingding.png"),mail:uriResolve.assetsResolve("/app/img/notification/mail.jpg"),voip:uriResolve.assetsResolve("/app/img/notification/voip.png")},a="default";if(t.type&&(a=t.type),ua.isDingTalkWin)var s={default:0,mail:1,voip:2},l=new DingtalkNotification(t.name+t.tip,JSON.stringify({body:t.text,iconType:s[a]}),function(){e&&e(),this.close()});else{var l=new Notification(t.name+t.tip,{body:t.text,icon:o[a]});l.onshow=function(){setTimeout(function(){l&&(l.close(),l=null)},5e3)},l.onclick=function(){e&&e(),l&&(l.close(),l=null)}}return l}console.log("no permission")}}return{init:t,notify:e}}]),module.exports=moduleName;
},{"./dingtalkNotification/dingtalkNotification":362,"./ua":621,"./uriResolve/resolve":628}],488:[function(require,module,exports){
"use strict";var moduleName="ddWeb.onebox.onebox",RequestMerge=require("../io/RequestMerge"),oneBoxListNewestMerge=new RequestMerge("oneboxListNewest"),getAllWorkItemsMerge=new RequestMerge("oneboxGetAllWorkItems");angular.module(moduleName,[require("@ali/ding-api").interface.IDLOnebox]).factory("oneboxService",["IDLOnebox",function(e){var t={CUSTOMER:1,COLLEAGUE:2,FRIEND:3},r={SYSTEM:2,NORMAL:1},n=function(t,r){return oneBoxListNewestMerge.request(t+"_"+r,function(){return e.listNewest(t,r).result})},s=function(t,r,n){return e.readBusinessItem(t,r,n).result},o=function(t,r,n,s){return e.getBusinessItems(t,r,n,s).result},u=function(t,r,n){return getAllWorkItemsMerge.request(t+"_"+r+"_"+n,function(){return e.getAllWorkItems(t,r,n).result})},i=function(t,r,n){return e.getOAConvOnebox(t,r,n).result},l=function(t,r,n,s){return e.getWorkItemsBatch(t,r,n,s).result};return{listNewest:n,getBusinessItems:o,readBusinessItem:s,getWorkItemsBatch:l,getAllWorkItems:u,getOAConvOnebox:i,RELATION:t,CREATOR_TYPE:r}}]),module.exports=moduleName;

},{"../io/RequestMerge":409,"@ali/ding-api":711}],489:[function(require,module,exports){
"use strict";var moduleName="ddWeb.unpopModal.oneBox",path=require("path"),my=require("../user/my"),_=require("lodash");angular.module(moduleName,[require("./../unPopModal/modal"),require("./../modal/modal"),require("@ali/ding-api").interface.IDLOnebox,require("./onebox"),require("../../component/onebox/miniprofile"),require("../../component/onebox/business-item-list"),require("../../component/onebox/work-item-list")]).factory("openOneBox",["$unPopModal","$modal",function(o,e){function n(e,n){var i=o.open({template:'<div class="unpop-modal onebox-modal">\n    <div class="head">\n        <span class="title">{{ oneboxCtrl.title }}</span>\n        <i class="close iconfont unpop-modal-close-btn"></i>\n    </div>\n    <div class="body">\n        <div ng-if="oneboxCtrl.relation === \'BUSINESS\'" class="business-item-wrapper">\n            <mini-profile open-id="oneboxCtrl.openId" profile-data="oneboxCtrl.oneboxData.miniProfile"></mini-profile>\n            <business-item-list open-id="oneboxCtrl.openId" org-id="oneboxCtrl.orgId"></business-item-list>\n        </div>\n        <div ng-if="oneboxCtrl.relation === \'WORKMATE\'" class="work-item-wrapper">\n            <work-item-list user-name="oneboxCtrl.userName" open-id="oneboxCtrl.openId" org-name="oneboxCtrl.orgName" org-id="oneboxCtrl.orgId" colleague-org-ids="oneboxCtrl.colleagueOrgIds" is-oa-conv="oneboxCtrl.isOAConv"></work-item-list>\n        </div>\n    </div>\n</div>\n',controller:"oneboxCtrl",controllerAs:"oneboxCtrl",scope:e,key:n&&n.cid?"conv_"+n.cid:"",resolve:{info:function(){return n}},closable:!1});return i.result}function i(o){var n=e.open({template:'<div class="dialog" style="width:375px" class="onebox-modal">\n    <div class="head">\n        <span class="title">{{ oneboxCtrl.title }}</span>\n        <i class="close iconfont unpop-modal-close-btn"></i>\n    </div>\n    <div class="body" style="height: 500px; padding: 12px 0;">\n        <div ng-if="oneboxCtrl.relation === \'BUSINESS\'" class="business-item-wrapper">\n            <mini-profile open-id="oneboxCtrl.openId" profile-data="oneboxCtrl.oneboxData.miniProfile"></mini-profile>\n            <business-item-list open-id="oneboxCtrl.openId" org-id="oneboxCtrl.orgId"></business-item-list>\n        </div>\n        <div ng-if="oneboxCtrl.relation === \'WORKMATE\'" class="work-item-wrapper">\n            <work-item-list open-id="oneboxCtrl.openId" org-name="oneboxCtrl.orgName" org-id="oneboxCtrl.orgId"  colleague-org-ids="oneboxCtrl.colleagueOrgIds" is-oa-conv="oneboxCtrl.isOAConv" user-name="oneboxCtrl.userName" ></work-item-list>\n        </div>\n    </div>\n</div>\n',controller:"oneboxCtrl",controllerAs:"oneboxCtrl",resolve:{info:function(){return o}}});return n.result}return{openSlidePanel:n,openModal:i}}]).controller("oneboxCtrl",["$scope","info","oneboxService","$translate",function(o,e,n,i){this.relation="",this.openId=e.openId,this.isOAConv=e.isOAConv,this.colleagueOrgIds;var t=20;if(e.isOAConv){this.title=i.instant("dt_im_box_work_list_title"),this.relation="WORKMATE",this.orgId=e.orgId;var r=my.getOrgByOid(this.orgId);this.orgName=_.get(r,"orgDetail.orgName")}else n.listNewest(e.openId,t).then(function(e){if(e.body){var t=e.body;t.relation===n.RELATION.COLLEAGUE?(this.title=i.instant("dt_im_box_work_list_title"),this.relation="WORKMATE",this.colleagueOrgIds=_.get(t,"miniProfile.colleagueOrgIds")):t.relation===n.RELATION.CUSTOMER&&(this.title=i.instant("dt_external_business_list_title"),this.relation="BUSINESS"),this.orgId=t.miniProfile.orgId,this.oneboxData=t,this.userName=t.miniProfile.name,o.$evalAsync()}}.bind(this))}]),module.exports=moduleName;

},{"../../component/onebox/business-item-list":42,"../../component/onebox/miniprofile":44,"../../component/onebox/work-item-list":45,"../user/my":635,"./../modal/modal":458,"./../unPopModal/modal":627,"./onebox":488,"@ali/ding-api":711,"lodash":919,"path":7}],490:[function(require,module,exports){
"use strict";var _=require("lodash"),OpenAPIList=function(t){this.apiListMethodIndex={},this.apiListIdIndex={},t&&Array.isArray(t)&&t.forEach(function(t){this._updateAPI(t)}.bind(this))};OpenAPIList.prototype._updateAPI=function(t){this.apiListIdIndex[t.id]=t,this.apiListMethodIndex[t.method]=t},OpenAPIList.prototype.getIdByMethod=function(t){return _.get(this.apiListMethodIndex,t+".id")},OpenAPIList.prototype.getMethodById=function(t){return _.get(this.apiListIdIndex,t+".method")},OpenAPIList.prototype.getAPIById=function(t){return this.apiListIdIndex[t]},OpenAPIList.prototype.getAPIByMethod=function(t){return this.apiListMethodIndex[t]},module.exports=OpenAPIList;

},{"lodash":919}],491:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.auth",log=require("../log/localLog"),Uri=require("jsuri"),_=require("lodash"),OpenAPIList=require("./OpenAPIList"),openAPIErrorCode=require("./openAPIErrorCode"),notRPCVerifyMethodList=require("./notRPCVerifyMethodList");angular.module(moduleName,[require("@ali/ding-api").interface.OAPII,require("@ali/ding-api").interface.CommonI,require("../CSConfig/CSConfigTopic")]).factory("openAPIAuth",["OAPII","CommonI","CSConfigTopic",function(e,r,o){function n(e){var r=["dev2.dingtalk.com"],o=new Uri(e).host();return r.indexOf(o)!==-1}function i(e){return n(e)?Promise.resolve({level:"safe"}):new Promise(function(o,n){r.checkUrl(e,function(e){200===e.code?o(e.body):(log.error(e.code+"checkUrl请求失败"),n({errorCode:openAPIErrorCode.ERR_RPC,errorMessage:e.code+"请求失败"}))})})}var t="oa_jsapi",u=null,s=function(){return u||(u=new o(t)),u.getData().then(function(e){var r=new OpenAPIList(e.jsApiList);return Promise.resolve(r)},function(){return log.error("远程获取APIMap信息失败"),Promise.reject({errorCode:openAPIErrorCode.ERR_RPC,errorMessage:"远程获取APIMAP信息失败"})})},d=function(r,o){var n=[],i=[];return r.jsApiList.forEach(function(e){var r;notRPCVerifyMethodList.indexOf(e)>-1?i.push(e):(r=o.getAPIByMethod(e))&&(0===r.level?i.push(e):n.push(r.id))}),new Promise(function(t,u){var s=function(e){200===e.code?(e.body.forEach(function(e){i.push(o.getMethodById(e))}),t({authorizedAPIList:i,unauthorizedAPIList:_.difference(r.jsApiList,i)})):(log.error("getJSAPIMethods失败，错误码:"+e.body.code),u({errorCode:openAPIErrorCode.ERR_UNKNOWN,errorMessage:"服务端错误码:"+e.body.code}))};r.agentId?e.getJSAPIMethodsWithAgentId(r.agentId,r.corpId,r.timeStamp,r.nonceStr,r.signature,r.url,n,s):e.getJSAPIMethods(r.corpId,r.timeStamp,r.nonceStr,r.signature,r.url,n,s)})},a=function(e){return e.jsApiList=_.uniq(e.jsApiList),i(e.origin||"").then(function(r){return"safe"===r.level?Promise.resolve({authorizedAPIList:e.jsApiList,unauthorizedAPIList:[]}):"normal"===r.level?s().then(function(r){return d(e,r)}):(log.error("域名不安全, checkUrl"+r.level),Promise.reject({errorCode:openAPIErrorCode.ERR_URL,errorMessage:"域名不安全"}))})};return{auth:a}}]),module.exports=moduleName;

},{"../CSConfig/CSConfigTopic":234,"../log/localLog":421,"./OpenAPIList":490,"./notRPCVerifyMethodList":529,"./openAPIErrorCode":530,"@ali/ding-api":711,"jsuri":901,"lodash":919}],492:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.chat.chooseConversation",serviceName="openAPIBizContactChooseConversation",_=require("lodash");angular.module(moduleName,[require("../../../selectorPanel/PanelType"),require("../../../modal/selectPanelModal"),require("../../../conversation/conversationWithSDK")]).factory(serviceName,["PanelType","selectPanelModal","conversationWithSDK",function(e,o,n){var t="biz.chat.chooseConversation",a={window:{title:"选择会话",closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[e.CONV],lockedIds:{cids:[]},customUids:[]},selectorBar:{display:!0,placeholder:"搜索会话"},type:"SELECT_CONVERSATION"},r=function(e){o(a).then(function(o){var t=_.get(o,"conversations[0].conversationId"),a=_.get(o,"conversations[0].title");t?n.getConvById(t,!0).then(function(o){e.respond({id:t,title:a,isEnterpriseGroup:o.isCompanyGroup})}):e.respond("error",!0)},function(o){e.respond(o,!0)})};return{handler:r,methodName:t}}]),module.exports=moduleName;

},{"../../../conversation/conversationWithSDK":308,"../../../modal/selectPanelModal":470,"../../../selectorPanel/PanelType":590,"lodash":919}],493:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.contact.choose",serviceName="openAPIBizContactChoose",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../selectorPanel/PanelType"),require("../../../modal/selectPanelModal"),require("../../../mediaId/mediaId"),require("../../../microApp/microAppData"),require("@ali/ding-api").interface.ContactI]).factory(serviceName,["PanelType","selectPanelModal","mediaId","ContactI","microAppData",function(e,r,o,t,a){var n="biz.contact.choose",i={window:{title:"选人",closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[e.ORG],lockedIds:{uids:[]},customUids:[],selectedUids:[]},selectorBar:{display:!0,placeholder:"搜索企业联系人"},orgId:null,type:"SELECT_ORG_USER",multiple:!0,max:1500},d=function(e){function n(){return c.users?new Promise(function(e,r){t.getOrgEmpInfoByStaffIds(u,c.users,function(o){200===o.code?e(o.body):r({reason:"拉取用户信息出错，请重试"})})}):Promise.resolve()}var d=e.params,l=d.corpId,u=null,c={};a.getData().then(function(e){if(e&&"object"==typeof e.oa_org){if(u=_.get(_.find(e.oa_org,function(e,r){return e.corpId===l}),"orgId"),!u){var r={body:{reason:"corpID 错误, 不存在"}};return Promise.reject(r)}return c=_.assign({},i,d,{orgId:u}),Promise.resolve()}}).then(function(){return n()}).then(function(a){if(a){var n=a.map(function(e){return e.uid});c.selectorPanel.selectedUids=n}return r(c).then(function(r){var a={};r.forEach(function(e){var r=null,t=null;e.user?(r=_.get(e,"user.userProfileModel.avatarUrl"),t=_.get(e,"user.employee.orgStaffId")):e.model&&(_.get(e,"model.avatarMediaId")&&(r=o.mid2Url(_.get(e,"model.avatarMediaId"),{imageSize:"thumb"})),t=_.get(e,"model.orgStaffId")),a[e.model.uid]={name:e.text,avatar:r,emplId:t}});var n=r.map(function(e){return _.get(e,"model.uid")});t.getOrgEmpInfoByUids(u,n).result.then(function(r){var o=r.body,t=n.map(function(e){var r=_.find(o,function(r){return r.uid===parseInt(e)});return r&&(a[e].emplId=r.orgStaffId),a[e]});e.respond(t)}).catch(function(r){e.respond("获取企业信息失败，请稍后再试",!0)})})},function(r){e.respond(r,!0)})};return{handler:d,methodName:n}}]),module.exports=moduleName;

},{"../../../mediaId/mediaId":433,"../../../microApp/microAppData":437,"../../../modal/selectPanelModal":470,"../../../selectorPanel/PanelType":590,"@ali/ding-api":711,"@ali/frame-talk/host":724,"lodash":919}],494:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.contact.externalComplexPicker",serviceName="openAPIBizContactExternalComplexPicker",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),paramsValidate=require("../../../tool/params-validate");angular.module(moduleName,[require("../../../selectorPanel/PanelType"),require("../../../modal/selectPanelModal"),require("../../../mediaId/mediaId"),require("../../../microApp/microAppData"),require("@ali/ding-api").interface.ContactI,require("@ali/ding-api").interface.ExternalContactI]).factory(serviceName,["PanelType","selectPanelModal","mediaId","ContactI","microAppData","ExternalContactI","$translate",function(e,r,t,a,i,l,o){var n="biz.contact.externalComplexPicker",s=o.instant("pc_external_complex_picker_default_title"),d=o.instant("pc_external_complex_picker_default_placeholder"),c=function(l){function o(e){return e&&e.length?new Promise(function(r,t){a.getOrgEmpInfoByStaffIds(p,e,function(e){if(200===e.code){var a=[];e.body&&(a=e.body.map(function(e){return e.uid})),r(a)}else t({reason:"拉取用户信息出错，请重试"})})}):Promise.resolve([])}var n={window:{title:"",closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[e.EXTERNAL_CONTACT],lockedIds:{uids:[]},customUids:[],selectedUids:[]},selectorBar:{display:!0,placeholder:d},orgId:null,type:"SELECT_ALL_USER",multiple:!0,max:-1,limitTips:""},c={title:s,corpId:"",multiple:!0,limitTips:"",maxUsers:1e3,pickedUsers:[],disabledUsers:[],requiredUsers:[]},u=l.params,m=u.corpId,p=null,f={title:"String",corpId:"String",multiple:"Boolean",limitTips:"String",maxUsers:"Number",pickedUsers:"Array",disabledUsers:"Array",requiredUsers:"Array"},g=_.assign({},c,u),I=paramsValidate(g,f);return I.length>0?l.respond(I.join(","),!0):(n.window.title=g.title,n.multiple=g.multiple,n.limitTips=g.limitTips,n.max=g.maxUsers,void i.getData().then(function(e){if(e&&"object"==typeof e.oa_org){if(p=_.get(_.find(e.oa_org,function(e,r){return e.corpId===m}),"orgId"),!p){var r={body:{reason:"corpID 错误, 不存在"}};return Promise.reject(r)}return n.orgId=p,Promise.resolve()}}).then(function(){var e=[o(g.pickedUsers),o(g.disabledUsers),o(g.requiredUsers)];return Promise.all(e)}).then(function(e){return n.selectorPanel.selectedUids=e[0],n.selectorPanel.disabledUids=e[1],n.selectorPanel.lockedIds.uids=e[2],r(n).then(function(e){var r=e.map(function(e){var r=null,a=null;if(e.user){r=_.get(e,"user.userProfileModel.avatarUrl"),a=_.get(e,"user.employee.orgStaffId");var i=_.get(e,"user.userProfileModel.uid");if(!a){var l=n.selectorPanel.selectedUids.indexOf(i),o=n.selectorPanel.lockedIds.uids.indexOf(i);l!==-1?a=g.pickedUsers[l]:o!==-1&&(a=g.requiredUsers[o])}}else e.model&&(_.get(e,"model.avatarMediaId")&&(r=t.mid2Url(_.get(e,"model.avatarMediaId"),{imageSize:"thumb"})),a=_.get(e,"model.orgStaffId"));return{name:e.text,avatar:r,emplId:a}});l.respond(r)})},function(e){l.respond(e,!0)}))};return{handler:c,methodName:n}}]),module.exports=moduleName;

},{"../../../mediaId/mediaId":433,"../../../microApp/microAppData":437,"../../../modal/selectPanelModal":470,"../../../selectorPanel/PanelType":590,"../../../tool/params-validate":615,"@ali/ding-api":711,"@ali/frame-talk/host":724,"lodash":919}],495:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.contact.pickCustomer",serviceName="openAPIBizContactPickCustomer",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),paramsValidate=require("../../../tool/params-validate");angular.module(moduleName,[require("../../../modal/pickCustomerModal")]).factory(serviceName,["pickCustomerModal",function(e){var r="biz.contact.pickCustomer",a=function(r){var a=r.params;a.title=a.title||"客户列表";var t={userId:"String",corpId:"String",title:"String"},o=paramsValidate(a,t);return o.length>0?r.respond(o.join(","),!0):void e(a).then(function(e){r.respond(e)},function(e){r.respond(e,!0)})};return{handler:a,methodName:r}}]),module.exports=moduleName;

},{"../../../modal/pickCustomerModal":464,"../../../tool/params-validate":615,"@ali/frame-talk/host":724,"lodash":919}],496:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.cspace.preview",serviceName="openAPIBizCspacePreview",frameTalkHost=require("@ali/frame-talk/host"),spaceFileHelper=require("../../../file/spaceFileHelper"),previewFileConfig=require("../../../file/previewFileConfig"),previewFileSchema=require("./previewFile.schema.js"),openAPIErrorCode=require("../../openAPIErrorCode"),app=angular.module(moduleName,[require("../../../modal/previewFileModal")]);app.factory(serviceName,["previewFileModal",function(e){var i="biz.cspace.preview",r=function(i){var r=i.params,a=previewFileSchema.validate(r);if(a.valid){r=a.data;var l={s_id:r.spaceId,f_id:r.fileId,f_size:r.fileSize,f_name:r.fileName,f_type:r.fileType};spaceFileHelper.getPreviewUri(l,previewFileConfig.iframe_width,previewFileConfig.iframe_height).then(function(i){e(i)})}else i.respond({errCode:openAPIErrorCode.ERR_PARAMS,errMessage:JSON.stringify(a.errors)},!0)};return{handler:r,methodName:i}}]),module.exports=moduleName;

},{"../../../file/previewFileConfig":382,"../../../file/spaceFileHelper":385,"../../../modal/previewFileModal":465,"../../openAPIErrorCode":530,"./previewFile.schema.js":497,"@ali/frame-talk/host":724}],497:[function(require,module,exports){
var schema=require("@ali/ding-schemajs");module.exports=schema.create({spaceId:{type:"string",required:!0},fileId:{type:"string+",required:!0},fileSize:{type:"int",required:!0},fileName:{type:"string+",require:!0},fileType:{type:"string+"}});

},{"@ali/ding-schemajs":720}],498:[function(require,module,exports){
var moduleName=module.exports="ddWeb.openAPI.biz.customContact.choose",serviceName="openAPIBizCustomContactChoose",frameTalkHost=require("@ali/frame-talk/host"),_=require("lodash"),paramsValidate=require("../../../tool/params-validate");angular.module(moduleName,[require("../../../selectorPanel/PanelType"),require("../../../modal/selectPanelModal"),require("../../../microApp/microAppData"),require("@ali/ding-api").interface.ContactI,require("../../../user/userManager")]).factory(serviceName,["PanelType","selectPanelModal","ContactI","microAppData","userManager",function(e,o,r,a,n){function t(e,o){return o&&Array.isArray(o)&&o.length>0?new Promise(function(a,n){r.getOrgEmpInfoByStaffIds(e,o,function(e){200===e.code?a(e.body):n({reason:"拉取用户信息出错，请重试"})})}):Promise.resolve()}var s="biz.customContact.choose",i={corpId:"",users:[],isShowCompanyName:!1,title:"自定义选人"},l=function(r){var s={window:{title:"自定义选人",closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[e.CUSTOM],lockedIds:{uids:[]},customUids:[],showCompanyNameConf:{isShow:!1,orgId:null}},selectorBar:{display:!0,placeholder:"搜索"},orgId:null,type:"SELECT_USER",multiple:!1},l=r.params;l=_.assign({},i,l);var u={users:"Array",corpId:"String",isShowCompanyName:"Boolean",title:"String"},c=paramsValidate(l,u);if(c.length>0)return r.respond(c.join(","),!0);l.corpId;l.title&&(s.window.title=l.title),s.selectorPanel.showCompanyNameConf.isShow=l.isShowCompanyName,a.getOrgIdByCorpId(l.corpId).then(function(e){return s.selectorPanel.showCompanyNameConf.orgId=e,t(e,l.users)}).then(function(e){if(e&&Array.isArray(e)){var a=e.map(function(e){return e.uid}),t={};e.forEach(function(e){t[e.uid]=e.orgStaffId});var i=e.map(function(e){return{uid:e.uid,orgId:e.orgId,name:e.orgUserName}});l.isShowCompanyName&&n.getUsers(a).then(function(e){e.forEach(function(e,o){e.setUserEmployeeInfo([i[o]])})}),s.selectorPanel.customUids=a}return o(s).then(function(e){var o=e.map(function(e){var o=_.get(e,"user.userProfileModel.nick"),r=_.get(e,"user.userProfileModel.uid");l.isShowCompanyName&&(o=_.get(e,"user.employeeBaseModel["+s.selectorPanel.showCompanyNameConf.orgId+"].name"));var a=_.get(e,"user.userProfileModel.avatarUrl"),n=_.get(t,""+r);return{name:o,avatar:a,emplId:n}});r.respond(o)})}).catch(function(e){r.respond(e,!0)})};return{handler:l,methodName:s}}]);

},{"../../../microApp/microAppData":437,"../../../modal/selectPanelModal":470,"../../../selectorPanel/PanelType":590,"../../../tool/params-validate":615,"../../../user/userManager":641,"@ali/ding-api":711,"@ali/frame-talk/host":724,"lodash":919}],499:[function(require,module,exports){
var moduleName=module.exports="ddWeb.openAPI.biz.customContact.multipleChoose",serviceName="openAPIBizCustomContactMultipleChoose",frameTalkHost=require("@ali/frame-talk/host"),_=require("lodash"),paramsValidate=require("../../../tool/params-validate");angular.module(moduleName,[require("../../../selectorPanel/PanelType"),require("../../../modal/selectPanelModal"),require("../../../microApp/microAppData"),require("@ali/ding-api").interface.ContactI,require("../../../user/userManager")]).factory(serviceName,["PanelType","selectPanelModal","ContactI","microAppData","userManager",function(e,r,a,o,n){function t(e,r){return r&&Array.isArray(r)&&r.length>0?new Promise(function(o,n){a.getOrgEmpInfoByStaffIds(e,r,function(e){200===e.code?o(e.body):n({reason:"拉取用户信息出错，请重试"})})}):Promise.resolve()}var s="biz.customContact.multipleChoose",i={corpId:"",users:[],isShowCompanyName:!1,title:"自定义选人",selectedUsers:[],disabledUsers:[],max:10},l=function(a){var s={window:{title:"自定义选人",closable:!0,autofocus:!1},contentBox:{display:!1,defaultContent:""},selectorPanel:{display:!0,panelTypes:[e.CUSTOM],lockedIds:{uids:[]},customUids:[],showCompanyNameConf:{isShow:!1,orgId:null},selectedUids:[],disabledUids:[]},selectorBar:{display:!0,placeholder:"搜索"},orgId:null,type:"SELECT_USER",multiple:!0},l=a.params;l=_.assign({},i,l);var u={users:"Array",corpId:"String",isShowCompanyName:"Boolean",title:"String",selectedUsers:"Array",disabledUsers:"Array",max:"Number"},d=paramsValidate(l,u);if(d.length>0)return a.respond(d.join(","),!0);l.corpId;l.title&&(s.window.title=l.title),_.isNumber(l.max)&&(s.max=l.max>1500?1500:l.max,l.max<0&&(l.max=0),s.max=l.max),l.selectedUsers=l.selectedUsers||[],l.disabledUsers=l.disabledUsers||[],s.selectorPanel.showCompanyNameConf.isShow=l.isShowCompanyName,o.getOrgIdByCorpId(l.corpId).then(function(e){return s.selectorPanel.showCompanyNameConf.orgId=e,t(e,l.users)}).then(function(e){if(e&&Array.isArray(e)){var o=e.map(function(e){return e.uid}),t={};e.forEach(function(e){t[e.uid]=e.orgStaffId});var i=e.map(function(e){return{uid:e.uid,orgId:e.orgId,name:e.orgUserName}});l.isShowCompanyName&&n.getUsers(o).then(function(e){e.forEach(function(e,r){e.setUserEmployeeInfo([i[r]])})}),s.selectorPanel.customUids=o;var u=l.disabledUsers.map(function(r){var a=null;return e.forEach(function(e){e.orgStaffId===r&&(a=e)}),a}).filter(function(e){return!!e}),d=l.selectedUsers.map(function(r){var a=null;return e.forEach(function(e){e.orgStaffId===r&&(a=e)}),a}).filter(function(e){return!!e})}if(u&&Array.isArray(u)){var o=u.map(function(e){return e.uid});s.selectorPanel.disabledUids=o}if(d&&Array.isArray(d)){var o=d.map(function(e){return e.uid});o=o.filter(function(e){return s.selectorPanel.disabledUids.indexOf(e)===-1}),s.selectorPanel.selectedUids=o.slice(0,l.max)}return r(s).then(function(e){var r=e.map(function(e){var r=_.get(e,"user.userProfileModel.nick"),a=_.get(e,"user.userProfileModel.uid");l.isShowCompanyName&&(r=_.get(e,"user.employeeBaseModel["+s.selectorPanel.showCompanyNameConf.orgId+"].name"));var o=_.get(e,"user.userProfileModel.avatarUrl"),n=_.get(t,""+a);return{name:r,avatar:o,emplId:n}});a.respond(r)})}).catch(function(e){a.respond(e,!0)})};return{handler:l,methodName:s}}]);

},{"../../../microApp/microAppData":437,"../../../modal/selectPanelModal":470,"../../../selectorPanel/PanelType":590,"../../../tool/params-validate":615,"../../../user/userManager":641,"@ali/ding-api":711,"@ali/frame-talk/host":724,"lodash":919}],500:[function(require,module,exports){
var moduleName="ddWeb.openAPI.biz.ding.post",serviceName="openAPIBizDingPost",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),moment_JSimpleFormater=require("moment-jdateformatparser"),mediaId=require("@ali/ding-mediaid"),paramsValidate=require("../../../tool/params-validate"),ATTACHMENT_INSTANCE_TYPE=require("../../../../service/ding/AttachmentInstanceType");angular.module(moduleName,[require("../../../modal/sendDingModal"),require("../../../microApp/microAppData"),require("@ali/ding-api").interface.ContactI,require("../../../selectorPanel/selected/selectedItemFactory"),require("../../../selectorPanel/selected/selectedItemType"),require("../../../ding/DingAttachmentType")]).factory(serviceName,["sendDingModalService","microAppData","ContactI","selectedItemFactory","selectedItemType","DingAttachmentType",function(e,t,a,r,i,n){function o(e,t){return t&&Array.isArray(t)&&t.length>0?new Promise(function(r,i){a.getOrgEmpInfoByStaffIds(e,t,function(e){200===e.code?r(e.body):i({reason:"拉取用户信息出错，请重试"})})}):Promise.resolve()}var m="biz.ding.post",d={users:[],corpId:"",type:1,attachment:{},text:"",alertType:0,alertDate:{}},c=function(a){var r=a.params,r=_.assign({},d,r),i={users:"Array",corpId:"String",type:"Number",attachment:"Object",text:"String",alertType:"Number",alertDate:"Object"},m=paramsValidate(r,i);if(m.length>0)return a.respond(m.join(","),!0);var c={};t.getOrgIdByCorpId(r.corpId).then(function(e){return o(e,r.users)}).then(function(t){if(t&&t.length>0){var i=t.map(function(e){return e.uid});c.selectedUids=i}if(c.content=r.text,c.type=r.type,c.alertType=r.alertType,r.alertDate&&(r.alertDate.format&&(r.alertDate.format=moment_JSimpleFormater().toMomentFormatString(r.alertDate.format)),c.alertDate=r.alertDate),r.attachment){var o={},m=!1;if(1===r.type){if(o.type=n.IMAGE,o.instanceType=ATTACHMENT_INSTANCE_TYPE.IMAGE,r.attachment.images&&Array.isArray(r.attachment.images)&&r.attachment.images[0])try{o.mediaId=mediaId.url2Mid(r.attachment.images[0])}catch(e){console.log(e)}o.mediaId&&(m=!0)}else if(2===r.type){o.type=n.LINK,o.instanceType=ATTACHMENT_INSTANCE_TYPE.LINK;var d={title:r.attachment.title,text:r.attachment.text,picMediaId:r.attachment.image,linkUrl:r.attachment.url};if(o.linkContent=d,d.picMediaId)try{d.picMediaId=mediaId.url2Mid(d.picMediaId)}catch(e){console.log(e)}d.title&&d.linkUrl&&(m=!0)}m&&(c.dingAttachments=[o],c.disableUpload=!0)}e.showModal(c).then(function(){a.respond()})}).catch(function(e){a.respond(e,!0)})};return{handler:c,methodName:m}}]),module.exports=moduleName;

},{"../../../../service/ding/AttachmentInstanceType":331,"../../../ding/DingAttachmentType":335,"../../../microApp/microAppData":437,"../../../modal/sendDingModal":472,"../../../selectorPanel/selected/selectedItemFactory":594,"../../../selectorPanel/selected/selectedItemType":595,"../../../tool/params-validate":615,"@ali/ding-api":711,"@ali/ding-mediaid":716,"@ali/frame-talk/host":724,"lodash":919,"moment-jdateformatparser":922}],501:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.oauth.authorize",serviceName="openAPIBizOauthAuthorize",jsuri=require("jsuri"),_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),localLog=require("../../../log/localLog");angular.module(moduleName,[require("../../../microApp/authorize")]).factory(serviceName,["authorize",function(e){var r="biz.oauth.authorize",o=function(r){var o=r.params;e.getCode({corpId:o.corpId,url:o.redirectURI}).then(function(e){var a=new jsuri(o.redirectURI).addQueryParam("code",e.body).addQueryParam("state",o.state).toString();r.respond(a)}).catch(function(e){r.respond(e),localLog.error("micro app authorize",e.toString())})};return{handler:o,methodName:r}}]),module.exports=moduleName;

},{"../../../log/localLog":421,"../../../microApp/authorize":436,"@ali/frame-talk/host":724,"jsuri":901,"lodash":919}],502:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.user.get",serviceName="openAPIBizUserGet",my=require("../../../user/my"),_=require("lodash"),createHash=require("sha.js-browser");angular.module(moduleName,[require("../../../tool/multiOrgTool")]).factory(serviceName,["multiOrgTool",function(e){var r="biz.user.get",o=function(r){var o=r.params,t="";if(o&&o.corpId)t=o.corpId;else{var a=e.convertOrgEmployeeExtensionModelListToOrgDataList(my.orgEmployees),i=e.getCurrentOrgData(a[0],a),s=i.oid,d=my.getOrgByOid(s);t=_.get(d,"orgDetail.corpId")}var g=my.getOrgByCorpId(t),m=createHash("sha256"),l=m.update(my.uid+"","utf8").digest("hex");r.respond({id:l,corpId:t,avatar:_.get(my,"userProfileModel.avatarUrl"),nickName:_.get(my,"userProfileModel.nick"),emplId:_.get(g,"orgEmployeeModel.orgStaffId"),rightLevel:_.get(g,"orgLevel"),isAuth:_.get(g,"isOrgAuth"),isManager:_.get(g,"isAdmin")})};return{handler:o,methodName:r}}]),module.exports=moduleName;

},{"../../../tool/multiOrgTool":614,"../../../user/my":635,"lodash":919,"sha.js-browser":932}],503:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.createVoipConference",serviceName="openAPIBizUtilCreateVoipConference";angular.module(moduleName,[require("../../../modal/createConference")]).factory(serviceName,["createConference",function(e){var r="biz.util.createVoipConference",n=function(r){var n=r.params&&r.params.conferenceMembers?{selectedUids:r.params.conferenceMembers}:{};e.showModal(n).then(function(e){r.respond(e)},function(e){r.respond(e,!0)})};return{handler:n,methodName:r}}]),module.exports=moduleName;

},{"../../../modal/createConference":449}],504:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.decrypt",serviceName="openAPIBizUtilDecrypt",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),safetyType=require("../../../../service/safety/safetyType");angular.module(moduleName,[require("../../../safety/dingSafety"),require("../../../safety/safetyInit")]).factory(serviceName,["dingSafety","safetyInit",function(e,r){var t="biz.util.decrypt",e=new e,a=function(r){var t=_.get(r,"params.corpId"),a=_.get(r,"params.data");if(!t||!_.isObject(a))return void r.respond({errCode:openAPIErrorCode.ERR_PARAMS,errMessage:"参数错误"});var n={},i=Object.keys(a).map(function(r){return e.decrypt(t,a[r]).then(function(e){return n[r]=e,Promise.resolve()}).catch(function(e){return n[r]="",Promise.resolve()})}.bind(this));Promise.all(i).then(function(){r.respond({data:n})}).catch(function(e){var t={};Object.keys(a).forEach(function(e){t[e]=""}),r.respond({data:t})})};return{handler:a,methodName:t}}]),module.exports=moduleName;

},{"../../../../service/safety/safetyType":562,"../../../safety/dingSafety":551,"../../../safety/safetyInit":558,"@ali/frame-talk/host":724,"lodash":919}],505:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.downloadFile",serviceName="openAPIBizUtilDownloadFile",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),ua=require("../../../ua"),mediaId=require("@ali/ding-mediaid"),Uri=require("jsuri"),$my=require("../../../../service/user/my"),localLog=require("../../../../service/log/localLog"),app=angular.module(moduleName,[require("@ali/ding-api").interface.CSpace,require("../../../app/download/DLManager")]);app.factory(serviceName,["DLManager","CSpace",function(e,r){var a="biz.util.downloadFile",o=function(a){var o,i=a.params,t=new Uri(i.url);if("https"===t.protocol()&&"oapi.dingtalk.com"===t.host()&&"/media/get"===t.path()&&(o=t.getQueryParamValue("media_id"))&&"@"===o[0])try{i.url=mediaId.mid2Url(o)}catch(e){}if("//"===i.url.slice(0,2)&&(i.url="http:"+i.url),i.name||(i.name=t.path().split("/").pop()),ua.isDesktop){var n=i.option||{},d=Promise.resolve();n.isEncrypt&&(d=r.infoDentry({spaceId:n.spaceId,path:n.fileId}).result.then(function(e){var r=_.get(e,"body.data.dentryModel.items[0].encryptDetail")||{},a=$my.getOrgByOid(r.orgId);if(!a)return localLog.error("download file error can not find orgData",i),Promise.reject(new Error("can not find orgData"));var o=_.get(a,"orgDetail.corpId");return{corpId:o,appId:r.appId,priority:r.priority,isEncrypt:!0}})),d.then(function(r){e.download({params:r||{},url:i.url,name:i.name,onProgress:function(e,r){a.emit("onProgress",{downloaded:e,total:r,progress:parseInt(e/r*100)})}}).then(function(){a.respond(!0)}).catch(function(e){a.respond(e,!0)})})}else window.open(i.url),a.respond(!0)};return{handler:o,methodName:a}}]),module.exports=moduleName;

},{"../../../../service/log/localLog":421,"../../../../service/user/my":635,"../../../app/download/DLManager":247,"../../../ua":621,"@ali/ding-api":711,"@ali/ding-mediaid":716,"@ali/frame-talk/host":724,"jsuri":901,"lodash":919}],506:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.encrypt",serviceName="openAPIBizUtilEncrypt",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),safetyType=require("../../../../service/safety/safetyType"),openAPIErrorCode=require("../../openAPIErrorCode");angular.module(moduleName,[require("../../../safety/dingSafety"),require("../../../safety/safetyInit")]).factory(serviceName,["dingSafety","safetyInit",function(e,r){var t="biz.util.encrypt",e=new e,a=function(r){var t=_.get(r,"params.corpId"),a=_.get(r,"params.data");if(!t||!_.isObject(a))return void r.respond({errCode:openAPIErrorCode.ERR_PARAMS,errMessage:"参数错误"});var n={},o=Object.keys(a).map(function(r){return e.encrypt(t,a[r]).then(function(e){return n[r]=e,Promise.resolve()}).catch(function(e){return n[r]="",Promise.resolve()})}.bind(this));Promise.all(o).then(function(){r.respond({data:n})}).catch(function(e){Object.keys(a).forEach(function(e){n[e]=""}),r.respond({data:n})})};return{handler:a,methodName:t}}]),module.exports=moduleName;

},{"../../../../service/safety/safetyType":562,"../../../safety/dingSafety":551,"../../../safety/safetyInit":558,"../../openAPIErrorCode":530,"@ali/frame-talk/host":724,"lodash":919}],507:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.util.isLocalFileExist",serviceName="openAPIBizUtilIsLocalFileExist",frameTalkHost=require("@ali/frame-talk/host"),ua=require("../../../ua"),app=angular.module(moduleName,[require("../../../app/download/openFile")]);app.factory(serviceName,["openFileService",function(e){var a="biz.util.isLocalFileExist",i=function(a){var i=a.params;e.isExist(i).then(function(e){a.respond(e)})};return{handler:i,methodName:a}}]),module.exports=moduleName;

},{"../../../app/download/openFile":253,"../../../ua":621,"@ali/frame-talk/host":724}],508:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.util.open",serviceName="openAPIBizUtilOpen",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../modal/profileModal"),require("../../../microApp/microAppData"),require("../../../toast/toast"),require("@ali/ding-api").interface.UserI]).factory(serviceName,["profileModalService","microAppData","UserI",function(e,r,o){function n(n,a){var n=n||{},i=n.corpId,t=n.id;if(i&&t)r.getOrgIdByCorpId(i).then(function(e){return new Promise(function(r,n){o.getUserProfileExtensionByStaffId(t,e,function(e){if(200===e.code){var o=_.get(e,"body.userProfileModel.uid");o?r(o):n({body:{reason:"获取用户信息失败"}})}else n({body:{reason:"获取用户信息失败"}})})})}).then(function(r){return e(r)}).catch(function(e){a.respond(e,!0)});else{var s={body:{reason:"corpId 和 staffId 不能为空;"}};a.respond(s,!0)}}function a(r,n){var a=r.phone,i=r.name;if(!a||!i){var t={body:{reason:"phone 和 name 不能为空;"}};return n.respond(t,!0)}Promise.resolve().then(function(){return new Promise(function(e,r){o.createUsersByIdentities([{mobile:a,displayName:i,source:1}],function(o){if(200===o.code&&o.body[0]){var n=_.get(o.body[0],"uid");e(n)}else r({body:{reason:"获取用户信息失败"}})})})}).then(function(r){e(r)}).catch(function(e){n.respond(e,!0)})}var i="biz.util.open",t=function(e){var r=e.params,o=r.name;switch(o){case"profile":n(r.params,e);break;case"customer":a(r.params,e);break;default:var i={body:{reason:'not supported name : "'+o+'";'}};e.respond(i,!0)}};return{handler:t,methodName:i}}]),module.exports=moduleName;

},{"../../../microApp/microAppData":437,"../../../modal/profileModal":466,"../../../toast/toast":611,"@ali/ding-api":711,"@ali/frame-talk/host":724,"lodash":919}],509:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.util.openLink",serviceName="openAPIBizUtilOpenLink",frameTalkHost=require("@ali/frame-talk/host"),ua=require("../../../ua"),nw=require("../../../app/nw"),app=angular.module(moduleName,[]);app.factory(serviceName,[function(){var e="biz.util.openLink",a=function(e){var a=e.params,r=a.url;r?ua.isDesktop?(nw.openExternal(r),e.respond(!0)):(window.open(r),e.respond(!0)):e.respond("url 不能为空",!0)};return{handler:a,methodName:e}}]),module.exports=moduleName;

},{"../../../app/nw":255,"../../../ua":621,"@ali/frame-talk/host":724}],510:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.util.openLocalFile",serviceName="openAPIBizUtilOpenLocalFile",frameTalkHost=require("@ali/frame-talk/host"),ua=require("../../../ua"),app=angular.module(moduleName,[require("../../../app/download/openFile")]);app.factory(serviceName,["openFileService",function(e){var a="biz.util.openLocalFile",o=function(a){ua.isDesktop?e.open({url:a.params.url,path:a.params.path}).then(function(){a.respond(!0)},function(){a.respond(!1)}):a.respond(!1)};return{handler:o,methodName:a}}]),module.exports=moduleName;

},{"../../../app/download/openFile":253,"../../../ua":621,"@ali/frame-talk/host":724}],511:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.openModal",serviceName="openAPIBizUtilOpenModal",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../frameContainer/commModal")]).factory(serviceName,["openCommModal",function(e){var a="biz.util.openModal",o={size:"default",url:"about:blank",title:""},r=function(a){var r=a.params,n=_.assign({},o,r);e(n).then(function(e){a.respond(e)},function(e){a.respond(e,!0)})};return{handler:r,methodName:a}}]),module.exports=moduleName;

},{"../../../frameContainer/commModal":387,"@ali/frame-talk/host":724,"lodash":919}],512:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.openSlidePanel",serviceName="openAPIBizUtilOpenSlidePanel",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../frameContainer/slidePanel")]).factory(serviceName,["openSlidePanelContainer",function(e){var a="biz.util.openSlidePanel",n={url:"about:blank",title:""},l=function(a){var l=a.params,r=_.assign({},n,l);e(r).then(function(e){a.respond(e)},function(e){a.respond(e,!0)})};return{handler:l,methodName:a}}]),module.exports=moduleName;

},{"../../../frameContainer/slidePanel":388,"@ali/frame-talk/host":724,"lodash":919}],513:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.previewFile",serviceName="openAPIBizUtilPreviewFile",frameTalkHost=require("@ali/frame-talk/host"),spaceFileHelper=require("../../../file/spaceFileHelper"),previewFileConfig=require("../../../file/previewFileConfig"),app=angular.module(moduleName,[require("../../../modal/previewFileModal")]);app.factory(serviceName,["previewFileModal",function(e){var i="biz.util.previewFile",r=function(i){var r=i.params;spaceFileHelper.getPreviewUri(r,previewFileConfig.iframe_width,previewFileConfig.iframe_height).then(function(i){e(i)})};return{handler:r,methodName:i}}]),module.exports=moduleName;

},{"../../../file/previewFileConfig":382,"../../../file/spaceFileHelper":385,"../../../modal/previewFileModal":465,"@ali/frame-talk/host":724}],514:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.previewImage",serviceName="openAPIBizUtilPreviewImage",_=require("lodash"),validator=require("validator"),frameTalkHost=require("@ali/frame-talk/host"),uriResolve=require("../../../uriResolve/resolve");angular.module(moduleName,[require("../../../img/imgPreviewService")]).factory(serviceName,["imgPreviewService",function(e){var r="biz.util.previewImage",i=function(r){var i=r.params,a=i.urls,n=i.current,o=0;if(!Array.isArray(a)&&!n)return void r.respond({reason:"预览图不能为空"},!0);if(!Array.isArray(a)&&n&&(a=[n]),Array.isArray(a)&&n){var t=a.indexOf(n);t>-1&&(o=t)}var l=function(e){var r=a[e],i="https://static.dingtalk.com/media/lALOAQIv_M0BLM0BaA_360_300.png";return validator.isURL(r,{allow_protocol_relative_urls:!0})&&(i=uriResolve.assetsResolve(r)),{mediaId:i,index:e}},u=function(e){return a[e.index+1]?l(e.index+1):null},s=function(e){return a[e.index-1]?l(e.index-1):null};e.preview(l(o),s,u,{hideSaveEmotion:!0}).then(function(e){r.respond(e)},function(e){r.respond(e,!0)})};return{handler:i,methodName:r}}]),module.exports=moduleName;

},{"../../../img/imgPreviewService":408,"../../../uriResolve/resolve":628,"@ali/frame-talk/host":724,"lodash":919,"validator":943}],515:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.queryConferenceList",serviceName="openAPIBizUtilQueryConferenceList";angular.module(moduleName,[require("@ali/ding-api").interface.ConfmanagerI]).factory(serviceName,["ConfmanagerI",function(e){var n="biz.util.queryConferenceList",r=function(n){var r=n.params.conferenceStartTime||new Date-0,a=n.params.maxCount||10;e.queryConferenceList({conferenceStartTime:r,maxCount:a}).result.then(function(e){200===e.code?n.respond(e.body):n.respond(e,!0)})};return{handler:r,methodName:n}}]),module.exports=moduleName;

},{"@ali/ding-api":711}],516:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.uploadAttachment",serviceName="openAPIBizUtilUploadAttachment",frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../modal/uploadAttachment")]).factory(serviceName,["uploadAttachment",function(e){var t="biz.util.uploadAttachment",a=function(t){var a=t.params||{};e.start(a).then(function(e){t.respond(e)},function(e){t.respond(e,!0)})};return{handler:a,methodName:t}}]),module.exports=moduleName;

},{"../../../modal/uploadAttachment":479,"@ali/frame-talk/host":724}],517:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.uploadImage",serviceName="openAPIBizUtilUploadImage",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../modal/uploadMultiImgs")]).factory(serviceName,["$uploadMultiImgs",function(e){var t="biz.util.uploadImage",i=function(t){var i=t.params,a=1,r=document.createElement("input");r.setAttribute("type","file"),i.multiple===!0&&(r.setAttribute("multiple","multiple"),a=i.max||3),r.setAttribute("accept","image/png, image/jpeg, image/jpg, image/gif, image/bmp, image/webp"),r.addEventListener("change",function(i){e.open(this.files,a).then(function(e){var i=e.map(function(e){return e.originSrc});i.filter(function(e){return!!e}),t.respond(i)},function(e){t.respond(e,!0)})},!1),r.click()};return{handler:i,methodName:t}}]),module.exports=moduleName;

},{"../../../modal/uploadMultiImgs":483,"@ali/frame-talk/host":724,"lodash":919}],518:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.biz.util.ut",serviceName="openAPIBizUtilUt",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../log/lwlog")]).factory(serviceName,["lwlog",function(e){var r="biz.util.ut",o={key:"",value:""},i=function(r){var i=r.params,a=_.assign({},o,i);if(!_.isString(a.key))return void r.respond({body:"key 值需为 String 类型"},!0);if(_.isObject(a.value))try{a.value=JSON.stringify(a.value)}catch(e){return void r.respond({body:"value 值为不合法 JSON"},!0)}return _.isString(a.value)?void e.commLog(a.key,a.value,function(e){200===e.code?r.respond(e.body):r.respond(e,!0)}):void r.respond({body:"value 值需为 String 或 JSONObject 类型"},!0)};return{handler:i,methodName:r}}]),module.exports=moduleName;

},{"../../../log/lwlog":424,"@ali/frame-talk/host":724,"lodash":919}],519:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.config",semver=require("semver"),_=require("lodash");angular.module(moduleName,[require("./auth"),require("../log/lwlog.js")]).factory("openAPIConfig",["openAPIAuth","lwlog",function(e,r){var o="config",n=function(n,i){n.register(o,function(o){var s=o.params;if(console.info("version:"+s.version),s.url&&s.version){var t="corpId="+(s.corpId||"")+",agentId="+(s.agentId||"")+",url="+s.url+",jsVersion="+s.version;r.commLog("pc_micro_app_jsapi_version",t)}s.origin=o.clientOrigin,e.auth(s).then(function(e){i({jsApiList:e.authorizedAPIList,origin:o.frameOrigin},n),s.version?semver.lte(s.version,"2.2.0")?o.respond(!0):o.respond(e):o.respond(!0)},function(e){o.respond(e,!0)}).catch(function(e){o.respond(e.message,!0)})})};return{init:n}}]),module.exports=moduleName;

},{"../log/lwlog.js":424,"./auth":491,"lodash":919,"semver":930}],520:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.notification.actionSheet",serviceName="openAPIDeviceNotificationActionSheet",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),paramsValidate=require("../../../tool/params-validate");angular.module(moduleName,[require("../../../modal/actionSheetModal")]).factory(serviceName,["actionSheetModal",function(e){var t="device.notification.actionSheet",a={title:"actionSheet",cancelButton:"取消",otherButtons:[]},o=function(t){var o=t.params,n=_.assign({},a,o),i={title:"String",cancelButton:"String",otherButtons:"Array"},r=paramsValidate(n,i);return r.length>0?t.respond(r.join(","),!0):void e(n).then(function(e){t.respond(e)},function(e){t.respond(e,!0)})};return{handler:o,methodName:t}}]),module.exports=moduleName;

},{"../../../modal/actionSheetModal":442,"../../../tool/params-validate":615,"@ali/frame-talk/host":724,"lodash":919}],521:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.notification.alert",serviceName="openAPIDeviceNotificationAlert",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../modal/alert")]).factory(serviceName,["$alert",function(e){var t="device.notification.alert",o={title:"提示",content:"确定吗？",buttonName:"确定"},a=function(t){var a=t.params;o.content=a.message;var n=_.assign({},o,a);return _.trim(n.content)?void e(n).then(function(e){t.respond(e)},function(e){t.respond(e)}):void t.respond({body:"content 参数不能为空"})};return{handler:a,methodName:t}}]),module.exports=moduleName;

},{"../../../modal/alert":445,"@ali/frame-talk/host":724,"lodash":919}],522:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.notification.confirm",serviceName="openAPIDeviceNotificationConfirm",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../modal/openApiConfirm")]).factory(serviceName,["$openApiConfirm",function(e){var o="device.notification.confirm",n={title:"提示",content:"你确定吗？"},t=function(o){var t=o.params,a=_.assign({},n,t);return a.message&&(a.content=a.message),!a.buttonLabels||a.buttonLabels[0]&&a.buttonLabels[1]?void e(a).then(function(e){o.respond(e)},function(e){o.respond(e)}):void o.respond({body:{reason:"button labels 不能为空"}},!0)};return{handler:t,methodName:o}}]),module.exports=moduleName;

},{"../../../modal/openApiConfirm":462,"@ali/frame-talk/host":724,"lodash":919}],523:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.notification.prompt",serviceName="openAPIDeviceNotificationPrompt",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../modal/prompt")]).factory(serviceName,["$prompt",function(e){var t={title:"提示",message:"",buttonLabels:["取消","确定"]},o="device.notification.prompt",r=function(o){var r=o.params;!_.trim(r.title)&&delete r.title,!_.trim(r.message)&&delete r.message;var a=_.assign({},t,r),i=a.buttonLabels.some(function(e){return!!e});return i?void e(a).then(function(e){o.respond(e)},function(e){o.respond(e,!0)}):void o.respond({body:{reason:"button labels 不能全部为空"}},!0)};return{handler:r,methodName:o}}]),module.exports=moduleName;

},{"../../../modal/prompt":467,"@ali/frame-talk/host":724,"lodash":919}],524:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.notification.toast",serviceName="openAPIDeviceNotificationToast",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host");angular.module(moduleName,[require("../../../toast/toast")]).factory(serviceName,["toastService",function(e){var a={text:"",delay:0,duration:3,type:"information"},t="device.notification.toast",o=function(e,a,t,o){e[a]<t&&(e[a]=t),e[a]>o&&(e[a]=o)},i=function(t){var i=t.params;i.delay&&(_.isNaN(parseInt(i.delay,10))?i.delay=a.delay:i.delay=parseInt(i.delay,10)),i.duration&&(_.isNaN(parseInt(i.duration,10))?i.duration=a.duration:i.duration=parseInt(i.duration,10));var r=_.assign({},a,i);o(r,"duration",2,5),o(r,"delay",0,10),setTimeout(function(){e.show(r.text,{timeout:1e3*r.duration,type:r.type})},(r.delay?1e3*r.delay:0)||0)};return{handler:i,methodName:t}}]),module.exports=moduleName;

},{"../../../toast/toast":611,"@ali/frame-talk/host":724,"lodash":919}],525:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.initHelper";angular.module(moduleName,[require("./device/notification/alert"),require("./device/notification/confirm"),require("./device/notification/toast"),require("./device/notification/prompt"),require("./device/notification/actionSheet"),require("./biz/util/open"),require("./biz/util/openModal"),require("./biz/util/openSlidePanel"),require("./biz/util/uploadImage"),require("./biz/util/downloadFile"),require("./biz/util/openLocalFile"),require("./biz/util/isLocalFileExist"),require("./biz/util/previewImage"),require("./biz/util/previewFile"),require("./biz/util/openLink"),require("./biz/util/uploadAttachment"),require("./biz/util/ut"),require("./biz/contact/choose"),require("./biz/contact/pickCustomer"),require("./biz/contact/externalComplexPicker.js"),require("./biz/customContact/choose"),require("./biz/customContact/multipleChoose"),require("./biz/chat/chooseConversation"),require("./biz/ding/post"),require("./biz/util/encrypt"),require("./biz/util/decrypt"),require("./runtime/permission/requestAuthCode"),require("./biz/cspace/preview"),require("./biz/util/createVoipConference"),require("./biz/util/queryConferenceList"),require("./biz/user/get")]).factory("openAPIInitHelper",["openAPIDeviceNotificationAlert","openAPIDeviceNotificationConfirm","openAPIDeviceNotificationToast","openAPIDeviceNotificationPrompt","openAPIDeviceNotificationActionSheet","openAPIBizUtilOpen","openAPIBizUtilOpenModal","openAPIBizUtilOpenSlidePanel","openAPIBizUtilUploadImage","openAPIBizUtilDownloadFile","openAPIBizUtilOpenLocalFile","openAPIBizUtilPreviewImage","openAPIBizUtilPreviewFile","openAPIBizUtilIsLocalFileExist","openAPIBizUtilOpenLink","openAPIBizUtilUploadAttachment","openAPIBizUtilUt","openAPIBizContactChoose","openAPIBizContactPickCustomer","openAPIBizContactExternalComplexPicker","openAPIBizCustomContactChoose","openAPIBizCustomContactMultipleChoose","openAPIBizContactChooseConversation","openAPIBizDingPost","openAPIBizUtilEncrypt","openAPIBizUtilDecrypt","openAPIRuntimePermissionRequestAuthCode","openAPIBizCspacePreview","openAPIBizUtilCreateVoipConference","openAPIBizUtilQueryConferenceList","openAPIBizUserGet",function(e,i,o,t,r,n,a,l,m,d,h,u,p,c,z,P,s,A,I,N,q,C,b,B,f,v,U,g,y,w,D){var F={};F[e.methodName]=e.handler,F[i.methodName]=i.handler,F[o.methodName]=o.handler,F[t.methodName]=t.handler,F[r.methodName]=r.handler,F[n.methodName]=n.handler,F[a.methodName]=a.handler,F[l.methodName]=l.handler,F[m.methodName]=m.handler,F[d.methodName]=d.handler,F[h.methodName]=h.handler,F[u.methodName]=u.handler,F[p.methodName]=p.handler,F[c.methodName]=c.handler,F[z.methodName]=z.handler,F[P.methodName]=P.handler,F[s.methodName]=s.handler,F[A.methodName]=A.handler,F[I.methodName]=I.handler,F[N.methodName]=N.handler,F[q.methodName]=q.handler,F[C.methodName]=C.handler,F[b.methodName]=b.handler,F[B.methodName]=B.handler,F[U.methodName]=U.handler,F[g.methodName]=g.handler,F[y.methodName]=y.handler,F[f.methodName]=f.handler,F[v.methodName]=v.handler,F[w.methodName]=w.handler,F[D.methodName]=D.handler;var L=function(e,i){i&&Array.isArray(i)&&i.forEach(function(i){F[i]&&e.register(i,F[i])})};return{initOpenAPI:L}}]),module.exports=moduleName;

},{"./biz/chat/chooseConversation":492,"./biz/contact/choose":493,"./biz/contact/externalComplexPicker.js":494,"./biz/contact/pickCustomer":495,"./biz/cspace/preview":496,"./biz/customContact/choose":498,"./biz/customContact/multipleChoose":499,"./biz/ding/post":500,"./biz/user/get":502,"./biz/util/createVoipConference":503,"./biz/util/decrypt":504,"./biz/util/downloadFile":505,"./biz/util/encrypt":506,"./biz/util/isLocalFileExist":507,"./biz/util/open":508,"./biz/util/openLink":509,"./biz/util/openLocalFile":510,"./biz/util/openModal":511,"./biz/util/openSlidePanel":512,"./biz/util/previewFile":513,"./biz/util/previewImage":514,"./biz/util/queryConferenceList":515,"./biz/util/uploadAttachment":516,"./biz/util/uploadImage":517,"./biz/util/ut":518,"./device/notification/actionSheet":520,"./device/notification/alert":521,"./device/notification/confirm":522,"./device/notification/prompt":523,"./device/notification/toast":524,"./runtime/permission/requestAuthCode":531}],526:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.lwp",serviceName="openAPIInternalRequestLwp",frameTalkHost=require("@ali/frame-talk/host"),lwpSchema=require("./lwp.schema"),openAPIErrorCode=require("../../openAPIErrorCode"),Uri=require("jsuri");angular.module(moduleName,[require("../../../io/mainWS")]).factory(serviceName,["mainWS",function(e){var r="internal.request.lwp",o=function(e){var r=".dingtalk.com";return new Uri(e).host().slice(0-r.length)===r},a=function(r){if(!o(r.clientOrigin))return r.respond({errorCode:openAPIErrorCode.ERR_OPERATION,errorMessage:"禁止外部不可信域名调用钉钉PC端内部API"},!0);var a=r.params,n=lwpSchema.validate(a);n.valid?(a=n.data,e.sendMsg(a.url,a.headers||{},a.body||[],function(e){r.respond(e)})):r.respond({errorCode:openAPIErrorCode.ERR_PARAMS,errorMessage:JSON.stringify(n.errors)},!0)};return{methodName:r,handler:a}}]),module.exports=moduleName;

},{"../../../io/mainWS":411,"../../openAPIErrorCode":530,"./lwp.schema":527,"@ali/frame-talk/host":724,"jsuri":901}],527:[function(require,module,exports){
var schema=require("@ali/ding-schemajs");module.exports=schema.create({url:{type:"string+",required:!0},body:{required:!1},headers:{type:"object",required:!1}});

},{"@ali/ding-schemajs":720}],528:[function(require,module,exports){
module.exports=["device.notification.alert","device.notification.confirm","device.notification.prompt","device.notification.toast","device.notification.actionSheet","biz.navigation.setLeft","biz.navigation.setRight","biz.navigation.setTitle","biz.navigation.back","biz.util.previewImage","runtime.permission.requestAuthCode","biz.util.openLink"];

},{}],529:[function(require,module,exports){
module.exports=["biz.util.openModal","biz.util.openSlidePanel","biz.util.downloadFile","biz.util.openLocalFile","biz.util.isLocalFileExist","biz.navigation.setTitle","biz.navigation.quit","biz.navigation.setLeft"];

},{}],530:[function(require,module,exports){
module.exports={ERR_JSON:"PC_1002",ERR_UNKNOWN:"PC_1003",ERR_UID:"PC_1004",ERR_CORPID:"PC_1005",ERR_CREAT_CONVERSATION:"PC_1006",ERR_UNAUTHORIZED:"PC_1007",ERR_INVALID_CORPID:"PC_1008",ERR_URL:"PC_1009",ERR_RPC:"PC_1010",USER_INTERRUPT:"PC_1011",ERR_PARAMS:"PC_1012",ERR_OPERATION:"PC_1013"};

},{}],531:[function(require,module,exports){
"use strict";var moduleName="ddWeb.openAPI.runtime.permission.requestAuthCode",serviceName="openAPIRuntimePermissionRequestAuthCode",jsuri=require("jsuri"),_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),localLog=require("../../../log/localLog");angular.module(moduleName,[require("../../../microApp/requestAuthCode")]).factory(serviceName,["requestAuthCode",function(e){var r="runtime.permission.requestAuthCode",o=function(r){var o=r.params;e.getCode({corpId:o.corpId,url:o.url}).then(function(e){r.respond({code:e.body})}).catch(function(e){r.respond(e,!0),localLog.error("micro app requestAuthCode",e.toString())})};return{handler:o,methodName:r}}]),module.exports=moduleName;

},{"../../../log/localLog":421,"../../../microApp/requestAuthCode":439,"@ali/frame-talk/host":724,"jsuri":901,"lodash":919}],532:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.openWindow",ua=require("../ua"),nw=require("../app/nw");angular.module(moduleName,[]).factory("$OpenWindow",[function(){var e=function(){ua.isDesktop||(this.window=window.open("about:blank"))};return e.prototype.resolve=function(e){if(ua.isDesktop)nw.openExternal(e);else try{this.window&&(this.window.location.href=e)}catch(e){console.log(e)}},e}]),module.exports=moduleName;

},{"../app/nw":255,"../ua":621}],533:[function(require,module,exports){
function factoryHandler(e,r,o){var t=e.extend({initialize:function(e,r){this._option=r,t.superclass.initialize.call(this,e)},genOrgTreeNode:function(e,t){var a=this.oid,i=o.getOrgCacheByOid(a),n=new r(e,a,t),d=n.getId();return i.getCache(d)?i.getCache(d):(i.setCache(d,n),n)},genRootNode:function(){var e=this._option.deptName,r={dept:{deptName:e},nodeType:orgNodeTypes.DEPT,isRoot:!0};return this.genOrgTreeNode(r)},_initOrgTree:function(){var e=this;e.rootTreeNode=this.genRootNode(),e.currentTreeNode=e.rootTreeNode}});return t}var moduleName=module.exports="ddWeb.org.externalOrgTree",serviceName="ExternalOrgTree",orgNodeTypes=require("./OrgNodeType"),app=angular.module(moduleName,[require("./OrgTree"),require("./ExternalOrgTreeNode"),require("./OrgCacheFactory")]);app.factory(serviceName,["OrgTree","ExternalOrgTreeNode","OrgCacheFactory",factoryHandler]);

},{"./ExternalOrgTreeNode":534,"./OrgCacheFactory":536,"./OrgNodeType":537,"./OrgTree":538}],534:[function(require,module,exports){
function factoryHandler(e,r){var o=e.extend({initialize:function(e,r,t){o.superclass.initialize.call(this,e,r,t)},_genId:function(e){return"external-"+o.superclass._genId.call(this,e)},getMore:function(e,o,t){var a=this.queryOption,d=this;return d.hasMore?void(d.request=r.getOrgNodeList(a.keyword,a.keyType,a.orgId,o,e,a.filterModel,function(e){localLog.info("pull arch data with queryOption "+JSON.stringify(a)+"offset"+o),d.request=null,200==e.code&&e.body?(d.hasMore=e.body.hasMore,d.offset+=d.pageSize,t(e.body.values)):601!==e.code&&(t(!1),localLog.error("pull arch error"))})):t([])},_getQueryOptionByItem:function(e,r){var o={};if(o.orgId=r,o.deptType=0,o.filterModel={},e.nodeType===orgNodeTypes.DEPT){var t=e.dept;o.orgId=t.orgId||r,o.keyType=0,o.keyword=t.deptId}else if(e.nodeType===orgNodeTypes.PEOPLE){var t=e.employee,a=t.uid,d=t.orgStaffId;a?(o.keyType=1,o.keyword=t.uid):d?(o.keyType=2,o.keyword=t.orgStaffId):(o.keyType=2,o.keyword=null)}return o}});return o}var moduleName=module.exports="ddWeb.org.externalOrgTreeNode",serviceName="ExternalOrgTreeNode",orgNodeTypes=require("./OrgNodeType"),localLog=require("../log/localLog"),app=angular.module(moduleName,[require("./OrgTreeNode"),require("@ali/ding-api").interface.ExternalContactI]);app.factory(serviceName,["OrgTreeNode","ExternalContactI",factoryHandler]);

},{"../log/localLog":421,"./OrgNodeType":537,"./OrgTreeNode":539,"@ali/ding-api":711}],535:[function(require,module,exports){
require("../tree/TreeCache"),angular.module("ddWeb.org.OrgCache",["ddWeb.tree.TreeCache"]).factory("OrgCache",["TreeCache",function(e){var r=e.extend({initialize:function(e){r.superclass.initialize.call(this),this.oid=e}});return r}]);

},{"../tree/TreeCache":618}],536:[function(require,module,exports){
var moduleName=module.exports="ddWeb.org.OrgCacheFactory";require("./OrgCache"),angular.module(moduleName,["ddWeb.org.OrgCache"]).factory("OrgCacheFactory",["OrgCache",function(e){function r(r){return a[r]?a[r]:(a[r]=new e(r),a[r])}var a={};return{getOrgCacheByOid:r}}]);

},{"./OrgCache":535}],537:[function(require,module,exports){
var ORG_NODE_TYPE={DEPT:0,PEOPLE:1};module.exports=ORG_NODE_TYPE;

},{}],538:[function(require,module,exports){
require("../tree/Tree"),require("./OrgTreeNode"),require("./OrgCacheFactory");var _=require("lodash"),moduleName="ddWeb.org.OrgTree";module.exports=moduleName,angular.module(moduleName,["ddWeb.tree.Tree","ddWeb.org.OrgCacheFactory","ddWeb.org.OrgTreeNode"]).factory("OrgTree",["Tree","OrgCacheFactory","OrgTreeNode",function(e,r,t){var o=e.extend({initialize:function(e){this.orgData=e,this.rootTreeNode=null,this.currentTreeNode=null,this.oid=this.orgData.orgDetail.orgId,this.currentTreeNode=null,this._initOrgTree()},genOrgTreeNode:function(e,o){var i=this.oid,d=r.getOrgCacheByOid(i),n=new t(e,i,o),a=n.getId();return d.getCache(a)?d.getCache(a):(d.setCache(a,n),n)},genRootNode:function(){var e=this.orgData,r={},t=null;this.oid;return t=e.orgDetail.orgName,r={dept:{deptName:t},nodeType:0,isRoot:!0},this.genOrgTreeNode(r)},_initOrgTree:function(){var e=this,r=this.genRootNode();e.rootTreeNode=r;var t=this.orgData.orgNodeItemList;t&&Array.isArray(t)&&t.forEach(function(r){e.buildDispatchPath(r.masterNodeList)}),e.currentTreeNode=e.rootTreeNode},buildDispatchPath:function(e){var r=this,t=r.rootTreeNode;return e.forEach(function(e){var o=r.genOrgTreeNode(e);o.updateParent(t),t.updateChildren([o]),t=o}),t},findOrgTreeNodeByDeptId:function(e,r){var r=r?r+"":null;if(e.deptId===r)return e;var t=this,o=null;return e.children&&e.children.forEach(function(e){var i=t.findOrgTreeNodeByDeptId(e,r);i&&(o=i)}),o},changeDeptByDeptId:function(e){this.currentTreeNode=this.findOrgTreeNodeByDeptId(this.rootTreeNode,e)}});return o}]);

},{"../tree/Tree":617,"./OrgCacheFactory":536,"./OrgTreeNode":539,"lodash":919}],539:[function(require,module,exports){
"use strict";var moduleName="ddWeb.org.OrgTreeNode";module.exports=moduleName,require("../tree/TreeNode"),require("./OrgCacheFactory"),require("../tree/TreeEOFNode");var _=require("lodash"),ORG_NODE_TYPE=require("./OrgNodeType");angular.module(moduleName,["ddWeb.tree.TreeNode","ddWeb.org.OrgCacheFactory",require("@ali/ding-api").interface.ContactI,"ddWeb.tree.TreeEOFNode",require("../log/log"),require("../user/userManager")]).factory("OrgTreeNode",["TreeNode","OrgCacheFactory","ContactI","TreeEOFNode","log","userManager",function(e,t,r,i,n,o){var d=e.extend({initialize:function(e,t,r){var i=_.cloneDeep(e);d.superclass.initialize.call(this,i),this.defaultSize=20,this.pageSize=20,this.offset=0,this.oid=t,this.hasMore=!0,this.deptId=this._genDeptId(e),this.id=this._genId(e),this.queryOption=this._getQueryOptionByItem(e,t),this.updateParent(r),this._setUser(e),this.request=null},getId:function(){return this.id},_setUser:function(e){e.nodeType===ORG_NODE_TYPE.PEOPLE&&e.userProfile&&o.getUsers([e.userProfile.uid]).then(function(e){e&&e[0]&&(this.detail.user=e[0])}.bind(this))},_genDeptId:function(e){if(e.nodeType===ORG_NODE_TYPE.PEOPLE)var t=_.get(e,"employee.orgStaffId");else if(e.nodeType===ORG_NODE_TYPE.DEPT)var t=_.get(e,"dept.deptId")+"";if(e.isRoot)var t="-1";return t},updateParent:function(e){e&&e instanceof d&&this.parents.indexOf(e)===-1&&this.parents.push(e)},updateChildren:function(r,i){var n=this,o=t.getOrgCacheByOid(this.oid);null===n.children&&(n.children=[]),r=r.map(function(t){if(!t)return t;var r=null;if(t instanceof e)r=t;else{try{var d=new n.constructor(t,n.oid,n)}catch(e){console.log(e)}var s=d.getId();if(!s)return;if(r=o.getCache(s)){var a=r.parents.indexOf(n);a===-1?(r.updateParent(n),r.changeCurrentParentIndex(r.parents.length-1)):r.changeCurrentParentIndex(a)}else r=d,o.setCache(s,d)}var u=n.children.indexOf(r);return u===-1?r:i?(n.children.splice(u,1),r):void 0}).filter(function(e){return!!e}),this.children=this.children.concat(r)},getMore:function(e,t,i){var o=this.queryOption,d=this;return d.hasMore?void(d.request=r.getOrgRelations(o.keyword,o.keyType,o.deptType,o.orgId,t,e,function(e){n.info("pull arch data with queryOption "+JSON.stringify(o)+"offset"+t),d.request=null,200==e.code&&e.body?(d.hasMore=e.body.hasMore,d.offset+=d.pageSize,i(e.body.values)):601!==e.code&&(i(!1),n.error("pull arch error"))})):i([])},active:function(e){var t=this;return 0!==this.offset?e&&e([]):void this.getMore(this.defaultSize,this.offset,function(r){r&&Array.isArray(r)&&t.updateChildren(r,!0),e&&e(r)})},showMore:function(e){var t=this;this.getMore(this.pageSize,this.offset,function(r){r&&Array.isArray(r)&&r.length>0&&t.updateChildren(r,!0),e&&e(r)})},showAll:function(e){var t=this;if(t.hasMore)this.showMore(function(r){return!r&&e?e(!1):void t.showAll(e)});else{var r=$.extend(!0,[],t.children);t.detail.nodeType===ORG_NODE_TYPE.PEOPLE&&r.unshift(t),e&&e(r)}},_getQueryOptionByItem:function(e,t){var r={};if(r.orgId=t,r.deptType=0,e.nodeType===ORG_NODE_TYPE.DEPT){var i=e.dept;r.keyType=0,r.keyword=i.deptId}else if(e.nodeType===ORG_NODE_TYPE.PEOPLE){var i=e.employee,n=i.uid,o=i.orgStaffId;n?(r.keyType=1,r.keyword=i.uid):o?(r.keyType=2,r.keyword=i.orgStaffId):(r.keyType=2,r.keyword=null)}return r},_genId:function(e){var t=this.oid,r="";if(e.nodeType==ORG_NODE_TYPE.DEPT)r=e.dept.deptId?t+"-"+e.nodeType+"-"+e.dept.deptId:t+"";else if(e.nodeType===ORG_NODE_TYPE.PEOPLE){var i=e.employee,n=i.uid,o=i.orgStaffId;r=n?t+"-"+e.nodeType+"-"+i.uid:o?t+"-"+e.nodeType+"-"+i.orgStaffId:t+""}return r},dismissRequest:function(){this.request&&this.request.dismiss()},destroy:function(){this.children=null,this.parents=[]}});return d}]);

},{"../log/log":422,"../tree/TreeEOFNode":619,"../tree/TreeNode":620,"../user/userManager":641,"./OrgCacheFactory":536,"./OrgNodeType":537,"@ali/ding-api":711,"lodash":919}],540:[function(require,module,exports){
var orgContactAppIds={EXTERNAL_CONTACT:-16,CLIENTS_CONTACT:1051};module.exports=orgContactAppIds;

},{}],541:[function(require,module,exports){
var EventEmitter=require("wolfy87-eventemitter"),Class=require("../../lib/class"),moduleName=module.exports="ddWeb.org.orgStateManager",serviceName="orgStateManager",ddStorage=require("../storage/ddStorage"),app=angular.module(moduleName,[]);app.factory(serviceName,[function(){var t=Class.create({initialize:function(){this.orgState={},this.orgState.orgId=null,this.orgState.staffId=null,this.orgState.uid=null,this.orgState.staffId=null,this.orgState.externalContact=null,this.orgExpandState={},this.forceIgnoreLocalStorage=!1},Implements:EventEmitter,EventsName:{ORG_STATE_CHANGE:"org_state_change",ORG_EXPAND_STATE_CHANGE:"org_expand_state_change"},changeOrgState:function(t,e){this.orgState.orgId=t.orgId,this.orgState.deptId=t.deptId,this.orgState.uid=t.uid,this.orgState.staffId=t.staffId,this.orgState.externalContact=t.externalContact,this.forceIgnoreLocalStorage=!!e,this.emit(this.EventsName.ORG_STATE_CHANGE)},toggleOrgExpandState:function(t){void 0===this.orgExpandState[t]&&(this.orgExpandState[t]=!0),this.setOrgExpandState(t,!this.orgExpandState[t])},setOrgExpandState:function(t,e){this.orgExpandState[t]=e,ddStorage.setItemWithUid(ddStorage.STORAGE_KEY.ORG_FOLD_RULES,JSON.stringify(this.orgExpandState)),this.emit(this.EventsName.ORG_EXPAND_STATE_CHANGE)},initOrgExpandState:function(){var t=ddStorage.getItemWithUid(ddStorage.STORAGE_KEY.ORG_FOLD_RULES)||"{}";try{this.orgExpandState=JSON.parse(t)}catch(t){this.orgExpandState={}}},isCustomExpandState:function(){return!!ddStorage.getItemWithUid(ddStorage.STORAGE_KEY.ORG_FOLD_RULES)}});return new t}]);

},{"../../lib/class":198,"../storage/ddStorage":605,"wolfy87-eventemitter":944}],542:[function(require,module,exports){
"use strict";function isInLangs(a){for(var e=0;e<Langs.length;e++)if(Langs[e].type===a)return Langs[e];return!1}var moduleName="ddWeb.services.muitiLanguage",serviceName="muitiLanguage",storage=require("../storage/storage"),useLang=storage.local.getItem(storage.KEYS.USE_LANG),Langs=[{text:"简体中文",type:"zh_CN"},{text:"繁體中文",type:"zh_TW"},{text:"English",type:"en_US"}],langMap={zh:"zh_CN",zh_TW:"zh_TW",zh_HK:"zh_TW",en:"en_US","en_*":"en_US","*":"zh_CN"},LangObj={};LangObj[Langs[0].type]=require("@ali/dingtalk-pc-medusa/lang/zh_CN"),LangObj[Langs[1].type]=require("@ali/dingtalk-pc-medusa/lang/zh_TW"),LangObj[Langs[2].type]=require("@ali/dingtalk-pc-medusa/lang/en_US");var _init=function(a){Object.keys(LangObj).forEach(function(e){a.translations(e,LangObj[e])}),a.registerAvailableLanguageKeys(["en_US","zh_CN","zh_TW"],langMap).uniformLanguageTag("java").fallbackLanguage("zh_CN"),isInLangs(useLang)?a.preferredLanguage(useLang):a.determinePreferredLanguage()},_currentLang=function(){if(isInLangs(useLang))return isInLangs(useLang);for(var a=window.navigator.language,e=Object.keys(langMap),n=0;n<e.length;n++)if(e[n]===a)for(var g=0;g<Langs.length;g++)if(Langs[g].type===langMap[e[n]])return Langs[g];return Langs[0]};module.exports={Langs:Langs,getCurrentLang:_currentLang,init:_init};

},{"../storage/storage":606,"@ali/dingtalk-pc-medusa/lang/en_US":721,"@ali/dingtalk-pc-medusa/lang/zh_CN":722,"@ali/dingtalk-pc-medusa/lang/zh_TW":723}],543:[function(require,module,exports){
"use strict";var moduleName="ddWeb.refreshCookie",hostConfig=require("../hostConfig"),localLog=require("../log/localLog"),EVENTS=require("../events"),globalEventEmitter=require("../globalEventEmitter");angular.module(moduleName,[require("@ali/ding-api").interface.LoginI]).factory("refreshCookie",["LoginI","$rootScope",function(e,o){function n(){globalEventEmitter.addListener(EVENTS.LOGIN_STATE_CHANGE,function(e){2===e&&(clearInterval(a),a=setInterval(function(){t().catch(function(e){localLog.error(e)})},432e5),t().catch(function(e){localLog.error(e)}))})}function t(){return r().then(function(){return s()}).then(function(){u=0}).catch(function(){return i()})}function i(){return u+=1,u>=3?Promise.reject(new Error("Can't set cookies")):Promise.resolve().then(function(){return new Promise(function(e,o){setTimeout(function(){e()},5e3)})}).then(function(){return t()})}function r(){return new Promise(function(o,n){e.createTempSessionInfo(function(e){200===e.code?(localLog.info("create tmp session success",JSON.stringify(e)),$.ajax((u<2?hostConfig.login:hostConfig.login2)+"/login/createSessionInfoByTemp.jsonp",{dataType:"jsonp",data:{sessionId:e.body},timeout:5e3}).then(function(e){e.success===!0?(localLog.info("create tmp session success(HTTP)",JSON.stringify(e)),o()):n(e)},function(e,o,t){localLog.error("create tmp session failure(HTTP)",JSON.stringify(t)),n(t)})):(localLog.error("create tmp session failure",JSON.stringify(e)),n(e))})})}function s(){return new Promise(function(e,o){$.ajax(hostConfig.space+"/v1/ding/token",{dataType:"jsonp"}).then(function(n){n.success===!0?(localLog.info("create space cookie success",JSON.stringify(n)),e()):(localLog.error("create space cookie failure",JSON.stringify(n)),o())},function(){o()})})}function c(){$.ajax((u<2?hostConfig.login:hostConfig.login2)+"/login/clearSession.jsonp",{dataType:"jsonp",data:{sessionId:token}}).done(function(e){})}var a=null,u=0;return{init:n,clearSession:c,refresh:t}}]),module.exports=moduleName;

},{"../events":376,"../globalEventEmitter":396,"../hostConfig":405,"../log/localLog":421,"@ali/ding-api":711}],544:[function(require,module,exports){
"use strict";function escapeHTML(t){return String(t).replace(/[&<>"'\/]/g,function(t){return entityMap[t]})}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};exports.escapeHTML=escapeHTML;
},{}],545:[function(require,module,exports){
"use strict";var moduleName="ddWeb.safe",safeCommon=require("./safe-common");angular.module(moduleName,[]).factory("safe",[function(){return{escapeHTML:safeCommon.escapeHTML}}]),module.exports=moduleName;

},{"./safe-common":544}],546:[function(require,module,exports){
"use strict";var moduleName="ddWeb.safety.AnHeng",Class=require("../../lib/class"),localLog=require("../log/localLog"),localFilePathManager=require("../app/localFilePathManager"),AnHengResCode=require("./anHengResCode"),safetyType=require("./safetyType"),safetyEventCenter=require("./safetyEventCenter"),ua=require("../ua"),httpOverLwp=require("../io/httpOverLwp"),LocalFile=require("../../service/file/LocalFile"),safetyAlarmType=require("./safetyAlarmType");angular.module(moduleName,[require("../microApp/requestAuthCode"),require("../microApp/microAppData"),require("../log/vipLogManager")]).factory("AnHengSDK",["requestAuthCode","microAppData","vipLogManager",function(e,r,t){var o=Class.create({initialize:function(){var e=localFilePathManager.getSafetyPath();if(ua.isNw){var t=_nwrequire("@ali/safechat");this._safechat=new t}else ua.isDingTalkWin&&(this._safechat=dingtalk.ah_crypto);this._safechat.init(e),this.ignoreReportCodes=[AnHengResCode.DTMsgRetOK,AnHengResCode.DTMsgRetLocalKeyNoExists,AnHengResCode.RetLocalKeyIsOnRequestButNotReturn,AnHengResCode.DTMsgRetLocalKeyIsOnRequestButNotReturn,AnHengResCode.DTMsgRetLocalDecryptMsgFormatError],r.addListener(r.oApiPushEventPrefix+safetyType.ANHENG,function(e){if(e){var r=e.corpId;this.refreshKey(r),localLog.info("receive oapi push ,refresh key for corp: ",r)}}.bind(this)),this._proxyPromise={},this._timeoutPromise={}},refreshKey:function(e){return new Promise(function(r,t){this._safechat.refreshKey(e,function(t,o,i,n,s){this.proxyCb(e,s,i,o),r()}.bind(this))}.bind(this))},shouldReport:function(e){return this.ignoreReportCodes.indexOf(e)===-1},proxyCb:function(r,o,i,n){var s=this;return this._proxyPromise[r]?this._proxyPromise[r]:(this._proxyPromise[r]=new Promise(function(t,a){e.getCode({corpId:r,url:o}).then(function(e){if(!e.body)return localLog.error("get code empty",e.body),void a({error:"get code empty"});var o=n+"?"+i+"&code="+e.body;httpOverLwp.request(o).then(function(e){if(200===e.body.code){var o=window.atob(e.body.body),i={};try{var i=JSON.parse(o)}catch(e){}if(0!==i.errcode)return a({error:"anheng server resp error "+o});var n=s._safechat.setKey(r,o);localLog.error("set key result",n),n?(localLog.error("set key error",o,n),a({error:"set key error "+n})):(safetyEventCenter.emit(safetyEventCenter.EventsName.GENERATE_KEY,r),t())}else localLog.error("get key fail",e.body.code,e.body.body),a({error:"get key fail"})}.bind(this)).catch(function(e){localLog.error("get secret key error",o,_.isObject(e)&&JSON.stringify(e),e&&e.toString()),a({error:"get secret key error"})})}.bind(this)).catch(function(e){localLog.error("get auth code fail",r,o,_.isObject(e)&&JSON.stringify(e),e&&e.toString()),a({error:"get auth code fail"})}),s._timeoutPromise[r]=setTimeout(function(){localLog.error("get auth code fail",r,o),a({error:"获取密钥超时"})},2e4)}),this._proxyPromise[r]=this._proxyPromise[r].then(function(){return s._proxyPromise[r]=null,clearTimeout(s._timeoutPromise[r]),Promise.resolve()}).catch(function(e){return t.alarm(t.Name.Safety,t.SubType.AnhengError,"拉取密钥失败",{corpId:r,type:safetyAlarmType.AnHeng,error:e&&e.error,code:e&&e.code}),s._proxyPromise[r]=null,clearTimeout(s._timeoutPromise[r]),Promise.reject(e)}),this._proxyPromise[r])},decrypt:function(e,r){return e?new Promise(function(o,i){this._safechat.decryptMsg(e,r,function(r,n,s,a,c,l){return r==AnHengResCode.DTMsgRetOK?o(n):r==AnHengResCode.DTMsgRetLocalKeyNoExists?(this.proxyCb(e,l,a,s),localLog.error("decrypt failed",e,r),i({code:r,subType:t.SubType.DecryptFail,desc:"消息解密失败"})):(localLog.error("decrypt failed",e,r),i({code:r,subType:t.SubType.DecryptFail,desc:"消息解密失败"}))}.bind(this))}.bind(this)):Promise.reject(new Error("AnHeng, corpId is null"))},encryptFile:function(e,r,o){return new Promise(function(t,i){this._safechat.encryptFile(e,r,o,function(n,s,a,c,l){return n==AnHengResCode.DTMsgRetOK?t():n==AnHengResCode.DTMsgRetLocalKeyNoExists?(this.proxyCb(e,l,a,s),localLog.error("encrypt file failed",e,n,r,o),i(n)):(localLog.error("encrypt file failed",e,n,r,o),i(n))}.bind(this))}.bind(this)).catch(function(e){return Promise.reject({code:e,type:safetyAlarmType.AnHeng,subType:t.SubType.EncryptFail})})},decryptFile:function(e,r,o){return e?new Promise(function(t,i){this._safechat.decryptFile(e,r,o,function(n,s,a,c,l){return n==AnHengResCode.DTMsgRetOK?t():n==AnHengResCode.DTMsgRetLocalKeyNoExists?(this.proxyCb(e,l,a,s),localLog.error("decrypt file failed",e,n,r,o),i(n)):(localLog.error("decrypt file failed",e,n,r,o),i(n))}.bind(this))}.bind(this)).catch(function(e){return Promise.reject({code:e,subType:t.SubType.DecryptFail,type:safetyAlarmType.AnHeng})}):Promise.reject(new Error("AnHeng, corpId is null"))},encrypt:function(e,r){return e?new Promise(function(o,i){this._safechat.encryptMsg(e,r,function(r,n,s,a,c,l){return r==AnHengResCode.DTMsgRetOK?o(n):r==AnHengResCode.DTMsgRetLocalKeyNoExists?(this.proxyCb(e,l,a,s),localLog.error("encrypt failed",e,r),i({code:r,subType:t.SubType.EncryptFail,desc:"消息加密失败"})):(localLog.error("encrypt failed",e,r),i({code:r,subType:t.SubType.EncryptFail,desc:"消息加密失败"}))}.bind(this))}.bind(this)):Promise.reject(new Error("AnHeng, corpId is null"))}});return o}]),module.exports=moduleName;

},{"../../lib/class":198,"../../service/file/LocalFile":378,"../app/localFilePathManager":254,"../io/httpOverLwp":410,"../log/localLog":421,"../log/vipLogManager":427,"../microApp/microAppData":437,"../microApp/requestAuthCode":439,"../ua":621,"./anHengResCode":547,"./safetyAlarmType":554,"./safetyEventCenter":556,"./safetyType":562}],547:[function(require,module,exports){
"use strict";var anHengResultCode={DTMsgRetOK:"0",DTMsgRetServiceCodeEmpty:"-10001",DTMsgRetServiceCodeIllegal:"-10002",DTMsgRetServiceCodeExpire:"-10003",DTMsgRetLocalPathNoAvaiable:"-15001",DTMsgRetLocalKeyNoExists:"-15002",DTMsgRetLocalCorpIdEmpty:"-15003",DTMsgRetLocalMaticalError:"-15004",DTMsgRetLocalGetCodeFunNoExists:"-15005",DTMsgRetLocalGetCodeError:"-15006",DTMsgRetLocalSaveKeyError:"-15007",DTMsgRetServiceParamEmpty:"-20001",DTMsgRetServiceParamIllegal:"-20002",DTMsgRetServiceMaticalEmpty:"-20003",DTMsgRetServiceMaticalIllegal:"-20004",DTMsgRetServiceNoAvaiableMatical:"-20011",DTMsgRetServiceNoAvaiableKey:"-20012",DTMsgRetLocalMsgContentEmpty:"-25001",DTMsgRetLocalDecryptMsgFormatError:"-25002",DTMsgRetLocalKeyIsOnRequestButNotReturn:"-25003",DTMsgRetServiceReturnEmpty:"-25004",DTMsgRetParseKeyFromResponseError:"-25005,"};module.exports=anHengResultCode;

},{}],548:[function(require,module,exports){
"use strict";function _initBlackboxEntry(e){var t=e.TableEntry;BlackboxEntry=t.extend({initialize:function(){BlackboxEntry.superclass.initialize.call(this),this.tableName=blackboxTableDef.TABLE_NAME,this._initTable()},_defineTable:function(){this.tableDef=tableDef,this.colsDefs=this.tableDef.map(function(e){return e.name+" "+e.constraint}),this.cols=this.tableDef.map(function(e){return e.name}),this.indexDefs=indexDefs},_defineSerializationMap:function(){this.serializeMap={},this.serializeMap[colsEnums.CORP_ID]="corpId",this.serializeMap[colsEnums.KEYS]="keys"},getByCorpId:function(e,t){if(!e)return Promise.reject("cropId is null");var i=colsEnums.CORP_ID+"=?",n=[e],r={columns:["*"],selection:i,selectionArgs:n};return this.getTableWrapper.then(function(){return this.tableWrapper.query(r,t)}.bind(this)).then(function(e){if(e&&e.length){var t=e.map(function(e){return this._deserialization(e)}.bind(this));return Promise.resolve(t[0])}return Promise.reject(new Error("not in local db"))}.bind(this))},update:function(e,t){var i=_.get(e,"corpId");if(!i)return Promise.reject("cropId is null");var n=colsEnums.CORP_ID+"=?",r=[i],l={},a=this._serialization(e);a.forEach(function(e,t){l[this.cols[t]]=e}.bind(this));var s={columns:["*"],selection:n,selectionArgs:r};return this.getTableWrapper.then(function(){return this.tableWrapper.query(s,t)}.bind(this)).then(function(e){return e&&e.length?this.tableWrapper.update(l,n,r,t):this.tableWrapper.insert(l,null,t)}.bind(this))}})}var _=require("lodash"),blackboxTableDef=require("./blackboxTableDef"),colsEnums=blackboxTableDef.colsEnums,tableDef=blackboxTableDef.tableDef,indexDefs=blackboxTableDef.indexDefs,BlackboxEntry=null,dbCollection=require("../db/dbCollection");module.exports={getBlackboxEntry:function(){return BlackboxEntry||_initBlackboxEntry(dbCollection),BlackboxEntry}};
},{"../db/dbCollection":328,"./blackboxTableDef":550,"lodash":919}],549:[function(require,module,exports){
"use strict";var Class=require("../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),blackboxDbEntryService=require("./blackboxDbEntryService"),Blackbox=Class.create({initialize:function(){this._cache={},this._savePromises={},this.updateEventNamePrefix="blackboxUpdate"},Implements:EventEmitter,EventsName:{},afterAuthInit:function(){var e=blackboxDbEntryService.getBlackboxEntry();e&&(this.blackboxDbEntry=new e)},_saveDb:function(e){var t=_.get(e,"corpId");return t?(this._savePromises[t]||(this._savePromises[t]=this.blackboxDbEntry.update(e).then(function(){return this._savePromises[t]=null,Promise.resolve()}.bind(this)).catch(function(e){return this._savePromises[t]=null,Promise.reject(e)}.bind(this))),this._savePromises[t]):Promise.reject(new Error("corpId is required"))},saveBlackbox:function(e){return this.blackboxDbEntry?this._saveDb(e).then(function(){this._cache[e.cropId]=e}.bind(this)):this._cache[e.cropId]=e,this.emit(this.updateEventNamePrefix+e.corpId,e),!0},getBlackboxByCorpId:function(e){return this._cache[e]?Promise.resolve(this._cache[e]):this.blackboxDbEntry.getByCorpId(e).then(function(t){return this._cache[e]=t,Promise.resolve(t)}.bind(this))}});module.exports=new Blackbox;

},{"../../lib/class":198,"./blackboxDbEntryService":548,"wolfy87-eventemitter":944}],550:[function(require,module,exports){
var colsEnums={CORP_ID:"corpId",KEYS:"keysJson"},tableDef=[{name:colsEnums.CORP_ID,constraint:"TEXT PRIMARY KEY"},{name:colsEnums.KEYS,constraint:"TEXT"}],tableName="Blackbox",indexEnums={CORP_ID:"idx_blackbox_corpId"},indexDefs=[{name:indexEnums.CORP_ID,colName:colsEnums.CORP_ID,isUnique:!0}];module.exports={indexEnums:indexEnums,indexDefs:indexDefs,tableDef:tableDef,colsEnums:colsEnums,TABLE_NAME:tableName};
},{}],551:[function(require,module,exports){
"use strict";var moduleName="ddWeb.safety.dingSafety",Class=require("../../lib/class"),ua=require("../ua"),LocalFile=require("../file/LocalFile"),blackboxService=require("./blackboxService"),localLog=require("../log/localLog"),safetyAlarmType=require("./safetyAlarmType"),$my=require("../user/my"),BLACKBOX_TYPE={DEV:1,PROD:2};angular.module(moduleName,[require("./getKeyByCorpId")]).factory("dingSafety",["getKeyByCorpId",function(r){var e=Class.create({initialize:function(){if(this.cryptoProvider=null,ua.isNw){var r=_nwrequire("@ali/dingtalk-sqlite3").CryptoProvider;this.cryptoProvider=new r}else ua.isDingTalkWin&&(this.cryptoProvider=dingtalk.crypto)},_getDataFromServer:function(e){return r(e).then(function(r){return r.body.keys}).catch(function(r){return localLog.error("get key by corp id fail",r,r._originMsg),Promise.reject(r)})},_getAndSave:function(r){return this._getDataFromServer(r).then(function(e){var t={corpId:r,keys:e};return blackboxService.saveBlackbox(t),Promise.resolve(e)})},getKeyByCorpId:function(r){var e=$my.getOrgByCorpId(r),t=null;try{t=JSON.parse(JSON.parse(_.get(e,"orgDetail.ext")).encryption_list)}catch(r){}return t?(this._getAndSave(r),Promise.resolve(t)):this._getAndSave(r)},encryptFromBlackbox:function(r,e){return new Promise(function(t,i){var o=_.maxBy(e.keys,function(r){return r.version}),n=_.get(o,"key"),c=_.get(o,"algorithm"),a=_.get(o,"version");this.cryptoProvider||i("crypto provider init fail"),this.cryptoProvider.blackboxDecrypt(BLACKBOX_TYPE.PROD,n,function(e,o){return"0"!=e?(localLog.error("blackboxDecrypt error",e),i(new Error("blackboxDecrypt error"))):void this.cryptoProvider.encrypt(o,r,c,a,function(r,e){return r?i(r):t(e)})}.bind(this))}.bind(this))},decryptFromBlackbox:function(r,e){return new Promise(function(t,i){this.cryptoProvider||i("crypto provider init fail"),this.cryptoProvider.decryptHeader(r,function(o,n,c){if("0"!=o)return localLog.error("decrypt Header err",o),i(new Error("decrypt Header err"));var a=_.find(e.keys,function(r){return r.version==n});if(!a)return i(new Error("can not find pair version key"));var s=_.get(a,"key"),y=_.get(a,"algorithm"),n=_.get(a,"version");this.cryptoProvider.blackboxDecrypt(BLACKBOX_TYPE.PROD,s,function(e,o){this.cryptoProvider.decrypt(o,r,y,function(r,e){return r?i(r):t(e)})}.bind(this))}.bind(this))}.bind(this))},decryptFileFromBlackbox:function(r,e,t){return new Promise(function(i,o){return this.cryptoProvider?void this.cryptoProvider.decryptFileHeader(r,function(n,c,a){if(n)return localLog.error("decrypt Header err",n),o(new Error("decrypt Header err"));var s=_.find(t.keys,function(r){return r.version==c});if(!s)return o(new Error("can not find pair version key"));var y=_.get(s,"key"),c=(_.get(s,"algorithm"),_.get(s,"version"));this.cryptoProvider.blackboxDecrypt(BLACKBOX_TYPE.PROD,y,function(t,n){this.cryptoProvider.decryptFile(n,r,e,function(r,e,t){return r?(localLog("ding safety decrypt file error",r,t),o(r)):i(e)})}.bind(this))}.bind(this)):void o("crypto provider init fail")}.bind(this))},encryptFileFromBlackbox:function(r,e,t){return new Promise(function(i,o){var n=_.maxBy(t.keys,function(r){return r.version}),c=_.get(n,"key"),a=_.get(n,"algorithm"),s=_.get(n,"version");this.cryptoProvider||o("crypto provider init fail"),this.cryptoProvider.blackboxDecrypt(BLACKBOX_TYPE.PROD,c,function(t,n){return"0"!=t?(localLog.error("blackboxDecrypt error",t),o(new Error("blackboxDecrypt error"))):void this.cryptoProvider.encryptFile(n,a,s,r,e,function(r,e,t){return r?(localLog("ding safety encrypt file error",r,t),o(r)):i(e)})}.bind(this))}.bind(this))},encryptFile:function(r,e,t){return this.getBlackboxModel(r).then(function(r){return this.encryptFileFromBlackbox(e,t,r)}.bind(this)).catch(function(r){return Promise.reject({error:r,type:safetyAlarmType.DingTalk})})},decryptFile:function(r,e,t){return this.getBlackboxModel(r).then(function(r){return this.decryptFileFromBlackbox(e,t,r)}.bind(this)).catch(function(r){return Promise.reject({error:r,type:safetyAlarmType.DingTalk})})},getBlackboxModel:function(r){return r?blackboxService.getBlackboxByCorpId(r).catch(function(){return this.getKeyByCorpId(r).then(function(e){var t={corpId:r,keys:e};return Promise.resolve(t)}.bind(this))}.bind(this)):Promise.reject(new Error("corpId is null in dingsafety"))},encrypt:function(r,e){return r?blackboxService.getBlackboxByCorpId(r).then(function(r){return this.encryptFromBlackbox(e,r)}.bind(this)).catch(function(){return this.getKeyByCorpId(r).then(function(t){var i={corpId:r,keys:t};return this.encryptFromBlackbox(e,i)}.bind(this))}.bind(this)):Promise.reject(new Error("corpId is null in dingsafety"))},decrypt:function(r,e){return r?blackboxService.getBlackboxByCorpId(r).then(function(r){return this.decryptFromBlackbox(e,r)}.bind(this)).catch(function(t){return this.getKeyByCorpId(r).then(function(t){var i={corpId:r,keys:t};return this.decryptFromBlackbox(e,i)}.bind(this))}.bind(this)):Promise.reject(new Error("corpId is null in dingsafety"))}});return e}]),module.exports=moduleName;

},{"../../lib/class":198,"../file/LocalFile":378,"../log/localLog":421,"../ua":621,"../user/my":635,"./blackboxService":549,"./getKeyByCorpId":553,"./safetyAlarmType":554}],552:[function(require,module,exports){
"use strict";var moduleName="ddWeb.safety.fileEncryptor",SAFETY_PRIORITY=require("./safetyPriority"),localLog=require("../../service/log/localLog");angular.module(moduleName,[require("../file/fileHelper"),require("./safetyInstance")]).factory("fileEncryptor",["$fileHelper","safetyInstance",function(e,r){var t=function(t,n,i,o){var c=r.getDingTalkIns(),l=r.getThirdSafetyIns(n);if(!c||!l)return localLog.error("encrypt file get instance error"),Promise.reject(new Error("get instance error"));var u,a=[],s=e.getTmpPath();if(a.push(s),i)var f=l.encryptFile(t,o,s).then(function(){return u=e.getTmpPath(),a.push(u),c.encryptFile(t,s,u)});else var f=c.encryptFile(t,o,s).then(function(){return u=e.getTmpPath(),a.push(u),l.encryptFile(t,s,u)});return f.then(function(){return Promise.resolve({tmpFiles:a,destPath:u})}).catch(function(r){return localLog.error("encrypt file error",r,t,n,i),e.removeFiles(a).then(function(){return Promise.reject(r)})})},n=function(t,n,i,o,c){var l=[];l.push(o);var u=Promise.resolve();return u=u.then(function(){var u=e.getTmpPath(),a=r.getDingTalkIns(),s=r.getThirdSafetyIns(n);return a&&s?i===SAFETY_PRIORITY.third?a.decryptFile(t,o,u).then(function(){return l.push(u),s.decryptFile(t,u,c)}):s.decryptFile(t,o,u).then(function(){return l.push(u),a.decryptFile(t,u,c)}):(localLog.error("decrypt file get instance error",n),Promise.reject(new Error("instance error")))}),u.then(function(){return e.removeFiles(l)}).catch(function(r){return localLog.error("decrypt file error",r,t,n,i),e.removeFiles(l).then(function(){return Promise.reject(r)})})};return{encrypt:t,decrypt:n}}]),module.exports=moduleName;

},{"../../service/log/localLog":421,"../file/fileHelper":379,"./safetyInstance":559,"./safetyPriority":561}],553:[function(require,module,exports){
"use strict";var moduleName="ddWeb.safety.getKeyByCorpId";angular.module(moduleName,[require("@ali/ding-api").interface.EncryptionI]).factory("getKeyByCorpId",["EncryptionI",function(e){var r={},t=function(t){if(!t)return Promise.reject("corpId is required in getKeyByCorpId");if(r[t])return r[t];var n=e.getKeyByCorpId(t).result.then(function(e){return delete r[t],e}.bind(this)).catch(function(e){return delete r[t],Promise.reject(e)});return r[t]=n,n};return t}]),module.exports=moduleName;

},{"@ali/ding-api":711}],554:[function(require,module,exports){
module.exports={AnHeng:3,DingTalk:4};
},{}],555:[function(require,module,exports){
module.exports={FALSE:"0",TRUE:"1"};

},{}],556:[function(require,module,exports){
"use strict";var EventEmitter=require("wolfy87-eventemitter"),Class=require("../../lib/class"),EventCenter=Class.create({initialize:function(){},Implements:EventEmitter,EventsName:{GENERATE_KEY:"generate_key",DECRYPT_SUCCESS:"decrypt_success"}});module.exports=new EventCenter;

},{"../../lib/class":198,"wolfy87-eventemitter":944}],557:[function(require,module,exports){
"use strict";var moduleName="ddWeb.safety.safetyHelper",SAFETY_PRIORITY=require("./safetyPriority"),localLog=require("../../service/log/localLog"),$my=require("../../service/user/my"),urlParser=require("url"),querystring=require("querystring");angular.module(moduleName,[require("@ali/ding-api").interface.CSpace,require("../../service/toast/toast"),require("../../service/log/vipLogManager")]).factory("safetyHelper",["toastService","$translate","vipLogManager","CSpace",function(e,r,t,o){var i={pc_safety_fetch_key_fail:r.instant("pc_safety_fetch_key_fail"),pc_safety_file_leave_org_tips:r.instant("pc_safety_file_leave_org_tips")},n=function(r,n,a,c){var s,c=c||{};return o.infoDentry({spaceId:n,id:a}).result.then(function(e){if(0===e.body.resultCode){if(1!==_.get(e,"body.data.dentryModel.items[0].encrypt"))return Promise.reject(new Error("文件没有被加密"));var t=_.get(e,"body.data.dentryModel.items[0].encryptDetail")||{};if(s=t.orgId,!t.orgId)return Promise.reject(new Error("no orgId to decrypt"));var o=$my.getOrgByOid(t.orgId);if(!o)return Promise.reject(new Error("can not find org data"));var i=_.get(o,"orgDetail.corpId"),n={resolve:function(){},reject:function(){}},a=function(e){n.resolve({file:r,result:e})},u=function(e){n.reject(e)};return r.proxy.once(r.EVENTS.FINISH,a),r.proxy.once(r.EVENTS.ERROR,u),new Promise(function(e,o){n.resolve=e,n.reject=o,r.download({savePath:c.savePath,corpId:i,appId:t.appId,priority:t.priority,isEncrypt:!0})}).then(function(e){return r.proxy.off(r.EVENTS.FINISH,a),r.proxy.off(r.EVENTS.ERROR,u),Promise.resolve(e)}).catch(function(e){return r.proxy.off(r.EVENTS.FINISH,a),r.proxy.off(r.EVENTS.ERROR,u),Promise.reject(e)})}return localLog.error("get CSpace infoDentry error",JSON.stringify(e.body)),Promise.reject(new Error("get CSpace infoDentry error"))}).catch(function(o){localLog.error("decrypt file error",_.isObject(o)&&JSON.stringify(o),o.toString());var n=i.pc_safety_fetch_key_fail;s&&!$my.getOrgByOid(s)&&(n=i.pc_safety_file_leave_org_tips),e.show(n,{type:"error"});var a=urlParser.parse(r.url)||{},c=querystring.parse(a.query);return t.alarm(t.Name.Safety,t.SubType.DecryptFail,"解密文件失败",{spaceId:c.spaceId,itemId:c.path,error:o||o.toString()}),Promise.reject(o)})},a={},c=function(e,r,t,o){var i=[r,t].join("_");return a[i]||(a[i]=n(e,r,t,o),a[i]=a[i].then(function(e){return a[i]=null,Promise.resolve(e)}).catch(function(e){return a[i]=null,Promise.reject(e)})),a[i]};return{decryptFile:c}}]),module.exports=moduleName;

},{"../../service/log/localLog":421,"../../service/log/vipLogManager":427,"../../service/toast/toast":611,"../../service/user/my":635,"./safetyPriority":561,"@ali/ding-api":711,"querystring":12,"url":13}],558:[function(require,module,exports){
"use strict";var moduleName="ddWeb.appInit.safetyInit",ua=require("../ua"),localFilePathManager=require("../app/localFilePathManager"),safetyType=require("./safetyType"),WK=require("@ali/wksdk"),MsgType=WK.messageType,_=require("lodash"),$my=require("../user/my"),localLog=require("../log/localLog"),safetyEventCenter=require("./safetyEventCenter"),LocalFile=require("../../service/file/LocalFile"),fileCache=require("../../service/conversation/msg/fileCache"),safetyEncryptFileStatus=require("./safetyEncryptFileStatus"),SAFETY_PRIORITY=require("./safetyPriority"),ContentType=require("../conversation/ContentType");angular.module(moduleName,[require("./anHeng"),require("./dingSafety"),require("../conversation/conversationWithSDK"),require("../log/vipLogManager"),require("../safety/safetyLog"),require("../file/fileHelper"),require("./safetyInstance"),require("./fileEncryptor")]).factory("safetyInit",["dingSafety","conversationWithSDK","AnHengSDK","vipLogManager","safetyLog","$fileHelper","safetyInstance","fileEncryptor",function(e,r,t,n,o,i,a,s){var c={},g={};safetyEventCenter.addListener(safetyEventCenter.EventsName.GENERATE_KEY,function(e){var t=_.get($my.getOrgByCorpId(e),"orgDetail.orgId");localLog.info("safetyEventCenter, generate key ",t),r.tryDecryptMsgs(void 0,t)}),safetyEventCenter.addListener(safetyEventCenter.EventsName.DECRYPT_SUCCESS,function(e){var t=e.orgId,n=e.mid;o.decryptSuccess(n),g[t]!==!0&&t&&(localLog.info("safetyEventCenter, try decrypt msg",t,g),g[t]=!0,r.tryDecryptMsgs(void 0,t))});var y=function(e){var t=_.get(e,"content.contentType");if(t!==ContentType.TEXT)return localLog.error("尝试加密非文本消息",t,e.conversationId,e.uuid),Promise.reject(new Error("don't support encrypt msg which is not the text msg"));if(e.type!==MsgType.ENCRYPTED)return localLog.error("尝试加密非加密消息",e.type,e.conversationId,e.uuid),Promise.reject(new Error("message type is not encrypt type"));var o=_.get(e,"extension.safety_app_id");if(!o||!c[o])return localLog.error("找不到加密 app",o,e.conversationId,e.uuid),Promise.reject(new Error("cannot find the encryptor"));var i=a.getThirdSafetyIns(o);if(!i)return Promise.reject(new Error("get third safety ins error"));var s=a.getDingTalkIns();if(!s)return Promise.reject(new Error("get ding safety ins error"));var g,y=_.get(e,"conversationId");return r.getOrgDataByCid(y).then(function(r){if(g=_.get(r,"orgDetail.corpId"),!g)return localLog.error("cropId is null",JSON.stringify(r)),Promise.reject(new Error("can not get org by orgId"));var t=_.get(r,"orgDetail.organizationSettingsModel.thirdPartyEcryptPriority")||!1,n=_.cloneDeep(e);n.extension.oid=String(_.get(r,"orgDetail.orgId"));var o=_.get(n,"content.textContent.text");return t?i.encrypt(g,o).then(function(e){return s.encrypt(g,e)}).then(function(e){return n.content.textContent.text=e,n.extension.safety_priority=SAFETY_PRIORITY.third,Promise.resolve(n)}):s.encrypt(g,o).then(function(e){return i.encrypt(g,e)}).then(function(e){return n.content.textContent.text=e,n.extension.safety_priority=SAFETY_PRIORITY.dingTalk,Promise.resolve(n)})}).catch(function(r){return localLog.error("加密失败",e.conversationId,e.uuid,r),r.subType===n.SubType.EncryptFail?i.shouldReport&&i.shouldReport(r.code)&&n.alarm(n.Name.Safety,n.SubType.EncryptFail,r.desc,{corpId:g,cid:e.conversationId,uuid:e.uuid,code:r.code}):n.alarm(n.Name.Safety,n.SubType.SafetyError,"消息加解密异常",{corpId:g,cid:e.conversationId,uuid:e.uuid,e:r.message}),Promise.reject(r)})},u=function(e){var t=_.get(e,"content.contentType");if(t!==ContentType.TEXT)return localLog.error("尝试解密非文本消息",t,e.messageId),Promise.reject(new Error("don't support decrypt msg which is not the text msg"));if(e.type!==MsgType.ENCRYPTED)return localLog.error("尝试解密非加密消息",e.type,e.conversationId,e.messageId),Promise.reject(new Error("message type is not encrypt type"));var n=_.get(e,"extension.safety_app_id");if(!n||!c[n])return localLog.error("找不到加密 app",n,e.messageId),Promise.reject(new Error("cannot find the encryptor"));var i=a.getThirdSafetyIns(n);if(!i)return Promise.reject(new Error("get third safety ins error"));var s=a.getDingTalkIns();if(!s)return Promise.reject(new Error("get ding safety ins error"));var g,y=_.get(e,"conversationId"),u=_.get(e,"extension.oid");if(u)var d=f(u);else var d=r.getOrgDataByCid(y);return d.then(function(r){if(g=_.get(r,"orgDetail.corpId"),!g)return localLog.error("cropId is null",JSON.stringify(r)),Promise.reject(new Error("can not get org by orgId"));var t=_.cloneDeep(e),n=_.get(t,"content.textContent.text"),o=_.get(t,"extension.safety_priority");return o===SAFETY_PRIORITY.third?s.decrypt(g,n).then(function(e){return i.decrypt(g,e)}).then(function(n){t.content.textContent.text=n;var o=_.get(r,"orgDetail.orgId");return safetyEventCenter.emit(safetyEventCenter.EventsName.DECRYPT_SUCCESS,{orgId:o,mid:e.messageId}),Promise.resolve(t)}):i.decrypt(g,n).then(function(e){return s.decrypt(g,e)}).then(function(n){t.content.textContent.text=n;var o=_.get(r,"orgDetail.orgId");return safetyEventCenter.emit(safetyEventCenter.EventsName.DECRYPT_SUCCESS,{orgId:o,mid:e.messageId}),Promise.resolve(t)})}).catch(function(r){return localLog.error("解密失败",y,e.messageId,_.get(e,"extension.safety_priority"),r),o.setStack(e.messageId,{corpId:g,cid:y,mid:e.messageId,reason:r.message,safety_priority:_.get(e,"extension.safety_priority"),code:r.code}),Promise.reject(r)})},d=function(){ua.isDesktop&&(localFilePathManager.initUserFilePath(),localFilePathManager.initSafetyFilePath(),c[safetyType.ANHENG]=t,WK.config.set("msgEncryptor",{encryptMsg:y,decryptMsg:u}))},f=function(e){if(!e)return Promise.reject(new Error("no orgId to decrypt"));var r=$my.getOrgByOid(e);return r?Promise.resolve(r):Promise.reject(new Error("can not find org data"))};return{init:d,safetyEventCenter:safetyEventCenter}}]),module.exports=moduleName;

},{"../../service/conversation/msg/fileCache":315,"../../service/file/LocalFile":378,"../app/localFilePathManager":254,"../conversation/ContentType":293,"../conversation/conversationWithSDK":308,"../file/fileHelper":379,"../log/localLog":421,"../log/vipLogManager":427,"../safety/safetyLog":560,"../ua":621,"../user/my":635,"./anHeng":546,"./dingSafety":551,"./fileEncryptor":552,"./safetyEncryptFileStatus":555,"./safetyEventCenter":556,"./safetyInstance":559,"./safetyPriority":561,"./safetyType":562,"@ali/wksdk":779,"lodash":919}],559:[function(require,module,exports){
"use strict";var moduleName="ddWeb.safety.safetyInstance",safetyType=require("./safetyType"),localLog=require("../log/localLog");angular.module(moduleName,[require("./dingSafety"),require("./anHeng")]).factory("safetyInstance",["dingSafety","AnHengSDK",function(e,r){var t,a={},n={};a[safetyType.ANHENG]=r;var o=function(){if(!t)try{t=new e}catch(e){localLog.error("ding safety init error",e)}return t},i=function(e){if(!n[e]&&a[e])try{n[e]=new a[e]}catch(r){localLog.error("third safety init error",e,r)}return n[e]};return{getDingTalkIns:o,getThirdSafetyIns:i}}]),module.exports=moduleName;

},{"../log/localLog":421,"./anHeng":546,"./dingSafety":551,"./safetyType":562}],560:[function(require,module,exports){
"use strict";var moduleName="ddWeb.safety.safetyLog",cache=require("../cache/cache"),WKim=require("@ali/wksdk");angular.module(moduleName,[require("../log/vipLogManager")]).factory("safetyLog",["vipLogManager",function(e){var t=[],a=null,c=2e3,i=new cache.ExpireCache(6e4),n=function(e,t){return i.addCache(e,t)},r=function(e){return i.getCache(e)},u=function(e){t.forEach(function(t){t.mid===String(e)&&(t.isDecrypt=!0)})},o=function(t,a,c){WKim.syncSinglePackageActionMerge.registerAction("send_vip_log_"+t,function(){var i=r(t)||{};i.isDecrypt=a,i.mid=t,e.alarm(e.Name.Safety,e.SubType.DecryptFail,c,i)}.bind(this))},s=function(){var e=[],i=[];if(t.forEach(function(t){var a=Date.now()-t.createdAt;a<c?(i.push(a),e.push(t)):o(t.mid,t.isDecrypt,t.desc)}),t=e,t.length>0){var n=c-_.max(i)<100?100:c-_.max(i);a=setTimeout(function(){s()},n)}else clearTimeout(a),a=null},m=function(e,i){t.push({mid:e,createdAt:(new Date).getTime(),isDecrypt:!1,desc:i}),a||(a=setTimeout(function(){s()},c))};return{setStack:n,getStack:r,decryptSuccess:u,asyncAlarm:m}}]),module.exports=moduleName;

},{"../cache/cache":267,"../log/vipLogManager":427,"@ali/wksdk":779}],561:[function(require,module,exports){
module.exports={dingTalk:"0",third:"1"};

},{}],562:[function(require,module,exports){
"use strict";module.exports={ANHENG:"1289"};

},{}],563:[function(require,module,exports){
angular.module("ddWeb.service.SearchState",[]).value("SearchState",{OPEN:0,CLOSE:1,LOCK:2});

},{}],564:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.SearchBar",Class=require("../../../lib/class");require("../search/SearchManager"),require("../search/SearchType"),angular.module(moduleName,["ddWeb.service.SearchManager","ddWeb.service.SearchType"]).factory("SearchBar",["SearchManager","$q","SearchType",function(e,r,a){var t=Class.create({initialize:function(r,a){this.searchManager=new e(r,a)},query:function(e,t){var n=r.defer(),c=[],s=[],i=this;return this.searchManager.query(e).then(function(e){s!==e&&(s=e,c=i.transformData(e,t)),t?n.resolve(c):0===c.length?(c.push({type:a.SYSTEM,text:"没有匹配到任何结果"}),n.reject(c)):n.resolve(c)},function(e){},function(e){s=e,c=i.transformData(e,t),n.notify(c)}),n.promise},transformData:function(e,r){var a=[];return e.forEach(function(e){e.children.forEach(function(r){r.groupName=e.text,a.push(r)})}),r?{data:e,order:a}:a},getGroupName:function(e){return e.groupName},selectingHandler:function(e){this.searchManager.selectingHandler(e)},setSearchData:function(e){this.searchManager.setSearchData(e)},setSearchState:function(e){this.searchManager.setSearchState(e)}});return t}]),module.exports=moduleName;

},{"../../../lib/class":198,"../search/SearchManager":582,"../search/SearchType":583}],565:[function(require,module,exports){
"use strict";var SearchBarDefault={DEFAULT_INDEX:0};module.exports=SearchBarDefault;

},{}],566:[function(require,module,exports){
"use strict";var SearchBarEvents={CHANGE_TYPE:"search_bar:change_type",CHANGE_TYPE_AND_SEARCH:"search_bar:change_type_and_search",TO_SPECIFIC_CHAT:"search_bar:to_specific_chat",RESET:"search_bar:reset",IS_SEARCHING:"search_bar:is_searching",PRESS_KEY:"search_bar:press_key",SEARCH:"search_bar:search",TO_PREVIOUS:"search_bar:to_previous",ACTIVE_INDEX_CHANGE:"search_bar:active_index_change",SWITCH_TYPE:"search_bar:switch_type",CLOSE:"search_bar:close"};module.exports=SearchBarEvents;

},{}],567:[function(require,module,exports){
"use strict";var SearchBarState={state:{"searchBar.default":"0","searchBar.result":"1","searchBar.result.contact":"10","searchBar.result.group":"11","searchBar.result.chat":"12","searchBar.result.multi":"13","searchBar.result.chat.overview":"120","searchBar.result.chat.specific":"121"},contains:function(a,t){var r=this;return!(!r._stateIsValid(a)||!r._stateIsValid(t))&&0===t.indexOf(a)},_stateIsValid:function(a){var t=this;for(var r in t.state)if(t.state.hasOwnProperty(r)&&a===t.state[r])return!0}};module.exports=SearchBarState;

},{}],568:[function(require,module,exports){
"use strict";var SearchBarStorage={HAVE_USED_TAB:"search_bar:have_used_tab"};module.exports=SearchBarStorage;

},{}],569:[function(require,module,exports){
"use strict";var SearchBarType={CONTACT:"1",GROUP:"2",CHAT:"3",MULTI:"4"};module.exports=SearchBarType;

},{}],570:[function(require,module,exports){
"use strict";var moduleName="ddWeb.search.chatWith",$my=require("../user/my");require("./search/SearchType"),require("../toast/toast"),require("../tool/tool"),require("../modal/profileModal"),require("../goldlog/goldlog"),require("../log/lwlog.js"),require("../user/userManager"),angular.module(moduleName,["ddWeb.service.SearchType",require("@ali/ding-api").interface.UserI,"ddWeb.toast","ddWeb.goldlog","ddWeb.service.profileModal","ddWeb.log.lwlog","ddWeb.service.tool","ddWeb.user.userManager"]).factory("chatWith",["SearchType","$rootScope","UserI","tool","toastService","goldlog","lwlog","profileModalService","userManager",function(e,o,r,d,i,a,t,l,n){var s=function(o){if(e.CHAT===o.type){var r=o.model.conversationId,d=g(r);d.isSingle?u({uid:d.oppositeUid,messageId:o.model.msgId,keyword:o.model.keyword}):c(o.model)}else e.GROUP===o.type?c(o.model):u(o.model)},u=function(e){function r(r){if(u&&u.unableClickReason)return void i.show(u.unableClickReason,{type:"information"});if(!d){if(!r.userProfileModel||!r.userProfileModel.uid)return;d=data.userProfileModel.uid}a.log("chat_search_people","uid="+d),t.commLog("chat_search_people","uid="+d),o.$broadcast("leftpannel.openChatByUid",{uid:d,messageId:e.messageId})}var d=e.uid,l=e.orgStaffId,s=e.orgId,u=e.permission;n.getUserWithExt(d,l,null,s).then(function(e){r(e)},function(e){var o="该用户目前不可访问";e.body&&e.body.reason&&(o=e.body.reason),i.show(o,{type:"warning"})})},c=function(e){o.$broadcast("leftpannel.openChatByGroup",{conversationId:e.conversationId,messageId:e.msgId,keyword:e.keyword}),a.log("chat_search_group","cid="+e.conversationId),t.commLog("chat_search_group","cid="+e.conversationId)},g=function(e){if(e.indexOf(":")>-1){var o=e.split(":");return{isSingle:!0,oppositeUid:$my.uid===parseInt(o[0])?parseInt(o[1]):parseInt(o[0])}}return{isSingle:!1,conversationId:e}};return s}]),module.exports=moduleName;
},{"../goldlog/goldlog":399,"../log/lwlog.js":424,"../modal/profileModal":466,"../toast/toast":611,"../tool/tool":616,"../user/my":635,"../user/userManager":641,"./search/SearchType":583,"@ali/ding-api":711}],571:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.ChatSearch",Class=require("../../../lib/class"),DTSearchManager=require("../../nativesearch/DTSearchManager"),semver=require("semver"),limitConfig=require("../../limitConfig"),ua=require("../../ua"),avatarType=require("../../../directive/widget/avatar/avatarType"),groupSupportType=require("../../groupSupportType/groupSupportType"),ContentType=require("../../conversation/ContentType");require("./Search"),require("../searchTool"),angular.module(moduleName,["ddWeb.service.Search","ddWeb.service.searchTool",require("./SearchType"),require("../../conversation/conversationWithSDK"),require("../../log/log")]).factory("ChatSearch",["$q","Search","SearchType","searchTool","conversationWithSDK","log",function(e,t,r,n,o,i){var a={RECALL_STATUS:{DEFAULT:0,RECALLED:1},DELETE_STATUS:{DEFAULT:0,DELETED:1}},s=Class.create({initialize:function(){this._fetchPromise={},s.superclass.initialize.call(this)},Extends:t,Statics:{create:function(){if(s.isSupport){var e=new this;return e}throw new Error("ChatSearch dose not support")},isSupport:ua.isDesktop&&!!DTSearchManager},P_errorMsg:"搜索引擎错误",P_TOSEARCHSIZE:1e4,type:r.CHAT,name:"聊天记录",canSearch:!0,_getDataFromDB:function(e){var t=this;return this._fetchPromise[e]?this._fetchPromise[e]:(this._fetchPromise[e]=DTSearchManager.searchChatContent(e,0,t.P_TOSEARCHSIZE).then(function(t){return this._fetchPromise[e]=null,Promise.resolve(t)}.bind(this)).catch(function(t){return this._fetchPromise[e]=null,Promise.reject(t)}.bind(this)),this._fetchPromise[e])},getSearchDataPromise:function(e){var t=this;return new Promise(function(r,n){t._dataPromiseIsPending=!0,t.P_isTimeout=!1,this._getDataFromDB(e).then(function(n){if(!t.P_isTimeout)return t.rebuildDataList(n,e).then(function(e){r(e),t._dataPromiseIsPending=!1})}).catch(function(e){i.error("DTSearchManager searchChatContent error: ",e),n(new Error(t.P_errorMsg)),t._dataPromiseIsPending=!1}),t.P_timeoutReject(n)}.bind(this))},rebuildDataList:function(e,t){var r=this;return Promise.resolve().then(function(){var a=[],s=[];return e.forEach(function(e){e.forEach(function(e){var c=e.conversationId,u={id:e.messageId,createdAt:e.createdAt,content:e.content,recallStatus:e.recallStatus,isDel:e.isDel};if(c){var h=o.getConvById(c,!0).then(function(e){return new Promise(function(o,i){r._isSupportToShow(e,u)?e.getTitle(function(i){var a=e.baseConversation,c={conversationId:a.conversationId,tag:a.tag,icon:a.icon,extension:a.extension,avatarType:e.isSingleChat?avatarType.SINGLE:avatarType.MULTI,msgId:u.id,msgTime:u.createdAt,content:r._getMsgTextContent(u.content),keyword:t,baseConversation:a};s.push({id:n.buildId(),text:n.buildText(i),type:r.type,model:c}),o()}):o()})});a.push(h)}else i.error("ChatSearch resultItem with no conversationId",e)})}),Promise.all(a).then(function(){return s})}).then(function(e){return{text:r.name,type:r.type,children:e}},function(e){return i.error("ChatSearch rebuildDataList error: ",e),{text:r.name,type:r.type,children:[]}})},_getMsgTextContent:function(e){var t=e.contentType,r=/@[0-9]+[^\s@]/g;if(t===ContentType.TEXT&&e.textContent){var n=e.atOpenIds,o=e.textContent.text,i=o.match(r);return i&&n&&i.forEach(function(e){var t=n[e.substr(1,e.length-1)];t&&(o=o.replace(e,"@"+n[e.substr(1,e.length-1)]))}),o}return""},_isSupportToShow:function(e,t){var r=this;return e?e.sdkConv&&e.baseConversation?!e.sdkConv.isDiscard()&&(t.id?!(!r._isSupportSearchContentType(t.content.contentType)||!r._isSupportSearchConvType(e.baseConversation.tag))&&(t.recallStatus!==a.RECALL_STATUS.RECALLED&&t.isDel!==a.DELETE_STATUS.DELETED):(i.error("ChatSearch resultItem with no messageId"),!1)):(i.error("ChatSearch conv without sdkConv or baseConversation: ",e.convId),!1):(i.error("ChatSearch conv is missing"),!1)},_isSupportSearchContentType:function(e){var t=[ContentType.TEXT];return t.indexOf(e)>-1},_isSupportSearchConvType:function(e){return groupSupportType.chatSearch.fullSupportGroupType.indexOf(e)>-1}});return i.info("ChatSearch isSupport: "+s.isSupport),s}]),module.exports=moduleName;

},{"../../../directive/widget/avatar/avatarType":144,"../../../lib/class":198,"../../conversation/ContentType":293,"../../conversation/conversationWithSDK":308,"../../groupSupportType/groupSupportType":404,"../../limitConfig":414,"../../log/log":422,"../../nativesearch/DTSearchManager":486,"../../ua":621,"../searchTool":588,"./Search":581,"./SearchType":583,"semver":930}],572:[function(require,module,exports){
"use strict";function serviceDefine(e,t,r,i,a,o,s){var n=Class.create({initialize:function(e){this._fetchPromise={},this.options=e,n.superclass.initialize.call(this)},Extends:e,Statics:{create:function(e){var t=new this(e);return t}},P_TOSEARCHSIZE:50,type:r.EXTERNAL_CONTACT,name:"外部联系人",canSearch:!0,_getDataFromServer:function(e){return this._fetchPromise[e]?this._fetchPromise[e]:(this._fetchPromise[e]=new Promise(function(r,i){var a=function(a){return this._fetchPromise[e]=null,t.isError(a)?void i(new Error(this.P_errorMsg)):void r(a)}.bind(this);if(this.options.source===sourceTypes.CONTACT)o.multiSearchContacts(e,0,this.P_TOSEARCHSIZE,a);else{var n=this.options.orgDataArr,c=s.getStore(sourceTypes.SELECTOR_PANEL),u=c.getCurrentExternalContactList();if(0===n.length)return r([]);1===n.length?(u||i(),o.listContacts(n[0].oid,{scope:u.scope,keyword:e,followerStaffIds:[],labelIds:[],offset:0,size:this.P_TOSEARCHSIZE},a)):o.multiSearchContacts(e,0,this.P_TOSEARCHSIZE,a)}}.bind(this)),this._fetchPromise[e])},getSearchDataPromise:function(e){return new Promise(function(t,r){this._getDataFromServer(e).then(function(e){if(!this.P_isTimeout){var r=e.body.values,i=this.rebuildDataList(r);t(i)}}.bind(this),r),this.P_timeoutReject(r)}.bind(this))},rebuildDataList:function(e){var t=this,r=[],a=[];return e.forEach(function(e){var o=e.userProfile?e.userProfile:{},s=e.employee,n=s.uid;if(a.indexOf(n)===-1){a.push(n);var c=null;c=s.orgNickName&&""!==s.orgNickName?s.orgUserName+("("+s.orgNickName+")"):s.orgUserName;var u={avatarMediaId:o.avatarMediaId,nick:i.buildText(s.orgNickName,o.nick),name:i.buildText(s.orgUserName,o.name),uid:s.uid,orgStaffId:s.orgStaffId,orgId:s.orgId,orgName:s.orgName,avatarType:avatarType.SINGLE,orgTitle:s.orgTitle};r.push({id:i.buildId(),text:i.buildText(c),type:t.type,model:u})}}),{text:this.name,type:this.type,children:r}},isItem:function(e){return e.type===this.type}});return n}var moduleName="ddWeb.service.ExternalContactSearch",Class=require("../../../lib/class"),avatarType=require("../../../directive/widget/avatar/avatarType"),serviceName="ExternalContactSearch";require("../../tool/tool");var sourceTypes=require("../../contact/externalContact/sourceType.js"),scopeList=require("../../contact/externalContact/listScope.js").scope;angular.module(moduleName,[require("./Search"),"ddWeb.service.tool",require("./SearchType"),require("../searchTool"),require("../../user/userManager"),require("@ali/ding-api").interface.ExternalContactI,require("../../contact/externalContact/externalContactHelper.js")]).factory(serviceName,["Search","tool","SearchType","searchTool","userManager","ExternalContactI","externalContactHelper",serviceDefine]),module.exports=moduleName;

},{"../../../directive/widget/avatar/avatarType":144,"../../../lib/class":198,"../../contact/externalContact/externalContactHelper.js":283,"../../contact/externalContact/listScope.js":288,"../../contact/externalContact/sourceType.js":289,"../../tool/tool":616,"../../user/userManager":641,"../searchTool":588,"./Search":581,"./SearchType":583,"@ali/ding-api":711}],573:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.FriendSearch",Class=require("../../../lib/class"),avatarType=require("../../../directive/widget/avatar/avatarType");require("./Search"),require("../../tool/tool"),require("./SearchType"),require("../searchTool"),require("../../user/userManager"),angular.module(moduleName,["ddWeb.service.Search",require("@ali/ding-api").interface.FriendI,"ddWeb.service.tool","ddWeb.service.SearchType","ddWeb.service.searchTool","ddWeb.user.userManager"]).factory("FriendSearch",["Search","FriendI","tool","SearchType","searchTool","userManager",function(e,r,i,t,a,n){var s=Class.create({initialize:function(e){this._fetchPromise={},s.superclass.initialize.call(this)},Extends:e,Statics:{create:function(){var e=new this;return e}},P_TOSEARCHSIZE:15,type:t.FRIEND,name:"好友",canSearch:!0,_getDataFromServer:function(e){return this._fetchPromise[e]?this._fetchPromise[e]:(this._fetchPromise[e]=new Promise(function(t,a){r.searchFriend(e,0,this.P_TOSEARCHSIZE,function(r){return this._fetchPromise[e]=null,i.isError(r)?void a(new Error(this.P_errorMsg)):void t(r)}.bind(this))}.bind(this)),this._fetchPromise[e])},getSearchDataPromise:function(e){return new Promise(function(r,i){this._getDataFromServer(e).then(function(e){if(!this.P_isTimeout){var t=e.body.values;this.rebuildDataList(t).then(function(e){r(e)}.bind(this)).catch(function(e){i(e)})}}.bind(this)),this.P_timeoutReject(i)}.bind(this))},rebuildDataList:function(e){var r=this;return Promise.resolve().then(function(){var i=[],t=[];return e.forEach(function(e){i.push(n.getUsers([e.uid]).then(function(i){t.push({id:a.buildId(),text:a.buildText(e.nick),type:r.type,model:{uid:e.uid,avatarMediaId:e.avatarMediaId,name:a.buildText(e.name),nick:a.buildText(e.nick),avatarType:avatarType.SINGLE},user:i[0]})}))}),Promise.all(i).then(function(){return{text:r.name,type:r.type,children:t}})})},isItem:function(e){return e.type===this.type}});return s}]),module.exports=moduleName;

},{"../../../directive/widget/avatar/avatarType":144,"../../../lib/class":198,"../../tool/tool":616,"../../user/userManager":641,"../searchTool":588,"./Search":581,"./SearchType":583,"@ali/ding-api":711}],574:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.GroupSearch",Class=require("../../../lib/class"),avatarType=require("../../../directive/widget/avatar/avatarType");require("./Search"),require("../../goldlog/goldlog"),require("../../log/lwlog.js"),require("../../tool/tool"),require("./SearchType"),require("../searchTool");var ConvType=require("../../conversation/ConvType");angular.module(moduleName,[require("@ali/ding-api").interface.ConversationI,"ddWeb.goldlog","ddWeb.service.tool","ddWeb.service.SearchType","ddWeb.service.searchTool","ddWeb.log.lwlog"]).factory("GroupSearch",["Search","ConversationI","goldlog","tool","SearchType","searchTool","lwlog",function(e,t,r,i,o,a,n){var s=Class.create({initialize:function(){this._fetchPromise={},s.superclass.initialize.call(this)},Extends:e,Statics:{create:function(){var e=new this;return e}},type:o.GROUP,name:"群组",canSearch:!0,P_TOSEARCHSIZE:30,_getDataFromServer:function(e){return this._fetchPromise[e]?this._fetchPromise[e]:(this._fetchPromise[e]=new Promise(function(r,o){t.searchConversation(e,0,this.P_TOSEARCHSIZE,function(t){return this._fetchPromise[e]=null,i.isError(t)?void o(new Error(self.P_errorMsg)):void r(t)}.bind(this))}.bind(this)),this._fetchPromise[e])},getSearchDataPromise:function(e){var t=this;return new Promise(function(r,i){this._getDataFromServer(e).then(function(e){if(!this.P_isTimeout){var i=e.body,o=i.filter(function(e){return e.baseConversation.tag!==ConvType.ANNOUNCEMENT}),a=t.rebuildDataList(o);r(a)}}.bind(this)).catch(function(e){i(e)}),this.P_timeoutReject(i)}.bind(this))},rebuildDataList:function(e){var t=[],r=this;return e.forEach(function(e,i){var o=e.baseConversation;t.push({id:a.buildId(),text:a.buildText(o.title),type:r.type,model:{tag:o.tag,icon:o.icon,conversationId:o.conversationId,extension:o.extension,avatarType:avatarType.MULTI,baseConversation:o}})}),{text:this.name,type:this.type,children:t}},isItem:function(e){return e.type===this.type}});return s}]),module.exports=moduleName;

},{"../../../directive/widget/avatar/avatarType":144,"../../../lib/class":198,"../../conversation/ConvType":294,"../../goldlog/goldlog":399,"../../log/lwlog.js":424,"../../tool/tool":616,"../searchTool":588,"./Search":581,"./SearchType":583,"@ali/ding-api":711}],575:[function(require,module,exports){
var Class=require("../../../../lib/class"),avatarType=require("../../../../directive/widget/avatar/avatarType");require("../Search"),require("../../../goldlog/goldlog"),require("../../../log/lwlog.js"),require("../../../tool/tool"),require("../SearchType"),require("../../searchTool"),require("../../../user/userManager"),require("./getLocalSearchResult"),angular.module("ddWeb.service.CustomSearch",["ddWeb.goldlog","ddWeb.service.tool","ddWeb.service.SearchType","ddWeb.service.searchTool","ddWeb.log.lwlog","ddWeb.user.userManager","ddWeb.LocalSearch.getLocalSearchResult"]).factory("CustomSearch",["$rootScope","$compile","$q","Search","goldlog","tool","SearchType","searchTool","lwlog","userManager","getLocalSearchResult",function(e,r,a,t,i,o,l,s,u,c,d){var n=Class.create({initialize:function(e){n.superclass.initialize.call(this),this.customUids=e},Extends:t,Statics:{create:function(e){var r=new this(e);return r}},type:l.CUSTOM,name:"",canSearch:!0,getSearchDataPromise:function(e){var r=this;return new Promise(function(a,t){r.customUids&&0!==r.customUids.length?c.getUsers(r.customUids).then(function(t){var i=d(e,t);a(r.rebuildDataList(i))}):a([])})},rebuildDataList:function(e){var r=[],a=this;return e.forEach(function(e,t){e&&r.push({id:s.buildId(),text:s.buildText(e.userProfileModel.nick),type:a.type,model:{uid:e.userProfileModel.uid,avatarMediaId:e.userProfileModel.avatarMediaId,name:s.buildText(e.userProfileModel.name),nick:s.buildText(e.userProfileModel.nick),avatarType:avatarType.SINGLE},user:e})}),{text:this.name,type:this.type,children:r}},isItem:function(e){return e.type===this.type}});return n}]);

},{"../../../../directive/widget/avatar/avatarType":144,"../../../../lib/class":198,"../../../goldlog/goldlog":399,"../../../log/lwlog.js":424,"../../../tool/tool":616,"../../../user/userManager":641,"../../searchTool":588,"../Search":581,"../SearchType":583,"./getLocalSearchResult":577}],576:[function(require,module,exports){
var Class=require("../../../../lib/class"),avatarType=require("../../../../directive/widget/avatar/avatarType"),wksdk=require("@ali/wksdk"),aliasService=wksdk.aliasService;require("../Search"),require("../../../goldlog/goldlog"),require("../../../log/lwlog.js"),require("../../../tool/tool"),require("../SearchType"),require("../../searchTool"),require("../../../user/userManager"),require("./getLocalSearchResult"),angular.module("ddWeb.service.LocalSearch",["ddWeb.goldlog","ddWeb.service.tool","ddWeb.service.SearchType","ddWeb.service.searchTool","ddWeb.log.lwlog","ddWeb.user.userManager","ddWeb.LocalSearch.getLocalSearchResult"]).factory("LocalSearch",["$rootScope","$compile","$q","Search","goldlog","tool","SearchType","searchTool","lwlog","userManager","getLocalSearchResult",function(e,r,a,i,t,l,o,c,s,u,d){var n=Class.create({initialize:function(){n.superclass.initialize.call(this)},Extends:i,Statics:{create:function(){var e=new this;return e}},type:o.LOCAL,name:"",canSearch:!0,getSearchDataPromise:function(e){var r=this;return new Promise(function(a,i){var t=[],l=aliasService.getAll();Object.keys(l).forEach(function(e){var r=l[e];if(r&&null!==r.alias)return t.push(e)}),u.getUsers(t).then(function(i){var t=d(e,i);a(r.rebuildDataList(t))})})},rebuildDataList:function(e){var r=[],a=this;return e.forEach(function(e,i){e&&r.push({id:c.buildId(),text:c.buildText(e.userProfileModel.nick),type:a.type,model:{uid:e.userProfileModel.uid,avatarMediaId:e.userProfileModel.avatarMediaId,name:c.buildText(e.userProfileModel.name),nick:c.buildText(e.userProfileModel.nick),avatarType:avatarType.SINGLE},user:e})}),{text:this.name,type:this.type,children:r}},isItem:function(e){return e.type===this.type}});return n}]);

},{"../../../../directive/widget/avatar/avatarType":144,"../../../../lib/class":198,"../../../goldlog/goldlog":399,"../../../log/lwlog.js":424,"../../../tool/tool":616,"../../../user/userManager":641,"../../searchTool":588,"../Search":581,"../SearchType":583,"./getLocalSearchResult":577,"@ali/wksdk":779}],577:[function(require,module,exports){
"use strict";var moduleName="ddWeb.LocalSearch.getLocalSearchResult",_=require("lodash"),app=angular.module(moduleName,[require("../../../user/UserType")]);app.factory("getLocalSearchResult",["UserType",function(e){function r(r,u,t,o){var d=[],p=t||n;return Array.isArray(u)&&u.forEach(function(n){if(n&&!(d.length>=p)){var u=n.userProfileModel;if(u){var t=n.remarkNameObj;if(u.remarkNameObj=t,u.type===e.ORDINARY_USER){var s=(u.name||"").indexOf(r),f=(u.nick||"").indexOf(r);if(s!==-1)return void d.push({user:n,index:s,type:a.NAME});if(f!==-1)return void d.push({user:n,index:f,type:a.NICK});var I=i(u.name).indexOf(r);if(I!==-1)return void d.push({user:n,index:I,type:a.NAME_FIRST_CHAR});var N=i(u.nickPinyin).indexOf(r);if(N!==-1)return void d.push({user:n,index:N,type:a.NICK_PINYIN_FIRST_CHAR});var l=(u.nickPinyin||"").replace(/\^/g,"").toLowerCase().indexOf(r);if(l!==-1)return void d.push({user:n,index:l,type:a.NICK_PINYIN});var y=t?(t.alias||"").indexOf(r):-1;if(y!==-1)return void d.push({user:n,index:y,type:a.ALIAS});var c=t?(t.pinyin||"").replace(/\^/g,"").toLowerCase().indexOf(r):-1;if(c!==-1)return void d.push({user:n,index:c,type:a.ALISA_PINYIN});if(o&&o.orgId&&n.employeeBaseModel&&n.employeeBaseModel[o.orgId]){var m=n.employeeBaseModel[o.orgId].name,v=m.indexOf(r);if(v>-1)return void d.push({user:n,index:v,type:a.name})}}}}}),d=d.sort(function(e,r){return e.type===r.type?e.index-r.index:e.type-r.type}),d.map(function(e){return e.user})}function i(e){return e?e.toLowerCase().split("^").map(function(e){return e.charAt(0)}).join(""):""}var n=3,a={NAME:1,NICK:2,NAME_FIRST_CHAR:3,NICK_PINYIN_FIRST_CHAR:4,NICK_PINYIN:5,ALIAS:6,ALISA_PINYIN:7};return r}]),module.exports=moduleName;

},{"../../../user/UserType":632,"lodash":919}],578:[function(require,module,exports){
var Class=require("../../../lib/class");require("./Search"),require("../../goldlog/goldlog"),require("../../log/lwlog.js"),require("../../tool/tool"),require("./SearchType"),require("../searchTool"),require("../../user/userManager"),angular.module("ddWeb.service.MobileSearch",["ddWeb.goldlog","ddWeb.service.tool","ddWeb.service.SearchType","ddWeb.service.searchTool","ddWeb.log.lwlog","ddWeb.user.userManager"]).factory("MobileSearch",["Search","goldlog","tool","SearchType","searchTool","lwlog","userManager",function(e,r,t,i,a,o,l){var s=Class.create({initialize:function(){s.superclass.initialize.call(this)},Extends:e,Statics:{create:function(){var e=new this;return e}},type:i.MOBILE,name:"网络搜索",canSearch:!1,getSearchDataPromise:function(e){var r=this;return new Promise(function(t,i){/^[A-Za-z0-9]+$/.test(e)?t(r.rebuildDataList(e)):i(),this.P_timeoutReject(i)}.bind(this))},rebuildDataList:function(e){var r=[],t=this;return r.push({id:a.buildId(),text:a.buildText(e),type:t.type,model:{mobile:e}}),{text:this.name,type:this.type,children:r}},isItem:function(e){return e.type===this.type},_createFirstChar:function(e){return e?e.toLowerCase().split("^").map(function(e){return e.charAt(0)}).join(""):""}});return s}]);

},{"../../../lib/class":198,"../../goldlog/goldlog":399,"../../log/lwlog.js":424,"../../tool/tool":616,"../../user/userManager":641,"../searchTool":588,"./Search":581,"./SearchType":583}],579:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.OrgSearch",Class=require("../../../lib/class"),avatarType=require("../../../directive/widget/avatar/avatarType"),my=require("../../user/my");require("./Search"),require("../../tool/tool"),require("./SearchType"),require("../searchTool"),angular.module(moduleName,["ddWeb.service.Search",require("@ali/ding-api").interface.ContactI,"ddWeb.service.tool","ddWeb.service.SearchType","ddWeb.service.searchTool"]).factory("OrgSearch",["$rootScope","$compile","$q","Search","ContactI","tool","SearchType","searchTool",function(e,i,r,t,o,s,a,n){var u=Class.create({initialize:function(e,i){u.superclass.initialize.call(this),this._oid=null,this.name=null,e&&e.oid?(this._oid=e.oid,this.name=e.orgName):this.name="企业联系人",this._fetchPromise={},this._indexOfMultiOrg=i,this._result={}},Extends:t,Statics:{create:function(e,i){var r=new this(e,i);return r}},P_TOSEARCHSIZE:100,type:a.ORG,name:null,canSearch:!0,_indexOfMultiOrg:null,_getDataFromServer:function(e,i){var r=[e,i].join(":");return this._fetchPromise[r]?this._fetchPromise[r]:(this._fetchPromise[r]=new Promise(function(t,a){var n=2*this.P_TOSEARCHSIZE,u=n*i;this._oid?o.search(e,this._oid,u,n,function(e){return this._fetchPromise[r]=null,s.isError(e)?void a(new Error(self.P_errorMsg)):void t(e)}.bind(this)):o.multiSearchV2(e,u,n,function(e){return this._fetchPromise[r]=null,s.isError(e)?void a(new Error(self.P_errorMsg)):void t(e)}.bind(this))}.bind(this)),this._fetchPromise[r])},_fetchData:function(e,i){return this._getDataFromServer(e,i).then(function(r){return this._result[e]=_.uniqBy(this._result[e].concat(r.body.values),"employee.uid"),r.body.hasMore&&this._result[e].length<this.P_TOSEARCHSIZE?(i+=1,this._fetchData(e,i)):Promise.resolve(this._result[e].slice(0,this.P_TOSEARCHSIZE))}.bind(this))},getSearchDataPromise:function(e){var i=this;return new Promise(function(r,t){return this._isNotOrgUser()?r(i.rebuildDataList([])):(this._result[e]=[],this._fetchData(e,0).then(function(t){if(this._result[e]=[],!i.P_isTimeout){var o=i.rebuildDataList(t);r(o)}}.bind(this)).catch(function(e){t(e)}),void this.P_timeoutReject(t))}.bind(this))},_isNotOrgUser:function(){return!(my.orgEmployees&&my.orgEmployees.length>0)},rebuildDataList:function(e){var i=[],r=this,t=[];return e.forEach(function(e){var o=e.userProfile?e.userProfile:{},s=e.employee,a=s.uid;if(t.indexOf(a)===-1){t.push(a);var u=null,h="";u=s.orgNickName&&""!==s.orgNickName?s.orgUserName+("("+s.orgNickName+")"):s.orgUserName,s.depts&&s.depts.length>0&&(h=s.depts.map(function(e){return e.deptName}).join(","),h=n._handleText(h));var c="";if(s.orgId){var l=my.getOrgByOid(s.orgId);l&&l.orgDetail&&(c=l.orgDetail.orgName)}var d={avatarMediaId:o.avatarMediaId,nick:n.buildText(s.orgNickName,o.nick),name:n.buildText(s.orgUserName,o.name),uid:s.uid,orgStaffId:s.orgStaffId,orgId:s.orgId,orgName:c,permission:e.permission,dept:h,avatarType:avatarType.SINGLE,orgTitle:s.orgTitle};i.push({id:n.buildId(),text:n.buildText(u),type:r.type,model:d})}}),{text:this.name,type:this.type,indexOfMultiOrg:this._indexOfMultiOrg,children:i}},_buildCacheKey:function(e){return[this.type,this._oid,e].join(String.fromCharCode(1))},isItem:function(e){return e.type===this.type}});return u}]),module.exports=moduleName;

},{"../../../directive/widget/avatar/avatarType":144,"../../../lib/class":198,"../../tool/tool":616,"../../user/my":635,"../searchTool":588,"./Search":581,"./SearchType":583,"@ali/ding-api":711}],580:[function(require,module,exports){
"use strict";var Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),localLog=require("../../../service/log/localLog");require("./getSearchIndex"),require("../searchTool"),require("../../tool/tool"),require("./SearchType"),angular.module("ddWeb.service.Query",["ddWeb.service.getSearchIndex","ddWeb.service.searchTool","ddWeb.service.tool","ddWeb.service.SearchType"]).factory("Query",["getSearchIndex","searchTool","tool","SearchType","$q",function(e,r,t,n,i){var s=Class.create({initialize:function(e){this.searchInstanceArr=e,this.instanceCount=this.searchInstanceArr.length},Implements:EventEmitter,EventsName:{UPDATE:"update",FINISH:"finish"},_queryData:null,_totalCount:0,_hasResultIndex:0,_errorIndex:0,_noResultIndex:0,_errorMsg:null,query:function(e){var r=this.searchInstanceArr.map(function(r){return r.getSearchDataPromise(e).then(function(r){return this.emit(this.EventsName.UPDATE,{keyword:e,data:r}),Promise.resolve()}.bind(this)).catch(function(e){return localLog.error("query error",e),Promise.resolve()})}.bind(this));Promise.all(r).then(function(){this.emit(this.EventsName.FINISH)}.bind(this))}});return s}]);

},{"../../../lib/class":198,"../../../service/log/localLog":421,"../../tool/tool":616,"../searchTool":588,"./SearchType":583,"./getSearchIndex":585,"wolfy87-eventemitter":944}],581:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.Search",Class=require("../../../lib/class"),cache=require("../../cache/cache"),localLog=require("../../log/localLog");require("../../modal/profileModal"),require("../../goldlog/goldlog"),require("../../log/lwlog.js"),require("../../tool/tool"),require("../../toast/toast"),angular.module(moduleName,["ui.select","ddWeb.service.profileModal","ddWeb.goldlog","ddWeb.service.tool","ddWeb.toast","ddWeb.log.lwlog"]).factory("Search",["$rootScope","$compile","$timeout",function(e,r,o){var t=new cache.ExpireCache(6e4),i=Class.create({initialize:function(){this.timeoutPromise=null,this.P_isTimeout=!1},P_TOSEARCHSIZE:10,P_errorMsg:"系统错误，请稍候再试",P_timeoutReject:function(e){var r=this,o=1e4;r.P_isTimeout=!1,clearTimeout(this.timeoutPromise),this.timeoutPromise=setTimeout(function(){r._dataPromiseIsPending&&localLog.error("Search request time out of limit. Name: "+r.name+" Type: "+r.type),e(new Error("超时，请重新输入")),r.P_isTimeout=!0},o)},type:null,name:null,canSearch:null,cache:function(e,r){var o=this._buildCacheKey(e);return t.addCache(o,r)},getCache:function(e){var r=this._buildCacheKey(e);return t.getCache(r)},isItem:function(e){return e.type===this.type},_buildCacheKey:function(e){return this.type+String.fromCharCode(1)+e},getSearchDataPromise:function(e){throw new Error("need to be overwrite")},rebuildDataList:function(e,r){throw new Error("need to be overwrite")},formatResult:function(e){throw new Error("need to be overwrite")},selectingHandler:function(e){throw new Error("need to be overwrite")}});return i}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../cache/cache":267,"../../goldlog/goldlog":399,"../../log/localLog":421,"../../log/lwlog.js":424,"../../modal/profileModal":466,"../../toast/toast":611,"../../tool/tool":616}],582:[function(require,module,exports){
var Class=require("../../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),moduleName="ddWeb.service.SearchManager",cache=require("../../cache/cache");require("./SearchType"),require("./searchFactory"),require("./Query"),require("./getSearchIndex"),require("../SearchState"),angular.module(moduleName,["ddWeb.service.SearchType","ddWeb.service.searchFactory","ddWeb.service.Query","ddWeb.service.getSearchIndex","ddWeb.service.SearchState",require("../searchTool")]).factory("SearchManager",["SearchType","searchFactory","Query","getSearchIndex","SearchState","searchTool",function(e,t,r,a,n,i){var s=new cache.ExpireCache(6e4),c=Class.create({initialize:function(e,t){this.options=t||{},this._searchTypeArr=e,this._orgDataArr=this.options.orgDataArr||null,this._customUids=this.options.customUids||[],this.cacheName=this.options.cacheName||i.buildId(),this.disableCache=this.options.disableCache||!1,this.externalContactCfg=this.options.externalContactCfg},Implements:EventEmitter,EventsName:{UPDATE:"update",FINISH:"finish"},_searchInstanceArr:null,_searchTypeArr:null,_orgDataArr:null,_state:null,initWhenCreate:function(){},transformData:function(t,r){var a=[];return t.forEach(function(e){e.children.forEach(function(t){t.groupName=e.text,a.push(t)})}),r?{data:t,order:a}:(0===a.length&&a.push({type:e.SYSTEM,text:"没有匹配到任何结果"}),a)},setData:function(e,t){var r=this._buildCacheKey(e);return s.addCache(r,t)},getCache:function(e){var t=this._buildCacheKey(e);return s.getCache(t)},_buildCacheKey:function(e){return this.cacheName+String.fromCharCode(1)+e},_getSearchInstanceArr:function(){return this._searchInstanceArr||(this._searchInstanceArr=t.createBySearchData({searchTypeArr:this._searchTypeArr,orgDataArr:this._orgDataArr,customUids:this._customUids,externalContactCfg:this.externalContactCfg}),this.queryProxy=new r(this._searchInstanceArr),this.queryProxy.on(this.queryProxy.EventsName.UPDATE,function(e){var t=e.keyword,r=e.data,a=_.get(this.getCache(t),"data")||[],n=_.findIndex(a,{type:r.type});n===-1?a.push(r):a[n]=r,a=this._sortQueryData(a),this.setData(e.keyword,{keyword:t,data:a}),this.emit(this.EventsName.UPDATE)}.bind(this)),this.queryProxy.on(this.queryProxy.EventsName.FINISH,function(e){this.emit(this.EventsName.FINISH)}.bind(this))),this._searchInstanceArr},setSearchState:function(e){this._state=e},_sortQueryData:function(e){var t=this;return e.sort(function(e,r){return t._isAllOrg(e,r)?e.indexOfMultiOrg-r.indexOfMultiOrg:a.getIndexByType(e.type)-a.getIndexByType(r.type)})},_isAllOrg:function(t,r){return t.type===e.ORG&&r.type===e.ORG},query:function(e){var t=this.getCache(e);t&&!this.disableCache&&this.emit(this.EventsName.FINISH);var r=null;return this._state===n.CLOSE?void console.log("搜索被关闭"):this._state===n.LOCK?void console.log("搜索被锁定"):(r=this._getSearchInstanceArr().filter(function(e){return e.canSearch===!0}),0!==r.length?this.queryProxy.query(e):void 0)},getGroupName:function(e){return e.groupName},formatResult:function(e){var t=0,r=0,a=null,n=null,i=this._getSearchInstanceArr();for(t=0,r=i.length;t<r;t++)if(n=i[t],n.isItem(e)){a=n.formatResult(e);break}return a},selectingHandler:function(e){var t=0,r=0,a=null,n=this._getSearchInstanceArr();for(t=0,r=n.length;t<r;t++)if(a=n[t],a.isItem(e)){a.selectingHandler(e);break}},setSearchData:function(t){var t=$.extend(!0,{},t);t.searchTypeArr.push(e.TITLE),this._searchTypeArr=t.searchTypeArr,this._orgDataArr=t.orgDataArr}});return c}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../cache/cache":267,"../SearchState":563,"../searchTool":588,"./Query":580,"./SearchType":583,"./getSearchIndex":585,"./searchFactory":586,"wolfy87-eventemitter":944}],583:[function(require,module,exports){
var moduleName="ddWeb.service.SearchType";angular.module(moduleName,[]).value("SearchType",{SYSTEM:-1,TITLE:0,LOCAL:1,CUSTOM:2,FRIEND:3,GROUP:4,ORG:5,CHAT:6,EXTERNAL_CONTACT:7,MOBILE:99}),module.exports=moduleName;

},{}],584:[function(require,module,exports){
"use strict";var moduleName="ddWeb.search.searchUserName",wksdk=require("@ali/wksdk"),groupNickService=wksdk.groupNickService,app=angular.module(moduleName,[require("./LocalSearch/getLocalSearchResult"),require("../../../service/user/userManager")]);app.factory("searchUserName",["getLocalSearchResult","userManager",function(e,r){var u=function(e,r,u){var i=[],e=e.toLowerCase();return u.forEach(function(u){var o=u.getGroupNickFromCache(r);o&&(o.groupNick&&o.groupNick.indexOf(e)!==-1&&i.push(o),o.groupNickPinYin&&o.groupNickPinYin.indexOf(e)!==-1&&i.push(o))}),Promise.resolve(i)},i=function(i,o,a){var a=a||{},n=a.cid,c=a.orgId,t=a.limit||9999;if(n)var s=Promise.all([e(i,o,t,{orgId:c}),u(i,n,o)]).then(function(e){var u=e[0].map(function(e){return e.userProfileModel.uid}),i=e[1].map(function(e){return e.uid}),o=_.difference(i,u);return r.getUsers(o).then(function(r){return r&&r.length>0?e[0].concat(r):e[0]})});else var s=Promise.resolve(e(i,o,t,{orgId:c}));return s};return i}]),module.exports=moduleName;

},{"../../../service/user/userManager":641,"./LocalSearch/getLocalSearchResult":577,"@ali/wksdk":779}],585:[function(require,module,exports){
require("./SearchType"),angular.module("ddWeb.service.getSearchIndex",["ddWeb.service.SearchType"]).factory("getSearchIndex",["SearchType",function(e){return{getIndexByType:function(r){var a=0;switch(r){case e.TITLE:a=1;break;case e.LOCAL:a=2;break;case e.CUSTOM:a=3;break;case e.FRIEND:a=4;break;case e.ORG:a=5;break;case e.EXTERNAL_CONTACT:a=6;break;case e.GROUP:a=7;break;case e.CHAT:a=8;break;case e.MOBILE:a=99;break;default:throw new Error("type错误")}return a}}}]);

},{"./SearchType":583}],586:[function(require,module,exports){
"use strict";require("./SearchType"),require("./FriendSearch"),require("./GroupSearch"),require("./OrgSearch"),require("./LocalSearch/LocalSearch"),require("./LocalSearch/CustomSearch"),require("./MobileSearch");var $my=require("../../user/my");angular.module("ddWeb.service.searchFactory",["ddWeb.service.SearchType","ddWeb.service.FriendSearch","ddWeb.service.GroupSearch","ddWeb.service.OrgSearch","ddWeb.service.LocalSearch","ddWeb.service.CustomSearch","ddWeb.service.MobileSearch",require("./ChatSearch"),require("./ExternalContactSearch.js")]).factory("searchFactory",["SearchType","FriendSearch","GroupSearch","OrgSearch","LocalSearch","CustomSearch","MobileSearch","ChatSearch","ExternalContactSearch",function(e,r,a,c,t,h,i,o,S){return{createBySearchType:function(s,u,n,d){var b=[];switch(s){case e.FRIEND:b=[r.create()];break;case e.GROUP:b=[a.create()];break;case e.ORG:u?u.forEach(function(e,r){b.push(c.create(e,r))}):b=[c.create()];break;case e.LOCAL:b=[t.create()];break;case e.CUSTOM:b=[h.create(n)];break;case e.MOBILE:b=[i.create()];break;case e.CHAT:b=[o.create()];break;case e.EXTERNAL_CONTACT:b=[S.create(d)];break;default:throw new Error("未知的SearchType")}return b},createBySearchData:function(e){var r=this,a=[],c=e.searchTypeArr;return c.forEach(function(c){var t=r.createBySearchType(c,e.orgDataArr,e.customUids||[],e.externalContactCfg);a=a.concat(t)}),a}}}]);

},{"../../user/my":635,"./ChatSearch":571,"./ExternalContactSearch.js":572,"./FriendSearch":573,"./GroupSearch":574,"./LocalSearch/CustomSearch":575,"./LocalSearch/LocalSearch":576,"./MobileSearch":578,"./OrgSearch":579,"./SearchType":583}],587:[function(require,module,exports){
"use strict";var moduleName="ddWeb.search.searchMobile";require("../user/userManager"),require("../modal/profileModal"),require("../toast/toast");var _=require("lodash"),app=angular.module(moduleName,["ddWeb.user.userManager","ddWeb.service.profileModal","ddWeb.toast",require("@ali/ding-api").interface.UserI]);app.factory("searchMobile",["userManager","profileModalService","toastService","UserI",function(e,r,o,a){function d(e){e&&a.searchUserProfileByKeyword(e).result.then(function(e){_.get(e,"body.uid")?r(e.body.uid):o.show("查询人员失败",{type:"error"})},function(e){e.body&&e.body.reason?o.show(e.body.reason,{type:"error"}):o.show("查询人员失败",{type:"error"})})}return d}]),module.exports=moduleName;

},{"../modal/profileModal":466,"../toast/toast":611,"../user/userManager":641,"@ali/ding-api":711,"lodash":919}],588:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.searchTool";require("../tool/tool"),angular.module("ddWeb.service.searchTool",["ddWeb.service.tool"]).factory("searchTool",["tool",function(e){return{buildId:function(){return e.buildUniqueKey()},buildText:function(){return 1===arguments.length?this._handleText(arguments[0]):2===arguments.length?this._handleText(arguments[0]||""===arguments[0]&&!arguments[1]?arguments[0]:arguments[1]):void 0},_handleText:function(e){return e?e.replace(/\<red\>|\<\/red\>/g,""):""}}}]),module.exports=moduleName;

},{"../tool/tool":616}],589:[function(require,module,exports){
var moduleName="ddWeb.service.CustomList",Class=require("../../lib/class"),EventEmitter=require("wolfy87-eventemitter"),app=angular.module(moduleName,[require("../user/userManager")]);app.factory("CustomList",["$q","userManager",function(e,t){var s=Class.create({initialize:function(){this.isLoading=!0,this.customList=[]},Implements:EventEmitter,isLoading:null,customList:null,EventsName:{UPDATE:"update"},init:function(e){var s=this;t.getUsers(e).then(function(e){s.isLoading=!1,s.customList=e,s.customList=[],e.forEach(function(e){e&&s.customList.push({user:e})}),s.emit(s.EventsName.UPDATE)})}});return s}]),module.exports=moduleName;

},{"../../lib/class":198,"../user/userManager":641,"wolfy87-eventemitter":944}],590:[function(require,module,exports){
var moduleName="ddWeb.service.PanelType";angular.module(moduleName,[]).value("PanelType",{DING_CONV:0,ORG:1,FRIEND:2,CUSTOM:3,GROUP:4,COMPANY_GROUP:5,CONV:6,EXTERNAL_CONTACT:7}),module.exports=moduleName;

},{}],591:[function(require,module,exports){
require("./PanelType"),require("../tool/StringBuilder"),require("../../directive/widget/dropdown"),require("../safe/safe"),angular.module("ddWeb.service.selectorPanelBuilder",["ddWeb.service.PanelType","ddWeb.service.StringBuilder","ddWeb.widget.dropdown","ddWeb.safe"]).factory("selectorPanelBuilder",["$compile","$rootScope","PanelType","StringBuilder","safe",function(e,n,r,l,a){function t(e,n,l){var a=null;return a=o(n),n===r.CUSTOM&&(e.customUids=l),a(e,function(e,n){})}function o(n){var l=null;switch(n){case r.ORG:l=e(angular.element('<div company class="tab-content org-member-lists"></div>'));break;case r.FRIEND:l=e(angular.element('<div friend menuData="menuData"></div>'));break;case r.CUSTOM:l=e(angular.element("<div custom></div>"));break;case r.CONV:l=e(angular.element("<div conv-list-panel></div>"));break;case r.EXTERNAL_CONTACT:l=e(angular.element('<external-contact-panel class="external-contact-panel"><external-contact-panel>'));break;case r.DING_CONV:l=e(angular.element("<div custom></div>"));break;default:throw new Error("未知的panelType")}return l}function c(e,n,r,l){var a=null;return(a=s(n,r,l))(e,function(e,n){})}function s(n,l,a){var t=null;switch(n){case r.DING_CONV:t=i(n);break;case r.ORG:if(0===a.length)throw new Error("orgDataArr.length 不应该为0");t=1===a.length?u(n,l.orgName):p(n,l.orgName);break;case r.FRIEND:t=g(n);break;case r.CUSTOM:t="";break;case r.CONV:t=d(n);break;case r.EXTERNAL_CONTACT:t="";break;default:throw new Error("未知的panelType")}return e(angular.element(t))}function i(e){return(new l).append().append('<li class="tab-item" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.DING_CONV }" ng-click="selectorPanelController.go($event,{0})">会话</li>',e).toString()}function d(e){return(new l).append().append('<li class="tab-item" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.CONV }" ng-click="selectorPanelController.go($event,{0})">最近联系人</li>',e).toString()}function u(e,n){return(new l).append('<li class="tab-item single-org" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.ORG }" ng-click="selectorPanelController.go($event,{0})"><span class="selector-panel-org-name">{1}</span></li>',e,a.escapeHTML(n)).toString()}function p(e,n){return(new l).append('<li class="tab-item" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.ORG }" ng-click="selectorPanelController.go($event,{0})" ><dd-drop-down repeat-data="menuData.orgDataArr" on-select="selectorPanelController.onSelect" ng-model="currentOrgData"><dd-drop-down-match class="eye" to-open-el="true"><span class="selector-panel-org-name">{{$selectItem.orgName}}</span><i class="iconfont tri to-open-el">&#xe633;</i></dd-drop-down-match><dd-drop-down-choices><span class="menu">{{$repeatItem.orgName}}</span></dd-drop-down-choices></dd-drop-down></li>',e,a.escapeHTML(n)).toString()}function g(e){return(new l).append('<li class="tab-item" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.FRIEND }" ng-click="selectorPanelController.go($event,{0})">{1}</li>',e,"好友").toString()}return{buildMenu:function(e,n,r,l){var a=[];r.panelTypeArr.forEach(function(l){a.push(c(e,l,n,r.orgDataArr))}),l.empty(),a.forEach(function(e){l.append(e)})},buildContainer:function(e,n,r,l){var a=t(e,n,l);r.empty(),r.append(a)}}}]);
},{"../../directive/widget/dropdown":154,"../safe/safe":545,"../tool/StringBuilder":612,"./PanelType":590}],592:[function(require,module,exports){
"user strict";var moduleName="ddWeb.selector.selectedGroupItem",serviceName="SelectedGroupItem";angular.module(moduleName,[require("./selectedItem")]).factory(serviceName,["SelectedItem",function(e){var t=e.extend({initialize:function(e,i,o){t.superclass.initialize.call(this,e,i),o?this.model={conversationId:i}:i.model?(this.model=i.model,this.text=i.text):(this.model=i.baseConversation,this.text=i.baseConversation.title),this.buildId()},buildId:function(){this.id=this.type+"-"+this.model.conversationId}});return t}]),module.exports=moduleName;

},{"./selectedItem":593}],593:[function(require,module,exports){
"user strict";var moduleName="ddWeb.selector.selectedItem",Class=require("../../../lib/class"),serviceName="SelectedItem";angular.module(moduleName,[]).factory(serviceName,[function(){var e=Class.create({initialize:function(e){this.id="",this.model=null,this.type=e,this.text=""}});return e}]),module.exports=moduleName;
},{"../../../lib/class":198}],594:[function(require,module,exports){
"user strict";var moduleName="ddWeb.selector.selectedItemFactory",serviceName="selectedItemFactory";angular.module(moduleName,[require("./selectedItemType"),require("./selectedUserItem"),require("./selectedGroupItem")]).factory(serviceName,["selectedItemType","SelectedUserItem","SelectedGroupItem",function(e,r,t){function c(c,l,m){var u=null;switch(c){case e.USER:u=new r(c,l,m);break;case e.GROUP:u=new t(c,l,m);break;default:throw new Error("未知的Type")}return u}return{genSelectedItem:c}}]),module.exports=moduleName;

},{"./selectedGroupItem":592,"./selectedItemType":595,"./selectedUserItem":597}],595:[function(require,module,exports){
var moduleName="ddWeb.selector.selectedItemType";angular.module(moduleName,[]).value("selectedItemType",{USER:0,GROUP:1}),module.exports=moduleName;

},{}],596:[function(require,module,exports){
"user strict";var moduleName="ddWeb.selector.selectedList",Class=require("../../../lib/class"),serviceName="SelectedList",EventEmitter=require("wolfy87-eventemitter"),_=require("lodash");angular.module(moduleName,[require("@ali/ding-api").interface.UserI,require("./selectedItemType"),require("../../toast/toast")]).factory(serviceName,["UserI","selectedItemType","$q","toastService",function(e,t,i,s){var r=Class.create({initialize:function(e,t,i,s){this.selected=e||[],this.locked=t||[],this.EventEmitter=new EventEmitter,_.isNumber(i)?this.maxSize=i>0?i:0:this.maxSize=-1,this.customValidCallback=null,this.disabledItems=[],this.overMaxTip=s||"超过限制，不能选择"},EventsName:{SELECTED_ITEMS:"selectedItems",UNSELECTED_ITEMS:"unselectedItems"},hasItem:function(e){var t=!1;return this.selected.forEach(function(i){i.id===e.id&&(t=!0)}),t},indexOfArray:function(e,t){var i=-1;return e.forEach(function(e,s){e.id===t.id&&(i=s)}),i},tryCreateUser:function(i){var r=this,n=[{staffId:i.model.orgStaffId,oid:i.model.orgId,source:0}],o=new Promise(function(o,a){e.createUsersByIdentities(n,function(e){return 200!==e.code?(o(),void s.show(e.body.reason,{type:"information"})):e.body[0].uid?(i.model.uid=e.body[0].uid,i.id=t.USER+"-"+i.model.uid,r.selected.push(i),void o(i)):(o(),void s.show("该用户目前不可访问",{type:"information"}))})});return o},isDisabledItem:function(e){return this.indexOfArray(this.disabledItems,e)!==-1},addItem:function(e){var i=Promise.resolve(),r=this;return this.customValidCallback&&(i=this.customValidCallback(e)),i.then(function(){var i=e;if(r.isDisabledItem(e))return s.show("该用户不能被选择",{type:"error"}),Promise.resolve();if(e.type===t.USER){if(!e.model.uid)return r.tryCreateUser(e);var n=e.model.permission;n&&n.unableSelectReason&&(s.show(n.unableSelectReason,{type:"information"}),i=null),i&&r.selected.push(e)}else e.type===t.GROUP&&r.selected.push(e);return Promise.resolve(i)})},addItems:function(e){var t=this,i=[];return t.maxSize>=0&&t.selected.length>=t.maxSize?void s.show(t.overMaxTip,{type:"error"}):(e.forEach(function(e,s){t.hasItem(e)||t.isLocked(e)||!(t.maxSize===-1||t.selected.length+i.length<t.maxSize)||i.push(t.addItem(e))}),void Promise.all(i).then(function(e){t.EventEmitter.emit(t.EventsName.SELECTED_ITEMS,e.filter(function(e){return!!e}))}).catch(function(e){console.log(e)}))},removeItems:function(e){var t=this,i=[];e.forEach(function(e){var s=t.indexOfArray(t.selected,e);s!=-1&&(t.selected.splice(s,1),i.push(e))}),this.EventEmitter.emit(this.EventsName.UNSELECTED_ITEMS,i)},getSelected:function(){return this.selected},getLocked:function(){return this.locked},isLocked:function(e){var t=this;return t.indexOfArray(this.locked,e)!==-1},toggleItem:function(e){this.hasItem(e)?this.removeItems([e]):this.addItems([e])},disableItems:function(e){var t=this;e&&Array.isArray(e)&&e.forEach(function(e){t.isDisabledItem(e)||t.disabledItems.push(e)})},addCustomValidCallback:function(e){this.customValidCallback=e},setMax:function(e){this.maxSize=e},setOverMaxTip:function(e){this.overMaxTip=e}});return r}]),module.exports=moduleName;

},{"../../../lib/class":198,"../../toast/toast":611,"./selectedItemType":595,"@ali/ding-api":711,"lodash":919,"wolfy87-eventemitter":944}],597:[function(require,module,exports){
"user strict";var moduleName="ddWeb.selector.selectedUserItem",serviceName="SelectedUserItem",_=require("lodash"),$my=require("../../user/my");angular.module(moduleName,[require("./selectedItem"),require("../../user/User")]).factory(serviceName,["SelectedItem","User",function(e,i){var s=e.extend({initialize:function(e,t,r){s.superclass.initialize.call(this,e,t),t instanceof i||t===$my?this.user=t:t.user&&t.user instanceof i?this.user=t.user:r?this.model={uid:t}:(this.model=t.model,this.text=t.text),this.user&&(this.buildDisplayText(),this.buildModel()),this.buildId()},buildDisplayText:function(){var e="";e=_.get(this,"user.userProfileModel.nick")||_.get(this,"user.userProfileModel.name"),this.user.employee&&(e=_.get(this,"user.employee.orgUserName")||e),this.text=e},buildModel:function(){var e={uid:_.get(this,"user.userProfileModel.uid"),nick:_.get(this,"user.userProfileModel.nick"),name:_.get(this,"user.userProfileModel.name")};this.model=e},buildId:function(){var e="";e=this.user?_.get(this,"user.userProfileModel.uid"):_.get(this,"model.uid")||_.get(this,"model.orgId")+"-"+_.get(this,"model.orgStaffId"),this.id=this.type+"-"+e}});return s}]),module.exports=moduleName;

},{"../../user/User":631,"../../user/my":635,"./selectedItem":593,"lodash":919}],598:[function(require,module,exports){
var moduleName="ddWeb.senderExt.senderExtFactory",$my=require("../user/my"),app=angular.module(moduleName,[]);app.factory("senderExtFactory",[function(){return{genSenderUidEx:function(){return{uid:$my.getId(),tag:$my.userProfileModel.ver}},genOpenIdEx:function(){return{openId:$my.getId(),tag:$my.userProfileModel.ver}}}}]),module.exports=moduleName;

},{"../user/my":635}],599:[function(require,module,exports){
module.exports={SHARING_FILE:1,TASK:2};

},{}],600:[function(require,module,exports){
function serviceDefine(e){var i="ch_user",r=e.extend({initialize:function(e){r.superclass.initialize.call(this,e)}});return new r(i)}var moduleName=module.exports="ddWeb.serviceWindow.serviceWindowData",serviceName="serviceWindowData",Class=require("../../lib/class.js"),EventEmitter=require("wolfy87-eventemitter");angular.module(moduleName,[require("../CSConfig/CSConfigTopic.js")]).factory(serviceName,["CSConfigTopic",serviceDefine]);

},{"../../lib/class.js":198,"../CSConfig/CSConfigTopic.js":234,"wolfy87-eventemitter":944}],601:[function(require,module,exports){
function serviceDefine(e){function r(){return e.getData().then(function(e){var r=!1;if(e&&e.ch_org&&"object"==typeof e.ch_org){var a=e.ch_org;r=Object.keys(a).some(function(r){var a=e.ch_org[r],o=_.get(a,"ch_app."+i);return!!o})}return r})}var i=appList.SHARING_FILE;return{hasPermission:r}}var moduleName=module.exports="ddWeb.serviceWindow.spaceApp",serviceName="serviceWindowSpaceApp",_=require("lodash"),appList=require("./appList.js");angular.module(moduleName,[require("./serviceWindowData.js")]).factory(serviceName,["serviceWindowData",serviceDefine]);

},{"./appList.js":599,"./serviceWindowData.js":600,"lodash":919}],602:[function(require,module,exports){
"use strict";var moduleName="ddWeb.spacePlugin.config",cspacePlugin=require("@ali/space-plugin"),CSpace=require("@ali/space-upload-plugin"),uriResolve=require("../uriResolve/resolve"),limitConfig=require("../../service/limitConfig");angular.module(moduleName,[require("../refreshCookie/refreshCookie")]).factory("spacePluginConfig",["refreshCookie",function(e){function i(){r||(cspacePlugin.setConfig(s),CSpace.setConfig(o),r=!0)}var l="0.6.3",s={fileSelectScriptUrl:uriResolve.assetsResolve("//g.alicdn.com/ilw/cloud-storage-project/"+l+"/scripts/fileselect-min.js"),commonFileListScriptUrl:uriResolve.assetsResolve("//g.alicdn.com/ilw/cloud-storage-project/"+l+"/scripts/commonfilelist-min.js"),dingtalkAPIScriptUrl:uriResolve.assetsResolve("//g.alicdn.com/dingding/dingtalk-pc-api/2.4.8/index.js"),getOrgListUrl:uriResolve.apiResolve("/v1/ding/orgs"),getSummaryUrl:uriResolve.apiResolve("/v1/ding/spaces/summary"),getGroupListUrl:uriResolve.apiResolve("/v1/ding/spaces/group"),getFileListUrl:uriResolve.apiResolve("/v1/space/folder/list"),getCoopListUrl:uriResolve.apiResolve("/v1/cofolder/list"),repathUrl:uriResolve.apiResolve("/v1/space/msrepath"),statusUrl:uriResolve.apiResolve("/v1/space/msstatus"),addDirectUrl:uriResolve.apiResolve("/v1/space/file/addDirect"),downloadUrl:uriResolve.apiResolve("//space.dingtalk.com/auth/download"),getPersonalInfoUrl:uriResolve.apiResolve("/v1/ding/spaces/personal"),dingSelectCountLimit:limitConfig.DING_ATTACHMENT_LIMIT,fileSelectCountLimit:20},o={getUploadIdUrl:uriResolve.apiResolve("/attachment/mcreatefile"),uploadUrl:uriResolve.apiResolve("/attachment/mupload"),addFileUrl:uriResolve.apiResolve("/v1/space/file/add"),addDirectoryUrl:uriResolve.apiResolve("/v1/space/folder/add"),refreshCookieUtil:e},r=!1;return{config:i,cspaceConfig:s,uploadConfig:o}}]),module.exports=moduleName;

},{"../../service/limitConfig":414,"../refreshCookie/refreshCookie":543,"../uriResolve/resolve":628,"@ali/space-plugin":735,"@ali/space-upload-plugin":736}],603:[function(require,module,exports){
"use strict";var moduleName="ddWeb.spaceUploadPlugin",CSpace=require("@ali/space-upload-plugin"),localLog=require("../../service/log/localLog");angular.module(moduleName,[require("../../service/spacePlugin/config")]).factory("CSpaceFileUploader",["spacePluginConfig",function(e){function i(){return l||(a=new CSpace.FileUploader({cfg_max_dir_count:2e3,cfg_max_file_count:2e3,cfg_max_single_file_size:8589934592,cfg_download_func:function(e){}}),l=!0,localLog.info("init cspaceuploader index :",o," Time:"+(new Date).getTime()),o++),a}e.config();var a,l=!1,o=0;return{initFileUploader:i}}]),module.exports=moduleName;

},{"../../service/log/localLog":421,"../../service/spacePlugin/config":602,"@ali/space-upload-plugin":736}],604:[function(require,module,exports){
angular.module("ddWeb.state",[]).factory("stateService",[function(){function t(t){return n[t]}function e(t,e){return n[t]=e,n[t]}var n={};return{get:t,set:e}}]);

},{}],605:[function(require,module,exports){
function _getItemWithUid(e){var t=$my.getId();return ddStorageCache[e]||(ddStorageCache[e]=window.localStorage.getItem(t+"_"+e)),ddStorageCache[e]}function _setItemWithUid(e,t){var o=$my.getId();t+="",ddStorageCache[e]=t,window.localStorage.setItem(o+"_"+e,t)}function _getItem(e){return ddStorageCache[e]||(ddStorageCache[e]=window.localStorage.getItem(e)),ddStorageCache[e]}function _setItem(e,t){t+="",ddStorageCache[e]=t,window.localStorage.setItem(e,t)}var $my=require("../user/my"),STORAGE_KEY={SYNC_PROTOCOL:"sync_protocol",HAS_USE_OA_SSO:"has_use_oa_sso",ORG_FOLD_RULES:"org_fold_rules",CONV_LIST_WIDTH:"conv_list_width",INPUT_AREA_HEIGHT:"input_area_height"},ddStorageCache={};module.exports={STORAGE_KEY:STORAGE_KEY,getItem:_getItem,setItem:_setItem,setItemWithUid:_setItemWithUid,getItemWithUid:_getItemWithUid};

},{"../user/my":635}],606:[function(require,module,exports){
"use strict";var KEYS={TOKEN:"token_storage",APPKEY:"appkey_storage",NICK:"nick_storage",DID:"device_id",AUTH_TEL:"auth_tel",AUTH_COUNTRY_KEY:"auth_country_key",AUTH_METHOD:"login_method",WS_SERVERS:"ws_servers",LATEST_USER_INFO:"latest_user_info",CONTACT_TAB_STATUS:"contact_tab_status",DOWNLOAD_DIRETORY:"download_directory",CHAT_SEARCH_OPEN:"chat_search_open",UPLOAD_LIST_SET:"upload_list_set_new",SPACE_FILE_SORT:"space_file_sort",SPACE_NEW_RED_DOT:"space_new_red_dot",UPDATE_IGNORE_VERSION:"update_ignore_version",IS_FULL_SCREEN:"is_full_screen",WIN_WIDTH:"win_width",WIN_HEIGHT:"win_height",USE_LANG:"latest_lang_info"},session={getItem:function(e){return window.sessionStorage.getItem(e)},setItem:function(e,t){return window.sessionStorage.setItem(e,t)},removeItem:function(e){return window.sessionStorage.removeItem(e)}},local={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){return window.localStorage.setItem(e,t)},removeItem:function(e){return window.localStorage.removeItem(e)}};module.exports={KEYS:KEYS,session:session,local:local};

},{}],607:[function(require,module,exports){
"use strict";var safe=require("../safe/safe-common"),formatFuncs={bold:function(t){return"<strong>"+safe.escapeHTML(t)+"</strong>"},default:function(t){return safe.escapeHTML(t)}},format=function(t,r){var r=r||[];if(0===r.length)return safe.escapeHTML(t);r=r.sort(function(t,r){return t.start-r.start});var e=r.reduce(function(r,e){if(r.length>0){var n=r[r.length-1];return e.start>=t.length?(console.error("formater 越界"),r):n.end<=e.start?(r.push({start:n.end,end:e.start,formatFunc:formatFuncs.default}),r.push(e),r):(console.error("暂时不支持嵌套 formatter"),r)}return r.push({start:0,end:e.start,formatFunc:formatFuncs.default}),r.push(e),r},[]);e.push({start:e[e.length-1].end,end:t.length,formatFunc:formatFuncs.default});var n=e.reduce(function(r,e){return r+e.formatFunc(t.slice(e.start,e.end))},"");return n};exports.format=format,exports.formatFuncs=formatFuncs;

},{"../safe/safe-common":544}],608:[function(require,module,exports){
"use strict";var moduleName="ddWeb.titleService",ua=require("../service/ua"),uriResolve=require("./uriResolve/resolve");angular.module(moduleName,[require("./conversation/unreadConv")]).factory("titleService",["unreadConv",function(e){var t,o=uriResolve.assetsResolve("app/img/icons/oldIcon.ico"),n=uriResolve.assetsResolve("app/img/icons/newIcon.ico"),r=document.title,i=$("#favicon"),u=!1,a=null,l=function(){var e=!1;ua.isDesktop||(a=setInterval(function(){e?(document.title=r,i.attr("href",o),e=!1):(document.title=t,i.attr("href",n),e=!0)},600),u=!0)},s=function(){clearInterval(a),document.title=r,i.attr("href",o),u=!1},c=function(){e.on(e.EventsName.UNREAD_UPDATE,function(e){var o=e.unreadMsgCount;o>0?(t=r+"("+o+")",u||l()):s()})};return{init:c}}]),module.exports=moduleName;

},{"../service/ua":621,"./conversation/unreadConv":322,"./uriResolve/resolve":628}],609:[function(require,module,exports){
"use strict";var moduleName="ddWeb.log.lwlogToMojo",localLog=require("../log/localLog");angular.module(moduleName,[require("../log/lwlog.js")]).factory("lwlogToMojo",["lwlog",function(o){var e=function(){"undefined"!=typeof dingtalkWindowsGlue&&dingtalkWindowsGlue.eventProxy.addListener("BILog",function(e){localLog.info("mojo lwlog",JSON.stringify(e)),o.nativeLog(e.code,e.message)})};return{init:e}}]),module.exports=moduleName;
},{"../log/localLog":421,"../log/lwlog.js":424}],610:[function(require,module,exports){
var WK=require("@ali/wksdk"),localLog=require("../log/localLog"),_=require("lodash"),ua=require("../ua"),msgMap={},init=function(){if(ua.isDingTalkWin){_.isFunction(_.get(dingtalk,"channel.registerSendProc"))&&dingtalk.channel.registerSendProc(function(e){try{var r=JSON.parse(e)}catch(e){return void localLog.error("parse error, registerSendProc",e)}localLog.info("run registerSendProc: ",r),"request"===r.type?WK.ws.sendMsg(r.data.lwp,r.data.headers||{},r.data.body,function(e){var a={msgId:r.msgId,type:"response",lwp:r.data.lwp,data:JSON.stringify(e)};dingtalk.channel.setChannelData(JSON.stringify(a))}):"response"===r.type&&(msgMap[r.msgId]?(clearTimeout(msgMap[r.msgId].timer),msgMap[r.msgId].ack(r.data.body,r.data.code,r.data.headers||{}),delete msgMap[r.msgId]):localLog.error("not find msg from msgMap by msgId",msgMap))});var e=function(e){try{var r=JSON.parse(e)}catch(e){return void localLog.error("parse error, registerSubscribeProc",e)}localLog.info("registerSubscribeProc: ",r),r.topicList.forEach(function(e){WK.subscribe.on(e,function(e,r){var a={msgId:e.headers.mid,type:"request",lwp:e.lwp,data:JSON.stringify(e)};msgMap[a.msgId]={ack:r,timer:setTimeout(function(){msgMap[a.msgId].ack({},408),localLog.error("native deal push msg timeout",msgMap[a.msgId]),delete msgMap[a.msgId]},3e4)},dingtalk.channel.setChannelData(JSON.stringify(a))})})};_.isFunction(_.get(dingtalk,"channel.getSubscribeList"))&&dingtalk.channel.getSubscribeList(function(r,a){r?localLog.error("getSubscribeList error",r):e(a.json)})}};module.exports={init:init};

},{"../log/localLog":421,"../ua":621,"@ali/wksdk":779,"lodash":919}],611:[function(require,module,exports){
"use strict";var moduleName="ddWeb.toast";require("../../filter/emoj"),angular.module(moduleName,["ddWeb.filter.emoj"]).factory("toastService",["$timeout","$filter",function(e,t){function o(o,r,u,l){var i=2e3;if(!n(o)&&(a=o,e(function(){a=null},i),o)){var m={theme:"relax",layout:"topCenter",animation:{open:"animated fadeIn",close:"animated fadeOut"},text:t("emoj")(o).toString().replace(/\n/g,"<br/>"),timeout:3e3,callback:u};return r&&(m=$.extend(!0,{},m,r)),l?$(l).noty(m):noty(m)}}function n(e){return e===a}var a=null;return{show:o}}]),module.exports=moduleName;

},{"../../filter/emoj":193}],612:[function(require,module,exports){
var Class=require("../../lib/class");require("./tool"),angular.module("ddWeb.service.StringBuilder",["ddWeb.service.tool"]).factory("StringBuilder",["tool",function(r){var e=Class.create({initialize:function(){this._array=[]},_array:null,append:function(r){if(arguments.length>1){var e=Array.prototype.slice.call(arguments,0);this._array.push(this.format.apply(this,e))}else this._array.push(r);return this},format:function(e,t){var i=0,n=0,a=0,l=null;if(!e)return"";if(null===t||void 0===t)return e;for(l=r.judge.isArray(t)?t:Array.prototype.slice.call(arguments,1),i=0,a=l.length;i<a;i++)e=r.judge.isFunction(l[i])?e.replace(new RegExp("\\{"+n++ +"\\}","g"),r.getFunctionName(l[i])):e.replace(new RegExp("\\{"+n++ +"\\}","g"),l[i].toString());return e},toString:function(r){var e=r||"";return this._array.join(e)},dispose:function(){this._array=null}});return e}]);
},{"../../lib/class":198,"./tool":616}],613:[function(require,module,exports){
angular.module("ddWeb.service.modelHelper",[]).factory("modelHelper",function(){return{isOrgUser:function(e){return e.orgEmployees&&e.orgEmployees.length>0}}});

},{}],614:[function(require,module,exports){
require("./tool");var moduleName="ddWeb.service.multiOrgTool";angular.module(moduleName,["ddWeb.service.tool"]).factory("multiOrgTool",["tool",function(r){return{convertOrgEmployeeExtensionModelListToOrgDataList:function(r){var e=this;return r.map(function(r){return e.convertOrgEmployeeExtensionModelToOrgData(r)})},convertOrgEmployeeExtensionModelToOrgData:function(r){return{oid:r.orgEmployeeModel.orgId,orgName:r.orgEmployeeModel.orgName}},setCurrentOrgData:function(r){window.localStorage.setItem("currentOrgData",JSON.stringify(r))},getCurrentOrgData:function(r,e){var o=window.localStorage.getItem("currentOrgData");return o?(o=JSON.parse(o),this._isUserInOrg(o,e)?o:r):r},isOrgDataEqual:function(r,e){return r.oid==e.oid&&r.orgName==e.orgName},_isUserInOrg:function(e,o){var t=this;return r.contain(o,function(r){return t.isOrgDataEqual(r,e)})}}}]),module.exports=moduleName;

},{"./tool":616}],615:[function(require,module,exports){
function paramValidate(e,r){return _.reduce(r,function(r,a,t){var u=_.get(e,t),i=_.get(_,"is"+a);return i&&!i(u)&&r.push(t+" is not "+a),r},[])}var _=require("lodash");module.exports=paramValidate;

},{"lodash":919}],616:[function(require,module,exports){
var moduleName="ddWeb.service.tool",moment=require("moment");angular.module(moduleName,[]).factory("tool",["$translate",function(t){function n(t){return"[object Function]"===Object.prototype.toString.call(t)}var e=function(){return{isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isDate:function(t){return"[object Date]"===Object.prototype.toString.call(t)},isString:function(t){return"[object String]"===Object.prototype.toString.call(t)}}}(),o={dt_common_utils_date_day:t.instant("dt_common_utils_date_day"),dt_common_utils_date_hour:t.instant("dt_common_utils_date_hour"),dt_common_utils_date_min:t.instant("dt_common_utils_date_min"),dt_second:t.instant("dt_second")};return{judge:e,assert:function(t,n){console.assert?console.assert(t,n):!t&&n&&console&&console.log&&console.log("断言："+n)},getFunctionName:function(t){var n="";return t?(n=t.toString().match(/^.*function\s*([^\(]*)/),null===n?n:n[1]):null},extendExist:function(t,n){var e="";for(e in n)void 0!==t[e]&&(t[e]=n[e]);return t},extend:function(t,n){var e="";for(e in n)t[e]=n[e];return t},extendDeep:function(t,n){var e=null,o=0,r=Object.prototype.toString,u="[object Array]",i="[object Object]",c="",a=null;if(r.call(t)===u)for(a=n||[],e=0,o=t.length;e<o;e++)c=r.call(t[e]),c===u||c===i?(a[e]=c===u?[]:{},arguments.callee(t[e],a[e])):a[e]=t[e];else if(r.call(t)===i){a=n||{};for(e in t)c=r.call(t[e]),c===u||c===i?(a[e]=c===u?[]:{},arguments.callee(t[e],a[e])):a[e]=t[e]}else a=t;return a},isSamePerson:function(t,n){return t.uid&&n.uid?t.uid==n.uid:t.text==n.text},contain:function(t,e){var o=0,r=0;if(n(e)){for(o=0,r=t.length;o<r;o++)if(e.call(null,t[o],o))return!0}else for(o=0,r=t.length;o<r;o++)if(e===value||value.contain&&value.contain(e))return!0;return!1},getNoRepeatArr:function(t,n){var n=n||function(t,n){return t===n},e=this,o=[];return t.forEach(function(t){e.contain(o,function(e){return n(e,t)})||o.push(t)}),o},hasRepeatItem:function(t,n){function e(t){if(0==t.length)return!1;r=t[0];for(var e=1;e<t.length;e++)if(n(r,t[e]))return!0;return t.shift(),arguments.callee(t)}var o=this.extendDeep(t),n=n||function(t,n){return t===n},r=null;return e(o)},formatBanTime:function(t){var n,e=(t-Date.now())/1e3,r=moment.duration(e,"s");return n=e>86400?r.days()+o.dt_common_utils_date_day+r.hours()+o.dt_common_utils_date_hour:e>3600?r.hours()+o.dt_common_utils_date_hour+r.minutes()+o.dt_common_utils_date_min:e>60?r.minutes()+o.dt_common_utils_date_min:1+o.dt_common_utils_date_min},isError:function(t){return 200!==t.code},error:function(t,n){if(t)throw new Error(n)},makeEnterKeyToTriggerClickHandlerOfA:function(t){$(t).focus()},buildUniqueKey:function(){return Math.random()+"_"+Math.random()}}}]),module.exports=moduleName;

},{"moment":923}],617:[function(require,module,exports){
var Class=require("../../lib/class");require("./TreeNode"),angular.module("ddWeb.tree.Tree",["ddWeb.tree.TreeNode"]).factory("Tree",["TreeNode",function(e){var r=Class.create({initialize:function(){this.root=null},genTreeNode:function(){return new e}});return r}]);

},{"../../lib/class":198,"./TreeNode":620}],618:[function(require,module,exports){
var Class=require("../../lib/class");angular.module("ddWeb.tree.TreeCache",[require("../log/log")]).factory("TreeCache",["log",function(e){var t=Class.create({initialize:function(){this.cache={},this.destroyTimeout=3e5,this.isActive=!1,this.destroyImmediately=!1,this.destroyTimer=null},getCache:function(e){return this.cache[e]},setCache:function(e,t){this.cache[e]=t},destroy:function(){e.info("destroy the tree cache");for(var t in this.cache){var i=this.cache[t];i.destroy(),delete this.cache[t]}this.destroyTimer=null},delayDestroy:function(){var e=this;this.destroyTimer||(this.destroyTimer=setTimeout(function(){e.isActive?e.destroyImmediately=!0:e.destroy()},this.destroyTimeout))},active:function(){this.isActive=!0,this.delayDestroy()},deactive:function(){this.isActive=!1,this.destroyImmediately&&this.destroy(),this.destroyImmediately=!1}});return t}]);

},{"../../lib/class":198,"../log/log":422}],619:[function(require,module,exports){
require("./TreeNode"),angular.module("ddWeb.tree.TreeEOFNode",["ddWeb.tree.TreeNode"]).factory("TreeEOFNode",["TreeNode",function(e){var t=e.extend({initialize:function(e){this.EOF=!0,this.id=(new Date).getTime().toString()+parseInt(1e3*Math.random())},getId:function(){return this.id}});return t}]);

},{"./TreeNode":620}],620:[function(require,module,exports){
var Class=require("../../lib/class");angular.module("ddWeb.tree.TreeNode",[]).factory("TreeNode",[function(){function e(n){var t=n.parents[n.currentParentIndex];return t?e(t).concat([t]):[]}var n=Class.create({initialize:function(e){this.parents=[],this.children=null,this.detail=e,this.currentParentIndex=0},updateParent:function(e){this.parents.indexOf(e)===-1&&this.parents.push(e)},getNodeList:function(){return e(this)},changeCurrentParentIndex:function(e){this.currentParentIndex=e}});return n}]);

},{"../../lib/class":198}],621:[function(require,module,exports){
"use strict";var detector=require("detector"),_=require("lodash"),multiLanguage=require("./pcMedusaService/medusa"),ua=window.navigator.userAgent,isAtomShell=ua.indexOf("AtomShell")!==-1,isMac=ua.indexOf("Mac")!==-1,isNw=ua.indexOf("nw")!==-1,isWin=ua.indexOf("Win")!==-1,isDingTalkWin=ua.indexOf("dingtalk-win")!==-1;isDingTalkWin===!0&&(isNw=!1);var winOSName="Unknown";ua.indexOf("Windows NT 6.2")!=-1&&(winOSName="8"),ua.indexOf("Windows NT 6.1")!=-1&&(winOSName="7"),ua.indexOf("Windows NT 6.0")!=-1&&(winOSName="Vista"),ua.indexOf("Windows NT 5.1")!=-1&&(winOSName="XP"),ua.indexOf("Windows NT 5.0")!=-1&&(winOSName="2000");var osName="Unknown",osVersion="";"macosx"===detector.os.name?(osName="Mac OS X",osVersion=detector.os.fullVersion):"windows"===detector.os.name&&(osName="Windows",osVersion=winOSName);var deviceName="";deviceName=isNw?osName+" "+osVersion:osName+" "+osVersion+" Web";var deviceModel=osName+" "+osVersion,OSSeq=" OS("+_.get(detector,"os.name")+"/"+_.get(detector,"os.fullVersion")+")",BrowserSeq=" Browser("+_.get(detector,"browser.name")+"/"+_.get(detector,"browser.fullVersion")+")",AppSeq=" DingWeb/"+window.version,nwSeq="";if(isNw){var gui=_nwrequire("nw.gui"),app=gui.App,version=app.manifest.version;nwSeq=" nw/"+version}var currentLang=multiLanguage.getCurrentLang(),LANG=" LANG/"+currentLang.type,fullUA=window.navigator.userAgent+OSSeq+BrowserSeq+AppSeq+nwSeq+LANG,higherThanXp=function(){var e=/Windows NT \d.\d/,i=ua.match(e);if(i&&i[0]){var n=i[0].slice(-3);try{if(n=parseFloat(n),n>=6)return!0}catch(e){return!1}}return!1};module.exports={isAtomShell:isAtomShell,isMac:isMac,isNw:isNw,isDingTalkWin:isDingTalkWin,isDesktop:isDingTalkWin||isNw,isWin:isWin,osVersion:osVersion,osName:osName,deviceName:deviceName,deviceModel:deviceModel,fullUA:fullUA,higherThanXp:higherThanXp};

},{"./pcMedusaService/medusa":542,"detector":892,"lodash":919}],622:[function(require,module,exports){
"use strict";var moduleName="ddWeb.umid";angular.module(moduleName,[]).factory("umid",[function(){var e=function(e,i){$('<div  id="_umfp" style="display:inline;width:1px;height:1px;overflow:hidden"><img src="https://ynuf.alipay.com/service/clear.png?xt='+e+'&xa=dingding" /></div>').appendTo(document.body),$.getScript("https://assets.alicdn.com/g/security/umscript/2.0.10/um.js",function(){var i=document.getElementById("_umfp");um.init({timeout:3e3,timestamp:new Date-0,token:e,serviceUrl:"https://ynuf.alipay.com/service/um.json",appName:"dingding",containers:{flash:i,dcp:i}})})};return{init:e}}]),module.exports=moduleName;

},{}],623:[function(require,module,exports){
"use strict";var moduleName="ddWeb.unpopModal.dingDetail",path=require("path"),DING_INFO_EVENT=require("../../service/ding/dingInfoEvent"),DingCommentAuthType=require("../../service/ding/DingCommentAuthType");require("./modal");var app=angular.module(moduleName,["ddWeb.unPopModal.modal",require("../../directive/dingInfo/dingParticipator"),require("../ding/dinglist"),require("../../directive/infiniteScroll"),require("../../directive/dingInfo/dingContent"),require("../../component/ding/dingInfo/dingReplyList"),require("../../directive/dingInfo/dingReplyFoot")]);app.factory("openDingDetail",["$unPopModal",function(i){function t(t,d){e=(new Date).getTime(),e-n>=1e3&&(i.dismissAll(),i.open({template:'<div class="unpop-modal ding-detail-modal">\r\n\t<div class="head">\r\n\t\t<i class="close iconfont unpop-modal-close-btn"></i>\r\n    <span class="title">{{:: dingDetailCtrl.text.and_ding_detail }}</span>\r\n\t</div>\r\n\t<div class="body" infinite-scroll infinite-scroll-bottom="dingDetailCtrl.loadMoreComments()" ng-click="dingDetailCtrl.resetInput()">\r\n\t\t<div class="ding-info-container">\r\n\t\t\t<div ding-content info="dingDetailCtrl.info" ding-detail="dingDetailCtrl.dingDetail"></div>\r\n      <div ding-participator info="dingDetailCtrl.info" ding-detail="dingDetailCtrl.dingDetail"></div>\r\n      <ding-reply-list info="dingDetailCtrl.info" ding-detail="dingDetailCtrl.dingDetail" is-comment-auth="dingDetailCtrl.isCommentAuth"></ding-reply-list>\r\n\t\t</div>\r\n\t</div>\r\n\t<div ding-reply-foot placeholder="dingDetailCtrl.placeholder" input-option="dingDetailCtrl.inputOption" info="dingDetailCtrl.info" ding-detail="dingDetailCtrl.dingDetail" confirm-ding="dingDetailCtrl.confirmDing" ng-hide="dingDetailCtrl.dingDetail.sendStatus===1"></div>\r\n</div>\r\n',controller:"dingDetailCtrl",controllerAs:"dingDetailCtrl",scope:d,key:t&&t.dingId?"ding_"+t.dingId:"",resolve:{info:function(){return t}},closable:!1,enterTriggerEl:".ok"}),n=e)}var n=(new Date).getTime(),e=(new Date).getTime();return t}]),app.controller("dingDetailCtrl",["$scope","info","dinglist","dingInfoService","$modalInstance","$translate","DingAttachmentType",function(i,t,n,e,d,o,l){var a=this;this.text={and_ding_detail:o.instant("and_ding_detail"),dt_ding_detail_comment_public_tip:o.instant("dt_ding_detail_comment_public_tip"),dt_ding_detail_comment_secret_reply_placeholder_tip:o.instant("dt_ding_detail_comment_secret_reply_placeholder_tip"),dt_ding_detail_comment_secret_tip:o.instant("dt_ding_detail_comment_secret_tip"),pc_ding_detail_send_btn:o.instant("pc_ding_detail_send_btn"),pc_ding_detail_reply_error_tips:o.instant("pc_ding_detail_reply_error_tips"),pc_ding_detail_input_tips:o.instant("pc_ding_detail_input_tips")};var r="";this.DingCommentAuthType=DingCommentAuthType,this.info=t,this.dingDetail="",this.info.status={isLoading:!1},this.currCommentor=null;var c=function(){if(a.dingDetail.commentAuth===DingCommentAuthType.ON&&a.dingDetail.isReceive)var i=[a.dingDetail.senderUidEx.uid];else var i=a.currCommentor?[a.currCommentor.openId]:[];return i};a.inputOption={preSend:function(i){},setFocus:function(){},placeholder:r,sendSpaceFile:function(i,t){var n=c(),e={fileName:t.name,detailType:t.ext,size:t.size,fileSpaceId:t.spaceId,type:l.SPACE_FILE,mediaId:t.id};a.dingDetail.sendAttachmentComment(e,n)},sendMsg:function(i){var t={type:l.TEXT,textContent:{textContent:i}},n=c();a.dingDetail.sendComment(t,n),a.inputOption.placeholder=r,a.currCommentor=null},inputHeight:0,initHeight:0,initWidth:0,maxLength:140};var g=function(){try{i.$digest()}catch(i){}};n.getDingById(this.info.dingId,function(i){a.dingDetail=i,a.isCommentAuth=i.commentAuth===DingCommentAuthType.ON,a.isCommentAuth&&!a.dingDetail.isReceive?a.inputOption.placeholder=r=a.info.isMyDing?a.text.dt_ding_detail_comment_public_tip:a.text.dt_ding_detail_comment_secret_reply_placeholder_tip:a.inputOption.placeholder=r=a.text.pc_ding_detail_input_tips,a.dingDetail.active(),g(),a.dingDetail.on(a.dingDetail.EventsName.UPDATE_CONFIRM,g),a.dingDetail.comments.commentList.on(a.dingDetail.comments.commentList.EventsName.UPDATE_ITEMS,g)}),this.loadMoreComments=function(){a.dingDetail.comments&&a.dingDetail.comments.totalCount>a.dingDetail.comments.commentList.showSize&&(a.info.status.isLoading=!0,i.$digest(),a.dingDetail.comments.commentList.showMore(function(){a.info.status.isLoading=!1,i.$digest()}))},this.resetInput=function(){a.inputOption.placeholder=r,a.currCommentor=null,g()},i.$on(DING_INFO_EVENT.SEND_COMMENT,function(i,t){var n=t.remarkNameObj.alias||t.userProfileModel.nick;a.inputOption.placeholder=a.text.dt_ding_detail_comment_secret_tip+" "+n,a.currCommentor=t,a.inputOption.setFocus(),g()});var m=i.$watch(function(){return d.element},function(t){t&&(e.autoChangeHeight(i,t,a.inputOption),a.confirmDing=e.confirmDing(a.dingDetail,t),m())});i.$on("$destroy",function(){a.dingDetail.deactive(),a.dingDetail.comments.commentList.off(a.dingDetail.comments.commentList.EventsName.UPDATE_ITEMS,g),a.dingDetail.off(a.dingDetail.EventsName.UPDATE_CONFIRM,g)})}]).factory("dingInfoService",[function(){function i(i,t,n){var e=t.find("#ding-reply-foot"),d=t.find(".ding-info-container");i.$watch(function(){return e.height()},function(i){0!=i&&d.css("bottom",i)})}function t(i,t){return function(){i.confirm(function(t){i.confirmStatus=1});var n=t.find(".ding-reply-comfirm-btn");t.find(".ding-info-confirm-btn").attr("disabled",!0),t.find(".ding-reply-comfirm-btn").attr("disabled",!0),n.html(n.html()+"<i class='loading icon'>")}}return{autoChangeHeight:i,confirmDing:t}}]),module.exports=moduleName;

},{"../../component/ding/dingInfo/dingReplyList":25,"../../directive/dingInfo/dingContent":103,"../../directive/dingInfo/dingParticipator":104,"../../directive/dingInfo/dingReplyFoot":105,"../../directive/infiniteScroll":114,"../../service/ding/DingCommentAuthType":336,"../../service/ding/dingInfoEvent":353,"../ding/dinglist":359,"./modal":627,"path":7}],624:[function(require,module,exports){
"use strict";var moduleName="ddWeb.unPopModal.groupAnnounce",path=require("path"),_=require("lodash");require("../../directive/widget/focus");var $my=require("../user/my"),groupAuthority=require("@ali/wksdk").groupAuthority;angular.module(moduleName,[require("./modal"),require("../modal/confirm"),require("../toast/toast"),require("../log/log"),require("../../filter/msgfilter"),require("../conversation/conversationWithSDK"),require("../conversation/GroupRole"),"ddWeb.widget.focus",require("@ali/ding-api").interface.GroupAnnounceI]).factory("groupAnnounceService",["$rootScope","$unPopModal",function(n,e){function o(n){var o=e.open({template:'<div class="unpop-modal group-announce-modal">\n    <div class="group-announce-header head">\n        <span class="title">群公告</span>\n        <i class="close iconfont unpop-modal-close-btn"></i>\n    </div>\n    <div class="group-announce-container body">\n        <div class="edit-info">\n            <div ng-if="groupAnnounce.showLog && !groupAnnounce.isEditing" class="edit-log">\n                <span class="author-name">{{groupAnnounce.senderName}}</span>\n                <span>更新于</span>\n                <span class="edit-time">{{groupAnnounce.modifyAt | dateTime:true}}</span>\n            </div>\n            <div ng-if="groupAnnounce.isEditing" class="edit-reminder">发布后将以聊天消息发送到群聊天</div>\n        </div>\n        <div class="announce-content">\n            <div ng-if="groupAnnounce.reminderText && !groupAnnounce.isEditing" class="reminder-text">{{groupAnnounce.reminderText}}</div>\n            <pre ng-if="!groupAnnounce.reminderText && !groupAnnounce.isEditing" class="announce-show-container" ng-bind-html="groupAnnounce.content|msgfilter"></pre>\n            <textarea ng-if="groupAnnounce.isEditing" class="announce-edit-container" ng-model="groupAnnounce.content" ng-trim="false" focus="\'true\'"></textarea>\n            <loading ng-if="groupAnnounce.isLoading"></loading>\n        </div>\n    </div>\n    <div class="foot group-announce-footer" ng-if="!groupAnnounce.isEditing && (!groupAnnounce.isOnlyOwnerHasAuthority || groupAnnounce.isOnlyOwnerHasAuthority && groupAnnounce.isOwner)">\n        <button ng-if="!groupAnnounce.isEditing" class="group-announce-edit-btn" ng-click="groupAnnounce.edit($event);">编辑公告</button>\n    </div>\n    <div class="foot group-announce-footer" ng-if="groupAnnounce.isEditing">\n        <button ng-if="groupAnnounce.isEditing" class="group-announce-save-btn small" ng-click="groupAnnounce.publish($event);">发布</button>\n        <button ng-if="groupAnnounce.isEditing" class="group-announce-cancel-btn small red" ng-click="groupAnnounce.cancel($event);">取消</button>\n    </div>\n</div>\n',controller:"groupAnnounce",controllerAs:"groupAnnounce",resolve:{info:function(){return n}}});return o.result}return{open:o}}]).controller("groupAnnounce",["$scope","$modalInstance","$confirm","info","GroupAnnounceI","toastService","log","GroupRole","conversationWithSDK",function(n,e,o,t,i,r,u,c,s){var d=this,a={empty:"该群暂时没有公告",fail:"获取公告失败，请稍后再试"};d.isLoading=!0,d.isEditing=!1,d.reminderText="",d.showLog=!1;var g=d.content="";d.senderName=null,d.modifyAt=null;var l=s.getConvObj(t.cid);d.conv=l;var p=function(){this.isOnlyOwnerHasAuthority=l.baseConversation.authority===groupAuthority.ONLY_OWNER,this.isOwner=l.baseConversation.ownerId===$my.uid}.bind(this);p();var f=function(){try{n.$digest()}catch(n){console.log(n)}},m=function(){p(),f()};l.EventEmitter.on(l.EVENTS.AUTHORITY_UPDATE,m),i.getGroupAnnounce(t.cid,function(e){d.isLoading=!1,200===e.code?(d.senderName=_.get(e,"body.senderName"),d.modifyAt=_.get(e,"body.modifyAt"),g=d.content=_.get(e,"body.contentModel.text"),d.content?(d.reminderText="",d.showLog=!0):(d.reminderText=a.empty,d.showLog=!1)):(u.error("getGroupAnnounce err. cid: "+t.cid+", data:"+JSON.stringify(e)),d.reminderText=a.fail),n.$digest()}),d.edit=function(n){n.preventDefault(),n.stopPropagation(),d.isEditing=!0},d.publish=function(o){if(d.isBossAuthority&&!d.isGroupBoss)return r.show("发布失败，权限被收回",{type:"error"}),void e.close();if(_.trim(d.content)&&d.content.length>5e3)return void r.show("公告请不要超过5000字",{type:"error"});if(_.trim(d.content)&&d.content===g||!_.trim(d.content)&&_.trim(d.content)===_.trim(g))return void e.close();if(!_.trim(d.content))return void i.deleteGroupAnnounce(t.cid,function(o){d.isEditing=!1,200===o.code?(d.reminderText=a.empty,r.show("删除公告成功",{type:"success"}),e.close()):r.show("删除公告失败",{type:"error"}),n.$digest()});var u={cid:t.cid,contentModel:{contentType:1,text:d.content}};i.sendOrUpdateGroupAnnounce(u,function(o){200===o.code?e.close():r.show("发布公告失败",{type:"error"}),n.$digest()})},d.cancel=function(n){n.preventDefault(),n.stopPropagation(),o({content:"是否取消本条公告？"}).then(function(){d.isEditing=!1,d.content=g})},n.$on("$destroy",function(){l.EventEmitter.off(l.EVENTS.AUTHORITY_UPDATE,m)})}]),module.exports=moduleName;

},{"../../directive/widget/focus":157,"../../filter/msgfilter":195,"../conversation/GroupRole":297,"../conversation/conversationWithSDK":308,"../log/log":422,"../modal/confirm":447,"../toast/toast":611,"../user/my":635,"./modal":627,"@ali/ding-api":711,"@ali/wksdk":779,"lodash":919,"path":7}],625:[function(require,module,exports){
"use strict";var moduleName="ddWeb.unpopModal.groupFileList",_=require("lodash"),frameTalkHost=require("@ali/frame-talk/host"),path=require("path"),$my=require("../user/my");angular.module(moduleName,[require("./modal"),require("../../directive/group/fileList"),require("../openAPI/initHelper"),require("../conversation/conversationWithSDK")]).factory("openGroupFileList",["$unPopModal",function(e){function i(i){var i=i||{};i=_.assign({},n,i),o=(new Date).getTime(),o-t>=1e3&&(e.dismissAll(),e.open({template:'<div class="unpop-modal open-slide-panel-container">\n    <div class="head">\n        <i class="close iconfont unpop-modal-close-btn"></i>\n        <span class="title">{{groupFileListCtrl.title}}</span>\n        <a href="#" ng-if="groupFileListCtrl.leftBtnText" ng-click="groupFileListCtrl.onLeftBtnClick($event)" class="left-btn">{{ groupFileListCtrl.leftBtnText }}</a>\n    </div>\n    <div class="body">\n        <group-file-list cid="groupFileListCtrl.cid" org-id="groupFileListCtrl.orgId" space-id="groupFileListCtrl.spaceId" container-name="groupFileListCtrl.frameName" doc-readonly="groupFileListCtrl.docReadonly" watermark="groupFileListCtrl.watermark" ></group-file-list>\n    </div>\n</div>\n',controller:"groupFileListCtrl",controllerAs:"groupFileListCtrl",key:"groupFileList"+i.cid,resolve:{option:function(){return i}},closable:!1}),t=o)}var t=(new Date).getTime(),o=(new Date).getTime(),n={cid:0,orgId:null,spaceId:null};return i}]).controller("groupFileListCtrl",["$scope","option","$modalInstance","openAPIInitHelper","conversationWithSDK",function(e,i,t,o,n){var r=this;this.title=i.title,this.leftBtnText="",this.cid=i.cid,this.orgId=i.orgId,this.spaceId=i.spaceId;var l=["device.notification.alert","device.notification.confirm","device.notification.toast","biz.util.openModal","biz.util.openSlidePanel","biz.util.uploadImage","biz.util.previewFile","biz.util.downloadFile","biz.util.openLocalFile","biz.util.isLocalFileExist"],a=window.location.origin,s=new frameTalkHost(a,"*"),d="biz.navigation.setTitle",c="biz.navigation.quit",u="biz.navigation.setLeft";this.frameName=s.getContainerName();var p=n.getConvObj(this.cid),g=p.baseConversation,m=g.ownerId===$my.uid,f=g.extension||{};this.docReadonly=!m&&"1"===f.doc_readonly,this.watermark="1"===f.doc_readonly&&"1"===f.watermark,s.register(d,function(i){var t=i.params.title||"";r.title=t,e.$digest(),i.respond(!0)}),s.register(c,function(e){var i=e.params.message||"";t.close(i),e.respond(i)}),s.register(u,function(i){var t=i.params.text||"";r.leftBtnText=t,e.$digest(),i.respond(!0)}),o.initOpenAPI(s,l),this.onLeftBtnClick=function(e){e.preventDefault(),s.emitEvent("leftBtnClick",{})},e.$on("$destroy",function(){s.destroyContainer()})}]),module.exports=moduleName;

},{"../../directive/group/fileList":111,"../conversation/conversationWithSDK":308,"../openAPI/initHelper":525,"../user/my":635,"./modal":627,"@ali/frame-talk/host":724,"lodash":919,"path":7}],626:[function(require,module,exports){
"use strict";var path=require("path"),LoginStatusCode=require("../login/LoginStatusCode"),_=require("lodash"),localLog=require("../log/localLog"),MainScene=require("../../service/user/MainScene");require("./modal"),require("../user/userManager"),require("../modal/confirm"),require("../modal/profileModal"),require("../modal/groupAddMembersModal"),require("../modal/switchOrgModal"),require("../toast/toast");var $my=require("../user/my"),ConvType=require("../conversation/ConvType"),wksdk=require("@ali/wksdk"),CSMap=require("../../service/CSConfig/CSMap"),groupAuthority=wksdk.groupAuthority,groupValidationStatus=wksdk.groupValidationStatus,SHOW_HISTORY_TYPE=wksdk.showHistoryType,groupNickService=wksdk.groupNickService,cloudSetting=wksdk.cloudSetting,TITLE_CHAR_LIMIT=20,MEMBERS_PAGE_SIZE=72,moduleName=module.exports="ddWeb.unPopModal.groupSetting",GlobalUrl=require("../../service/globalUrl");angular.module(moduleName,["ddWeb.unPopModal.modal",require("../conversation/conversationWithSDK"),"ddWeb.user.userManager","ddWeb.modal.confirm","ddWeb.service.groupAddMembersModal","ddWeb.service.switchOrgModal","ddWeb.toast",require("../../directive/widget/checkbox"),require("../conversation/GroupRole"),require("../modal/transferGroupBossModal"),require("../../directive/widget/searchInput/searchInput"),require("../../service/frameContainer/slidePanel"),require("../../service/search/search/SearchUserName")]).factory("groupSettingService",["$rootScope","$unPopModal",function(t,e){function n(n,i){var o=n||t,s=e.open({template:'<div class="unpop-modal group-setting-modal">\n\t<div class="group-setting-header head">\n\t\t<span class="title">群设置</span>\n\t\t<i class="close iconfont unpop-modal-close-btn"></i>\n\t</div>\n\t<div class="group-setting-container body settings" infinite-scroll infinite-scroll-bottom="groupSetting.showMoreMembers()" infinite-scroll-threshold="60">\n\t\t<div class="group-setting-row">\n\t\t\t<span>群名称：</span>\n\t\t\t<span ng-if="!groupSetting.isEditGroupTitle">\n\t\t\t\t<span class="group-setting-title" ng-bind-html="groupSetting.groupTitle"></span>\n\t\t\t\t<span class="group-setting-link group-setting-edit-title-btn" ng-if="groupSetting.hasEditTitleAuthority" ng-click="groupSetting.editTitleAction($event)">\n\t\t\t\t\t<i class="iconfont icon group-setting-edit-title-icon">&#xe62a;</i>\n\t\t\t\t\t<span >编辑</span>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t<span class="group-setting-edit-box" ng-if="groupSetting.isEditGroupTitle">\n\t\t\t\t<input type="text" class="group-setting-title-input" ng-model="groupSetting._title"  focus="\'true\'" ng-keydown="groupSetting.keyDownConfirmEdit($event)">\n\t\t\t\t<button class="button small group-setting-title-btn" ng-click="groupSetting.saveTitle($event)">确认</button>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="setting-item group-setting-row" ng-if="groupSetting.isOwner">\n\t\t\t<span class="rem" htitle="修改群名称，添加群成员，编辑群公告" htitle-offset="right">仅群主可管理：</span>\n\t\t\t<div class="toggle" dd-checkbox ng-model="groupSetting.isOnlyOwnerHasAuthority" checked="groupSetting.updateAuthority" unchecked="groupSetting.updateAuthority">\n\t\t\t\t<label></label>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="group-setting-row" ng-if="groupSetting.isOrdinaryOrCompany">\n\t\t\t<span>群主：</span>\n\t\t\t<span class="group-boss-name" ng-bind-html="groupSetting.ownerName"></span>\n\t\t\t<a ng-if="groupSetting.isOwner" ng-click="groupSetting.transferGroupBoss()" href="javascript:;" class="transfer-group-boss">\n\t\t\t\t<i class="iconfont">&#xe65c;</i>转让群主\n\t\t\t</a>\n\t\t</div>\n\t\t<div class="setting-item group-setting-row" ng-if="groupSetting.isCompanyGroup || groupSetting.isOwner && groupSetting.isOrgUser">\n\t\t\t<i ng-if="groupSetting.isCompanyGroup" class="icon-company" ng-class="{\'icon-dept-company\':groupSetting.conv.isDeptGroup ,\'icon-all-user-company\': groupSetting.conv.isAllUserGroup}"></i>\n\t\t\t<span class="rem">\n\t\t\t\t企业群\n\t\t\t\t<span ng-if="groupSetting.isCompanyGroup && groupSetting.orgName" class="org-name-rem" title="{{groupSetting.orgName}}">（{{groupSetting.orgName}}）</span>\n\t\t\t</span>\n\t\t\t<div ng-show="!groupSetting.conv.baseConversation.extension.deptId && groupSetting.isOwner && groupSetting.isOrgUser && !groupSetting.isCompanyGroup" class="toggle" dd-checkbox ng-model="groupSetting.isCompanyGroup" checked="groupSetting.convertToOrgGroup">\n\t\t\t\t<label></label>\n\t\t\t</div>\n\t\t\t<div ng-if="groupSetting.conv.baseConversation.extension.deptId" class="group-tip">{{groupSetting.deptCompanyTips}}</div>\n\t\t</div>\n\t\t<div class="setting-item group-setting-row">\n\t\t\t<span class="rem">消息免打扰：</span>\n\t\t\t<div class="toggle" dd-checkbox ng-model="groupSetting.conv.notificationOff" checked="groupSetting.updateNotificationOff" unchecked="groupSetting.updateNotificationOff">\n\t\t\t\t<label></label>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="setting-item group-setting-row">\n\t\t\t<span class="rem">群置顶：</span>\n\t\t\t<div class="toggle" dd-checkbox ng-model="groupSetting.conv.baseConversation.sort" checked="groupSetting.updateIsTop" unchecked="groupSetting.updateIsTop">\n      <label></label>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="setting-item group-setting-row" ng-if="groupSetting.isOwner&&!groupSetting.isGroupStrictOpen">\n      <span class="rem" htitle="{{::groupSetting.TEXT[\'ios.join_group.setting.summary\']}}" htitle-offset="right">入群验证：</span>\n\t\t\t<div class="toggle" dd-checkbox ng-model="groupSetting.isGroupValidation" checked="groupSetting.updateGroupValidationType" unchecked="groupSetting.updateGroupValidationType">\n\t\t\t\t<label></label>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="setting-item group-setting-row" ng-if="groupSetting.isOwner">\n      <span class="rem" htitle="{{::groupSetting.TEXT.dt_im_conversation_show_history_desc}}" htitle-offset="right">新成员可查看聊天历史：</span>\n\t\t\t<div class="toggle" dd-checkbox ng-model="groupSetting.showHistoryType" checked="groupSetting.updateShowHistoryType" unchecked="groupSetting.updateShowHistoryType">\n\t\t\t\t<label></label>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="setting-item group-setting-row safety-setting" ng-if="!groupSetting.isSafetyOpen && groupSetting.isCompanyGroup">\n      <div class="header">\n        <span class="rem">第三方加密</span>\n        <div class="group-setting-safety-section" ng-click="groupSetting.openSafetyOrg()">\n          <i class="icon-grey-safety"></i>\n          <span class="safety-setting-close-text">未开通</span>\n          <i class="iconfont jiantou"></i>\n        </div>\n      </div>\n      <div class="desc">\n        此聊天中的消息未被第三方加密，点击查看详情。\n      </div>\n\t\t</div>\n\t\t<div class="setting-item group-setting-row safety-setting" ng-if="groupSetting.isSafetyOpen">\n      <div class="header">\n        <span class="rem">第三方加密</span>\n        <div class="group-setting-safety-section" ng-click="groupSetting.openSafetyOrg()">\n          <i class="icon-green-safety"></i>\n          <span class="safety-setting-close-text">已开通</span>\n          <i class="iconfont jiantou"></i>\n        </div>\n      </div>\n      <div class="desc">\n        此聊天中的消息将被第三方加密，除你之外的任何人都无法解密。\n      </div>\n\t\t</div>\n\t\t<div class="group-setting-person-box" ng-if="groupSetting.isOrdinaryOrCompany">\n\n\n\t\t\t<div class="setting-item group-setting-row">\n\t\t            <loading position="top" class="group-member-loading" ng-if="groupSetting.isShowGetMemberLoading"></loading>\n                <span class="group-member-info" ng-hide="groupSetting.matcher.isOpen">\n                    <span>群成员：</span>\n                    <span>{{groupSetting.conv.baseConversation.memberCount}}人</span>\n                    <span class="group-setting-link group-add-members" ng-if="!groupSetting.isGroupStrictOpen&&(!groupSetting.isOnlyOwnerHasAuthority||(groupSetting.isOnlyOwnerHasAuthority&&groupSetting.isOwner))" ng-click="groupSetting.addMembers()">\n                        <i class="iconfont icon group-setting-add-member-icon">&#xe631;</i>\n                        <span>添加新成员</span>\n                    </span>\n                </span>\n                <div class="search-toggle">\n                    <search-input placeholder="\'搜索群成员\'"\n                                  on-search="groupSetting.matcher.onSearch(keyword)"\n                                  is-open="groupSetting.matcher.isOpen"\n                                  prevent-close-selectors="groupSetting.matcher.preventCloseSelectors"></search-input>\n                </div>\n            </div>\n          <div class="group-history-tips" ng-if="groupSetting.showHistoryType && !groupSetting.isOwner">\n            群主已开启“新成员入群可查看最近100条聊天记录”\n          </div>\n            <div class="group-setting-person clearfix">\n              <div class="group-setting-people-filler" ng-hide="groupSetting.showMembers.length || !groupSetting.isInMatchMode">\n                  <div class="panel-filler-icon">\n                      <i class="contact-icon iconfont">&#xe68f;</i>\n                  </div>\n                  <p class="panel-filler-text">没有搜索到任何联系人</p>\n              </div>\n\t\t\t\t<!-- 人头 -->\n\t\t\t\t<div class="group-setting-people" ng-click="groupSetting.showProfile($event,item.openId)" ng-repeat="item in groupSetting.showMembers track by item.openId">\n\t\t\t\t\t<dd-avatar uid="item.openId"></dd-avatar>\n\t\t\t\t\t<p ng-bind-html="item.displayName" htitle="{{item.name}}" htitle-offset="left"></p>\n\t\t\t\t\t<div class="group-setting-rm-peron-box" ng-if="groupSetting.isOwner && groupSetting.myUid!=item.openId && !groupSetting.isGroupStrictOpen" ng-click="groupSetting.removeMembers($event,item.openId)">\n\t\t\t\t\t\t<i class="close iconfont group-setting-rm-person-btn">&#xe607;</i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<loading position="top" ng-if="groupSetting.isShowLoading"></loading>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="foot group-setting-footer"  ng-if="groupSetting.isOrdinaryOrCompany&&!groupSetting.isGroupStrictOpen">\n\t\t<button class="group-setting-quit-btn red" ng-click="groupSetting.quit($event)" >退出群聊</button>\n\t\t<a class="group-setting-disband-btn" ng-if="groupSetting.isOwner && !groupSetting.conv.baseConversation.extension.deptId " ng-click="groupSetting.disband($event);"><i class="iconfont">&#xe645;</i>解散群聊</a>\n\t</div>\n</div>\n',controller:"groupSetting",controllerAs:"groupSetting",scope:o,key:i&&i.cid?"conv_"+i.cid:"",resolve:{info:function(){return i}},closable:!1,enterTriggerEl:".ok"});return s.result}return{open:n}}]).controller("groupSetting",["$scope","conversationWithSDK","info","userManager","$confirm","profileModalService","groupAddMembersModalService","switchOrgModalService","toastService","$timeout","GroupRole","transferGroupBossService","$filter","openSlidePanelContainer","searchUserName","$translate",function(t,e,n,i,o,s,r,a,g,p,u,d,c,l,h,m){function v(){t.$evalAsync()}var f=this,S=e.getConvObj(n.cid);this.ownerId=null,this.conv=S,this.isOrgUser=$my.orgEmployees&&$my.orgEmployees.length>0,this.groupTitle="",this.myUid=$my.uid,this.isEditGroupTitle=!1,this.notificationOff=!1,this.isCompanyGroup=!1,this._title="",this.ownerName="",this.orgId=null,this.orgName=null,this.deptCompanyTips="",this.showMembers=[],this._members=[],this.isInMatchMode=!0,this.TEXT={dt_im_conversation_show_history_desc:m.instant("dt_im_conversation_show_history_desc")},this.TEXT["ios.join_group.setting.summary"]=m.instant("ios.join_group.setting.summary");var E=function(){if(this.groupTitle=c("emoj")(S.baseConversation.title),this.notificationOff=S.notificationOff,this.isCompanyGroup=S.isCompanyGroup,this.isOnlyOwnerHasAuthority=S.baseConversation.authority===groupAuthority.ONLY_OWNER,this.isOrdinaryOrCompany=S.baseConversation.tag===ConvType.ORDINARY_GROUP||S.baseConversation.tag===ConvType.COMPANY_GROUP,this.isGroupValidation=_.get(S,"baseConversation.groupValidationInfo.type")===groupValidationStatus.ON,this.showHistoryType=_.get(S,"baseConversation.showHistoryType")===SHOW_HISTORY_TYPE.ON,this.isOwner=S.baseConversation.ownerId===this.myUid,this.hasEditTitleAuthority=this.isOrdinaryOrCompany&&(!this.isOnlyOwnerHasAuthority||this.isOnlyOwnerHasAuthority&&this.isOwner),this.isSafetyOpen=S.isSafety,this.isGroupStrictOpen=!1,this.isCompanyGroup){if(this.orgId=S.baseConversation.extension.id,$my.orgEmployees&&this.orgId){var t=$my.getOrgByOid(this.orgId);t&&(this.orgName=t.orgEmployeeModel.orgName)}if(this.conv.baseConversation.extension&&this.conv.baseConversation.extension.deptId){var e="部门";this.conv.isAllUserGroup&&(e="全员"),this.deptCompanyTips="该"+e+"群已关联"+this.conv.baseConversation.extension.deptName,"1"===this.conv.baseConversation.extension.autoAddSwitch&&(this.deptCompanyTips+="，新人加入会自动加入该群。该功能由管理员设置。");var n={};try{n=JSON.parse(cloudSetting.getConfig(CSMap.GROUP_STRICT.module,CSMap.GROUP_STRICT.key).settingValue)}catch(t){localLog.error("get groupStrictSetting error",t,cloudSetting.getConfig(CSMap.GROUP_STRICT.module,CSMap.GROUP_STRICT.key))}this.isGroupStrictOpen=!!n[this.orgId]}}S.baseConversation.ownerId!==this.ownerId&&(this.ownerId=S.baseConversation.ownerId,i.getUsers([this.ownerId]).then(function(t){if(t&&t[0]){var e=t[0],n=S.getScene(MainScene.CHAT);e.getName(S.convId,n,{oid:S.orgId}).then(function(t){this.ownerName=c("emoj")(t),v()}.bind(this))}}.bind(this)))}.bind(this);E();var y=function(){E(),v()},b=function(t){var e=[];return t.forEach(function(t){var n=S.getScene(MainScene.GROUP_SETTING);e.push(t.getName(S.convId,n,{oid:S.orgId}).then(function(e){return{user:t,displayName:c("emoj")(e),name:e,openId:t.openId}}))}),Promise.all(e)},T=function(){return S.getMembers().then(function(t){var e=t.map(function(t){return t.openIdEx.openId});return i.getUsers(e).then(function(t){if(t&&t.length>0){var e=t.filter(function(t){return!!t});return b(e)}return Promise.reject(new Error("get users failed"))}.bind(this)).then(function(t){this._members=t.sort(function(t,e){var n=0,i=0;return t.openId===this.ownerId&&(n=-1),e.openId===this.ownerId&&(i=-1),n-i}.bind(this))}.bind(this))}.bind(this)).catch(function(t){return localLog.error("generate member list info error",t),Promise.reject(t)}.bind(this))}.bind(this),O=function(){f.isShowGetMemberLoading=!0,v(),T().then(function(){f.showMembers=f._members.slice(0,MEMBERS_PAGE_SIZE),f.isShowGetMemberLoading=!1,v()})};O();var w=function(){T().then(function(){var t=this.showMembers.length;this.showMembers=this._members.slice(0,Math.max(t,MEMBERS_PAGE_SIZE)),v()}.bind(this))}.bind(this);this.openSafetyOrg=function(){l({title:"第三方加密",url:GlobalUrl.SAFETY_INTRUDUCE})},this.keyDownConfirmEdit=function(t){13===t.keyCode&&f.saveTitle()},this.showMoreMembers=function(){return this.isInMatchMode?Promise.resolve():(this.showMembers.length<this._members.length&&(this.showMembers=this._members.slice(0,this.showMembers.length+MEMBERS_PAGE_SIZE)),v(),Promise.resolve())}.bind(this),this.editTitleAction=function(t){t.preventDefault(),t.stopPropagation(),this.isEditGroupTitle=!0,this._title=S.baseConversation.title}.bind(this),this.saveTitle=function(t){return t&&t.preventDefault(),t&&t.stopPropagation(),0==f._title.length?void g.show("群名称不能为空",{type:"error"}):(S.baseConversation.title!=this._title&&(this._title.length>TITLE_CHAR_LIMIT?g.show("群名称不能超过"+TITLE_CHAR_LIMIT+"字",{type:"error"}):e.updateTitle(n.cid,this._title,function(){})),void(f.isEditGroupTitle=!1))}.bind(this),this.updateAuthority=function(){var t=f.isOnlyOwnerHasAuthority===!1?groupAuthority.ONLY_OWNER:groupAuthority.ALL;S.updateAuthority(t)},this.convertToOrgGroup=function(){a.showModal($my).then(function(t){var e=t.oid,n=t.orgName;S.convertToOrgGroup(e,{id:e,orgName:n})},function(t){f.isCompanyGroup=!1,v()})},this.updateGroupValidationType=function(){var t=f.isGroupValidation?groupValidationStatus.OFF:groupValidationStatus.ON;S.setGroupValidationType(t)},this.updateShowHistoryType=function(){var t=f.showHistoryType?SHOW_HISTORY_TYPE.OFF:SHOW_HISTORY_TYPE.ON;S.updateShowHistoryType(t)},this.updateNotificationOff=function(){var t=S.notificationOff?0:1;S.setNotificationOff(t)},this.updateIsTop=function(){S.setTop(!S.baseConversation.sort)},this.removeMembers=function(t,e){t.preventDefault(),t.stopPropagation(),i.getUsers([e]).then(function(t){0!==t.length&&o({title:"确认信息",content:"是否确认把 "+t[0].userProfileModel.nick+" 移出群？",confirmText:"确定"}).then(function(){var t=null;this.ownerId&&(t=[this.ownerId]),S.removeMembers([e],t,v)}.bind(this))}.bind(this))},this.quit=function(t){t.preventDefault(),t.stopPropagation();var e="退出后仅通知群主，且不会再接收此群聊消息。";o({title:"是否确认退出群？",content:e,confirmText:"确定"}).then(function(t){S.quit(function(){v()})})},this.disband=function(t){t.preventDefault(),t.stopPropagation(),o({title:"是否解散群组？",content:"解散该群后，所有群成员将失去和群友的联系。"}).then(function(t){S.disband(function(){v()})})},this.showProfile=function(t,e){t.preventDefault(),t.stopPropagation(),s(e)},this.addMembers=function(){S.getMembers(function(t){r.showModal({isCompanyGroup:f.isCompanyGroup,oid:this.orgId,orgName:this.orgName,lockedIds:t.map(function(t){return t.openIdEx.openId}),conversationId:n.cid}).then(function(t){return S.addMembers(t)}).catch(function(t){t instanceof Error&&g.show(t.message,{type:"error"})})}.bind(this)),f.isEditGroupTitle=!1}.bind(this),this.transferGroupBoss=function(){d.showModal(n)},f.isInMatchMode=!1,f.memberSource=[],f.matcher={isOpen:!1,preventCloseSelectors:[".group-setting-modal .group-setting-person"],onSearch:function(t){""===t?I():M(t)}};var I=(function(t,e){return t.filter(function(t){var n=t.user,i=_.get(n,"userProfileModel.nick")||"",o=_.get(n,"userProfileModel.nickPinyin")||"",s="";if(S.isGroupShowRealName&&this.orgId)var s=_.get(n,"employeeBaseModel."+this.orgId+".name")||n.userProfileModel.name||"";return o=o.replace(/\^/g,""),i.indexOf(e)>-1||o.indexOf(e)>-1||s.indexOf(e)>-1}.bind(this))}.bind(this),function(){f.isInMatchMode===!0&&(f.isInMatchMode=!1,this.showMembers=this._members.slice(0,MEMBERS_PAGE_SIZE))}.bind(this)),M=function(t){f.isInMatchMode=!0;var e=this._members.map(function(t){return t.user});h(t,e,{cid:S.convId,orgId:S.orgId}).then(function(t){b(t).then(function(t){this.showMembers=t,v()}.bind(this))}.bind(this))}.bind(this);S.EventEmitter.on(S.EVENTS.UPDATE_BASE_CONV,y),S.EventEmitter.on(S.EVENTS.GROUP_VALIDATION_UPDATE,y),S.EventEmitter.on(S.EVENTS.UPDATE_TITLE,y),S.EventEmitter.on(S.EVENTS.AUTHORITY_UPDATE,y),S.EventEmitter.on(S.EVENTS.NOTIFICATION_STATUS_CHANGE,y),S.EventEmitter.on(S.EVENTS.SORT_UPDATE,y),S.EventEmitter.on(S.EVENTS.SHOW_HISTORY_TYPE_UPDATE,y),S.EventEmitter.on(S.EVENTS.MEMBER_COUNT_UPDATE,w),groupNickService.on(groupNickService.EventsName.UPDATE_BY_CID+S.convId,w),t.$on("$destroy",function(){S.EventEmitter.off(S.EVENTS.UPDATE_BASE_CONV,y),S.EventEmitter.off(S.EVENTS.GROUP_VALIDATION_UPDATE,y),S.EventEmitter.off(S.EVENTS.UPDATE_TITLE,y),S.EventEmitter.off(S.EVENTS.AUTHORITY_UPDATE,y),S.EventEmitter.off(S.EVENTS.NOTIFICATION_STATUS_CHANGE,y),S.EventEmitter.off(S.EVENTS.SORT_UPDATE,y),S.EventEmitter.off(S.EVENTS.SHOW_HISTORY_TYPE_UPDATE,y),S.EventEmitter.off(S.EVENTS.MEMBER_COUNT_UPDATE,w)}),f.isGroupBoss=!1}]);

},{"../../directive/widget/checkbox":146,"../../directive/widget/searchInput/searchInput":169,"../../service/CSConfig/CSMap":236,"../../service/frameContainer/slidePanel":388,"../../service/globalUrl":398,"../../service/search/search/SearchUserName":584,"../../service/user/MainScene":629,"../conversation/ConvType":294,"../conversation/GroupRole":297,"../conversation/conversationWithSDK":308,"../log/localLog":421,"../login/LoginStatusCode":429,"../modal/confirm":447,"../modal/groupAddMembersModal":457,"../modal/profileModal":466,"../modal/switchOrgModal":475,"../modal/transferGroupBossModal":476,"../toast/toast":611,"../user/my":635,"../user/userManager":641,"./modal":627,"@ali/wksdk":779,"lodash":919,"path":7}],627:[function(require,module,exports){
"use strict";var moduleName="ddWeb.unPopModal.modal";angular.module(moduleName,[]).factory("$$unPopStackedMap",function(){return{createNew:function(){var e=[];return{add:function(n,o){e.push({key:n,value:o})},get:function(n){for(var o=0;o<e.length;o++)if(n==e[o].key)return e[o]},keys:function(){for(var n=[],o=0;o<e.length;o++)n.push(e[o].key);return n},top:function(){return e[e.length-1]},remove:function(n){for(var o=-1,t=0;t<e.length;t++)if(n==e[t].key){o=t;break}return e.splice(o,1)[0]},removeAll:function(){return e=[]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("unPopModalTransclude",function(){return{link:function(e,n,o,t,r){r(e.$parent,function(e){n.empty(),n.append(e)})}}}).factory("$unPopModalStack",["$timeout","$document","$compile","$rootScope","$$unPopStackedMap",function(e,n,o,t,r){function i(e){function n(e){e=$(e);var t=e.css("z-index");"auto"!==t&&(o=o>parseInt(t)?o:parseInt(t));var r=e.parent();r.is("body")||0===r.length||n(r)}var o=0;return n(e),o}function l(e,o){n.on("click.unPopModal",function(e){i(e.target)<o&&u.dismissWithAnimation(!1)})}function a(){n.off("click.unPopModal")}function s(){var e=c.keys();e.forEach(function(e){var n=c.remove(e).value;n.modalDomEl.remove()})}var c=r.createNew(),u={};return u.open=function(e,n){if(!c.get(e.key)){u.dismissAll(),c.add(e.key,{deferred:n.deferred,modalScope:n.scope,keyboard:n.keyboard,enterTriggerEl:n.enterTriggerEl,closeCss:n.closeCss});var t=o(n.content.trim())(n.scope);c.top().value.modalDomEl=t,l(t,e.zIndex),t.css("z-index",e.zIndex).find(".unpop-modal-close-btn").click(u.close),e.element=t;var r=n.parentEl||"#content-pannel",i=$(r);i.append(t),t.on("$destroy",function(){n.scope.$destroy()})}},u.close=function(e,n){var o=c.top();if(o){o.value.deferred.resolve(n);var t=o.value.modalDomEl,r=o.value.closeCss||{right:"-600px"};t.animate(r,500,function(){u.dismissAll()})}},u.dismiss=function(e,n){var o=c.top();o&&(o.value.deferred.reject(n),u.dismissAll())},u.dismissAll=function(e){var n=c.top();n&&(n.value.deferred.reject(e),s(),a())},u.dismissWithAnimation=function(e){var n=u.getTop();if(n){n.value.deferred.reject(e);var o=n.value.modalDomEl,t=n.value.closeCss||{right:"-600px"};o.animate(t,500,function(){u.dismissAll()})}},u.getTop=function(){return c.top()},u}]).provider("$unPopModal",function(){var e={options:{keyboard:!0,closable:!0,enterTriggerEl:""},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$unPopModalStack",function(n,o,t,r,i,l,a){function s(e){return e.template?t.when(e.template):r.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:i}).then(function(e){return e.data})}function c(e){var o=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&o.push(t.when(n.invoke(e)))}),o}var u={};return u.dismissAll=a.dismissAll,u.dismissWithAnimation=a.dismissWithAnimation,u.open=function(n){var r=t.defer(),i=t.defer(),u={result:r.promise,opened:i.promise,key:n.key,close:function(e){a.close(u,e)},dismiss:function(e){a.dismiss(u,e)},zIndex:n.zIndex||100};if(n=angular.extend({},e.options,n),n.resolve=n.resolve||{},!n.template&&!n.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=t.all([s(n)].concat(c(n.resolve)));return d.then(function(e){var t=(n.scope||o).$new();t.$close=u.close,t.$dismiss=u.dismiss;var i,s={},c=1;n.controller&&(s.$scope=t,s.$modalInstance=u,angular.forEach(n.resolve,function(n,o){s[o]=e[c++]}),i=l(n.controller,s),n.controllerAs&&(t[n.controllerAs]=i)),a.open(u,{scope:t,deferred:r,content:e[0],keyboard:n.keyboard,closable:n.closable,enterTriggerEl:n.enterTriggerEl,size:n.size,parentEl:n.parentEl,closeCss:n.closeCss}),n.scope||setTimeout(function(){try{t.$digest()}catch(e){console.log(e)}},10)},function(e){r.reject(e)}),d.then(function(){i.resolve(!0)},function(){i.reject(!1)}),u},u}]};return e}),module.exports=moduleName;

},{}],628:[function(require,module,exports){
"use strict";var ua=require("../ua"),protocol=window.location.protocol,host=window.location.host,mainOrigin=window.mainOrigin||"https://im.dingtalk.com",currentOrigin=window.location.origin,jsuri=require("jsuri"),assetsResolve=function(o){return"//"===o.slice(0,2)?"https:"+o:"http"===o.slice(0,4)?o:"chrome-extension:"===protocol||"app:"===protocol?protocol+"//"+host+"/web_content/assets/"+o:"https://"+staticHost+"/DingTalkWeb/web/"+window.version+"/"+o},apiResolve=function(o){if("chrome-extension:"===protocol||"app:"===protocol){if("//"===o.slice(0,2))return"https:"+o;if("/"===o.slice(0,1))return mainOrigin+o}else{if("//"===o.slice(0,2))return"https:"+o;if("/"===o.slice(0,1))return currentOrigin+o}},uniformLinkProtocolResolve=function(o){var e=new jsuri(o);return"qr.dingtalk.com"===e.host()&&"/page/link"===e.path()&&e.getQueryParamValue("url")&&(o=e.getQueryParamValue("url")),o};exports.assetsResolve=assetsResolve,exports.apiResolve=apiResolve,exports.uniformLinkProtocolResolve=uniformLinkProtocolResolve;

},{"../ua":621,"jsuri":901}],629:[function(require,module,exports){
module.exports={CHAT:"CHAT",AT_CONTENT:"AT_CONTENT",SYSTEM_MSG:"SYSTEM_MSG",RECEIVER_LIST:"RECEIVER_LIST",GROUP_SETTING:"GROUP_SETTING"};

},{}],630:[function(require,module,exports){
module.exports={CHAT_SINGLE:1,CHAT_GROUP_NORMAL:2,CHAT_GROUP_ENTERPRISE:3,CHAT_GROUP_ENTERPRISE_ONLY_REAL_NAME:4,GROUP_SETTING_SINGLE:5,GROUP_SETTING_GROUP_NORMAL:6,GROUP_SETTING_GROUP_ENTERPRISE:7,GROUP_SETTING_GROUP_ENTERPRISE_ONLY_REAL_NAME:8,SYSTEM_MSG_SINGLE:9,SYSTEM_MSG_GROUP_NORMAL:10,SYSTEM_MSG_GROUP_ENTERPRISE:11,SYSTEM_MSG_GROUP_ENTERPRISE_ONLY_REAL_NAME:12,AT_CONTENT_GROUP_NORMAL:13,AT_CONTENT_GROUP_ENTERPRISE:14,AT_CONTENT_GROUP_ENTERPRISE_ONLY_REAL_NAME:15,RECEIVER_LIST_SINGLE:16,RECEIVER_LIST_GROUP_NORMAL:17,RECEIVER_LIST_GROUP_ENTERPRISE:18,RECEIVER_LIST_GROUP_ENTERPRISE_ONLY_REAL_NAME:19};

},{}],631:[function(require,module,exports){
"use strict";var moduleName="ddWeb.user.User",my=require("./my");require("../mediaId/mediaId"),require("../toast/toast"),require("../mediaId/mediaId"),require("../friend/FriendType");var localLog=require("../log/localLog"),Class=require("../../lib/class"),_=require("lodash"),EventEmitter=require("wolfy87-eventemitter"),ORG_NODE_TYPE=require("../org/OrgNodeType"),wksdk=require("@ali/wksdk"),aliasService=wksdk.aliasService,followService=wksdk.followService,groupNickService=wksdk.groupNickService,NAME_SCENE=require("../user/NameScene"),dingTitlesEnum=require("./dingtitlesEnum.js");angular.module(moduleName,[require("@ali/ding-api").interface.UserI,require("@ali/ding-api").interface.FriendI,require("@ali/ding-api").interface.ContactI,"ddWeb.mediaId","ddWeb.toast","ddWeb.mediaId","ddWeb.friend.FriendType",require("./batchGetEmployeeInfo"),require("./userProfileBatchRequest")]).factory("User",["UserI","FriendI","mediaId","ContactI","toastService","FriendType","batchGetEmployeeInfo","userProfileBatchRequest",function(e,i,r,t,o,s,n,l){var a=Class.create({initialize:function(e,i){if(this._genUserData(),!e)throw new Error("Can't instance User without data");this.update(e,i),this.remarkNameObj={},this.followObj={},this.isFollowing=!1,aliasService.getAliasByOpenId(this.openId).then(function(e){this.remarkNameObj=e,this.emit(this.EventsName.ALIAS_UPDATE,e)}.bind(this)).catch(function(){}),aliasService.addListener(aliasService.updateEventNamePrefix+this.openId,function(e){this.remarkNameObj=e,this.emit(this.EventsName.ALIAS_UPDATE,e)}.bind(this));var r=followService.getFollowRelationByOpenId(this.openId);r&&(this.followObj=r,this.isFollowing=this._isFollowing(r),this.emit(this.EventsName.FOLLOW_UPDATE,r)),followService.addListener(followService.updateEventNamePrefix+this.openId,function(e){this.followObj=e,this.isFollowing=this._isFollowing(e),this.emit(this.EventsName.FOLLOW_UPDATE,e)}.bind(this)),groupNickService.addListener(groupNickService.EventsName.UPDATE_BY_UID+this.openId,function(e){this.emit(this.EventsName.GROUP_NICK_UPDATE+e.cid,e)}.bind(this))},EventsName:{ALIAS_UPDATE:"alias_update",FOLLOW_UPDATE:"follow_update",PROFILE_UPDATE:"profile_update",GROUP_NICK_UPDATE:"group_update"},Implements:EventEmitter,getId:function(){return this.userProfileModel?this.userProfileModel.uid:null},_isFollowing:function(e){return e.status===followService.FOLLOW_STATUS.FOLLOWING||e.status===followService.FOLLOW_STATUS.FOLLOW_EACH_OTHER},_getName:function(e,i,r){var r=r||{};switch(i){case NAME_SCENE.SYSTEM_MSG_SINGLE:return Promise.resolve(this.userProfileModel.nick);case NAME_SCENE.RECEIVER_LIST_SINGLE:case NAME_SCENE.GROUP_SETTING_SINGLE:case NAME_SCENE.CHAT_SINGLE:return Promise.resolve(this.remarkNameObj.alias||this.userProfileModel.nick);case NAME_SCENE.RECEIVER_LIST_GROUP_NORMAL:case NAME_SCENE.GROUP_SETTING_GROUP_NORMAL:var r=_.assign(r,{isBatch:!0,disableCache:!0});return this.remarkNameObj.alias?Promise.resolve(this.remarkNameObj.alias):groupNickService.getGroupNickObj(e,this.getId(),r).then(function(e){return e?Promise.resolve(e.groupNick):Promise.resolve(this.userProfileModel.nick)}.bind(this));case NAME_SCENE.CHAT_GROUP_NORMAL:return this.remarkNameObj.alias?Promise.resolve(this.remarkNameObj.alias):groupNickService.getGroupNickObj(e,this.getId(),r).then(function(e){return e?Promise.resolve(e.groupNick):Promise.resolve(this.userProfileModel.nick)}.bind(this));case NAME_SCENE.AT_CONTENT_GROUP_NORMAL:case NAME_SCENE.SYSTEM_MSG_GROUP_NORMAL:return groupNickService.getGroupNickObj(e,this.getId(),r).then(function(e){return e?Promise.resolve(e.groupNick):Promise.resolve(this.userProfileModel.nick)}.bind(this));case NAME_SCENE.RECEIVER_LIST_GROUP_ENTERPRISE:case NAME_SCENE.GROUP_SETTING_GROUP_ENTERPRISE:var r=_.assign(r,{isBatch:!0,disableCache:!0});if(this.remarkNameObj.alias)return Promise.resolve(this.remarkNameObj.alias);var t=r.oid;return t?this.getUserEmployeeInfo(t).then(function(){return groupNickService.getGroupNickObj(e,this.getId(),r).then(function(e){return e?Promise.resolve(e.groupNick):Promise.resolve(null)}.bind(this))}.bind(this)).then(function(e){return e?Promise.resolve((_.get(this,"employeeBaseModel."+t+".name")||this.userProfileModel.nick)+"("+e+")"):_.get(this,"employeeBaseModel."+t+".name")?Promise.resolve(_.get(this,"employeeBaseModel."+t+".name")+"("+this.userProfileModel.nick+")"):Promise.resolve(this.userProfileModel.nick)}.bind(this)):Promise.reject(new Error("oid is null"));case NAME_SCENE.CHAT_GROUP_ENTERPRISE:if(this.remarkNameObj.alias)return Promise.resolve(this.remarkNameObj.alias);var t=r.oid;return t?this.getUserEmployeeInfo(t).then(function(){return groupNickService.getGroupNickObj(e,this.getId(),r).then(function(e){return e?Promise.resolve(e.groupNick):Promise.resolve(null)}.bind(this))}.bind(this)).then(function(e){return e?Promise.resolve((_.get(this,"employeeBaseModel."+t+".name")||this.userProfileModel.nick)+"("+e+")"):_.get(this,"employeeBaseModel."+t+".name")?Promise.resolve(_.get(this,"employeeBaseModel."+t+".name")+"("+this.userProfileModel.nick+")"):Promise.resolve(this.userProfileModel.nick)}.bind(this)):Promise.reject(new Error("oid is null"));case NAME_SCENE.AT_CONTENT_GROUP_ENTERPRISE:case NAME_SCENE.SYSTEM_MSG_GROUP_ENTERPRISE:var t=r.oid;return t?this.getUserEmployeeInfo(t).then(function(){return groupNickService.getGroupNickObj(e,this.getId(),r).then(function(e){return e?Promise.resolve(e.groupNick):Promise.resolve(null)}.bind(this))}.bind(this)).then(function(e){return e?Promise.resolve((_.get(this,"employeeBaseModel."+t+".name")||this.userProfileModel.nick)+"("+e+")"):_.get(this,"employeeBaseModel."+t+".name")?Promise.resolve(_.get(this,"employeeBaseModel."+t+".name")+"("+this.userProfileModel.nick+")"):Promise.resolve(this.userProfileModel.nick)}.bind(this)):Promise.reject(new Error("oid is null"));case NAME_SCENE.RECEIVER_LIST_GROUP_ENTERPRISE_ONLY_REAL_NAME:case NAME_SCENE.CHAT_GROUP_ENTERPRISE_ONLY_REAL_NAME:case NAME_SCENE.GROUP_SETTING_GROUP_ENTERPRISE_ONLY_REAL_NAME:if(this.remarkNameObj.alias)return Promise.resolve(this.remarkNameObj.alias);var t=r.oid;return t?this.getUserEmployeeInfo(t).then(function(){return _.get(this,"employeeBaseModel."+t+".name")?Promise.resolve(_.get(this,"employeeBaseModel."+t+".name")):groupNickService.getGroupNickObj(e,this.getId(),r).then(function(e){return e?Promise.resolve(e.groupNick):Promise.resolve(this.userProfileModel.nick)}.bind(this))}.bind(this)):Promise.reject(new Error("oid is null"));case NAME_SCENE.AT_CONTENT_GROUP_ENTERPRISE_ONLY_REAL_NAME:case NAME_SCENE.SYSTEM_MSG_GROUP_ENTERPRISE_ONLY_REAL_NAME:var t=r.oid;return t?this.getUserEmployeeInfo(t).then(function(){return _.get(this,"employeeBaseModel."+t+".name")?Promise.resolve(_.get(this,"employeeBaseModel."+t+".name")):groupNickService.getGroupNickObj(e,this.getId(),r).then(function(e){return e?Promise.resolve(e.groupNick):Promise.resolve(this.userProfileModel.nick)}.bind(this))}.bind(this)):Promise.reject(new Error("oid is null"));default:return Promise.resolve("")}},getName:function(e,i,r){return this._getName(e,i,r).catch(function(t){return localLog.error("get name error",e,i,JSON.stringify(r),t),Promise.resolve("")})},getGroupNickFromCache:function(e){return groupNickService.getData(e,this.userProfileModel.uid)},update:function(e,i){i?($.extend(this,e),this.isWithExt=!0):$.extend(this.userProfileModel,e),this.userProfileModel.avatarMediaId&&(this.userProfileModel.avatarMediaId=r.url2Mid(this.userProfileModel.avatarMediaId),this.userProfileModel.avatarUrl=r.mid2Url(this.userProfileModel.avatarMediaId,{imageSize:"thumb"})),this.userProfileModel.uid&&(this.openId=this.userProfileModel.uid),this.userProfileModel.uid===my.getId()&&(localLog.info("update my profile"),my.setData({userProfileModel:this.userProfileModel},!1)),this._buildOrgEmployeesDeptId(),this._genUserDingTitle(),this.emit(this.EventsName.PROFILE_UPDATE,this.userProfileModel)},compareTag:function(e){var i=this;e&&this.userProfileModel.ver<e&&!i.isUpdating&&(localLog.info("user profile compare tag update : uid: "+this.userProfileModel.uid+", old ver : "+this.userProfileModel.ver+", new ver: "+e),i.isUpdating=!0,l.getProfile(this.userProfileModel.uid).then(function(i){i.ver<e&&(localLog.error("get new profile ver is smaller than compare tag , force update by local"),i.ver=e),this.update(i,!1),this.isUpdating=!1}.bind(this)).catch(function(e){localLog.error("update profile by compare tag fail",e),this.isUpdating=!1}.bind(this)))},getOrgByOid:function(e){if(e=parseInt(e),isNaN(e))return!1;var i=this.orgEmployees.filter(function(i){var r=parseInt(i.orgEmployeeModel.orgId);return!isNaN(r)&&r===e});return 0===i.length?null:i[0]},acceptFriend:function(){return i.acceptFriendRequest(this.userProfileModel.uid).result},removeFriend:function(e){var r=this;i.removeFriend(this.userProfileModel.uid,function(i){200===i.code?(r.friendRequestModel.status=s.NON_RELATION,e&&e()):o.show("解除好友失败，请重试",{type:"error"})})},setRemark:function(e){return aliasService.updateAlias(this.openId,e)},follow:function(){var e=parseInt(this.userProfileModel.uid);return followService.follow(e)},unFollow:function(){var e=parseInt(this.userProfileModel.uid);return followService.unFollow(e)},getUserEmployeeInfo:function(e){if(!e)return Promise.reject();var i=this;return i.employeeBaseModel[e]?Promise.resolve(i.employeeBaseModel[e]):n.getEmployeeInfo(i.userProfileModel.uid,e).then(function(r){return i.employeeBaseModel[e]=r.employeeBaseModel,r.employeeBaseModel}).catch(function(e){return localLog.info("get user employee info err",i.userProfileModel.uid,e),{}})},setUserEmployeeInfo:function(e){var i=this;e.forEach(function(e,r){e.uid===i.userProfileModel.uid&&(i.employeeBaseModel[e.orgId]=e)})},_buildOrgEmployeesDeptId:function(){this.orgEmployees.forEach(function(e){var i=e.orgNodeItemList;i&&Array.isArray(i)&&i.forEach(function(e){var i="-1";e.nodeType===ORG_NODE_TYPE.DEPT?i=_.get(e,"dept.deptId")+"":e.nodeType===ORG_NODE_TYPE.PEOPLE&&(i=_.get(e,"employee.orgStaffId")),e.deptId=i})})},_genUserDingTitle:function(){var e=_.get(this.userProfileModel,"extension"),i=dingTitlesEnum.dingTitleTypes;dingTitlesEnum.dtRankTitles;if(this.mainDingTitle=null,this.dingTitles=[],e){try{e=JSON.parse(e)}catch(e){return void localLog.error("user extension json parse error")}var r=e.tag;if(r){var t=[i.DT,i.DEPLOY,i.DT_XIAOER];this.dingTitles=Object.keys(r).map(function(e){var t={type:e};return e===i.DT?t.rank=r[e]:e===i.DD_RANK&&(t.rank=r[e]),t}),this.dingTitles=this.dingTitles.filter(function(e){return e.type!==i.DD_RANK_OLD&&e.type!==i.DT_XIAOER_OLD});var o=_.cloneDeep(this.dingTitles);o=o.filter(function(e){return e.type!==i.DD_RANK}),o.sort(function(e,i){var r=t.indexOf(e.type),o=t.indexOf(i.type);return o-r}),this.mainDingTitle=o[0]}}},_genUserData:function(){this.isWithExt=!1,this.isUpdating=!1,!this.orgEmployees&&(this.orgEmployees=[]),!this.userOverageModel&&(this.userOverageModel={}),!this.userPermissionModel&&(this.userPermissionModel={}),!this.friendRequestModel&&(this.friendRequestModel={}),!this.userProfileModel&&(this.userProfileModel={}),!this.employeeBaseModel&&(this.employeeBaseModel={}),!this.employeeRequestPool&&(this.employeeRequestPool={})}});return a}]),module.exports=moduleName;
},{"../../lib/class":198,"../friend/FriendType":394,"../log/localLog":421,"../mediaId/mediaId":433,"../org/OrgNodeType":537,"../toast/toast":611,"../user/NameScene":630,"./batchGetEmployeeInfo":633,"./dingtitlesEnum.js":634,"./my":635,"./userProfileBatchRequest":642,"@ali/ding-api":711,"@ali/wksdk":779,"lodash":919,"wolfy87-eventemitter":944}],632:[function(require,module,exports){
var moduleName="ddWeb.user.UserType";angular.module(moduleName,[]).value("UserType",{ORDINARY_USER:0,SPECIAL_USER:1,OA_USER:3}),module.exports=moduleName;

},{}],633:[function(require,module,exports){
"use strict";var moduleName="ddWeb.user.batchGetEmployeeInfo",DELAY_TIME=300,MAX_OPENID_ONE_REQUEST=500,localLog=require("../log/localLog");angular.module(moduleName,[require("@ali/ding-api").interface.ContactI]).factory("batchGetEmployeeInfo",["ContactI",function(e){var o={},r=function(e,o){this.openId=e,this.oid=o,this.result=new Promise(function(e,o){this.resolve=e,this.reject=o}.bind(this))},n=function(e,n){var i=t(e,n);return o[i]?o[i]:(o[i]=new r(e,n),o[i])},t=function(e,o){return e+"_"+o},i=null,u=function(o,r,n){return e.getUserEmployeeInfos(o,r).result},a=function(){null===i&&(i=setTimeout(function(){i=null;var e=o;o={};var r={};Object.keys(e).forEach(function(o){var n=e[o];r[n.oid]||(r[n.oid]=[]),r[n.oid].push(n.openId)});var n=[];Object.keys(r).forEach(function(e){for(var e=parseInt(e),o=r[e],t=Math.ceil(o.length/MAX_OPENID_ONE_REQUEST),i=0;i<t;i++)n.push(u(o.slice(i*MAX_OPENID_ONE_REQUEST,(i+1)*MAX_OPENID_ONE_REQUEST),e).catch(function(e){return localLog.error("get user employee info error",JSON.stringify(this._openIds),this._oid),[]}.bind({_openIds:o.slice(i*MAX_OPENID_ONE_REQUEST,(i+1)*MAX_OPENID_ONE_REQUEST),_oid:e})))}),Promise.all(n).then(function(o){var r={};Array.isArray(o)&&o.forEach(function(e){Array.isArray(e.body)&&e.body.forEach(function(e){if(e.employeeBaseModel){var o=e.employeeBaseModel.orgId,n=e.employeeBaseModel.uid,i=t(n,o);r[i]=e}})}),Object.keys(e).forEach(function(o){var n=e[o];r[o]?n.resolve(r[o]):n.reject(new Error("get user employee info error"))})})},DELAY_TIME))},l=function(e,o){return e&&o?(a(),n(e,o).result):Promise.reject(new Error("openId 和 oid 不能为空"))};return{getEmployeeInfo:l}}]),module.exports=moduleName;
},{"../log/localLog":421,"@ali/ding-api":711}],634:[function(require,module,exports){
var dingTitleTypes={NONE:"0",DT:"1",DEPLOY:"2",DD_RANK_OLD:"3",DT_XIAOER_OLD:"4",DD_RANK:"5",DT_XIAOER:"6"},dtRankTitles={DT_V1:1,DT_V2:2,DT_V3:3,DT_V4:4,DT_V5:5},dtRankLevels={LEVEL_1:1,LEVEL_2:2,LEVEL_3:3,LEVEL_4:4,LEVEL_5:5};module.exports={dingTitleTypes:dingTitleTypes,dtRankTitles:dtRankTitles,dtRankLevels:dtRankLevels};

},{}],635:[function(require,module,exports){
"use strict";var Class=require("../../lib/class"),_=require("lodash"),mediaId=require("@ali/ding-mediaid"),storage=require("../storage/storage"),EventEmitter=require("wolfy87-eventemitter"),WKEngine=require("@ali/wksdk"),ORG_NODE_TYPE=require("../org/OrgNodeType"),my=Class.create({initialize:function(){},Implements:EventEmitter,EventsName:{update:"update"},setData:function(e,r){$.extend(this,e),this.isWithExt=!0,r&&void 0===e.orgEmployees&&(this.orgEmployees=e.orgEmployees),this._buildOrgEmployeesDeptId(),this.userProfileModel&&this.userProfileModel.avatarMediaId&&(this.userProfileModel.avatarMediaId=mediaId.url2Mid(this.userProfileModel.avatarMediaId),this.userProfileModel.avatarUrl=mediaId.mid2Url(this.userProfileModel.avatarMediaId,{imageSize:"thumb"})),WKEngine.config.set("nickName",this.userProfileModel.nick),this.uid=this.getId(),this.emit(this.EventsName.update)},getOrgByCorpId:function(e){return e&&Array.isArray(this.orgEmployees)?_.find(this.orgEmployees,function(r){return _.get(r,"orgDetail.corpId")===e}):null},getOrgByOid:function(e){if(e=parseInt(e),isNaN(e))return null;if(!Array.isArray(this.orgEmployees))return null;var r=this.orgEmployees.filter(function(r){var t=parseInt(r.orgEmployeeModel.orgId);return!isNaN(t)&&t===e});return 0===r.length?null:r[0]},getId:function(){return this.userProfileModel?this.userProfileModel.uid:null},getPurchasedEmotionList:function(){return["lxt","hongbao"]},setAccessToken:function(e){this.token=e},getAccessToken:function(e){return this.token},_buildOrgEmployeesDeptId:function(){Array.isArray(this.orgEmployees)&&this.orgEmployees.forEach(function(e){var r=e.orgNodeItemList;r&&Array.isArray(r)&&r.forEach(function(e){var r="-1";e.nodeType===ORG_NODE_TYPE.DEPT?r=_.get(e,"dept.deptId")+"":e.nodeType===ORG_NODE_TYPE.PEOPLE&&(r=_.get(e,"employee.orgStaffId")),e.deptId=r})})}});module.exports=new my;

},{"../../lib/class":198,"../org/OrgNodeType":537,"../storage/storage":606,"@ali/ding-mediaid":716,"@ali/wksdk":779,"lodash":919,"wolfy87-eventemitter":944}],636:[function(require,module,exports){
"use strict";var moduleName="ddWeb.newUser.settingModal",path=require("path"),my=require("../user/my"),_=require("lodash");angular.module(moduleName,[require("../modal/modal"),require("@ali/ding-api").interface.UserI,require("../toast/toast")]).factory("newUserSettingModal",["$modal",function(e){return function(){var t=e.open({template:'<div class="dialog middle new-user-setting">\n    <div class="head">\n        <span class="title">新用户设置</span>\n    </div>\n    <div class="body">\n        <form id="new-user-setting" class="form-area" ng-submit="userSetting.onSubmit()">\n            <ul class="form-items">\n                <li class="form-item nick-item">\n                    <label for="user-setting-nick" class="title">昵称：</label>\n                    <input ng-change="userSetting.onInputChange()" max-length="20" placeholder="20个字以内" id="user-setting-nick" type="text" class="input" ng-model = "userSetting.nick"/>\n                    <p class="extro-des" ng-if="userSetting.hasNick">管理员已为你设置好名字,你也可以自行修改</p>\n                </li>\n                <li class="form-item">\n                    <label for="user-setting-new-psw" class="title">设置密码：</label>\n                    <input ng-change="userSetting.onInputChange()" id="user-setting-new-psw" type="password" class="input" placeholder="请输入6~20位密码" ng-model = "userSetting.newPsw"/>\n                </li>\n                <li class="form-item">\n                    <label for="user-setting-confirm-psw" class="title" >再次确认密码：</label>\n                    <input ng-change="userSetting.onInputChange()" id="user-setting-confirm-psw" type="password" class="input" placeholder="再次输入密码" ng-model ="userSetting.confirmPsw"/>\n                </li>\n            </ul>\n            <div class="btn-wrap">\n                <button class="blue" ng-class="{\'onloading\':userSetting.connecting, \'disabled\': userSetting.isSubmitDisabled}" value="确定" type="submit">确定</button>\n            </div>\n        </form>\n    </div>\n</div>\n',controller:"newUserSettingCtrl",controllerAs:"userSetting",resolve:{},closable:!1,backdrop:!1});return t.result}}]).controller("newUserSettingCtrl",["$modalInstance","toastService","UserI",function(e,t,s){this.nick=_.get(my,"userProfileModel.nick",""),this.isSubmitDisabled=!0,this.newPsw="",this.confirmPsw="",this.errMsg="",this.nick&&_.get(my,"userProfileModel.isDataComplete")===!0?this.hasNick=!0:this.nick="";var i={EMPTY_NICK:"昵称不能为空",NICK_TOO_LONG:"昵称不能多于20字",PWD_NOT_MATCH_RULE:"密码长度必须在 6 到 20 之间",PWD_NOT_CONSIST:"确认密码不一致"};this.onInputChange=function(){return 0===this.nick.length?(this.errMsg=i.EMPTY_NICK,void(this.isSubmitDisabled=!0)):this.nick.length>20?(this.errMsg=i.NICK_TOO_LONG,void(this.isSubmitDisabled=!0)):this.newPsw.length<6||this.newPsw.length>20?(this.errMsg=i.PWD_NOT_MATCH_RULE,void(this.isSubmitDisabled=!0)):this.confirmPsw!==this.newPsw?(this.errMsg=i.PWD_NOT_CONSIST,void(this.isSubmitDisabled=!0)):(this.errMsg="",void(this.isSubmitDisabled=!1))}.bind(this);var n=function(e){var t=_.clone(my.userProfileModel);return t.nick=e,s.updateUserProfile(t).result.then(function(e){return my.setData({userProfileModel:e.body}),t})},r=function(e){return s.changePwd(e).result};this.onSubmit=function(){this.onInputChange(),this.isSubmitDisabled===!1?n(this.nick).then(function(){return r(this.newPsw)}.bind(this)).then(function(){t.show("设置成功",{type:"success"}),e.close()}).catch(function(e){var s="设置昵称和密码失败, 请稍后重试";e.body&&e.body.reason&&(s=e.body.reason),t.show(s,{type:"error"})}):t.show(this.errMsg,{type:"error"})}.bind(this),this.cancel=function(){e.dismiss()}}]),module.exports=moduleName;

},{"../modal/modal":458,"../toast/toast":611,"../user/my":635,"@ali/ding-api":711,"lodash":919,"path":7}],637:[function(require,module,exports){
var source={PROFILE:1,CALL:2};module.exports=source;

},{}],638:[function(require,module,exports){
"use strict";var path=require("path"),moduleName="ddWeb.user.profileSetting",my=require("./my");angular.module(moduleName,[require("../modal/modal"),require("@ali/ding-api").interface.UserI,require("../toast/toast"),require("./userManager")]).factory("profileSettingModal",["$modal",function(e){return function(){var i=e.open({template:'<div class="dialog middle profile-setting">\n    <div class="head">\n        <i class="iconfont close"></i>\n        <span class="title">个人资料</span>\n    </div>\n    <div class="body">\n        <form id="new-user-setting" class="form-area" ng-submit="profileSetting.onSubmit()">\n            <ul class="form-items">\n                <li class="form-item nick-item">\n                    <label for="user-setting-nick" class="title">昵称：</label>\n                    <input ng-change="profileSetting.onInputChange()" max-length="20" placeholder="20个字以内" id="user-setting-nick" type="text" class="input" ng-model = "profileSetting.nick"/>\n                </li>\n            </ul>\n            <div class="btn-wrap">\n                <button class="blue" ng-class="{\'onloading\':profileSetting.connecting, \'disabled\': profileSetting.isSubmitDisabled}" value="确定" type="submit">确定</button>\n            </div>\n        </form>\n    </div>\n</div>\n',controller:"profileSettingCtrl",controllerAs:"profileSetting",resolve:{},closable:!0});return i.result}}]).controller("profileSettingCtrl",["$modalInstance","toastService","UserI","userManager",function(e,i,t,n){this.nick=_.get(my,"userProfileModel.nick",""),this.nick&&_.get(my,"userProfileModel.isDataComplete")===!0?this.isSubmitDisabled=!1:(this.nick="",this.isSubmitDisabled=!0);var s={EMPTY_NICK:"昵称不能为空",NICK_TOO_LONG:"昵称不能多于20字"};this.onInputChange=function(){return 0===this.nick.length?(this.errMsg=s.EMPTY_NICK,void(this.isSubmitDisabled=!0)):this.nick.length>20?(this.errMsg=s.NICK_TOO_LONG,void(this.isSubmitDisabled=!0)):(this.errMsg="",void(this.isSubmitDisabled=!1))}.bind(this);var r=function(e){var i=_.clone(my.userProfileModel);return i.nick=e,t.updateUserProfile(i).result.then(function(e){return my.setData({userProfileModel:e.body}),n.getUsers([my.uid]).then(function(i){i&&i.length>0&&i[0].update(e.body)}),i})};this.onSubmit=function(){this.onInputChange(),this.isSubmitDisabled===!1?r(this.nick).then(function(){i.show("设置成功",{type:"success"}),e.close()}).catch(function(e){var t="设置昵称失败, 请稍后重试";e.body&&e.body.reason&&(t=e.body.reason),i.show(t,{type:"error"})}):i.show(this.errMsg,{type:"error"})}.bind(this)}]),module.exports=moduleName;

},{"../modal/modal":458,"../toast/toast":611,"./my":635,"./userManager":641,"@ali/ding-api":711,"path":7}],639:[function(require,module,exports){
"use strict";var moduleName="ddWeb.user.updateMyProfile",my=require("./my"),localLog=require("../log/localLog");angular.module(moduleName,[require("@ali/ding-api").interface.UserI]).factory("updateMyProfile",["UserI",function(e){var r=function(){return e.getUserProfileExtensionByUid(my.uid,null).result.then(function(e){return e.body?(my.setData(e.body,!0),localLog.info("update my profile success"),!0):(localLog.error("get my profile fail"+JSON.stringify(e)),Promise.reject(new Error("获取个人信息失败")))},function(e){return localLog.error("get my profile fail"+JSON.stringify(e._originMsg)),Promise.reject(new Error("获取个人信息失败"))})};return{update:r}}]),module.exports=moduleName;

},{"../log/localLog":421,"./my":635,"@ali/ding-api":711}],640:[function(require,module,exports){
"use strict";var _=require("lodash");exports.getOrgByOid=function(r,e){if(e=parseInt(e),isNaN(e))return null;if(r.orgEmployees&&Array.isArray(r.orgEmployees)){var t=r.orgEmployees.filter(function(r){var t=parseInt(_.get(r,"orgEmployeeModel.orgId"));return!isNaN(t)&&t===e});return 0===t.length?null:t[0]}return null};

},{"lodash":919}],641:[function(require,module,exports){
"use strict";var moduleName="ddWeb.user.userManager",localLog=require("../log/localLog"),ORG_NODE_TYPE=require("../org/OrgNodeType");require("../log/log");var app=angular.module(moduleName,[require("@ali/ding-api").interface.UserI,require("../api/MsgSub"),"ddWeb.log.log",require("./userProfileBatchRequest"),require("./User")]);app.factory("userManager",["$rootScope","UserI","MsgSub","log","userProfileBatchRequest","User",function(e,r,o,t,u,n){function i(e,o,t,u){return Promise.resolve().then(function(){return e?r.getUserProfileExtensionByUid(e,u||null).result:o&&u?r.getUserProfileExtensionByStaffId(o,u).result:t?r.getUserProfileExtensionByMobile(t).result:(localLog.error("get user with ext param error",e,o,t,u),Promise.reject("get user with ext param error"))}).then(function(e){if(e&&e.body){var r=e.body.userProfileModel;if(r){var o=r.uid,t=s[o];t&&t.update(r,!1)}return e.body.orgEmployees&&Array.isArray(e.body.orgEmployees)&&(e.body.orgEmployees=e.body.orgEmployees.map(function(e){var r=e.orgNodeItemList;return r&&Array.isArray(r)&&(e.orgNodeItemList=r.map(function(e){var r="-1";return e.nodeType===ORG_NODE_TYPE.DEPT?r=_.get(e,"dept.deptId")+"":e.nodeType===ORG_NODE_TYPE.PEOPLE&&(r=_.get(e,"employee.orgStaffId")),e.deptId=r,e})),e})),e.body}})}function l(e){return Promise.all(e.map(function(e){return s[e]?Promise.resolve(s[e]):u.getProfile(e).then(function(r){if(s[e])return s[e];var o=new n(r,!1);return s[e]=o,o}).catch(function(e){return localLog.error("get user profile error",e),null})})).then(function(e){var e=e.filter(function(e){return null!==e});return e})}var s={};return o.subscribe("/s/biz/employee",function(e,r){r({})}),{getUserWithExt:i,getUsers:l}}]),module.exports=moduleName;

},{"../api/MsgSub":240,"../log/localLog":421,"../log/log":422,"../org/OrgNodeType":537,"./User":631,"./userProfileBatchRequest":642,"@ali/ding-api":711}],642:[function(require,module,exports){
"use strict";var moduleName="ddWeb.user.userProfileBatchRequest",localLog=require("../log/localLog"),SingleToBatch=require("@ali/single-to-batch").SingleToBatch;angular.module(moduleName,[require("@ali/ding-api").interface.UserI]).factory("userProfileBatchRequest",["UserI",function(e){var r=function(e){return e+""},t=function(e){return e.uid+""},o=function(r,t){return e.getUserProfileByUids(r).result.then(function(e){if(e.body&&e.body.values)return e.body.values;throw new Error("get users fail, result.body.value is empty")}).catch(function(e){return localLog.error("get user profile err",JSON.stringify(r),e),Promise.reject(e)})},u=new SingleToBatch(r,t,o,100),i=function(e){return u.getResult(e,"same")};return{getProfile:i}}]),module.exports=moduleName;

},{"../log/localLog":421,"@ali/ding-api":711,"@ali/single-to-batch":734}],643:[function(require,module,exports){
var participantStatus={CONNECTING:{code:0,tip:"接通中"},DISCONNECT:{code:1,tip:"未接通"},CONNECTED:{code:2,tip:"已接通"},RENDERING:{code:3,tip:"会议中"},REJECTED:{code:4,tip:"已拒绝"},LEAVING:{code:5,tip:"已离开"},NOT_SUPPORT:{code:6,tip:"版本<br>不支持"},BUSY:{code:7,tip:"对方忙"},ON_CALLING:{code:8,tip:"电话中"},PERMISSION_DENY:{code:9,tip:"无权限<br>拨打"},WAIT_FOR_FRAME:{code:10,tip:"正在接受视频流"}},participantStatusServerModel={CONNECTING:0,CONNECTED:1,LEAVING:2,REJECTED:3,NOT_SUPPORT:4,ACCEPTED:5,BUSY:6,ON_CALLING:7,KICK_OUT:8,ON_VIEW:10,DEV_CHANGE:101,PERMISSION_DENY:401},participantStatusClientModel={RENDER:-1,DISCONNECT:-2,WAIT_FOR_FRAME:-3};module.exports={participantStatus:participantStatus,participantStatusServerModel:participantStatusServerModel,participantStatusClientModel:participantStatusClientModel};
},{}],644:[function(require,module,exports){
var confControlEnum={KICKOUT:1,MUTE:2,UNMUTE:3,TERMINATE:4,ADD_MEMBER:5,VIEW_MEMBER:6,CANCEL_VIEW:7};module.exports=confControlEnum;

},{}],645:[function(require,module,exports){
var moduleName=module.exports="ddWeb.videoConf.confManager",_=require("lodash"),EventEmitter=require("wolfy87-eventemitter"),$my=require("../user/my"),ua=require("../ua"),confUserType=require("./conferenceUserType"),confControlEnum=require("./confControlEnum"),participantStatusServerModel=require("./client/participantStatus").participantStatusServerModel,localFilePathManager=require("../app/localFilePathManager"),localLog=require("../log/localLog"),SubWindowName=require("../SubWindowName"),nw=require("../app/nw");angular.module(moduleName,[require("@ali/ding-api").interface.ConfmanagerI,require("@ali/ding-api").interface.CallAdminI,require("@ali/ding-api").interface.Vlog,require("../user/userManager"),require("../windowTalkHost/windowTalkHostManager"),require("../audio"),require("../log/lwlog.js")]).factory("confManager",["ConfmanagerI","userManager","windowTalkHostManager","CallAdminI","audioService","lwlog","Vlog",function(e,n,o,t,i,r,a){function c(e){J=e}function u(){return J}function s(e){ce=e}function l(e){Z.emit(ee.CONF_STOP_RING,e)}function d(){return Z}function f(){return U}function g(){return Q}function m(e){Q=e}function C(e){U=e}function p(){return j}function v(e){j=e}function I(){return ne}function y(e){return n.getUsers(e).then(function(e){return G=e.map(function(e){return e.userProfileModel})})}function w(){return G}function E(n,o,t){var i=_.assign({},re,{conferenceId:n,uids:o,control:t});return new Promise(function(n,o){e.controlConference(i,function(e){200===e.code&&200===e.body.code?n(e.body):o(e.body)})})}function b(n){v(!1);var o=_.assign({},z,{calleeIds:n,startime:(new Date).getTime(),callerId:$my.getId(),callerNick:$my.userProfileModel.nick});return new Promise(function(n,t){e.createConference(o,function(e){if(200===e.code&&200===e.body.code){var i=_.assign({},o,e.body);i.confDuration=0,n(i)}else t(e.body)})})}function h(e){return m(!0),y(e).then(function(){return b(e).then(function(e){return m(!1),V(e),r.commLog("videocall_start_create_succ","confid="+e.conferenceId),localLog.info("create conference successfully"),Promise.resolve()}).catch(function(e){return m(!1),localLog.info("create conference failed"),Promise.reject(e.cause||e.reason)})}).catch(function(){return confManager.setIsDoingCreateConf(!1),Promise.reject({reason:"获取参会人员失败,请稍候再试"})})}function M(n){var o=_.assign({},oe,{userId:n});return new Promise(function(n,t){e.pullConferenceList(o,function(e){200===e.code&&200===e.body.code?n(e.body):t(e.body)})})}function T(e){var n=_.assign({},ae,{conferenceId:e,uid:$my.getId(),status:participantStatusServerModel.REJECTED});return N(n)}function D(e){var n=_.assign({},ae,{conferenceId:e,uid:$my.getId(),status:participantStatusServerModel.ACCEPTED});return N(n)}function S(e){var n=_.assign({},ae,{conferenceId:e,uid:$my.getId(),status:participantStatusServerModel.CONNECTED});return N(n)}function N(n){return new Promise(function(o,t){e.statusIndication(n,function(e){200===e.code&&200===e.body.code?o(e.body):t(e.body)})})}function P(e,n){return E(e,n,confControlEnum.ADD_MEMBER)}function q(n,o){var t=_.assign({},te,{conferenceId:n,uid:o});return new Promise(function(n,o){e.pullMembers(t,function(e){200===e.code&&200===e.body.code?n(e.body):o(e.body)})})}function L(e,n,o){var t=_.assign({},ae,{conferenceId:e,uid:$my.getId(),status:participantStatusServerModel.DEV_CHANGE,cameraState:"CAMERA"===n?o:null,micState:"MIC"===n?o:null});return N(t)}function O(e){var n=_.assign({},ae,{conferenceId:e,uid:$my.getId(),status:participantStatusServerModel.LEAVING});return N(n)}function W(e,n){var o=[];e&&o.push("conferenceId="+e),o.push("uid="+$my.getId()),ua.isMac&&o.push("dev=mac"),ua.isWin&&o.push("dev=win"),o.push("sdklog="+n),o.push("ltype=VideoLog");var t=o.join("&");ce&&ce.log&&(t+="&"+ce.log);_.assign({},ie,{log:t});return ce=null,new Promise(function(e,n){a.postLog({data:t,domain:"dingding"},function(o){200===o.code?e(o.body):n(o.body)})})}function k(){var e=U.conferenceId;U=null,B=null,i.togglePlay(!0),Z.emit(ee.CONF_ENDED),setTimeout(function(){R(e)},1e3),localLog.info("video conference window destroyed"),c(!1)}function V(e){U=e,U.displayName=$my.getId()+"_w_"+U.conferenceId,U.confDuration=U.confDuration,c(!1);var n=setInterval(function(){U.confDuration+=1,x.pushToClient(SubWindowName.VIDEO,X.HOST_CONF_DURATION_CHANGE,U.confDuration)},1e3);if(i.togglePlay(!1),localLog.info("open video conf window"),nw.openSubWindow("/web_content/videoConf.html",K).then(function(e){!ua.isDingTalkWin&&e&&e.on("closed",function(){n&&clearInterval(n),k()})}),ua.isDingTalkWin){var o=function(e){e.name===SubWindowName.VIDEO&&(n&&clearInterval(n),k(),window.dingtalkWindowsGlue.eventProxy.removeListener("WindowClose",o))};window.dingtalkWindowsGlue.eventProxy.on("WindowClose",o)}}function H(){localLog.info("quit conference by host"),x.pushToClient(SubWindowName.VIDEO,X.HOST_CONF_HOST_DESTROY,null,{})}function A(){return new Promise(function(e,n){t.getConfig({configTypes:[confUserType.EnableVideo]},function(o){200===o.code?e(o.body):n()})})}function F(){t.getConfig({configTypes:[confUserType.MAX_VIDEO_CONF_MEMBER_CNT]},function(e){var n=_.get(e,"body.configMap."+confUserType.MAX_VIDEO_CONF_MEMBER_CNT);200===e.code&&n&&(ne.memberLimit=parseInt(n))})}function R(e){if(ua.isDingTalkWin)var n=dingtalk.video.getlog();else var n=_nwrequire("@ali/video-log-addon");n.on("fetchLog",function(o,t){W(e,t||""),n.release()});var o=localFilePathManager.getVideoLogFilePath();ua.isDingTalkWin&&(o=o.replace(/\\/g,"\\\\")),n.start(o)}function $(){return K}var U=null,G=null,j=!1,B=null,x=o.getHost(),X=require("./videoHostEvents"),J=!1,Y=ua.isDesktop,z={callerId:"",calleeIds:[],callerNick:"",confType:2,title:"",hostess:0,startime:(new Date).getTime(),duration:0,enableDing:!1};if(ua.isDingTalkWin)var K={min_width:1e3,min_height:566,width:1e3,height:566,frame:!1,name:SubWindowName.VIDEO,showWnd:!0,bringToTop:!0,title:"钉钉视频会议"};else var K={min_width:1e3,min_height:566,width:1e3,height:566,frame:!1};var Q=!1,Z=new EventEmitter,ee={CONF_ENDED:"conf_ended",CONF_STOP_RING:"conf_stop_ring"},ne={memberLimit:5},oe={userId:""},te={conferenceId:"",uid:""},ie={log:""},re={conferenceId:"",uid:[],control:1,msgType:0},ae={conferenceId:"",uid:"",status:6,msgType:0,cause:"",cameraState:null,micState:null},ce=null;return{createConference:b,pullConferenceList:M,pullMembers:q,addMember:P,toggleDev:L,leaveConference:O,uploadLog:W,getCurrentConference:f,setCurrentConference:C,acceptInvite:V,checkIsInvited:p,setIsInvited:v,setConfMemberProfiles:y,getConfMemberProfiles:w,getConferenceLimit:I,quitConferenceByHost:H,checkCanUseConference:A,getEventEmitter:d,confManagerEvents:ee,controlConference:E,refuseConference:T,acceptConference:D,statusIndication:N,joinConference:S,stopRing:l,getIsDoingCreateConf:g,setIsDoingCreateConf:m,getVideoConfWindowConfig:$,setVidyoConfLog:s,setMemberLimit:F,requestCreateConference:h,setHasVideoConfInit:c,getHasVideoConfInit:u,isSupport:Y}}]);

},{"../SubWindowName":237,"../app/localFilePathManager":254,"../app/nw":255,"../audio":265,"../log/localLog":421,"../log/lwlog.js":424,"../ua":621,"../user/my":635,"../user/userManager":641,"../windowTalkHost/windowTalkHostManager":675,"./client/participantStatus":643,"./confControlEnum":644,"./conferenceUserType":647,"./videoHostEvents":648,"@ali/ding-api":711,"lodash":919,"wolfy87-eventemitter":944}],646:[function(require,module,exports){
var moduleName=module.exports="ddWeb.videoConf.conferenceInit",ua=require("../ua"),$my=require("../user/my"),nwWin=require("../app/nwWindow");require("../widget/avatar");var hostEvents=require("./videoHostEvents"),localLog=require("../log/localLog"),VidyoConfStatus=require("./client/participantStatus").participantStatusServerModel,localFilePathManager=require("../app/localFilePathManager"),WK=require("@ali/wksdk"),confManagerPadding=require("@ali/ding-api").model.confmanager,SubWindowName=require("../SubWindowName");angular.module(moduleName,[require("./confManager"),require("../api/MsgSub"),require("../modal/videoInviteModal"),require("../modal/createConference"),require("../user/userManager"),require("../windowTalkHost/windowTalkHostManager"),require("../audio"),require("../log/lwlog"),require("../modal/alert"),require("../voipService/voipWindowManager")]).factory("conferenceInit",["confManager","MsgSub","videoInviteModal","createConference","userManager","avatarService","windowTalkHostManager","audioService","lwlog","$alert","voipWindowManager",function(e,n,o,t,r,i,c,s,a,d,u){function f(){WK.syncRegister({objectType:S.TYPE_CONF_CHANGED,decodeFunc:confManagerPadding.paddings.VidyoConfInfoModel,onSyncMsg:function(n){var o=e.getCurrentConference(),t=u.getVoipInstance();switch(n.action){case _.CONF_CREATE:case _.ADD_MEMBER:if(t)return e.statusIndication({conferenceId:n.conferenceId,status:VidyoConfStatus.BUSY,uid:$my.getId()});if(o){if(n.conferenceId&&n.conferenceId!==o.conferenceId)return e.statusIndication({conferenceId:n.conferenceId,status:VidyoConfStatus.BUSY,uid:$my.getId()})}else{if(e.getIsDoingCreateConf())return e.statusIndication({conferenceId:n.conferenceId,status:VidyoConfStatus.BUSY,uid:$my.getId()});p(n)}break;case _.CONF_TERMINATE:if(!o)break;if(n.conferenceId&&n.conferenceId!==o.conferenceId)break;nwWin.activeWindow(),e.quitConferenceByHost(),e.stopRing(),v();break;case _.CONF_END:if(!o)break;if(n.conferenceId&&n.conferenceId!==o.conferenceId)break;e.stopRing();break;case _.KICK_OUT:if(!o)break;if(n.conferenceId&&n.conferenceId!==o.conferenceId)break;nwWin.activeWindow(),e.quitConferenceByHost(),e.stopRing(),y();break;case _.STOP_RING:if(!o)break;if(n.conferenceId&&n.conferenceId!==o.conferenceId)break;e.stopRing()}return Promise.resolve()}}),WK.syncRegister({objectType:S.TYPE_CONF_CONTROL_INFO,decodeFunc:confManagerPadding.paddings.VidyoConfControlModel,onSyncMsg:function(n){var o=e.getCurrentConference();if(o&&n.conferenceId&&n.conferenceId===o.conferenceId){var t=c.getHost();if(e.getHasVideoConfInit())return t.pushToClient(SubWindowName.VIDEO,hostEvents.HOST_CONF_CONTROL_INFO,n)}return Promise.resolve()}}),WK.syncRegister({objectType:S.TYPE_CONF_MEMBERS_STATUS_CHANGE,decodeFunc:confManagerPadding.paddings.VidyoConfStatusModel,onSyncMsg:function(n){var o=e.getCurrentConference();if(o&&n.conferenceId&&n.conferenceId===o.conferenceId)switch(n.status){case VidyoConfStatus.CONNECTING:var t=c.getHost();return e.getHasVideoConfInit()?t.pushToClient(SubWindowName.VIDEO,hostEvents.HOST_CONF_MEMBERS_CHANGE,[n.uid]):Promise.resolve();case VidyoConfStatus.CONNECTED:case VidyoConfStatus.LEAVING:case VidyoConfStatus.REJECTED:case VidyoConfStatus.NOT_SUPPORT:case VidyoConfStatus.ACCEPTED:case VidyoConfStatus.BUSY:case VidyoConfStatus.ON_CALLING:case VidyoConfStatus.DEV_CHANGE:var t=c.getHost();return e.getHasVideoConfInit()?t.pushToClient(SubWindowName.VIDEO,hostEvents.HOST_CONF_MEMBERS_STATUS_CHANGE,n):Promise.resolve();case VidyoConfStatus.KICK_OUT:var t=c.getHost();return e.getHasVideoConfInit()?t.pushToClient(SubWindowName.VIDEO,hostEvents.HOST_CONF_KICK_OUT_STATUS,n):Promise.resolve()}return Promise.resolve()}}),WK.syncRegister({objectType:S.TYPE_CONF_RECORD_INFO,decodeFunc:confManagerPadding.paddings.VidyoHistoryConfModel,onSyncMsg:function(e){return Promise.resolve()}})}function C(){n.subscribe("/push/kickout",function(){e.quitConferenceByHost()})}function g(e){return nwWin.activeWindow(),t.showModal(e)}function l(){return $my.userProfileModel}function I(){e.pullConferenceList($my.getId()).then(function(e){e&&e.vidyoConfs&&e.vidyoConfs[0]&&p(e.vidyoConfs[0],!0)})}function p(n,t){return(n.callerId!==$my.getId()||t)&&(a.commLog("videocall_incomming_conf_push","confid="+n.conferenceId),e.setCurrentConference(n),o(n).then(function(){var o=n.calleeIds;o.push(n.callerId);var t=o.indexOf($my.getId());return t!==-1&&o.splice(t,1),e.setConfMemberProfiles(o)}).then(function(o){s.videoInviteAudio.pause(),e.setIsInvited(n.callerId!==$my.getId()),e.acceptInvite(n)},function(){e.setCurrentConference(null),s.videoInviteAudio.pause(),e.setIsInvited(!1)})),Promise.resolve()}function v(){d({title:"视频会议",content:"主持人已经结束会议",buttonName:"我知道了",autoDismissTimeout:6e4})}function y(){d({title:"视频会议",content:"主持人把你从会议中移除",buttonName:"我知道了",autoDismissTimeout:6e4})}function O(n){try{var o=JSON.parse(n);e.setVidyoConfLog(o)}catch(e){console.log(e)}}function E(){var n=c.getHost();n.register("toggleDev",function(n){var o=n.queryOption;e.toggleDev(o.conferenceId,o.devType,o.value).then(function(e){n.respond(!0,200)}).catch(function(){n.respond(!1,500)})}),n.register("inviteMember",function(e){g(e.queryOption).then(function(){e.respond(!0,200)}).catch(function(){e.respond(!1,500)})}),n.register("pullMembers",function(n){var o=n.queryOption;e.pullMembers(o).then(function(e){n.respond(e,200)}).catch(function(){n.respond(!1,500)})}),n.register("leaveConference",function(n){var o=n.queryOption;e.leaveConference(o).then(function(){n.respond(!0,200)}).catch(function(){n.respond(!1,500)})}),n.register("joinConference",function(n){var o=n.queryOption;e.joinConference(o).then(function(){n.respond(!0,200)}).catch(function(){n.respond(!1,500)})}),n.register("getCurrentConference",function(n){n.respond(e.getCurrentConference(),200)}),n.register("checkIsInvited",function(n){n.respond(e.checkIsInvited(),200)}),n.register("getMyProfile",function(e){e.respond(l(),200)}),n.register("getConfMemberProfiles",function(n){n.respond(e.getConfMemberProfiles(),200)}),n.register("getConferenceLimit",function(n){n.respond(e.getConferenceLimit(),200)}),n.register("activeWindow",function(e){nwWin.activeWindow.bind(nwWin)(),e.respond(!0,200)}),n.register("controlConference",function(n){var o=n.queryOption;e.controlConference(o.conferenceId,o.uids,o.control).then(function(){n.respond(!0,200)}).catch(function(){n.respond(!1,500)})}),n.register("addMember",function(n){var o=n.queryOption.uids,t=n.queryOption.conferenceId;e.addMember(t,o).then(function(){n.respond(!0,200)}).catch(function(){n.respond(!1,500)})}),n.register("getVideoLogFilePath",function(e){e.respond(localFilePathManager.getVideoLogFilePath(),200)}),n.register("getVideoConfWindowConfig",function(n){n.respond(e.getVideoConfWindowConfig(),200)}),n.register("setVidyoConfLog",function(e){e.respond(O(e.queryOption),200)}),n.register("videoConfInit",function(n){e.setHasVideoConfInit(!0),n.respond(!0,200)})}function N(){ua.isDesktop&&(e.setMemberLimit(),localFilePathManager.initVideoLogFilePath(),E(),f(),C(),I())}function m(){ua.isDesktop&&(e.quitConferenceByHost(),c.destroy())}var S={TYPE_CONF_CHANGED:2401,TYPE_CONF_MEMBERS_STATUS_CHANGE:2402,TYPE_CONF_CONTROL_INFO:2403,TYPE_CONF_RECORD_INFO:2409},_={CONF_CREATE:100,ADD_MEMBER:101,CONF_TERMINATE:102,CONF_END:103,KICK_OUT:104,STOP_RING:105};return window.addEventListener("beforeunload",function(){m()}),{init:N,reset:m}}]);

},{"../SubWindowName":237,"../api/MsgSub":240,"../app/localFilePathManager":254,"../app/nwWindow":257,"../audio":265,"../log/localLog":421,"../log/lwlog":424,"../modal/alert":445,"../modal/createConference":449,"../modal/videoInviteModal":484,"../ua":621,"../user/my":635,"../user/userManager":641,"../voipService/voipWindowManager":652,"../widget/avatar":656,"../windowTalkHost/windowTalkHostManager":675,"./client/participantStatus":643,"./confManager":645,"./videoHostEvents":648,"@ali/ding-api":711,"@ali/wksdk":779}],647:[function(require,module,exports){
var conferenceUserType={};conferenceUserType.WhiteList=1,conferenceUserType.EnableMemberCount=2,conferenceUserType.VIPMonitorSwitch=3,conferenceUserType.EnableVoIP2PSTN=4,conferenceUserType.ConfTextVersion=6,conferenceUserType.EnableVideo=7,conferenceUserType.EnableVoIP=8,conferenceUserType.RIGHTS_VERSION=9,conferenceUserType.ENABLE_LANDLINE_CONF=10,conferenceUserType.MIN_CONF_MEMBER_CNT=11,conferenceUserType.MAX_VIDEO_CONF_MEMBER_CNT=12,module.exports=conferenceUserType;

},{}],648:[function(require,module,exports){
module.exports={HOST_CONF_MEMBERS_CHANGE:"host_conf_members_change",HOST_CONF_MEMBERS_STATUS_CHANGE:"host_conf_members_status_change",HOST_CONF_DURATION_CHANGE:"host_conf_duration_change",HOST_CONF_MEMBERS_LEAVE:"host_conf_members_leave",HOST_CONF_HOST_DESTROY:"host_conf_host_destroy",HOST_CONF_TERMINATE:"host_conf_terminate",HOST_CONF_KICK_OUT_CTRL:"host_conf_kick_out_ctrl",HOST_CONF_CONTROL_INFO:"host_conf_control_info",HOST_CONF_KICK_OUT_STATUS:"host_conf_kick_out_status"};

},{}],649:[function(require,module,exports){
var LWPRequestType={LWPReqSignal:1,LWPReqTurnAdmin:2,LWPReqLog:3,LWPReqAudioBulkDelay:4,LWPReqUserConf:5};module.exports=LWPRequestType;

},{}],650:[function(require,module,exports){
"use strict";function factoryFunc(e,i,a,r,n,o,t){function c(){var i="/s/av_call";e.subscribe(i,function(e,i){try{var a=decodeURIComponent(e.body),r=JSON.parse(a);ua.isDingTalkWin&&ua.higherThanXp()?(r.type===g.REQUEST&&r.method===p.INVITE&&r.chatmode===v.AUDIO&&d(r),n.dispatchToSdk(a)):d(r)}catch(e){localLog.error("decode failure in subscribe voip push",e)}i()})}function u(){if(ua.isDingTalkWin){var e=a.getHost();e.register("sendLwpMsg",function(e){var i=e.queryOption;r.sendMsg(i.uri,i.header,JSON.stringify(i.body),function(i){e.respond(i,200)})}),e.register("getCallInfo",function(e){e.respond(n.getCallInfo(),200)}),e.register("rpc_Vadmin",function(e){var i=e.queryOption;switch(i.type){case h.LWPReqTurnAdmin:o.getRoute(i.data).result.then(function(i){e.respond(i.body,i.code)});break;case h.LWPReqAudioBulkDelay:o.getAudioBulkDelay(i.data).result.then(function(i){e.respond(i.body,i.code)});break;case h.LWPReqUserConf:o.getUserConfig(i.data).result.then(function(i){e.respond(i.body,i.code)})}}),e.register("rpc_Vlog",function(e){t.postLog(e.queryOption).result.then(function(i){e.respond(i.body,i.code)}).catch(function(){})})}}function s(){window.addEventListener("beforeunload",function(){var e=a.getHost();return e.pushToClient(SubWindowName.VOIP,"QUIT_BY_HOST",{})})}function d(e){switch(e.type){case g.REQUEST:switch(e.method){case p.INVITE:if(e.chatmode!==v.AUDIO)break;ua.isDingTalkWin&&ua.higherThanXp()?n.receiveCallInvite(e):i.receiveCallInvite(e);break;case p.CANCEL:i.receiveCallCancel(e);break;case p.ACK:switch(e.code){case f.REJECT:i.receiveRejectInvite(e);break;case f.BUSY:i.receiveCallBusy(e);break;case f.ACCEPT:i.receiveAcceptInvite(e)}break;case p.BYE:i.receiveBye(e)}break;case g.RESPONSE:switch(e.method){case p.UPDATE:i.keepCurrentCall(e);break;case p.BYE:i.receiveBye(e)}}}function l(){ua.higherThanXp()&&(u(),s()),c()}var p={INVITE:"invite",CANCEL:"cancel",ACK:"ack",UPDATE:"update",BYE:"bye"},g={REQUEST:"req",RESPONSE:"rsp"},v={AUDIO:"audio"},f={REJECT:"488",BUSY:"486",ACCEPT:"200",CANCEL:"487"},h=require("./LWPRequestType");return{init:l}}var moduleName=module.exports="ddWeb.voip.voipInit",serviceName="voipInit",localLog=require("../log/localLog"),$my=require("../user/my.js"),SubWindowName=require("../SubWindowName"),ua=require("../ua");angular.module(moduleName,[require("../api/MsgSub"),require("./voipManager"),require("../windowTalkHost/windowTalkHostManager"),require("../io/mainWS.js"),require("./voipWindowManager.js"),require("@ali/ding-api").interface.VadminI,require("@ali/ding-api").interface.Vlog]).factory(serviceName,["MsgSub","voipManager","windowTalkHostManager","mainWS","voipWindowManager","VadminI","Vlog",factoryFunc]);

},{"../SubWindowName":237,"../api/MsgSub":240,"../io/mainWS.js":411,"../log/localLog":421,"../ua":621,"../user/my.js":635,"../windowTalkHost/windowTalkHostManager":675,"./LWPRequestType":649,"./voipManager":651,"./voipWindowManager.js":652,"@ali/ding-api":711}],651:[function(require,module,exports){
"use strict";function factoryFunc(e,n,o){function i(){return I}function r(e){I=e}function c(e){return e.split("@")[0]}function t(n){var o={name:n+"邀请你进行语音通话",tip:"",text:"请在手机上接听",type:"voip"};h=e.notify(o),h||localLog.error("create notification error, may close the notification or not granted permission"),h.onshow=function(){}}function l(){h&&(h.close(),h=null)}function a(){q&&clearTimeout(q),q=null}function u(){k&&(clearTimeout(k),k=null)}function f(){I=null}function v(e){return I&&I.callId===e.callId}function s(){u(),k=setTimeout(function(){k=null,f()},M)}function g(e){if(!I){I=e;var o=c(e.fromId);localLog.info("receiveCallInvite, caller is ",o),n.getUsers([o]).then(function(e){if(e&&e[0]){var n=e[0];t(n.userProfileModel.nick)}}).catch(function(){localLog.error("get user error , not show notification",o)}),a(),q=setTimeout(function(){localLog.info("current voip dismiss timeout occur, may cause by network error and not receive any clear push"),l(),a(),f()},b)}}function m(e){v(e)&&(localLog.info("receive cancel invite and clear"),l(),a(),f())}function d(e){v(e)&&(localLog.info("receive reject invite and clear"),l(),a(),f())}function p(e){v(e)&&(localLog.info("receive accept invite and keep current call alive"),l(),a(),s())}function y(e){v(e)&&(localLog.info("receive busy and clear"),l(),a(),f())}function L(e){v(e)&&(localLog.info("receive update to keep current call alive"),a(),s())}function C(e){v(e)&&(localLog.info("receive bye and clear"),u(),f())}var I=null,h=null,q=null,k=null,M=3e4,b=6e4;return{getCurrentVoipCallInfo:i,setCurrentVoipCallInfo:r,receiveCallInvite:g,receiveCallCancel:m,receiveRejectInvite:d,receiveAcceptInvite:p,receiveCallBusy:y,keepCurrentCall:L,receiveBye:C}}var moduleName=module.exports="ddWeb.voip.voipManager",serviceName="voipManager",localLog=require("../log/localLog"),$my=require("../user/my"),ua=require("../ua");angular.module(moduleName,[require("../notification"),require("../user/userManager"),require("../toast/toast")]).factory(serviceName,["notification","userManager","toastService",factoryFunc]);

},{"../log/localLog":421,"../notification":487,"../toast/toast":611,"../ua":621,"../user/my":635,"../user/userManager":641}],652:[function(require,module,exports){
"use strict";function factoryFunc(e,n,o){function i(e){return e.split("@")[0]}function a(e){localLog.info("receive call invite"),f?localLog.info("ignore call invite cz has voip Window"):(w=!0,t().then(function(n){var o=i(e.fromId),a={caller:o,callee:$my.userProfileModel.uid,callId:e.callId};w=!1,c(a)}).catch(function(){w=!1}))}function r(e){return t().then(function(){var n={};return n.caller=$my.userProfileModel.uid,n.callee=e,c(n),Promise.resolve()})}function t(){return o.getConfig({configTypes:[confUserType.EnableVoIP]}).result.then(function(e){var n=_.get(e,"body.configMap."+confUserType.EnableVoIP);return"1"===n?(localLog.info("can make a voip"),Promise.resolve()):(localLog.info("can not make a voip"),Promise.reject())})}function l(){return v}function u(){localLog.info("voip has init and push cache msg to clients");var n=e.getHost();for(f.isInit=!0;p.length>0;){var o=p.shift();n.pushToClient(SubWindowName.VOIP,"onReceiveSignalMsg",o)}}function c(o){if(f)return void n.show("正在语音通话中，请稍候再试",{type:"error"});if(v=o,localLog.info("open a voip window"),nw.openSubWindow("/web_content/voip.html",g).then(function(){}),f={isInit:!1},ua.isDingTalkWin){var i=e.getHost();i.register("voipInit",u);var a=function(e){e.name===SubWindowName.VOIP&&(localLog.info("VOIP window has closed and reset"),f=null,p=[],i.unregister("voipInit"),window.dingtalkWindowsGlue.eventProxy.removeListener("WindowClose",a))};window.dingtalkWindowsGlue.eventProxy.on("WindowClose",a)}}function s(n){var o=e.getHost();f?f.isInit?o.pushToClient(SubWindowName.VOIP,"onReceiveSignalMsg",n):p.push(n):w&&p.push(n)}function d(){return f}var f=null,g={width:260,height:122,resizable:!1,frame:!1,name:SubWindowName.VOIP,showWnd:!1,bringToTop:!0},v={caller:"",callee:"",callId:""},p=[],w=!1,m=ua.higherThanXp()&&ua.isDingTalkWin;return{createCall:r,getCallInfo:l,dispatchToSdk:s,receiveCallInvite:a,getVoipInstance:d,isSupport:m}}var moduleName=module.exports="ddWeb.voip.voipWindowManager",serviceName="voipWindowManager",localLog=require("../log/localLog"),$my=require("../user/my"),SubWindowName=require("../SubWindowName"),ua=require("../ua"),confUserType=require("../videoConf/conferenceUserType"),_=require("lodash"),nw=require("../app/nw");angular.module(moduleName,[require("../windowTalkHost/windowTalkHostManager"),require("../toast/toast"),require("@ali/ding-api").interface.CallAdminI]).factory(serviceName,["windowTalkHostManager","toastService","CallAdminI",factoryFunc]);

},{"../SubWindowName":237,"../app/nw":255,"../log/localLog":421,"../toast/toast":611,"../ua":621,"../user/my":635,"../videoConf/conferenceUserType":647,"../windowTalkHost/windowTalkHostManager":675,"@ali/ding-api":711,"lodash":919}],653:[function(require,module,exports){
"use strict";var watermarkCache={},watermarkTypeObj=require("./watermarkType").obj,watermarkTypeKey=require("./watermarkType").key,_genWatermark=function(d,u){var c=document.createElement("canvas"),e=c.getContext("2d"),f=window.devicePixelRatio;c.width=u.width*f,c.height=u.height*f;var a=c.width/4,t=c.width/4*3,i=c.height/4,b=c.height/4*3,A=u.logo;return e.textAlign="center",e.font=u.fontSize*f+'px "冬青黑体简体中文","Tahoma","Hiragino Sans GB","Microsoft YaHei","微软雅黑","STHeiti","WenQuanYi Micro Hei",SimSun',e.fillStyle="#ebebeb",e.rotate(u.deg*Math.PI/180),e.translate(u.translateX*f,u.translateY*f),e.fillText(A,a,i),e.fillText(d,t,i),e.fillText(d,a,b),e.fillText(A,t,b),{url:c.toDataURL(),width:u.width,height:u.height}},get=function(d,u,c){watermarkTypeObj[c]||(c=watermarkTypeKey.COMMON);var e=/((?:\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddef\ud83c\uddf5|\ud83c\uddee\ud83c\uddf9|\ud83c\uddec\ud83c\udde7|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\udde9\ud83c\uddea|\u0039\ufe0f?\u20e3|\u0038\ufe0f?\u20e3|\u0037\ufe0f?\u20e3|\u0036\ufe0f?\u20e3|\u0035\ufe0f?\u20e3|\u0034\ufe0f?\u20e3|\u0033\ufe0f?\u20e3|\u0032\ufe0f?\u20e3|\u0031\ufe0f?\u20e3|\u0030\ufe0f?\u20e3|\u0023\ufe0f?\u20e3|\ud83d\udeb3|\ud83d\udeb1|\ud83d\udeb0|\ud83d\udeaf|\ud83d\udeae|\ud83d\udea6|\ud83d\udea3|\ud83d\udea1|\ud83d\udea0|\ud83d\ude9f|\ud83d\ude9e|\ud83d\ude9d|\ud83d\ude9c|\ud83d\ude9b|\ud83d\ude98|\ud83d\ude96|\ud83d\ude94|\ud83d\ude90|\ud83d\ude8e|\ud83d\ude8d|\ud83d\ude8b|\ud83d\ude8a|\ud83d\ude88|\ud83d\ude86|\ud83d\ude82|\ud83d\ude81|\ud83d\ude36|\ud83d\ude34|\ud83d\ude2f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude27|\ud83d\ude26|\ud83d\ude1f|\ud83d\ude1b|\ud83d\ude19|\ud83d\ude17|\ud83d\ude15|\ud83d\ude11|\ud83d\ude10|\ud83d\ude0e|\ud83d\ude08|\ud83d\ude07|\ud83d\ude00|\ud83d\udd67|\ud83d\udd66|\ud83d\udd65|\ud83d\udd64|\ud83d\udd63|\ud83d\udd62|\ud83d\udd61|\ud83d\udd60|\ud83d\udd5f|\ud83d\udd5e|\ud83d\udd5d|\ud83d\udd5c|\ud83d\udd2d|\ud83d\udd2c|\ud83d\udd15|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd06|\ud83d\udd05|\ud83d\udd04|\ud83d\udd02|\ud83d\udd01|\ud83d\udd00|\ud83d\udcf5|\ud83d\udcef|\ud83d\udced|\ud83d\udcec|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcad|\ud83d\udc6d|\ud83d\udc6c|\ud83d\udc65|\ud83d\udc2a|\ud83d\udc16|\ud83d\udc15|\ud83d\udc13|\ud83d\udc10|\ud83d\udc0f|\ud83d\udc0b|\ud83d\udc0a|\ud83d\udc09|\ud83d\udc08|\ud83d\udc07|\ud83d\udc06|\ud83d\udc05|\ud83d\udc04|\ud83d\udc03|\ud83d\udc02|\ud83d\udc01|\ud83d\udc00|\ud83c\udfe4|\ud83c\udfc9|\ud83c\udfc7|\ud83c\udf7c|\ud83c\udf50|\ud83c\udf4b|\ud83c\udf33|\ud83c\udf32|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1c|\ud83c\udf1a|\ud83c\udf18|\ud83c\udccf|\ud83c\udd70|\ud83c\udd71|\ud83c\udd7e|\ud83c\udd8e|\ud83c\udd91|\ud83c\udd92|\ud83c\udd93|\ud83c\udd94|\ud83c\udd95|\ud83c\udd96|\ud83c\udd97|\ud83c\udd98|\ud83c\udd99|\ud83c\udd9a|\ud83d\udc77|\ud83d\udec5|\ud83d\udec4|\ud83d\udec3|\ud83d\udec2|\ud83d\udec1|\ud83d\udebf|\ud83d\udeb8|\ud83d\udeb7|\ud83d\udeb5|\ud83c\ude01|\ud83c\ude02|\ud83c\ude32|\ud83c\ude33|\ud83c\ude34|\ud83c\ude35|\ud83c\ude36|\ud83c\ude37|\ud83c\ude38|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude50|\ud83c\ude51|\ud83c\udf00|\ud83c\udf01|\ud83c\udf02|\ud83c\udf03|\ud83c\udf04|\ud83c\udf05|\ud83c\udf06|\ud83c\udf07|\ud83c\udf08|\ud83c\udf09|\ud83c\udf0a|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf0f|\ud83c\udf11|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf19|\ud83c\udf1b|\ud83c\udf1f|\ud83c\udf20|\ud83c\udf30|\ud83c\udf31|\ud83c\udf34|\ud83c\udf35|\ud83c\udf37|\ud83c\udf38|\ud83c\udf39|\ud83c\udf3a|\ud83c\udf3b|\ud83c\udf3c|\ud83c\udf3d|\ud83c\udf3e|\ud83c\udf3f|\ud83c\udf40|\ud83c\udf41|\ud83c\udf42|\ud83c\udf43|\ud83c\udf44|\ud83c\udf45|\ud83c\udf46|\ud83c\udf47|\ud83c\udf48|\ud83c\udf49|\ud83c\udf4a|\ud83c\udf4c|\ud83c\udf4d|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf51|\ud83c\udf52|\ud83c\udf53|\ud83c\udf54|\ud83c\udf55|\ud83c\udf56|\ud83c\udf57|\ud83c\udf58|\ud83c\udf59|\ud83c\udf5a|\ud83c\udf5b|\ud83c\udf5c|\ud83c\udf5d|\ud83c\udf5e|\ud83c\udf5f|\ud83c\udf60|\ud83c\udf61|\ud83c\udf62|\ud83c\udf63|\ud83c\udf64|\ud83c\udf65|\ud83c\udf66|\ud83c\udf67|\ud83c\udf68|\ud83c\udf69|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6e|\ud83c\udf6f|\ud83c\udf70|\ud83c\udf71|\ud83c\udf72|\ud83c\udf73|\ud83c\udf74|\ud83c\udf75|\ud83c\udf76|\ud83c\udf77|\ud83c\udf78|\ud83c\udf79|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf80|\ud83c\udf81|\ud83c\udf82|\ud83c\udf83|\ud83c\udf84|\ud83c\udf85|\ud83c\udf86|\ud83c\udf87|\ud83c\udf88|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf8b|\ud83c\udf8c|\ud83c\udf8d|\ud83c\udf8e|\ud83c\udf8f|\ud83c\udf90|\ud83c\udf91|\ud83c\udf92|\ud83c\udf93|\ud83c\udfa0|\ud83c\udfa1|\ud83c\udfa2|\ud83c\udfa3|\ud83c\udfa4|\ud83c\udfa5|\ud83c\udfa6|\ud83c\udfa7|\ud83c\udfa8|\ud83c\udfa9|\ud83c\udfaa|\ud83c\udfab|\ud83c\udfac|\ud83c\udfad|\ud83c\udfae|\ud83c\udfaf|\ud83c\udfb0|\ud83c\udfb1|\ud83c\udfb2|\ud83c\udfb3|\ud83c\udfb4|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb7|\ud83c\udfb8|\ud83c\udfb9|\ud83c\udfba|\ud83c\udfbb|\ud83c\udfbc|\ud83c\udfbd|\ud83c\udfbe|\ud83c\udfbf|\ud83c\udfc0|\ud83c\udfc1|\ud83c\udfc2|\ud83c\udfc3|\ud83c\udfc4|\ud83c\udfc6|\ud83c\udfc8|\ud83c\udfca|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfe7|\ud83c\udfe8|\ud83c\udfe9|\ud83c\udfea|\ud83c\udfeb|\ud83c\udfec|\ud83c\udfed|\ud83c\udfee|\ud83c\udfef|\ud83c\udff0|\ud83d\udc0c|\ud83d\udc0d|\ud83d\udc0e|\ud83d\udc11|\ud83d\udc12|\ud83d\udc14|\ud83d\udc17|\ud83d\udc18|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc1b|\ud83d\udc1c|\ud83d\udc1d|\ud83d\udc1e|\ud83d\udc1f|\ud83d\udc20|\ud83d\udc21|\ud83d\udc22|\ud83d\udc23|\ud83d\udc24|\ud83d\udc25|\ud83d\udc26|\ud83d\udc27|\ud83d\udc28|\ud83d\udc29|\ud83d\udc2b|\ud83d\udc2c|\ud83d\udc2d|\ud83d\udc2e|\ud83d\udc2f|\ud83d\udc30|\ud83d\udc31|\ud83d\udc32|\ud83d\udc33|\ud83d\udc34|\ud83d\udc35|\ud83d\udc36|\ud83d\udc37|\ud83d\udc38|\ud83d\udc39|\ud83d\udc3a|\ud83d\udc3b|\ud83d\udc3c|\ud83d\udc3d|\ud83d\udc3e|\ud83d\udc40|\ud83d\udc42|\ud83d\udc43|\ud83d\udc44|\ud83d\udc45|\ud83d\udc46|\ud83d\udc47|\ud83d\udc48|\ud83d\udc49|\ud83d\udc4a|\ud83d\udc4b|\ud83d\udc4c|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4f|\ud83d\udc50|\ud83d\udc51|\ud83d\udc52|\ud83d\udc53|\ud83d\udc54|\ud83d\udc55|\ud83d\udc56|\ud83d\udc57|\ud83d\udc58|\ud83d\udc59|\ud83d\udc5a|\ud83d\udc5b|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5e|\ud83d\udc5f|\ud83d\udc60|\ud83d\udc61|\ud83d\udc62|\ud83d\udc63|\ud83d\udc64|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc6a|\ud83d\udc6b|\ud83d\udc6e|\ud83d\udc6f|\ud83d\udc70|\ud83d\udc71|\ud83d\udc72|\ud83d\udc73|\ud83d\udc74|\ud83d\udc75|\ud83d\udc76|\ud83d\udeb4|\ud83d\udc78|\ud83d\udc79|\ud83d\udc7a|\ud83d\udc7b|\ud83d\udc7c|\ud83d\udc7d|\ud83d\udc7e|\ud83d\udc7f|\ud83d\udc80|\ud83d\udc81|\ud83d\udc82|\ud83d\udc83|\ud83d\udc84|\ud83d\udc85|\ud83d\udc86|\ud83d\udc87|\ud83d\udc88|\ud83d\udc89|\ud83d\udc8a|\ud83d\udc8b|\ud83d\udc8c|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc8f|\ud83d\udc90|\ud83d\udc91|\ud83d\udc92|\ud83d\udc93|\ud83d\udc94|\ud83d\udc95|\ud83d\udc96|\ud83d\udc97|\ud83d\udc98|\ud83d\udc99|\ud83d\udc9a|\ud83d\udc9b|\ud83d\udc9c|\ud83d\udc9d|\ud83d\udc9e|\ud83d\udc9f|\ud83d\udca0|\ud83d\udca1|\ud83d\udca2|\ud83d\udca3|\ud83d\udca4|\ud83d\udca5|\ud83d\udca6|\ud83d\udca7|\ud83d\udca8|\ud83d\udca9|\ud83d\udcaa|\ud83d\udcab|\ud83d\udcac|\ud83d\udcae|\ud83d\udcaf|\ud83d\udcb0|\ud83d\udcb1|\ud83d\udcb2|\ud83d\udcb3|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb8|\ud83d\udcb9|\ud83d\udcba|\ud83d\udcbb|\ud83d\udcbc|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcc1|\ud83d\udcc2|\ud83d\udcc3|\ud83d\udcc4|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcca|\ud83d\udccb|\ud83d\udccc|\ud83d\udccd|\ud83d\udcce|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd1|\ud83d\udcd2|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd5|\ud83d\udcd6|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcda|\ud83d\udcdb|\ud83d\udcdc|\ud83d\udcdd|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udce2|\ud83d\udce3|\ud83d\udce4|\ud83d\udce5|\ud83d\udce6|\ud83d\udce7|\ud83d\udce8|\ud83d\udce9|\ud83d\udcea|\ud83d\udceb|\ud83d\udcee|\ud83d\udcf0|\ud83d\udcf1|\ud83d\udcf2|\ud83d\udcf3|\ud83d\udcf4|\ud83d\udcf6|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udcfc|\ud83d\udd03|\ud83d\udd0a|\ud83d\udd0b|\ud83d\udd0c|\ud83d\udd0d|\ud83d\udd0e|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd12|\ud83d\udd13|\ud83d\udd14|\ud83d\udd16|\ud83d\udd17|\ud83d\udd18|\ud83d\udd19|\ud83d\udd1a|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd1d|\ud83d\udd1e|\ud83d\udd1f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd22|\ud83d\udd23|\ud83d\udd24|\ud83d\udd25|\ud83d\udd26|\ud83d\udd27|\ud83d\udd28|\ud83d\udd29|\ud83d\udd2a|\ud83d\udd2b|\ud83d\udd2e|\ud83d\udd2f|\ud83d\udd30|\ud83d\udd31|\ud83d\udd32|\ud83d\udd33|\ud83d\udd34|\ud83d\udd35|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39|\ud83d\udd3a|\ud83d\udd3b|\ud83d\udd3c|\ud83d\udd3d|\ud83d\udd50|\ud83d\udd51|\ud83d\udd52|\ud83d\udd53|\ud83d\udd54|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd5b|\ud83d\uddfb|\ud83d\uddfc|\ud83d\uddfd|\ud83d\uddfe|\ud83d\uddff|\ud83d\ude01|\ud83d\ude02|\ud83d\ude03|\ud83d\ude04|\ud83d\ude05|\ud83d\ude06|\ud83d\ude09|\ud83d\ude0a|\ud83d\ude0b|\ud83d\ude0c|\ud83d\ude0d|\ud83d\ude0f|\ud83d\ude12|\ud83d\ude13|\ud83d\ude14|\ud83d\ude16|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1e|\ud83d\ude20|\ud83d\ude21|\ud83d\ude22|\ud83d\ude23|\ud83d\ude24|\ud83d\ude25|\ud83d\ude28|\ud83d\ude29|\ud83d\ude2a|\ud83d\ude2b|\ud83d\ude2d|\ud83d\ude30|\ud83d\ude31|\ud83d\ude32|\ud83d\ude33|\ud83d\ude35|\ud83d\ude37|\ud83d\ude38|\ud83d\ude39|\ud83d\ude3a|\ud83d\ude3b|\ud83d\ude3c|\ud83d\ude3d|\ud83d\ude3e|\ud83d\ude3f|\ud83d\ude40|\ud83d\ude45|\ud83d\ude46|\ud83d\ude47|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\ude4b|\ud83d\ude4c|\ud83d\ude4d|\ud83d\ude4e|\ud83d\ude4f|\ud83d\ude80|\ud83d\ude83|\ud83d\ude84|\ud83d\ude85|\ud83d\ude87|\ud83d\ude89|\ud83d\ude8c|\ud83d\ude8f|\ud83d\ude91|\ud83d\ude92|\ud83d\ude93|\ud83d\ude95|\ud83d\ude97|\ud83d\ude99|\ud83d\ude9a|\ud83d\udea2|\ud83d\udea4|\ud83d\udea5|\ud83d\udea7|\ud83d\udea8|\ud83d\udea9|\ud83d\udeaa|\ud83d\udeab|\ud83d\udeac|\ud83d\udead|\ud83d\udeb2|\ud83d\udeb6|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebb|\ud83d\udebc|\ud83d\udebd|\ud83d\udebe|\ud83d\udec0|\ud83c\udde6|\ud83c\udde7|\ud83c\udde8|\ud83c\udde9|\ud83c\uddea|\ud83c\uddeb|\ud83c\uddec|\ud83c\udded|\ud83c\uddee|\ud83c\uddef|\ud83c\uddf0|\ud83c\uddf1|\ud83c\uddf2|\ud83c\uddf3|\ud83c\uddf4|\ud83c\uddf5|\ud83c\uddf6|\ud83c\uddf7|\ud83c\uddf8|\ud83c\uddf9|\ud83c\uddfa|\ud83c\uddfb|\ud83c\uddfc|\ud83c\uddfd|\ud83c\uddfe|\ud83c\uddff|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf10|\ud83c\udf12|\ud83c\udf16|\ud83c\udf17|\ue50a|\u3030|\u27b0|\u2797|\u2796|\u2795|\u2755|\u2754|\u2753|\u274e|\u274c|\u2728|\u270b|\u270a|\u2705|\u26ce|\u23f3|\u23f0|\u23ec|\u23eb|\u23ea|\u23e9|\u2122|\u27bf|\u00a9|\u00ae)|(?:(?:\ud83c\udc04|\ud83c\udd7f|\ud83c\ude1a|\ud83c\ude2f|\u3299|\u303d|\u2b55|\u2b50|\u2b1c|\u2b1b|\u2b07|\u2b06|\u2b05|\u2935|\u2934|\u27a1|\u2764|\u2757|\u2747|\u2744|\u2734|\u2733|\u2716|\u2714|\u2712|\u270f|\u270c|\u2709|\u2708|\u2702|\u26fd|\u26fa|\u26f5|\u26f3|\u26f2|\u26ea|\u26d4|\u26c5|\u26c4|\u26be|\u26bd|\u26ab|\u26aa|\u26a1|\u26a0|\u2693|\u267f|\u267b|\u3297|\u2666|\u2665|\u2663|\u2660|\u2653|\u2652|\u2651|\u2650|\u264f|\u264e|\u264d|\u264c|\u264b|\u264a|\u2649|\u2648|\u263a|\u261d|\u2615|\u2614|\u2611|\u260e|\u2601|\u2600|\u25fe|\u25fd|\u25fc|\u25fb|\u25c0|\u25b6|\u25ab|\u25aa|\u24c2|\u231b|\u231a|\u21aa|\u21a9|\u2199|\u2198|\u2197|\u2196|\u2195|\u2194|\u2139|\u2049|\u203c|\u2668)([\uFE0E\uFE0F]?)))/g,f=d.replace(e,"").slice(0,6)+" "+u.slice(-4);return watermarkCache[f+c]||(watermarkCache[f+c]=_genWatermark(f,watermarkTypeObj[c]))},getSafety=function(d){var u=document.createElement("canvas"),c=u.getContext("2d"),e={fontSize:14,lineHeight:20,width:400,height:180,margin:10,paddingHorizontal:10},f=new Image;f.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOwAAAEQCAYAAACz9JjCAAAAAXNSR0IArs4c6QAAInlJREFUeAHtXQmUbEV5rrq3e9bume5+iCQibrhi4oa4xBhQOW7R4JbIUUNcwaBGQQSOEQOCiCAEEx9oEkDCEUzcOYpLIuIRxSUSNkGWAA8e++uenu5Zu/tWvr9neqZ7epl7u+9St+5/z3mv71K3/v//qr75q+r+VSUFH7FEQCmVKpcXn+04zguFJZ6ulHiKFOoJQshZGDSzbtS8EKqshLxTSnGrcMTNtm39cmZm6n+llLVYGp5wpWXC7Y+V+ZVK5RmrDfkaqdRrQNAXgoyTwxkgl0Dga4SUVyhbfW9HNnvTcPnwW2EjwIQNG3GP8ubmlp/YULW/hvd8O0j6JI+vu0oO8t4JL3xJykpfPDs7cburlzhRJAgwYSOBfbBQNHdnyuXKWxwlj8D5nw5O7e9TVIifC0teLFXmq/m8nPM3d85tVASYsKMi6OP7pVLlpfCiRykhDhu+ueuPQujjrkCP79hSfjGXy/y3P7lyLqMiwIQdFcER36fBo9J89c3KUccKJQ4cMbtAXgd5r5NCnp3LTV+G89VAhHCmrhBgwrqCyf9EIGq2OLfwXgwg/Z0Saj//JQSRo7wPfel/tqzs+bmcLAUhgfMcjAATdjA+vj9dXFx8zMpK/SOOEu9F5q3PL77LCTjDBXjaCy2ZgtedvDNgWZx9GwJM2DYwgjxdWFj4g5VV50TIeB+863iQssLKG6StowJdJETqtHx+8q6w5CZZDhM24NKvVqv7rNTU8eifHoWBpImAxUWSPYhbg30XSdkk7t2RKJEQoUzYgAoaQQ571+vqeHyaeX/UI74BmdiV7TpxLySPWyhM7upKwDdGRoAJOzKEnRnMzam841RORCDC0SDqVOfTZFyBuKvwuBeMj1unTE9P358Mq8OxkgnrE87ol06UypUPoaKeiG+pOZ+yjXk2clFa4h+Fk/lsoSDLMTdGC/WZsCMWA4hqzc0tHOEodQo86r4jZmfk6wh93COFdRq+4+6E910x0siQjGLCjgB0sbjw50I4n8F31ANGyCYxr4K4d4O4J4G4l4C4TmIM99FQJuwQYGJa2wsaTuNMeNdQ43yHUFXLV0DW64VlnVCYnb5CSwU1VooJ66FwSqWlxylVP11I8VaQlbHzgF3PpFL+SCr50UIhc33P53yzCwGudF2QdN8AOWdKpQWM/KoPm/ottdvqcO5Q0xgj6heOp8XfZzKZB8KRGl8pTNgBZQei2qVy9T0Y9T1FKLX3gKT8aHQEqpaUn8XMoM+BxIujZ2dmDkzYPuW6p1x9lWyos3hAqQ9Agd2Wu0Hcj2Ng6mIQFzP8+GhHgAnbjgbOaRmWWk2cDaK+cssjvgwRAZD1t6icx+Tz2atCFKu9KCbsehHNz8/vVXfkyQh8OJKawtqXXFIUlPIbtkx/LJebuCMpJg+yM/GEBTnTmJf6QSmcT3CE0qCqEt0zeFuEOqrPC5E9NekRU4kmbKk0/xf4en8mvOqTo6uOLNktAiDuIyirk/L5zJdw3nD7nknpEknYUqn6LEeos/FX+2UmFWZSbMFyNTcpWx67Yzbzg6TY3LIzUYRdm5sqTsUyJ+9EU9hqgcC/8UQAlff7Ki0/mqR1lRNBWJBzcm6ueiwC9I9H1czEs3qy1r0QaDaNlfjXdFqclM1mH+qVxqR7RhMWRJWIUHobopM+jc80jzWp4NiWLgQqqMyn4zPQOSDxctdTQ24YS9hicf4liPY9B4MUWi4dakj90c4M9G93CVuekJ9pLslqXOCFcYQtl5efXHdqp2NA6U3a1SZWKDwEpPiVJeRx8Lg/DU9o8JKMISytoVRriE/Co9KqhKngoWMJcUAAc3AvVyl5oikDU7EnLMg5vT6gdBwqEA8oxYFFIetIA1OYEXTR5Lj1yampqd0hi/dVXGwJS160OZPGgVcVah9fUeHMDEUA22xaEmtMTZ8R14ipWBIWEUpvwCTK01GrnmpozWKzAkRgfY2pUzEj6Dx431itMRUrwtKUN+E4n+KR3wBrc4KyxojyPdi9/tT8bOZCEDcWO9LHgrBzc5WXOY76FMboX5yg+sSmhoQAPO7/YXG4U9YXh9M6Rllrwhbn5/9ENOSp6K8eHFLZsZhkI/B7act/yM9k/gMeV8tVHbUkbLm88PxGw4FH5UnkyeZPNNajqXwjvO4nsVzNN0FcrYIvtCIsdiA/GHNST2CiRlNRWWonAiDuDULIM/L56a+CuPXOp9FcRU5YNHcl+qiHof1xAgaTDooGBpbKCPRHAN72LqHkWZiHewGIu9Q/ZfBPIiMsiDo2N7f4dkc5CHhQTwveVJbACIyGAMj6MJzKuZaV2RnVDvShE7ZYVLNKLrwbsb7HgKiPGQ1CfpsRiASBiiXFl5zx1Lk7pqbuCVOD0AiLDaMObCh1FIh6OIiayG0YwyxYlhU8AvC4+ASkvics+/z8zNT3cR34yHKghEWzd7pYrhyO7RiOwvnzgoeQJTAC0SCw1s8VXxobsy7ADgYPBqVFIIQtFqt/LKSiWTPvgOIzQSnP+TICuiEAL1tDP/cbIPD5+Cx0Fa59/SzkG2HXFzZ7M5TFPFT1dN2AZH0YgfARkLuxcdrXpVJfw7zcq/1oMo9EWGy7eBACHN4kpPMmfD99UviAsERGIC4IyAdAtm9alvja7GzT8w4VAumJsFh18NErdfVn6FofDJheiwCH/eICF+vJCOiCADztI+DOdy1h/RibTPykUJjc5Va3voSlrSsaDflMRHo8Rwnn2YhveD43dd3CyukYAfcIoL97JwIzrhGWvBZr716bSokb+g1cyT2l+bOFsGbQzp4GIXOYmQ+vqR4HcbjmgxFgBKJBoLnl5i541Lshv6SkXLCEU5bF0vwj6H/uiEYplsoIMALuEZAPWBhz3uP+BU7JCDACUSGApvNDFr4SMWGjKgGWywh4QADO9RH0cUXRwzuclBFgBCJCAM71Yay1zB42IvxZLCPgDQEJD8t9WG+YcWpGICoEiKvow0ruw0ZVAiyXEfCAAPqv6MNa3CT2gBknZQQiQ0BZstkk5kGnyIqABTMC7hFA/3WPZQtuEruHjFMyAlEiIPdYiHLiPmyUZcCyGQGXCChlPWI54xYT1iVgnIwRiBKBXG5ij1WYnOQ+bJSlwLIZARcIYEreKv5VLfy3gH+x2sHLhX2chBEwCoFW15VCE7GQIfdjjSpdNsY4BDDNrtl1bRK2dWGclWwQI2AKAushxE3CcjyxKaXKdpiKQCuEeK1JzDN2TC1ntssQBFrTYNeaxNyHNaRY2QxzEVgLcFprEnO0k7nlzJYZgYBaj/lfaxLzBAAjCpWNMBcBiiMm65qEbV2Yay5bxgjEHQGnGeC03iReu4i7Saw/I2AqAq1YibUmMQ86mVrObJchCKTTbYNOrQtDbGMzGAETEdjsw8I6nrFjYhGzTcYggK07NvuwrQtjrGNDGAGzEJjHBJ06mdTsw65fzJtlI1vDCJiBAFb832gBr48SY4+6tptmmMlWMAKmICA35qxvELYVXGyKiWwHI2AKAq1POmTPBmGxP+UGi00xlO1gBExAoH366wZh22+aYCTbwAgYg4Dc3P9qg7A8J9aY4mVDDEOgvbu6Qdj2m4bZy+YwArFGADvWbXRXNwiLk42h41hbx8ozAoYh0HPQSfGmWIYVM5tjDAL25u4cGx5W2ZsdW2MMZUMYAQMQwHY63U3iFK86YUDRsglmImB1E1Ypm/uwZpY2WxV7BMY3uLnRJHaczZuxt48NYAQMQQBx/s7MjJhrmbNB2HxebMwIaD3kX0aAEYgaATVHpG1psUFY3MSnWFFqPeBfRoAR0AKBjf4rabNBWLpo/95D13wwAoxAtAhs5WSqXR2KJyY3ywcjEA4CUlgWah3iYhVqJv2D2whHdEykAJ0OD9tBWCFVkfGKSUnGVE3bTgk7tfZvjaydhjQaDVGv10WjVgeBN7punYmSdLVlnnoHYfG3bWP4OEmYsK3BI2DbtkiPjYOs9kBhlI7+ifFxUVtZFaurq0ifXK+r2oImCLgOwqJDu4f/pg2sT/xwCATSIN/Y2JjnN9PjYyKVToulpUWhnGTWTHCyo0nMg06eqxG/4B4BKcYnJ4cia0uGRB93cmoaXrfDt7QeG/+7ddCpg7DC2gwyNh4JNjBgBKSYmJwQKfRXRz2w3liT+NLqrK6j5huP9zfjiEnfDgRw0eF+42EQa6kfAmtkpcElvw4i7SS8NY0oJ+nApJyOcaUOwm51v0kChm31CwH/ydrSjDws9WuTdGBSTocT3UJYbhInqTL4b2twZG3pSoNXiMprXRr/i0k5/Qk7MWF1uF/j0WADfUQgeLK2lE2l0q1T43+V6pyU0+Fh0UdgwhpfBYIwMDyykvZ+9o2DQMOvPNGSaORyotyeXwdhkWAZnfql9gR8zggMRiBcspIu2wVfDNY3Tk+bM3U6okY6CLtuCnvZOJVppLqGT9ZNc83vx/aKPOwiLO+xs1kl+GwQAlGSFd8jm5MGBulnwDPV/Zm1i7C9WG2A6WyCrwhES1YypTmxx1eb9MsMbYiOEWLSsIuwuNeVSD9TWKPoEIierGT72lS86FAIRfKWmToks4uwWHeC+7ChlEYchehBVqdBEwE6xmLiCOa2Om+dqUMvdBEWd5iw20KZxAR6kJWQb2C+bBIOkLOrtdtFWN4BIAlVwauN+pCVNK83kkFY9NO3JywYzB7Wa302Or1eZCXv6mBVikQcbVt0tOzt5WG7WN1KzL9JQ0AvshL6q1iFIikHeuldXOwmbIonACSlQgy2Uz+yriyvCMdJiHdF4WydqUPl1UXYtOAJAIMrchKe6kfW2mpN1GvJ8a5Uy7bO1KF7XYRFo4P7sIRMYg89ybq6gjD3hB1bZ+qQ+V2EzWazpfVdABIGD5tLqznQsi46zYYhz7q6spK4wuk1U4dA6CIsJYQz7pjSkzi0EmmwzmQ1P0iiu8p1z9ShNF2EXX+Rm8XdCBp8h8mqW+H2i+nvSdh+iXUzivXxAwEmqx8o+p5Hj6AJktGTsBxP7Dv8mmbIZNW0YGhtyK5vsKRrT8JilaueiXU1jvUaBgEm6zCohfaO7E3YngvHokn8SGiKsaAIENCVrMn7dNOv8DFTp+c4Uk/CSqUeSOK4XD/wBt3HqDq+hljYNEEIB9HayiHkdEZPV7Im79PN4Hql7u/1vDdhpbWbt/rrBdfave22THSwcRMFqdexZaJeoXQ6k1XnP3L960JQT6Sy7uuVdx/Civu0dhK9LAnhnkVbJmInthRthzjgsLBCvYUFr9P4R6StrVIMbNS7rzFZBxSZdo/QcHNPWMtydjcn9WtnRnQKpdNjYmxi3LMCqfTa5sWrS0sRzuNksnouuIhfsO3eTeKeo8QIT+zJ7ohtiEz82PjEUGRtKUzd3PGpyabHbd0L75fJGh7W/kmq1zM9OdiTsBhImYfoqn/i45tTqtm09WdriDFqTiO/8A4ma3hY+ylJLuXzcq5Xjj0J20zYpw3dKxNT71EQ/DhI5udB+YVDWiarn+UWZl5Sqp7elXToS1gp5O4wldRPlsTO4f6StWVj8KRlsrawjuev9E5YGNr3pXiC4E1r2jncsvv+PfOWWY/UwZGWydoD7njdUv25179GqmR7WHvMn37roJriP2mZrIPwjsszNVSTONF9WLntt1a/Ct8/0jJZ/SqTyPORvYMmSK++HtYZwPLIDQpYAXubwAi/xY9OWiar32USZX7SGaZJbNmJHXRqxgeHXGLDk5bJGnJRBS5uqFHiyZTYFbhmugqIaCtD76RlsupahUbRS8p0X+71bRJPTU3dC6GVUQTH9t0I9zJ0T1oma2zr10DF5dLs7Phd/ZL0Jez6C7/r96LR95tT5KKzcHvSMlmjK51gJSOM9RZ0yfrOFBlMWCkSSdhG5DNrEHvcNyJKV7LS5HOeIucDnQdybhvCWgNf9kE5LbOgucBre5BGq143aXUlK08+962mKDWQcwMJC9d8k2+KxCyjuiZ7kG6SVmeysmf1q3qjSTwCYZ1kelgCv7a6ir1N9KiIRNrJqSlNV+TXAyO/CBN1PrY9Njxhc7mJXTAgodPslKhptLVhkHHNXivp5vYZTFav2A1KjxbtSjY7fsegNNs1ibF4m7h5UAYmP6thtzRa4oWPTQSYrJtY+H6mxK0g7cD9NAcSdl2hgS7ad6U1y3BleVmLASgdYGGyBl4K244ZbUtYKa1tMwncjEgFKLG8uJh40jJZg6+E2w04kQbbElY4MtEelkDCasOJJi2TlWpB8IcvhMWSnYknLBVVUklbq7X2Z+UBpqApi0li23IN6/kNPvBpQxZLFVqULTM4ZTKeYukcMYFPLDqN2gaFPHvWoJDtzpdGiPO5TBa/te6nm3e2bRIjA4wUy19tvpLss6R4WvasIddzJX6zHVlJo20Ju6721SGrr7U400nbJOsyhRtyMzi8iihdccwVYW0pfxae4vGQZCppmazR1D94V/8IOzs7fQ0y7DvlJxoTo5dqGmmZrNHVKdtu/NyNdFceFmSlQacb3GSYtDSmkJbJGmXNlbfMzMy42pPZFWGbpkjhymVHaXZUsuNOWiZrVDVnXa7L5jCl9kBY7scOKta4kpbJOqhUw3kGErp2hu4J27BdZxqOmfpJiRtpmax61CFsEO6aW9sGTrSbtKdYuQdD/fu23+PzbgTiEFzBZO0utyjuYHzo4UI+u7db2e49LHIEu/nzjgtkdfe0TFYXhRheEtfelVTyRFik95R5eDbrJ0lX0jJZ9aorysOAE2nuibCYaseE9VDeupGWyeqh8MJKannjlKc+LCYC2KVSZQ8C1mbDsscEOTr0aZmsWtakKvqvO9CPXXWrnUcPS8tXyO+7zZzTrSEQtadlsmpaE6X8oReykhWeCLtmtvyOpuZrrVZUpGWy6lstLCEv96qdZ8Ja1vQV+KvAK5N5RRrpwyYtk3WIQgrpFXDISaXUd72K80zYXE6WIIQ/73hFej19WKRlsg5ZQGG9ptQ12Wz2Ya/iPBOWBGBGu2dX7lUxk9O3SNtoBDMBiskag9pjiaG6lkMRNmWlhhIWAxhDU3GTtAOXofWsD5PVM2SRvJC2h3N6QxF2dnbidowWJ3aBcf9KmFZjXBKNuj+kba7BxCtF+Fc8AeWE1RHvQHN42wXXeokfirCUEb4tcrO4F6Ke74G0S0sj7zCwsrIiVld4y0fP8EfwAuIYhm6hDk1YkXKGFhoBRpqLVGJleUmswjt63YCLtsUkL13H5l18xAOBYT7ntCzzFOnUeol+UbGs0lz1Qfzu1X6fz0dFQIr0WFqkUumBS6k2Gg2QtCbWtsXkxdJGRT2s99Ecnsvnso8a9tNoalhF6TvSntI8fUc6Ytg8+L1eCGDXPHhL+ofYbYGF3IW08HcVJS0cDFVhC0wiK43V8xFDBJQcKY5h+CYxsEJV4mZxgHWGdoJvNOro38KTgsD1eq15zWQNEPSAs1aW+PYoIoZuEpNQ/LWfxGSA+/G3nicDjFIK/G5SEJhHsP8+aJ0uDWvwSB52TbC8dFjh/B4jkCQE8GXlslHISliNRFjKwLbtC+mXD0aAERiMALhyweAU2z8dqUncyr5YrNyI4ZADWtf8ywgwAlsRkDfvKGSfsfWu1+uRPSwJxDIX7GW9Is/pk4WAJUf2rgSYLx62UqnsXauLezEIlU5WKbC1jMD2CKDfWh9Ly30zmcyD26cenMIXD4u4yIcgxvPcvsGq8VNGwBQE1Pf8ICuh4QthKSMpLG4WExB8MAJbEEAz1jdu+NIkJv3QHE4V56r34uTRW/TlS0YguQhI+VAhl9kXzeKBO6u7Bcg/D4t2ulTq390K5nSMQBIQsIS6xC+yEl6+EZYyS6f9GQmjvPhgBExAwEn5ywlfCYvBJ5rUfo0JQLMNjIAPCPxyRzZ7kw/5bGThK2GbuVrynI3c+YQRSDACtiXP9Nt83wadWoph8AnzZCu/xyyw/Vv3+JcRSBwCUtxayGWfjv6rryvt+e5hmwpKeVbiCogNZgTaEZDiTL/JStn77mEpU3jZ8WKpehfO9qFrPhiBZCEg7y/kM08AYVf8ttt3D0sKkqJSqHP9VpbzYwTigABWCDknCLKS7YF4WMq4WFSzSlR24XSGrvlgBJKAAAhVzuez+4Gw80HYG4iHJUULBVlGuOJ5QSjNeTIC2iJgWTuDIivZHJiHpcyr1eo+qzV1F/Vp6ZoPRsBsBOTy+Jh8vF+B/r2wCszDkjAo/gAW9/tyL8F8jxEwDQF4v4uCJCvhFaiHJQHl8vL+DaeG77JYL44PRsBQBNAMblgy/dRcbuKOIE0MnES0D48S4utBGsF5MwKRI6DEfwZNVrIxcA9LQvZUKgdgC+jr4GVtuuaDETAJAXjXmm2lD4Bzui1ouwL3sGRAMwBaiX8J2hjOnxGIAgG0IHeGQVayLRQPS4Kw7tOjMGKMbSr5uyzhwYcZCGAHlZJtZfefnZXFMCwKxcOSIbQ9PLaKOS0Mo1gGIxAWAog1ODksspJNoXlYEkbfYzGT5xbM5Hk8XfPBCMQaASluw4ycA6gPG5YdoXlYMgiGrWAN4+PDMo7lMAJBIgDyHBcmWcmWUD1sC7xicf5qdNRf3LrmX0YgbgiAqD/BxlaHhK13qB62ZZxtp46BweAsH4xA/BBA3XXQdz0mCs0jIezs7NQvEbLIu95FUeIsc2QEsI/Ul/P56WtHzmiIDCJpEpOexeLSfkrUf4+hqIkh9OZXGIGoEFiYGLefMj09fV8UCkTiYcnQQmFyFz7zfC4Ko1kmIzAsAtjj9fSoyEo6R+ZhSTg+80xgKRk0LdTT6JoPRkBnBNB3vTafyxyE33pUekbmYclgGL6csu0j8NuICgCWywi4QQB1dBX7qlJdjYyspGekhCUFMAD1KzD3s3TOByOgLQJKnVwoZG6IWr9Im8Qt49E0HiuVqv+D0bdntu7xLyOgDQJS/BoRTS/SoSUYuYelQqHmhmVZkTc3tKkgrIg2CKBuroyl5N/oQFYCRQvCkiK53PRvEUnxaTrngxHQBgEpP4GJK7/TRR8tmsQtMNA0Tpfmqr/G77Na9/iXEYgKAZDjF1iy9CXwrr5utzGKPdp4WDICwNTwnYuaxqHNfhgFPH7XZATkUio1Rk1hbchKaGtFWFIon89ch79sp9A5H4xAVAhYUn58Zmbi1qjk95OrVZO4pSSaxKniXOUXiDc+sHWPfxmBsBCAV70KARIv0827kv3aeVhSCkDVLZF+C5bf2EPXfDAC4SEgd4+l5V/pSFbCQEvCkmL5/ORdaJb8JYDjKCgChI/AEUBdW0Hk3RuDXgx8FEO0JSwZlctlf6yE/NgoBvK7jIBbBDDg+f5m5J3bFyJIp2UfdisOxVLlEvRr37b1Pl8zAn4hAO/6Bawg8QG/8gsqn1gQFmSdxPfZq/H7nKCA4HyTiwA868/wdYIGmbT/nKh1k7hVhQDkkhSpN+D3kdY9/mUE/EEAg0xj8s1xICvZGwvCkqIYhLrbkoJG73gQigDhY2QEUJe0H2TaamRsCEuK0yAUmi/HbTWCrxmBYRDAQmp/q/sg01a7YtGH3ao0D0JtRYSvvSIgLbkTU+aO9vpe1OljSVgMPk1gEOoK/B4cNYAsP34IoCn8LUQyITAn2tUjhkEuloQlQ0HWDDztf+H0BcMYzu8kFQH5w0I+83rqv8YRgVj1YdsBBuBV7Br2avxe136fzxmBfgjQ5xuQlb42xJKsZFdsCUvK53KylE6JQxF9fAtd88EI9EVAit/gW+trQdbFvmli8CDWhCV8aRvLyQn7FZgocGcM8GYVI0AAnvXGtJ19Fcg6H4F4X0XGnrCExtTU1G5Lpl8OT7vbV3Q4s9gjgD/ktyMw4tCZGWnEzC8jCEu1KpebvDOdUvC08uHY1zI2wBcE4FnvESr9csy+ecCXDDXIxBjCEpYzMzO3oJAOxV/VOQ2wZRWiREDKB207/XLaEiZKNfyWbRRhCRxaYsa2Uq/Gaez7K34XdmLyk/IhqeShs7MTt5lms3GEpQJCuNk1lrReij5tJDuMmVZJYmWPFLfZMv1iHVbpDwK32AZOuAFjz+LiY+Vy4wrsKHCAm/ScJvYIXIPPfK9D18jYWV1GE5aqX7GoZoWsfhORUYfEvjqyAX0RwGDjtxFueDh+l/omMuCBkU3i9nIpFGQZBfkqDEZ9pf0+n5uDAAXyo4zfaDpZqcSMJywZiYJcxWDU2zGd6gy65sMMBFCuCpuCn0CzbnCu1YLfQSFsfJN4K3DFYuX92Mb6n9BEtrc+4+v4IEB/hLFf6zsxuJSollPiCEtVslRaeL2jnEsx52cqPlWUNW0hgEpbBmHfgH1vrmzdS8pvIglLhVsuL76g3mh8A6T9w6QUtgl2IijmDpGShxWy2RtNsMerDYklLAE1Pz+/V70uvoxtLl/jFThOHz4CGDi8FGMRR8K7VsKXrofERBOWigB9WTk3t/BhfKv9DM7H9CgW1qITAbmIQJgP5vPTF3TeT95V4gnbKnKQ9nmOalymlNi/dY9/o0cA3vR6BEO8FdMob45em+g1YMK2lQE8bBZrRZ2HX95loA2XqE7RBD4PTeBjQNrlqHTQTS4TtkeJlErVIzCK/AU8mu7xmG8FjADNtgJZ341RYAwK8tGOABO2HY228/n55afWGzU0kdWz227zacAIoEL+Qsr04bRwfMCiYpk9E3ZAsYGs48W56mcA0odwnoiosAFwBPoIzd4aRuvPKOQyJ+O8HqiwGGfOhHVReBiQem7DaexEUl5S1QVenpNI+eOxlPgADyxtjxwTdnuMmingYWW5XHmXoyR9/tnL5WucbCAC8j5pi2MLs9nLBibjhxsIMGE3oHB3Ui6rQqNRPQ3xyO/jZrI7zLamoiavFOrz2CvpH3Ce2CCIrbi4uWbCukGpRxr6bttQaCYrcVCPx3yrDwIg6E9FShyd1NDCPrC4vs2EdQ1Vd0JqJhfLlfdIJU5HwMWO7hR8ZxMB+QA+1RyH2TWXbN7jM68IMGG9ItYj/Xoz+dNoJr8HJOZpe20YwaPS6C92isuchHNeGK8Nm2FOmbDDoNbnnXJ5+cl1Z/UEeJJ3gLjpPskScRvkXMEfsH8TTuoM05YajbIAmbABoF8sLu0nrPrxyhHvwvSCiQBEaJwlBeqr88fG7LOmp6fv11jRWKrGhA2w2KrV6j61mvNRR4mjIMb0MMd5aVlfSFnO2SavWhhgdXGVNRPWFUyjJZqfVztqjeqHpVIfRH9udrTc9Hobcb9FdAHOFSLz+Xxe8o4LARcPEzZggNuzby65KipHY1W4j6CPG+/gC2yFgTXQzs7PZneiv1ptt5PPg0OACRsctn1zBlmnS+Xq2/AN90icP7dvQh0fSPFrS9jn53JTl4KoRq8BrCf8OmqVIJ0QgHGgUs6RjlKHw2xd+7kVNHu/IqX1Raz6cG2Cikc7U9nDalIk8LTZptd11DvQZH4RriMtG3hPrJojrlaWuhixvuRNudmrQV2JtFJoYL+WKpRKS49XqgaPKw8Ha/4oTCVBzOuFVF8RTvpS/n4aJvLuZDFh3eEUWapipfJM0RCH45vuYfim+4wgFEFz9ybsAfEtxGhduiObvSkIGZynPwgwYf3BMZRc5uaWn6hU/XWOUK9Dwb0UzeahoqngRSlc8CrMyL9cytTltHt9KAawkJERYMKODGE0GdAnImVVX4kdZV6BJuwh2632iO+lt2NriyuxbsaPCrOZH4C0HNcbTdGNJJUJOxJ8+ry8uLi478qKc4gjnENQqIeQZvCiV1rCunJ83LpyamrqXn20ZU2GReD/AZsSYneXmKsgAAAAAElFTkSuQmCC";var a=window.devicePixelRatio;u.width=e.width*a,u.height=e.height*a;var t=.5*f.width*a,i=.5*f.height*a;c.drawImage(f,(u.width-t)/2,0,t,i),c.textAlign="center",c.textBaseline="top",c.font=e.fontSize*a+'px "冬青黑体简体中文","Tahoma","Hiragino Sans GB","Microsoft YaHei","微软雅黑","STHeiti","WenQuanYi Micro Hei",SimSun';var b=c.measureText(d).width;return c.fillStyle="#f0f1f5",c.fillRect((u.width-b)/2-e.paddingHorizontal,i+e.margin,b+2*e.paddingHorizontal,e.lineHeight*a),c.fillStyle="#f8fbff",c.fillText(d,u.width/2,i+e.margin+2),{url:u.toDataURL(),width:e.width,height:e.height}};module.exports={get:get,getSafety:getSafety};

},{"./watermarkType":655}],654:[function(require,module,exports){
module.exports={GROUP:1,CONTACT:2};

},{}],655:[function(require,module,exports){
var watermarkTypeKey={COMMON:"common",SMALL:"small"},watermarkType={};watermarkType[watermarkTypeKey.COMMON]={width:300,height:170,fontSize:13,logo:"钉钉",deg:-15,translateX:-50,translateY:40},watermarkType[watermarkTypeKey.SMALL]={width:180,height:100,fontSize:12,logo:"钉钉",deg:-15,translateX:-25,translateY:20},module.exports={obj:watermarkType,key:watermarkTypeKey};

},{}],656:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.avatar";require("../mediaId/mediaId");var emoji=require("../emoji/emoji");require("../safe/safe"),angular.module(moduleName,["ddWeb.mediaId"]).factory("avatarService",["mediaId","safe",function(e,a){function r(e){return null!==e.match(/^([a-zA-Z]|\s|,|\.)+$/)}var t=["#17c295","#4da9eb","#f7b55e","#f2725e","#568aad","#b38979","#8a8a8a"],i=t.length,c={getShowName:function(e,a){var t=null,i=null;return t=e?e:a,t=t?t:"",r(t)?(t=t.replace(/,|\./g," ").replace(/\s+/g," "),i=t.split(" "),1===i.length?t.slice(0,2):i[0].slice(0,1)+i[1].slice(0,1)):t.replace(/,|\.|\s+/g,"").slice(-2)},createImgDomString:function(a){var r=e.mid2Url(a),t=document.createElement("img");t.setAttribute("src",r);var i=["<div class='avatar small'>",t.outerHTML,"</div>"].join("");return i},createNickDomString:function(e,r){var t=c.getShowName(e,r),i=emoji.parse(a.escapeHTML(t)),o=['<div class="avatar small">','<div class="avatar-text" style="background-color:'+c.getColor(t)+'">',i,"</div></div>"].join("");return o},createImgOrNickDom:function(e,a,r){return e?this.createImgDomString(e):this.createNickDomString(a,r)},getColor:function(e){var a,r=0;for(a in e)r+=e.charCodeAt(a);return t[r%i]}};return c}]),module.exports=moduleName;
},{"../emoji/emoji":364,"../mediaId/mediaId":433,"../safe/safe":545}],657:[function(require,module,exports){
var moduleName="ddWeb.avatar.avatarExplainer",serviceName="avatarExplainer";angular.module(moduleName,[]).factory(serviceName,[function(){function n(n){if(n instanceof Array)return n.map(function(n){return{uId:n,mediaId:void 0,nick:void 0}});if(n.indexOf("uids:")!=-1){var e=n.split("uids:")[1];return e=e.split(";"),e.pop(),e.map(function(n){return{uId:parseInt(n),mediaId:void 0,nick:void 0}})}if(n.indexOf("$:")==-1)return console.log("无法解析icon"+n),[];var r=n.split("$:")[1];try{return r=JSON.parse(r),r.map(function(n){return{uId:parseInt(n.uId),mediaId:n.mediaId,nick:n.nick}})}catch(n){return console.log(n),[]}}function e(e){var r=n(e);return r.map(function(n){return n.uId})}function r(e){return n(e)}return{getIcons:r,getUids:e}}]),module.exports=moduleName;

},{}],658:[function(require,module,exports){
var transFromRGB=function(r){return"#"+("000000"+r.toString(16)).slice(-6)},transFromARGB=function(r){var n=((4278190080&r)>>>24)/255,t=(16711680&r)>>16,o=(65280&r)>>8,a=255&r,s=[t,o,a,n].join(",");return"rgba("+s+")"},transFromRGBA=function(r){var n=(4278190080&r)>>>24,t=(16711680&r)>>16,o=(65280&r)>>8,a=(255&r)/255,s=[n,t,o,a].join(",");return"rgba("+s+")"};module.exports={transFromRGB:transFromRGB,transFromARGB:transFromARGB,transFromRGBA:transFromRGBA};

},{}],659:[function(require,module,exports){
angular.module("ddWeb.service.contextMenu",[]).factory("contextMenuService",["$rootScope","$compile","$document",function(e,t,n){function i(){if(null===b){var e=angular.element("<div context-menu-item></div>");f.append(t(e)(v)),b=e}}function o(){if(null===C){var e=angular.element('<div class="context-menu-back-pop"></div>');f.append(e),C=e}}function l(e,t){t.removeClass("none"),C.addClass("none"),r&&r.removeClass("active"),g.opt.element.addClass("active"),r=g.opt.element,s=e.target;var i=n[0].documentElement,o=(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0),l=(window.pageYOffset||i.scrollTop)-(i.clientTop||0),a=t[0].scrollWidth,c=t[0].scrollHeight,u=i.clientWidth+o,m=i.clientHeight+l,p=a+e.pageX,d=c+e.pageY,f=e.pageX,v=e.pageY;p>u&&(f-=p-u),d>m&&(v-=d-m),t.css("top",v+"px"),t.css("left",f+"px"),x=!0}function a(e){e.addClass("none"),C.addClass("none"),g.opt.element.removeClass("active"),x=!1}function c(e){g.opt&&!g.opt.menuItemDisabled&&x&&27===e.keyCode&&a(b)}function u(e){!g.opt||g.opt.menuItemDisabled||!x||2===e.button&&e.target===s||a(b)}function m(e){if(g.opt&&!g.opt.menuItemDisabled&&x){a(b);var t=n[0].elementFromPoint(e.clientX,e.clientY);if($(t).closest(".context-menu").length){e.preventDefault(),e.stopPropagation();var i=$.Event("contextmenu");i.pageX=e.pageX,i.pageY=e.pageY,$(t).closest(".context-menu").trigger(i)}}}function p(e){angular.isArray(e.menuItems)?v.items=e.menuItems:angular.isFunction(e.menuItemGet)&&(v.items=e.menuItemGet(e.menuData))}var s,r,d={},f=n.find("body").eq(0),g={},v=e.$new(!0),x=!1,b=null,C=null;return i(),o(),v.menuItemClick=function(e,t){g.opt.menuItemClick(g.opt.menuData,e),a(b),t.preventDefault(),t.stopPropagation()},n.bind("keyup.ctxMenu",c),n.bind("click.ctxMenu",u),C.bind("contextmenu.ctxMenu",m),g.show=function(e){g.opt=angular.extend({},d,e),p(g.opt),null!==b&&a(b),l(g.opt.eventObj,b)},g}]).directive("contextMenuItem",[function(){return{restrict:"AE",replace:!0,template:'<div class="tip-menu"><ul class="menu"><li class="menu-item" ng-repeat="item in items" menu-type="item.type" ng-click="menuItemClick(item.type, $event)">{{item.text}}</li></ul></div>'}}]);

},{}],660:[function(require,module,exports){
"use strict";var uriResolve=require("../uriResolve/resolve"),countryCode=require("../../lib/countryCode"),moduleName="ddWeb.service.countryService";angular.module(moduleName,[]).factory("countryService",[function(){function e(){return u}function r(e){var r=u.filter(function(r){return r.countryKey===e||r.countryCode===e});return!!r&&r[0]}function o(e){var o=r(e);return o?o.countryCode:o}var u=countryCode;return{getAllCountryData:e,getCountryByNameOrCode:r,getCodeByName:o}}]),module.exports=moduleName;

},{"../../lib/countryCode":199,"../uriResolve/resolve":628}],661:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.emailOpen",ua=require("../ua"),jsuri=require("jsuri"),localLog=require("../log/localLog");angular.module(moduleName,[require("../microApp/appList"),require("../openWindow/openWindow"),require("@ali/ding-api").interface.AlimeiTicket]).factory("emailOpenService",["$OpenWindow","AlimeiTicket","appList",function(e,i,r){function o(o){var a=new e;i.getLink(r.orgMail.id+"","",function(e){if(200===e.code){var i=e.body;if(o){var r=new jsuri(i);Object.keys(o).forEach(function(e){var i=o[e];r.addQueryParam(e,i)}),i=r.toString()}a.resolve(i)}else localLog.error("get email ticket fail : "+JSON.stringify(e))})}return{openEmail:o}}]),module.exports=moduleName;

},{"../log/localLog":421,"../microApp/appList":434,"../openWindow/openWindow":532,"../ua":621,"@ali/ding-api":711,"jsuri":901}],662:[function(require,module,exports){
var moduleName="ddWeb.avatar.groupAvatarExplainer",serviceName="groupAvatarExplainer",$my=require("../user/my"),mediaIdFactory=require("@ali/ding-mediaid");angular.module(moduleName,[]).factory(serviceName,[function(){function r(r,e){r=r||"";var i=void 0;return e.some(function(e){var a=e.orgDetail||{},o=a.orgId||"",t=a.logoMediaId||"";if(r.toString()===o.toString())return i=0===t.indexOf("@")?mediaIdFactory.mid2Url(t,{imageSize:"thumb"}):t,!0}),i}function e(r){if(r){if(0===r.indexOf("@"))return mediaIdFactory.mid2Url(r,{imageSize:"thumb"});try{var e=mediaIdFactory.url2Mid(r),i=mediaIdFactory.mid2Url(e,{imageSize:"thumb"})}catch(e){var i=r}return i}}function i(i){i=i||{};var a=void 0,o=i.use_enterprise_icon,t=i.icon;if(o&&"1"===o.toString()){var d=i.id||i.orgId,m=r(d,$my.orgEmployees);a=m?m:e(t)}else a=e(t);return a}return{getGroupAvatarByGroupExtension:i}}]),module.exports=moduleName;

},{"../user/my":635,"@ali/ding-mediaid":716}],663:[function(require,module,exports){
"use strict";var moduleName="ddWeb.hotkey.hotkeyManager",_=require("lodash"),ua=require("../ua"),storage=require("../storage/storage"),nwWindow=require("../app/nwWindow"),LoginStatusCode=require("../login/LoginStatusCode"),nw=require("../app/nw"),EVENTS=require("../events"),globalEventEmitter=require("../globalEventEmitter"),env=require("../env/env"),app=angular.module(moduleName,[require("../modal/confirm"),require("../env/change-env")]);app.factory("hotkeyManager",["$rootScope","$confirm","changeEnv",function(t,e,n){function a(t){var e=r(t);if(e.value){if(e.isGlobal)ua.isDesktop&&(e.guiShortCut&&o(t),e.guiShortCut=nw.bindHotKey(e.value,e.callback));else{var n="keydown."+t,a=i(e.value);$(document).unbind(n).bind(n,a,function(){e.callback&&e.callback()})}e.storageName&&storage.local.setItem(e.storageName,e.value)}}function i(t){var e=t.split("+"),n=e.pop(),a=["Alt","Ctrl","Shift"],i=[];a.forEach(function(t){e.indexOf(t)!==-1&&i.push(t)}),ua.isMac&&e.indexOf("Command")!==-1&&i.push("Meta"),i.push(n);var o=i.join("+");return o.indexOf("Alt+Ctrl+Shift")!==-1&&o.replace("Alt+Ctrl+Shift","Hyper"),o}function o(t){var e=r(t);if(e.isGlobal)ua.isDesktop&&e.guiShortCut&&(nw.unbindHotKey(e.guiShortCut),e.guiShortCut=null);else{var n="."+t;$(document).unbind("keydown"+n)}e.storageName&&storage.local.setItem(e.storageName,"")}function r(t){return v[t]}function u(t,e){var n=r(t);if(n.canEdit)return n.value=e,e?void a(t):void o(t)}function l(){Object.keys(v).forEach(function(t){var e=v[t];if(e.storageName){var n=storage.local.getItem(e.storageName);n&&(e.value=n)}})}function c(){l(),Object.keys(v).forEach(function(t){var e=v[t];e.initOn===d.APP&&a(t)})}function s(){l(),Object.keys(v).forEach(function(t){var e=v[t];e.initOn===d.LOGIN&&a(t)})}function f(){var t=[];return Object.keys(v).forEach(function(e){var n=r(e),a={value:n.canEdit,key:e};t.push(a)}),t}var d={APP:0,LOGIN:1},v={ACTIVE_WINDOW:{storageName:"activeWindowHotkey",keyInfo:"激活窗口快捷键",value:"",isGlobal:!0,guiShortCut:null,callback:function(){nwWindow.activeWindow()},canEdit:ua.isDesktop,initOn:d.APP},SEARCH:{storageName:"searchHotkey",keyInfo:"搜索快捷键",value:"",isGlobal:!1,callback:function(){t.$broadcast(EVENTS.SEARCH_ACTIVE)},canEdit:!0,initOn:d.LOGIN},SCREEN_SHOT:{storageName:"screenshotHotkey",keyInfo:"截图快捷键",value:"",isGlobal:!0,guiShortCut:null,callback:function(){t.$broadcast("triggerScreenshotHotKey")},canEdit:ua.isDesktop,initOn:d.LOGIN},OPEN_DEV_TOOL:{value:"Ctrl+Shift+I",isGlobal:!1,callback:function(){ua.isDesktop&&nw.showDevTools()},canEdit:!1,initOn:d.APP},CLEAN_DATA:{value:"Alt+Ctrl+Shift+C",isGlobal:!1,callback:function(){ua.isDingTalkWin&&e({title:"清除数据",content:"是否确认清除所有钉钉数据（包括聊天记录，快捷键设置等）？清除后将会重置到新安装的状态。",isWarning:!0}).then(function(){dingtalk.app.cleanData(!0)})},canEdit:!1,initOn:d.APP}};env.isProductEnv||(v.CHANGE_ENV={value:"Alt+Ctrl+Shift+N",isGlobal:!1,callback:function(){n()},canEdit:!1,initOn:d.APP}),globalEventEmitter.addListener(EVENTS.LOGIN_STATE_CHANGE,function(t){console.log("login status change",t),t===LoginStatusCode.LOGINED&&(c(),s())});var g=function(){Object.keys(v).forEach(function(t){var e=r(t);e.value&&e.isGlobal&&ua.isDesktop&&e.guiShortCut&&nw.unbindHotKey(e.guiShortCut)})};return window.addEventListener("beforeunload",g),{initOnAppInit:c,initOnLogin:s,getHotkey:r,setHotkey:u,getHotkeyEditState:f}}]),module.exports=moduleName;

},{"../app/nw":255,"../app/nwWindow":257,"../env/change-env":373,"../env/env":374,"../events":376,"../globalEventEmitter":396,"../login/LoginStatusCode":429,"../modal/confirm":447,"../storage/storage":606,"../ua":621,"lodash":919}],664:[function(require,module,exports){
"use strict";require("../modal/uploadFile");var ua=require("../ua"),nwWindow=require("../app/nwWindow");require("../file/fileHelper");var localLog=require("../log/localLog"),app=angular.module("ddWeb.service.screenshot",["ddWeb.modal.uploadFile","ddWeb.file.fileHelper",require("../modal/confirm")]);app.factory("screenshotService",["$rootScope","$state",function(e,i){function a(e,i,a){if(ua.isWin&&c){var n=!0;c.startCapture(!!e,n,i,function(e,i){e?(u=!1,a||nwWindow.activeWindow()):(u=!1,a||($("textarea.input-msg-box").focus(),document.execCommand("paste"),nwWindow.activeWindow()))})}else if(ua.isMac&&ua.isNw&&l)return l.captureScreen().then(function(){u=!1,a||($("textarea.input-msg-box").focus(),document.execCommand("paste"),nwWindow.activeWindow())},function(){u=!1,a||nwWindow.activeWindow()})}function n(){t(!1,!1,!0)}function r(){return i.is("authorized.im.chat")}function t(e,i,n){u||(u=!0,ua.isNw&&ua.isMac&&i&&nwWindow.closeWindow(),a(e,i,n))}function o(){return c||l}var u=!1,c=null,l=null;if(ua.isWin&&ua.isNw)try{c=_nwrequire("@ali/dingtalk-graffiti")}catch(e){localLog.error("init window screen capture fail",e)}else if(ua.isMac&&ua.isNw)try{l=_nwrequire("@ali/mac-screen-capture")}catch(e){localLog.error("init mac screen capture fail",e)}else ua.isDingTalkWin&&(c=dingtalk.graffiti);return e.$on("triggerScreenshotHotKey",function(i,a){e.$apply(function(){n()})}),{startCapture:t,startGlobalCapture:n,canShowModal:r,isAvaliable:o}}]);

},{"../app/nwWindow":257,"../file/fileHelper":379,"../log/localLog":421,"../modal/confirm":447,"../modal/uploadFile":481,"../ua":621}],665:[function(require,module,exports){
angular.module("ddWeb.service.ActionType",[]).value("ActionType",{CREATEGROUP:0,ADDGROUPMEMBER:1,SENDDING:2,TRANSFER:3});

},{}],666:[function(require,module,exports){
var Class=require("../../../lib/class");require("../../toast/toast"),require("./SelectorBar"),require("../../tool/tool"),angular.module("ddWeb.service.AddGroupMemberSelectorBar",["ddWeb.toast","ddWeb.service.SelectorBar","ddWeb.service.tool"]).factory("AddGroupMemberSelectorBar",["toastService","SelectorBar","tool",function(e,r,t){var i=Class.create({initialize:function(e,r){i.superclass.initialize.call(this,e,r)},Extends:r,Statics:{create:function(e,r){var t=new this(e,r);return t.initWhenCreate(),t}},_oldMemberArr:null,initWhenCreate:function(){this._oldMemberArr=$.extend(!0,[],this.P_getSelectedFunc())},removeHandler:function(){},P_preSelectingHandlerForSelectorPanel:function(e,r){return this._isOldMember(r)},P_beforeAddItem:function(){return!1},_isOldMember:function(e){return t.contain(this._oldMemberArr,function(r){return t.isSamePerson({uid:e.model.uid,text:e.text},{uid:r.model.uid,text:r.text})})}});return i}]);

},{"../../../lib/class":198,"../../toast/toast":611,"../../tool/tool":616,"./SelectorBar":668}],667:[function(require,module,exports){
var Class=require("../../../lib/class");require("../../toast/toast"),require("./SelectorBar"),angular.module("ddWeb.service.CreateGroupSelectorBar",["ddWeb.toast","ddWeb.service.SelectorBar"]).factory("CreateGroupSelectorBar",["toastService","SelectorBar",function(e,r){var t=Class.create({initialize:function(e,r){t.superclass.initialize.call(this,e,r)},Extends:r,Statics:{create:function(e,r){var t=new this(e,r);return t}},removeHandler:function(e,r){},P_preSelectingHandlerForSelectorPanel:function(e,r){return this.P_isSelected(e,r)&&this._mustIncludeSelfWhileCreateGroup(r)},P_beforeAddItem:function(){return!1},_mustIncludeSelfWhileCreateGroup:function(r){return!!this.P_isSelf(r.model.uid)&&(e.show("群成员必须包括自己",{type:"information"}),!0)}});return t}]);

},{"../../../lib/class":198,"../../toast/toast":611,"./SelectorBar":668}],668:[function(require,module,exports){
"use strict";var moduleName="ddWeb.service.SelectorBar",Class=require("../../../lib/class");require("../../tool/tool"),require("../../toast/toast"),require("../../widget/selectorBar/selectorBarTool");var my=require("../../user/my"),storage=require("../../storage/storage");angular.module(moduleName,["ddWeb.service.tool","ddWeb.toast","ddWeb.service.selectorBarTool",require("@ali/ding-api").interface.UserI]).factory("SelectorBar",["tool","toastService","selectorBarTool","UserI",function(e,t,o,r){var n=Class.create({initialize:function(e,t){this.P_setSelectedFunc=e,this.P_getSelectedFunc=t},P_setSelectedFunc:null,P_getSelectedFunc:null,removeHandler:function(e,t){throw new Error("need to be overwrite")},P_beforeAddItem:function(){throw new Error("need to be overwrite")},P_preSelectingHandlerForSelectorPanel:function(){throw new Error("need to be overwrite")},selectingHandlerForSelectorBar:function(e){var r=e.model.permission;return r&&r.unableSelectReason?void t.show(r.unableSelectReason,{type:"information"}):void this._handleAddItem(this.P_getSelectedFunc(),o.convertSearchModelToSelectorBarModel(e))},selectingHandlerForSelectorPanel:function(t){var r=this.P_getSelectedFunc(),t=o.convertPanelModelToSelectorBarModel(t);if(!this.P_preSelectingHandlerForSelectorPanel(r,t)){var n=this.dataIndexOf(r,t,function(t,o){return e.isSamePerson({uid:t.model.uid,text:t.text},{uid:o.model.uid,text:o.text})});n===-1?this._handleAddItem(r,t):r.splice(n,1)}},selectGroupData:function(t){var r=this,n=this.P_getSelectedFunc();t=t.map(function(e){return o.convertPanelModelToSelectorBarModel(e)}),t.forEach(function(t){if(!r.P_preSelectingHandlerForSelectorPanel(n,t)){var o=r.dataIndexOf(n,t,function(t,o){return e.isSamePerson({uid:t.model.uid,text:t.text},{uid:o.model.uid,text:o.text})});o===-1&&r._handleAddItem(n,t)}})},unSelectGroupData:function(t){var r=this,n=this.P_getSelectedFunc();t=t.map(function(e){return o.convertPanelModelToSelectorBarModel(e)}),t.forEach(function(t){var o=r.dataIndexOf(n,t,function(t,o){return e.isSamePerson({uid:t.model.uid,text:t.text},{uid:o.model.uid,text:o.text})});n.splice(o,1)})},dataIndexOf:function(e,t,o){for(var o=o||function(e,t){return e===t},r=-1,n=0;n<e.length;n++)if(o(e[n],t))return n;return r},P_isSelected:function(e,t){return o.isRepeat(e,t)},P_isSelf:function(e){return e===my.getId()},_handleAddItem:function(o,n){var i=this;return console.log(n),this._hasNoUid(n.model)?void r.createUsersByIdentities(this._buildIdentitiesData(n),function(r){return e.isError(r)?void t.show(r.body.reason,{type:"information"}):i._hasNoUid(r.body[0])?void t.show("该用户目前不可访问",{type:"information"}):(i._addUid(n,r.body[0]),void i._handle(o,n))}):void this._handle(o,n)},_addUid:function(e,t){e.model.uid=t.uid},_handle:function(e,r){return o.isRepeat(e,r)?void t.show("不能重复选择",{type:"information"}):void(this.P_beforeAddItem(r)||this._addItem(r))},_buildIdentitiesData:function(e){return[{staffId:e.model.orgStaffId,oid:e.model.orgId,source:0}]},_addItem:function(e){this.P_getSelectedFunc().push(e)},_hasNoUid:function(e){return!e.uid}});return n}]),module.exports=moduleName;
},{"../../../lib/class":198,"../../storage/storage":606,"../../toast/toast":611,"../../tool/tool":616,"../../user/my":635,"../../widget/selectorBar/selectorBarTool":672,"@ali/ding-api":711}],669:[function(require,module,exports){
var Class=require("../../../lib/class");require("../../toast/toast"),require("./SelectorBar"),angular.module("ddWeb.service.SendDingSelectorBar",["ddWeb.toast","ddWeb.service.SelectorBar"]).factory("SendDingSelectorBar",["toastService","SelectorBar",function(e,r){var t=Class.create({initialize:function(e,r){t.superclass.initialize.call(this,e,r)},Extends:r,Statics:{create:function(e,r){var t=new this(e,r);return t}},removeHandler:function(e,r){},P_preSelectingHandlerForSelectorPanel:function(e,r){return!1},P_beforeAddItem:function(e){return!1}});return t}]);

},{"../../../lib/class":198,"../../toast/toast":611,"./SelectorBar":668}],670:[function(require,module,exports){
var Class=require("../../../lib/class");require("../../toast/toast"),require("./SelectorBar"),angular.module("ddWeb.service.TransferSelectorBar",["ddWeb.toast","ddWeb.service.SelectorBar"]).factory("TransferSelectorBar",["toastService","SelectorBar",function(e,r){var t=Class.create({initialize:function(e,r){t.superclass.initialize.call(this,e,r)},Extends:r,Statics:{create:function(e,r){var t=new this(e,r);return t}},removeHandler:function(e,r){},P_preSelectingHandlerForSelectorPanel:function(e,r){return!1},P_beforeAddItem:function(e){return!1}});return t}]);

},{"../../../lib/class":198,"../../toast/toast":611,"./SelectorBar":668}],671:[function(require,module,exports){
require("./CreateGroupSelectorBar"),require("./SendDingSelectorBar"),require("./AddGroupMemberSelectorBar"),require("./ActionType"),require("./TransferSelectorBar"),angular.module("ddWeb.service.selectorBarFactory",["ddWeb.service.CreateGroupSelectorBar","ddWeb.service.SendDingSelectorBar","ddWeb.service.AddGroupMemberSelectorBar","ddWeb.service.ActionType","ddWeb.service.TransferSelectorBar"]).factory("selectorBarFactory",["CreateGroupSelectorBar","SendDingSelectorBar","AddGroupMemberSelectorBar","ActionType","TransferSelectorBar",function(e,r,a,c,t){return{create:function(o,d,n){var i=null;switch(o){case c.CREATEGROUP:i=e.create(d,n);break;case c.ADDGROUPMEMBER:i=a.create(d,n);break;case c.SENDDING:i=r.create(d,n);break;case c.TRANSFER:i=t.create(d,n);break;default:throw new Error("未知的ActionType")}return i}}}]);

},{"./ActionType":665,"./AddGroupMemberSelectorBar":666,"./CreateGroupSelectorBar":667,"./SendDingSelectorBar":669,"./TransferSelectorBar":670}],672:[function(require,module,exports){
require("../../search/searchTool"),require("../../tool/tool"),angular.module("ddWeb.service.selectorBarTool",["ddWeb.service.searchTool","ddWeb.service.tool"]).factory("selectorBarTool",["searchTool","tool",function(e,t){return{focusBar:function(e){$("."+e+" .select2-input").focus()},isRepeat:function(e,o){var r=t.extendDeep(e);return r.push(o),t.hasRepeatItem(r,function(e,o){return t.isSamePerson({uid:e.model.uid,text:e.text},{uid:o.model.uid,text:o.text})})},buildOrgSelectItemData:function(t,o,r,d,u,l){return{text:e.buildText(o,r),model:{uid:t,orgStaffId:d,orgId:u},user:l}},buildFriendSelectItemData:function(t,o,r,d){return{text:e.buildText(o,r),model:{uid:t},user:d}},convertSearchModelToSelectorBarModel:function(t){var o={};return o.id=e.buildId(),o.text=t.text,o.model=t.model,o.user=t.user,o},convertPanelModelToSelectorBarModel:function(t,o){var r={};return r.id=e.buildId(),r.text=t.text,r.model=t.model,r.hide=!!o,r.user=t.user,r},convertUserModelToSelectorBarModel:function(t){var o={};return o.id=e.buildId(),o.text=e.buildText(t.userProfileModel.nick,t.userProfileModel.name),o.model={uid:t.userProfileModel.uid},o.hide=!1,o}}}]);

},{"../../search/searchTool":588,"../../tool/tool":616}],673:[function(require,module,exports){
!function(){function t(t,n){var r=document.createElement("div");r.id="input-textarea-caret-position-mirror-div",document.body.appendChild(r);var i=r.style,d=window.getComputedStyle?getComputedStyle(t):t.currentStyle;i.whiteSpace="pre-wrap","INPUT"!==t.nodeName&&(i.wordWrap="break-word"),i.position="absolute",i.visibility="hidden",e.forEach(function(t){i[t]=d[t]}),o?t.scrollHeight>parseInt(d.height)&&(i.overflowY="scroll"):i.overflow="hidden",r.textContent=t.value.substring(0,n),"INPUT"===t.nodeName&&(r.textContent=r.textContent.replace(/\s/g," "));var a=document.createElement("span");a.textContent=t.value.substring(n)||".",r.appendChild(a);var l={top:a.offsetTop+parseInt(d.borderTopWidth),left:a.offsetLeft+parseInt(d.borderLeftWidth)};return document.body.removeChild(r),l}var e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o=null!=window.mozInnerScreenX;module.exports=t}();

},{}],674:[function(require,module,exports){
function serviceDefine(e,r,o,n){function t(e){e.respond($my,200)}function i(e){e.respond(window.version,200)}function a(e){var o=e.queryOption;r.getUsers(o).then(function(r){e.respond(r,200)}).catch(function(){e.respond(!1,500)})}function s(e){return e.avatarMediaId?o.createImgDomString(e.avatarMediaId):o.createNickDomString(e.nick,e.name)}function g(e){var r=e.queryOption;e.respond(s(r),200)}function u(e){var o=e.queryOption;r.getUserWithExt(o).then(function(r){e.respond(r,200)}).catch(function(){e.respond(!1,500)})}function c(e){var r=e.queryOption;localLog.info(r),e.respond(!0,200)}function d(e){var r=e.queryOption;localLog.error(r),e.respond(!0,200)}function l(e){var r=e.queryOption.gmkey,o=e.queryOption.gokey;n.commLog(r,o,function(r){e.respond({},r.code)})}function m(){var r=e.getHost();r.register("getMyUser",t),r.register("getHostVersion",i),r.register("getUsers",a),r.register("getUserAvatar",g),r.register("getUserWithExt",u),r.register("localLogInfo",c),r.register("localLogError",d),r.register("lwlogCommLog",l)}return{init:m}}var moduleName=module.exports="ddWeb.windowTalkHost.hostWindowCommonApi",serviceName="hostWindowCommonApi",$my=require("../user/my");require("../widget/avatar");var localLog=require("../log/localLog.js");angular.module(moduleName,[require("./windowTalkHostManager"),require("../user/userManager"),require("../log/lwlog.js")]).factory(serviceName,["windowTalkHostManager","userManager","avatarService","lwlog",serviceDefine]);

},{"../log/localLog.js":421,"../log/lwlog.js":424,"../user/my":635,"../user/userManager":641,"../widget/avatar":656,"./windowTalkHostManager":675}],675:[function(require,module,exports){
var moduleName=module.exports="ddWeb.videoConf.windowTalkHostManager",ua=require("../ua");angular.module(moduleName,[]).factory("windowTalkHostManager",[function(){function e(){return r}function o(){r.unregisterAll()}if(ua.isDesktop)var a=require("@ali/window-talk"),r=a.hostWindow;return{getHost:e,destroy:o}}]);

},{"../ua":621,"@ali/window-talk":752}],676:[function(require,module,exports){
"use strict";var Uri=require("jsuri"),PROTOCAL="https:",Aladin=function(){function e(e,r,t){this.backupServer=e,this.storage=r,this.fetchServerList=t,this.serversFromRemote=this.getFromLocal(),this.remoteServerIndex=-1}return e.prototype.getCurrentHTTPOrigin=function(){return this.getCurrentWSURI().then(function(e){var r=new Uri(e);return PROTOCAL+"//"+r.host()})},e.prototype.getNewWSURI=function(){var e=this;return this.pickOneServer().then(function(r){return e.currentWSURI=r,r})},e.prototype.getCurrentWSURI=function(){var e=this;return this.currentWSURI?Promise.resolve(this.currentWSURI):this.pickOneServer().then(function(r){return e.currentWSURI=r,r})},e.prototype.getRemoteServers=function(){var e=this;return this.fetchServerList.fetch().then(function(r){return r.length>0?(e.serversFromRemote=r,e.saveToLocal(),e.serversFromRemote):Promise.reject(new Error("get remote server fail, length is 0"))}).catch(function(e){return Promise.reject(e)})},e.prototype.pickOneServer=function(){var e=this;if(0===this.serversFromRemote.length)return Array.isArray(this.backupServer)&&this.backupServer.length>0?(this.getRemoteServers().catch(function(){}),this.remoteServerIndex=-1,Promise.resolve(this.randomPickFromBackup())):this.getRemoteServers().then(function(){return e.remoteServerIndex=0,e.serversFromRemote[e.remoteServerIndex]});if(this.remoteServerIndex++,this.remoteServerIndex>=this.serversFromRemote.length&&(this.remoteServerIndex=-1,this.getRemoteServers()),this.remoteServerIndex===-1){if(this.backupServer.length>0)return Promise.resolve(this.randomPickFromBackup());this.remoteServerIndex=0}return Promise.resolve(this.serversFromRemote[this.remoteServerIndex])},e.prototype.randomPickFromBackup=function(){if(this.backupServer.length>0){var e=this.backupServer.length,r=Math.floor(Math.random()*e);return this.backupServer[r]}return""},e.prototype.saveToLocal=function(){this.storage.setItem(JSON.stringify(this.serversFromRemote))},e.prototype.getFromLocal=function(){var e=this.storage.getItem();if(!e)return[];try{var r=JSON.parse(e);return Array.isArray(r)?r:[]}catch(e){return[]}},e}();exports.Aladin=Aladin;

},{"jsuri":901}],677:[function(require,module,exports){
module.exports=require("./lib/amrnb");

},{"./lib/amrnb":678}],678:[function(require,module,exports){
var AMR=function(){function globalEval(e){eval.call(null,e)}function assert(e,r){e||abort("Assertion failed: "+r)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,r,n,t){switch(n=n||"i8","*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":HEAP8[e>>0]=r;break;case"i8":HEAP8[e>>0]=r;break;case"i16":HEAP16[e>>1]=r;break;case"i32":HEAP32[e>>2]=r;break;case"i64":tempI64=[r>>>0,(tempDouble=r,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=r;break;case"double":HEAPF64[e>>3]=r;break;default:abort("invalid type for setValue: "+n)}}function getValue(e,r,n){switch(r=r||"i8","*"===r.charAt(r.length-1)&&(r="i32"),r){case"i1":return HEAP8[e>>0];case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":return HEAP32[e>>2];case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+r)}return null}function allocate(e,r,n,t){var i,o;"number"==typeof e?(i=!0,o=e):(i=!1,o=e.length);var a,s="string"==typeof r?r:null;if(a=n==ALLOC_NONE?t:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===n?ALLOC_STATIC:n](Math.max(o,s?1:r.length)),i){var l,t=a;for(assert(0==(3&a)),l=a+(o&-4);t<l;t+=4)HEAP32[t>>2]=0;for(l=a+o;t<l;)HEAP8[t++>>0]=0;return a}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,a):HEAPU8.set(new Uint8Array(e),a),a;for(var f,u,c,d=0;d<o;){var h=e[d];"function"==typeof h&&(h=Runtime.getFunctionIndex(h)),f=s||r[d],0!==f?("i64"==f&&(f="i32"),setValue(a+d,h,f),c!==f&&(u=Runtime.getNativeTypeSize(f),c=f),d+=u):d++}return a}function getMemory(e){return staticSealed?"undefined"!=typeof _sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,r){if(0===r||!e)return"";for(var n,t=0,i=0;;){if(n=HEAPU8[e+i>>0],t|=n,0==n&&!r)break;if(i++,r&&i==r)break}r||(r=i);var o="";if(t<128){for(var a,s=1024;r>0;)a=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(r,s))),o=o?o+a:a,e+=s,r-=s;return o}return Module.UTF8ToString(e)}function AsciiToString(e){for(var r="";;){var n=HEAP8[e++>>0];if(!n)return r;r+=String.fromCharCode(n)}}function stringToAscii(e,r){return writeAsciiToMemory(e,r,!1)}function UTF8ArrayToString(e,r){for(var n,t,i,o,a,s,l="";;){if(n=e[r++],!n)return l;if(128&n)if(t=63&e[r++],192!=(224&n))if(i=63&e[r++],224==(240&n)?n=(15&n)<<12|t<<6|i:(o=63&e[r++],240==(248&n)?n=(7&n)<<18|t<<12|i<<6|o:(a=63&e[r++],248==(252&n)?n=(3&n)<<24|t<<18|i<<12|o<<6|a:(s=63&e[r++],n=(1&n)<<30|t<<24|i<<18|o<<12|a<<6|s))),n<65536)l+=String.fromCharCode(n);else{var f=n-65536;l+=String.fromCharCode(55296|f>>10,56320|1023&f)}else l+=String.fromCharCode((31&n)<<6|t);else l+=String.fromCharCode(n)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,r,n,t){if(!(t>0))return 0;for(var i=n,o=n+t-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=o)break;r[n++]=s}else if(s<=2047){if(n+1>=o)break;r[n++]=192|s>>6,r[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;r[n++]=224|s>>12,r[n++]=128|s>>6&63,r[n++]=128|63&s}else if(s<=2097151){if(n+3>=o)break;r[n++]=240|s>>18,r[n++]=128|s>>12&63,r[n++]=128|s>>6&63,r[n++]=128|63&s}else if(s<=67108863){if(n+4>=o)break;r[n++]=248|s>>24,r[n++]=128|s>>18&63,r[n++]=128|s>>12&63,r[n++]=128|s>>6&63,r[n++]=128|63&s}else{if(n+5>=o)break;r[n++]=252|s>>30,r[n++]=128|s>>24&63,r[n++]=128|s>>18&63,r[n++]=128|s>>12&63,r[n++]=128|s>>6&63,r[n++]=128|63&s}}return r[n]=0,n-i}function stringToUTF8(e,r,n){return stringToUTF8Array(e,HEAPU8,r,n)}function lengthBytesUTF8(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++n)),t<=127?++r:r+=t<=2047?2:t<=65535?3:t<=2097151?4:t<=67108863?5:6}return r}function UTF16ToString(e){for(var r=0,n="";;){var t=HEAP16[e+2*r>>1];if(0==t)return n;++r,n+=String.fromCharCode(t)}}function stringToUTF16(e,r,n){if(void 0===n&&(n=2147483647),n<2)return 0;n-=2;for(var t=r,i=n<2*e.length?n/2:e.length,o=0;o<i;++o){var a=e.charCodeAt(o);HEAP16[r>>1]=a,r+=2}return HEAP16[r>>1]=0,r-t}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var r=0,n="";;){var t=HEAP32[e+4*r>>2];if(0==t)return n;if(++r,t>=65536){var i=t-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(t)}}function stringToUTF32(e,r,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var t=r,i=t+n-4,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343){var s=e.charCodeAt(++o);a=65536+((1023&a)<<10)|1023&s}if(HEAP32[r>>2]=a,r+=4,r+4>i)break}return HEAP32[r>>2]=0,r-t}function lengthBytesUTF32(e){for(var r=0,n=0;n<e.length;++n){var t=e.charCodeAt(n);t>=55296&&t<=57343&&++n,r+=4}return r}function demangle(e){function r(){s++,"K"===e[s]&&s++;for(var r=[];"E"!==e[s];)if("S"!==e[s])if("C"!==e[s]){var n=parseInt(e.substr(s)),t=n.toString().length;if(!n||!t){s--;break}var i=e.substr(s+t,n);r.push(i),f.push(i),s+=t+n}else r.push(r[r.length-1]),s+=2;else{s++;var o=e.indexOf("_",s),a=e.substring(s,o)||0;r.push(f[a]||"?"),s=o+1}return s++,r}function n(t,i,o){function a(){return"("+d.join(", ")+")"}i=i||1/0;var f,c="",d=[];if("N"===e[s]){if(f=r().join("::"),i--,0===i)return t?[f]:f}else{("K"===e[s]||u&&"L"===e[s])&&s++;var h=parseInt(e.substr(s));if(h){var w=h.toString().length;f=e.substr(s+w,h),s+=w+h}}if(u=!1,"I"===e[s]){s++;var m=n(!0),E=n(!0,1,!0);c+=E[0]+" "+f+"<"+m.join(", ")+">"}else c=f;e:for(;s<e.length&&i-- >0;){var p=e[s++];if(p in l)d.push(l[p]);else switch(p){case"P":d.push(n(!0,1,!0)[0]+"*");break;case"R":d.push(n(!0,1,!0)[0]+"&");break;case"L":s++;var S=e.indexOf("E",s),h=S-s;d.push(e.substr(s,h)),s+=h+2;break;case"A":var h=parseInt(e.substr(s));if(s+=h.toString().length,"_"!==e[s])throw"?";s++,d.push(n(!0,1,!0)[0]+" ["+h+"]");break;case"E":break e;default:c+="?"+p;break e}}return o||1!==d.length||"void"!==d[0]||(d=[]),t?(c&&d.push(c+"?"),d):c+a()}var t=!!Module.___cxa_demangle;if(t)try{var i=_malloc(e.length);writeStringToMemory(e.substr(1),i);var o=_malloc(4),a=Module.___cxa_demangle(i,0,0,o);if(0===getValue(o,"i32")&&a)return Pointer_stringify(a)}catch(e){}finally{i&&_free(i),o&&_free(o),a&&_free(a)}var s=3,l={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},f=[],u=!0,c=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}c=n()}catch(e){c+="?"}return c.indexOf("?")>=0&&!t&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),c}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var r=demangle(e);return e===r?e:e+" ["+r+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}function enlargeMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+TOTAL_MEMORY+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs.")}function callRuntimeCallbacks(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var n=r.func;"number"==typeof n?void 0===r.arg?Runtime.dynCall("v",n):Runtime.dynCall("vi",n,[r.arg]):n(void 0===r.arg?null:r.arg)}else r()}}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,r,n){var t=n>0?n:lengthBytesUTF8(e)+1,i=new Array(t),o=stringToUTF8Array(e,i,0,i.length);return r&&(i.length=o),i}function intArrayToString(e){for(var r=[],n=0;n<e.length;n++){var t=e[n];t>255&&(t&=255),r.push(String.fromCharCode(t))}return r.join("")}function writeStringToMemory(e,r,n){for(var t=intArrayFromString(e,n),i=0;i<t.length;){var o=t[i];HEAP8[r+i>>0]=o,i+=1}}function writeArrayToMemory(e,r){for(var n=0;n<e.length;n++)HEAP8[r++>>0]=e[n]}function writeAsciiToMemory(e,r,n){for(var t=0;t<e.length;++t)HEAP8[r++>>0]=e.charCodeAt(t);n||(HEAP8[r>>0]=0)}function unSign(e,r,n){return e>=0?e:r<=32?2*Math.abs(1<<r-1)+e:Math.pow(2,r)+e}function reSign(e,r,n){if(e<=0)return e;var t=r<=32?Math.abs(1<<r-1):Math.pow(2,r-1);return e>=t&&(r<=32||e>t)&&(e=-2*t+e),e}function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var r=dependenciesFulfilled;dependenciesFulfilled=null,r()}}function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _sbrk(e){var r=_sbrk;r.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),r.called=!0,assert(Runtime.dynamicAlloc),r.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var n=DYNAMICTOP;if(0!=e){var t=r.alloc(e);if(!t)return-1>>>0}return n}function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator?navigator.hardwareConcurrency||1:1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function _emscripten_memcpy_big(e,r,n){return HEAPU8.set(HEAPU8.subarray(r,r+n),e),e}function _abort(){Module.abort()}function _emscripten_set_main_loop_timing(e,r){function n(e){e.source===window&&e.data===i&&(e.stopPropagation(),t.shift()())}if(Browser.mainLoop.timingMode=e,Browser.mainLoop.timingValue=r,!Browser.mainLoop.func)return 1;if(0==e)Browser.mainLoop.scheduler=function(){setTimeout(Browser.mainLoop.runner,r)},Browser.mainLoop.method="timeout";else if(1==e)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(2==e){if(!window.setImmediate){var t=[],i="__emcc";window.addEventListener("message",n,!0),window.setImmediate=function(e){t.push(e),window.postMessage(i,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_set_main_loop(e,r,n,t,i){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=e,Browser.mainLoop.arg=t;var o=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var r=Date.now(),n=Browser.mainLoop.queue.shift();if(n.func(n.arg),Browser.mainLoop.remainingBlockers){var i=Browser.mainLoop.remainingBlockers,a=i%1==0?i-1:Math.floor(i);n.counted?Browser.mainLoop.remainingBlockers=a:(a+=.5,Browser.mainLoop.remainingBlockers=(8*i+a)/9)}return console.log('main loop blocker "'+n.name+'" took '+(Date.now()-r)+" ms"),Browser.mainLoop.updateStatus(),void setTimeout(Browser.mainLoop.runner,0)}if(!(o<Browser.mainLoop.currentlyRunningMainloop)){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,1==Browser.mainLoop.timingMode&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0)return void Browser.mainLoop.scheduler();"timeout"===Browser.mainLoop.method&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(function(){"undefined"!=typeof t?Runtime.dynCall("vi",e,[t]):Runtime.dynCall("v",e)}),o<Browser.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},i||(r&&r>0?_emscripten_set_main_loop_timing(0,1e3/r):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),n)throw"SimulateInfiniteLoop"}function _time(e){var r=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=r),r}function _pthread_self(){return 0}function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function r(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),r()},1)):r()))}function exit(e,r){if(!r||!Module.noExitRuntime)throw Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_SHELL&&"function"==typeof quit&&quit(e),new ExitStatus(e)}function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var r="\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.",n="abort("+e+") at "+stackTrace()+r;throw abortDecorators&&abortDecorators.forEach(function(r){n=r(n,e)}),n}var AMR={toWAV:function(e){var r=this._decode(e);if(!r)return null;var n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength),t=new Uint8Array(n.length+this.WAV_HEADER_SIZE),i=0,o=function(e){var r=new Uint8Array(2);new Int16Array(r.buffer)[0]=e,t.set(r,i),i+=2},a=function(e){var r=new Uint8Array(4);new Int32Array(r.buffer)[0]=e,t.set(r,i),i+=4},s=function(e){var r=new TextEncoder("utf-8").encode(e);t.set(r,i),i+=r.length};s("RIFF"),a(36+n.length),s("WAVEfmt "),a(16);var l=16,f=8e3,u=1,c=l/8*u,d=c*f;return o(1),o(1),a(f),a(d),o(c),o(l),s("data"),a(n.length),t.set(n,i),t},decode:function(e){var r=this._decode(e);if(!r)return null;for(var n=new Float32Array(r.length),t=0;t<n.length;t++)n[t]=r[t]/32768;return n},_decode:function(e){if(String.fromCharCode.apply(null,e.subarray(0,this.AMR_HEADER.length))!==this.AMR_HEADER)return null;var r=this.Decoder_Interface_init();if(!r)return null;var n=new Int16Array(Math.floor(e.length/6*this.PCM_BUFFER_COUNT)),t=Module._malloc(this.AMR_BUFFER_COUNT),i=new Uint8Array(Module.HEAPU8.buffer,t,this.AMR_BUFFER_COUNT);t=Module._malloc(2*this.PCM_BUFFER_COUNT);for(var o=new Int16Array(Module.HEAPU8.buffer,t,this.PCM_BUFFER_COUNT),a=6,s=0;a+1<e.length&&s+1<n.length;){var l=this.SIZES[e[a]>>3&15];if(a+l+1>e.length)break;if(i.set(e.subarray(a,a+l+1)),this.Decoder_Interface_Decode(r,i.byteOffset,o.byteOffset,0),s+this.PCM_BUFFER_COUNT>n.length){var f=new Int16Array(2*n.length);f.set(n.subarray(0,s)),n=f}n.set(o,s),s+=this.PCM_BUFFER_COUNT,a+=l+1}return Module._free(i.byteOffset),Module._free(o.byteOffset),this.Decoder_Interface_exit(r),n.subarray(0,s)},encode:function(e,r,n){if(r<8e3)return console.error("pcmSampleRate should not be less than 8000."),null;"undefined"==typeof n&&(n=this.Mode.MR795);var t=this.Encoder_Interface_init();if(!t)return null;var i=Module._malloc(2*this.PCM_BUFFER_COUNT),o=new Int16Array(Module.HEAPU8.buffer,i,this.PCM_BUFFER_COUNT);i=Module._malloc(this.AMR_BUFFER_COUNT);for(var a=new Uint8Array(Module.HEAPU8.buffer,i,this.AMR_BUFFER_COUNT),s=r/8e3,l=Math.floor(e.length/s),f=new Int16Array(l),u=0;u<l;u++)f[u]=32767*e[Math.floor(u*s)];var c=this.SIZES[n]+1,d=new Uint8Array(Math.ceil(l/this.PCM_BUFFER_COUNT*c)+this.AMR_HEADER.length);d.set(new TextEncoder("utf-8").encode(this.AMR_HEADER));for(var h=0,w=this.AMR_HEADER.length;h+this.PCM_BUFFER_COUNT<f.length&&w+c<d.length;){o.set(f.subarray(h,h+this.PCM_BUFFER_COUNT));var m=this.Encoder_Interface_Encode(t,n,o.byteOffset,a.byteOffset,0);if(m!=c){console.error([m,c]);break}d.set(a.subarray(0,m),w),h+=this.PCM_BUFFER_COUNT,w+=m}return Module._free(o.byteOffset),Module._free(a.byteOffset),this.Encoder_Interface_exit(t),d.subarray(0,w)},Decoder_Interface_init:function(){return console.warn("Decoder_Interface_init not initialized."),0},Decoder_Interface_exit:function(e){console.warn("Decoder_Interface_exit not initialized.")},Decoder_Interface_Decode:function(e,r,n,t){console.warn("Decoder_Interface_Decode not initialized.")},Encoder_Interface_init:function(e){return console.warn("Encoder_Interface_init not initialized."),0},Encoder_Interface_exit:function(e){console.warn("Encoder_Interface_exit not initialized.")},Encoder_Interface_Encode:function(e,r,n,t,i){console.warn("Encoder_Interface_Encode not initialized.")},Mode:{MR475:0,MR515:1,MR59:2,MR67:3,MR74:4,MR795:5,MR102:6,MR122:7,MRDTX:8},SIZES:[12,13,15,17,19,20,26,31,5,6,5,5,0,0,0,0],AMR_BUFFER_COUNT:32,PCM_BUFFER_COUNT:160,AMR_HEADER:"#!AMR\n",WAV_HEADER_SIZE:44},Module={canvas:{},print:function(e){console.log(e)},_main:function(){return AMR.Decoder_Interface_init=Module._Decoder_Interface_init,AMR.Decoder_Interface_exit=Module._Decoder_Interface_exit,AMR.Decoder_Interface_Decode=Module._Decoder_Interface_Decode,AMR.Encoder_Interface_init=Module._Encoder_Interface_init,AMR.Encoder_Interface_exit=Module._Encoder_Interface_exit,AMR.Encoder_Interface_Encode=Module._Encoder_Interface_Encode,0}},Module;Module||(Module=("undefined"!=typeof Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var r=read(e,"binary");return assert("object"==typeof r),r},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},"undefined"!=typeof arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),"undefined"==typeof Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var r=parseInt(e.substr(1));return assert(r%8===0),r/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,r){return"double"===r||"i64"===r?7&e&&(assert(4===(7&e)),e+=4):assert(0===(3&e)),e},getAlignSize:function(e,r,n){return n||"i64"!=e&&"double"!=e?e?Math.min(r||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(r,8):8},dynCall:function(e,r,n){return n&&n.length?(n.splice||(n=Array.prototype.slice.call(n)),n.splice(0,0,r),Module["dynCall_"+e].apply(null,n)):Module["dynCall_"+e].call(null,r)},functionPointers:[],addFunction:function(e){for(var r=0;r<Runtime.functionPointers.length;r++)if(!Runtime.functionPointers[r])return Runtime.functionPointers[r]=e,2*(1+r);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,r){assert(r),Runtime.funcWrappers[r]||(Runtime.funcWrappers[r]={});var n=Runtime.funcWrappers[r];return n[e]||(n[e]=function(){return Runtime.dynCall(r,e,arguments)}),n[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var r=STACKTOP;return STACKTOP=STACKTOP+e|0,STACKTOP=STACKTOP+15&-16,r},staticAlloc:function(e){var r=STATICTOP;return STATICTOP=STATICTOP+e|0,STATICTOP=STATICTOP+15&-16,r},dynamicAlloc:function(e){var r=DYNAMICTOP;if(DYNAMICTOP=DYNAMICTOP+e|0,DYNAMICTOP=DYNAMICTOP+15&-16,DYNAMICTOP>=TOTAL_MEMORY){var n=enlargeMemory();if(!n)return DYNAMICTOP=r,0}return r},alignMemory:function(e,r){var n=e=Math.ceil(e/(r?r:16))*(r?r:16);return n},makeBigInt:function(e,r,n){var t=n?+(e>>>0)+4294967296*+(r>>>0):+(e>>>0)+4294967296*+(0|r);return t},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9,globalScope=this,cwrap,ccall;!function(){function parseJSFunc(e){var r=e.toString().match(sourceRegex).slice(1);return{arguments:r[0],body:r[1],returnValue:r[2]}}var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var r=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,r),r},stringToC:function(e){var r=0;return null!==e&&void 0!==e&&0!==e&&(r=Runtime.stackAlloc((e.length<<2)+1),writeStringToMemory(e,r)),r}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,r,n,t,i){var o=getCFunc(e),a=[],s=0;if(t)for(var l=0;l<t.length;l++){var f=toC[n[l]];f?(0===s&&(s=Runtime.stackSave()),a[l]=f(t[l])):a[l]=t[l]}var u=o.apply(null,a);if("string"===r&&(u=Pointer_stringify(u)),0!==s){if(i&&i.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return u};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/,JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,r){return"$"+r}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;for(var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0,TOTAL_STACK=Module.TOTAL_STACK||65536,TOTAL_MEMORY=Module.TOTAL_MEMORY||524288,totalMemory=65536;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;totalMemory!==TOTAL_MEMORY&&(Module.printErr("increasing TOTAL_MEMORY to "+totalMemory+" to be compliant with the asm.js spec (and given that TOTAL_STACK="+TOTAL_STACK+")"),TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var buffer;buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&Math.imul(4294967295,5)===-5||(Math.imul=function(e,r){var n=e>>>16,t=65535&e,i=r>>>16,o=65535&r;return t*o+(n*o+t*i<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var r=0;r<32;r++)if(e&1<<31-r)return r;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[];STATIC_BASE=8,STATICTOP=STATIC_BASE+31776,__ATINIT__.push(),allocate([154,14,0,0,188,14,0,0,226,14,0,0,8,15,0,0,46,15,0,0,84,15,0,0,130,15,0,0,208,15,0,0,66,16,0,0,108,16,0,0,42,17,0,0,248,17,0,0,228,18,0,0,240,19,0,0,24,21,0,0,86,22,0,0,238,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,13,0,15,0,17,0,19,0,20,0,26,0,31,0,5,0,6,0,5,0,5,0,0,0,0,0,0,0,0,0,1,252,146,252,36,253,182,253,72,254,218,254,108,255,0,0,0,0,32,78,32,78,32,78,32,78,32,78,80,70,0,64,0,32,0,0,0,0,255,127,112,125,112,125,112,125,112,125,112,125,153,89,255,127,112,125,112,125,102,102,102,38,153,25,153,25,154,89,185,62,232,43,188,30,132,21,16,15,139,10,97,7,42,5,157,3,0,96,0,72,0,54,128,40,96,30,200,22,22,17,209,12,157,9,54,7,102,70,184,38,75,21,182,11,113,6,139,3,243,1,18,1,151,0,83,0,154,89,185,62,232,43,188,30,132,21,16,15,139,10,97,7,42,5,157,3,44,3,128,0,30,2,140,0,57,11,111,4,218,8,74,13,19,8,51,2,133,49,135,2,36,16,6,7,225,21,165,20,9,30,118,1,151,14,185,1,160,42,78,10,31,46,190,9,10,80,29,3,98,20,163,2,68,26,162,32,162,20,160,6,208,5,172,1,250,22,196,1,212,20,232,15,255,13,244,4,165,9,133,3,22,62,237,3,134,58,199,12,91,40,250,18,51,14,229,7,36,10,67,3,72,48,28,19,174,47,168,6,120,52,68,6,158,35,37,9,128,15,2,6,103,21,208,38,211,14,161,1,79,5,158,1,56,14,33,6,59,31,213,13,141,44,133,2,104,33,123,2,216,15,97,5,224,64,236,23,156,44,188,2,215,7,95,2,127,48,42,6,111,43,46,18,112,53,172,6,214,46,205,4,60,31,129,28,175,51,83,22,124,9,135,4,25,8,149,7,74,24,233,23,218,13,12,7,221,34,10,7,231,33,44,6,111,54,248,13,1,52,93,24,254,23,106,4,106,23,198,6,61,55,54,18,7,44,249,12,194,47,15,6,107,54,199,11,217,19,224,40,228,36,50,26,153,6,171,2,156,5,26,5,44,28,93,15,242,15,153,10,113,30,192,2,222,58,34,3,155,24,92,20,241,16,237,20,20,26,29,2,174,23,114,2,83,53,116,14,234,44,104,9,28,63,204,2,145,47,239,2,129,31,225,44,170,24,208,8,114,17,240,1,125,28,11,2,229,39,249,14,202,32,221,11,211,32,198,3,148,55,88,7,255,33,33,21,11,64,255,18,252,28,187,7,201,23,206,4,155,36,46,17,222,56,35,13,247,52,57,11,107,51,185,5,158,21,142,6,82,51,179,57,170,28,88,2,38,5,36,2,156,16,211,13,60,39,60,9,91,41,110,2,32,51,157,2,46,55,198,13,175,19,56,38,234,59,107,2,43,12,78,2,58,64,197,11,182,60,72,16,177,60,75,6,45,60,204,4,151,62,83,36,110,29,112,19,198,7,189,4,183,44,133,4,224,48,143,21,3,37,84,10,36,30,242,7,224,51,191,8,139,62,229,19,130,31,105,26,99,39,133,5,138,19,43,9,235,48,87,23,22,59,83,11,88,71,241,8,211,61,223,9,137,63,14,40,59,57,55,44,5,7,81,1,43,12,141,1,182,13,112,11,240,17,110,10,95,29,116,2,151,44,144,2,58,23,131,9,144,25,199,28,46,32,61,3,160,15,95,3,48,39,188,9,185,62,223,13,28,71,30,4,215,23,174,5,252,22,220,30,64,73,140,13,72,7,32,2,238,35,171,2,103,45,64,16,242,17,108,6,86,12,133,4,81,62,0,10,61,48,149,14,12,68,140,20,218,23,212,7,101,11,206,6,83,64,137,20,147,65,144,6,53,67,223,6,165,18,159,12,218,28,147,23,6,56,28,39,195,15,186,1,98,16,202,1,254,35,194,8,3,29,121,16,60,50,33,3,178,43,57,3,104,49,36,8,156,50,154,25,33,37,228,3,229,25,217,3,41,41,198,9,185,59,142,19,58,49,7,8,124,60,117,6,66,63,9,27,151,55,158,22,66,10,60,3,239,21,150,6,95,53,146,22,84,14,18,6,49,44,73,10,42,38,179,5,179,54,125,18,25,62,147,24,134,24,78,7,230,30,237,8,82,66,219,17,192,64,9,15,144,59,7,9,151,62,172,12,123,56,144,69,71,46,203,10,189,7,127,5,120,5,108,3,239,16,219,13,39,17,114,16,29,21,168,2,53,68,13,3,101,25,254,19,155,31,253,29,187,28,26,3,141,32,158,4,193,58,88,12,80,58,223,11,197,79,112,3,209,56,84,3,49,48,116,57,248,26,128,7,129,16,165,3,26,32,63,4,163,41,244,15,98,39,181,17,175,10,72,3,177,80,57,4,71,65,78,23,1,62,226,17,119,42,14,10,189,14,142,4,183,56,204,15,219,80,67,10,115,59,174,10,170,59,138,8,113,24,154,12,69,51,24,76,28,28,162,3,158,9,82,6,163,17,20,12,28,54,181,16,220,40,65,3,187,67,42,3,251,65,241,8,186,60,25,32,35,53,148,6,125,12,42,7,76,62,4,11,196,61,207,20,110,66,134,9,148,65,46,5,55,61,220,31,206,45,108,33,178,14,5,8,91,37,37,5,249,52,134,26,195,47,144,7,244,31,222,13,231,51,242,6,171,63,199,25,163,63,78,30,73,33,247,9,57,28,85,10,93,71,65,29,245,65,200,8,218,69,68,11,113,67,0,13,201,36,194,78,34,43,128,32,6,5,108,2,151,5,71,2,105,23,241,8,138,15,42,14,24,20,240,2,97,52,62,3,177,21,44,11,244,45,20,23,241,41,48,2,70,21,52,2,9,52,192,11,170,46,99,14,175,77,30,3,97,38,216,2,95,53,44,34,223,28,237,11,211,9,10,3,162,23,65,3,69,25,210,19,113,32,159,9,253,23,73,7,204,59,238,4,72,56,195,17,95,53,163,17,65,12,167,11,175,9,235,4,240,58,39,18,22,60,47,10,156,56,88,9,174,48,233,9,115,29,133,11,109,50,28,47,92,21,172,2,69,12,210,2,217,19,250,4,188,49,104,16,198,59,169,2,139,30,80,2,134,25,229,7,94,64,33,34,52,52,114,3,21,21,131,3,64,57,130,8,149,57,131,16,190,55,18,5,105,54,237,7,117,60,58,29,199,61,220,17,217,9,221,7,198,19,12,7,39,20,182,25,218,27,13,14,168,42,75,6,209,45,172,6,7,66,127,13,140,63,240,25,90,36,239,3,153,36,58,8,238,74,173,19,153,48,173,16,47,62,52,5,253,59,184,13,122,46,61,55,229,62,198,26,218,7,225,2,195,14,93,3,190,44,64,11,236,13,212,13,97,35,217,4,103,48,128,3,98,33,21,18,41,45,144,22,193,31,77,2,26,32,76,2,40,73,171,14,173,50,77,12,113,61,246,2,250,64,242,2,118,59,130,43,255,61,160,8,65,18,98,2,234,39,166,2,153,59,50,16,97,22,255,12,185,32,134,6,150,77,17,9,90,60,135,21,230,54,105,21,96,22,72,11,156,29,66,5,48,56,205,20,108,63,110,15,14,59,160,14,202,59,155,5,5,57,230,15,13,48,80,61,193,29,163,6,122,8,116,3,107,17,215,17,174,70,234,12,198,49,47,3,78,58,139,3,168,58,185,16,158,60,176,32,74,70,63,4,54,9,97,3,153,63,203,14,63,61,244,17,228,63,254,5,200,64,162,8,193,65,225,37,57,62,161,17,205,12,61,4,171,37,139,8,197,46,180,23,239,35,110,17,251,34,93,6,49,40,246,11,97,64,35,20,106,60,154,27,110,53,239,9,153,20,229,8,106,65,69,24,15,65,80,13,80,79,35,13,0,73,193,7,92,55,67,50,50,59,87,61,121,17,252,3,145,6,118,3,215,16,205,16,248,34,73,14,5,23,123,4,127,45,172,5,14,62,179,8,230,17,244,25,17,27,181,4,76,24,31,3,127,48,81,13,96,62,37,15,147,77,61,8,217,37,93,8,150,57,126,34,144,56,39,10,25,7,214,4,91,30,45,3,135,74,58,17,178,21,16,8,103,14,28,11,27,68,208,8,57,65,134,17,71,63,12,21,92,31,203,10,77,13,71,8,18,68,101,21,130,53,226,10,167,77,160,10,138,35,40,15,252,70,225,18,184,67,175,47,252,19,228,3,71,19,220,3,160,38,9,12,126,23,251,20,9,62,131,6,213,32,159,4,239,58,62,9,65,77,90,27,187,46,26,6,111,28,104,4,219,65,252,5,146,61,5,21,116,57,17,8,137,78,107,8,6,67,53,32,247,69,174,24,91,21,224,5,4,16,14,10,13,68,154,26,41,22,72,11,252,64,54,13,15,35,39,7,191,78,129,18,94,76,126,28,2,26,221,10,208,44,249,12,197,75,190,19,190,73,114,18,55,64,69,9,206,79,34,17,89,44,158,103,73,45,252,11,50,11,30,6,244,19,46,4,142,37,51,19,75,19,208,13,117,29,110,3,237,80,83,3,26,27,43,17,159,65,53,30,153,39,251,3,117,38,196,3,134,60,115,15,99,60,102,13,175,73,214,3,152,78,195,3,236,65,87,50,254,55,104,16,199,25,196,4,6,36,46,3,46,66,14,20,29,22,34,19,112,21,6,7,34,79,122,15,109,66,34,24,9,70,41,23,149,36,92,13,50,29,179,7,81,76,57,20,59,74,190,11,70,64,204,14,198,62,63,9,216,33,183,10,229,36,246,102,104,42,7,5,227,13,241,3,230,21,38,14,253,75,136,21,165,48,29,3,154,80,143,3,67,60,250,11,141,66,35,40,195,73,73,10,73,15,244,4,63,76,43,13,132,70,110,20,91,75,142,6,52,76,100,12,152,70,2,42,241,64,189,26,62,12,250,8,117,42,133,9,220,60,1,27,53,49,53,13,108,43,225,12,122,65,120,9,165,73,59,26,19,67,159,38,199,49,45,10,233,34,68,12,89,74,84,30,171,71,40,15,251,79,98,14,146,76,52,13,244,50,173,75,30,41,84,90,1,0,3,0,0,0,1,0,2,0,4,0,82,120,26,113,81,106,240,99,241,93,78,88,2,83,7,78,89,73,242,68,51,115,174,103,80,93,251,83,149,75,6,68,56,61,25,55,150,49,161,44,205,76,21,46,166,27,151,16,244,9,249,5,149,3,38,2,74,1,198,0,249,79,26,80,59,80,92,80,125,80,164,80,197,80,236,80,13,81,52,81,85,81,124,81,157,81,196,81,236,81,19,82,58,82,97,82,137,82,176,82,215,82,255,82,38,83,84,83,123,83,169,83,208,83,254,83,38,84,84,84,129,84,175,84,221,84,11,85,57,85,103,85,149,85,201,85,247,85,43,86,89,86,142,86,194,86,247,86,43,87,95,87,148,87,200,87,3,88,56,88,115,88,174,88,233,88,36,89,95,89,154,89,219,89,22,90,88,90,153,90,212,90,28,91,94,91,159,91,231,91,48,92,113,92,192,92,8,93,80,93,159,93,237,93,60,94,138,94,224,94,46,95,131,95,217,95,52,96,138,96,229,96,72,97,163,97,6,98,104,98,209,98,51,99,156,99,11,100,123,100,234,100,96,101,214,101,76,102,201,102,76,103,207,103,82,104,220,104,108,105,252,105,147,106,48,107,205,107,113,108,27,109,204,109,125,110,59,111,249,111,197,112,150,113,111,114,84,115,64,116,50,117,50,118,63,119,88,120,225,122,255,127,255,127,255,127,255,127,255,127,255,127,255,127,225,122,88,120,63,119,50,118,50,117,64,116,84,115,111,114,150,113,197,112,249,111,59,111,125,110,204,109,27,109,113,108,205,107,48,107,147,106,252,105,108,105,220,104,82,104,207,103,76,103,201,102,76,102,214,101,96,101,234,100,123,100,11,100,156,99,51,99,209,98,104,98,6,98,163,97,72,97,229,96,138,96,52,96,217,95,131,95,46,95,224,94,138,94,60,94,237,93,159,93,80,93,8,93,192,92,113,92,48,92,231,91,159,91,94,91,28,91,212,90,153,90,88,90,22,90,219,89,154,89,95,89,36,89,233,88,174,88,115,88,56,88,3,88,200,87,148,87,95,87,43,87,247,86,194,86,142,86,89,86,43,86,247,85,201,85,149,85,103,85,57,85,11,85,221,84,175,84,129,84,84,84,38,84,254,83,208,83,169,83,123,83,84,83,38,83,255,82,215,82,176,82,137,82,97,82,58,82,19,82,236,81,196,81,157,81,124,81,85,81,52,81,13,81,236,80,197,80,164,80,125,80,92,80,59,80,26,80,249,79,210,79,177,79,145,79,112,79,13,0,14,0,16,0,18,0,20,0,21,0,27,0,32,0,6,0,7,0,6,0,6,0,0,0,0,0,0,0,1,0,13,0,14,0,16,0,18,0,19,0,21,0,26,0,31,0,6,0,6,0,6,0,6,0,0,0,0,0,0,0,1,0,79,115,156,110,74,97,126,77,72,54,9,31,195,10,153,251,125,242,48,239,127,240,173,244,231,249,176,254,22,2,202,3,255,3,55,3,4,2,220,0,0,0,125,255,62,255,41,255,0,0,216,127,107,127,182,126,187,125,123,124,248,122,53,121,53,119,250,116,137,114,128,46,128,67,0,120,0,101,128,94,64,113,64,95,192,28,64,76,192,57,84,0,1,0,254,255,2,0,5,0,10,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,5,0,10,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,5,0,9,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,10,0,19,0,20,0,84,0,1,0,254,255,2,0,3,0,6,0,5,0,9,0,20,0,94,0,0,0,253,255,3,0,3,0,6,0,5,0,9,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,0,19,0,19,0,19,0,19,0,23,0,39,0,57,0,5,0,8,0,8,0,7,0,8,0,7,0,2,0,8,0,4,0,7,0,2,0,4,0,7,0,2,0,8,0,4,0,7,0,2,0,8,0,8,0,7,0,8,0,7,0,2,0,6,0,4,0,7,0,2,0,6,0,4,0,7,0,2,0,6,0,4,0,7,0,2,0,6,0,8,0,9,0,9,0,8,0,9,0,2,0,6,0,4,0,9,0,2,0,6,0,8,0,9,0,2,0,6,0,4,0,9,0,2,0,6,0,8,0,9,0,9,0,8,0,11,0,3,0,7,0,4,0,11,0,3,0,7,0,8,0,11,0,3,0,7,0,4,0,11,0,3,0,7,0,8,0,9,0,9,0,8,0,13,0,4,0,7,0,5,0,13,0,4,0,7,0,8,0,13,0,4,0,7,0,5,0,13,0,4,0,7,0,9,0,9,0,9,0,8,0,13,0,4,0,4,0,5,0,6,0,13,0,4,0,4,0,5,0,8,0,13,0,4,0,4,0,5,0,6,0,13,0,4,0,4,0,5,0,8,0,9,0,9,0,8,0,1,0,1,0,1,0,1,0,10,0,10,0,7,0,7,0,5,0,1,0,1,0,1,0,1,0,10,0,10,0,7,0,7,0,8,0,1,0,1,0,1,0,1,0,10,0,10,0,7,0,7,0,5,0,1,0,1,0,1,0,1,0,10,0,10,0,7,0,7,0,7,0,8,0,9,0,8,0,6,0,9,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,3,0,3,0,5,0,6,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,3,0,3,0,5,0,9,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,3,0,3,0,5,0,6,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,3,0,3,0,5,0,3,0,8,0,9,0,9,0,6,0,95,0,103,0,118,0,134,0,148,0,159,0,204,0,244,0,39,0,43,0,38,0,37,0,0,0,0,0,0,0,0,0,0,0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,9,0,10,0,11,0,12,0,13,0,14,0,15,0,23,0,24,0,25,0,26,0,27,0,28,0,48,0,49,0,61,0,62,0,82,0,83,0,47,0,46,0,45,0,44,0,81,0,80,0,79,0,78,0,17,0,18,0,20,0,22,0,77,0,76,0,75,0,74,0,29,0,30,0,43,0,42,0,41,0,40,0,38,0,39,0,16,0,19,0,21,0,50,0,51,0,59,0,60,0,63,0,64,0,72,0,73,0,84,0,85,0,93,0,94,0,32,0,33,0,35,0,36,0,53,0,54,0,56,0,57,0,66,0,67,0,69,0,70,0,87,0,88,0,90,0,91,0,34,0,55,0,68,0,89,0,37,0,58,0,71,0,92,0,31,0,52,0,65,0,86,0,7,0,6,0,5,0,4,0,3,0,2,0,1,0,0,0,15,0,14,0,13,0,12,0,11,0,10,0,9,0,8,0,23,0,24,0,25,0,26,0,27,0,46,0,65,0,84,0,45,0,44,0,43,0,64,0,63,0,62,0,83,0,82,0,81,0,102,0,101,0,100,0,42,0,61,0,80,0,99,0,28,0,47,0,66,0,85,0,18,0,41,0,60,0,79,0,98,0,29,0,48,0,67,0,17,0,20,0,22,0,40,0,59,0,78,0,97,0,21,0,30,0,49,0,68,0,86,0,19,0,16,0,87,0,39,0,38,0,58,0,57,0,77,0,35,0,54,0,73,0,92,0,76,0,96,0,95,0,36,0,55,0,74,0,93,0,32,0,51,0,33,0,52,0,70,0,71,0,89,0,90,0,31,0,50,0,69,0,88,0,37,0,56,0,75,0,94,0,34,0,53,0,72,0,91,0,0,0,1,0,4,0,5,0,3,0,6,0,7,0,2,0,13,0,15,0,8,0,9,0,11,0,12,0,14,0,10,0,16,0,28,0,74,0,29,0,75,0,27,0,73,0,26,0,72,0,30,0,76,0,51,0,97,0,50,0,71,0,96,0,117,0,31,0,77,0,52,0,98,0,49,0,70,0,95,0,116,0,53,0,99,0,32,0,78,0,33,0,79,0,48,0,69,0,94,0,115,0,47,0,68,0,93,0,114,0,46,0,67,0,92,0,113,0,19,0,21,0,23,0,22,0,18,0,17,0,20,0,24,0,111,0,43,0,89,0,110,0,64,0,65,0,44,0,90,0,25,0,45,0,66,0,91,0,112,0,54,0,100,0,40,0,61,0,86,0,107,0,39,0,60,0,85,0,106,0,36,0,57,0,82,0,103,0,35,0,56,0,81,0,102,0,34,0,55,0,80,0,101,0,42,0,63,0,88,0,109,0,41,0,62,0,87,0,108,0,38,0,59,0,84,0,105,0,37,0,58,0,83,0,104,0,0,0,1,0,4,0,3,0,5,0,6,0,13,0,7,0,2,0,8,0,9,0,11,0,15,0,12,0,14,0,10,0,28,0,82,0,29,0,83,0,27,0,81,0,26,0,80,0,30,0,84,0,16,0,55,0,109,0,56,0,110,0,31,0,85,0,57,0,111,0,48,0,73,0,102,0,127,0,32,0,86,0,51,0,76,0,105,0,130,0,52,0,77,0,106,0,131,0,58,0,112,0,33,0,87,0,19,0,23,0,53,0,78,0,107,0,132,0,21,0,22,0,18,0,17,0,20,0,24,0,25,0,50,0,75,0,104,0,129,0,47,0,72,0,101,0,126,0,54,0,79,0,108,0,133,0,46,0,71,0,100,0,125,0,128,0,103,0,74,0,49,0,45,0,70,0,99,0,124,0,42,0,67,0,96,0,121,0,39,0,64,0,93,0,118,0,38,0,63,0,92,0,117,0,35,0,60,0,89,0,114,0,34,0,59,0,88,0,113,0,44,0,69,0,98,0,123,0,43,0,68,0,97,0,122,0,41,0,66,0,95,0,120,0,40,0,65,0,94,0,119,0,37,0,62,0,91,0,116,0,36,0,61,0,90,0,115,0,0,0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,9,0,10,0,11,0,12,0,13,0,14,0,15,0,16,0,26,0,87,0,27,0,88,0,28,0,89,0,29,0,90,0,30,0,91,0,51,0,80,0,112,0,141,0,52,0,81,0,113,0,142,0,54,0,83,0,115,0,144,0,55,0,84,0,116,0,145,0,58,0,119,0,59,0,120,0,21,0,22,0,23,0,17,0,18,0,19,0,31,0,60,0,92,0,121,0,56,0,85,0,117,0,146,0,20,0,24,0,25,0,50,0,79,0,111,0,140,0,57,0,86,0,118,0,147,0,49,0,78,0,110,0,139,0,48,0,77,0,53,0,82,0,114,0,143,0,109,0,138,0,47,0,76,0,108,0,137,0,32,0,33,0,61,0,62,0,93,0,94,0,122,0,123,0,41,0,42,0,43,0,44,0,45,0,46,0,70,0,71,0,72,0,73,0,74,0,75,0,102,0,103,0,104,0,105,0,106,0,107,0,131,0,132,0,133,0,134,0,135,0,136,0,34,0,63,0,95,0,124,0,35,0,64,0,96,0,125,0,36,0,65,0,97,0,126,0,37,0,66,0,98,0,127,0,38,0,67,0,99,0,128,0,39,0,68,0,100,0,129,0,40,0,69,0,101,0,130,0,8,0,7,0,6,0,5,0,4,0,3,0,2,0,14,0,16,0,9,0,10,0,12,0,13,0,15,0,11,0,17,0,20,0,22,0,24,0,23,0,19,0,18,0,21,0,56,0,88,0,122,0,154,0,57,0,89,0,123,0,155,0,58,0,90,0,124,0,156,0,52,0,84,0,118,0,150,0,53,0,85,0,119,0,151,0,27,0,93,0,28,0,94,0,29,0,95,0,30,0,96,0,31,0,97,0,61,0,127,0,62,0,128,0,63,0,129,0,59,0,91,0,125,0,157,0,32,0,98,0,64,0,130,0,1,0,0,0,25,0,26,0,33,0,99,0,34,0,100,0,65,0,131,0,66,0,132,0,54,0,86,0,120,0,152,0,60,0,92,0,126,0,158,0,55,0,87,0,121,0,153,0,117,0,116,0,115,0,46,0,78,0,112,0,144,0,43,0,75,0,109,0,141,0,40,0,72,0,106,0,138,0,36,0,68,0,102,0,134,0,114,0,149,0,148,0,147,0,146,0,83,0,82,0,81,0,80,0,51,0,50,0,49,0,48,0,47,0,45,0,44,0,42,0,39,0,35,0,79,0,77,0,76,0,74,0,71,0,67,0,113,0,111,0,110,0,108,0,105,0,101,0,145,0,143,0,142,0,140,0,137,0,133,0,41,0,73,0,107,0,139,0,37,0,69,0,103,0,135,0,38,0,70,0,104,0,136,0,7,0,6,0,5,0,4,0,3,0,2,0,1,0,0,0,16,0,15,0,14,0,13,0,12,0,11,0,10,0,9,0,8,0,26,0,27,0,28,0,29,0,30,0,31,0,115,0,116,0,117,0,118,0,119,0,120,0,72,0,73,0,161,0,162,0,65,0,68,0,69,0,108,0,111,0,112,0,154,0,157,0,158,0,197,0,200,0,201,0,32,0,33,0,121,0,122,0,74,0,75,0,163,0,164,0,66,0,109,0,155,0,198,0,19,0,23,0,21,0,22,0,18,0,17,0,20,0,24,0,25,0,37,0,36,0,35,0,34,0,80,0,79,0,78,0,77,0,126,0,125,0,124,0,123,0,169,0,168,0,167,0,166,0,70,0,67,0,71,0,113,0,110,0,114,0,159,0,156,0,160,0,202,0,199,0,203,0,76,0,165,0,81,0,82,0,92,0,91,0,93,0,83,0,95,0,85,0,84,0,94,0,101,0,102,0,96,0,104,0,86,0,103,0,87,0,97,0,127,0,128,0,138,0,137,0,139,0,129,0,141,0,131,0,130,0,140,0,147,0,148,0,142,0,150,0,132,0,149,0,133,0,143,0,170,0,171,0,181,0,180,0,182,0,172,0,184,0,174,0,173,0,183,0,190,0,191,0,185,0,193,0,175,0,192,0,176,0,186,0,38,0,39,0,49,0,48,0,50,0,40,0,52,0,42,0,41,0,51,0,58,0,59,0,53,0,61,0,43,0,60,0,44,0,54,0,194,0,179,0,189,0,196,0,177,0,195,0,178,0,187,0,188,0,151,0,136,0,146,0,153,0,134,0,152,0,135,0,144,0,145,0,105,0,90,0,100,0,107,0,88,0,106,0,89,0,98,0,99,0,62,0,47,0,57,0,64,0,45,0,63,0,46,0,55,0,56,0,0,0,1,0,2,0,3,0,4,0,5,0,6,0,7,0,8,0,9,0,10,0,11,0,12,0,13,0,14,0,23,0,15,0,16,0,17,0,18,0,19,0,20,0,21,0,22,0,24,0,25,0,26,0,27,0,28,0,38,0,141,0,39,0,142,0,40,0,143,0,41,0,144,0,42,0,145,0,43,0,146,0,44,0,147,0,45,0,148,0,46,0,149,0,47,0,97,0,150,0,200,0,48,0,98,0,151,0,201,0,49,0,99,0,152,0,202,0,86,0,136,0,189,0,239,0,87,0,137,0,190,0,240,0,88,0,138,0,191,0,241,0,91,0,194,0,92,0,195,0,93,0,196,0,94,0,197,0,95,0,198,0,29,0,30,0,31,0,32,0,33,0,34,0,35,0,50,0,100,0,153,0,203,0,89,0,139,0,192,0,242,0,51,0,101,0,154,0,204,0,55,0,105,0,158,0,208,0,90,0,140,0,193,0,243,0,59,0,109,0,162,0,212,0,63,0,113,0,166,0,216,0,67,0,117,0,170,0,220,0,36,0,37,0,54,0,53,0,52,0,58,0,57,0,56,0,62,0,61,0,60,0,66,0,65,0,64,0,70,0,69,0,68,0,104,0,103,0,102,0,108,0,107,0,106,0,112,0,111,0,110,0,116,0,115,0,114,0,120,0,119,0,118,0,157,0,156,0,155,0,161,0,160,0,159,0,165,0,164,0,163,0,169,0,168,0,167,0,173,0,172,0,171,0,207,0,206,0,205,0,211,0,210,0,209,0,215,0,214,0,213,0,219,0,218,0,217,0,223,0,222,0,221,0,73,0,72,0,71,0,76,0,75,0,74,0,79,0,78,0,77,0,82,0,81,0,80,0,85,0,84,0,83,0,123,0,122,0,121,0,126,0,125,0,124,0,129,0,128,0,127,0,132,0,131,0,130,0,135,0,134,0,133,0,176,0,175,0,174,0,179,0,178,0,177,0,182,0,181,0,180,0,185,0,184,0,183,0,188,0,187,0,186,0,226,0,225,0,224,0,229,0,228,0,227,0,232,0,231,0,230,0,235,0,234,0,233,0,238,0,237,0,236,0,96,0,199,0,0,0,2,0,0,0,3,0,0,0,2,0,0,0,3,0,1,0,3,0,2,0,4,0,1,0,4,0,1,0,4,0,0,0,205,12,156,25,0,32,102,38,205,44,0,48,51,51,102,54,154,57,205,60,0,64,51,67,102,70,154,73,205,76,159,0,64,241,53,167,206,0,190,242,52,176,12,1,67,244,88,185,93,1,201,245,133,194,163,1,215,246,223,200,226,1,166,247,189,205,42,2,116,248,147,210,125,2,66,249,109,215,221,2,18,250,77,220,74,3,222,250,30,225,201,3,174,251,0,230,90,4,124,252,216,234,1,5,74,253,179,239,193,5,25,254,141,244,158,6,231,254,104,249,156,7,181,255,67,254,193,8,133,0,33,3,17,10,83,1,252,7,147,11,33,2,213,12,80,13,240,2,178,17,79,15,190,3,140,22,155,17,141,4,104,27,63,20,91,5,67,32,72,23,41,6,29,37,199,26,248,6,249,41,203,30,199,7,212,46,105,35,149,8,175,51,185,40,100,9,138,56,222,48,113,10,224,62,135,63,244,11,253,71,150,82,120,13,27,81,93,107,252,14,57,90,93,107,252,14,57,90,0,0,1,0,3,0,2,0,6,0,4,0,5,0,7,0,0,0,1,0,3,0,2,0,5,0,6,0,4,0,7,0,248,127,211,127,76,127,108,126,51,125,163,123,188,121,127,119,239,116,12,114,217,110,89,107,141,103,121,99,31,95,130,90,166,85,141,80,60,75,182,69,0,64,28,58,15,52,223,45,141,39,32,33,156,26,6,20,97,13,178,6,0,0,78,249,159,242,250,235,100,229,224,222,115,216,33,210,241,203,228,197,0,192,74,186,196,180,115,175,90,170,126,165,225,160,135,156,115,152,167,148,39,145,244,141,17,139,129,136,68,134,93,132,205,130,148,129,180,128,45,128,8,128,255,127,46,124,174,120,118,117,125,114,186,111,41,109,194,106,131,104,102,102,105,100,137,98,194,96,19,95,122,93,245,91,130,90,33,89,207,87,139,86,85,85,44,84,15,83,252,81,244,80,246,79,1,79,20,78,48,77,83,76,126,75,175,74,231,73,37,73,104,72,178,71,0,71,84,70,173,69,10,69,107,68,209,67,59,67,168,66,25,66,142,65,6,65,130,64,0,64,0,0,175,5,50,11,140,16,192,21,207,26,188,31,136,36,53,41,196,45,55,50,143,54,206,58,245,62,4,67,252,70,223,74,174,78,105,82,17,86,167,89,44,93,159,96,3,100,87,103,155,106,209,109,250,112,20,116,33,119,34,122,23,125,255,127,255,127,217,127,98,127,157,126,138,125,42,124,125,122,133,120,66,118,182,115,227,112,202,109,110,106,208,102,242,98,215,94,130,90,246,85,52,81,64,76,29,71,206,65,87,60,186,54,252,48,31,43,40,37,26,31,249,24,200,18,140,12,72,6,0,0,184,249,116,243,56,237,7,231,230,224,216,218,225,212,4,207,70,201,169,195,50,190,227,184,192,179,204,174,10,170,126,165,41,161,14,157,48,153,146,149,54,146,29,143,74,140,190,137,123,135,131,133,214,131,118,130,99,129,158,128,39,128,0,128,249,150,148,221,53,235,27,241,93,244,116,246,223,247,237,248,184,249,86,250,214,250,61,251,148,251,221,251,26,252,78,252,123,252,163,252,197,252,227,252,252,252,18,253,38,253,55,253,69,253,81,253,91,253,100,253,106,253,111,253,114,253,116,253,116,253,114,253,111,253,106,253,100,253,91,253,81,253,69,253,55,253,38,253,18,253,252,252,227,252,197,252,163,252,123,252,78,252,26,252,221,251,148,251,61,251,214,250,86,250,184,249,237,248,223,247,116,246,93,244,27,241,53,235,148,221,249,150,48,117,144,101,8,82,152,58,64,31,0,0,192,224,104,197,248,173,112,154,153,104,33,3,201,9,85,253,154,250,70,2,92,2,6,251,183,13,250,232,182,17,13,254,108,248,195,11,62,236,238,21,58,248,219,251,77,250,90,17,68,253,41,235,1,18,196,1,179,253,232,242,137,11,243,4,68,251,226,245,195,6,86,14,133,238,49,252,39,17,23,246,181,3,173,250,45,252,102,22,66,118,247,14,60,240,156,11,232,251,22,252,173,9,29,244,255,10,73,247,217,6,181,249,178,6,17,249,7,6,16,252,173,1,87,255,216,1,16,251,128,8,110,245,219,9,171,249,88,1,58,3,7,250,188,6,135,249,165,6,241,247,84,10,12,244,81,11,70,248,45,2,12,3,167,250,74,3,143,2,98,57,254,44,244,4,55,245,217,233,90,29,221,255,9,245,32,244,215,18,136,11,24,223,201,14,175,5,131,8,67,222,115,31,201,247,82,250,9,3,84,4,175,246,206,8,149,254,94,253,201,247,158,23,207,233,48,4,51,12,62,236,192,20,231,246,112,241,12,27,207,240,163,2,17,249,29,0,161,39,66,118,247,14,60,240,156,11,232,251,22,252,173,9,29,244,255,10,73,247,217,6,181,249,178,6,17,249,7,6,16,252,173,1,87,255,216,1,16,251,128,8,110,245,219,9,171,249,88,1,58,3,7,250,188,6,135,249,165,6,241,247,84,10,12,244,81,11,70,248,45,2,12,3,167,250,74,3,143,2,0,64,103,65,213,66,76,68,203,69,82,71,226,72,122,74,28,76,199,77,123,79,56,81,255,82,209,84,172,86,146,88,130,90,126,92,132,94,150,96,180,98,221,100,18,103,84,105,162,107,254,109,102,112,221,114,96,117,242,119,147,122,66,125,255,127,3,115,186,110,119,98,225,79,109,57,245,33,71,12,184,250,206,238,23,233,38,233,191,237,33,245,96,253,187,4,232,9,58,12,175,11,211,8,146,4,0,0,23,252,140,249,180,248,126,249,133,251,48,254,218,0,244,2,36,4,75,4,136,3,38,2,135,0,11,255,254,253,134,253,166,253,61,254,25,255,0,0,191,0,52,1,84,1,40,1,198,0,78,0,220,255,136,255,93,255,91,255,124,255,177,255,237,255,34,0,73,0,91,0,89,0,70,0,38,0,0,0,254,254,194,254,73,254,134,253,112,253,251,252,57,253,10,254,244,254,63,255,254,255,125,0,122,0,217,255,247,255,105,0,129,0,27,1,116,1,63,2,235,254,188,254,59,255,25,254,67,254,150,254,220,254,229,255,177,0,31,2,86,1,5,2,4,2,130,0,27,0,152,255,136,255,116,255,182,255,200,255,204,253,81,252,16,250,59,252,210,252,242,253,190,254,254,255,159,0,145,2,200,254,228,254,126,254,171,253,19,254,242,253,94,254,27,255,105,0,193,1,211,253,154,252,205,251,105,252,74,252,16,253,59,253,196,254,62,0,230,1,198,254,65,255,53,255,182,254,96,255,153,255,205,255,131,0,82,1,3,2,10,6,224,8,194,14,112,21,60,27,190,32,63,39,221,43,222,49,146,53,84,37,17,42,27,49,236,51,45,56,131,45,92,41,39,38,145,33,84,25,6,0,82,0,125,255,154,0,200,255,33,253,183,0,191,255,247,254,9,0,46,255,151,254,113,0,206,2,25,7,242,3,190,4,37,6,89,3,53,5,228,8,59,3,32,6,141,7,205,2,197,7,158,8,70,3,148,4,31,7,209,2,232,3,106,8,30,1,220,1,229,5,9,255,237,253,230,0,147,0,174,255,57,2,26,0,79,255,80,252,229,255,239,254,180,2,92,255,248,254,73,255,224,0,22,3,15,4,131,3,178,3,89,2,229,1,3,3,126,4,12,2,165,2,135,3,116,255,119,1,10,3,154,1,164,2,173,1,45,1,18,2,241,3,207,2,134,2,38,0,226,0,111,1,40,0,145,0,211,255,7,254,34,1,121,0,135,255,46,1,127,0,166,0,132,255,129,254,68,252,154,254,57,254,47,252,203,2,110,3,126,3,210,3,155,3,211,0,221,1,16,1,64,0,188,0,178,255,17,0,113,255,191,255,38,0,131,2,74,2,109,2,122,255,86,254,117,253,91,1,33,2,4,11,164,4,166,10,138,9,142,0,176,255,199,6,27,1,130,0,205,1,250,254,113,254,135,251,101,254,155,0,174,1,73,1,119,1,11,3,53,0,30,255,117,255,127,255,20,255,146,6,29,1,232,2,47,5,226,2,185,2,128,6,56,1,153,1,10,1,69,1,208,2,135,0,1,0,221,0,197,1,8,0,203,0,145,0,43,1,128,2,248,2,29,0,212,1,126,2,103,0,173,1,123,1,164,1,186,3,164,3,46,5,186,4,234,4,192,2,244,3,128,4,90,255,68,254,246,254,196,254,126,255,136,254,191,0,127,4,112,7,16,255,225,253,20,251,144,255,12,1,183,4,70,0,38,4,47,6,22,1,80,5,38,6,254,254,240,254,0,253,19,0,51,2,192,8,253,255,247,254,135,0,217,254,177,253,124,254,140,0,98,1,50,255,252,254,8,254,229,252,79,254,50,253,217,250,109,0,75,1,194,3,83,254,169,255,140,2,216,254,170,1,251,3,17,255,7,3,83,3,233,1,54,5,49,4,178,254,180,254,25,0,31,2,182,4,15,7,70,1,61,0,215,2,66,2,81,3,125,5,48,255,235,254,73,1,104,255,64,0,157,2,78,254,90,253,41,253,58,254,185,255,251,0,93,2,224,1,254,0,30,254,11,0,228,3,223,254,139,1,230,1,210,2,25,4,160,5,226,255,196,254,238,252,150,255,141,255,149,253,93,3,194,5,132,5,31,4,86,5,160,4,44,3,213,4,157,3,42,0,5,255,192,253,86,1,141,0,58,254,88,255,176,255,79,5,170,254,112,253,29,249,100,0,53,3,213,2,222,3,235,2,32,3,76,1,184,1,56,2,151,2,123,1,84,3,112,0,165,0,143,254,85,2,142,3,26,1,248,255,66,3,1,5,160,254,60,2,183,2,206,1,198,8,14,7,89,1,190,0,94,5,160,1,147,3,118,8,168,0,174,255,24,1,252,253,66,254,72,3,47,0,21,2,44,0,150,254,57,253,137,251,22,0,193,0,192,5,171,255,233,0,21,7,194,255,67,2,224,5,38,2,176,3,213,6,211,2,138,2,124,4,204,3,116,3,115,5,87,254,131,2,0,0,232,3,184,3,74,4,249,0,166,5,160,2,178,254,169,255,124,8,214,253,90,7,112,10,140,0,34,7,61,7,152,3,213,6,30,10,52,4,141,7,246,7,119,255,69,254,237,249,245,4,150,4,212,1,19,254,134,255,241,5,61,254,9,4,190,4,226,1,159,6,94,4,47,3,137,2,128,1,66,254,76,253,107,0,193,254,163,253,138,255,49,255,7,254,13,2,44,254,244,255,176,10,75,0,142,7,25,5,112,3,54,9,219,8,5,5,39,6,212,7,208,255,208,254,94,251,77,254,51,254,5,255,146,254,108,254,221,253,223,254,163,253,171,253,230,253,214,252,91,255,136,255,3,0,100,1,127,2,217,4,222,5,96,0,177,0,238,2,77,254,183,253,106,251,156,254,109,0,177,255,27,254,32,1,213,7,9,0,92,4,219,2,112,3,86,8,178,3,247,254,49,6,41,4,133,4,186,4,75,3,14,254,100,253,175,1,118,1,65,1,27,255,160,5,53,8,101,5,193,1,205,1,131,4,151,255,39,0,128,254,249,254,111,1,182,0,141,254,108,253,5,3,68,255,127,4,203,3,53,5,96,6,155,5,6,3,243,4,197,4,30,254,192,252,47,250,19,255,46,255,92,3,122,3,79,6,40,4,216,1,38,4,168,4,185,0,53,4,221,3,200,253,32,252,88,249,63,254,122,252,5,248,114,255,135,254,54,254,46,255,214,253,251,251,245,255,109,4,217,8,183,254,93,253,131,252,6,255,145,2,163,4,7,2,230,5,243,6,8,2,27,2,123,5,15,2,141,5,22,5,205,253,153,252,32,251,109,255,49,254,111,3,180,255,30,9,24,11,51,2,13,10,81,9,120,2,134,7,104,11,207,2,231,7,48,7,223,253,45,253,84,4,129,0,131,255,116,3,137,5,96,6,157,3,162,255,30,6,215,6,171,254,253,5,15,6,79,2,139,1,238,254,180,255,213,3,15,11,153,0,169,11,52,7,8,4,5,10,189,10,228,5,16,11,87,7,23,3,175,4,26,2,66,255,59,254,209,5,234,254,220,253,134,4,11,255,149,7,252,7,0,4,24,6,114,6,0,2,253,0,210,1,194,255,189,254,127,4,39,254,136,254,251,1,79,254,100,5,114,8,131,3,151,7,165,5,134,0,192,2,184,1,204,1,13,2,228,255,62,254,23,1,58,5,0,0,203,3,252,0,67,254,141,253,33,252,164,254,166,253,112,250,142,1,200,2,120,6,149,255,58,1,78,255,93,0,178,8,190,8,6,2,81,3,144,2,50,254,57,253,65,254,174,0,222,255,167,4,137,255,42,0,237,3,140,254,18,1,246,2,12,4,48,9,46,7,163,2,188,6,218,5,174,1,6,5,85,8,127,255,73,254,0,0,139,254,32,3,96,8,6,0,51,6,174,9,222,1,84,2,80,8,84,254,32,253,225,5,129,1,178,0,212,3,139,0,193,1,201,4,242,253,182,252,42,252,145,0,18,6,218,4,111,2,168,5,144,2,93,1,248,3,202,5,31,0,232,254,159,1,196,254,212,2,105,6,104,1,34,4,44,2,76,254,154,254,177,4,157,254,99,4,147,7,145,1,48,6,200,8,241,253,12,252,99,1,233,0,238,0,185,8,218,253,127,252,129,253,147,254,11,254,165,7,133,1,68,7,85,6,162,0,108,4,240,4,19,255,150,4,110,5,128,253,101,254,116,0,28,255,158,6,250,8,103,6,138,8,219,8,50,2,249,4,98,10,67,1,82,1,238,6,66,2,83,4,84,3,22,0,82,2,166,3,113,255,206,2,190,1,50,0,71,0,247,255,174,254,70,253,129,250,102,0,118,255,204,252,202,254,43,254,133,251,158,1,67,0,245,254,36,4,46,3,161,5,12,6,80,5,248,4,218,6,103,7,125,6,227,7,85,8,28,7,16,7,14,9,53,7,132,2,163,255,198,1,90,3,73,1,120,255,233,1,254,254,128,255,58,255,23,253,215,255,204,255,247,254,39,252,90,1,137,0,223,1,51,249,20,253,84,253,117,251,67,249,145,254,129,252,135,251,240,252,24,254,78,252,56,252,171,255,122,254,43,253,215,0,172,254,85,255,252,3,148,3,177,7,52,2,179,0,234,2,150,2,209,3,198,6,119,3,110,2,146,3,171,3,88,3,141,4,53,1,176,2,35,3,149,3,161,0,58,2,118,0,236,255,229,254,208,252,214,255,204,0,52,251,187,254,50,254,61,252,54,255,113,255,36,252,28,254,151,254,66,253,46,252,35,254,210,254,234,252,92,251,156,255,238,252,192,251,226,251,77,252,108,249,54,255,181,252,242,252,241,251,158,250,123,252,144,253,146,255,171,255,100,1,213,0,246,255,19,254,108,1,6,3,169,1,54,3,223,1,173,255,45,2,8,2,32,252,232,249,196,253,165,253,27,253,230,255,10,254,130,253,121,252,209,0,50,1,147,0,196,254,175,253,172,253,171,255,45,255,31,255,106,252,239,253,117,0,233,0,73,254,30,253,77,4,239,2,121,2,177,5,180,6,231,5,229,6,177,5,142,3,98,4,132,4,81,3,74,5,100,3,214,1,153,252,130,251,252,248,153,252,163,252,32,252,138,255,155,0,212,0,229,251,175,252,162,253,163,251,199,248,66,245,5,252,109,250,179,248,114,1,72,255,98,254,191,3,237,1,104,0,190,3,15,4,31,2,154,0,141,2,201,0,225,4,251,1,150,0,151,2,247,1,230,0,111,2,9,3,163,2,147,2,88,0,146,255,75,3,244,0,224,0,126,1,29,2,46,1,212,2,177,1,154,2,142,4,222,2,85,1,118,255,20,0,115,254,97,251,88,254,210,255,191,254,160,254,132,255,53,5,253,3,56,4,6,1,110,1,211,2,154,3,27,1,217,253,31,0,132,253,157,253,79,253,71,253,97,254,72,252,245,252,55,255,207,250,170,253,153,254,71,252,251,250,166,0,237,1,49,1,221,0,78,3,191,2],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),
allocate([98,2,72,3,168,3,6,3,45,253,212,250,19,251,155,254,255,251,148,250,184,251,160,250,147,254,120,250,167,248,160,253,250,248,65,249,94,253,223,253,107,251,65,253,166,2,18,3,148,0,133,255,184,2,8,5,132,2,94,1,246,255,158,1,102,2,15,0,137,0,88,1,45,255,210,252,24,250,205,252,121,254,94,252,180,253,47,0,177,253,126,252,115,252,183,251,93,255,8,251,113,251,99,255,72,250,11,250,123,254,6,251,92,251,144,253,159,2,213,0,198,1,124,0,238,254,243,253,39,253,16,254,104,255,192,250,122,0,135,0,167,244,179,253,118,254,64,249,185,1,206,255,196,5,136,3,19,3,60,1,236,0,72,254,165,254,217,0,157,1,113,252,107,252,121,0,57,254,92,252,202,0,164,255,47,254,137,254,232,1,134,1,218,1,108,3,217,2,60,1,233,248,224,250,99,253,87,0,194,3,176,1,51,2,7,255,222,251,250,0,29,1,81,4,117,4,171,1,184,2,242,251,128,249,210,249,76,252,90,1,160,0,203,254,240,254,166,252,158,2,112,2,226,4,80,252,104,254,102,253,162,253,192,254,128,254,20,254,230,0,65,0,78,1,206,255,240,255,240,255,78,253,139,250,255,6,180,6,119,5,174,9,15,8,124,5,221,4,191,5,146,5,130,254,243,251,254,255,173,0,114,254,121,4,211,5,232,7,9,7,4,3,250,4,226,5,149,5,199,6,209,7,55,4,194,4,249,4,126,251,197,248,207,250,216,252,147,251,184,251,61,254,247,251,70,249,65,0,66,2,172,255,60,250,126,246,14,249,3,253,170,250,18,254,38,255,174,253,93,252,81,1,20,255,50,2,53,9,102,10,146,7,209,5,252,4,106,3,189,0,102,1,118,1,17,250,23,247,214,246,57,252,9,251,209,247,140,253,92,251,250,249,125,6,19,4,34,2,53,2,37,4,220,2,192,255,188,252,78,254,76,254,160,255,203,0,54,4,192,4,100,6,139,3,254,5,218,3,70,1,197,3,77,3,142,0,172,255,197,0,214,1,75,9,34,6,109,4,214,1,190,4,139,1,96,5,176,4,101,4,18,4,92,1,225,253,46,251,136,254,41,255,75,255,225,1,101,248,171,249,46,255,18,253,95,251,134,1,29,0,113,254,27,0,52,3,212,4,243,2,183,2,211,3,153,1,82,255,173,4,11,4,144,3,76,5,54,7,32,252,99,250,228,1,51,250,92,249,208,0,100,254,180,4,152,5,241,254,128,3,120,4,96,254,241,6,154,5,96,249,172,245,52,255,3,249,241,249,9,4,136,249,233,249,23,5,27,251,203,249,57,4,99,253,185,251,190,255,86,253,64,1,167,254,147,2,49,1,45,4,244,250,220,252,237,255,157,249,245,250,29,0,109,249,15,254,71,0,225,254,249,255,156,255,18,254,62,252,19,255,84,3,89,7,204,6,63,251,149,250,227,0,108,253,46,1,117,1,96,0,63,4,233,4,206,251,123,249,160,0,229,1,28,8,6,7,90,252,36,255,40,2,172,253,156,253,237,0,80,1,184,6,111,3,131,2,117,2,178,1,243,4,10,2,97,6,15,0,244,0,71,254,195,5,205,2,184,0,27,7,54,6,173,6,220,3,5,1,169,3,45,8,41,9,240,5,91,8,66,7,70,6,191,253,189,253,77,251,68,252,135,0,24,254,48,254,51,0,174,254,139,253,164,254,45,253,122,4,25,8,162,5,144,8,186,5,143,3,92,250,220,249,26,247,120,5,198,2,17,5,55,5,121,2,160,3,154,5,146,8,34,10,118,9,156,8,89,7,214,3,194,8,62,7,124,1,24,3,121,4,193,255,229,253,158,1,4,255,60,252,198,254,19,251,85,253,244,252,193,252,242,253,19,252,126,249,145,251,88,254,181,249,60,254,213,254,244,4,24,4,130,2,123,4,85,3,88,3,93,253,176,254,139,0,220,8,63,5,138,5,29,0,0,3,29,3,56,251,167,1,52,2,218,250,198,251,245,0,234,250,212,252,61,2,238,250,175,249,134,2,56,252,66,3,211,2,225,3,116,6,235,7,65,255,207,252,176,1,150,2,60,0,198,0,114,2,229,3,50,5,112,6,171,7,9,5,195,249,163,255,211,255,192,251,37,0,172,255,117,6,47,10,33,9,41,4,248,7,73,9,115,4,22,9,70,8,91,3,101,1,230,5,152,2,203,4,75,4,223,1,80,5,144,3,105,7,218,6,227,7,144,4,117,7,248,6,143,1,34,0,0,1,175,253,208,254,227,251,35,2,158,6,127,5,135,2,157,255,171,254,212,5,111,6,166,4,38,0,124,253,44,255,139,1,78,3,222,0,64,253,3,253,52,253,44,253,84,248,12,245,106,255,35,1,174,255,209,4,179,5,239,3,116,255,101,255,153,0,183,1,41,1,32,6,7,250,102,254,132,253,0,6,199,1,19,255,208,250,117,255,252,254,19,2,42,2,100,3,13,1,240,4,94,2,23,255,115,3,207,1,230,2,88,2,136,255,183,255,165,1,212,0,73,254,198,255,36,3,250,250,39,251,216,2,38,1,22,254,50,0,177,253,119,252,26,251,42,0,81,253,147,0,231,255,17,1,84,2,201,254,189,4,89,2,14,253,81,3,72,2,173,1,95,2,75,2,166,253,90,255,205,1,228,252,201,252,9,3,100,5,142,3,219,6,119,0,137,5,204,3,37,255,144,252,196,249,231,251,14,252,182,1,55,253,157,250,78,0,0,0,65,254,101,251,144,251,217,250,219,249,200,8,231,6,29,5,178,3,47,6,152,5,126,4,226,1,180,1,43,254,172,251,106,2,65,254,58,252,64,4,28,251,21,250,142,255,176,251,40,248,189,253,210,0,101,2,241,1,73,248,99,250,130,2,11,251,168,252,243,3,146,249,95,251,39,4,237,249,96,253,180,4,100,249,166,251,111,2,45,252,210,250,3,251,27,2,109,255,126,3,182,250,127,252,78,254,120,3,219,1,172,1,153,0,128,254,82,1,44,250,1,254,103,1,50,252,165,251,42,254,105,0,218,253,165,2,87,252,135,251,109,3,124,1,252,254,210,0,149,6,156,3,232,4,239,6,166,4,71,4,139,5,119,2,21,2,115,2,43,1,165,254,101,254,234,253,135,2,118,253,29,0,173,253,134,254,169,250,27,6,122,5,97,4,185,5,65,4,130,5,136,2,208,247,190,251,250,255,55,1,62,255,155,252,129,253,193,252,160,1,118,251,56,251,69,5,33,251,83,252,21,7,111,247,61,248,197,1,149,253,169,250,68,252,186,249,76,248,29,250,105,251,223,251,176,251,135,254,89,2,201,0,84,7,57,3,118,1,82,254,213,250,29,0,139,250,31,251,205,250,17,252,32,250,192,3,135,250,39,248,197,0,157,250,99,248,20,255,203,251,123,0,166,1,103,2,245,4,34,2,206,254,246,5,136,3,170,4,252,6,153,4,142,253,140,252,10,250,199,0,254,2,224,5,215,251,94,3,197,0,246,251,19,249,137,252,224,252,145,0,87,2,146,251,249,253,114,2,75,251,122,248,244,1,114,252,239,251,141,250,60,250,225,249,55,252,245,253,74,3,34,0,2,7,134,2,94,3,73,251,160,248,22,252,178,255,247,255,96,253,20,4,247,2,80,0,168,253,115,4,251,3,57,0,208,7,142,5,191,252,134,5,97,4,78,251,94,6,236,4,51,254,140,5,220,4,1,6,207,3,253,0,229,254,68,1,153,254,87,2,61,255,106,0,76,2,62,0,181,253,11,253,133,2,205,0,51,0,177,4,246,2,71,251,161,2,122,254,144,253,45,6,173,3,105,255,255,3,223,2,4,11,21,5,178,2,210,254,12,2,157,255,124,252,204,249,91,251,60,4,251,0,238,0,222,7,0,7,242,3,221,4,97,6,205,6,53,251,252,249,72,251,147,253,200,1,147,255,40,0,191,255,20,3,219,252,69,253,186,250,185,253,136,3,64,3,223,252,20,2,82,2,180,7,128,5,71,5,103,251,168,248,190,247,251,252,56,2,180,3,9,252,55,4,236,4,169,251,226,1,126,255,242,6,20,4,12,3,45,250,245,0,144,3,196,254,139,251,107,252,232,253,94,250,214,246,239,252,246,249,60,248,45,248,1,1,141,3,199,248,135,253,71,251,254,249,130,248,226,251,70,6,191,8,40,6,201,253,36,250,248,249,1,251,195,0,89,5,207,252,37,1,195,4,243,253,118,2,173,4,94,249,135,246,208,248,209,254,219,2,235,2,111,251,5,255,13,1,74,252,181,255,148,6,98,251,59,254,237,3,193,249,73,2,122,1,229,247,197,253,85,254,239,253,121,251,109,251,229,254,51,255,204,253,228,252,222,4,205,2,229,8,159,3,27,2,58,254,47,2,184,1,51,253,180,5,79,6,250,251,28,4,74,6,111,251,118,255,79,3,226,0,39,0,156,253,29,251,150,255,39,253,117,253,200,3,22,5,54,253,132,253,191,6,97,1,45,4,154,1,226,252,100,255,75,4,194,253,150,3,190,1,226,250,244,3,210,1,128,5,55,6,253,2,149,5,100,5,221,6,157,7,164,7,74,9,42,6,255,7,100,8,148,3,98,0,249,255,101,7,138,5,93,8,92,1,125,5,43,6,152,0,110,4,9,7,245,254,154,0,115,5,114,251,213,1,30,4,138,251,107,254,207,251,195,250,40,247,211,249,148,254,101,3,170,6,118,251,37,2,14,6,55,251,116,248,126,249,51,250,71,248,249,247,65,249,118,252,158,255,151,248,233,0,212,5,124,3,108,0,181,254,64,249,110,251,92,249,220,251,188,7,254,6,210,251,51,249,139,248,245,255,3,6,37,5,192,249,94,0,241,1,165,1,187,1,59,255,214,249,163,254,30,252,169,253,229,253,116,4,59,252,117,250,127,255,195,250,175,0,65,254,137,254,31,5,7,8,141,254,118,253,205,254,207,251,93,2,109,1,247,247,143,255,174,1,140,2,146,3,199,3,12,252,206,249,237,246,225,5,224,4,47,2,6,1,26,254,111,254,65,249,62,5,10,6,50,0,56,0,176,1,182,254,119,0,164,253,19,250,200,251,214,252,178,3,103,4,31,4,136,250,89,249,80,249,10,251,64,253,219,250,39,3,29,7,119,4,200,10,70,6,123,8,96,4,153,1,106,255,109,255,148,1,191,3,135,9,119,7,141,8,118,252,115,255,158,252,120,252,114,255,54,254,211,253,60,253,113,249,194,252,105,250,209,249,206,248,190,250,194,251,188,249,240,254,147,3,84,251,4,3,32,4,130,253,46,251,151,248,12,254,175,255,202,252,247,250,179,249,33,253,139,255,17,3,168,0,190,251,109,4,154,3,184,251,22,253,104,5,31,1,221,253,217,251,160,250,103,247,76,251,128,247,222,249,35,249,25,250,63,247,253,252,55,249,75,4,62,3,204,249,212,2,219,4,250,249,181,2,37,3,102,249,16,255,129,6,92,249,252,255,100,253,101,8,48,3,18,4,206,252,207,248,22,0,4,253,5,254,193,1,129,251,151,253,33,1,181,252,196,249,16,255,242,1,22,255,111,253,16,253,224,1,142,6,193,254,31,254,193,0,213,252,171,0,137,255,176,247,54,255,176,252,181,6,116,4,164,6,67,0,239,255,66,0,244,255,102,249,187,253,152,255,240,254,204,251,94,251,203,248,136,254,140,251,98,252,92,254,198,255,253,254,112,253,146,251,215,253,252,6,203,4,199,1,129,0,206,1,185,1,16,255,240,253,72,3,2,2,130,0,181,255,90,4,111,2,153,0,216,0,44,4,52,2,250,255,236,254,95,4,215,2,190,0,188,255,192,2,50,1,119,0,248,254,73,1,61,0,156,255,156,0,108,1,123,0,183,0,48,255,85,255,133,255,220,0,191,255,206,254,194,255,146,1,17,0,108,253,86,252,246,254,0,0,129,1,235,0,20,1,29,1,64,1,12,1,176,254,56,255,44,253,17,0,172,255,125,1,224,253,173,1,238,1,7,2,139,255,32,1,48,1,73,1,131,2,157,0,189,2,252,1,176,4,113,2,28,3,96,2,230,3,165,1,236,1,120,2,180,4,12,3,190,1,132,0,233,4,76,3,35,2,193,1,61,3,146,2,29,2,214,1,108,4,234,4,150,3,127,2,35,2,51,0,167,1,23,1,9,0,136,1,83,0,94,0,30,2,31,2,229,0,109,255,58,255,129,0,194,0,71,255,161,252,215,250,210,254,30,0,171,253,139,253,237,255,114,0,124,252,199,251,210,1,97,1,53,250,219,249,15,0,113,255,84,249,245,247,17,253,196,0,172,248,237,247,126,253,254,254,225,246,66,250,62,254,204,253,184,253,70,255,152,252,98,254,243,248,36,252,155,251,226,250,42,253,151,251,28,0,169,0,241,251,160,252,50,253,10,255,228,1,36,0,23,255,207,255,9,1,67,0,33,1,211,1,178,0,31,2,42,3,28,2,84,0,26,1,160,2,191,2,49,252,247,252,129,0,31,1,86,252,29,255,187,3,83,2,175,249,223,254,68,3,137,2,201,248,41,255,82,4,206,2,14,248,195,251,138,2,184,1,203,247,239,253,139,3,63,2,37,248,176,254,158,2,204,0,171,246,76,253,104,1,137,0,148,247,100,247,247,255,24,1,246,254,119,0,39,0,193,0,78,0,197,255,136,255,226,0,49,252,166,252,243,252,185,251,149,253,99,254,61,254,182,252,64,251,215,250,211,252,141,252,160,250,177,249,118,254,84,254,31,253,167,251,219,253,234,252,144,252,49,252,57,252,126,253,39,252,138,252,7,251,175,250,39,254,220,252,135,250,129,250,160,0,247,254,105,252,237,254,8,255,6,255,50,253,132,254,97,0,153,255,137,254,27,255,97,254,63,255,121,255,213,253,116,2,105,1,119,0,216,0,67,2,108,1,135,1,209,0,122,2,10,2,102,255,108,255,14,2,133,1,170,0,33,0,105,0,11,1,64,0,124,1,33,250,24,252,226,255,143,254,210,251,58,0,135,2,223,0,16,250,221,254,109,2,51,1,5,250,156,0,250,2,148,1,19,248,141,0,222,2,243,1,199,248,118,253,50,1,0,2,69,255,152,255,197,255,182,1,134,0,26,255,156,0,70,255,195,255,252,254,240,255,10,0,199,253,253,255,91,254,215,254,67,249,247,253,166,254,178,0,174,250,197,255,212,255,157,0,158,247,51,254,42,254,163,254,134,247,255,255,143,254,135,255,213,249,139,254,124,252,9,252,163,251,177,253,155,253,240,252,207,253,122,0,181,255,63,254,252,255,85,255,133,255,140,254,192,0,168,0,180,255,124,255,252,0,149,255,84,1,210,0,136,1,253,1,16,1,181,0,147,255,145,0,218,0,119,0,96,254,249,254,229,1,9,1,75,255,248,255,226,254,226,0,12,255,38,255,69,0,222,254,98,255,191,0,255,255,192,255,176,253,166,255,213,0,160,255,255,0,179,1,178,0,176,255,143,254,238,255,223,255,176,255,214,255,159,1,140,0,34,255,119,4,139,2,137,2,73,1,255,2,44,2,249,0,235,0,180,3,157,1,186,1,23,1,141,0,83,1,100,1,45,2,42,254,86,255,99,0,237,0,199,253,224,252,96,1,53,2,26,1,217,1,214,1,76,1,57,255,78,253,252,250,107,252,63,255,86,254,224,252,158,251,230,255,141,254,22,254,63,255,125,2,83,2,7,2,74,1,152,1,141,255,79,0,12,0,221,1,87,0,153,255,136,254,102,253,165,254,235,254,221,254,2,254,31,254,169,0,41,1,195,252,30,253,51,255,85,255,192,254,228,253,72,1,27,1,165,252,66,252,186,1,254,255,44,2,174,2,130,0,56,0,103,5,244,3,243,2,171,1,100,2,229,2,116,2,41,2,173,254,228,252,134,0,21,1,135,253,195,251,254,255,10,255,144,252,245,251,185,249,216,251,30,252,38,254,142,251,24,254,98,254,229,252,73,0,50,255,248,255,117,255,183,1,204,0,80,255,190,253,23,0,131,0,243,254,11,253,65,255,245,0,147,255,174,254,112,0,60,1,120,0,106,254,138,255,99,2,76,255,70,255,123,253,115,0,83,255,34,0,250,253,23,254,105,255,61,0,185,253,180,252,220,0,118,255,87,253,4,252,135,1,239,255,170,253,191,254,157,0,217,254,129,0,155,0,98,252,149,252,37,252,29,1,241,0,173,255,131,255,131,255,108,2,85,2,176,1,92,0,137,1,78,0,153,1,61,0,119,254,29,253,99,254,20,253,83,0,54,0,105,1,27,0,196,251,130,0,175,254,74,253,227,249,41,1,62,1,237,255,175,248,36,0,51,0,195,254,237,246,10,255,231,0,172,255,254,246,241,252,40,0,77,255,71,247,94,252,38,254,50,254,14,253,170,255,224,254,142,253,149,246,57,254,193,255,171,0,181,251,186,251,230,255,113,255,87,251,57,254,106,254,131,254,163,253,46,255,160,255,205,255,188,253,36,254,236,254,241,255,85,251,134,253,77,251,143,252,134,254,35,255,99,253,72,252,82,2,178,0,109,254,92,253,251,2,71,1,89,2,34,1,172,0,44,1,203,0,157,0,200,255,176,254,100,1,24,0,28,255,216,254,253,254,227,255,70,255,7,1,160,1,14,0,159,254,117,1,244,255,40,255,1,1,96,0,174,0,57,0,10,250,152,253,70,252,13,254,15,254,104,255,179,254,125,0,105,0,200,0,179,0,159,255,181,254,32,255,253,2,185,2,248,2,0,1,45,1,59,0,199,1,171,255,204,0,32,1,254,253,240,0,251,0,147,255,0,1,161,1,222,255,99,254,101,0,174,1,128,1,156,0,225,255,246,255,206,0,170,1,77,2,145,0,143,0,71,0,40,3,138,3,77,1,93,1,218,3,170,3,77,2,75,1,20,5,56,3,187,0,253,1,38,4,141,2,123,1,210,1,182,5,169,3,145,1,18,1,19,3,93,3,9,1,2,0,97,2,41,2,28,0,49,1,158,3,84,1,106,0,130,1,241,0,245,254,109,255,225,0,78,255,234,253,91,1,246,1,125,253,131,254,141,1,30,0,117,253,35,253,77,254,142,1,105,254,42,253,28,254,8,255,235,252,110,252,74,254,36,254,14,254,122,254,75,0,217,254,60,252,178,253,162,253,150,0,135,255,207,255,101,255,178,255,167,3,38,2,133,1,38,0,191,254,127,0,168,1,59,1,227,254,143,255,27,1,3,1,146,2,203,0,66,1,230,1,135,3,249,1,236,2,161,1,99,2,167,1,43,2,0,2,239,0,173,255,190,253,237,255,173,254,37,253,93,1,13,0,90,252,137,250,142,255,152,254,107,0,180,2,182,0,90,0,37,251,254,249,241,249,43,253,200,253,121,252,173,250,243,253,251,253,171,252,163,252,20,252,88,255,78,253,189,252,63,0,119,255,212,253,221,253,144,0,226,254,207,252,229,1,63,1,109,255,104,254,14,2,246,0,165,254,78,254,41,1,228,255,222,254,41,254,170,251,251,250,52,254,153,254,36,252,230,252,67,5,19,5,178,2,11,2,192,4,44,4,70,4,245,2,57,3,116,4,240,2,238,1,228,4,85,5,171,4,130,3,9,2,29,4,20,2,176,1,178,254,40,255,199,254,249,254,96,255,52,0,40,254,101,255,127,0,136,0,132,254,44,0,83,3,154,1,94,255,23,254,123,0,1,255,228,252,101,253,66,4,149,3,21,3,237,1,117,5,173,4,46,2,202,0,205,255,138,255,170,254,67,253,83,0,108,0,214,255,71,254,61,0,95,0,31,1,0,1,229,255,89,0,12,2,19,2,95,1,227,0,80,2,33,2,185,2,155,0,92,255,51,1,126,2,18,1,23,254,206,255,242,2,240,0,90,255,132,255,140,255,189,253,68,251,193,255,190,0,217,254,240,251,240,250,147,0,136,254,79,255,143,255,73,3,217,4,27,4,156,2,2,0,37,1,39,2,48,1,184,251,71,252,8,255,120,1,18,253,59,252,87,0,4,2,237,254,252,253,177,2,135,1,133,254,125,253,108,3,82,2,122,254,11,252,123,253,61,2,149,255,200,253,79,253,198,252,255,251,229,255,184,254,53,255,93,3,237,2,36,2,233,0,132,249,237,251,195,1,108,0,108,253,148,253,174,1,236,0,21,0,116,254,122,251,137,253,92,5,18,5,199,3,65,2,101,4,101,4,77,2,198,1,189,254,159,252,45,254,153,0,44,254,69,253,220,252,3,254,120,254,50,253,52,255,221,255,165,253,187,251,201,253,94,255,7,254,20,252,154,255,94,1,219,0,224,0,167,1,252,0,139,1,79,2,96,2,107,1,22,253,160,255,117,1,172,0,171,0,39,1,202,2,83,1,233,0,77,0,107,0,21,1,157,0,153,0,13,254,156,254,11,6,49,4,64,2,238,1,220,254,173,254,8,254,176,253,121,252,184,255,149,253,31,254,198,249,163,251,201,253,2,255,231,252,5,254,204,253,221,254,20,254,236,253,246,1,48,2,130,254,171,1,88,2,230,0,29,255,221,1,251,0,75,0,29,1,74,3,45,3,220,1,226,250,203,250,186,0,121,1,181,253,107,252,131,2,125,1,94,251,215,253,155,1,82,0,153,251,204,252,82,255,228,253,164,253,119,0,31,2,205,0,132,254,145,2,141,3,55,2,112,0,214,254,138,254,114,0,167,252,5,255,56,0,159,0,145,1,89,1,222,255,116,255,145,255,161,253,41,0,102,2,99,1,142,255,179,255,218,1,66,2,56,0,170,5,156,3,74,4,140,5,229,2,144,1,246,0,22,0,76,2,57,1,135,255,71,1,63,3,216,1,142,251,160,253,88,3,40,2,39,251,208,251,126,2,88,2,154,254,254,0,179,254,209,254,122,253,227,2,102,1,74,0,202,4,135,6,197,4,81,3,193,8,88,6,215,3,124,2,49,7,197,5,237,2,128,1,94,1,7,1,87,0,128,0,146,248,83,252,112,255,192,255,58,249,1,255,32,1,225,255,172,245,42,251,110,1,235,0,149,249,188,251,192,250,208,254,227,253,205,251,164,251,123,0,102,251,4,255,208,252,76,255,8,252,21,2,53,2,233,0,25,254,82,254,68,255,78,1,99,3,212,4,22,2,171,0,202,249,185,249,123,2,118,2,108,247,54,1,156,3,156,1,202,246,184,254,188,3,17,2,177,245,135,254,118,2,22,1,214,245,61,1,31,3,43,1,154,246,133,0,84,1,31,0,148,247,68,250,131,0,125,0,96,251,22,254,117,255,46,0,24,253,191,1,123,3,52,2,67,0,61,254,134,2,92,2,215,253,83,254,148,252,140,1,162,0,190,255,25,5,147,3,223,1,67,2,64,4,26,3,194,1,22,1,54,2,68,1,223,251,102,255,148,0,79,255,15,246,168,0,46,4,80,2,209,246,214,255,51,3,89,1,216,246,61,253,209,2,250,0,129,247,39,250,203,254,122,0,178,255,183,255,120,0,173,0,252,255,6,1,249,254,251,254,81,254,192,255,107,254,36,253,207,245,116,0,173,255,63,255,11,250,80,252,35,254,43,253,4,254,51,1,170,0,172,0,64,3,161,1,64,3,174,2,31,255,177,0,126,3,50,3,30,254,123,254,255,4,15,4,129,254,201,0,162,254,40,0,218,2,123,2,226,0,14,2,247,1,206,1,82,1,142,1,23,2,202,2,40,0,230,254,202,5,191,5,61,4,219,2,25,6,48,4,141,3,181,2,139,5,2,5,121,3,111,3,129,4,216,2,162,4,72,3,30,255,106,4,181,3,177,2,18,254,38,252,236,249,128,255,200,253,47,253,55,253,230,255,61,1,12,2,70,0,135,0,107,254,159,252,26,249,116,253,82,255,223,252,117,3,5,3,103,255,165,255,75,4,239,2,6,254,131,251,85,3,134,2,241,0,14,3,7,2,27,2,61,7,164,6,77,4,172,2,31,251,50,250,48,254,188,0,131,252,127,250,224,250,171,254,121,255,182,1,81,255,18,0,87,4,208,3,63,1,208,0,106,250,24,249,83,0,202,1,238,253,24,252,51,1,129,0,184,252,241,255,227,255,156,254,113,252,100,252,133,251,14,255,137,255,240,253,127,0,123,255,7,253,3,253,190,0,173,255,197,254,127,3,10,2,231,0,34,255,102,0,193,255,84,254,60,1,187,2,123,1,70,0,25,0,204,2,58,1,148,255,251,1,106,3,54,2,238,0,108,0,173,3,7,2,195,0,169,1,196,255,85,254,1,1,139,0,153,255,138,253,190,1,78,1,114,1,156,1,48,0,84,255,78,253,229,254,45,2,187,0,226,254,158,0,227,1,140,0,14,1,168,254,137,253,156,3,67,2,140,255,132,0,142,0,210,1,188,255,192,255,230,0,111,255,210,254,226,253,221,252,112,252,250,3,225,2,251,252,247,3,118,2,41,1,220,245,95,0,189,1,80,1,182,247,235,1,254,1,191,0,27,251,161,0,254,255,188,254,86,250,135,253,56,253,151,255,182,252,2,255,101,254,100,0,128,253,222,254,242,3,251,2,118,253,57,1,145,4,218,2,140,0,249,1,6,4,254,2,4,3,31,1,43,4,55,3,239,1,237,2,49,1,67,1,92,255,206,1,78,0,143,1,170,254,150,252,69,0,85,2,240,255,108,2,109,2,81,1,118,255,68,254,247,254,218,0,84,0,62,254,185,3,154,2,34,255,221,252,29,2,92,2,103,252,160,250,244,0,116,0,183,252,45,253,118,2,76,2,140,0,151,2,38,1,112,1,167,3,22,4,113,3,247,2,210,6,184,5,148,3,116,2,180,1,195,3,25,1,1,0,137,255,74,0,30,2,213,0,1,0,201,253,45,1,241,0,4,1,179,1,222,0,140,1,168,3,189,3,84,4,191,2,254,1,250,1,40,3,222,1,89,2,182,2,192,3,108,2,204,3,229,2,212,3,88,2,66,3,205,2,255,2,172,2,131,2,204,3,167,3,126,2,245,1,149,2,208,2,83,3,151,255,136,253,209,254,139,255,83,254,130,0,21,3,186,1,246,253,68,255,192,2,117,1,9,253,42,0,46,3,11,2,237,253,143,251,117,1,66,2,86,253,77,251,57,254,29,1,117,251,215,249,182,251,44,0,81,0,174,255,200,2,107,1,221,1,246,0,186,3,110,2,68,6,86,6,253,4,123,3,129,5,91,3,156,3,124,3,6,3,17,4,179,3,118,4,40,0,222,253,181,255,32,1,152,253,150,255,71,253,230,255,87,255,96,255,133,252,29,253,233,254,128,254,251,251,162,254,245,6,28,5,22,4,48,3,44,6,253,5,192,5,154,4,225,5,52,4,192,4,131,3,122,3,136,3,52,2,142,2,152,3,180,2,253,3,88,3,19,254,132,0,177,0,249,1,71,0,195,0,228,255,97,0,200,1,95,1,92,255,88,0,183,1,22,1,216,255,94,1,115,5,181,3,234,0,161,255,219,252,40,254,38,0,93,255,111,1,158,255,233,1,11,2,1,4,154,4,188,4,138,3,63,1,34,5,46,3,205,1,133,255,225,253,220,252,191,1,20,253,188,254,127,252,153,251,31,253,11,254,235,252,55,253,203,2,9,3,215,4,154,3,157,7,147,7,88,5,97,3,218,2,112,3,246,2,132,1,153,252,198,1,17,0,5,255,131,254,214,252,209,249,239,0,247,253,58,252,232,252,3,1,134,252,178,250,254,252,183,255,166,0,93,1,44,255,67,1,184,252,211,254,217,1,179,1,89,253,48,254,216,2,95,1,100,255,57,255,155,2,176,1,29,0,4,255,159,1,224,1,37,253,133,254,145,0,47,2,240,253,137,253,122,251,97,255,189,1,17,1,123,0,127,2,117,1,130,255,32,3,56,2,84,0,94,255,208,2,200,2,194,252,232,253,71,255,222,0,152,1,196,1,245,1,3,3,127,252,181,250,189,255,186,1,232,252,130,250,54,2,90,2,167,0,186,254,253,1,74,1,161,255,142,253,38,253,168,254,132,6,193,4,11,3,199,1,36,5,60,3,72,2,207,2,148,1,225,255,245,3,21,3,89,0,107,0,123,3,37,2,103,3,45,6,149,3,159,2,98,3,199,5,9,5,86,3,135,1,44,4,98,4,44,3,78,0,206,253,89,1,51,2,173,1,153,255,161,1,19,3,134,255,75,254,155,1,20,3,111,252,95,254,90,2,242,2,30,255,240,255,151,0,248,2,68,253,118,0,152,255,242,255,152,251,48,0,28,1,137,1,122,254,93,254,129,253,140,255,114,252,50,1,60,1,243,255,183,4,216,3,53,3,157,2,85,251,75,253,140,0,43,255,140,252,96,254,57,255,210,253,152,253,245,0,108,254,104,253,6,1,56,0,151,253,44,253,171,255,21,254,192,254,112,253,198,253,193,252,127,255,240,253,30,250,193,255,145,254,127,254,154,254,191,254,4,0,51,0,146,254,42,255,63,1,255,1,146,0,159,2,239,255,221,254,146,255,208,1,117,255,16,254,54,255,220,0,200,254,137,253,108,253,183,255,113,253,204,252,106,253,115,253,248,250,167,252,82,254,71,252,65,252,248,254,207,255,44,254,184,255,131,254,162,254,205,253,63,255,105,254,55,0,104,254,221,252,11,0,203,254,137,2,188,0,58,255,0,254,205,1,177,255,54,254,218,250,249,254,122,255,245,253,135,249,77,254,17,254,3,253,57,0,165,254,98,254,178,1,139,251,14,255,104,253,167,252,34,0,188,255,61,253,174,254,163,1,163,0,226,255,250,254,57,254,235,252,106,250,47,253,238,3,152,2,13,1,25,0,107,2,4,1,183,0,96,0,56,252,178,250,124,254,135,0,75,253,67,3,200,1,154,0,81,4,191,2,57,2,107,1,89,6,46,5,217,3,236,2,36,255,219,0,76,0,48,255,81,250,130,249,49,0,149,0,60,252,84,255,16,253,176,254,113,2,209,0,6,255,190,255,7,252,186,252,254,255,61,1,136,247,51,250,118,255,123,0,172,248,205,247,247,253,85,0,57,252,146,254,73,253,143,252,103,252,13,252,5,253,75,252,132,255,0,255,160,254,108,253,178,0,207,1,98,1,48,1,48,249,177,253,230,254,79,0,55,247,175,0,99,3,243,1,118,255,76,255,75,255,235,255,13,247,39,251,52,254,248,253,253,252,195,1,246,255,204,254,15,1,191,255,4,0,214,0,233,254,77,254,213,255,164,254,98,253,35,0,191,255,45,255,38,3,23,2,85,0,41,1,57,0,239,0,210,2,237,1,225,0,149,2,72,3,35,2,228,253,136,254,14,0,93,1,213,1,209,2,75,1,162,0,224,253,16,253,194,255,246,255,142,1,168,255,212,2,189,2,237,255,235,253,162,255,89,2,136,0,185,255,87,253,21,253,90,255,168,254,5,1,206,255,161,0,204,255,229,1,81,1,117,249,50,0,190,0,163,255,22,247,25,255,62,255,174,255,161,255,173,253,102,255,128,0,126,3,245,1,76,2,201,1,167,254,206,0,122,0,110,0,137,253,29,255,199,253,3,0,152,1,239,0,141,1,226,0,59,255,254,255,128,0,235,1,1,5,136,3,36,1,215,0,26,2,50,1,3,1,253,1,91,253,233,251,13,0,65,1,89,253,180,253,154,254,44,255,210,253,243,0,134,2,223,1,230,1,86,1,122,2,20,2,107,0,34,3,75,1,136,0,144,255,114,254,249,251,226,254,186,254,63,253,32,1,16,1,19,5,120,4,154,4,92,3,89,254,121,0,127,254,108,255,217,254,210,254,190,252,205,252,16,0,232,255,55,255,36,254,43,2,91,0,11,255,38,1,218,255,133,254,62,252,59,251,89,251,18,250,239,254,117,254,122,254,11,252,123,253,61,2,205,248,250,251,249,1,212,1,232,2,179,3,97,2,237,1,79,253,108,251,140,253,121,255,254,251,195,0,155,1,196,0,46,6,123,4,63,2,81,1,41,251,247,252,120,253,114,255,83,2,57,3,199,3,223,2,74,251,54,252,175,255,170,254,23,253,13,0,184,255,119,1,198,1,19,0,127,5,153,3,145,249,84,255,93,3,50,2,160,3,1,6,39,4,228,2,88,246,72,252,8,1,82,0,10,254,59,252,202,250,123,0,99,3,212,4,22,2,171,0,240,246,52,254,12,3,107,1,90,251,151,253,252,0,195,255,82,255,34,0,243,3,20,3,227,246,247,0,167,1,153,0,240,255,157,254,6,1,193,1,216,249,207,251,224,253,141,254,153,253,207,254,27,4,37,3,175,2,16,2,6,0,74,255,167,3,107,3,234,3,41,3,199,0,1,1,126,0,76,0,184,253,142,251,87,2,44,2,175,251,145,250,201,249,249,253,47,252,211,250,108,0,91,1,46,253,49,252,109,1,101,0,111,255,169,2,249,0,103,255,0,0,178,254,198,253,159,0,156,1,29,1,176,254,151,253,71,252,58,252,119,3,177,2,29,251,84,0,71,255,114,254,176,253,177,1,20,4,141,2,85,0,73,1,216,255,105,1,79,254,63,253,210,1,62,2,102,255,142,2,80,2,34,1,89,255,72,0,93,1,175,0,162,2,41,1,209,3,208,2,211,4,180,4,245,2,232,1,112,254,243,254,26,2,116,1,186,250,149,250,86,251,165,255,238,4,108,3,7,3,188,2,169,253,218,255,82,254,46,253,184,7,94,6,223,3,96,2,111,0,20,1,30,255,160,255,77,252,124,254,245,255,249,255,209,254,237,253,185,252,82,1,198,6,174,6,125,5,245,3,252,253,169,252,123,253,210,0,80,253,96,254,1,2,230,0,202,252,131,253,134,251,192,254,72,252,110,253,74,253,183,0,142,255,145,253,50,3,162,2,65,255,52,255,219,2,123,2,51,0,197,4,115,3,64,2,70,252,81,254,58,3,86,2,170,254,13,253,124,252,105,254,154,251,158,254,50,255,0,254,221,253,214,252,155,254,148,253,66,0,3,2,183,255,102,254,152,252,79,252,92,250,53,251,191,0,239,255,224,253,25,255,252,249,224,253,123,252,138,252,134,252,242,249,19,246,205,252,54,252,175,0,198,252,46,251,6,253,169,253,234,255,122,2,213,252,37,252,122,252,189,254,203,0,26,0,129,254,21,255,243,252,113,254,238,4,138,3,92,252,137,250,156,250,144,253,93,0,87,0,98,254,229,253,77,253,37,0,121,2,254,1,125,254,36,254,206,250,143,1,66,0,7,1,105,254,207,255,177,254,95,254,17,4,73,7,245,252,191,251,96,250,22,253,166,252,64,3,187,253,9,253,141,254,95,253,6,254,40,8,208,253,134,253,101,251,15,1,241,0,14,0,74,254,12,255,115,254,207,1,178,4,23,4,162,253,227,252,98,250,205,255,189,254,225,1,32,255,184,253,241,253,238,1,113,3,170,2,79,254,206,254,22,252,42,2,147,2,222,0,171,0,96,255,159,254,169,2,6,7,29,6,172,252,99,251,97,249,176,254,102,253,114,0,187,253,12,253,24,253,61,255,119,1,241,1,47,254,220,252,182,251,154,0,26,1,125,255,206,255,65,255,49,253,67,1,220,2,6,6,46,253,205,252,132,250,105,0,6,255,185,0,78,255,10,254,26,253,65,1,254,1,87,4,189,254,201,253,58,252,127,0,228,1,82,1,96,255,52,0,174,254,220,2,87,5,18,6,142,253,222,252,96,249,226,254,182,253,164,2,73,253,169,254,142,254,22,254,39,1,101,7,138,253,194,253,10,252,176,255,133,2,187,255,250,255,194,254,148,254,14,3,170,5,14,4,199,254,35,253,141,250,120,0,60,0,221,1,248,254,183,253,133,255,199,2,221,4,121,2,165,255,157,254,8,252,3,3,246,2,5,1,253,0,81,0,38,254,162,3,167,8,184,6,216,252,181,251,123,248,208,253,242,252,169,0,220,252,206,251,68,255,142,253,201,255,125,5,74,253,52,253,86,251,108,253,98,1,73,1,254,253,201,255,225,253,110,1,9,4,158,4,110,253,65,252,179,250,201,255,72,255,93,0,163,253,226,254,106,253,148,1,193,1,59,3,226,254,162,254,17,251,116,2,50,1,227,0,240,255,147,0,145,253,186,0,155,3,98,8,94,253,134,252,186,249,69,254,28,255,83,1,143,254,234,252,103,254,231,0,86,0,189,5,64,254,187,253,219,251,82,2,194,1,79,255,132,255,86,255,65,254,159,2,135,4,124,5,36,254,101,253,25,250,179,255,118,255,204,2,79,255,140,254,131,254,195,1,166,3,147,3,6,255,80,254,202,252,16,1,60,3,190,1,26,0,19,0,225,255,186,2,156,6,120,8,122,253,47,252,124,248,77,255,39,254,12,1,133,254,23,253,77,253,11,0,127,0,9,4,24,254,107,252,199,252,61,0,67,1,135,0,147,0,111,255,82,253,173,2,18,3,146,6,6,254,176,252,239,250,35,0,90,0,222,0,233,255,166,254,98,253,199,1,79,2,7,5,53,255,175,253,194,251,140,2,96,1,181,1,39,0,63,0,55,254,73,3,241,4,57,8,248,253,142,252,208,249,184,254,57,253,141,5,172,253,170,254,186,255,209,0,173,0,136,7,89,254,170,253,103,252,165,1,93,2,218,255,254,255,11,255,129,255,128,3,177,7,111,4,133,254,250,253,213,249,173,0,118,0,241,2,201,255,131,254,204,255,217,3,253,3,241,2,254,255,221,254,133,252,241,2,224,3,167,1,8,1,131,0,60,255,127,3,226,8,239,9,133,253,192,251,61,246,239,253,42,252,14,2,4,253,194,252,220,253,76,254,60,1,87,2,93,253,84,252,22,253,199,255,236,0,245,255,55,255,175,255,226,252,16,0,77,3,22,6,31,253,39,252,68,251,44,254,17,0,34,1,233,254,184,253,68,253,183,0,54,3,193,2,247,254,20,254,93,251,165,1,152,0,212,1,122,254,166,0,244,254,39,0,14,6,76,7,133,253,58,252,221,249,59,254,20,254,142,3,228,254,253,251,181,255,75,255,123,255,60,7,67,254,144,253,106,251,164,1,111,1,207,255,123,254,44,255,87,255,195,2,49,4,184,4,229,253,58,253,87,250,83,0,93,255,228,1,20,255,225,253,157,254,82,1,151,4,46,3,10,255,203,254,66,252,94,2,248,2,60,0,166,0,248,255,93,255,206,254,57,7,3,10,21,253,255,251,9,249,93,254,66,254,209,0,50,253,202,253,234,253,6,254,181,2,89,3,49,254,71,253,198,251,69,1,175,1,50,255,241,255,248,255,5,253,33,2,151,3,238,5,157,253,241,252,223,250,0,1,201,255,208,0,91,255,164,254,106,253,65,1,168,2,162,3,186,254,83,254,73,252,228,1,190,1,58,2,59,255,72,0,183,255,141,3,175,5,205,6,205,253,31,253,74,248,132,255,96,254,206,2,34,254,108,254,198,254,240,255,190,1,100,6,217,253,231,253,18,253,198,255,126,2,214,0,55,0,71,255,241,254,124,4,21,5,188,4,29,254,97,253,16,251,117,0,29,1,31,2,52,255,121,254,145,255,1,2,2,6,86,3,142,255,66,255,46,252,109,3,83,2,208,1,4,1,4,1,201,254,236,2,235,8,168,8,251,253,79,252,133,247,186,254,60,253,122,1,212,252,77,253,24,255,208,253,175,2,129,5,36,253,78,253,188,252,153,254,133,2,130,1,247,254,62,0,90,253,145,0,108,6,184,4,213,253,36,252,47,251,178,255,14,0,114,0,185,254,154,254,23,254,136,1,165,2,185,2,55,255,20,255,140,251,181,2,193,1,178,0,13,255,0,1,79,254,99,2,105,5,152,9,156,253,123,252,72,250,205,254,239,255,243,1,197,254,101,253,2,255,0,1,172,1,183,5,26,254,90,254,224,251,143,2,114,1,18,0,154,255,71,255,236,254,243,2,42,6,55,5,24,254,165,253,118,250,182,0,163,255,102,3,183,255,54,254,164,254,67,3,94,3,189,3,230,254,179,254,22,253,35,2,71,3,172,1,17,1,167,255,13,0,172,3,172,6,16,10,94,254,196,251,34,249,212,255,154,254,3,1,15,254,125,253,208,253,99,0,45,2,193,3,91,254,2,253,107,252,39,1,70,1,184,0,175,0,15,0,142,253,20,2,110,3,189,7,69,254,0,253,5,251,221,0,156,0,12,1,39,0,149,254,7,254,183,2,4,3,116,4,94,255,53,254,112,252,197,2,188,1,146,2,25,0,47,1,200,254,244,4,130,5,179,6,215,254,2,253,212,248,249,254,148,255,46,4,106,254,243,255,127,255,57,0,182,1,174,10,138,254,25,254,189,252,48,1,184,2,164,0,104,0,21,255,5,0,75,6,108,7,119,5,27,255,186,253,211,250,149,1,192,0,49,3,169,255,74,254,111,0,4,4,175,4,225,3,68,0,81,255,90,252,9,4,93,4,195,1,222,1,200,0,8,255,79,8,136,10,250,7,189,252,213,250,173,247,225,252,76,253,210,1,212,252,248,251,43,254,146,253,32,1,152,3,67,253,183,252,210,251,101,254,0,2,8,0,122,254,165,255,24,253,226,255,19,4,137,4,202,252,132,251,124,251,218,254,210,255,110,0,101,254,138,254,90,253,214,0,19,2,156,2,106,254,92,254,86,251,231,1,232,0,47,1,194,254,91,0,40,254,123,0,208,4,141,9,46,253,72,252,41,250,30,253,93,253,52,5,225,253,162,253,45,255,161,255,158,255,228,5,219,253,254,253,87,251,217,1,211,0,73,0,224,254,144,255,123,254,25,2,52,5,234,4,201,253,13,253,247,249,71,0,229,254,120,2,86,255,31,254,19,254,169,2,234,3,49,3,156,254,181,254,147,252,163,1,194,2,90,1,241,0,222,255,186,254,121,1,158,7,91,7,41,253,205,251,167,249,23,255,225,253,116,0,244,253,218,252,183,253,183,255,222,1,217,2,224,254,99,252,137,251,173,0,191,1,204,255,68,0,27,255,162,253,193,1,17,2,5,7,177,253,149,252,173,250,183,0,112,255,68,1,153,255,60,254,102,253,111,2,232,1,152,4,18,255,1,254,20,252,70,1,40,2,202,1,136,0,108,0,193,254,114,2,63,5,91,7,22,254,122,253,62,249,70,255,63,254,216,3,30,253,180,255,86,255,218,253,243,2,0,10,16,254,2,254,77,252,210,0,182,2,204,255,84,0,190,254,57,255,66,4,89,6,200,4,136,254,165,253,140,250,87,1,74,0,120,2,81,255,10,254,224,255,204,3,52,5,222,2,52,0,217,254,167,251,41,4,150,3,160,0,137,1,107,0,115,254,190,4,89,10,205,6,136,253,79,251,157,248,49,253,235,254,97,1,117,253,144,252,134,255,45,255,209,0,58,5,206,253,54,253,221,251,48,255,132,1,159,0,192,254,195,255,217,253,37,1,68,4,163,5,120,253,159,252,27,251,207,255,113,255,49,1,111,254,29,255,183,253,49,2,20,2,159,3,139,255,69,254,92,251,251,1,180,1,36,1,177,255,233,0,54,254,159,2,1,4,92,9,135,253,182,252,11,250,204,254,226,254,128,2,139,254,147,253,105,254,162,1,253,0,25,5,197,254,187,253,143,251,60,2,173,2,231,254,61,0,188,255,141,254,223,3,77,4,218,5,19,254,85,253,174,250,209,255,164,0,192,2,0,255,198,254,244,254,119,2,181,3,28,4,138,255,164,254,191,252,68,0,156,4,56,2,152,0,117,0,34,0,89,4,110,7,191,8,167,253,65,252,86,249,113,255,23,254,224,1,180,254,113,253,194,253,54,0,97,1,168,4,50,254,116,253,228,252,150,0,37,2,112,0,195,0,145,255,253,253,167,2,84,4,111,6,210,253,19,253,63,251,247,255,16,1,85,1,203,255,247,254,233,253,233,1,75,3,18,5,136,255,30,254,248,251,120,2,31,2,152,1,179,0,50,1,242,253,100,4,184,5,196,8,95,254,238,252,230,249,32,255,128,254,84,5,135,254,53,254,231,255,129,1,233,1,126,8,180,254,117,253,195,252,32,2,41,2,61,0,22,0,143,255,167,255,104,4,189,6,244,5,40,255,139,254,139,249,161,0,60,1,140,3,91,255,34,255,189,255,82,5,151,4,21,3,73,0,4,255,1,253,226,2,164,3,104,2,106,1,246,0,130,255,19,3,94,10,211,11,77,253,174,251,114,247,203,253,180,253,12,2,178,253,45,252,22,254,249,254,141,1,214,3,191,253,187,252,79,252,234,255,179,1,207,255,66,255,138,255,139,253,168,255,216,4,233,5,132,253,229,251,5,252,221,254,189,0,3,1,255,254,42,254,139,253,145,0,177,3,126,3,186,254,148,254,186,251,31,2,4,1,118,2,54,255,189,0,47,255,101,1,99,5,43,8,199,253,205,251,87,250,54,253,17,255,151,3,92,254,63,253,172,255,147,255,142,255,103,9,99,254,239,253,103,251,226,1,112,1,131,0,70,255,184,255,125,255,93,3,231,4,196,4,157,253,110,253,195,250,227,0,135,255,119,2,80,255,23,254,38,255,233,2,151,4,189,3,191,254,108,255,88,252,159,2,198,3,216,0,84,1,253,255,113,255,213,1,56,7,133,9,39,253,63,252,109,249,43,255,2,255,65,1,1,254,74,254,247,253,130,255,213,2,135,3,172,254,83,253,248,251,60,1,224,1,20,0,23,0,167,255,217,253,97,1,27,4,253,6,224,253,11,253,172,250,42,1,231,255,180,1,156,255,120,254,249,253,211,1,242,2,54,4,46,255,114,254,202,251,108,2,146,2,118,2],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+10240),
allocate([33,0,147,0,78,255,153,3,151,6,129,7,187,254,240,253,70,248,2,0,227,254,142,3,141,254,22,254,26,255,0,0,85,2,218,7,16,254,117,254,190,252,37,0,177,3,245,0,181,0,96,255,112,255,201,5,93,5,77,5,157,254,167,253,10,251,42,1,66,1,160,2,63,255,176,254,77,0,65,4,253,5,154,3,177,0,217,255,155,251,228,3,13,3,24,2,200,1,110,1,80,254,135,5,136,9,231,8,46,254,10,253,235,246,209,254,3,254,131,1,41,253,211,253,66,0,111,255,131,2,224,4,224,253,92,253,108,252,31,255,94,3,76,2,104,255,40,0,235,253,167,1,143,5,22,6,196,253,181,252,135,251,128,255,85,0,205,1,18,255,255,254,184,253,93,2,236,2,93,3,24,0,54,255,127,250,29,3,231,1,47,1,75,255,108,1,74,255,104,2,98,5,126,11,18,254,172,252,95,250,220,254,61,0,44,3,172,255,45,253,74,255,43,2,20,2,226,5,147,254,19,254,223,251,54,3,76,2,11,0,242,255,238,255,26,255,233,3,121,5,171,5,38,254,199,253,244,250,46,1,62,0,38,4,186,255,136,254,34,255,214,3,206,3,125,4,60,255,22,255,229,252,223,1,74,4,243,1,106,1,58,0,70,0,123,4,21,8,41,11,25,254,146,252,224,248,73,0,224,254,92,1,154,254,12,254,4,254,199,0,209,2,218,4,178,255,71,253,229,252,105,1,24,2,196,0,118,1,110,0,33,253,79,3,27,4,104,7,146,254,55,253,98,251,59,1,64,1,173,1,72,0,41,255,62,254,247,2,118,3,83,5,226,255,84,254,190,252,93,3,115,2,28,3,118,0,212,1,233,254,75,5,91,7,101,7,68,255,126,253,180,249,63,0,81,255,174,4,94,254,45,255,51,0,158,1,75,2,41,10,22,255,211,253,166,252,168,1,121,3,222,0,136,0,155,255,83,0,133,5,230,8,103,5,172,255,67,254,147,250,158,1,57,1,21,4,29,0,169,254,65,0,16,6,111,6,212,3,183,0,165,255,195,252,249,4,133,5,104,1,41,2,16,1,149,255,51,6,77,12,43,10,104,5,29,8,92,13,244,19,86,26,186,31,135,38,84,43,170,49,133,53,61,254,215,251,239,253,231,250,62,254,12,253,15,254,161,252,128,254,149,253,99,254,99,253,195,254,230,253,181,254,212,253,98,254,4,254,88,254,134,254,238,254,188,254,78,254,154,253,30,255,12,254,24,255,254,253,249,254,135,254,214,254,102,254,105,255,58,253,82,255,206,252,107,255,100,254,100,255,83,254,224,254,50,254,70,255,53,255,86,255,210,254,65,255,191,254,125,255,109,255,215,254,117,254,28,255,42,255,11,255,64,255,189,255,196,254,185,255,185,254,152,255,51,255,162,255,73,255,113,255,218,255,63,255,161,255,16,0,180,255,132,255,8,255,23,0,19,255,24,0,12,255,18,0,120,255,44,0,145,255,223,255,232,255,231,255,0,0,149,0,19,0,23,0,113,255,158,0,87,255,174,0,75,255,133,0,201,255,165,0,230,255,111,0,84,0,98,0,75,0,87,0,183,0,141,255,245,255,248,255,130,0,11,0,170,0,254,0,77,0,205,0,17,0,183,0,112,0,6,1,194,0,202,0,31,1,95,0,189,0,214,255,151,255,234,0,179,0,39,0,186,0,163,0,89,1,76,1,199,0,43,1,161,0,202,255,29,1,178,255,25,1,123,255,141,0,74,255,111,0,249,0,85,1,15,1,108,1,93,0,147,1,75,0,135,1,92,0,254,1,118,255,220,0,71,255,227,255,222,255,105,1,141,255,64,1,3,0,42,2,99,0,30,1,218,0,79,2,11,255,150,1,244,254,197,1,0,0,68,2,25,0,94,2,19,1,20,2,148,0,194,1,183,255,227,2,227,254,6,2,224,254,94,0,53,255,162,2,116,255,182,255,205,0,202,2,142,255,43,1,176,0,155,3,182,0,45,2,240,0,193,2,240,255,1,2,229,1,81,2,37,1,128,1,195,1,105,2,218,255,50,0,51,2,17,2,47,1,209,0,203,1,107,1,177,1,196,1,194,1,198,1,111,1,94,2,221,1,229,2,176,1,97,1,112,1,11,1,105,1,204,2,17,1,71,2,197,1,166,0,254,1,172,0,201,0,117,2,18,1,191,0,56,2,127,2,46,1,42,1,122,2,131,1,131,2,94,1,75,2,48,2,100,2,53,2,88,2,20,3,231,1,160,2,0,2,247,3,65,1,77,1,101,1,86,3,131,255,157,1,218,1,200,2,17,0,105,255,52,2,29,1,14,1,15,255,203,3,121,3,233,1,220,0,254,1,128,3,37,2,156,3,71,1,57,3,34,1,143,3,28,2,84,4,158,0,37,3,199,0,189,3,255,1,218,2,100,0,106,3,13,0,23,3,179,1,120,2,164,2,204,3,249,0,132,3,211,1,194,4,13,3,50,4,73,2,17,3,233,255,157,2,11,1,19,4,107,2,60,4,103,2,121,4,110,2,137,3,148,3,25,4,80,0,75,1,72,2,51,4,89,0,127,2,220,3,193,3,2,3,208,2,30,3,187,2,236,1,191,1,131,3,115,2,15,1,164,4,213,2,53,5,87,0,91,2,64,3,67,6,104,2,103,4,122,3,225,5,232,3,132,4,98,3,241,3,227,3,59,3,125,4,90,3,49,3,170,5,5,3,40,5,244,1,109,5,56,1,129,4,236,255,60,4,64,0,3,5,2,0,148,4,143,1,77,7,2,2,170,6,246,1,100,6,118,3,242,5,160,1,88,2,107,4,70,5,251,4,110,5,121,3,3,7,146,3,230,6,227,0,159,4,226,4,34,7,249,1,62,7,151,3,49,9,57,255,175,1,152,0,199,6,43,255,228,255,136,1,54,5,103,255,204,255,210,3,127,4,189,254,112,254,45,3,167,6,120,255,84,0,169,5,223,7,181,254,113,255,119,255,168,4,0,255,22,2,99,255,7,4,205,254,73,254,30,2,219,2,183,254,92,254,159,255,104,2,150,254,88,255,190,254,110,1,9,255,146,255,45,255,89,0,60,255,203,254,20,0,59,0,148,254,49,254,226,254,89,0,176,254,175,0,80,254,141,0,133,254,66,255,78,254,60,255,177,255,150,0,234,254,29,255,232,254,166,0,213,253,90,254,101,255,29,2,146,254,54,0,227,255,173,255,211,254,250,252,186,0,116,2,115,254,248,254,242,0,37,1,59,255,183,253,124,0,154,1,53,0,123,255,10,0,84,1,198,253,215,251,65,0,66,254,68,0,19,254,127,1,169,3,155,254,57,253,153,254,6,255,91,253,212,251,36,1,230,255,107,1,6,0,95,2,33,5,129,255,246,255,233,5,94,7,201,2,204,3,189,5,133,8,163,5,224,7,161,249,192,249,252,248,14,247,253,251,22,249,180,251,23,248,3,251,148,250,169,250,2,250,77,252,75,250,52,252,12,250,25,252,58,251,4,252,108,251,209,252,37,252,32,252,165,250,64,251,18,252,247,250,186,251,24,253,12,251,13,253,243,250,162,252,101,252,119,252,40,252,90,253,229,251,83,253,230,251,193,251,39,252,218,251,89,253,35,252,127,253,153,251,48,252,6,253,114,253,134,252,218,252,191,252,189,251,62,253,139,253,147,253,218,252,128,253,212,252,249,252,134,253,245,252,225,253,28,252,203,253,205,251,188,253,222,253,157,253,196,253,149,253,8,253,222,254,145,252,242,253,201,252,50,254,229,252,3,255,215,253,97,254,179,253,73,254,235,253,172,254,76,253,89,252,7,254,252,252,66,253,149,251,249,254,206,254,53,252,29,254,67,254,182,255,213,253,220,253,154,253,127,255,75,253,22,255,116,254,10,255,37,254,6,255,247,254,108,254,136,254,254,253,95,254,2,254,212,254,199,254,178,254,104,253,49,254,210,252,126,254,64,253,175,254,153,253,22,255,55,255,23,255,17,255,89,255,201,253,53,255,149,253,109,255,97,254,141,255,160,254,90,255,18,253,85,255,7,253,242,254,145,252,248,254,121,252,145,254,24,253,43,0,37,254,14,0,115,253,43,0,98,253,11,0,64,254,197,255,247,253,130,255,137,255,101,255,155,253,214,255,161,252,229,255,93,252,136,0,29,254,183,0,44,254,55,0,214,254,55,0,208,254,57,1,159,253,57,1,48,253,66,1,89,255,100,0,227,253,253,255,137,255,145,255,69,255,233,0,20,255,4,1,22,255,26,0,91,255,134,0,211,255,216,255,219,253,104,1,53,255,122,1,124,254,194,1,129,254,19,1,20,0,182,0,153,255,246,0,145,255,175,1,37,0,206,1,110,255,231,1,99,255,228,254,197,255,247,1,72,255,24,0,53,0,253,255,54,0,122,0,3,1,77,1,66,0,228,1,104,0,180,1,68,0,195,0,116,0,190,0,206,0,13,1,247,255,226,1,96,1,126,1,29,1,143,1,21,1,196,1,0,1,69,0,186,0,13,0,41,1,243,255,3,1,161,255,30,0,56,0,138,1,196,0,169,1,205,0,200,1,25,1,65,2,15,0,191,0,119,1,34,1,151,1,64,2,200,255,227,0,32,2,149,1,0,0,37,2,164,255,16,2,27,255,95,1,11,255,82,1,150,254,179,1,167,0,15,2,181,255,46,1,91,0,56,3,129,0,87,2,240,1,167,2,186,0,237,2,153,0,225,2,231,254,88,2,164,254,103,2,20,255,1,3,41,0,113,3,38,0,122,3,36,255,73,3,155,254,115,3,119,254,135,3,134,253,218,1,68,254,82,3,81,255,166,2,19,254,242,0,249,253,17,3,54,253,70,2,227,253,110,1,225,253,178,1,171,253,244,1,3,253,222,0,66,253,149,3,25,253,194,3,155,252,245,1,125,252,36,2,133,254,200,0,77,254,157,0,205,252,214,0,163,252,157,0,154,253,40,0,136,253,94,0,141,252,202,255,27,253,4,2,11,254,42,1,154,253,85,255,154,252,95,255,159,252,233,255,206,252,93,0,9,252,245,254,106,253,153,254,219,253,2,0,70,254,135,255,135,254,0,0,29,255,33,0,98,254,130,255,127,255,212,0,90,252,34,0,198,251,230,254,161,251,244,254,58,253,199,252,92,254,65,255,204,251,96,252,107,252,163,255,140,253,154,254,97,0,7,0,50,255,119,254,155,255,24,0,53,255,38,0,88,255,83,0,169,253,89,254,233,254,170,1,68,253,118,0,181,255,206,0,43,252,95,253,88,253,161,1,145,254,37,0,233,254,218,1,127,255,194,254,63,1,40,1,142,253,217,255,87,1,90,2,72,253,217,255,209,254,172,3,104,0,233,0,132,254,137,0,220,255,13,1,181,255,42,255,120,0,43,0,239,253,35,254,203,1,164,0,54,255,27,255,207,255,89,255,97,2,24,3,98,0,36,255,147,3,148,0,37,1,27,1,101,3,91,0,63,2,138,1,70,1,178,255,205,2,67,0,109,1,189,254,104,2,220,255,219,2,27,0,107,2,238,0,120,2,17,1,192,1,99,0,33,3,220,1,101,3,17,1,173,2,64,0,21,3,72,0,253,3,217,0,25,3,203,1,222,2,104,1,134,2,224,1,104,1,66,1,173,1,208,1,126,2,174,1,244,2,107,1,232,3,148,1,171,2,16,2,90,2,103,2,143,2,157,1,178,3,175,2,169,3,90,2,136,3,92,2,43,2,225,2,18,3,150,2,211,1,142,2,106,1,77,2,161,3,198,2,242,1,222,1,159,1,164,1,181,2,115,3,45,3,171,2,13,3,157,3,145,3,171,3,214,2,220,2,235,1,85,3,19,2,180,3,222,2,195,3,59,1,40,3,249,2,243,2,120,4,248,2,143,2,52,4,58,3,33,4,67,4,70,3,235,3,40,3,23,4,109,4,147,2,77,4,224,3,26,4,50,4,51,4,203,3,182,2,202,4,30,4,59,2,73,3,116,3,124,5,99,5,72,4,56,4,93,3,207,4,223,2,4,5,248,2,248,4,223,3,87,5,29,4,233,4,188,2,26,4,22,2,220,3,197,1,240,4,87,2,116,4,167,2,85,6,47,3,104,5,9,2,37,5,137,1,28,6,37,3,168,5,174,2,44,4,136,2,107,3,51,1,59,4,105,1,23,4,61,1,137,5,196,3,163,2,59,2,128,4,79,0,90,4,209,255,250,5,55,1,185,6,58,1,142,4,177,2,2,2,162,255,93,1,26,1,132,5,72,1,1,4,231,1,191,255,57,0,37,3,202,3,36,0,62,0,1,3,249,254,23,3,166,254,125,2,187,2,119,255,108,2,22,2,29,2,33,253,194,0,199,2,44,1,244,254,161,252,158,3,1,3,60,253,84,254,250,1,174,0,132,252,138,253,179,1,35,2,101,250,254,254,109,2,215,1,6,252,168,250,119,254,9,2,104,252,82,253,231,255,20,0,42,252,124,251,84,1,9,0,234,249,145,251,160,254,48,0,213,249,110,254,137,252,6,0,124,251,136,252,220,253,160,254,149,249,112,251,97,255,98,2,24,248,61,252,31,255,193,0,136,249,88,248,11,255,19,254,60,252,112,249,88,252,133,253,237,250,48,249,148,250,164,253,252,249,189,252,139,250,121,255,204,249,222,254,122,249,56,253,37,248,160,249,129,249,229,255,46,247,213,252,123,251,184,0,15,251,189,0,169,250,74,2,37,248,201,0,234,252,200,2,70,251,3,0,247,251,40,3,29,251,62,3,145,255,123,2,156,249,191,1,49,254,75,252,67,254,96,252,8,254,118,251,11,254,69,251,144,0,161,254,140,254,228,251,229,254,221,251,233,254,157,251,193,253,98,250,181,253,178,249,89,252,40,252,229,0,178,2,103,252,49,253,109,254,82,5,83,253,47,254,106,3,141,1,3,254,210,255,61,1,54,5,27,254,200,1,45,3,183,1,101,254,83,1,130,3,43,4,87,254,46,0,161,5,241,1,115,252,224,252,185,5,22,4,2,255,191,254,150,5,141,4,68,0,94,1,10,4,154,2,114,1,11,0,31,5,22,3,143,0,232,0,17,4,26,6,142,255,151,2,80,6,54,4,198,1,67,2,251,4,16,4,180,255,141,3,240,2,43,4,153,0,0,2,92,1,190,4,102,2,129,1,51,7,40,3,13,1,10,4,203,0,62,4,140,2,249,3,247,6,106,4,173,1,47,5,131,1,104,5,207,255,159,4,184,255,191,4,96,254,233,3,32,2,213,6,160,254,199,4,10,254,175,4,179,253,57,2,29,255,94,6,114,255,42,6,26,255,179,6,54,253,8,5,186,252,118,5,107,4,77,5,48,255,208,4,181,1,197,3,95,252,50,3,43,3,130,5,91,3,227,5,164,0,188,4,107,5,1,7,228,1,82,7,200,1,15,8,228,3,146,4,46,5,122,5,36,5,80,5,111,4,238,4,210,4,82,6,81,5,232,6,141,5,203,4,48,6,67,5,86,3,160,2,149,6,30,6,115,4,246,4,224,7,33,7,237,6,45,6,252,5,180,5,207,5,178,3,123,6,253,3,208,6,188,4,112,5,209,3,236,6,137,4,34,7,140,4,182,6,149,5,181,7,55,6,161,4,96,3,84,8,37,4,7,7,46,3,46,7,245,2,56,8,35,5,6,8,234,4,65,8,147,3,27,9,162,3,187,5,123,4,30,10,159,5,197,8,208,6,42,8,84,6,54,9,174,5,106,10,226,5,84,7,45,7,22,8,183,7,203,6,41,6,170,2,9,5,48,6,253,7,174,5,50,8,194,9,212,7,151,10,18,8,214,2,52,6,196,10,32,9,228,0,79,3,152,9,123,6,36,0,45,1,150,7,165,7,66,254,160,255,106,8,116,5,253,5,77,4,14,0,96,2,101,252,36,253,103,5,190,7,65,5,184,3,88,253,65,1,1,5,244,4,198,249,109,1,173,3,178,3,55,249,202,252,70,9,227,10,29,7,228,10,236,248,29,247,169,248,23,246,152,249,200,248,97,249,44,248,60,251,136,248,59,251,198,247,233,249,204,249,219,249,236,249,85,251,177,249,56,251,65,249,177,250,129,251,176,249,100,248,6,251,145,250,231,250,133,250,185,249,101,251,116,249,225,250,93,250,58,250,169,250,126,252,24,251,221,251,205,250,146,251,42,252,147,251,131,251,32,250,200,251,228,250,4,252,97,251,44,252,50,250,57,252,41,250,36,252,102,252,233,251,203,251,186,252,101,251,166,252,58,251,149,251,239,251,216,251,1,253,152,252,123,251,67,253,144,252,62,253,118,252,250,252,8,252,190,253,200,251,223,252,58,250,177,253,169,251,176,253,134,251,55,253,148,250,128,253,160,250,171,253,221,251,96,254,121,252,82,253,192,252,107,253,60,253,68,254,156,252,22,254,103,252,138,254,248,252,149,253,110,251,183,253,219,253,255,252,229,252,77,254,109,253,238,253,27,253,14,254,187,252,155,254,171,253,233,254,153,252,13,255,137,252,230,254,103,253,232,254,101,253,91,255,208,253,118,254,121,252,150,254,102,254,64,254,185,253,103,254,194,253,199,254,155,254,131,253,220,253,198,253,76,254,128,252,8,254,130,254,11,253,198,255,31,254,91,255,150,253,65,255,138,254,22,255,130,254,34,255,85,253,231,255,32,254,94,254,153,254,38,253,159,254,188,254,99,255,80,254,190,254,118,254,209,254,228,254,152,255,167,253,223,254,212,253,60,255,180,253,106,255,109,253,160,253,39,254,232,255,188,255,64,254,38,254,248,255,6,254,211,255,20,253,72,255,180,252,4,255,123,252,165,255,184,253,159,255,116,253,138,0,4,253,125,255,90,253,244,255,98,253,165,0,253,254,253,255,184,252,149,255,115,252,37,0,32,252,44,0,170,252,97,254,185,252,13,0,23,252,241,254,254,251,203,254,226,252,34,254,192,252,24,254,81,252,168,0,168,251,125,254,95,251,155,255,97,251,216,255,83,252,196,254,250,251,254,252,236,251,143,253,199,251,230,253,56,251,213,254,224,250,76,254,83,251,105,253,113,251,95,255,64,251,78,253,43,251,193,252,104,250,48,253,133,250,19,254,126,252,28,253,102,252,223,252,178,251,110,254,213,249,60,252,219,251,130,253,11,251,98,250,37,250,90,252,34,250,129,252,194,249,204,253,69,249,51,253,162,253,171,253,114,251,195,251,167,250,44,254,102,248,43,250,210,248,71,252,116,248,93,252,37,250,68,255,157,249,91,254,79,250,174,254,88,250,234,255,106,248,90,254,42,248,7,255,16,254,142,255,138,248,13,253,247,250,174,0,85,250,147,255,30,254,255,254,59,251,4,254,175,249,151,0,98,249,208,0,114,253,107,0,141,249,29,0,139,251,23,1,65,251,50,1,52,251,6,254,38,253,81,255,44,251,155,255,55,252,39,2,154,252,22,1,201,252,59,1,205,253,120,1,229,251,228,0,5,254,24,1,169,253,25,1,10,253,253,0,207,254,123,1,13,253,122,255,157,253,148,2,200,252,24,2,207,252,134,2,99,254,49,0,171,254,177,0,59,254,14,2,30,254,77,2,185,255,83,1,111,253,8,1,12,255,39,1,19,255,59,1,125,254,57,2,6,254,247,255,135,254,14,0,96,255,149,2,40,255,40,0,204,254,210,255,95,0,214,0,14,255,167,0,170,255,192,0,200,255,27,0,180,255,31,0,36,0,53,1,150,255,74,255,143,255,74,0,71,254,234,255,23,0,139,0,81,0,245,255,44,0,15,0,169,255,119,255,138,255,49,255,98,255,198,255,16,1,164,255,100,255,71,254,8,0,120,255,128,0,35,255,101,0,38,255,40,0,59,255,180,255,56,254,9,0,67,254,33,0,89,254,226,0,60,0,73,0,34,255,156,0,113,254,24,1,194,254,245,0,171,254,166,0,13,254,83,1,66,255,71,1,37,255,69,1,119,255,167,255,172,253,100,0,141,253,144,0,91,253,231,1,28,0,252,0,121,254,214,0,215,255,26,1,228,255,99,0,226,254,75,1,49,0,203,1,124,254,53,2,143,254,180,1,28,0,80,1,247,255,141,1,89,255,106,2,34,0,84,2,239,255,49,2,116,255,43,1,79,0,10,2,125,0,203,0,2,0,244,0,32,1,255,0,211,0,175,0,82,0,84,2,187,0,5,2,108,0,125,1,255,0,109,1,41,1,241,1,96,1,71,1,174,255,25,0,210,0,115,1,245,0,5,1,3,0,33,2,193,1,140,0,38,1,44,0,39,1,212,0,91,1,244,0,238,1,75,1,16,2,201,0,51,1,93,1,155,1,101,2,28,1,102,2,157,1,208,1,66,1,112,2,141,1,97,0,200,0,96,255,128,1,149,0,106,1,239,1,13,2,13,1,73,2,33,0,235,1,135,255,177,1,171,1,99,2,242,1,4,2,171,0,187,1,241,1,154,2,184,1,19,1,54,2,63,2,146,0,127,2,155,0,158,2,223,255,173,0,212,0,184,2,90,255,89,2,65,255,183,2,23,254,247,1,175,0,230,2,214,0,220,1,116,1,59,4,66,2,18,2,74,2,9,3,169,1,106,3,59,1,73,3,118,1,80,3,91,255,53,2,35,0,223,3,217,255,38,4,73,1,200,2,18,3,72,3,133,2,27,3,149,2,164,2,59,2,150,3,120,2,55,4,161,2,49,3,62,1,132,1,106,3,244,3,52,2,80,3,112,3,108,2,45,2,223,1,159,2,197,1,180,2,212,1,72,3,130,2,76,3,133,2,250,1,172,1,129,3,55,2,69,3,131,1,194,3,243,1,179,2,49,2,171,3,158,3,15,3,40,1,22,3,12,1,4,4,18,2,106,3,73,1,36,2,143,0,163,2,35,1,247,1,66,0,17,4,103,1,18,3,97,0,37,3,33,0,69,3,214,1,255,1,49,0,68,4,71,1,150,4,67,1,3,0,242,0,104,3,218,1,177,2,173,1,49,5,166,2,18,4,108,2,85,4,152,2,65,1,193,0,121,3,182,3,129,4,106,3,125,3,123,2,109,3,94,3,180,3,145,3,13,5,153,2,40,5,127,2,229,3,25,3,122,5,6,4,152,4,244,3,86,4,191,3,130,5,157,3,123,5,147,3,31,2,94,3,92,4,198,4,67,3,166,4,67,3,166,4,191,3,124,4,123,4,96,5,20,5,169,4,135,5,207,4,55,5,61,5,234,2,68,4,175,6,3,5,109,5,49,4,54,5,30,6,129,4,195,5,109,6,113,4,33,7,196,4,32,4,102,5,241,5,194,6,96,6,9,6,84,6,6,6,87,3,60,6,97,3,131,6,181,2,117,3,180,6,239,5,143,4,16,5,161,8,224,6,160,7,213,5,228,7,202,5,254,5,74,7,158,6,216,7,30,6,236,2,225,6,57,3,38,1,112,5,60,4,10,8,109,2,35,5,109,1,7,5,198,0,4,4,232,1,128,5,249,0,147,1,246,3,25,6,68,1,107,1,109,6,20,4,193,0,111,1,242,7,67,7,5,255,67,2,238,2,226,3,13,255,30,0,45,5,111,3,228,255,87,255,112,2,149,3,59,254,159,0,186,0,90,5,154,253,6,0,25,2,136,1,162,255,221,254,13,3,229,0,128,255,214,254,245,0,235,1,67,253,120,253,204,3,21,3,11,254,128,253,178,0,255,0,147,254,122,254,1,255,61,1,66,252,218,254,65,255,228,0,249,252,65,254,157,0,19,255,111,253,48,253,105,254,92,0,139,255,157,253,78,1,26,255,89,253,196,251,112,255,195,254,123,252,163,252,30,253,152,254,171,255,41,253,166,255,237,252,100,0,234,255,121,254,249,254,200,255,183,255,175,254,14,253,5,0,67,255,62,253,144,253,89,0,168,254,121,255,167,251,159,254,19,255,84,253,145,251,237,254,178,251,243,254,77,251,152,0,145,0,46,253,48,251,49,0,80,0,32,251,248,252,8,255,135,1,36,253,221,253,213,1,218,0,1,255,160,252,69,0,110,1,90,255,27,254,80,253,191,0,68,251,84,251,86,255,87,255,228,250,161,249,65,1,214,1,117,250,37,251,192,255,16,1,175,250,8,255,236,1,53,2,47,253,159,253,195,0,229,1,195,253,123,255,171,1,202,0,85,255,138,255,199,0,63,2,2,0,225,255,182,2,243,2,170,250,217,255,40,2,45,2,23,254,15,1,168,2,25,2,13,0,59,254,87,3,186,3,123,255,204,255,175,255,226,2,111,251,125,2,31,4,35,4,161,255,164,2,235,4,57,4,233,1,49,1,63,254,186,3,234,253,228,3,55,252,98,3,222,251,35,4,242,250,106,2,120,250,105,2,54,254,86,5,97,255,29,7,250,252,240,253,242,255,86,4,78,251,123,252,252,252,177,1,24,251,25,251,13,252,210,254,166,253,183,253,9,253,174,249,8,253,243,249,184,252,127,248,208,252,229,253,23,249,69,247,29,255,220,255,14,248,217,248,197,247,154,251,89,246,232,248,66,250,252,0,115,245,97,254,197,253,45,254,229,5,18,6,132,8,183,7,22,9,228,7,191,248,111,249,191,248,37,249,248,247,130,251,170,247,138,249,173,249,181,251,88,249,149,251,191,250,184,249,177,250,154,249,198,250,243,250,211,250,15,251,128,249,143,249,49,250,173,252,190,250,216,248,123,250,116,247,254,250,87,253,7,249,143,249,58,252,198,251,97,251,116,249,226,251,207,251,138,251,122,251,73,251,24,253,6,251,27,252,90,252,153,250,97,252,120,250,14,252,231,250,241,252,69,252,231,251,124,252,31,252,207,252,31,253,201,252,52,252,91,251,30,253,186,251,30,253,126,251,240,252,223,252,214,252,238,252,132,252,248,253,24,252,206,252,124,253,59,252,191,253,142,252,227,253,74,253,97,253,107,252,173,253,126,253,122,253,153,253,68,252,147,253,99,252,253,253,41,253,29,254,209,252,27,254,184,252,190,253,72,254,55,253,190,253,187,254,111,253,98,253,126,254,198,253,71,254,102,253,254,253,237,252,120,254,239,253,246,253,59,254,25,254,89,254,152,253,183,253,151,253,99,255,106,253,244,254,88,253,164,254,190,254,189,254,136,253,68,254,208,254,82,254,180,254,54,254,235,254,44,254,109,253,231,252,193,254,132,253,29,255,214,253,139,254,165,254,178,254,46,255,56,254,64,255,238,253,14,255,40,255,58,255,146,254,142,254,174,254,95,255,103,254,20,253,149,255,132,254,218,254,125,253,33,255,103,253,22,255,27,253,115,255,16,254,126,255,2,254,117,255,185,254,84,255,207,254,206,254,188,253,92,255,249,254,250,254,84,255,189,255,110,254,31,0,146,254,246,255,76,254,170,255,241,253,71,0,135,254,234,255,159,253,244,255,90,253,189,255,193,254,63,0,65,255,35,0,75,255,217,255,14,255,126,0,89,255,116,255,224,253,155,0,215,254,174,0,215,254,38,0,248,255,117,0,132,254,197,0,60,254,240,0,246,253,223,0,153,255,110,0,69,255,87,0,101,255,169,0,209,255,157,0,26,0,173,255,156,255,128,0,80,0,209,0,194,255,6,0,7,0,22,0,5,0,62,1,236,255,248,0,211,255,56,255,193,255,156,0,187,255,250,0,73,255,113,1,130,255,143,255,180,255,114,255,134,255,192,255,2,255,225,255,35,0,79,255,185,255,249,255,171,0,93,0,27,0,108,0,212,0,182,254,47,255,133,255,186,255,233,254,95,0,160,255,20,0,68,255,195,255,198,254,87,0,212,254,178,255,158,254,122,255,11,0,122,0,116,255,122,0,237,254,152,0,219,254,140,0,174,255,138,0,191,254,145,255,32,254,100,255,153,254,76,0,2,255,216,255,133,253,160,255,246,253,79,0,5,254,8,0,244,254,47,1,229,253,68,0,66,254,61,0,246,253,50,1,111,0,189,0,77,254,122,0,133,254,166,0,197,253,114,254,136,253,182,255,21,253,161,255,57,254,194,0,72,252,83,0,226,252,192,0,13,253,192,0,243,252,94,255,149,253,234,0,105,253,215,254,24,254,147,255,60,252,124,255,186,252,188,255,181,252,58,0,168,251,170,255,219,252,213,254,80,252,3,255,246,252,206,255,59,252,219,253,160,254,158,255,32,252,169,254,163,251,197,254,163,251,205,254,125,251,138,254,131,253,26,255,114,251,213,255,237,250,156,255,99,252,119,254,6,251,168,253,79,253,126,255,57,250,200,254,215,250,2,255,72,250,70,254,244,250,155,253,19,251,9,254,35,250,144,254,214,250,26,0,104,250,190,255,49,249,95,255,148,249,45,254,32,249,220,253,143,250,200,253,236,249,153,252,41,250,246,251,149,250,197,253,131,248,240,253,9,249,133,255,151,248,25,255,250,247,189,254,252,247,118,252,72,248,201,253,131,248,148,253,1,248,35,252,203,251,142,254,17,248,64,253,205,246,19,253,76,245,191,251,139,248,159,0,36,248,248,0,142,253,133,255,221,246,62,252,99,253,104,254,157,250,106,251,60,254,148,254,236,251,33,253,124,255,183,0,172,249,16,253,221,253,205,254,247,252,19,251,158,255,41,0,144,252,189,251,255,254,97,0,190,249,215,248,31,0,230,255,124,253,207,253,76,255,222,253,127,254,185,251,102,254,222,252,98,254,197,252,55,254,54,252,22,254,171,251,41,255,108,252,112,255,87,252,19,254,11,251,251,253,29,250,181,0,101,0,180,254,135,252,188,252,87,252,209,253,83,254,139,253,221,253,73,255,175,254,223,253,174,255,6,255,226,254,5,0,124,255,164,254,4,255,219,254,40,254,98,255,100,0,227,255,197,0,20,255,88,254,163,252,43,255,116,255,249,255,85,254,69,254,187,0,159,255,84,253,32,253,219,254,2,1,144,254,104,255,106,255,136,1,159,253,175,0,114,255,43,1,118,255,152,0,137,255,73,1,26,254,204,255,37,1,198,0,73,255,117,0,175,0,75,1,198,255,238,254,231,0,44,1,224,254,74,1,207,254,116,1,145,255,153,1,247,255,167,1,83,0,0,1,67,0,111,1,237,255,248,0,91,0,113,0,221,255,150,1,65,255,154,0,238,0,40,1,5,0,197,0,141,0,221,0,57,1,198,0,211,0,165,1,244,0,78,1,88,0,170,1,13,255,198,1,202,0,40,2,251,255,147,1,35,1,185,0,219,0,45,1,251,0,138,0,128,0,69,0,197,0,32,1,116,255,195,255,188,0,105,1,197,0,86,2,186,1,17,1,34,1,143,0,216,1,226,1,157,0,114,1,159,1,65,1,116,1,129,1,146,1,40,2,155,0,24,0,38,2,7,1,245,255,21,0,104,1,227,0,147,0,2,255,168,1,97,0,110,1,243,255,119,1,141,0,193,1,232,0,140,1,251,1,218,1,16,1,189,2,68,1,106,1,209,255,75,2,148,0,31,2,69,0,144,1,205,255,49,2,59,0,220,0,246,255,96,1,147,0,206,0,211,0,141,2,185,0,51,2,41,1,53,2,28,1,82,2,121,0,254,2,192,0,142,1,118,0,130,2,178,1,233,0,8,1,225,1,211,1,129,0,91,255,187,2,239,0,90,0,26,0,86,1,218,1,201,255,27,0,132,1,94,0,84,255,0,0,213,2,123,1,196,255,81,1,114,1,209,1,95,0,63,1,38,3,83,2,78,0,4,1,241,1,83,3,210,0,48,2,202,1,62,2,48,254,202,0,241,1,113,2,54,255,152,0,48,0,200,2,236,255,54,2,100,0,203,2,199,1,212,1,155,1,93,2,63,1,134,2,195,0,103,2,145,1,26,2,168,2,227,2,201,0,155,2,178,1,186,3,198,1,169,1,134,2,235,1,94,2,169,2,160,1,252,1,241,1,54,3,170,1,47,3,148,2,135,2,116,2,204,2,185,2,210,1,106,2,201,1,173,2,204,1,109,1,53,1,209,2,55,2,68,3,89,2,97,2,44,1,57,3,203,1,175,3,175,2,169,2,21,2,147,3,86,2,79,2,243,0,108,3,195,1,106,3,164,1,18,3,61,1,220,2,220,0,154,3,61,1,84,4,111,1,19,2,210,1,4,4,137,2,29,4,103,2,10,4,41,2,61,3,90,2,253,3,31,3,159,3,35,3,110,3,251,2,31,3,240,1,93,5,5,3,73,2,2,3,35,3,162,3,75,4,25,3,198,4,94,3,185,4,127,3,1,4,215,2,4,3,77,3,148,4,91,4,99,3,253,3,62,3,245,3,73,3,142,3,250,1,191,2,215,4,53,4,108,2,51,3,172,4,59,4,131,4,57,4,118,4,139,3,11,6,97,4,29,5,136,2,63,5,100,2,204,5,220,3,199,5,169,3,217,3,48,5,187,3,61,5,173,1,142,3,73,3,58,5,52,2,155,4,156,1,132,4,147,5,40,5,154,5,50,5,128,2,248,2,190,6,130,5,190,0,43,2,49,4,237,3,170,1,1,1,71,3,212,3,235,0,231,0,240,5,143,4,109,0,37,1,246,3,33,6,49,1,142,0,124,4,27,2,221,254,148,255,189,4,204,3,22,0,40,255,155,2,60,3,30,254,182,1,197,1,151,5,187,253,90,254,21,3,131,1,154,254,58,254,174,0,12,3,220,255,140,254,134,1,122,255,139,253,160,0,206,254,239,2,22,251,181,254,177,0,10,2,8,255,62,2,5,255,127,2,237,253,151,1,172,253,138,1,93,254,21,3,151,253,33,3,38,252,143,1,167,252,215,2,249,255,6,2,65,253,54,1,137,251,232,255,22,252,31,1,64,252,107,1,237,250,56,1,2,250,245,0,235,249,49,1,28,0,153,0,165,252,81,255,223,255,76,1,138,250,102,255,212,0,154,1,175,253,59,255,188,251,64,253,120,252,191,255,26,1,111,1,106,252,82,253,89,1,93,0,254,254,155,254,184,2,132,2,75,253,228,255,192,1,237,1,239,254,193,0,15,2,34,2,13,255,255,253,128,1,120,255,17,1,159,254,0,2,114,255,25,2,58,255,173,3,238,2,83,0,248,0,66,2,93,3,200,255,80,2,74,3,44,0,124,3,24,0,33,0,122,3,240,255,214,3,63,3,118,5,255,5,106,7,180,6,96,5,156,7,185,5,22,252,95,252,184,251,77,251,127,253,93,252,164,253,63,252,245,252,95,253,189,252,236,252,96,254,104,253,54,254,2,253,116,253,247,253,106,253,17,254,1,252,3,254,1,252,84,254,68,254,216,253,144,254,63,254,33,254,45,255,226,251,121,252,196,254,7,255,199,253,177,253,199,253,237,254,227,253,65,255,52,253,68,255,182,252,248,254,179,254,8,255,194,254,28,255,237,254,1,0,201,253,28,255,141,255,35,255,18,255,138,254,59,255,5,254,34,255,189,253,254,254,80,254,195,255,12,255,167,254,2,0,174,254,39,0,41,255,87,255,198,255,0,0,200,255,250,255,53,255,125,255,1,0,70,255,251,255,45,255,6,0,132,254,11,0,94,254,140,255,131,0,122,255,113,0,89,0,252,255,71,0,254,255,237,255,64,255,6,1,24,0,189,0,151,0,123,255,147,255,186,0,103,255,166,0,37,255,37,0,139,0,193,0,171,0,81,1,124,0,158,0,195,255,141,0,226,0,243,255,190,0,231,0,34,0,98,1,109,0,60,1,201,0,244,0,164,0,74,1,171,255,134,1,172,255,254,0,71,1,1,1,79,1,235,1,147,0,220,1,105,0,54,0,77,0,181,1,114,1,165,1,58,1,193,1,86,1,73,1,126,0,161,2,36,1,59,2,132,1,243,0,193,0,141,2,64,1,109,2,24,1,194,0,124,1,5,2,69,2,45,0,67,1,111,0,166,1,233,1,139,1,222,2,22,2,110,2,34,2,230,1,246,1,62,1,60,2,189,0,38,2,129,1,166,1,99,255,153,0,131,255,126,1,59,255,130,1,249,254,78,1,228,0,185,2,68,255,1,0,51,0,41,1,5,254,213,0,136,254,141,1,232,255,255,0,221,253,89,0,10,254,162,255,131,1,179,0,148,253,68,0,84,253,112,0,126,253,162,254,252,254,172,0,74,254,188,254,8,1,136,2,60,252,252,255,159,251,7,0,122,255,134,0,147,251,206,254,143,0,96,0,92,254,15,254,59,251,162,254,9,250,83,253,95,255,72,0,105,3,179,2,220,2,27,1,153,3,97,1,78,1,219,1,71,4,53,3,96,3,12,2,75,3,241,1,202,2,199,2,20,3,238,2,52,4,202,2,180,4,241,2,65,2,150,2,124,245,170,192,38,3,44,7,95,251,33,228,37,12,28,4,40,248,202,208,85,16,107,5,192,249,99,218,69,9,145,5,232,249,78,219,176,12,193,7,210,251,214,230,35,7,16,9,184,252,64,236,173,3,242,12,199,254,163,248,47,9,161,11,41,254,234,244,32,14,116,9,247,252,183,237,123,13,24,12,98,254,70,246,139,11,205,16,72,0,178,1,56,7,148,17,139,0,68,3,44,15,40,21,157,1,180,9,163,4,42,28,67,3,166,19,11,12,40,35,139,4,90,27,216,28,115,3,37,247,177,202,74,23,226,5,58,250,60,221,35,20,86,8,61,252,88,233,8,31,217,7,228,251,65,231,107,25,202,8,139,252,49,235,246,29,192,10,180,253,47,242,64,23,200,11,60,254,92,245,34,19,180,14,131,255,17,253,77,27,4,14,60,255,103,251,238,31,138,15,213,255,252,254,176,23,52,17,107,0,133,2,29,30,223,19,64,1,136,7,147,21,133,23,57,2,98,13,89,30,214,27,50,3,62,19,172,23,2,31,209,3,253,22,218,21,223,44,243,5,212,35,85,41,76,5,159,249,153,217,89,35,61,6,145,250,68,223,66,38,243,7,247,251,180,231,242,34,111,9,244,252,164,237,56,40,24,10,87,253,253,239,191,36,174,10,171,253,245,241,252,33,146,12,156,254,160,247,29,38,67,13,235,254,123,249,193,39,52,15,181,255,58,254,210,35,176,17,148,0,123,3,168,39,140,19,40,1,245,6,154,35,103,22,241,1,177,11,4,41,122,24,116,2,198,14,126,39,207,29,151,3,158,21,140,34,23,34,93,4,72,26,252,34,208,48,112,6,193,38,124,50,208,3,185,247,47,206,171,44,219,6,28,251,141,226,106,47,24,9,189,252,96,236,124,44,64,9,214,252,248,236,204,41,248,11,83,254,236,245,44,48,45,11,238,253,136,243,202,45,255,12,205,254,200,248,6,44,116,14,106,255,120,252,109,42,61,17,110,0,151,2,50,47,181,17,150,0,134,3,19,44,85,20,98,1,84,8,184,46,161,24,125,2,253,14,159,43,110,29,132,3,44,21,96,47,137,32,25,4,168,24,217,42,25,42,149,5,156,33,60,40,224,67,87,8,53,50,75,54,145,6,220,250,15,225,36,49,253,7,254,251,221,231,209,51,135,9,2,253,254,237,209,54,173,11,47,254,14,245,140,52,26,12,99,254,78,246,108,48,74,14,89,255,18,252,198,52,196,14,137,255,55,253,80,50,176,16,62,0,118,1,221,52,253,18,253,0,243,5,123,49,81,21,168,1,248,9,30,54,218,23,78,2,223,13,231,50,83,25,166,2,244,15,245,52,41,30,169,3,7,22,157,50,95,36,189,4,136,28,146,53,31,45,252,5,5,36,47,49,102,59,146,7,147,45,9,59,4,6,91,250,4,222,224,58,29,9,192,252,113,236,191,56,207,9,45,253,0,239,100,57,127,12,147,254,107,247,22,60,232,13,49,255,33,251,53,55,120,15,206,255,212,254,254,58,140,16,50,0,42,1,252,55,216,18,242,0,174,5,254,57,75,21,166,1,238,9,202,59,195,23,72,2,190,13,249,55,232,26,0,3,15,18,212,58,9,30,162,3,226,21,70,56,210,36,207,4,245,28,27,60,13,38,0,5,26,30,232,57,191,55,52,7,94,43,32,53,107,97,109,10,195,62,12,64,177,7,198,251,139,230,177,65,16,11,223,253,45,243,97,61,27,11,229,253,80,243,232,62,8,13,209,254,223,248,0,64,123,15,207,255,218,254,44,66,227,17,165,0,224,3,95,61,247,17,171,0,6,4,94,63,72,21,165,1,233,9,192,65,238,24,143,2,105,15,129,61,229,27,53,3,80,19,198,63,45,29,120,3,223,20,227,64,176,33,76,4,222,25,132,66,178,40,99,5,111,32,33,62,41,46,29,6,207,36,238,65,98,57,95,7,96,44,131,64,134,81,102,9,147,56,222,70,35,8,25,252,131,232,201,75,106,12,137,254,47,247,100,68,98,13,248,254,203,249,86,78,187,15,231,255,105,255,149,70,153,16,54,0,70,1,8,74,202,19,58,1,98,7,47,69,26,21,153,1,157,9,123,77,48,24,98,2,92,14,30,70,102,27,27,3,176,18,70,83,197,30,198,3,184,22,246,69,73,36,186,4,115,28,200,74,74,36,186,4,116,28,37,80,117,44,230,5,129,35,155,70,149,56,74,7,226,43,31,78,218,69,129,8,52,51,154,73,252,127,0,12,62,72,61,42,81,112,63,11,181,67,0,80,225,10,198,253,153,242,153,73,194,25,191,2,139,16,81,24,245,28,108,3,156,20,51,67,204,40,103,5,133,32,122,84,245,4,61,249,74,215,143,82,71,17,113,0,171,2,40,44,20,6,106,250,95,222,61,74,20,50,150,6,164,39,215,67,194,9,37,253,210,238,194,69,225,18,244,0,192,5,10,39,194,9,37,253,210,238,122,68,184,30,196,3,170,22,174,55,92,7,133,251,5,229,20,62,81,12,125,254,233,246,61,26,10,7,67,251,121,227,10,71,225,78,53,9,109,55,102,70,215,11,67,254,138,245,71,65,225,22,16,2,109,12,143,34,174,15,226,255,76,255,20,62,10,35,134,4,60,27,102,70,112,5,198,249,129,218,71,65,0,16,0,0,0,0,0,32,143,2,108,245,79,192,133,59,102,54,16,7,132,42,174,55,40,12,106,254,116,246,10,55,61,18,193,0,141,4,30,21,143,10,154,253,143,241,122,52,153,25,182,2,84,16,163,48,133,3,67,247,100,203,163,48,102,10,131,253,7,241,184,14,143,2,108,245,79,192,153,57,215,91,22,10,183,60,225,74,153,9,13,253,62,238,184,78,215,19,62,1,121,7,225,26,0,16,0,0,0,0,0,80,112,33,65,4,156,25,204,76,225,2,26,246,105,196,61,74,163,16,58,0,91,1,184,30,40,8,29,252,151,232,204,44,0,48,87,6,43,38,20,62,194,5,26,250,126,220,112,61,20,18,180,0,62,4,215,35,153,5,240,249,131,219,184,62,92,27,25,3,164,18,235,57,225,2,26,246,105,196,225,58,204,8,140,252,55,235,215,19,204,4,12,249,38,214,215,51,174,67,83,8,27,50,163,64,30,9,193,252,118,236,225,58,184,22,6,2,46,12,92,15,102,14,100,255,86,252,174,55,153,33,72,4,198,25,235,65,10,3,106,246,74,198,225,58,225,14,149,255,122,253,174,23,102,2,12,245,17,190,122,36,40,36,180,4,83,28,215,51,225,6,33,251,172,226,215,51,194,13,33,255,193,250,153,9,174,7,196,251,127,230,204,44,153,21,187,1,108,10,245,40,225,2,26,246,105,196,112,45,122,12,145,254,92,247,194,5,10,3,106,246,74,198,0,64,248,65,226,67,190,69,142,71,82,73,12,75,188,76,98,78,0,80,150,81,35,83,170,84,42,86,163,87,22,89,130,90,234,91,76,93,168,94,0,96,83,97,161,98,236,99,49,101,115,102,177,103,235,104,34,106,85,107,132,108,177,109,218,110,0,112,35,113,67,114,97,115,123,116,147,117,169,118,188,119,204,120,218,121,230,122,239,123,247,124,252,125,255,126,255,127,255,127,61,10,63,10,69,10,78,10,91,10,108,10,129,10,153,10,181,10,212,10,248,10,31,11,74,11,120,11,170,11,224,11,25,12,86,12,151,12,219,12,35,13,110,13,189,13,15,14,101,14,190,14,27,15,123,15,223,15,70,16,176,16,30,17,143,17,3,18,123,18,245,18,115,19,244,19,120,20,0,21,138,21,23,22,168,22,59,23,209,23,106,24,6,25,165,25,70,26,234,26,145,27,59,28,231,28,149,29,70,30,250,30,176,31,104,32,35,33,224,33,159,34,97,35,36,36,234,36,178,37,124,38,71,39,21,40,228,40,181,41,136,42,93,43,51,44,11,45,228,45,191,46,155,47,121,48,88,49,56,50,26,51,252,51,224,52,196,53,170,54,145,55,120,56,96,57,73,58,51,59,29,60,8,61,243,61,223,62,203,63,184,64,165,65,146,66,127,67,108,68,90,69,71,70,52,71,33,72,14,73,251,73,231,74,211,75,191,76,170,77,149,78,126,79,104,80,80,81,56,82,31,83,5,84,234,84,207,85,178,86,148,87,116,88,84,89,50,90,15,91,235,91,197,92,157,93,117,94,74,95,30,96,240,96,192,97,143,98,91,99,38,100,239,100,181,101,122,102,60,103,253,103,187,104,119,105,48,106,232,106,156,107,79,108,255,108,172,109,87,110,255,110,165,111,71,112,231,112,133,113,31,114,183,114,75,115,221,115,108,116,248,116,129,117,6,118,137,118,8,119,133,119,254,119,116,120,230,120,86,121,194,121,42,122,144,122,242,122,80,123,171,123,3,124,87,124,167,124,244,124,62,125,132,125,198,125,5,126,64,126,120,126,172,126,220,126,9,127,49,127,87,127,120,127,150,127,176,127,199,127,217,127,232,127,243,127,251,127,255,127,255,127,229,127,153,127,25,127,103,126,129,125],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+20480),
allocate([106,124,33,123,167,121,252,119,34,118,24,116,223,113,122,111,231,108,41,106,65,103,47,100,245,96,149,93,15,90,101,86,153,82,171,78,158,74,116,70,45,66,204,61,82,57,193,52,27,48,98,43,151,38,189,33,213,28,226,23,230,18,226,13,216,8,203,3,61,10,64,10,73,10,88,10,108,10,135,10,167,10,205,10,249,10,43,11,99,11,160,11,227,11,44,12,122,12,207,12,40,13,136,13,237,13,87,14,199,14,60,15,183,15,55,16,189,16,71,17,215,17,108,18,6,19,165,19,73,20,242,20,159,21,82,22,9,23,196,23,133,24,73,25,18,26,224,26,177,27,135,28,97,29,62,30,32,31,5,32,238,32,219,33,203,34,191,35,182,36,176,37,174,38,174,39,177,40,184,41,193,42,204,43,218,44,235,45,254,46,19,48,42,49,67,50,94,51,123,52,154,53,186,54,219,55,254,56,34,58,71,59,109,60,148,61,188,62,228,63,13,65,54,66,96,67,138,68,180,69,221,70,7,72,48,73,89,74,130,75,169,76,208,77,246,78,27,80,63,81,98,82,132,83,164,84,194,85,223,86,250,87,19,89,43,90,64,91,83,92,99,93,113,94,125,95,134,96,140,97,143,98,144,99,141,100,135,101,126,102,114,103,98,104,79,105,56,106,30,107,255,107,221,108,183,109,140,110,94,111,43,112,244,112,185,113,121,114,53,115,236,115,158,116,76,117,245,117,153,118,55,119,209,119,102,120,246,120,129,121,6,122,134,122,1,123,118,123,230,123,81,124,182,124,21,125,111,125,195,125,17,126,90,126,157,126,219,126,18,127,68,127,112,127,150,127,183,127,209,127,230,127,244,127,253,127,255,127,255,127,244,127,208,127,149,127,66,127,215,126,85,126,188,125,12,125,69,124,104,123,117,122,108,121,78,120,28,119,213,117,122,116,13,115,140,113,250,111,87,110,162,108,222,106,11,105,40,103,57,101,60,99,51,97,30,95,255,92,215,90,165,88,108,86,44,84,229,81,154,79,74,77,247,74,161,72,74,70,243,67,156,65,71,63,244,60,164,58,88,56,18,54,209,51,152,49,103,47,62,45,31,43,11,41,2,39,5,37,21,35,51,33,95,31,155,29,231,27,67,26,177,24,49,23,195,21,105,20,34,19,239,17,209,16,201,15,214,14,249,13,50,13,130,12,232,11,102,11,252,10,169,10,109,10,73,10,61,10,61,10,63,10,67,10,74,10,84,10,96,10,111,10,129,10,150,10,174,10,200,10,229,10,5,11,39,11,77,11,117,11,159,11,205,11,253,11,48,12,101,12,157,12,216,12,22,13,86,13,153,13,222,13,38,14,113,14,190,14,13,15,96,15,181,15,12,16,102,16,194,16,33,17,130,17,230,17,76,18,180,18,31,19,140,19,252,19,110,20,226,20,88,21,209,21,76,22,201,22,72,23,202,23,77,24,211,24,91,25,229,25,113,26,254,26,142,27,32,28,180,28,74,29,225,29,123,30,22,31,179,31,82,32,242,32,149,33,57,34,222,34,133,35,46,36,216,36,132,37,50,38,224,38,145,39,66,40,245,40,169,41,95,42,22,43,206,43,135,44,66,45,253,45,186,46,120,47,54,48,246,48,183,49,120,50,59,51,254,51,194,52,135,53,77,54,19,55,218,55,161,56,106,57,50,58,252,58,197,59,144,60,90,61,37,62,240,62,188,63,136,64,84,65,32,66,236,66,185,67,133,68,82,69,30,70,235,70,183,71,132,72,80,73,28,74,231,74,179,75,126,76,73,77,19,78,221,78,166,79,111,80,56,81,0,82,199,82,142,83,84,84,25,85,221,85,161,86,100,87,38,88,231,88,167,89,103,90,37,91,226,91,158,92,89,93,19,94,204,94,131,95,57,96,238,96,162,97,84,98,5,99,181,99,99,100,15,101,186,101,100,102,12,103,178,103,87,104,250,104,155,105,59,106,217,106,117,107,16,108,168,108,63,109,211,109,102,110,247,110,134,111,19,112,158,112,39,113,174,113,50,114,181,114,53,115,179,115,47,116,169,116,33,117,150,117,9,118,122,118,232,118,84,119,190,119,37,120,138,120,236,120,76,121,170,121,5,122,94,122,180,122,7,123,88,123,167,123,242,123,60,124,130,124,198,124,8,125,71,125,131,125,188,125,243,125,39,126,89,126,136,126,180,126,221,126,4,127,40,127,73,127,103,127,131,127,156,127,178,127,197,127,214,127,228,127,239,127,247,127,253,127,255,127,255,127,97,125,160,117,15,105,48,88,181,67,116,44,98,19,68,101,99,111,100,101,114,0,101,110,99,111,100,101,114,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+30720);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);assert(tempDoublePtr%8==0);var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};Module._memcpy=_memcpy,Module._memmove=_memmove,Module._memset=_memset;var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){TTY.ttys[e]={input:[],output:[],ops:r},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var r=TTY.ttys[e.node.rdev];if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,n,t,i){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0,a=0;a<t;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===s||void 0===s)break;o++,r[n+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,r,n,t,i){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0;o<t;o++)try{e.tty.ops.put_char(e.tty,r[n+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return t&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?(r=window.prompt("Input: "),null!==r&&(r+="\n")):"function"==typeof readline&&(r=readline(),null!==r&&(r+="\n")),!r)return null;e.input=intArrayFromString(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(Module.print(UTF8ArrayToString(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(Module.print(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,r,n,t){if(FS.isBlkdev(n)||FS.isFIFO(n))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var i=FS.createNode(e,r,n,t);return FS.isDir(i.mode)?(i.node_ops=MEMFS.ops_table.dir.node,i.stream_ops=MEMFS.ops_table.dir.stream,i.contents={}):FS.isFile(i.mode)?(i.node_ops=MEMFS.ops_table.file.node,i.stream_ops=MEMFS.ops_table.file.stream,i.usedBytes=0,i.contents=null):FS.isLink(i.mode)?(i.node_ops=MEMFS.ops_table.link.node,i.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(i.mode)&&(i.node_ops=MEMFS.ops_table.chrdev.node,i.stream_ops=MEMFS.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[r]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var r=[],n=0;n<e.usedBytes;++n)r.push(e.contents[n]);return r}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,r){if(e.contents&&e.contents.subarray&&r>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.buffer.byteLength:0;if(n>=r)return;var t=1048576;r=Math.max(r,n*(n<t?2:1.125)|0),0!=n&&(r=Math.max(r,256));var i=e.contents;return e.contents=new Uint8Array(r),void(e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0))}for(!e.contents&&r>0&&(e.contents=[]);e.contents.length<r;)e.contents.push(0)},resizeFileStorage:function(e,r){if(e.usedBytes!=r){if(0==r)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(r)),n&&e.contents.set(n.subarray(0,Math.min(r,e.usedBytes))),void(e.usedBytes=r)}if(e.contents||(e.contents=[]),e.contents.length>r)e.contents.length=r;else for(;e.contents.length<r;)e.contents.push(0);e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=FS.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,FS.isDir(e.mode)?r.size=4096:FS.isFile(e.mode)?r.size=e.usedBytes:FS.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&MEMFS.resizeFileStorage(e,r.size)},lookup:function(e,r){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,r,n,t){return MEMFS.createNode(e,r,n,t)},rename:function(e,r,n){if(FS.isDir(e.mode)){var t;try{t=FS.lookupNode(r,n)}catch(e){}if(t)for(var i in t.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,r.contents[n]=e,e.parent=r},unlink:function(e,r){delete e.contents[r]},rmdir:function(e,r){var n=FS.lookupNode(e,r);for(var t in n.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[r]},readdir:function(e){var r=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&r.push(n);return r},symlink:function(e,r,n){var t=MEMFS.createNode(e,r,41471,0);return t.link=n,t},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,r,n,t,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,t);if(assert(a>=0),a>8&&o.subarray)r.set(o.subarray(i,i+a),n);else for(var s=0;s<a;s++)r[n+s]=o[i+s];return a},write:function(e,r,n,t,i,o){if(!t)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=r.subarray(n,n+t),a.usedBytes=t,t;if(0===a.usedBytes&&0===i)return a.contents=new Uint8Array(r.subarray(n,n+t)),a.usedBytes=t,t;if(i+t<=a.usedBytes)return a.contents.set(r.subarray(n,n+t),i),t}if(MEMFS.expandFileStorage(a,i+t),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(n,n+t),i);else for(var s=0;s<t;s++)a.contents[i+s]=r[n+s];return a.usedBytes=Math.max(a.usedBytes,i+t),t},llseek:function(e,r,n){var t=r;if(1===n?t+=e.position:2===n&&FS.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return t},allocate:function(e,r,n){MEMFS.expandFileStorage(e.node,r+n),e.node.usedBytes=Math.max(e.node.usedBytes,r+n)},mmap:function(e,r,n,t,i,o,a){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var s,l,f=e.node.contents;if(2&a||f.buffer!==r&&f.buffer!==r.buffer){if((i>0||i+t<e.node.usedBytes)&&(f=f.subarray?f.subarray(i,i+t):Array.prototype.slice.call(f,i,i+t)),l=!0,s=_malloc(t),!s)throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);r.set(f,s)}else l=!1,s=f.byteOffset;return{ptr:s,allocated:l}},msync:function(e,r,n,t,i){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&i)return 0;MEMFS.stream_ops.write(e,r,0,t,n,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,r,n){IDBFS.getLocalSet(e,function(t,i){return t?n(t):void IDBFS.getRemoteSet(e,function(e,t){if(e)return n(e);var o=r?t:i,a=r?i:t;IDBFS.reconcile(o,a,n)})})},getDB:function(e,r){var n=IDBFS.dbs[e];if(n)return r(null,n);var t;try{t=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return r(e)}t.onupgradeneeded=function(e){var r,n=e.target.result,t=e.target.transaction;r=n.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?t.objectStore(IDBFS.DB_STORE_NAME):n.createObjectStore(IDBFS.DB_STORE_NAME),r.indexNames.contains("timestamp")||r.createIndex("timestamp","timestamp",{unique:!1})},t.onsuccess=function(){n=t.result,IDBFS.dbs[e]=n,r(null,n)},t.onerror=function(e){r(this.error),e.preventDefault()}},getLocalSet:function(e,r){function n(e){return"."!==e&&".."!==e}function t(e){return function(r){return PATH.join2(e,r)}}for(var i={},o=FS.readdir(e.mountpoint).filter(n).map(t(e.mountpoint));o.length;){var a,s=o.pop();try{a=FS.stat(s)}catch(e){return r(e)}FS.isDir(a.mode)&&o.push.apply(o,FS.readdir(s).filter(n).map(t(s))),i[s]={timestamp:a.mtime}}return r(null,{type:"local",entries:i})},getRemoteSet:function(e,r){var n={};IDBFS.getDB(e.mountpoint,function(e,t){if(e)return r(e);var i=t.transaction([IDBFS.DB_STORE_NAME],"readonly");i.onerror=function(e){r(this.error),e.preventDefault()};var o=i.objectStore(IDBFS.DB_STORE_NAME),a=o.index("timestamp");a.openKeyCursor().onsuccess=function(e){var i=e.target.result;return i?(n[i.primaryKey]={timestamp:i.key},void i.continue()):r(null,{type:"remote",db:t,entries:n})}})},loadLocalEntry:function(e,r){var n,t;try{var i=FS.lookupPath(e);t=i.node,n=FS.stat(e)}catch(e){return r(e)}return FS.isDir(n.mode)?r(null,{timestamp:n.mtime,mode:n.mode}):FS.isFile(n.mode)?(t.contents=MEMFS.getFileDataAsTypedArray(t),r(null,{timestamp:n.mtime,mode:n.mode,contents:t.contents})):r(new Error("node type not supported"))},storeLocalEntry:function(e,r,n){try{if(FS.isDir(r.mode))FS.mkdir(e,r.mode);else{if(!FS.isFile(r.mode))return n(new Error("node type not supported"));FS.writeFile(e,r.contents,{encoding:"binary",canOwn:!0})}FS.chmod(e,r.mode),FS.utime(e,r.timestamp,r.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,r){try{var n=(FS.lookupPath(e),FS.stat(e));FS.isDir(n.mode)?FS.rmdir(e):FS.isFile(n.mode)&&FS.unlink(e)}catch(e){return r(e)}r(null)},loadRemoteEntry:function(e,r,n){var t=e.get(r);t.onsuccess=function(e){n(null,e.target.result)},t.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,r,n,t){var i=e.put(n,r);i.onsuccess=function(){t(null)},i.onerror=function(e){t(this.error),e.preventDefault()}},removeRemoteEntry:function(e,r,n){var t=e.delete(r);t.onsuccess=function(){n(null)},t.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,r,n){function t(e){if(e){if(!t.errored)return t.errored=!0,n(e)}else if(++s>=i)return n(null)}var i=0,o=[];Object.keys(e.entries).forEach(function(n){var t=e.entries[n],a=r.entries[n];(!a||t.timestamp>a.timestamp)&&(o.push(n),i++)});var a=[];if(Object.keys(r.entries).forEach(function(n){var t=(r.entries[n],e.entries[n]);t||(a.push(n),i++)}),!i)return n(null);var s=0,l="remote"===e.type?e.db:r.db,f=l.transaction([IDBFS.DB_STORE_NAME],"readwrite"),u=f.objectStore(IDBFS.DB_STORE_NAME);f.onerror=function(e){t(this.error),e.preventDefault()},o.sort().forEach(function(e){"local"===r.type?IDBFS.loadRemoteEntry(u,e,function(r,n){return r?t(r):void IDBFS.storeLocalEntry(e,n,t)}):IDBFS.loadLocalEntry(e,function(r,n){return r?t(r):void IDBFS.storeRemoteEntry(u,e,n,t)})}),a.sort().reverse().forEach(function(e){"local"===r.type?IDBFS.removeLocalEntry(e,t):IDBFS.removeRemoteEntry(u,e,t)})}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){function r(e){for(var r=e.split("/"),n=t,o=0;o<r.length-1;o++){var a=r.slice(0,o+1).join("/");i[a]||(i[a]=WORKERFS.createNode(n,a,WORKERFS.DIR_MODE,0)),n=i[a]}return n}function n(e){var r=e.split("/");return r[r.length-1]}assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var t=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),i={};return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(r(e.name),n(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(r(e.name),n(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(t){var i=t.filename.substr(1);WORKERFS.createNode(r(i),n(i),WORKERFS.FILE_MODE,0,e.blob.slice(t.start,t.end))})}),t},createNode:function(e,r,n,t,i,o){var a=FS.createNode(e,r,n);return a.mode=n,a.node_ops=WORKERFS.node_ops,a.stream_ops=WORKERFS.stream_ops,a.timestamp=(o||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),n===WORKERFS.FILE_MODE?(a.size=i.size,a.contents=i):(a.size=4096,a.contents={}),e&&(e.contents[r]=a),a},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp)},lookup:function(e,r){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,r,n,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,r,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},symlink:function(e,r,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,r,n,t,i){if(i>=e.node.size)return 0;var o=e.node.contents.slice(i,i+t),a=WORKERFS.reader.readAsArrayBuffer(o);return r.set(new Uint8Array(a),n),o.size},write:function(e,r,n,t,i){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,r,n){var t=r;if(1===n?t+=e.position:2===n&&FS.isFile(e.node.mode)&&(t+=e.node.size),t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return t}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,r){if(e=PATH.resolve(FS.cwd(),e),r=r||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var t in n)void 0===r[t]&&(r[t]=n[t]);if(r.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var i=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=FS.root,a="/",s=0;s<i.length;s++){var l=s===i.length-1;if(l&&r.parent)break;if(o=FS.lookupNode(o,i[s]),a=PATH.join2(a,i[s]),FS.isMountpoint(o)&&(!l||l&&r.follow_mount)&&(o=o.mounted.root),!l||r.follow)for(var f=0;FS.isLink(o.mode);){var u=FS.readlink(a);a=PATH.resolve(PATH.dirname(a),u);var c=FS.lookupPath(a,{recurse_count:r.recurse_count});if(o=c.node,f++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:a,node:o}},getPath:function(e){for(var r;;){if(FS.isRoot(e)){var n=e.mount.mountpoint;return r?"/"!==n[n.length-1]?n+"/"+r:n+r:n}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var n=0,t=0;t<r.length;t++)n=(n<<5)-n+r.charCodeAt(t)|0;return(e+n>>>0)%FS.nameTable.length},hashAddNode:function(e){var r=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[r],FS.nameTable[r]=e},hashRemoveNode:function(e){var r=FS.hashName(e.parent.id,e.name);if(FS.nameTable[r]===e)FS.nameTable[r]=e.name_next;else for(var n=FS.nameTable[r];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,r){var n=FS.mayLookup(e);if(n)throw new FS.ErrnoError(n,e);for(var t=FS.hashName(e.id,r),i=FS.nameTable[t];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===r)return i}return FS.lookup(e,r)},createNode:function(e,r,n,t){if(!FS.FSNode){FS.FSNode=function(e,r,n,t){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=r,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=t},FS.FSNode.prototype={};var i=365,o=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&i)===i},set:function(e){e?this.mode|=i:this.mode&=~i}},write:{get:function(){return(this.mode&o)===o},set:function(e){e?this.mode|=o:this.mode&=~o}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var a=new FS.FSNode(e,r,n,t);return FS.hashAddNode(a),a},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var r=FS.flagModes[e];if("undefined"==typeof r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return FS.ignorePermissions?0:(r.indexOf("r")===-1||292&e.mode)&&(r.indexOf("w")===-1||146&e.mode)&&(r.indexOf("x")===-1||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var r=FS.nodePermissions(e,"x");return r?r:e.node_ops.lookup?0:ERRNO_CODES.EACCES},mayCreate:function(e,r){try{FS.lookupNode(e,r);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,r,n){var t;try{t=FS.lookupNode(e,r)}catch(e){return e.errno}var i=FS.nodePermissions(e,"wx");if(i)return i;if(n){if(!FS.isDir(t.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(t)||FS.getPath(t)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(t.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,r){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!==(2097155&r)||512&r)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(r)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||FS.MAX_OPEN_FDS;for(var n=e;n<=r;n++)if(!FS.streams[n])return n;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,r,n){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var t=new FS.FSStream;for(var i in e)t[i]=e[i];e=t;var o=FS.nextfd(r,n);return e.fd=o,FS.streams[o]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=FS.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){FS.devices[e]={stream_ops:r}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var r=[],n=[e];n.length;){var t=n.pop();r.push(t),n.push.apply(n,t.mounts)}return r},syncfs:function(e,r){function n(e){if(e){if(!n.errored)return n.errored=!0,r(e)}else++i>=t.length&&r(null)}"function"==typeof e&&(r=e,e=!1);var t=FS.getMounts(FS.root.mount),i=0;t.forEach(function(r){return r.type.syncfs?void r.type.syncfs(r,e,n):n(null)})},mount:function(e,r,n){var t,i="/"===n,o=!n;if(i&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!i&&!o){var a=FS.lookupPath(n,{follow_mount:!1});if(n=a.path,t=a.node,FS.isMountpoint(t))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(t.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var s={type:e,opts:r,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,i?FS.root=l:t&&(t.mounted=s,t.mount&&t.mount.mounts.push(s)),l},unmount:function(e){var r=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(r.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=r.node,t=n.mounted,i=FS.getMounts(t);Object.keys(FS.nameTable).forEach(function(e){for(var r=FS.nameTable[e];r;){var n=r.name_next;i.indexOf(r.mount)!==-1&&FS.destroyNode(r),r=n}}),n.mounted=null;var o=n.mount.mounts.indexOf(t);assert(o!==-1),n.mount.mounts.splice(o,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,n){var t=FS.lookupPath(e,{parent:!0}),i=t.node,o=PATH.basename(e);if(!o||"."===o||".."===o)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=FS.mayCreate(i,o);if(a)throw new FS.ErrnoError(a);if(!i.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.mknod(i,o,r,n)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,FS.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,FS.mknod(e,r,0)},mkdev:function(e,r,n){return"undefined"==typeof n&&(n=r,r=438),r|=8192,FS.mknod(e,r,n)},symlink:function(e,r){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var n=FS.lookupPath(r,{parent:!0}),t=n.node;if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var i=PATH.basename(r),o=FS.mayCreate(t,i);if(o)throw new FS.ErrnoError(o);if(!t.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return t.node_ops.symlink(t,i,e)},rename:function(e,r){var n,t,i,o=PATH.dirname(e),a=PATH.dirname(r),s=PATH.basename(e),l=PATH.basename(r);try{n=FS.lookupPath(e,{parent:!0}),t=n.node,n=FS.lookupPath(r,{parent:!0}),i=n.node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!t||!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(t.mount!==i.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var f=FS.lookupNode(t,s),u=PATH.relative(e,a);if("."!==u.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(u=PATH.relative(r,o),"."!==u.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);var c;try{c=FS.lookupNode(i,l)}catch(e){}if(f!==c){var d=FS.isDir(f.mode),h=FS.mayDelete(t,s,d);if(h)throw new FS.ErrnoError(h);if(h=c?FS.mayDelete(i,l,d):FS.mayCreate(i,l))throw new FS.ErrnoError(h);if(!t.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(f)||c&&FS.isMountpoint(c))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(i!==t&&(h=FS.nodePermissions(t,"w")))throw new FS.ErrnoError(h);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,r)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+n.message)}FS.hashRemoveNode(f);try{t.node_ops.rename(f,i,l)}catch(e){throw e}finally{FS.hashAddNode(f)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,r)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+n.message)}}},rmdir:function(e){var r=FS.lookupPath(e,{parent:!0}),n=r.node,t=PATH.basename(e),i=FS.lookupNode(n,t),o=FS.mayDelete(n,t,!0);if(o)throw new FS.ErrnoError(o);
if(!n.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(r){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+r.message)}n.node_ops.rmdir(n,t),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(r){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+r.message)}},readdir:function(e){var r=FS.lookupPath(e,{follow:!0}),n=r.node;if(!n.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return n.node_ops.readdir(n)},unlink:function(e){var r=FS.lookupPath(e,{parent:!0}),n=r.node,t=PATH.basename(e),i=FS.lookupNode(n,t),o=FS.mayDelete(n,t,!1);if(o)throw o===ERRNO_CODES.EISDIR&&(o=ERRNO_CODES.EPERM),new FS.ErrnoError(o);if(!n.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(r){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+r.message)}n.node_ops.unlink(n,t),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(r){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+r.message)}},readlink:function(e){var r=FS.lookupPath(e),n=r.node;if(!n)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!n.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,r){var n=FS.lookupPath(e,{follow:!r}),t=n.node;if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!t.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return t.node_ops.getattr(t)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,r,n){var t;if("string"==typeof e){var i=FS.lookupPath(e,{follow:!n});t=i.node}else t=e;if(!t.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);t.node_ops.setattr(t,{mode:4095&r|t.mode&-4096,timestamp:Date.now()})},lchmod:function(e,r){FS.chmod(e,r,!0)},fchmod:function(e,r){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(n.node,r)},chown:function(e,r,n,t){var i;if("string"==typeof e){var o=FS.lookupPath(e,{follow:!t});i=o.node}else i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,r,n){FS.chown(e,r,n,!0)},fchown:function(e,r,n){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(t.node,r,n)},truncate:function(e,r){if(r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n;if("string"==typeof e){var t=FS.lookupPath(e,{follow:!0});n=t.node}else n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=FS.nodePermissions(n,"w");if(i)throw new FS.ErrnoError(i);n.node_ops.setattr(n,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0===(2097155&n.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(n.node,r)},utime:function(e,r,n){var t=FS.lookupPath(e,{follow:!0}),i=t.node;i.node_ops.setattr(i,{timestamp:Math.max(r,n)})},open:function(e,r,n,t,i){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);r="string"==typeof r?FS.modeStringToFlags(r):r,n="undefined"==typeof n?438:n,n=64&r?4095&n|32768:0;var o;if("object"==typeof e)o=e;else{e=PATH.normalize(e);try{var a=FS.lookupPath(e,{follow:!(131072&r)});o=a.node}catch(e){}}var s=!1;if(64&r)if(o){if(128&r)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else o=FS.mknod(e,n,0),s=!0;if(!o)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(o.mode)&&(r&=-513),65536&r&&!FS.isDir(o.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!s){var l=FS.mayOpen(o,r);if(l)throw new FS.ErrnoError(l)}512&r&&FS.truncate(o,0),r&=-641;var f=FS.createStream({node:o,path:FS.getPath(o),flags:r,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},t,i);f.stream_ops.open&&f.stream_ops.open(f),!Module.logReadFiles||1&r||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var u=0;1!==(2097155&r)&&(u|=FS.tracking.openFlags.READ),0!==(2097155&r)&&(u|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,u)}}catch(r){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+r.message)}return f},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,r,n){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,r,n),e.ungotten=[],e.position},read:function(e,r,n,t,i){if(t<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=!0;if("undefined"==typeof i)i=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var a=e.stream_ops.read(e,r,n,t,i);return o||(e.position+=a),a},write:function(e,r,n,t,i,o){if(t<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var a=!0;if("undefined"==typeof i)i=e.position,a=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.write(e,r,n,t,i,o);a||(e.position+=s);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,r,n){if(r<0||n<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,r,n)},mmap:function(e,r,n,t,i,o,a){if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,r,n,t,i,o,a)},msync:function(e,r,n,t,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,n,t,i):0},munmap:function(e){return 0},ioctl:function(e,r,n){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,r,n)},readFile:function(e,r){if(r=r||{},r.flags=r.flags||"r",r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var n,t=FS.open(e,r.flags),i=FS.stat(e),o=i.size,a=new Uint8Array(o);return FS.read(t,a,0,o,0),"utf8"===r.encoding?n=UTF8ArrayToString(a,0):"binary"===r.encoding&&(n=a),FS.close(t),n},writeFile:function(e,r,n){if(n=n||{},n.flags=n.flags||"w",n.encoding=n.encoding||"utf8","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var t=FS.open(e,n.flags,n.mode);if("utf8"===n.encoding){var i=new Uint8Array(lengthBytesUTF8(r)+1),o=stringToUTF8Array(r,i,0,i.length);FS.write(t,i,0,o,0,n.canOwn)}else"binary"===n.encoding&&FS.write(t,r,0,r.length,0,n.canOwn);FS.close(t)},cwd:function(){return FS.currentPath},chdir:function(e){var r=FS.lookupPath(e,{follow:!0});if(!FS.isDir(r.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var n=FS.nodePermissions(r.node,"x");if(n)throw new FS.ErrnoError(n);FS.currentPath=r.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,r,n,t,i){return t}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var e;if("undefined"!=typeof crypto){var r=new Uint8Array(1);e=function(){return crypto.getRandomValues(r),r[0]}}else e=function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,r){var n=+r,t=FS.getStream(n);if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var r=FS.open("/dev/stdout","w");assert(1===r.fd,"invalid handle for stdout ("+r.fd+")");var n=FS.open("/dev/stderr","w");assert(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e;for(var r in ERRNO_CODES)if(ERRNO_CODES[r]===e){this.code=r;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,WORKERFS:WORKERFS}},init:function(e,r,n){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=r||Module.stdout,Module.stderr=n||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var r=0;r<FS.streams.length;r++){var n=FS.streams[r];n&&FS.close(n)}},getMode:function(e,r){var n=0;return e&&(n|=365),r&&(n|=146),n},joinPath:function(e,r){var n=PATH.join.apply(null,e);return r&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,r){return PATH.resolve(r,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,r){var n=FS.analyzePath(e,r);return n.exists?n.object:(___setErrNo(n.error),null)},analyzePath:function(e,r){try{var n=FS.lookupPath(e,{follow:!r});e=n.path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=FS.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=PATH.basename(e),n=FS.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createFolder:function(e,r,n,t){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),r),o=FS.getMode(n,t);return FS.mkdir(i,o)},createPath:function(e,r,n,t){e="string"==typeof e?e:FS.getPath(e);for(var i=r.split("/").reverse();i.length;){var o=i.pop();if(o){var a=PATH.join2(e,o);try{FS.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,r,n,t,i){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),r),a=FS.getMode(t,i);return FS.create(o,a)},createDataFile:function(e,r,n,t,i,o){var a=r?PATH.join2("string"==typeof e?e:FS.getPath(e),r):e,s=FS.getMode(t,i),l=FS.create(a,s);if(n){if("string"==typeof n){for(var f=new Array(n.length),u=0,c=n.length;u<c;++u)f[u]=n.charCodeAt(u);n=f}FS.chmod(l,146|s);var d=FS.open(l,"w");FS.write(d,n,0,n.length,0,o),FS.close(d),FS.chmod(l,s)}return l},createDevice:function(e,r,n,t){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),r),o=FS.getMode(!!n,!!t);FS.createDevice.major||(FS.createDevice.major=64);var a=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){t&&t.buffer&&t.buffer.length&&t(10)},read:function(e,r,t,i,o){for(var a=0,s=0;s<i;s++){var l;try{l=n()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===l&&0===a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===l||void 0===l)break;a++,r[t+s]=l}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,n,i,o){for(var a=0;a<i;a++)try{t(r[n+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i&&(e.node.timestamp=Date.now()),a}}),FS.mkdev(i,o,a)},createLink:function(e,r,n,t,i){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),r);return FS.symlink(n,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var r=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){r=!1}return r||___setErrNo(ERRNO_CODES.EIO),r},createLazyFile:function(e,r,n,t,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[r]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var r,t=Number(e.getResponseHeader("Content-length")),i=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,o=1048576;i||(o=t);var a=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>t-1)throw new Error("only "+t+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),t!==o&&i.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):intArrayFromString(i.responseText||"",!0)},s=this;s.setDataGetter(function(e){var r=e*o,n=(e+1)*o-1;if(n=Math.min(n,t-1),"undefined"==typeof s.chunks[e]&&(s.chunks[e]=a(r,n)),"undefined"==typeof s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),this._length=t,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperty(a,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(a,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var s={isDevice:!1,contents:a}}else var s={isDevice:!1,url:n};var l=FS.createFile(e,r,s,t,i);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperty(l,"usedBytes",{get:function(){return this.contents.length}});var f={},u=Object.keys(l.stream_ops);return u.forEach(function(e){var r=l.stream_ops[e];f[e]=function(){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);return r.apply(null,arguments)}}),f.read=function(e,r,n,t,i){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,t);if(assert(a>=0),o.slice)for(var s=0;s<a;s++)r[n+s]=o[i+s];else for(var s=0;s<a;s++)r[n+s]=o.get(i+s);return a},l.stream_ops=f,l},createPreloadedFile:function(e,r,n,t,i,o,a,s,l,f){function u(n){function u(n){f&&f(),s||FS.createDataFile(e,r,n,t,i,l),o&&o(),removeRunDependency(d)}var h=!1;Module.preloadPlugins.forEach(function(e){h||e.canHandle(c)&&(e.handle(n,c,u,function(){a&&a(),removeRunDependency(d)}),h=!0)}),h||u(n)}Browser.init();var c=r?PATH.resolve(PATH.join2(e,r)):e,d=getUniqueRunDependency("cp "+c);addRunDependency(d),"string"==typeof n?Browser.asyncLoad(n,function(e){u(e)},a):u(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=FS.indexedDB();try{var i=t.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){console.log("creating db");var e=i.result;e.createObjectStore(FS.DB_STORE_NAME)},i.onsuccess=function(){function t(){0==f?r():n()}var o=i.result,a=o.transaction([FS.DB_STORE_NAME],"readwrite"),s=a.objectStore(FS.DB_STORE_NAME),l=0,f=0,u=e.length;e.forEach(function(e){var r=s.put(FS.analyzePath(e).object.contents,e);r.onsuccess=function(){l++,l+f==u&&t()},r.onerror=function(){f++,l+f==u&&t()}}),a.onerror=n},i.onerror=n},loadFilesFromDB:function(e,r,n){r=r||function(){},n=n||function(){};var t=FS.indexedDB();try{var i=t.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){function t(){0==f?r():n()}var o=i.result;try{var a=o.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var s=a.objectStore(FS.DB_STORE_NAME),l=0,f=0,u=e.length;e.forEach(function(e){var r=s.get(e);r.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),r.result,!0,!0,!0),l++,l+f==u&&t()},r.onerror=function(){f++,l+f==u&&t()}}),a.onerror=n},i.onerror=n}},PATH={splitPath:function(e){var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:function(e,r){for(var n=0,t=e.length-1;t>=0;t--){var i=e[t];"."===i?e.splice(t,1):".."===i?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(r)for(;n--;n)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),n="/"===e.substr(-1);return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&n&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=PATH.splitPath(e),n=r[0],t=r[1];return n||t?(t&&(t=t.substr(0,t.length-1)),n+t):"."},basename:function(e){if("/"===e)return"/";var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,r){return PATH.normalize(e+"/"+r)},resolve:function(){for(var e="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var t=n>=0?arguments[n]:FS.cwd();if("string"!=typeof t)throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,r="/"===t.charAt(0)}return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"),(r?"/":"")+e||"."},relative:function(e,r){function n(e){for(var r=0;r<e.length&&""===e[r];r++);for(var n=e.length-1;n>=0&&""===e[n];n--);return r>n?[]:e.slice(r,n-r+1)}e=PATH.resolve(e).substr(1),r=PATH.resolve(r).substr(1);for(var t=n(e.split("/")),i=n(r.split("/")),o=Math.min(t.length,i.length),a=o,s=0;s<o;s++)if(t[s]!==i[s]){a=s;break}for(var l=[],s=a;s<t.length;s++)l.push("..");return l=l.concat(i.slice(a)),l.join("/")}},Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var e=Browser.mainLoop.timingMode,r=Browser.mainLoop.timingValue,n=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(n,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(e,r),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var e=Module.statusMessage||"Please wait...",r=Browser.mainLoop.remainingBlockers,n=Browser.mainLoop.expectedBlockers;r?r<n?Module.setStatus(e+" ("+(n-r)+"/"+n+")"):Module.setStatus(e):Module.setStatus("")}},runIter:function(e){if(!ABORT){if(Module.preMainLoop){var r=Module.preMainLoop();if(r===!1)return}try{e()}catch(e){if(e instanceof ExitStatus)return;throw e&&"object"==typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}Module.postMainLoop&&Module.postMainLoop()}}},isFullScreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){function e(){Browser.pointerLock=document.pointerLockElement===t||document.mozPointerLockElement===t||document.webkitPointerLockElement===t||document.msPointerLockElement===t}if(Module.preloadPlugins||(Module.preloadPlugins=[]),!Browser.initted){Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch(e){Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,Module.noImageDecoding||"undefined"!=typeof Browser.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var r={};r.canHandle=function(e){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},r.handle=function(e,r,n,t){var i=null;if(Browser.hasBlobConstructor)try{i=new Blob([e],{type:Browser.getMimetype(r)}),i.size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:Browser.getMimetype(r)}))}catch(e){Runtime.warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!i){var o=new Browser.BlobBuilder;o.append(new Uint8Array(e).buffer),i=o.getBlob()}var a=Browser.URLObject.createObjectURL(i),s=new Image;s.onload=function(){assert(s.complete,"Image "+r+" could not be decoded");var t=document.createElement("canvas");t.width=s.width,t.height=s.height;var i=t.getContext("2d");i.drawImage(s,0,0),Module.preloadedImages[r]=t,Browser.URLObject.revokeObjectURL(a),n&&n(e)},s.onerror=function(e){console.log("Image "+a+" could not be decoded"),t&&t()},s.src=a},Module.preloadPlugins.push(r);var n={};n.canHandle=function(e){return!Module.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},n.handle=function(e,r,n,t){function i(t){a||(a=!0,Module.preloadedAudios[r]=t,n&&n(e))}function o(){a||(a=!0,Module.preloadedAudios[r]=new Audio,t&&t())}var a=!1;if(!Browser.hasBlobConstructor)return o();try{var s=new Blob([e],{type:Browser.getMimetype(r)})}catch(e){return o()}var l=Browser.URLObject.createObjectURL(s),f=new Audio;f.addEventListener("canplaythrough",function(){i(f)},!1),f.onerror=function(n){function t(e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="=",t="",i=0,o=0,a=0;a<e.length;a++)for(i=i<<8|e[a],o+=8;o>=6;){var s=i>>o-6&63;o-=6,t+=r[s]}return 2==o?(t+=r[(3&i)<<4],t+=n+n):4==o&&(t+=r[(15&i)<<2],t+=n),t}a||(console.log("warning: browser could not fully decode audio "+r+", trying slower base64 approach"),f.src="data:audio/x-"+r.substr(-3)+";base64,"+t(e),i(f))},f.src=l,Browser.safeSetTimeout(function(){i(f)},1e4)},Module.preloadPlugins.push(n);var t=Module.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),Module.elementPointerLock&&t.addEventListener("click",function(e){!Browser.pointerLock&&t.requestPointerLock&&(t.requestPointerLock(),e.preventDefault())},!1))}},createContext:function(e,r,n,t){if(r&&Module.ctx&&e==Module.canvas)return Module.ctx;var i,o;if(r){var a={antialias:!1,alpha:!1};if(t)for(var s in t)a[s]=t[s];o=GL.createContext(e,a),o&&(i=GL.getContext(o).GLctx),e.style.backgroundColor="black"}else i=e.getContext("2d");return i?(n&&(r||assert("undefined"==typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=i,r&&GL.makeContextCurrent(o),Module.useWebGL=r,Browser.moduleContextCreatedCallbacks.forEach(function(e){e()}),Browser.init()),i):null},destroyContext:function(e,r,n){},fullScreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullScreen:function(e,r,n){function t(){Browser.isFullScreen=!1;var e=i.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e?(i.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},i.cancelFullScreen=i.cancelFullScreen.bind(document),Browser.lockPointer&&i.requestPointerLock(),Browser.isFullScreen=!0,Browser.resizeCanvas&&Browser.setFullScreenCanvasSize()):(e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullScreen),Browser.updateCanvasDimensions(i)}Browser.lockPointer=e,Browser.resizeCanvas=r,Browser.vrDevice=n,"undefined"==typeof Browser.lockPointer&&(Browser.lockPointer=!0),"undefined"==typeof Browser.resizeCanvas&&(Browser.resizeCanvas=!1),"undefined"==typeof Browser.vrDevice&&(Browser.vrDevice=null);var i=Module.canvas;Browser.fullScreenHandlersInstalled||(Browser.fullScreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("MSFullscreenChange",t,!1));var o=document.createElement("div");i.parentNode.insertBefore(o,i),o.appendChild(i),o.requestFullScreen=o.requestFullScreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n?o.requestFullScreen({vrDisplay:n}):o.requestFullScreen()},nextRAF:0,fakeRequestAnimationFrame:function(e){var r=Date.now();if(0===Browser.nextRAF)Browser.nextRAF=r+1e3/60;else for(;r+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var n=Math.max(Browser.nextRAF-r,0);setTimeout(e,n)},requestAnimationFrame:function(e){"undefined"==typeof window?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){if(!ABORT)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var e=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],e.forEach(function(e){e()})}},safeRequestAnimationFrame:function(e){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))})},safeSetTimeout:function(e,r){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))},r)},safeSetInterval:function(e,r){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&e()},r)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail;break;case"mousewheel":r=e.wheelDelta;break;case"wheel":r=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Browser.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(e),Browser.mouseMovementY=Browser.getMovementY(e)),"undefined"!=typeof SDL?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var r=Module.canvas.getBoundingClientRect(),n=Module.canvas.width,t=Module.canvas.height,i="undefined"!=typeof window.scrollX?window.scrollX:window.pageXOffset,o="undefined"!=typeof window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var a=e.touch;if(void 0===a)return;var s=a.pageX-(i+r.left),l=a.pageY-(o+r.top);s*=n/r.width,l*=t/r.height;var f={x:s,y:l};if("touchstart"===e.type)Browser.lastTouches[a.identifier]=f,Browser.touches[a.identifier]=f;else if("touchend"===e.type||"touchmove"===e.type){var u=Browser.touches[a.identifier];u||(u=f),Browser.lastTouches[a.identifier]=u,Browser.touches[a.identifier]=f}return}var c=e.pageX-(i+r.left),d=e.pageY-(o+r.top);c*=n/r.width,d*=t/r.height,Browser.mouseMovementX=c-Browser.mouseX,Browser.mouseMovementY=d-Browser.mouseY,Browser.mouseX=c,Browser.mouseY=d}},xhrLoad:function(e,r,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){200==t.status||0==t.status&&t.response?r(t.response):n()},t.onerror=n,t.send(null)},asyncLoad:function(e,r,n,t){Browser.xhrLoad(e,function(n){assert(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),r(new Uint8Array(n)),t||removeRunDependency("al "+e)},function(r){if(!n)throw'Loading data file "'+e+'" failed.';n()}),t||addRunDependency("al "+e)},resizeListeners:[],updateResizeListeners:function(){var e=Module.canvas;Browser.resizeListeners.forEach(function(r){r(e.width,e.height)})},setCanvasSize:function(e,r,n){var t=Module.canvas;Browser.updateCanvasDimensions(t,e,r),n||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,
setFullScreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e=8388608|e,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e&=-8388609,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},updateCanvasDimensions:function(e,r,n){r&&n?(e.widthNative=r,e.heightNative=n):(r=e.widthNative,n=e.heightNative);var t=r,i=n;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(t/i<Module.forcedAspectRatio?t=Math.round(i*Module.forcedAspectRatio):i=Math.round(t/Module.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/t,screen.height/i);t=Math.round(t*o),i=Math.round(i*o)}Browser.resizeCanvas?(e.width!=t&&(e.width=t),e.height!=i&&(e.height=i),"undefined"!=typeof e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=r&&(e.width=r),e.height!=n&&(e.height=n),"undefined"!=typeof e.style&&(t!=r||i!=n?(e.style.setProperty("width",t+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,e}};Module.requestFullScreen=function(e,r,n){Browser.requestFullScreen(e,r,n)},Module.requestAnimationFrame=function(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function(e,r,n){Browser.setCanvasSize(e,r,n)},Module.pauseMainLoop=function(){Browser.mainLoop.pause()},Module.resumeMainLoop=function(){Browser.mainLoop.resume()},Module.getUserMedia=function(){Browser.getUserMedia()},Module.createContext=function(e,r,n,t){return Browser.createContext(e,r,n,t)},FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack"),Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,_sysconf:_sysconf,_pthread_self:_pthread_self,_abort:_abort,___setErrNo:___setErrNo,_sbrk:_sbrk,_time:_time,_emscripten_set_main_loop_timing:_emscripten_set_main_loop_timing,_emscripten_memcpy_big:_emscripten_memcpy_big,_emscripten_set_main_loop:_emscripten_set_main_loop,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT};var asm=function(e,r,n){"use asm";var t=new e.Int8Array(n);var i=new e.Int16Array(n);var o=new e.Int32Array(n);var a=new e.Uint8Array(n);var s=new e.Uint16Array(n);var l=new e.Uint32Array(n);var f=new e.Float32Array(n);var u=new e.Float64Array(n);var c=r.STACKTOP|0;var d=r.STACK_MAX|0;var h=r.tempDoublePtr|0;var w=r.ABORT|0;var m=0;var E=0;var p=0;var S=0;var b=e.NaN,v=e.Infinity;var _=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0;var T=0;var D=0;var N=0;var P=0;var C=0;var I=0;var B=0;var L=0;var U=0;var x=0;var H=e.Math.floor;var z=e.Math.abs;var Y=e.Math.sqrt;var j=e.Math.pow;var K=e.Math.cos;var q=e.Math.sin;var V=e.Math.tan;var W=e.Math.acos;var X=e.Math.asin;var G=e.Math.atan;var Z=e.Math.atan2;var J=e.Math.exp;var Q=e.Math.log;var $=e.Math.ceil;var ee=e.Math.imul;var re=e.Math.min;var ne=e.Math.clz32;var te=r.abort;var ie=r.assert;var oe=r._sysconf;var ae=r._pthread_self;var se=r._abort;var le=r.___setErrNo;var fe=r._sbrk;var ue=r._time;var ce=r._emscripten_set_main_loop_timing;var de=r._emscripten_memcpy_big;var he=r._emscripten_set_main_loop;var we=0;function me(e){e=e|0;var r=0;r=c;c=c+e|0;c=c+15&-16;return r|0}function Ee(){return c|0}function pe(e){e=e|0;c=e}function Se(e,r){e=e|0;r=r|0;c=e;d=r}function be(e,r){e=e|0;r=r|0;if(!m){m=e;E=r}}function ve(e){e=e|0;t[h>>0]=t[e>>0];t[h+1>>0]=t[e+1>>0];t[h+2>>0]=t[e+2>>0];t[h+3>>0]=t[e+3>>0]}function _e(e){e=e|0;t[h>>0]=t[e>>0];t[h+1>>0]=t[e+1>>0];t[h+2>>0]=t[e+2>>0];t[h+3>>0]=t[e+3>>0];t[h+4>>0]=t[e+4>>0];t[h+5>>0]=t[e+5>>0];t[h+6>>0]=t[e+6>>0];t[h+7>>0]=t[e+7>>0]}function ke(e){e=e|0;T=e}function Fe(){return T|0}function Me(){var e=0,r=0;r=c;c=c+16|0;e=r;o[e>>2]=0;Nr(e,31756)|0;c=r;return o[e>>2]|0}function ge(e){e=e|0;var r=0,n=0;r=c;c=c+16|0;n=r;o[n>>2]=e;Pr(n);c=r;return}function Re(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;Pe(e,(t|0)==0?(a[r>>0]|0)>>>3&15:15,r+1|0,n,2)|0;return}function ye(e){e=e|0;var r=0;r=xi(8)|0;Br(r,r+4|0,e)|0;return r|0}function Ae(e){e=e|0;Lr(e,e+4|0);Hi(e);return}function Oe(e,r,n,i,s){e=e|0;r=r|0;n=n|0;i=i|0;s=s|0;var l=0;s=c;c=c+16|0;l=s;o[l>>2]=r;n=(Ur(o[e>>2]|0,o[e+4>>2]|0,r,n,i,l,3)|0)<<16>>16;t[i>>0]=a[i>>0]|0|4;c=s;return n|0}function Te(e){e=e|0;if(!e)e=-1;else{i[e>>1]=4096;e=0}return e|0}function De(e,r,n,t,a,s){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;var l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0;d=o[s>>2]|0;E=a<<16>>16>0;if(E){l=0;f=0;do{c=i[n+(l<<1)>>1]|0;c=ee(c,c)|0;if((c|0)!=1073741824){u=(c<<1)+f|0;if((c^f|0)>0&(u^f|0)<0){o[s>>2]=1;f=(f>>>31)+2147483647|0}else f=u}else{o[s>>2]=1;f=2147483647}l=l+1|0}while((l&65535)<<16>>16!=a<<16>>16);if((f|0)==2147483647){o[s>>2]=d;c=0;u=0;do{f=i[n+(c<<1)>>1]>>2;f=ee(f,f)|0;if((f|0)!=1073741824){l=(f<<1)+u|0;if((f^u|0)>0&(l^u|0)<0){o[s>>2]=1;u=(u>>>31)+2147483647|0}else u=l}else{o[s>>2]=1;u=2147483647}c=c+1|0}while((c&65535)<<16>>16!=a<<16>>16)}else m=8}else{f=0;m=8}if((m|0)==8)u=f>>4;if(!u){i[e>>1]=0;return}w=((bi(u)|0)&65535)+65535|0;f=w<<16>>16;if((w&65535)<<16>>16>0){l=u<<f;if((l>>f|0)==(u|0))u=l;else u=u>>31^2147483647}else{f=0-f<<16;if((f|0)<2031616)u=u>>(f>>16);else u=0}h=Ni(u,s)|0;l=o[s>>2]|0;if(E){f=0;u=0;do{d=i[r+(f<<1)>>1]|0;d=ee(d,d)|0;if((d|0)!=1073741824){c=(d<<1)+u|0;if((d^u|0)>0&(c^u|0)<0){o[s>>2]=1;u=(u>>>31)+2147483647|0}else u=c}else{o[s>>2]=1;u=2147483647}f=f+1|0}while((f&65535)<<16>>16!=a<<16>>16);if((u|0)==2147483647){o[s>>2]=l;d=0;u=0;do{c=i[r+(d<<1)>>1]>>2;c=ee(c,c)|0;if((c|0)!=1073741824){f=(c<<1)+u|0;if((c^u|0)>0&(f^u|0)<0){o[s>>2]=1;u=(u>>>31)+2147483647|0}else u=f}else{o[s>>2]=1;u=2147483647}d=d+1|0}while((d&65535)<<16>>16!=a<<16>>16)}else m=29}else{u=0;m=29}if((m|0)==29)u=u>>4;if(!u)c=0;else{f=(bi(u)|0)<<16>>16;l=w-f|0;c=l&65535;u=(Gt(h,Ni(u<<f,s)|0)|0)<<16>>16;f=u<<7;l=l<<16>>16;if(c<<16>>16>0)l=c<<16>>16<31?f>>l:0;else{m=0-l<<16>>16;l=f<<m;l=(l>>m|0)==(f|0)?l:u>>24^2147483647}c=(ee(((ai(l,s)|0)<<9)+32768>>16,32767-(t&65535)<<16>>16)|0)>>>15<<16>>16}l=i[e>>1]|0;if(E){u=t<<16>>16;f=0;while(1){t=((ee(l<<16>>16,u)|0)>>>15&65535)+c|0;l=t&65535;i[n>>1]=(ee(i[n>>1]|0,t<<16>>16)|0)>>>12;f=f+1<<16>>16;if(f<<16>>16>=a<<16>>16)break;else n=n+2|0}}i[e>>1]=l;return}function Ne(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0,s=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0;l=o[t>>2]|0;a=n<<16>>16>0;if(a){f=0;s=0;do{c=i[r+(f<<1)>>1]|0;c=ee(c,c)|0;if((c|0)!=1073741824){u=(c<<1)+s|0;if((c^s|0)>0&(u^s|0)<0){o[t>>2]=1;s=(s>>>31)+2147483647|0}else s=u}else{o[t>>2]=1;s=2147483647}f=f+1|0}while((f&65535)<<16>>16!=n<<16>>16);if((s|0)==2147483647){o[t>>2]=l;c=0;l=0;do{u=i[r+(c<<1)>>1]>>2;u=ee(u,u)|0;if((u|0)!=1073741824){f=(u<<1)+l|0;if((u^l|0)>0&(f^l|0)<0){o[t>>2]=1;l=(l>>>31)+2147483647|0}else l=f}else{o[t>>2]=1;l=2147483647}c=c+1|0}while((c&65535)<<16>>16!=n<<16>>16)}else w=8}else{s=0;w=8}if((w|0)==8)l=s>>4;if(!l)return;h=((bi(l)|0)&65535)+65535|0;u=h<<16>>16;if((h&65535)<<16>>16>0){f=l<<u;if((f>>u|0)==(l|0))l=f;else l=l>>31^2147483647}else{u=0-u<<16;if((u|0)<2031616)l=l>>(u>>16);else l=0}d=Ni(l,t)|0;l=o[t>>2]|0;if(a){f=0;s=0;do{c=i[e+(f<<1)>>1]|0;c=ee(c,c)|0;if((c|0)!=1073741824){u=(c<<1)+s|0;if((c^s|0)>0&(u^s|0)<0){o[t>>2]=1;s=(s>>>31)+2147483647|0}else s=u}else{o[t>>2]=1;s=2147483647}f=f+1|0}while((f&65535)<<16>>16!=n<<16>>16);if((s|0)==2147483647){o[t>>2]=l;l=0;f=0;do{c=i[e+(l<<1)>>1]>>2;c=ee(c,c)|0;if((c|0)!=1073741824){u=(c<<1)+f|0;if((c^f|0)>0&(u^f|0)<0){o[t>>2]=1;f=(f>>>31)+2147483647|0}else f=u}else{o[t>>2]=1;f=2147483647}l=l+1|0}while((l&65535)<<16>>16!=n<<16>>16)}else w=28}else{s=0;w=28}if((w|0)==28)f=s>>4;if(!f)a=0;else{c=bi(f)|0;u=c<<16>>16;if(c<<16>>16>0){l=f<<u;if((l>>u|0)==(f|0))f=l;else f=f>>31^2147483647}else{u=0-u<<16;if((u|0)<2031616)f=f>>(u>>16);else f=0}l=h-(c&65535)|0;u=l&65535;s=(Gt(d,Ni(f,t)|0)|0)<<16>>16;a=s<<7;l=l<<16>>16;if(u<<16>>16>0)a=u<<16>>16<31?a>>l:0;else{h=0-l<<16>>16;e=a<<h;a=(e>>h|0)==(a|0)?e:s>>24^2147483647}a=ai(a,t)|0;if((a|0)>4194303)a=2147483647;else a=(a|0)<-4194304?-2147483648:a<<9;a=Ni(a,t)|0}s=(n&65535)+65535&65535;if(s<<16>>16<=-1)return;c=a<<16>>16;u=n+-1<<16>>16<<16>>16;while(1){l=r+(u<<1)|0;a=ee(i[l>>1]|0,c)|0;do if((a|0)!=1073741824){f=a<<1;if((f|0)<=268435455)if((f|0)<-268435456){i[l>>1]=-32768;break}else{i[l>>1]=a>>>12;break}else w=52}else{o[t>>2]=1;w=52}while(0);if((w|0)==52){w=0;i[l>>1]=32767}s=s+-1<<16>>16;if(s<<16>>16<=-1)break;else u=u+-1|0}return}function Pe(e,r,n,t,a){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;var s=0,l=0,f=0,u=0;u=c;c=c+496|0;f=u;l=(a|0)==2;do if(!(l&1|(a|0)==4)){if(a){e=-1;c=u;return e|0}l=i[n>>1]|0;r=n+490|0;a=n+2|0;s=0;while(1){i[f+(s<<1)>>1]=i[a>>1]|0;s=s+1|0;if((s|0)==244)break;else a=a+2|0}s=l<<16>>16;if(l<<16>>16==7){a=492;r=o[e+1760>>2]|0;break}else{a=492;r=i[r>>1]|0;break}}else{s=e+1168|0;if(l){Ir(r,n,f,s);s=604}else{Sr(r,n,f,s);s=3436}a=i[s+(r<<1)>>1]|0;do if(r>>>0>=8){if((r|0)==8){r=i[f+76>>1]<<2|(i[f+74>>1]<<1|i[f+72>>1]);s=(i[f+70>>1]|0)==0?4:5;break}if(r>>>0<15){e=-1;c=u;return e|0}else{r=o[e+1760>>2]|0;s=7;break}}else s=0;while(0);if(a<<16>>16==-1){e=-1;c=u;return e|0}}while(0);Cr(e,r,f,s,t);o[e+1760>>2]=r;e=a;c=u;return e|0}function Ce(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0;b=c;c=c+48|0;p=b+20|0;S=b;a=p;t=a+20|0;do{i[a>>1]=i[e>>1]|0;a=a+2|0;e=e+2|0}while((a|0)<(t|0));e=i[p+18>>1]|0;E=(e&65535)-((e&65535)>>>15&65535)|0;e:do if(((E<<16>>31^E)&65535)<<16>>16<=4095){t=9;E=9;while(1){e=e<<16>>16;e=(e<<19>>19|0)==(e|0)?e<<3:e>>>15^32767;m=r+(t<<1)|0;i[m>>1]=e;e=e<<16>>16;e=ee(e,e)|0;if((e|0)==1073741824){o[n>>2]=1;a=2147483647}else a=e<<1;e=2147483647-a|0;if((e&a|0)<0){o[n>>2]=1;e=2147483647}h=bi(e)|0;w=15-(h&65535)&65535;l=h<<16>>16;if(h<<16>>16>0){a=e<<l;if((a>>l|0)!=(e|0))a=e>>31^2147483647}else{a=0-l<<16;if((a|0)<2031616)a=e>>(a>>16);else a=0}a=Gt(16384,Ni(a,n)|0)|0;do if(E<<16>>16>0){h=t+-1|0;f=a<<16>>16;u=E<<16>>16;d=0;while(1){t=s[p+(d<<1)>>1]|0;e=t<<16;l=ee(i[p+(h-d<<1)>>1]|0,i[m>>1]|0)|0;if((l|0)==1073741824){o[n>>2]=1;a=2147483647}else a=l<<1;l=e-a|0;if(((l^e)&(a^e)|0)<0){o[n>>2]=1;l=(t>>>15)+2147483647|0}l=ee((Ni(l,n)|0)<<16>>16,f)|0;if((l|0)==1073741824){o[n>>2]=1;l=2147483647}else l=l<<1;l=ui(l,w,n)|0;a=l-(l>>>31)|0;if((a>>31^a|0)>32767){l=24;break}i[S+(d<<1)>>1]=l;d=d+1|0;if((u|0)<=(d|0)){l=26;break}}if((l|0)==24){l=0;a=r;t=a+20|0;do{i[a>>1]=0;a=a+2|0}while((a|0)<(t|0));e=10}else if((l|0)==26){l=0;if(E<<16>>16>0)e=E;else{l=28;break}}a=e+-1<<16>>16;Ki(p|0,S|0,((a&65535)<<1)+2|0)|0;t=a<<16>>16}else l=28;while(0);if((l|0)==28){e=E+-1<<16>>16;if(e<<16>>16>-1){t=e<<16>>16;a=32767}else break}e=i[p+(t<<1)>>1]|0;E=(e&65535)-((e&65535)>>>15&65535)|0;if(((E<<16>>31^E)&65535)<<16>>16>4095)break e;else E=a}c=b;return}while(0);a=r;t=a+20|0;do{i[a>>1]=0;a=a+2|0}while((a|0)<(t|0));c=b;return}function Ie(e,r){e=e|0;r=r|0;var n=0,t=0,i=0,a=0,s=0;if(r<<16>>16<=0){e=0;return e|0}t=o[e>>2]|0;i=0;n=0;do{s=t&1;n=s|n<<1&131070;a=t>>1;t=(s|0)==(t>>>28&1|0)?a:a|1073741824;i=i+1<<16>>16}while(i<<16>>16<r<<16>>16);o[e>>2]=t;s=n&65535;return s|0}function Be(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,s=0,l=0,f=0,u=0;a=r;t=a+80|0;do{i[a>>1]=0;a=a+2|0}while((a|0)<(t|0));t=0;a=o[e>>2]|0;do{u=a&1;f=a>>1;f=(u|0)==(a>>>28&1|0)?f:f|1073741824;s=f&1;l=f>>1;o[e>>2]=(s|0)==(f>>>28&1|0)?l:l|1073741824;s=Wt((ee(u<<1|s,1310720)|0)>>>17&65535,t,n)|0;u=o[e>>2]|0;l=u&1;f=u>>1;a=(l|0)==(u>>>28&1|0)?f:f|1073741824;o[e>>2]=a;i[r+(s<<16>>16<<1)>>1]=((l&65535)<<13&65535)+-4096<<16>>16;t=t+1<<16>>16}while(t<<16>>16<10);return}function Le(e,r,n,t,a,l){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;var f=0,u=0;f=i[e>>1]|0;if((f*31821|0)==1073741824){o[l>>2]=1;u=1073741823}else u=f*63642>>1;f=u+13849|0;if((u|0)>-1&(f^u|0)<0){o[l>>2]=1;f=(u>>>31)+2147483647|0}i[e>>1]=f;if(r<<16>>16<=0)return;u=0;f=a+((f&127)<<1)|0;while(1){i[t+(u<<1)>>1]=(-65536<<i[n+(u<<1)>>1]>>>16^65535)&s[f>>1];u=u+1|0;if((u&65535)<<16>>16==r<<16>>16)break;else f=f+2|0}return}function Ue(e){e=e|0;var r=0;if(!e){r=-1;return r|0}r=e+122|0;do{i[e>>1]=0;e=e+2|0}while((e|0)<(r|0));r=0;return r|0}function xe(e,r,n,t,a){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;var l=0,f=0,u=0,c=0,d=0,h=0,w=0;u=159;f=0;while(1){d=i[n+(u<<1)>>1]|0;d=ee(d,d)|0;d=(d|0)==1073741824?2147483647:d<<1;l=d+f|0;if((d^f|0)>-1&(l^f|0)<0){o[a>>2]=1;f=(f>>>31)+2147483647|0}else f=l;if((u|0)>0)u=u+-1|0;else{u=f;break}}a=u>>>14&65535;f=32767;l=59;while(1){d=i[e+(l<<1)>>1]|0;f=d<<16>>16<f<<16>>16?d:f;if((l|0)>0)l=l+-1|0;else break}d=(u|0)>536870911?32767:a;a=f<<16>>16;l=a<<20>>16;u=f<<16>>16>0?32767:-32768;n=55;f=i[e>>1]|0;while(1){c=i[e+(n<<1)>>1]|0;f=f<<16>>16<c<<16>>16?c:f;if((n|0)>1)n=n+-1|0;else break}n=i[e+80>>1]|0;c=i[e+82>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+84>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+86>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+88>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+90>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+92>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+94>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+96>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+98>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+100>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+102>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+104>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+106>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+108>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+110>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+112>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+114>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=i[e+116>>1]|0;n=n<<16>>16<c<<16>>16?c:n;c=e+118|0;w=i[c>>1]|0;do if((d+-21&65535)<17557&f<<16>>16>20?(d<<16>>16|0)<(((a<<4|0)==(l|0)?l:u)|0)?1:(n<<16>>16<w<<16>>16?w:n)<<16>>16<1953:0){f=e+120|0;l=i[f>>1]|0;if(l<<16>>16>29){i[f>>1]=30;n=f;u=1;break}else{u=(l&65535)+1&65535;i[f>>1]=u;n=f;u=u<<16>>16>1&1;break}}else h=14;while(0);if((h|0)==14){n=e+120|0;i[n>>1]=0;u=0}f=0;do{w=f;f=f+1|0;i[e+(w<<1)>>1]=i[e+(f<<1)>>1]|0}while((f|0)!=59);i[c>>1]=d;f=i[n>>1]|0;f=f<<16>>16>15?16383:f<<16>>16>8?15565:13926;l=ri(r+8|0,5)|0;if((i[n>>1]|0)>20){if(((ri(r,9)|0)<<16>>16|0)>(f|0))h=20}else if((l<<16>>16|0)>(f|0))h=20;if((h|0)==20){i[t>>1]=0;return u|0}l=(s[t>>1]|0)+1&65535;if(l<<16>>16>10){i[t>>1]=10;return u|0}else{i[t>>1]=l;return u|0}return 0}function He(e){e=e|0;var r=0;if(!e){r=-1;return r|0}r=e+18|0;do{i[e>>1]=0;e=e+2|0}while((e|0)<(r|0));r=0;return r|0}function ze(e,r,n,t,a,l,f,u,c,d,h,w){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;c=c|0;d=d|0;h=h|0;w=w|0;var m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0;M=e+2|0;i[e>>1]=i[M>>1]|0;g=e+4|0;i[M>>1]=i[g>>1]|0;R=e+6|0;i[g>>1]=i[R>>1]|0;y=e+8|0;i[R>>1]=i[y>>1]|0;A=e+10|0;i[y>>1]=i[A>>1]|0;O=e+12|0;i[A>>1]=i[O>>1]|0;i[O>>1]=n;b=0;F=0;do{m=a+(F<<1)|0;p=Bi(i[m>>1]|0,i[t+(F<<1)>>1]|0,w)|0;p=(p&65535)-((p&65535)>>>15&65535)|0;p=p<<16>>31^p;k=((vi(p&65535)|0)&65535)+65535|0;E=k<<16>>16;if((k&65535)<<16>>16<0){S=0-E<<16;if((S|0)<983040)v=p<<16>>16>>(S>>16)&65535;else v=0}else{S=p<<16>>16;p=S<<E;if((p<<16>>16>>E|0)==(S|0))v=p&65535;else v=(S>>>15^32767)&65535}_=vi(i[m>>1]|0)|0;p=i[m>>1]|0;E=_<<16>>16;if(_<<16>>16<0){S=0-E<<16;if((S|0)<983040)S=p<<16>>16>>(S>>16)&65535;else S=0}else{S=p<<16>>16;p=S<<E;if((p<<16>>16>>E|0)==(S|0))S=p&65535;else S=(S>>>15^32767)&65535}E=Gt(v,S)|0;S=(k&65535)+2-(_&65535)|0;p=S&65535;do if(S&32768){if(p<<16>>16!=-32768){k=0-S|0;S=k<<16>>16;if((k&65535)<<16>>16<0){S=0-S<<16;if((S|0)>=983040){S=0;break}S=E<<16>>16>>(S>>16)&65535;break}}else S=32767;p=E<<16>>16;E=p<<S;if((E<<16>>16>>S|0)==(p|0))S=E&65535;else S=(p>>>15^32767)&65535}else S=Pi(E,p,w)|0;while(0);b=Wt(b,S,w)|0;F=F+1|0}while((F|0)!=10);S=b&65535;p=b<<16>>16>5325;b=e+14|0;if(p){a=(s[b>>1]|0)+1&65535;i[b>>1]=a;if(a<<16>>16>10)i[e+16>>1]=0}else i[b>>1]=0;switch(r|0){case 0:case 1:case 2:case 3:case 6:break;default:{O=e+16|0;w=n;n=i[O>>1]|0;n=n&65535;n=n+1|0;n=n&65535;i[O>>1]=n;return w|0}}v=(f|l)<<16>>16==0;_=d<<16>>16==0;k=r>>>0<3;b=S+(k&((_|(v&(u<<16>>16==0|c<<16>>16==0)|h<<16>>16<2))^1)?61030:62259)&65535;b=b<<16>>16>0?b:0;if(b<<16>>16<=2048){b=b<<16>>16;if((b<<18>>18|0)==(b|0))c=b<<2;else c=b>>>15^32767}else c=8192;u=e+16|0;h=p|(i[u>>1]|0)<40;b=i[g>>1]|0;if((b*6554|0)==1073741824){o[w>>2]=1;p=2147483647}else p=b*13108|0;b=i[R>>1]|0;S=b*6554|0;if((S|0)!=1073741824){b=(b*13108|0)+p|0;if((S^p|0)>0&(b^p|0)<0){o[w>>2]=1;b=(p>>>31)+2147483647|0}}else{o[w>>2]=1;b=2147483647}S=i[y>>1]|0;p=S*6554|0;if((p|0)!=1073741824){S=(S*13108|0)+b|0;if((p^b|0)>0&(S^b|0)<0){o[w>>2]=1;S=(b>>>31)+2147483647|0}}else{o[w>>2]=1;S=2147483647}b=i[A>>1]|0;p=b*6554|0;if((p|0)!=1073741824){b=(b*13108|0)+S|0;if((p^S|0)>0&(b^S|0)<0){o[w>>2]=1;p=(S>>>31)+2147483647|0}else p=b}else{o[w>>2]=1;p=2147483647}b=i[O>>1]|0;S=b*6554|0;if((S|0)!=1073741824){b=(b*13108|0)+p|0;if((S^p|0)>0&(b^p|0)<0){o[w>>2]=1;b=(p>>>31)+2147483647|0}}else{o[w>>2]=1;b=2147483647}p=Ni(b,w)|0;if(k&((v|_)^1)){b=i[e>>1]|0;if((b*4681|0)==1073741824){o[w>>2]=1;p=2147483647}else p=b*9362|0;b=i[M>>1]|0;S=b*4681|0;if((S|0)!=1073741824){b=(b*9362|0)+p|0;if((S^p|0)>0&(b^p|0)<0){o[w>>2]=1;p=(p>>>31)+2147483647|0}else p=b}else{o[w>>2]=1;p=2147483647}b=i[g>>1]|0;S=b*4681|0;if((S|0)!=1073741824){b=(b*9362|0)+p|0;if((S^p|0)>0&(b^p|0)<0){o[w>>2]=1;p=(p>>>31)+2147483647|0}else p=b}else{o[w>>2]=1;p=2147483647}b=i[R>>1]|0;S=b*4681|0;if((S|0)!=1073741824){b=(b*9362|0)+p|0;if((S^p|0)>0&(b^p|0)<0){o[w>>2]=1;b=(p>>>31)+2147483647|0}}else{o[w>>2]=1;b=2147483647}S=i[y>>1]|0;p=S*4681|0;if((p|0)!=1073741824){S=(S*9362|0)+b|0;if((p^b|0)>0&(S^b|0)<0){o[w>>2]=1;b=(b>>>31)+2147483647|0}else b=S}else{o[w>>2]=1;b=2147483647}S=i[A>>1]|0;p=S*4681|0;if((p|0)!=1073741824){S=(S*9362|0)+b|0;if((p^b|0)>0&(S^b|0)<0){o[w>>2]=1;S=(b>>>31)+2147483647|0}}else{o[w>>2]=1;S=2147483647}p=i[O>>1]|0;m=p*4681|0;if((m|0)!=1073741824){E=(p*9362|0)+S|0;if((m^S|0)>0&(E^S|0)<0){o[w>>2]=1;E=(S>>>31)+2147483647|0}}else{o[w>>2]=1;E=2147483647}p=Ni(E,w)|0}b=h?8192:c<<16>>16;m=ee(b,n<<16>>16)|0;if((m|0)==1073741824){o[w>>2]=1;S=2147483647}else S=m<<1;p=p<<16>>16;E=p<<13;if((E|0)!=1073741824){m=S+(p<<14)|0;if((S^E|0)>0&(m^S|0)<0){o[w>>2]=1;S=(S>>>31)+2147483647|0}else S=m}else{o[w>>2]=1;S=2147483647}m=ee(p,b)|0;if((m|0)==1073741824){o[w>>2]=1;E=2147483647}else E=m<<1;m=S-E|0;if(((m^S)&(E^S)|0)<0){o[w>>2]=1;m=(S>>>31)+2147483647|0}O=m<<2;n=u;w=Ni((O>>2|0)==(m|0)?O:m>>31^2147483647,w)|0;O=i[n>>1]|0;O=O&65535;O=O+1|0;O=O&65535;i[n>>1]=O;return w|0}function Ye(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,o=0,a=0,l=0;t=r;o=t+80|0;do{i[t>>1]=0;t=t+2|0}while((t|0)<(o|0));t=0;do{l=i[e+(t<<1)>>1]|0;o=((l&8)<<10&65535^8192)+-4096<<16>>16;a=t<<16;l=((i[n+((l&7)<<1)>>1]|0)*327680|0)+a>>16;i[r+(l<<1)>>1]=o;a=((i[n+((s[e+(t+5<<1)>>1]&7)<<1)>>1]|0)*327680|0)+a>>16;if((a|0)<(l|0))o=0-(o&65535)&65535;l=r+(a<<1)|0;i[l>>1]=(s[l>>1]|0)+(o&65535);t=t+1|0}while((t|0)!=5);return}function je(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,o=0,a=0;o=r<<16>>16;t=(o<<1&2|1)+((o>>>1&7)*5|0)|0;r=o>>>4&3;r=((o>>>6&7)*5|0)+((r|0)==3?4:r)|0;o=n;a=o+80|0;do{i[o>>1]=0;o=o+2|0}while((o|0)<(a|0));e=e<<16>>16;i[n+(t<<1)>>1]=(0-(e&1)&16383)+57344;i[n+(r<<1)>>1]=(0-(e>>>1&1)&16383)+57344;return}function Ke(e,r,n,t,o,a){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;var l=0,f=0;a=n<<16>>16;f=a>>>3;e=e<<16>>16;e=((e<<17>>17|0)==(e|0)?e<<1:e>>>15^32767)+(f&8)<<16;f=(s[t+(e+65536>>16<<1)>>1]|0)+((f&7)*5|0)|0;n=r<<16>>16;l=(0-(n&1)&16383)+57344&65535;e=o+((s[t+(e>>16<<1)>>1]|0)+((a&7)*5|0)<<16>>16<<1)|0;r=o;a=r+80|0;do{i[r>>1]=0;r=r+2|0}while((r|0)<(a|0));i[e>>1]=l;i[o+(f<<16>>16<<1)>>1]=(0-(n>>>1&1)&16383)+57344;return}function qe(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,o=0,a=0,s=0;r=r<<16>>16;t=(r&7)*5|0;o=(r>>>2&2|1)+((r>>>4&7)*5|0)|0;r=(r>>>6&2)+2+((r>>>8&7)*5|0)|0;a=n;s=a+80|0;do{i[a>>1]=0;a=a+2|0}while((a|0)<(s|0));e=e<<16>>16;i[n+(t<<1)>>1]=(0-(e&1)&16383)+57344;i[n+(o<<1)>>1]=(0-(e>>>1&1)&16383)+57344;i[n+(r<<1)>>1]=(0-(e>>>2&1)&16383)+57344;return}function Ve(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0;r=r<<16>>16;s=i[n+((r&7)<<1)>>1]|0;l=i[n+((r>>>3&7)<<1)>>1]|0;a=i[n+((r>>>6&7)<<1)>>1]|0;n=(r>>>9&1)+3+((i[n+((r>>>10&7)<<1)>>1]|0)*5|0)|0;r=t;o=r+80|0;do{i[r>>1]=0;r=r+2|0}while((r|0)<(o|0));e=e<<16>>16;i[t+(s*327680>>16<<1)>>1]=(0-(e&1)&16383)+57344;i[t+((l*327680|0)+65536>>16<<1)>>1]=(0-(e>>>1&1)&16383)+57344;i[t+((a*327680|0)+131072>>16<<1)>>1]=(0-(e>>>2&1)&16383)+57344;i[t+(n<<16>>16<<1)>>1]=(0-(e>>>3&1)&16383)+57344;return}function We(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0;E=c;c=c+32|0;m=E+16|0;w=E;l=r;a=l+80|0;do{i[l>>1]=0;l=l+2|0}while((l|0)<(a|0));a=i[e>>1]|0;i[m>>1]=a;i[m+2>>1]=i[e+2>>1]|0;i[m+4>>1]=i[e+4>>1]|0;i[m+6>>1]=i[e+6>>1]|0;d=i[e+8>>1]|0;Xe(d>>>3&65535,d&7,0,4,1,w,n);d=i[e+10>>1]|0;Xe(d>>>3&65535,d&7,2,6,5,w,n);d=i[e+12>>1]|0;t=d>>2;do if((t*25|0)!=1073741824){l=(ee(t,1638400)|0)+786432>>21;t=l*6554>>15;if((t|0)>32767){o[n>>2]=1;f=1;u=1;e=163835;h=6;break}e=(t<<16>>16)*5|0;f=t&1;if((e|0)==1073741824){o[n>>2]=1;u=0;e=65535}else{u=0;h=6}}else{o[n>>2]=1;f=0;t=0;u=0;l=0;e=0;h=6}while(0);if((h|0)==6)e=e&65535;h=l-e|0;f=f<<16>>16==0?h:4-h|0;h=f<<16>>16;i[w+6>>1]=Wt(((f<<17>>17|0)==(h|0)?f<<1:h>>>15^32767)&65535,d&1,n)|0;if(u){o[n>>2]=1;t=32767}h=t<<16>>16;i[w+14>>1]=((t<<17>>17|0)==(h|0)?t<<1:h>>>15^32767)+(d>>>1&1);t=0;while(1){a=a<<16>>16==0?8191:-8191;h=(i[w+(t<<1)>>1]<<2)+t<<16;l=h>>16;if((h|0)<2621440)i[r+(l<<1)>>1]=a;f=(i[w+(t+4<<1)>>1]<<2)+t<<16;e=f>>16;if((e|0)<(l|0))a=0-(a&65535)&65535;if((f|0)<2621440){h=r+(e<<1)|0;i[h>>1]=(s[h>>1]|0)+(a&65535)}t=t+1|0;if((t|0)==4)break;a=i[m+(t<<1)>>1]|0}c=E;return}function Xe(e,r,n,t,a,s,l){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;var f=0,u=0,c=0,d=0,h=0,w=0,m=0;u=e<<16>>16>124?124:e;e=(u<<16>>16)*1311>>15;m=(e|0)>32767;if(!m){f=e<<16>>16;if((f*25|0)==1073741824){o[l>>2]=1;f=1073741823}else w=4}else{o[l>>2]=1;f=32767;w=4}if((w|0)==4)f=(f*50|0)>>>1;d=(u&65535)-f|0;f=(d<<16>>16)*6554>>15;h=(f|0)>32767;if(!h){u=f<<16>>16;if((u*5|0)==1073741824){o[l>>2]=1;c=1073741823}else w=9}else{o[l>>2]=1;u=32767;w=9}if((w|0)==9)c=(u*10|0)>>>1;d=d-c|0;w=d<<16>>16;u=r<<16>>16;c=u>>2;u=u-(c<<2)|0;i[s+(n<<16>>16<<1)>>1]=((d<<17>>17|0)==(w|0)?d<<1:w>>>15^32767)+(u&1);if(h){o[l>>2]=1;f=32767}n=f<<16>>16;i[s+(t<<16>>16<<1)>>1]=((f<<17>>17|0)==(n|0)?f<<1:n>>>15^32767)+(u<<16>>17);if(m){o[l>>2]=1;e=32767}t=e<<16>>16;i[s+(a<<16>>16<<1)>>1]=Wt(c&65535,((e<<17>>17|0)==(t|0)?e<<1:t>>>15^32767)&65535,l)|0;return}function Ge(e){e=e|0;var r=0,n=0,t=0,a=0;if(!e){a=-1;return a|0}ei(e+1168|0);i[e+460>>1]=40;o[e+1164>>2]=0;r=e+646|0;n=e+1216|0;t=e+462|0;a=t+22|0;do{i[t>>1]=0;t=t+2|0}while((t|0)<(a|0));ar(r,o[n>>2]|0)|0;mr(e+686|0)|0;cr(e+700|0)|0;He(e+608|0)|0;vr(e+626|0,o[n>>2]|0)|0;Ue(e+484|0)|0;kr(e+730|0)|0;sr(e+748|0)|0;Zt(e+714|0)|0;Ze(e,0)|0;a=0;return a|0}function Ze(e,r){e=e|0;r=r|0;var n=0,t=0;if(!e){e=-1;return e|0}o[e+388>>2]=e+308;Vi(e|0,0,308)|0;r=(r|0)!=8;if(r){n=e+412|0;t=n+20|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));i[e+392>>1]=3e4;i[e+394>>1]=26e3;i[e+396>>1]=21e3;i[e+398>>1]=15e3;i[e+400>>1]=8e3;i[e+402>>1]=0;i[e+404>>1]=-8e3;i[e+406>>1]=-15e3;i[e+408>>1]=-21e3;i[e+410>>1]=-26e3}i[e+432>>1]=0;i[e+434>>1]=40;o[e+1164>>2]=0;i[e+436>>1]=0;i[e+438>>1]=0;i[e+440>>1]=0;i[e+460>>1]=40;i[e+462>>1]=0;i[e+464>>1]=0;if(r){n=e+442|0;t=n+18|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));n=e+466|0;t=n+18|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));He(e+608|0)|0;t=e+1216|0;vr(e+626|0,o[t>>2]|0)|0;ar(e+646|0,o[t>>2]|0)|0;mr(e+686|0)|0;cr(e+700|0)|0;Zt(e+714|0)|0}else{n=e+466|0;t=n+18|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));He(e+608|0)|0;ar(e+646|0,o[e+1216>>2]|0)|0;mr(e+686|0)|0;cr(e+700|0)|0}Ue(e+484|0)|0;i[e+606>>1]=21845;kr(e+730|0)|0;if(!r){e=0;return e|0}sr(e+748|0)|0;e=0;return e|0}function Je(e,r,n,a,l,f){e=e|0;r=r|0;n=n|0;a=a|0;l=l|0;f=f|0;var u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0,W=0,X=0,G=0,Z=0,J=0,Q=0,$=0,re=0,ne=0,te=0,ie=0,oe=0,ae=0,se=0,le=0,fe=0,ue=0,ce=0,de=0,he=0,we=0,me=0,Ee=0,pe=0,Se=0,be=0,ve=0,_e=0,ke=0,Fe=0,Me=0,ge=0,Re=0,ye=0,Ae=0,Oe=0,Te=0,De=0,Pe=0,Ce=0,Ie=0,Be=0,Ue=0,He=0,Xe=0,Ge=0,Je=0,ir=0,ar=0,sr=0,cr=0,mr=0,Sr=0,vr=0,kr=0,Rr=0,yr=0;yr=c;c=c+336|0;p=yr+236|0;E=yr+216|0;kr=yr+112|0;vr=yr+12|0;ar=yr+256|0;cr=yr+136|0;sr=yr+32|0;Je=yr+8|0;ir=yr+6|0;Sr=yr+4|0;mr=yr+2|0;Rr=yr;Be=e+1164|0;Ue=e+748|0;He=ur(Ue,a,Be)|0;if(He){Ze(e,8)|0;lr(Ue,e+412|0,e+646|0,e+714|0,e+608|0,He,r,n,e+1168|0,l,f,Be);Rr=e+666|0;Ei(Rr,e+392|0,10,Be);_r(e+626|0,Rr,Be);Rr=e+1156|0;o[Rr>>2]=He;c=yr;return}switch(a|0){case 1:{u=1;F=6;break}case 2:case 7:{Le(e+606|0,i[(o[e+1256>>2]|0)+(r<<1)>>1]|0,o[(o[e+1260>>2]|0)+(r<<2)>>2]|0,n,o[e+1276>>2]|0,Be);F=9;break}case 3:{F=9;break}default:{u=0;F=6}}do if((F|0)==6){a=e+440|0;if((i[a>>1]|0)==6){i[a>>1]=5;Ce=0;Ie=0;break}else{i[a>>1]=0;Ce=0;Ie=0;break}}else if((F|0)==9){a=e+440|0;Ce=(s[a>>1]|0)+1&65535;i[a>>1]=Ce<<16>>16>6?6:Ce;Ce=1;Ie=1;u=0}while(0);Oe=e+1156|0;switch(o[Oe>>2]|0){case 1:{i[a>>1]=5;i[e+436>>1]=0;break}case 2:{i[a>>1]=5;i[e+436>>1]=1;break}default:{}}h=e+646|0;Te=e+666|0;d=kr;w=Te;m=d+20|0;do{t[d>>0]=t[w>>0]|0;d=d+1|0;w=w+1|0}while((d|0)<(m|0));De=(r|0)!=7;Pe=e+1168|0;if(De){tr(h,r,Ie,n,Pe,p,Be);d=e+392|0;ii(d,p,f,Be);n=n+6|0}else{or(h,Ie,n,Pe,E,p,Be);d=e+392|0;ni(d,E,p,f,Be);n=n+10|0}w=p;m=d+20|0;do{i[d>>1]=i[w>>1]|0;d=d+2|0;w=w+2|0}while((d|0)<(m|0));Ae=r>>>0>1;y=r>>>0<4&1;ye=(r|0)==5;Re=ye?10:5;ye=ye?19:9;T=e+434|0;D=143-ye&65535;N=e+460|0;P=e+462|0;C=e+464|0;A=r>>>0>2;I=e+388|0;B=(r|0)==0;L=r>>>0<2;U=e+1244|0;x=e+432|0;H=r>>>0<6;z=e+1168|0;Y=(r|0)==6;j=Ie<<16>>16==0;K=e+714|0;q=e+686|0;V=e+436|0;W=e+700|0;X=(r|0)==7;G=e+482|0;Z=r>>>0<3;J=e+608|0;Q=e+626|0;$=e+438|0;re=r>>>0<7;ne=e+730|0;O=Ce^1;te=u<<16>>16!=0;ge=te?Ie^1:0;ie=e+442|0;oe=e+458|0;ae=e+412|0;se=e+80|0;le=e+1236|0;fe=e+1240|0;ue=e+468|0;ce=e+466|0;de=e+470|0;he=e+472|0;we=e+474|0;me=e+476|0;Ee=e+478|0;pe=e+480|0;Se=e+444|0;be=e+446|0;ve=e+448|0;_e=e+450|0;ke=e+452|0;Fe=e+454|0;Me=e+456|0;M=0;g=0;S=0;b=0;R=-1;while(1){R=(R<<16>>16)+1|0;m=R&65535;g=1-(g<<16>>16)|0;_=g&65535;E=Ae&S<<16>>16==80?0:S;v=n+2|0;p=i[n>>1]|0;e:do if(De){k=i[T>>1]|0;d=(k&65535)-Re&65535;d=d<<16>>16<20?20:d;w=(d&65535)+ye&65535;h=w<<16>>16>143;$e(p,h?D:d,h?143:w,E,k,Je,ir,y,Be);E=i[Je>>1]|0;i[N>>1]=E;if(Ce){p=i[T>>1]|0;if(p<<16>>16<143){p=(p&65535)+1&65535;i[T>>1]=p}i[Je>>1]=p;i[ir>>1]=0;if((i[P>>1]|0)!=0?!(A|(i[C>>1]|0)<5):0){i[Je>>1]=E;p=E;E=0}else E=0}else{p=E;E=i[ir>>1]|0}ki(o[I>>2]|0,p,E,40,1,Be);if(L){E=n+6|0;Ke(m,i[n+4>>1]|0,i[v>>1]|0,o[U>>2]|0,ar,Be);n=i[x>>1]|0;k=n<<16>>16;p=k<<1;if((p|0)==(k<<17>>16|0)){w=B;break}w=B;p=n<<16>>16>0?32767:-32768;break}switch(r|0){case 2:{E=n+6|0;je(i[n+4>>1]|0,i[v>>1]|0,ar);n=i[x>>1]|0;k=n<<16>>16;p=k<<1;if((p|0)==(k<<17>>16|0)){w=B;break e}w=B;p=n<<16>>16>0?32767:-32768;break e}case 3:{E=n+6|0;qe(i[n+4>>1]|0,i[v>>1]|0,ar);n=i[x>>1]|0;k=n<<16>>16;p=k<<1;if((p|0)==(k<<17>>16|0)){w=B;break e}w=B;p=n<<16>>16>0?32767:-32768;break e}default:{if(H){E=n+6|0;Ve(i[n+4>>1]|0,i[v>>1]|0,o[z>>2]|0,ar);n=i[x>>1]|0;k=n<<16>>16;p=k<<1;if((p|0)==(k<<17>>16|0)){w=B;break e}w=B;p=n<<16>>16>0?32767:-32768;break e}if(!Y){w=B;F=44;break e}We(v,ar,Be);p=n+16|0;n=i[x>>1]|0;k=n<<16>>16;m=k<<1;if((m|0)==(k<<17>>16|0)){E=p;w=B;p=m;break e}E=p;w=B;p=n<<16>>16>0?32767:-32768;break e}}}else{er(p,18,143,E,Je,ir,Be);if(j?E<<16>>16==0|p<<16>>16<61:0){p=i[Je>>1]|0;E=i[ir>>1]|0}else{i[N>>1]=i[Je>>1]|0;p=i[T>>1]|0;i[Je>>1]=p;i[ir>>1]=0;E=0}ki(o[I>>2]|0,p,E,40,0,Be);w=0;F=44}while(0);if((F|0)==44){F=0;if(Ce)wr(q,i[a>>1]|0,Sr,Be);else i[Sr>>1]=nr(r,i[v>>1]|0,o[fe>>2]|0)|0;Er(q,Ie,i[V>>1]|0,Sr,Be);Ye(n+4|0,ar,o[z>>2]|0);p=n+24|0;n=i[Sr>>1]|0;k=n<<16>>16;m=k<<1;if((m|0)==(k<<17>>16|0)){E=p;p=m}else{E=p;p=n<<16>>16>0?32767:-32768}}n=i[Je>>1]|0;e:do if(n<<16>>16<40){d=p<<16>>16;h=n;p=n<<16>>16;while(1){m=ar+(p<<1)|0;n=(ee(i[ar+(p-(h<<16>>16)<<1)>>1]|0,d)|0)>>15;if((n|0)>32767){o[Be>>2]=1;n=32767}k=n&65535;i[Rr>>1]=k;i[m>>1]=Wt(i[m>>1]|0,k,Be)|0;p=p+1|0;if((p&65535)<<16>>16==40)break e;h=i[Je>>1]|0}}while(0);e:do if(w){w=(g&65535|0)==0;if(w){n=E;m=b}else{n=E+2|0;m=i[E>>1]|0}if(j)Qe(K,r,m,ar,_,Sr,mr,Pe,Be);else{wr(q,i[a>>1]|0,Sr,Be);dr(W,K,i[a>>1]|0,mr,Be)}Er(q,Ie,i[V>>1]|0,Sr,Be);hr(W,Ie,i[V>>1]|0,mr,Be);E=i[Sr>>1]|0;p=E<<16>>16>13017?13017:E;if(w)F=80;else k=m}else{n=E+2|0;p=i[E>>1]|0;switch(r|0){case 1:case 2:case 3:case 4:case 6:{if(j)Qe(K,r,p,ar,_,Sr,mr,Pe,Be);else{wr(q,i[a>>1]|0,Sr,Be);dr(W,K,i[a>>1]|0,mr,Be)}Er(q,Ie,i[V>>1]|0,Sr,Be);hr(W,Ie,i[V>>1]|0,mr,Be);E=i[Sr>>1]|0;p=E<<16>>16>13017?13017:E;if(!Y){m=b;F=80;break e}if((i[T>>1]|0)<=45){m=b;F=80;break e}m=b;p=p<<16>>16>>>2&65535;F=80;break e}case 5:{if(Ce)wr(q,i[a>>1]|0,Sr,Be);else i[Sr>>1]=nr(5,p,o[fe>>2]|0)|0;Er(q,Ie,i[V>>1]|0,Sr,Be);if(j)rr(K,5,i[n>>1]|0,ar,o[le>>2]|0,mr,Be);else dr(W,K,i[a>>1]|0,mr,Be);hr(W,Ie,i[V>>1]|0,mr,Be);p=i[Sr>>1]|0;n=E+4|0;E=p;m=b;p=p<<16>>16>13017?13017:p;F=80;break e}default:{if(j)rr(K,r,p,ar,o[le>>2]|0,mr,Be);else dr(W,K,i[a>>1]|0,mr,Be);hr(W,Ie,i[V>>1]|0,mr,Be);p=i[Sr>>1]|0;E=p;m=b;F=80;break e}}}while(0);if((F|0)==80){F=0;i[x>>1]=E<<16>>16>13017?13017:E;k=m}p=p<<16>>16;p=(p<<17>>17|0)==(p|0)?p<<1:p>>>15^32767;_=(p&65535)<<16>>16>16384;e:do if(_){v=p<<16>>16;if(X)E=0;else{E=0;while(1){p=(ee(i[(o[I>>2]|0)+(E<<1)>>1]|0,v)|0)>>15;if((p|0)>32767){o[Be>>2]=1;p=32767}i[Rr>>1]=p;p=ee(i[Sr>>1]|0,p<<16>>16)|0;if((p|0)==1073741824){o[Be>>2]=1;p=2147483647}else p=p<<1;i[cr+(E<<1)>>1]=Ni(p,Be)|0;E=E+1|0;if((E|0)==40)break e}}do{p=(ee(i[(o[I>>2]|0)+(E<<1)>>1]|0,v)|0)>>15;if((p|0)>32767){o[Be>>2]=1;p=32767}i[Rr>>1]=p;p=ee(i[Sr>>1]|0,p<<16>>16)|0;if((p|0)!=1073741824){p=p<<1;if((p|0)<0)p=~((p^-2)>>1);else F=88}else{o[Be>>2]=1;p=2147483647;F=88}if((F|0)==88){F=0;p=p>>1}i[cr+(E<<1)>>1]=Ni(p,Be)|0;E=E+1|0}while((E|0)!=40)}while(0);if(j){i[ce>>1]=i[ue>>1]|0;i[ue>>1]=i[de>>1]|0;i[de>>1]=i[he>>1]|0;i[he>>1]=i[we>>1]|0;i[we>>1]=i[me>>1]|0;i[me>>1]=i[Ee>>1]|0;i[Ee>>1]=i[pe>>1]|0;i[pe>>1]=i[G>>1]|0;i[G>>1]=i[Sr>>1]|0}if((Ce|(i[V>>1]|0)!=0?Z&(i[P>>1]|0)!=0:0)?(Xe=i[Sr>>1]|0,Xe<<16>>16>12288):0){F=(((Xe<<16>>16)+118784|0)>>>1)+12288&65535;i[Sr>>1]=F<<16>>16>14745?14745:F}br(kr,Te,S,vr,Be);p=ze(J,r,i[mr>>1]|0,vr,Q,Ie,i[V>>1]|0,u,i[$>>1]|0,i[P>>1]|0,i[C>>1]|0,Be)|0;switch(r|0){case 0:case 1:case 2:case 3:case 6:{m=i[Sr>>1]|0;v=1;break}default:{p=i[mr>>1]|0;m=i[Sr>>1]|0;if(re)v=1;else{E=m<<16>>16;if(m<<16>>16<0)E=~((E^-2)>>1);else E=E>>>1;m=E&65535;v=2}}}d=m<<16>>16;S=v&65535;E=o[I>>2]|0;b=0;do{E=E+(b<<1)|0;i[sr+(b<<1)>>1]=i[E>>1]|0;E=ee(i[E>>1]|0,d)|0;if((E|0)==1073741824){o[Be>>2]=1;h=2147483647}else h=E<<1;w=ee(i[mr>>1]|0,i[ar+(b<<1)>>1]|0)|0;if((w|0)!=1073741824){E=(w<<1)+h|0;if((w^h|0)>0&(E^h|0)<0){o[Be>>2]=1;E=(h>>>31)+2147483647|0}}else{o[Be>>2]=1;E=2147483647}F=E<<S;F=Ni((F>>S|0)==(E|0)?F:E>>31^2147483647,Be)|0;E=o[I>>2]|0;i[E+(b<<1)>>1]=F;b=b+1|0}while((b|0)!=40);Mr(ne);if((Z?(i[C>>1]|0)>3:0)?!((i[P>>1]|0)==0|O):0)Fr(ne);gr(ne,r,sr,p,i[Sr>>1]|0,ar,m,v,Pe,Be);p=0;w=0;do{E=i[sr+(w<<1)>>1]|0;E=ee(E,E)|0;
if((E|0)!=1073741824){m=(E<<1)+p|0;if((E^p|0)>0&(m^p|0)<0){o[Be>>2]=1;p=(p>>>31)+2147483647|0}else p=m}else{o[Be>>2]=1;p=2147483647}w=w+1|0}while((w|0)!=40);if((p|0)<0)p=~((p^-2)>>1);else p=p>>1;p=Ii(p,Rr,Be)|0;m=((i[Rr>>1]|0)>>>1)+15|0;E=m&65535;m=m<<16>>16;if(E<<16>>16>0)if(E<<16>>16<31){p=p>>m;F=135}else{p=0;F=137}else{v=0-m<<16>>16;F=p<<v;p=(F>>v|0)==(p|0)?F:p>>31^2147483647;F=135}if((F|0)==135){F=0;if((p|0)<0)p=~((p^-4)>>2);else F=137}if((F|0)==137){F=0;p=p>>>2}p=p&65535;do if(Z?(Ge=i[C>>1]|0,Ge<<16>>16>5):0)if(i[P>>1]|0)if((i[a>>1]|0)<4){if(te){if(!(Ce|(i[$>>1]|0)!=0))F=145}else if(!Ce)F=145;if((F|0)==145?(0,(i[V>>1]|0)==0):0){F=147;break}pr(sr,p,ie,Ge,i[V>>1]|0,ge,Be)|0;F=147}else F=147;else F=151;else F=147;while(0);do if((F|0)==147){F=0;if(i[P>>1]|0){if(!Ce?(i[V>>1]|0)==0:0){F=151;break}if((i[a>>1]|0)>=4)F=151}else F=151}while(0);if((F|0)==151){F=0;i[ie>>1]=i[Se>>1]|0;i[Se>>1]=i[be>>1]|0;i[be>>1]=i[ve>>1]|0;i[ve>>1]=i[_e>>1]|0;i[_e>>1]=i[ke>>1]|0;i[ke>>1]=i[Fe>>1]|0;i[Fe>>1]=i[Me>>1]|0;i[Me>>1]=i[oe>>1]|0;i[oe>>1]=p}if(_){p=0;do{_=cr+(p<<1)|0;i[_>>1]=Wt(i[_>>1]|0,i[sr+(p<<1)>>1]|0,Be)|0;p=p+1|0}while((p|0)!=40);Ne(sr,cr,40,Be);o[Be>>2]=0;Li(f,cr,l+(M<<1)|0,40,ae,0)}else{o[Be>>2]=0;Li(f,sr,l+(M<<1)|0,40,ae,0)}if(!(o[Be>>2]|0))qi(ae|0,l+(M+30<<1)|0,20)|0;else{m=193;while(1){E=e+(m<<1)|0;_=i[E>>1]|0;p=_<<16>>16;if(_<<16>>16<0)p=~((p^-4)>>2);else p=p>>>2;i[E>>1]=p;if((m|0)>0)m=m+-1|0;else{m=39;break}}while(1){E=sr+(m<<1)|0;_=i[E>>1]|0;p=_<<16>>16;if(_<<16>>16<0)p=~((p^-4)>>2);else p=p>>>2;i[E>>1]=p;if((m|0)>0)m=m+-1|0;else break}Li(f,sr,l+(M<<1)|0,40,ae,1)}qi(e|0,se|0,308)|0;i[T>>1]=i[Je>>1]|0;p=M+40|0;S=p&65535;if(S<<16>>16>=160)break;else{M=p<<16>>16;f=f+22|0;b=k}}i[P>>1]=xe(e+484|0,e+466|0,l,C,Be)|0;fr(Ue,Te,l,Be);i[V>>1]=Ie;i[$>>1]=u;_r(e+626|0,Te,Be);Rr=Oe;o[Rr>>2]=He;c=yr;return}function Qe(e,r,n,t,a,l,f,u,d){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;var h=0,w=0,m=0,E=0,p=0;p=c;c=c+16|0;m=p+2|0;E=p;n=n<<16>>16;n=(n<<18>>18|0)==(n|0)?n<<2:n>>>15^32767;switch(r|0){case 3:case 4:case 6:{w=n<<16>>16;n=o[u+84>>2]|0;i[l>>1]=i[n+(w<<1)>>1]|0;u=i[n+(w+1<<1)>>1]|0;h=i[n+(w+3<<1)>>1]|0;l=i[n+(w+2<<1)>>1]|0;break}case 0:{u=(n&65535)+(a<<16>>16<<1^2)|0;u=(u&65535)<<16>>16>1022?1022:u<<16>>16;i[l>>1]=i[782+(u<<1)>>1]|0;l=i[782+(u+1<<1)>>1]|0;si(l<<16>>16,E,m,d);i[E>>1]=(s[E>>1]|0)+65524;u=Ci(i[m>>1]|0,5,d)|0;w=i[E>>1]|0;w=Wt(u,((w<<26>>26|0)==(w|0)?w<<10:w>>>15^32767)&65535,d)|0;u=i[m>>1]|0;n=i[E>>1]|0;if((n*24660|0)==1073741824){o[d>>2]=1;a=2147483647}else a=n*49320|0;h=(u<<16>>16)*24660>>15;n=a+(h<<1)|0;if((a^h|0)>0&(n^a|0)<0){o[d>>2]=1;n=(a>>>31)+2147483647|0}h=n<<13;u=l;h=Ni((h>>13|0)==(n|0)?h:n>>31^2147483647,d)|0;l=w;break}default:{w=n<<16>>16;n=o[u+80>>2]|0;i[l>>1]=i[n+(w<<1)>>1]|0;u=i[n+(w+1<<1)>>1]|0;h=i[n+(w+3<<1)>>1]|0;l=i[n+(w+2<<1)>>1]|0}}Jt(e,r,t,E,m,0,0,d);a=ee((_i(14,i[m>>1]|0,d)|0)<<16>>16,u<<16>>16)|0;if((a|0)==1073741824){o[d>>2]=1;n=2147483647}else n=a<<1;u=10-(s[E>>1]|0)|0;a=u&65535;u=u<<16>>16;if(a<<16>>16>0){E=a<<16>>16<31?n>>u:0;E=E>>>16;E=E&65535;i[f>>1]=E;Qt(e,l,h);c=p;return}else{d=0-u<<16>>16;E=n<<d;E=(E>>d|0)==(n|0)?E:n>>31^2147483647;E=E>>>16;E=E&65535;i[f>>1]=E;Qt(e,l,h);c=p;return}}function $e(e,r,n,t,a,s,l,f,u){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;u=u|0;if(!(t<<16>>16)){f=e<<16>>16;if(e<<16>>16>=197){i[s>>1]=f+65424;i[l>>1]=0;return}a=((f<<16)+131072>>16)*10923>>15;if((a|0)>32767){o[u>>2]=1;a=32767}e=(a&65535)+19|0;i[s>>1]=e;i[l>>1]=f+58-((e*196608|0)>>>16);return}if(!(f<<16>>16)){u=e<<16>>16<<16;e=((u+131072>>16)*21846|0)+-65536>>16;i[s>>1]=e+(r&65535);i[l>>1]=((u+-131072|0)>>>16)-((e*196608|0)>>>16);return}if((Bi(a,r,u)|0)<<16>>16>5)a=(r&65535)+5&65535;f=n<<16>>16;f=(f-(a&65535)&65535)<<16>>16>4?f+65532&65535:a;a=e<<16>>16;if(e<<16>>16<4){i[s>>1]=((((f&65535)<<16)+-327680|0)>>>16)+a;i[l>>1]=0;return}a=a<<16;if(e<<16>>16<12){u=(((a+-327680>>16)*10923|0)>>>15<<16)+-65536|0;e=u>>16;i[s>>1]=(f&65535)+e;i[l>>1]=((a+-589824|0)>>>16)-(u>>>15)-e;return}else{i[s>>1]=((a+-786432+((f&65535)<<16)|0)>>>16)+1;i[l>>1]=0;return}}function er(e,r,n,t,o,a,l){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;l=l|0;if(t<<16>>16){l=(s[o>>1]|0)+65531|0;l=(l<<16>>16|0)<(r<<16>>16|0)?r:l&65535;n=n<<16>>16;r=e<<16>>16<<16;e=((r+327680>>16)*10924|0)+-65536>>16;i[o>>1]=(((((l&65535)<<16)+589824>>16|0)>(n|0)?n+65527&65535:l)&65535)+e;i[a>>1]=((r+-196608|0)>>>16)-((e*393216|0)>>>16);return}t=e<<16>>16;if(e<<16>>16<463){e=((((t<<16)+327680>>16)*10924|0)>>>16)+17|0;i[o>>1]=e;i[a>>1]=t+105-((e*393216|0)>>>16);return}else{i[o>>1]=t+65168;i[a>>1]=0;return}}function rr(e,r,n,t,a,s,l){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;var f=0,u=0,d=0,h=0;h=c;c=c+16|0;u=h+6|0;f=h+4|0;Jt(e,r,t,u,f,h+2|0,h,l);d=(n&31)*3|0;t=a+(d<<1)|0;if(!((Bi(r&65535,7,l)|0)<<16>>16)){u=_i(i[u>>1]|0,i[f>>1]|0,l)|0;f=u<<16>>16;f=(ee(((u<<20>>20|0)==(f|0)?u<<4:f>>>15^32767)<<16>>16,i[t>>1]|0)|0)>>15;if((f|0)>32767){o[l>>2]=1;f=32767}t=f<<16;n=t>>16;if((f<<17>>17|0)==(n|0))f=t>>15;else f=n>>>15^32767}else{n=_i(14,i[f>>1]|0,l)|0;n=ee(n<<16>>16,i[t>>1]|0)|0;if((n|0)==1073741824){o[l>>2]=1;t=2147483647}else t=n<<1;n=Bi(9,i[u>>1]|0,l)|0;f=n<<16>>16;if(n<<16>>16>0)f=n<<16>>16<31?t>>f:0;else{l=0-f<<16>>16;f=t<<l;f=(f>>l|0)==(t|0)?f:t>>31^2147483647}f=f>>>16}i[s>>1]=f;Qt(e,i[a+(d+1<<1)>>1]|0,i[a+(d+2<<1)>>1]|0);c=h;return}function nr(e,r,n){e=e|0;r=r|0;n=n|0;r=i[n+(r<<16>>16<<1)>>1]|0;if((e|0)!=7){e=r;return e|0}e=r&65532;return e|0}function tr(e,r,n,a,s,l,f){e=e|0;r=r|0;n=n|0;a=a|0;s=s|0;l=l|0;f=f|0;var u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0;_=c;c=c+48|0;p=_+20|0;v=_;b=o[s+44>>2]|0;S=o[s+64>>2]|0;u=o[s+4>>2]|0;E=o[s+12>>2]|0;h=o[s+20>>2]|0;d=o[s+56>>2]|0;if(!(n<<16>>16)){w=r>>>0<2;if(w){n=765;m=508;h=o[s+52>>2]|0}else{s=(r|0)==5;n=s?1533:765;m=2044;u=s?d:u}d=i[a>>1]|0;n=((d*196608>>16|0)>(n&65535|0)?n:d*3&65535)<<16>>16;d=i[u+(n<<1)>>1]|0;i[p>>1]=d;i[p+2>>1]=i[u+(n+1<<1)>>1]|0;i[p+4>>1]=i[u+(n+2<<1)>>1]|0;n=i[a+2>>1]|0;if(w)n=n<<16>>16<<1&65535;w=(n<<16>>16)*196608|0;w=(w|0)>100466688?1533:w>>16;i[p+6>>1]=i[E+(w<<1)>>1]|0;i[p+8>>1]=i[E+(w+1<<1)>>1]|0;i[p+10>>1]=i[E+(w+2<<1)>>1]|0;a=i[a+4>>1]|0;a=((a<<18>>16|0)>(m&65535|0)?m:a<<2&65535)<<16>>16;i[p+12>>1]=i[h+(a<<1)>>1]|0;i[p+14>>1]=i[h+((a|1)<<1)>>1]|0;i[p+16>>1]=i[h+((a|2)<<1)>>1]|0;i[p+18>>1]=i[h+((a|3)<<1)>>1]|0;if((r|0)==8){n=0;while(1){S=e+(n<<1)|0;i[v+(n<<1)>>1]=Wt(d,Wt(i[b+(n<<1)>>1]|0,i[S>>1]|0,f)|0,f)|0;i[S>>1]=d;n=n+1|0;if((n|0)==10)break;d=i[p+(n<<1)>>1]|0}Ti(v,205,10,f);u=e+20|0;d=v;n=u+20|0;do{t[u>>0]=t[d>>0]|0;u=u+1|0;d=d+1|0}while((u|0)<(n|0));Ei(v,l,10,f);c=_;return}else u=0;do{d=e+(u<<1)|0;n=(ee(i[S+(u<<1)>>1]|0,i[d>>1]|0)|0)>>15;if((n|0)>32767){o[f>>2]=1;n=32767}a=Wt(i[b+(u<<1)>>1]|0,n&65535,f)|0;r=i[p+(u<<1)>>1]|0;i[v+(u<<1)>>1]=Wt(r,a,f)|0;i[d>>1]=r;u=u+1|0}while((u|0)!=10);Ti(v,205,10,f);u=e+20|0;d=v;n=u+20|0;do{t[u>>0]=t[d>>0]|0;u=u+1|0;d=d+1|0}while((u|0)<(n|0));Ei(v,l,10,f);c=_;return}else{u=0;do{n=(i[e+20+(u<<1)>>1]|0)*29491>>15;if((n|0)>32767){o[f>>2]=1;n=32767}d=(i[b+(u<<1)>>1]|0)*3277>>15;if((d|0)>32767){o[f>>2]=1;d=32767}i[v+(u<<1)>>1]=Wt(d&65535,n&65535,f)|0;u=u+1|0}while((u|0)!=10);if((r|0)==8){u=0;do{S=e+(u<<1)|0;p=Wt(i[b+(u<<1)>>1]|0,i[S>>1]|0,f)|0;i[S>>1]=Bi(i[v+(u<<1)>>1]|0,p,f)|0;u=u+1|0}while((u|0)!=10);Ti(v,205,10,f);u=e+20|0;d=v;n=u+20|0;do{t[u>>0]=t[d>>0]|0;u=u+1|0;d=d+1|0}while((u|0)<(n|0));Ei(v,l,10,f);c=_;return}else u=0;do{d=e+(u<<1)|0;n=(ee(i[S+(u<<1)>>1]|0,i[d>>1]|0)|0)>>15;if((n|0)>32767){o[f>>2]=1;n=32767}p=Wt(i[b+(u<<1)>>1]|0,n&65535,f)|0;i[d>>1]=Bi(i[v+(u<<1)>>1]|0,p,f)|0;u=u+1|0}while((u|0)!=10);Ti(v,205,10,f);u=e+20|0;d=v;n=u+20|0;do{t[u>>0]=t[d>>0]|0;u=u+1|0;d=d+1|0}while((u|0)<(n|0));Ei(v,l,10,f);c=_;return}}function ir(e,r,n){e=e|0;r=r|0;n=n|0;qi(e|0,n+((r<<16>>16)*10<<1)|0,20)|0;return}function or(e,r,n,a,s,l,f){e=e|0;r=r|0;n=n|0;a=a|0;s=s|0;l=l|0;f=f|0;var u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0;_=c;c=c+80|0;E=_+60|0;p=_+40|0;b=_+20|0;v=_;S=o[a+48>>2]|0;h=o[a+24>>2]|0;w=o[a+28>>2]|0;m=o[a+32>>2]|0;if(r<<16>>16){u=0;do{E=S+(u<<1)|0;n=Wt(((i[E>>1]|0)*1639|0)>>>15&65535,((i[e+20+(u<<1)>>1]|0)*31128|0)>>>15&65535,f)|0;i[b+(u<<1)>>1]=n;i[v+(u<<1)>>1]=n;p=e+(u<<1)|0;i[p>>1]=Bi(n,Wt(i[E>>1]|0,((i[p>>1]|0)*21299|0)>>>15&65535,f)|0,f)|0;u=u+1|0}while((u|0)!=10);Ti(b,205,10,f);Ti(v,205,10,f);u=e+20|0;a=v;r=u+20|0;do{t[u>>0]=t[a>>0]|0;u=u+1|0;a=a+1|0}while((u|0)<(r|0));Ei(b,s,10,f);Ei(v,l,10,f);c=_;return}r=o[a+16>>2]|0;a=o[a+8>>2]|0;d=i[n>>1]|0;d=((d<<18>>18|0)==(d|0)?d<<2:d>>>15^32767)<<16>>16;i[E>>1]=i[a+(d<<1)>>1]|0;i[E+2>>1]=i[a+(d+1<<1)>>1]|0;i[p>>1]=i[a+(d+2<<1)>>1]|0;i[p+2>>1]=i[a+(d+3<<1)>>1]|0;d=i[n+2>>1]|0;d=((d<<18>>18|0)==(d|0)?d<<2:d>>>15^32767)<<16>>16;i[E+4>>1]=i[r+(d<<1)>>1]|0;i[E+6>>1]=i[r+(d+1<<1)>>1]|0;i[p+4>>1]=i[r+(d+2<<1)>>1]|0;i[p+6>>1]=i[r+(d+3<<1)>>1]|0;d=i[n+4>>1]|0;a=d<<16>>16;if(d<<16>>16<0)r=~((a^-2)>>1);else r=a>>>1;d=r<<16>>16;d=((r<<18>>18|0)==(d|0)?r<<2:d>>>15^32767)<<16>>16;u=h+(d+1<<1)|0;r=i[h+(d<<1)>>1]|0;if(!(a&1)){i[E+8>>1]=r;i[E+10>>1]=i[u>>1]|0;i[p+8>>1]=i[h+(d+2<<1)>>1]|0;i[p+10>>1]=i[h+(d+3<<1)>>1]|0}else{if(r<<16>>16==-32768)r=32767;else r=0-(r&65535)&65535;i[E+8>>1]=r;r=i[u>>1]|0;if(r<<16>>16==-32768)r=32767;else r=0-(r&65535)&65535;i[E+10>>1]=r;r=i[h+(d+2<<1)>>1]|0;if(r<<16>>16==-32768)r=32767;else r=0-(r&65535)&65535;i[p+8>>1]=r;r=i[h+(d+3<<1)>>1]|0;if(r<<16>>16==-32768)r=32767;else r=0-(r&65535)&65535;i[p+10>>1]=r}u=i[n+6>>1]|0;u=((u<<18>>18|0)==(u|0)?u<<2:u>>>15^32767)<<16>>16;i[E+12>>1]=i[w+(u<<1)>>1]|0;i[E+14>>1]=i[w+(u+1<<1)>>1]|0;i[p+12>>1]=i[w+(u+2<<1)>>1]|0;i[p+14>>1]=i[w+(u+3<<1)>>1]|0;u=i[n+8>>1]|0;u=((u<<18>>18|0)==(u|0)?u<<2:u>>>15^32767)<<16>>16;i[E+16>>1]=i[m+(u<<1)>>1]|0;i[E+18>>1]=i[m+(u+1<<1)>>1]|0;i[p+16>>1]=i[m+(u+2<<1)>>1]|0;i[p+18>>1]=i[m+(u+3<<1)>>1]|0;u=0;do{a=e+(u<<1)|0;r=(i[a>>1]|0)*21299>>15;if((r|0)>32767){o[f>>2]=1;r=32767}m=Wt(i[S+(u<<1)>>1]|0,r&65535,f)|0;i[b+(u<<1)>>1]=Wt(i[E+(u<<1)>>1]|0,m,f)|0;n=i[p+(u<<1)>>1]|0;i[v+(u<<1)>>1]=Wt(n,m,f)|0;i[a>>1]=n;u=u+1|0}while((u|0)!=10);Ti(b,205,10,f);Ti(v,205,10,f);u=e+20|0;a=v;r=u+20|0;do{t[u>>0]=t[a>>0]|0;u=u+1|0;a=a+1|0}while((u|0)<(r|0));Ei(b,s,10,f);Ei(v,l,10,f);c=_;return}function ar(e,r){e=e|0;r=r|0;var n=0,t=0;if(!e){t=-1;return t|0}n=e;t=n+20|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));qi(e+20|0,r|0,20)|0;t=0;return t|0}function sr(e){e=e|0;var r=0,n=0,a=0,s=0,l=0;if(!e){l=-1;return l|0}i[e>>1]=0;i[e+2>>1]=8192;r=e+4|0;i[r>>1]=3500;i[e+6>>1]=3500;o[e+8>>2]=1887529304;i[e+12>>1]=3e4;i[e+14>>1]=26e3;i[e+16>>1]=21e3;i[e+18>>1]=15e3;i[e+20>>1]=8e3;i[e+22>>1]=0;i[e+24>>1]=-8e3;i[e+26>>1]=-15e3;i[e+28>>1]=-21e3;i[e+30>>1]=-26e3;i[e+32>>1]=3e4;i[e+34>>1]=26e3;i[e+36>>1]=21e3;i[e+38>>1]=15e3;i[e+40>>1]=8e3;i[e+42>>1]=0;i[e+44>>1]=-8e3;i[e+46>>1]=-15e3;i[e+48>>1]=-21e3;i[e+50>>1]=-26e3;i[e+212>>1]=0;i[e+374>>1]=0;i[e+392>>1]=0;n=e+52|0;i[n>>1]=1384;i[e+54>>1]=2077;i[e+56>>1]=3420;i[e+58>>1]=5108;i[e+60>>1]=6742;i[e+62>>1]=8122;i[e+64>>1]=9863;i[e+66>>1]=11092;i[e+68>>1]=12714;i[e+70>>1]=13701;a=e+72|0;s=n;l=a+20|0;do{t[a>>0]=t[s>>0]|0;a=a+1|0;s=s+1|0}while((a|0)<(l|0));a=e+92|0;s=n;l=a+20|0;do{t[a>>0]=t[s>>0]|0;a=a+1|0;s=s+1|0}while((a|0)<(l|0));a=e+112|0;s=n;l=a+20|0;do{t[a>>0]=t[s>>0]|0;a=a+1|0;s=s+1|0}while((a|0)<(l|0));a=e+132|0;s=n;l=a+20|0;do{t[a>>0]=t[s>>0]|0;a=a+1|0;s=s+1|0}while((a|0)<(l|0));a=e+152|0;s=n;l=a+20|0;do{t[a>>0]=t[s>>0]|0;a=a+1|0;s=s+1|0}while((a|0)<(l|0));a=e+172|0;s=n;l=a+20|0;do{t[a>>0]=t[s>>0]|0;a=a+1|0;s=s+1|0}while((a|0)<(l|0));a=e+192|0;s=n;l=a+20|0;do{t[a>>0]=t[s>>0]|0;a=a+1|0;s=s+1|0}while((a|0)<(l|0));Vi(e+214|0,0,160)|0;i[e+376>>1]=3500;i[e+378>>1]=3500;l=i[r>>1]|0;i[e+380>>1]=l;i[e+382>>1]=l;i[e+384>>1]=l;i[e+386>>1]=l;i[e+388>>1]=l;i[e+390>>1]=l;i[e+394>>1]=0;i[e+396>>1]=7;i[e+398>>1]=32767;i[e+400>>1]=0;i[e+402>>1]=0;i[e+404>>1]=0;o[e+408>>2]=1;i[e+412>>1]=0;l=0;return l|0}function lr(e,r,n,a,l,f,u,d,h,w,m,E){e=e|0;r=r|0;n=n|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;m=m|0;E=E|0;var p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0,W=0,X=0,G=0,Z=0,J=0;J=c;c=c+304|0;Y=J+192|0;x=J+168|0;K=J+148|0;X=J+216|0;q=J+146|0;V=J+144|0;H=J+124|0;z=J+104|0;j=J+84|0;W=J+60|0;L=J+40|0;B=J;Z=e+404|0;G=e+400|0;if((i[Z>>1]|0)!=0?(i[G>>1]|0)!=0:0){I=e+394|0;i[I>>1]=i[636+(u<<1)>>1]|0;g=i[e+212>>1]|0;M=g+10|0;qi(e+52+(((M&65535|0)==80?0:M<<16>>16)<<1)|0,e+52+(g<<1)|0,20)|0;g=i[e+392>>1]|0;M=g+1|0;i[e+376+(((M&65535|0)==8?0:M<<16>>16)<<1)>>1]=i[e+376+(g<<1)>>1]|0;M=e+4|0;i[M>>1]=0;g=B+36|0;R=B+32|0;y=B+28|0;A=B+24|0;O=B+20|0;T=B+16|0;D=B+12|0;N=B+8|0;P=B+4|0;C=e+52|0;b=B;U=b+40|0;do{o[b>>2]=0;b=b+4|0}while((b|0)<(U|0));S=0;p=7;while(1){U=i[e+376+(p<<1)>>1]|0;F=U<<16>>16;if(U<<16>>16<0)F=~((F^-8)>>3);else F=F>>>3;S=Wt(S,F&65535,E)|0;i[M>>1]=S;_=p*10|0;b=9;while(1){v=B+(b<<2)|0;k=o[v>>2]|0;U=i[e+52+(b+_<<1)>>1]|0;F=U+k|0;if((U^k|0)>-1&(F^k|0)<0){o[E>>2]=1;F=(k>>>31)+2147483647|0}o[v>>2]=F;if((b|0)>0)b=b+-1|0;else break}if((p|0)<=0)break;else p=p+-1|0}i[L+18>>1]=(o[g>>2]|0)>>>3;i[L+16>>1]=(o[R>>2]|0)>>>3;i[L+14>>1]=(o[y>>2]|0)>>>3;i[L+12>>1]=(o[A>>2]|0)>>>3;i[L+10>>1]=(o[O>>2]|0)>>>3;i[L+8>>1]=(o[T>>2]|0)>>>3;i[L+6>>1]=(o[D>>2]|0)>>>3;i[L+4>>1]=(o[N>>2]|0)>>>3;i[L+2>>1]=(o[P>>2]|0)>>>3;i[L>>1]=(o[B>>2]|0)>>>3;Ei(L,e+12|0,10,E);i[M>>1]=Bi(i[M>>1]|0,i[I>>1]|0,E)|0;Ki(e+214|0,C|0,160)|0;L=9;while(1){U=i[e+214+(L+70<<1)>>1]|0;v=U<<16>>16;B=i[e+214+(L+60<<1)>>1]|0;b=(B<<16>>16)+v|0;if((B^U)<<16>>16>-1&(b^v|0)<0){o[E>>2]=1;b=(v>>>31)+2147483647|0}U=i[e+214+(L+50<<1)>>1]|0;v=U+b|0;if((U^b|0)>-1&(v^b|0)<0){o[E>>2]=1;v=(b>>>31)+2147483647|0}U=i[e+214+(L+40<<1)>>1]|0;b=U+v|0;if((U^v|0)>-1&(b^v|0)<0){o[E>>2]=1;b=(v>>>31)+2147483647|0}U=i[e+214+(L+30<<1)>>1]|0;v=U+b|0;if((U^b|0)>-1&(v^b|0)<0){o[E>>2]=1;v=(b>>>31)+2147483647|0}U=i[e+214+(L+20<<1)>>1]|0;b=U+v|0;if((U^v|0)>-1&(b^v|0)<0){o[E>>2]=1;b=(v>>>31)+2147483647|0}U=i[e+214+(L+10<<1)>>1]|0;v=U+b|0;if((U^b|0)>-1&(v^b|0)<0){o[E>>2]=1;b=(b>>>31)+2147483647|0}else b=v;U=i[e+214+(L<<1)>>1]|0;v=U+b|0;if((U^b|0)>-1&(v^b|0)<0){o[E>>2]=1;v=(b>>>31)+2147483647|0}if((v|0)<0)v=~((v^-8)>>3);else v=v>>>3;F=v&65535;_=i[654+(L<<1)>>1]|0;k=7;while(1){p=e+214+((k*10|0)+L<<1)|0;v=Bi(i[p>>1]|0,F,E)|0;i[p>>1]=v;v=(ee(_,v<<16>>16)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[p>>1]=v;S=(v&65535)-(v>>>15&1)|0;S=S<<16>>31^S;b=S&65535;if(b<<16>>16>655)b=(((S<<16>>16)+261489|0)>>>2)+655&65535;b=b<<16>>16>1310?1310:b;if(!(v&32768))v=b;else v=0-(b&65535)&65535;i[p>>1]=v;if((k|0)>0)k=k+-1|0;else break}if((L|0)>0)L=L+-1|0;else break}}if(i[G>>1]|0){F=e+32|0;k=e+12|0;b=F;_=k;U=b+20|0;do{t[b>>0]=t[_>>0]|0;b=b+1|0;_=_+1|0}while((b|0)<(U|0));_=e+4|0;S=i[_>>1]|0;p=e+6|0;i[p>>1]=S;do if(i[e+402>>1]|0){b=i[e>>1]|0;i[e>>1]=0;b=b<<16>>16<32?b:32;U=b<<16>>16;v=U<<10;if((v|0)!=(U<<26>>16|0)){o[E>>2]=1;v=b<<16>>16>0?32767:-32768}if(b<<16>>16>1)v=Gt(1024,v&65535)|0;else v=16384;i[e+2>>1]=v;ir(n,i[d>>1]|0,o[h+60>>2]|0);tr(n,8,0,d+2|0,h,k,E);b=n;U=b+20|0;do{t[b>>0]=0;b=b+1|0}while((b|0)<(U|0));S=i[d+8>>1]|0;S=S<<16>>16==0?-32768:((S+64&65535)>127?S<<16>>16>0?32767:32768:S<<16>>16<<9)+60416&65535;i[_>>1]=S;if((i[e+412>>1]|0)!=0?(o[e+408>>2]|0)!=0:0)break;b=F;_=k;U=b+20|0;do{t[b>>0]=t[_>>0]|0;b=b+1|0;_=_+1|0}while((b|0)<(U|0));i[p>>1]=S}while(0);b=S<<16>>16;if(S<<16>>16<0)b=~((b^-2)>>1);else b=b>>>1;b=b+56536|0;v=b<<16;if((v|0)>0)b=0;else b=(v|0)<-946077696?-14436:b&65535;i[a>>1]=b;i[a+2>>1]=b;i[a+4>>1]=b;i[a+6>>1]=b;d=((b<<16>>16)*5443|0)>>>15&65535;i[a+8>>1]=d;i[a+10>>1]=d;i[a+12>>1]=d;i[a+14>>1]=d}b=((i[636+(u<<1)>>1]|0)*104864|0)>>>15<<16;if((b|0)<0)b=~((b>>16^-32)>>5);else b=b>>21;u=e+394|0;i[u>>1]=Wt(((i[u>>1]|0)*29491|0)>>>15&65535,b&65535,E)|0;a=(s[e>>1]<<16)+65536|0;b=a>>16;h=e+2|0;b=(ee(((a<<10>>26|0)==(b|0)?a>>>6:b>>>15^32767)<<16>>16,i[h>>1]|0)|0)>>15;if((b|0)>32767){o[E>>2]=1;b=32767}S=b&65535;if(S<<16>>16<=1024)if(S<<16>>16<-2048)k=-32768;else k=b<<4&65535;else k=16384;d=e+4|0;F=k<<16>>16;v=ee(i[d>>1]|0,F)|0;if((v|0)==1073741824){o[E>>2]=1;L=2147483647}else L=v<<1;v=(ee(i[e+30>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}M=v&65535;i[Y+18>>1]=M;v=(ee(i[e+28>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[Y+16>>1]=v;v=(ee(i[e+26>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[Y+14>>1]=v;v=(ee(i[e+24>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[Y+12>>1]=v;v=(ee(i[e+22>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[Y+10>>1]=v;v=(ee(i[e+20>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[Y+8>>1]=v;v=(ee(i[e+18>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[Y+6>>1]=v;v=(ee(i[e+16>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[Y+4>>1]=v;v=(ee(i[e+14>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[Y+2>>1]=v;v=(ee(i[e+12>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[Y>>1]=v;a=e+6|0;F=16384-(k&65535)<<16>>16;v=ee(i[a>>1]|0,F)|0;if((v|0)!=1073741824){b=(v<<1)+L|0;if((v^L|0)>0&(b^L|0)<0){o[E>>2]=1;B=(L>>>31)+2147483647|0}else B=b}else{o[E>>2]=1;B=2147483647}b=M;_=9;while(1){S=Y+(_<<1)|0;v=(ee(i[e+32+(_<<1)>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}b=Wt(b,v&65535,E)|0;i[S>>1]=b;U=b<<16>>16;v=U<<1;if((v|0)!=(U<<17>>16|0)){o[E>>2]=1;v=b<<16>>16>0?32767:-32768}i[S>>1]=v;v=_+-1|0;if((_|0)<=0)break;b=i[Y+(v<<1)>>1]|0;_=v}L=e+374|0;v=((s[L>>1]<<16)+-161021952>>16)*9830>>15;if((v|0)>32767){o[E>>2]=1;v=32767}v=4096-(v&65535)|0;b=v<<16;if((b|0)>268369920)F=32767;else F=(b|0)<0?0:v<<19>>16;I=e+8|0;v=Ie(I,3)|0;pi(Y,H,10,E);b=z;_=H;U=b+20|0;do{i[b>>1]=i[_>>1]|0;b=b+2|0;_=_+2|0}while((b|0)<(U|0));b=(v<<16>>16)*10|0;_=9;while(1){S=z+(_<<1)|0;p=i[S>>1]|0;v=(ee(i[e+214+(_+b<<1)>>1]|0,F)|0)>>15;if((v|0)>32767){o[E>>2]=1;v=32767}i[S>>1]=Wt(p,v&65535,E)|0;if((_|0)>0)_=_+-1|0;else break}Ti(H,205,10,E);Ti(z,205,10,E);b=n+20|0;_=H;U=b+20|0;do{t[b>>0]=t[_>>0]|0;b=b+1|0;_=_+1|0}while((b|0)<(U|0));Ei(H,Y,10,E);Ei(z,j,10,E);ci(Y,x,E);ci(j,W,E);b=m;_=x;U=b+22|0;do{t[b>>0]=t[_>>0]|0;b=b+1|0;_=_+1|0}while((b|0)<(U|0));b=m+22|0;_=x;U=b+22|0;do{t[b>>0]=t[_>>0]|0;b=b+1|0;_=_+1|0}while((b|0)<(U|0));b=m+44|0;_=x;U=b+22|0;do{t[b>>0]=t[_>>0]|0;b=b+1|0;_=_+1|0}while((b|0)<(U|0));b=m+66|0;_=x;U=b+22|0;do{t[b>>0]=t[_>>0]|0;b=b+1|0;_=_+1|0}while((b|0)<(U|0));Ce(x+2|0,K,E);v=0;b=32767;do{S=i[K+(v<<1)>>1]|0;S=ee(S,S)|0;if(S>>>0<1073741824)S=32767-(S>>>15)|0;else{o[E>>2]=1;S=0}b=(ee(S<<16>>16,b<<16>>16)|0)>>15;if((b|0)>32767){o[E>>2]=1;b=32767}v=v+1|0}while((v|0)!=10);si(b<<16>>16,q,V,E);b=(s[q>>1]<<16)+-983040|0;S=b>>16;S=Pi(Bi(0,Wt(((b<<12>>28|0)==(S|0)?b>>>4:S>>>15^32767)&65535,Pi(i[V>>1]|0,3,E)|0,E)|0,E)|0,1,E)|0;b=(i[L>>1]|0)*29491>>15;if((b|0)>32767){o[E>>2]=1;b=32767}v=S<<16>>16;S=v*3277>>15;if((S|0)>32767){o[E>>2]=1;S=32767}i[L>>1]=Wt(b&65535,S&65535,E)|0;S=B>>10;p=S+262144|0;if((S|0)>-1&(p^S|0)<0){o[E>>2]=1;p=(S>>>31)+2147483647|0}V=v<<4;S=p-V|0;if(((S^p)&(p^V)|0)<0){o[E>>2]=1;p=(p>>>31)+2147483647|0}else p=S;V=i[u>>1]<<5;S=V+p|0;if((V^p|0)>-1&(S^p|0)<0){o[E>>2]=1;S=(p>>>31)+2147483647|0}v=(_i(S>>>16&65535,S>>>1&32767,E)|0)<<16>>16;Be(I,X,E);p=39;while(1){b=X+(p<<1)|0;S=(ee(i[b>>1]|0,v)|0)>>15;if((S|0)>32767){o[E>>2]=1;S=32767}i[b>>1]=S;if((p|0)>0)p=p+-1|0;else break}Li(W,X,w,40,r,1);Be(I,X,E);p=39;while(1){b=X+(p<<1)|0;S=(ee(i[b>>1]|0,v)|0)>>15;if((S|0)>32767){o[E>>2]=1;S=32767}i[b>>1]=S;if((p|0)>0)p=p+-1|0;else break}Li(W,X,w+80|0,40,r,1);Be(I,X,E);p=39;while(1){b=X+(p<<1)|0;S=(ee(i[b>>1]|0,v)|0)>>15;if((S|0)>32767){o[E>>2]=1;S=32767}i[b>>1]=S;if((p|0)>0)p=p+-1|0;else break}Li(W,X,w+160|0,40,r,1);Be(I,X,E);b=39;while(1){p=X+(b<<1)|0;S=(ee(i[p>>1]|0,v)|0)>>15;if((S|0)>32767){o[E>>2]=1;S=32767}i[p>>1]=S;if((b|0)>0)b=b+-1|0;else break}Li(W,X,w+240|0,40,r,1);i[l+14>>1]=20;i[l+16>>1]=0;if((f|0)==2){S=i[e>>1]|0;S=S<<16>>16>32?32:S<<16>>16<1?8:S;w=S<<16>>16;p=w<<10;if((p|0)!=(w<<26>>16|0)){o[E>>2]=1;p=S<<16>>16>0?32767:-32768}i[h>>1]=Gt(1024,p&65535)|0;i[e>>1]=0;b=e+32|0;_=e+12|0;U=b+20|0;do{t[b>>0]=t[_>>0]|0;b=b+1|0;_=_+1|0}while((b|0)<(U|0));E=i[d>>1]|0;i[a>>1]=E;i[d>>1]=(E&65535)+65280}if(!(i[G>>1]|0)){c=J;return}do if(!(i[e+402>>1]|0)){if(i[Z>>1]|0)break;c=J;return}while(0);i[e>>1]=0;i[e+412>>1]=1;c=J;return}function fr(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0,l=0,f=0,u=0,d=0,h=0;d=c;c=c+16|0;f=d+2|0;u=d;i[u>>1]=0;l=e+212|0;a=(s[l>>1]|0)+10|0;a=(a&65535|0)==80?0:a&65535;i[l>>1]=a;qi(e+52+(a<<16>>16<<1)|0,r|0,20)|0;a=0;l=159;while(1){h=i[n+(l<<1)>>1]|0;h=ee(h,h)|0;h=(h|0)==1073741824?2147483647:h<<1;r=h+a|0;if((h^a|0)>-1&(r^a|0)<0){o[t>>2]=1;a=(a>>>31)+2147483647|0}else a=r;if((l|0)>0)l=l+-1|0;else break}si(a,f,u,t);a=i[f>>1]|0;h=a<<16>>16;r=h<<10;if((r|0)!=(h<<26>>16|0)){o[t>>2]=1;r=a<<16>>16>0?32767:-32768}i[f>>1]=r;h=i[u>>1]|0;a=h<<16>>16;if(h<<16>>16<0)a=~((a^-32)>>5);else a=a>>>5;u=e+392|0;h=(s[u>>1]|0)+1|0;h=(h&65535|0)==8?0:h&65535;i[u>>1]=h;i[e+376+(h<<16>>16<<1)>>1]=a+57015+r;c=d;return}function ur(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,l=0,f=0,u=0,c=0,d=0,h=0;c=(r|0)==4;d=(r|0)==5;h=(r|0)==6;t=o[e+408>>2]|0;e:do if((r+-4|0)>>>0<3)u=4;else{if((t+-1|0)>>>0<2)switch(r|0){case 2:case 3:case 7:{u=4;break e}default:{}}i[e>>1]=0;f=0}while(0);if((u|0)==4){e:do if((t|0)==2){switch(r|0){case 2:case 4:case 6:case 7:break;default:{a=1;break e}}a=2}else a=1;while(0);f=(s[e>>1]|0)+1&65535;i[e>>1]=f;f=(r|0)!=5&f<<16>>16>50?2:a}l=e+398|0;if(d&(i[e+412>>1]|0)==0){i[l>>1]=0;a=0}else a=i[l>>1]|0;a=Wt(a,1,n)|0;i[l>>1]=a;n=e+404|0;i[n>>1]=0;e:do switch(r|0){case 2:case 4:case 5:case 6:case 7:{if(!((r|0)==7&(f|0)==0)){if(a<<16>>16>30){i[n>>1]=1;i[l>>1]=0;i[e+396>>1]=0;break e}a=e+396|0;t=i[a>>1]|0;if(!(t<<16>>16)){i[l>>1]=0;break e}else{i[a>>1]=(t&65535)+65535;break e}}else u=14;break}default:u=14}while(0);if((u|0)==14)i[e+396>>1]=7;if(!f)return f|0;a=e+400|0;i[a>>1]=0;t=e+402|0;i[t>>1]=0;if(c){i[a>>1]=1;return f|0}if(d){i[a>>1]=1;i[t>>1]=1;return f|0}if(!h)return f|0;i[a>>1]=1;i[n>>1]=0;return f|0}function cr(e){e=e|0;if(!e){e=-1;return e|0}i[e>>1]=1;i[e+2>>1]=1;i[e+4>>1]=1;i[e+6>>1]=1;i[e+8>>1]=1;i[e+10>>1]=0;i[e+12>>1]=1;e=0;return e|0}function dr(e,r,n,t,a){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;var s=0,l=0,f=0,u=0;u=c;c=c+16|0;f=u+2|0;l=u;s=ri(e,5)|0;e=e+10|0;if((Bi(s,i[e>>1]|0,a)|0)<<16>>16>0)s=i[e>>1]|0;s=(ee(i[674+(n<<16>>16<<1)>>1]|0,s<<16>>16)|0)>>15;if((s|0)>32767){o[a>>2]=1;s=32767}i[t>>1]=s;$t(r,f,l,a);Qt(r,i[f>>1]|0,i[l>>1]|0);c=u;return}function hr(e,r,n,t,o){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;if(!(r<<16>>16)){if(n<<16>>16){r=e+12|0;if((Bi(i[t>>1]|0,i[r>>1]|0,o)|0)<<16>>16>0)i[t>>1]=i[r>>1]|0}else r=e+12|0;i[r>>1]=i[t>>1]|0}i[e+10>>1]=i[t>>1]|0;o=e+2|0;i[e>>1]=i[o>>1]|0;n=e+4|0;i[o>>1]=i[n>>1]|0;o=e+6|0;i[n>>1]=i[o>>1]|0;e=e+8|0;i[o>>1]=i[e>>1]|0;i[e>>1]=i[t>>1]|0;return}function wr(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0;a=ri(e,5)|0;e=e+10|0;if((Bi(a,i[e>>1]|0,t)|0)<<16>>16>0)a=i[e>>1]|0;a=(ee(i[688+(r<<16>>16<<1)>>1]|0,a<<16>>16)|0)>>15;if((a|0)<=32767){t=a;t=t&65535;i[n>>1]=t;return}o[t>>2]=1;t=32767;t=t&65535;i[n>>1]=t;return}function mr(e){e=e|0;if(!e){e=-1;return e|0}i[e>>1]=1640;i[e+2>>1]=1640;i[e+4>>1]=1640;i[e+6>>1]=1640;i[e+8>>1]=1640;i[e+10>>1]=0;i[e+12>>1]=16384;e=0;return e|0}function Er(e,r,n,t,o){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;if(!(r<<16>>16)){if(n<<16>>16){r=e+12|0;if((Bi(i[t>>1]|0,i[r>>1]|0,o)|0)<<16>>16>0)i[t>>1]=i[r>>1]|0}else r=e+12|0;i[r>>1]=i[t>>1]|0}t=i[t>>1]|0;r=e+10|0;i[r>>1]=t;if((Bi(t,16384,o)|0)<<16>>16>0){i[r>>1]=16384;r=16384}else r=i[r>>1]|0;o=e+2|0;i[e>>1]=i[o>>1]|0;t=e+4|0;i[o>>1]=i[t>>1]|0;o=e+6|0;i[t>>1]=i[o>>1]|0;e=e+8|0;i[o>>1]=i[e>>1]|0;i[e>>1]=r;return}function pr(e,r,n,t,a,s,l){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;var f=0,u=0,c=0;u=ri(n,9)|0;c=i[n+16>>1]|0;f=c<<16>>16;n=(f+(i[n+14>>1]|0)|0)>>>1;n=(f|0)<(n<<16>>16|0)?c:n&65535;if(!(r<<16>>16>5?u<<16>>16>r<<16>>16:0))return 0;f=n<<16>>16;f=((f<<18>>18|0)==(f|0)?f<<2:f>>>15^32767)&65535;if(!(t<<16>>16>6&a<<16>>16==0))f=Bi(f,n,l)|0;u=u<<16>>16>f<<16>>16?f:u;c=vi(r)|0;f=c<<16>>16;if(c<<16>>16<0){n=0-f<<16;if((n|0)<983040)f=r<<16>>16>>(n>>16)&65535;else f=0}else{n=r<<16>>16;a=n<<f;if((a<<16>>16>>f|0)==(n|0))f=a&65535;else f=(n>>>15^32767)&65535}t=ee((Gt(16383,f)|0)<<16>>16,u<<16>>16)|0;if((t|0)==1073741824){o[l>>2]=1;a=2147483647}else a=t<<1;t=Bi(20,c,l)|0;f=t<<16>>16;if(t<<16>>16>0)t=t<<16>>16<31?a>>f:0;else{r=0-f<<16>>16;t=a<<r;t=(t>>r|0)==(a|0)?t:a>>31^2147483647}t=(t|0)>32767?32767:t&65535;t=s<<16>>16!=0&t<<16>>16>3072?3072:t<<16>>16;n=0;do{a=e+(n<<1)|0;f=ee(i[a>>1]|0,t)|0;if((f|0)==1073741824){o[l>>2]=1;f=2147483647}else f=f<<1;i[a>>1]=f>>>11;n=n+1|0}while((n|0)!=40);return 0}function Sr(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var s=0,l=0,f=0,u=0;s=o[t+104>>2]|0;l=o[t+96>>2]|0;if(e>>>0>=8){i[n>>1]=(a[r>>0]|0)>>>4&1;i[n+2>>1]=(a[r>>0]|0)>>>5&1;i[n+4>>1]=(a[r>>0]|0)>>>6&1;i[n+6>>1]=(a[r>>0]|0)>>>7&255;s=s+(e<<1)|0;if((i[s>>1]|0)>1){e=1;t=1;l=4}else return;while(1){f=r+e|0;e=l|1;i[n+(l<<16>>16<<1)>>1]=a[f>>0]&1;i[n+(e<<16>>16<<1)>>1]=(a[f>>0]|0)>>>1&1;u=l|3;i[n+(e+1<<16>>16<<16>>16<<1)>>1]=(a[f>>0]|0)>>>2&1;i[n+(u<<16>>16<<1)>>1]=(a[f>>0]|0)>>>3&1;i[n+(u+1<<16>>16<<16>>16<<1)>>1]=(a[f>>0]|0)>>>4&1;i[n+(u+2<<16>>16<<16>>16<<1)>>1]=(a[f>>0]|0)>>>5&1;i[n+(u+3<<16>>16<<16>>16<<1)>>1]=(a[f>>0]|0)>>>6&1;i[n+(u+4<<16>>16<<16>>16<<1)>>1]=(a[f>>0]|0)>>>7&255;t=t+1<<16>>16;if(t<<16>>16<(i[s>>1]|0)){e=t<<16>>16;l=l+8<<16>>16}else break}return}u=o[(o[t+100>>2]|0)+(e<<2)>>2]|0;i[n+(i[u>>1]<<1)>>1]=(a[r>>0]|0)>>>4&1;i[n+(i[u+2>>1]<<1)>>1]=(a[r>>0]|0)>>>5&1;i[n+(i[u+4>>1]<<1)>>1]=(a[r>>0]|0)>>>6&1;i[n+(i[u+6>>1]<<1)>>1]=(a[r>>0]|0)>>>7&255;f=s+(e<<1)|0;if((i[f>>1]|0)<=1)return;t=l+(e<<1)|0;s=1;e=1;l=4;while(1){s=r+s|0;l=l<<16>>16;if((l|0)<(i[t>>1]|0)){i[n+(i[u+(l<<1)>>1]<<1)>>1]=a[s>>0]&1;l=l+1|0;if((l|0)<(i[t>>1]|0)){i[n+(i[u+(l<<1)>>1]<<1)>>1]=(a[s>>0]|0)>>>1&1;l=l+1|0;if((l|0)<(i[t>>1]|0)){i[n+(i[u+(l<<1)>>1]<<1)>>1]=(a[s>>0]|0)>>>2&1;l=l+1|0;if((l|0)<(i[t>>1]|0)){i[n+(i[u+(l<<1)>>1]<<1)>>1]=(a[s>>0]|0)>>>3&1;l=l+1|0;if((l|0)<(i[t>>1]|0)){i[n+(i[u+(l<<1)>>1]<<1)>>1]=(a[s>>0]|0)>>>4&1;l=l+1|0;if((l|0)<(i[t>>1]|0)){i[n+(i[u+(l<<1)>>1]<<1)>>1]=(a[s>>0]|0)>>>5&1;l=l+1|0;if((l|0)<(i[t>>1]|0)){i[n+(i[u+(l<<1)>>1]<<1)>>1]=(a[s>>0]|0)>>>6&1;l=l+1|0;if((l|0)<(i[t>>1]|0)){i[n+(i[u+(l<<1)>>1]<<1)>>1]=(a[s>>0]|0)>>>7&1;l=l+1|0}}}}}}}}e=e+1<<16>>16;if(e<<16>>16<(i[f>>1]|0))s=e<<16>>16;else break}return}function br(e,r,n,t,o){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;var a=0,s=0,l=0,f=0;switch(n<<16>>16){case 0:{f=9;while(1){l=i[e+(f<<1)>>1]|0;n=l<<16>>16;if(l<<16>>16<0)n=~((n^-4)>>2);else n=n>>>2;s=i[r+(f<<1)>>1]|0;a=s<<16>>16;if(s<<16>>16<0)s=~((a^-4)>>2);else s=a>>>2;i[t+(f<<1)>>1]=Wt((l&65535)-n&65535,s&65535,o)|0;if((f|0)>0)f=f+-1|0;else break}return}case 40:{s=9;while(1){o=i[e+(s<<1)>>1]|0;n=o<<16>>16;if(o<<16>>16<0)a=~((n^-2)>>1);else a=n>>>1;o=i[r+(s<<1)>>1]|0;n=o<<16>>16;if(o<<16>>16<0)n=~((n^-2)>>1);else n=n>>>1;i[t+(s<<1)>>1]=n+a;if((s|0)>0)s=s+-1|0;else break}return}case 80:{f=9;while(1){l=i[e+(f<<1)>>1]|0;n=l<<16>>16;if(l<<16>>16<0)l=~((n^-4)>>2);else l=n>>>2;n=i[r+(f<<1)>>1]|0;a=n<<16>>16;if(n<<16>>16<0)s=~((a^-4)>>2);else s=a>>>2;i[t+(f<<1)>>1]=Wt(l&65535,(n&65535)-s&65535,o)|0;if((f|0)>0)f=f+-1|0;else break}return}case 120:{i[t+18>>1]=i[r+18>>1]|0;i[t+16>>1]=i[r+16>>1]|0;i[t+14>>1]=i[r+14>>1]|0;i[t+12>>1]=i[r+12>>1]|0;i[t+10>>1]=i[r+10>>1]|0;i[t+8>>1]=i[r+8>>1]|0;i[t+6>>1]=i[r+6>>1]|0;i[t+4>>1]=i[r+4>>1]|0;i[t+2>>1]=i[r+2>>1]|0;i[t>>1]=i[r>>1]|0;return}default:return}}function vr(e,r){e=e|0;r=r|0;if(!e){e=-1;return e|0}qi(e|0,r|0,20)|0;e=0;return e|0}function _r(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,s=0,l=0,f=0,u=0,c=0;c=0;do{u=e+(c<<1)|0;t=i[u>>1]|0;l=t&65535;f=l<<16;t=t<<16>>16;if((t*5243|0)==1073741824){o[n>>2]=1;s=2147483647}else s=t*10486|0;a=f-s|0;if(((a^f)&(s^f)|0)<0){o[n>>2]=1;s=(l>>>15)+2147483647|0}else s=a;t=i[r+(c<<1)>>1]|0;a=t*5243|0;if((a|0)!=1073741824){t=(t*10486|0)+s|0;if((a^s|0)>0&(t^s|0)<0){o[n>>2]=1;t=(s>>>31)+2147483647|0}}else{o[n>>2]=1;t=2147483647}i[u>>1]=Ni(t,n)|0;c=c+1|0}while((c|0)!=10);return}function kr(e){e=e|0;var r=0;if(!e){r=-1;return r|0}r=e+18|0;do{i[e>>1]=0;e=e+2|0}while((e|0)<(r|0));r=0;return r|0}function Fr(e){e=e|0;i[e+14>>1]=1;return}function Mr(e){e=e|0;i[e+14>>1]=0;return}function gr(e,r,n,t,a,s,l,f,u,d){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;u=u|0;d=d|0;var h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0;A=c;c=c+160|0;g=A+80|0;R=A;_=o[u+120>>2]|0;k=o[u+124>>2]|0;F=o[u+128>>2]|0;v=o[u+132>>2]|0;w=e+6|0;b=e+8|0;i[b>>1]=i[w>>1]|0;p=e+4|0;i[w>>1]=i[p>>1]|0;S=e+2|0;i[p>>1]=i[S>>1]|0;i[S>>1]=i[e>>1]|0;i[e>>1]=a;u=a<<16>>16<14746?a<<16>>16>9830&1:2;h=e+12|0;a=i[h>>1]|0;m=a<<15;do if((m|0)<=536870911)if((m|0)<-536870912){o[d>>2]=1;a=-2147483648;break}else{a=a<<17;break}else{o[d>>2]=1;a=2147483647}while(0);M=t<<16>>16;E=e+16|0;if((Ni(a,d)|0)<<16>>16>=t<<16>>16){m=i[E>>1]|0;if(m<<16>>16>0){m=(m&65535)+65535&65535;i[E>>1]=m}if(!(m<<16>>16)){a=(i[e>>1]|0)<9830;a=(i[S>>1]|0)<9830?a?2:1:a&1;if((i[p>>1]|0)<9830)a=(a&65535)+1&65535;if((i[w>>1]|0)<9830)a=(a&65535)+1&65535;if((i[b>>1]|0)<9830)a=(a&65535)+1&65535;m=0;u=a<<16>>16>2?0:u}}else{i[E>>1]=2;m=2}S=u<<16>>16;b=e+10|0;S=(m<<16>>16==0?(S|0)>((i[b>>1]|0)+1|0):0)?S+65535&65535:u;e=(i[e+14>>1]|0)==1?0:t<<16>>16<10?2:S<<16>>16<2&m<<16>>16>0?(S&65535)+1&65535:S;i[b>>1]=e;i[h>>1]=t;switch(r|0){case 4:case 6:case 7:break;default:if(e<<16>>16<2){m=0;u=0;w=s;h=g;while(1){if(!(i[w>>1]|0))a=0;else{u=u<<16>>16;i[R+(u<<1)>>1]=m;a=i[w>>1]|0;u=u+1&65535}i[h>>1]=a;i[w>>1]=0;m=m+1<<16>>16;if(m<<16>>16>=40){b=u;break}else{w=w+2|0;h=h+2|0}}S=e<<16>>16==0;S=(r|0)==5?S?_:k:S?F:v;if(b<<16>>16>0){p=0;do{E=i[R+(p<<1)>>1]|0;u=E<<16>>16;e=i[g+(u<<1)>>1]|0;if(E<<16>>16<40){m=e<<16>>16;w=39-E&65535;h=E;u=s+(u<<1)|0;a=S;while(1){r=(ee(i[a>>1]|0,m)|0)>>>15&65535;i[u>>1]=Wt(i[u>>1]|0,r,d)|0;h=h+1<<16>>16;if(h<<16>>16>=40)break;else{u=u+2|0;a=a+2|0}}if(E<<16>>16>0){u=S+(w+1<<1)|0;y=36}}else{u=S;y=36}if((y|0)==36){y=0;a=e<<16>>16;m=0;w=s;while(1){r=(ee(i[u>>1]|0,a)|0)>>>15&65535;i[w>>1]=Wt(i[w>>1]|0,r,d)|0;m=m+1<<16>>16;if(m<<16>>16>=E<<16>>16)break;else{w=w+2|0;u=u+2|0}}}p=p+1|0}while((p&65535)<<16>>16!=b<<16>>16)}}}p=l<<16>>16;S=M<<1;a=f<<16>>16;h=0-a<<16;u=h>>16;if(f<<16>>16>0){m=0;w=n;while(1){e=ee(i[n+(m<<1)>>1]|0,p)|0;if((e|0)==1073741824){o[d>>2]=1;h=2147483647}else h=e<<1;f=ee(S,i[s>>1]|0)|0;e=f+h|0;if((f^h|0)>-1&(e^h|0)<0){o[d>>2]=1;e=(h>>>31)+2147483647|0}f=e<<a;i[w>>1]=Ni((f>>a|0)==(e|0)?f:e>>31^2147483647,d)|0;m=m+1|0;if((m|0)==40)break;else{s=s+2|0;w=w+2|0}}c=A;return}if((h|0)<2031616){m=0;w=n;while(1){e=ee(i[n+(m<<1)>>1]|0,p)|0;if((e|0)==1073741824){o[d>>2]=1;h=2147483647}else h=e<<1;f=ee(S,i[s>>1]|0)|0;e=f+h|0;if((f^h|0)>-1&(e^h|0)<0){o[d>>2]=1;e=(h>>>31)+2147483647|0}i[w>>1]=Ni(e>>u,d)|0;m=m+1|0;if((m|0)==40)break;else{s=s+2|0;w=w+2|0}}c=A;return}else{w=0;h=n;while(1){e=ee(i[n+(w<<1)>>1]|0,p)|0;if((e|0)==1073741824){o[d>>2]=1;e=2147483647}else e=e<<1;f=ee(S,i[s>>1]|0)|0;if((f^e|0)>-1&(f+e^e|0)<0)o[d>>2]=1;i[h>>1]=Ni(0,d)|0;w=w+1|0;if((w|0)==40)break;else{s=s+2|0;h=h+2|0}}c=A;return}}function Rr(e){e=e|0;if(!e){e=-1;return e|0}i[e>>1]=0;i[e+2>>1]=0;i[e+4>>1]=0;i[e+6>>1]=0;i[e+8>>1]=0;i[e+10>>1]=0;e=0;return e|0}function yr(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0,p=0;if(n<<16>>16<=0)return;o=e+10|0;f=e+8|0;c=e+4|0;d=e+6|0;h=e+2|0;a=i[c>>1]|0;s=i[d>>1]|0;l=i[e>>1]|0;u=i[h>>1]|0;w=0;while(1){m=i[o>>1]|0;E=i[f>>1]|0;i[o>>1]=E;p=i[r>>1]|0;i[f>>1]=p;m=((p<<16>>16)*7699|0)+((ee(l<<16>>16,-7667)|0)+(((a<<16>>16)*15836|0)+((s<<16>>16)*15836>>15))+((ee(u<<16>>16,-7667)|0)>>15))+(ee(E<<16>>16,-15398)|0)+((m<<16>>16)*7699|0)|0;E=m<<3;m=(E>>3|0)==(m|0)?E:m>>31^2147483647;E=m<<1;i[r>>1]=Ni((E>>1|0)==(m|0)?E:m>>31^2147483647,t)|0;l=i[c>>1]|0;i[e>>1]=l;u=i[d>>1]|0;i[h>>1]=u;a=m>>>16&65535;i[c>>1]=a;s=(m>>>1)-(m>>16<<15)&65535;i[d>>1]=s;w=w+1<<16>>16;if(w<<16>>16>=n<<16>>16)break;else r=r+2|0}return}function Ar(e){e=e|0;if(!e)e=-1;else{i[e>>1]=0;e=0}return e|0}function Or(e,r,n,t,a){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;var s=0,l=0,f=0,u=0;f=t<<16>>16;s=r+(f+-1<<1)|0;f=f+-2|0;u=i[s>>1]|0;if(t<<16>>16<2)t=n<<16>>16;else{t=n<<16>>16;l=0;r=r+(f<<1)|0;while(1){n=(ee(i[r>>1]|0,t)|0)>>15;if((n|0)>32767){o[a>>2]=1;n=32767}i[s>>1]=Bi(i[s>>1]|0,n&65535,a)|0;s=s+-2|0;l=l+1<<16>>16;if((l<<16>>16|0)>(f|0))break;else r=r+-2|0}}t=(ee(i[e>>1]|0,t)|0)>>15;if((t|0)<=32767){f=t;f=f&65535;l=i[s>>1]|0;a=Bi(l,f,a)|0;i[s>>1]=a;i[e>>1]=u;return}o[a>>2]=1;f=32767;f=f&65535;
l=i[s>>1]|0;a=Bi(l,f,a)|0;i[s>>1]=a;i[e>>1]=u;return}function Tr(e){e=e|0;var r=0,n=0,t=0;if(!e){t=-1;return t|0}Vi(e+104|0,0,340)|0;r=e+102|0;n=e;t=n+100|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));Te(r)|0;Ar(e+100|0)|0;t=0;return t|0}function Dr(e,r,n,a,s){e=e|0;r=r|0;n=n|0;a=a|0;s=s|0;var l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0;k=c;c=c+96|0;S=k+22|0;b=k;v=k+44|0;qi(e+124|0,n|0,320)|0;w=v+22|0;m=e+100|0;E=e+80|0;p=e+102|0;if((r&-2|0)==6){h=0;while(1){Ui(a,702,S);Ui(a,722,b);d=e+104+(h+10<<1)|0;Di(S,d,e,40);f=v;l=S;r=f+22|0;do{i[f>>1]=i[l>>1]|0;f=f+2|0;l=l+2|0}while((f|0)<(r|0));f=w;r=f+22|0;do{i[f>>1]=0;f=f+2|0}while((f|0)<(r|0));Li(b,v,v,22,w,0);r=0;f=21;do{l=i[v+(f<<16>>16<<1)>>1]|0;l=ee(l,l)|0;if((l|0)==1073741824){_=7;break}u=l<<1;l=u+r|0;if((u^r|0)>-1&(l^r|0)<0){o[s>>2]=1;r=(r>>>31)+2147483647|0}else r=l;f=f+-1<<16>>16}while(f<<16>>16>-1);if((_|0)==7){_=0;o[s>>2]=1}u=r>>>16&65535;l=20;r=0;f=20;while(1){l=ee(i[v+(l+1<<1)>>1]|0,i[v+(l<<1)>>1]|0)|0;if((l|0)==1073741824){_=13;break}F=l<<1;l=F+r|0;if((F^r|0)>-1&(l^r|0)<0){o[s>>2]=1;r=(r>>>31)+2147483647|0}else r=l;l=(f&65535)+-1<<16>>16;if(l<<16>>16>-1){l=l<<16>>16;f=f+-1|0}else break}if((_|0)==13){_=0;o[s>>2]=1}r=r>>16;if((r|0)<1)r=0;else r=Gt((r*26214|0)>>>15&65535,u)|0;Or(m,e,r,40,s);r=n+(h<<1)|0;Li(b,e,r,40,E,1);De(p,d,r,29491,40,s);r=(h<<16)+2621440|0;if((r|0)<10485760){h=r>>16;a=a+22|0}else break}f=e+104|0;l=e+424|0;r=f+20|0;do{t[f>>0]=t[l>>0]|0;f=f+1|0;l=l+1|0}while((f|0)<(r|0));c=k;return}else{h=0;while(1){Ui(a,742,S);Ui(a,762,b);d=e+104+(h+10<<1)|0;Di(S,d,e,40);f=v;l=S;r=f+22|0;do{i[f>>1]=i[l>>1]|0;f=f+2|0;l=l+2|0}while((f|0)<(r|0));f=w;r=f+22|0;do{i[f>>1]=0;f=f+2|0}while((f|0)<(r|0));Li(b,v,v,22,w,0);r=0;f=21;do{l=i[v+(f<<16>>16<<1)>>1]|0;l=ee(l,l)|0;if((l|0)==1073741824){_=22;break}F=l<<1;l=F+r|0;if((F^r|0)>-1&(l^r|0)<0){o[s>>2]=1;r=(r>>>31)+2147483647|0}else r=l;f=f+-1<<16>>16}while(f<<16>>16>-1);if((_|0)==22){_=0;o[s>>2]=1}u=r>>>16&65535;l=20;r=0;f=20;while(1){l=ee(i[v+(l+1<<1)>>1]|0,i[v+(l<<1)>>1]|0)|0;if((l|0)==1073741824){_=28;break}F=l<<1;l=F+r|0;if((F^r|0)>-1&(l^r|0)<0){o[s>>2]=1;r=(r>>>31)+2147483647|0}else r=l;l=(f&65535)+-1<<16>>16;if(l<<16>>16>-1){l=l<<16>>16;f=f+-1|0}else break}if((_|0)==28){_=0;o[s>>2]=1}r=r>>16;if((r|0)<1)r=0;else r=Gt((r*26214|0)>>>15&65535,u)|0;Or(m,e,r,40,s);r=n+(h<<1)|0;Li(b,e,r,40,E,1);De(p,d,r,29491,40,s);r=(h<<16)+2621440|0;if((r|0)<10485760){h=r>>16;a=a+22|0}else break}f=e+104|0;l=e+424|0;r=f+20|0;do{t[f>>0]=t[l>>0]|0;f=f+1|0;l=l+1|0}while((f|0)<(r|0));c=k;return}}function Nr(e,r){e=e|0;r=r|0;var n=0,t=0;if(!e){e=-1;return e|0}o[e>>2]=0;n=xi(1764)|0;if(!n){e=-1;return e|0}if((Ge(n)|0)<<16>>16==0?(t=n+1748|0,(Rr(t)|0)<<16>>16==0):0){Ze(n,0)|0;Tr(n+1304|0)|0;Rr(t)|0;o[n+1760>>2]=0;o[e>>2]=n;e=0;return e|0}r=o[n>>2]|0;if(!r){e=-1;return e|0}Hi(r);o[n>>2]=0;e=-1;return e|0}function Pr(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function Cr(e,r,n,t,a){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;var l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0;_=c;c=c+208|0;v=_+88|0;b=_;S=e+1164|0;l=o[e+1256>>2]|0;if((t+-5|0)>>>0<2){p=l+16|0;if((i[p>>1]|0)>0){E=o[(o[e+1260>>2]|0)+32>>2]|0;m=0;l=0;while(1){w=E+(m<<1)|0;d=i[w>>1]|0;if(d<<16>>16>0){u=n;h=0;f=0;while(1){f=s[u>>1]|f<<1&131070;h=h+1<<16>>16;if(h<<16>>16>=d<<16>>16)break;else u=u+2|0}f=f&65535}else f=0;i[v+(m<<1)>>1]=f;l=l+1<<16>>16;if(l<<16>>16<(i[p>>1]|0)){n=n+(i[w>>1]<<1)|0;m=l<<16>>16}else break}}}else{E=l+(r<<1)|0;if((i[E>>1]|0)>0){p=o[(o[e+1260>>2]|0)+(r<<2)>>2]|0;w=0;l=0;while(1){m=p+(w<<1)|0;d=i[m>>1]|0;if(d<<16>>16>0){u=n;h=0;f=0;while(1){f=s[u>>1]|f<<1&131070;h=h+1<<16>>16;if(h<<16>>16>=d<<16>>16)break;else u=u+2|0}f=f&65535}else f=0;i[v+(w<<1)>>1]=f;l=l+1<<16>>16;if(l<<16>>16<(i[E>>1]|0)){n=n+(i[m>>1]<<1)|0;w=l<<16>>16}else break}}}Je(e,r,v,t,a,b);Dr(e+1304|0,r,a,b,S);yr(e+1748|0,a,160,S);l=0;do{e=a+(l<<1)|0;i[e>>1]=s[e>>1]&65528;l=l+1|0}while((l|0)!=160);c=_;return}function Ir(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var l=0,f=0,u=0;f=o[t+100>>2]|0;u=(s[(o[t+96>>2]|0)+(e<<1)>>1]|0)+65535|0;t=u&65535;l=t<<16>>16>-1;if(e>>>0<8){if(!l)return;f=o[f+(e<<2)>>2]|0;l=u<<16>>16;while(1){i[n+(i[f+(l<<1)>>1]<<1)>>1]=(a[r+(l>>3)>>0]|0)>>>(l&7^7)&1;t=t+-1<<16>>16;if(t<<16>>16>-1)l=t<<16>>16;else break}return}else{if(!l)return;l=u<<16>>16;while(1){i[n+(l<<1)>>1]=(a[r+(l>>3)>>0]|0)>>>(l&7^7)&1;t=t+-1<<16>>16;if(t<<16>>16>-1)l=t<<16>>16;else break}return}}function Br(e,r,n){e=e|0;r=r|0;n=n|0;e=gt(e,n,31764)|0;return((kt(r)|0|e)<<16>>16!=0)<<31>>31|0}function Lr(e,r){e=e|0;r=r|0;Rt(e);Ft(r);return}function Ur(e,r,n,a,l,f,u){e=e|0;r=r|0;n=n|0;a=a|0;l=l|0;f=f|0;u=u|0;var d=0,h=0,w=0,m=0,E=0;E=c;c=c+512|0;d=E+8|0;h=E+4|0;w=E;o[w>>2]=0;m=u<<16>>16==3;if(!((u&65535)<2|m&1)){if(u<<16>>16!=2){l=-1;c=E;return l|0}yt(e,n,a,d+2|0,w);e=o[w>>2]|0;o[f>>2]=e;Mt(r,e,h);r=o[h>>2]|0;i[d>>1]=r;i[d+490>>1]=(r|0)==3?-1:n&65535;t[l>>0]=r;r=1;do{d=d+1|0;t[l+r>>0]=t[d>>0]|0;r=r+1|0}while((r|0)!=492);d=492;c=E;return d|0}yt(e,n,a,d,w);Mt(r,o[w>>2]|0,h);a=o[h>>2]|0;if((a|0)!=3){r=o[w>>2]|0;o[f>>2]=r;if((r|0)==8){switch(a|0){case 1:{i[d+70>>1]=0;break}case 2:{w=d+70|0;i[w>>1]=s[w>>1]|0|1;break}default:{}}i[d+72>>1]=n&1;i[d+74>>1]=n>>>1&1;i[d+76>>1]=n>>>2&1;r=8}}else{o[f>>2]=15;r=15}if(m){Fn(r,d,l,(o[e+4>>2]|0)+2392|0);l=i[3404+(o[f>>2]<<16>>16<<1)>>1]|0;c=E;return l|0}switch(u<<16>>16){case 0:{kn(r,d,l,(o[e+4>>2]|0)+2392|0);l=i[3404+(o[f>>2]<<16>>16<<1)>>1]|0;c=E;return l|0}case 1:{_n(r,d,l,(o[e+4>>2]|0)+2392|0);l=i[3436+(o[f>>2]<<16>>16<<1)>>1]|0;c=E;return l|0}default:{l=-1;c=E;return l|0}}return 0}function xr(e,r,n,t,o,a){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;var s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0;M=c;c=c+480|0;F=M;a=240;u=o;f=e;l=F;s=0;while(1){k=((ee(i[u>>1]|0,i[f>>1]|0)|0)+16384|0)>>>15;i[l>>1]=k;k=k<<16;s=(ee(k>>15,k>>16)|0)+s|0;if((s|0)<0){d=4;break}a=a+-1|0;if(!((a&65535)<<16>>16)){a=0;break}else{u=u+2|0;f=f+2|0;l=l+2|0}}if((d|0)==4){s=a&65535;l=240-a|0;if(!(s<<16>>16))a=0;else{u=s;f=o+(l<<1)|0;a=e+(l<<1)|0;s=F+(l<<1)|0;while(1){i[s>>1]=((ee(i[f>>1]|0,i[a>>1]|0)|0)+16384|0)>>>15;u=u+-1<<16>>16;if(!(u<<16>>16)){a=0;break}else{f=f+2|0;a=a+2|0;s=s+2|0}}}do{f=a&65535;a=120;l=F;s=0;while(1){k=(i[l>>1]|0)>>>2;v=l+2|0;i[l>>1]=k;k=k<<16>>16;k=ee(k,k)|0;_=(i[v>>1]|0)>>>2;i[v>>1]=_;_=_<<16>>16;s=((ee(_,_)|0)+k<<1)+s|0;a=a+-1<<16>>16;if(!(a<<16>>16))break;else l=l+4|0}a=f+4|0}while((s|0)<1)}k=s+1|0;_=(bi(k)|0)<<16>>16;k=k<<_;i[n>>1]=k>>>16;i[t>>1]=(k>>>1)-(k>>16<<15);k=F+478|0;u=r<<16>>16;if(r<<16>>16<=0){F=_-a|0;F=F&65535;c=M;return F|0}p=F+476|0;S=_+1|0;b=239-u|0;v=F+(236-u<<1)|0;r=u;n=n+(u<<1)|0;t=t+(u<<1)|0;while(1){d=ee((b>>>1)+65535&65535,-2)|0;f=F+(d+236<<1)|0;d=v+(d<<1)|0;o=240-r|0;E=o+-1|0;l=F+(E<<1)|0;e=E>>>1&65535;o=F+(o+-2<<1)|0;u=ee(i[k>>1]|0,i[l>>1]|0)|0;if(!(e<<16>>16)){d=o;f=p}else{m=p;w=k;while(1){s=l+-4|0;h=w+-4|0;u=(ee(i[m>>1]|0,i[o>>1]|0)|0)+u|0;e=e+-1<<16>>16;u=(ee(i[h>>1]|0,i[s>>1]|0)|0)+u|0;if(!(e<<16>>16))break;else{o=l+-6|0;m=w+-6|0;l=s;w=h}}}if(E&1)u=(ee(i[f>>1]|0,i[d>>1]|0)|0)+u|0;E=u<<S;i[n>>1]=E>>>16;i[t>>1]=(E>>>1)-(E>>16<<15);if((r&65535)+-1<<16>>16<<16>>16>0){b=b+1|0;v=v+2|0;r=r+-1|0;n=n+-2|0;t=t+-2|0}else break}F=_-a|0;F=F&65535;c=M;return F|0}function Hr(e,r,n,t,o,a,l,f){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;l=l|0;f=f|0;var u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0;T=c;c=c+3440|0;O=T+3420|0;g=T+3400|0;R=T+3224|0;A=T;F=T+3320|0;y=T+3240|0;M=T+24|0;cn(n,e,F,2,f);_t(F,r,y,R,5,g,5,f);fn(n,y,M,f);bt(10,5,5,F,M,g,R,A,f);r=t;f=r+80|0;do{i[r>>1]=0;r=r+2|0}while((r|0)<(f|0));i[a>>1]=65535;i[a+2>>1]=65535;i[a+4>>1]=65535;i[a+6>>1]=65535;i[a+8>>1]=65535;m=0;E=A;p=O;do{e=i[E>>1]|0;E=E+2|0;u=(e*6554|0)>>>15;d=u<<16>>16;r=t+(e<<1)|0;f=i[r>>1]|0;if((i[y+(e<<1)>>1]|0)>0){i[r>>1]=f+4096;i[p>>1]=8192;h=u}else{i[r>>1]=f+61440;i[p>>1]=-8192;h=d+8|0}p=p+2|0;w=h&65535;r=e-(u<<2)-d<<16>>16;u=a+(r<<1)|0;f=i[u>>1]|0;e=f<<16>>16;do if(f<<16>>16>=0){d=h<<16>>16;if(!((d^e)&8)){r=a+(r+5<<1)|0;if((e|0)>(d|0)){i[r>>1]=f;i[u>>1]=w;break}else{i[r>>1]=w;break}}else{r=a+(r+5<<1)|0;if((e&7)>>>0>(d&7)>>>0){i[r>>1]=w;break}else{i[r>>1]=f;i[u>>1]=w;break}}}else i[u>>1]=w;while(0);m=m+1<<16>>16}while(m<<16>>16<10);p=O+2|0;m=O+4|0;h=O+6|0;d=O+8|0;u=O+10|0;r=O+12|0;f=O+14|0;e=O+16|0;S=O+18|0;b=40;v=n+(0-(i[A>>1]|0)<<1)|0;_=n+(0-(i[A+2>>1]|0)<<1)|0;k=n+(0-(i[A+4>>1]|0)<<1)|0;F=n+(0-(i[A+6>>1]|0)<<1)|0;M=n+(0-(i[A+8>>1]|0)<<1)|0;g=n+(0-(i[A+10>>1]|0)<<1)|0;R=n+(0-(i[A+12>>1]|0)<<1)|0;y=n+(0-(i[A+14>>1]|0)<<1)|0;t=n+(0-(i[A+16>>1]|0)<<1)|0;E=n+(0-(i[A+18>>1]|0)<<1)|0;w=o;while(1){B=(ee(i[O>>1]|0,i[v>>1]|0)|0)>>7;I=(ee(i[p>>1]|0,i[_>>1]|0)|0)>>7;C=(ee(i[m>>1]|0,i[k>>1]|0)|0)>>7;P=(ee(i[h>>1]|0,i[F>>1]|0)|0)>>7;N=(ee(i[d>>1]|0,i[M>>1]|0)|0)>>7;D=(ee(i[u>>1]|0,i[g>>1]|0)|0)>>7;A=(ee(i[r>>1]|0,i[R>>1]|0)|0)>>7;n=(ee(i[f>>1]|0,i[y>>1]|0)|0)>>>7;o=(ee(i[e>>1]|0,i[t>>1]|0)|0)>>>7;i[w>>1]=(B+128+I+C+P+N+D+A+n+o+((ee(i[S>>1]|0,i[E>>1]|0)|0)>>>7)|0)>>>8;b=b+-1<<16>>16;if(!(b<<16>>16))break;else{v=v+2|0;_=_+2|0;k=k+2|0;F=F+2|0;M=M+2|0;g=g+2|0;R=R+2|0;y=y+2|0;t=t+2|0;E=E+2|0;w=w+2|0}}r=0;do{f=a+(r<<1)|0;e=i[f>>1]|0;if((r|0)<5)e=(s[l+((e&7)<<1)>>1]|e&8)&65535;else e=i[l+((e&7)<<1)>>1]|0;i[f>>1]=e;r=r+1|0}while((r|0)!=10);c=T;return}function zr(e,r,n,t,a,s,l,f){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;var u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0;x=c;c=c+3456|0;C=x+3448|0;N=x+3360|0;T=x+3368|0;m=x+3280|0;P=x+3200|0;D=x;B=(t&65535)<<17;U=n<<16>>16;I=n<<16>>16<40;if(I){t=B>>16;n=U;do{d=(ee(i[r+(n-U<<1)>>1]|0,t)|0)>>15;if((d|0)>32767){o[f>>2]=1;d=32767}O=r+(n<<1)|0;i[O>>1]=Wt(i[O>>1]|0,d&65535,f)|0;n=n+1|0}while((n&65535)<<16>>16!=40)}cn(r,e,T,1,f);vt(T,P,m,8);fn(r,P,D,f);O=N+2|0;i[N>>1]=0;i[O>>1]=1;e=1;d=0;w=1;m=0;h=-1;do{y=i[2830+(m<<1)>>1]|0;A=y<<16>>16;R=0;do{M=i[2834+(R<<1)>>1]|0;g=M<<16>>16;F=e;_=A;v=w;k=y;b=h;while(1){u=i[T+(_<<1)>>1]|0;p=i[D+(_*80|0)+(_<<1)>>1]|0;n=g;w=1;S=M;e=M;h=-1;while(1){t=Wt(u,i[T+(n<<1)>>1]|0,f)|0;t=t<<16>>16;t=(ee(t,t)|0)>>>15;E=(i[D+(_*80|0)+(n<<1)>>1]<<15)+32768+((i[D+(n*80|0)+(n<<1)>>1]|0)+p<<14)|0;if(((ee(t<<16>>16,w<<16>>16)|0)-(ee(E>>16,h<<16>>16)|0)<<1|0)>0){w=E>>>16&65535;e=S;h=t&65535}E=n+5|0;S=E&65535;if(S<<16>>16>=40)break;else n=E<<16>>16}if(((ee(h<<16>>16,v<<16>>16)|0)-(ee(w<<16>>16,b<<16>>16)|0)<<1|0)>0){i[N>>1]=k;i[O>>1]=e;d=k}else{e=F;w=v;h=b}E=_+5|0;k=E&65535;if(k<<16>>16>=40)break;else{F=e;_=E<<16>>16;v=w;b=h}}R=R+1|0}while((R|0)!=4);m=m+1|0}while((m|0)!=2);p=e;S=d;t=a;n=t+80|0;do{i[t>>1]=0;t=t+2|0}while((t|0)<(n|0));w=S;n=0;E=0;t=0;while(1){d=w<<16>>16;u=i[P+(d<<1)>>1]|0;e=(d*6554|0)>>>15;w=e<<16;m=w>>15;h=d-(m+(e<<3)<<16>>17)|0;switch(h<<16>>16|0){case 0:{m=w>>10;e=1;break}case 1:{if(!((n&65535)<<16>>16))e=0;else{m=e<<22>>16|16;e=1}break}case 2:{m=e<<22>>16|32;e=1;break}case 3:{m=e<<17>>16|1;e=0;break}case 4:{m=e<<22>>16|48;e=1;break}default:{m=e;e=h&65535}}m=m&65535;h=a+(d<<1)|0;if(u<<16>>16>0){i[h>>1]=8191;i[C+(n<<1)>>1]=32767;d=e<<16>>16;if(e<<16>>16<0){d=0-d<<16;if((d|0)<983040)d=1>>>(d>>16)&65535;else d=0}else{D=1<<d;d=(D<<16>>16>>d|0)==1?D&65535:32767}t=Wt(t,d,f)|0}else{i[h>>1]=-8192;i[C+(n<<1)>>1]=-32768}d=Wt(E,m,f)|0;n=n+1|0;if((n|0)==2){E=d;break}w=i[N+(n<<1)>>1]|0;E=d}i[l>>1]=t;m=C+2|0;w=i[C>>1]|0;e=0;h=r+(0-(S<<16>>16)<<1)|0;d=r+(0-(p<<16>>16)<<1)|0;do{t=ee(i[h>>1]|0,w)|0;h=h+2|0;if((t|0)!=1073741824?(L=t<<1,!((t|0)>0&(L|0)<0)):0)u=L;else{o[f>>2]=1;u=2147483647}n=ee(i[m>>1]|0,i[d>>1]|0)|0;d=d+2|0;if((n|0)!=1073741824){t=(n<<1)+u|0;if((n^u|0)>0&(t^u|0)<0){o[f>>2]=1;t=(u>>>31)+2147483647|0}}else{o[f>>2]=1;t=2147483647}i[s+(e<<1)>>1]=Ni(t,f)|0;e=e+1|0}while((e|0)!=40);if(!I){c=x;return E|0}n=B>>16;t=U;do{u=(ee(i[a+(t-U<<1)>>1]|0,n)|0)>>15;if((u|0)>32767){o[f>>2]=1;u=32767}s=a+(t<<1)|0;i[s>>1]=Wt(i[s>>1]|0,u&65535,f)|0;t=t+1|0}while((t&65535)<<16>>16!=40);c=x;return E|0}function Yr(e,r,n,t,a,s,l,f,u,d){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;u=u|0;d=d|0;var h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0;F=c;c=c+3456|0;p=F+3360|0;S=F+3368|0;b=F+3280|0;v=F+3200|0;_=F;k=a<<16>>16;m=k<<1;if((m|0)==(k<<17>>16|0))E=m;else{o[d>>2]=1;E=a<<16>>16>0?32767:-32768}k=t<<16>>16;h=t<<16>>16<40;if(h){a=E<<16>>16;w=k;do{t=n+(w<<1)|0;m=(ee(i[n+(w-k<<1)>>1]|0,a)|0)>>15;if((m|0)>32767){o[d>>2]=1;m=32767}i[t>>1]=Wt(i[t>>1]|0,m&65535,d)|0;w=w+1|0}while((w&65535)<<16>>16!=40)}cn(n,r,S,1,d);vt(S,v,b,8);fn(n,v,_,d);jr(e,S,_,u,p);m=Kr(e,p,v,s,n,l,f,d)|0;if(!h){c=F;return m|0}w=E<<16>>16;a=k;do{t=s+(a<<1)|0;h=(ee(i[s+(a-k<<1)>>1]|0,w)|0)>>15;if((h|0)>32767){o[d>>2]=1;h=32767}i[t>>1]=Wt(i[t>>1]|0,h&65535,d)|0;a=a+1|0}while((a&65535)<<16>>16!=40);c=F;return m|0}function jr(e,r,n,t,o){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;var a=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0;F=o+2|0;i[o>>1]=0;i[F>>1]=1;_=e<<16>>16<<1;a=1;k=0;e=-1;do{v=(k<<3)+_<<16>>16;u=i[t+(v<<1)>>1]|0;v=i[t+((v|1)<<1)>>1]|0;l=u<<16>>16;e:do if(u<<16>>16<40){b=v<<16>>16;if(v<<16>>16<40)S=a;else while(1){if((e<<16>>16|0)<(0-(a<<16>>16)|0)){i[o>>1]=u;i[F>>1]=v;f=1;e=-1}else f=a;a=l+5|0;u=a&65535;if(u<<16>>16>=40){a=f;break e}else{l=a<<16>>16;a=f}}while(1){E=i[n+(l*80|0)+(l<<1)>>1]|0;m=s[r+(l<<1)>>1]|0;w=b;a=1;p=v;f=v;c=-1;while(1){h=(s[r+(w<<1)>>1]|0)+m<<16>>16;h=(ee(h,h)|0)>>>15;d=(i[n+(l*80|0)+(w<<1)>>1]<<15)+32768+((i[n+(w*80|0)+(w<<1)>>1]|0)+E<<14)|0;if(((ee(h<<16>>16,a<<16>>16)|0)-(ee(d>>16,c<<16>>16)|0)<<1|0)>0){a=d>>>16&65535;f=p;c=h&65535}d=w+5|0;p=d&65535;if(p<<16>>16>=40)break;else w=d<<16>>16}if(((ee(c<<16>>16,S<<16>>16)|0)-(ee(a<<16>>16,e<<16>>16)|0)<<1|0)>0){i[o>>1]=u;i[F>>1]=f;e=c}else a=S;l=l+5|0;u=l&65535;if(u<<16>>16>=40)break;else{l=l<<16>>16;S=a}}}while(0);k=k+1|0}while((k|0)!=2);return}function Kr(e,r,n,t,a,s,l,f){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;var u=0,c=0,d=0,h=0,w=0,m=0;u=t;c=u+80|0;do{i[u>>1]=0;u=u+2|0}while((u|0)<(c|0));u=i[r>>1]|0;w=(u*6554|0)>>>15;c=w<<16>>16;h=(748250>>>((u+(ee(c,-5)|0)<<16>>16)+((e<<16>>16)*5|0)|0)&1|0)==0;d=(i[n+(u<<1)>>1]|0)>0;m=d?32767:-32768;i[t+(u<<1)>>1]=d?8191:-8192;u=r+2|0;e=i[u>>1]|0;t=t+(e<<1)|0;if((i[n+(e<<1)>>1]|0)>0){i[t>>1]=8191;n=32767;t=(d&1|2)&65535}else{i[t>>1]=-8192;n=-32768;t=d&1}w=((e*6554|0)>>>15<<3)+(h?w:c+64|0)&65535;i[l>>1]=t;h=0;d=a+(0-(i[r>>1]|0)<<1)|0;t=a+(0-(i[u>>1]|0)<<1)|0;do{u=ee(m,i[d>>1]|0)|0;d=d+2|0;if((u|0)==1073741824){o[f>>2]=1;e=2147483647}else e=u<<1;c=ee(n,i[t>>1]|0)|0;t=t+2|0;if((c|0)!=1073741824){u=(c<<1)+e|0;if((c^e|0)>0&(u^e|0)<0){o[f>>2]=1;u=(e>>>31)+2147483647|0}}else{o[f>>2]=1;u=2147483647}i[s+(h<<1)>>1]=Ni(u,f)|0;h=h+1|0}while((h|0)!=40);return w|0}function qr(e,r,n,t,a,l,f,u){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;var d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0;V=c;c=c+3440|0;U=V+3360|0;x=V+3280|0;z=V+3200|0;H=V;j=(t&65535)<<17;q=n<<16>>16;Y=n<<16>>16<40;if(Y){n=j>>16;d=q;do{t=(ee(i[r+(d-q<<1)>>1]|0,n)|0)>>15;if((t|0)>32767){o[u>>2]=1;t=32767}L=r+(d<<1)|0;i[L>>1]=Wt(i[L>>1]|0,t&65535,u)|0;d=d+1|0}while((d&65535)<<16>>16!=40)}cn(r,e,U,1,u);vt(U,z,x,6);fn(r,z,H,u);L=1;h=2;w=1;t=0;d=1;e=-1;m=1;while(1){B=2;S=2;while(1){P=0;C=0;I=m;N=S;while(1){if(C<<16>>16<40){A=I<<16>>16;O=I<<16>>16<40;T=N<<16>>16;D=N<<16>>16<40;R=C<<16>>16;y=C;while(1){if((i[x+(R<<1)>>1]|0)>-1){F=i[H+(R*80|0)+(R<<1)>>1]|0;if(O){M=s[U+(R<<1)>>1]|0;k=A;p=1;g=I;n=I;S=0;E=-1;while(1){v=(s[U+(k<<1)>>1]|0)+M|0;_=v<<16>>16;_=(ee(_,_)|0)>>>15;b=(i[H+(R*80|0)+(k<<1)>>1]<<15)+32768+((i[H+(k*80|0)+(k<<1)>>1]|0)+F<<14)|0;if(((ee(_<<16>>16,p<<16>>16)|0)-(ee(b>>16,E<<16>>16)|0)<<1|0)>0){p=b>>>16&65535;n=g;S=v&65535;E=_&65535}b=k+5|0;g=b&65535;if(g<<16>>16>=40)break;else k=b<<16>>16}}else{p=1;n=I;S=0}if(D){M=S&65535;g=n<<16>>16;k=(p<<16>>16<<14)+32768|0;_=T;S=1;F=N;E=N;p=-1;while(1){v=(s[U+(_<<1)>>1]|0)+M<<16>>16;v=(ee(v,v)|0)>>>15;b=k+(i[H+(_*80|0)+(_<<1)>>1]<<12)+((i[H+(R*80|0)+(_<<1)>>1]|0)+(i[H+(g*80|0)+(_<<1)>>1]|0)<<13)|0;if(((ee(v<<16>>16,S<<16>>16)|0)-(ee(b>>16,p<<16>>16)|0)<<1|0)>0){S=b>>>16&65535;E=F;p=v&65535}b=_+5|0;F=b&65535;if(F<<16>>16>=40){k=S;_=p;break}else _=b<<16>>16}}else{k=1;E=N;_=-1}S=ee(_<<16>>16,d<<16>>16)|0;if((S|0)==1073741824){o[u>>2]=1;b=2147483647}else b=S<<1;S=ee(k<<16>>16,e<<16>>16)|0;if((S|0)==1073741824){o[u>>2]=1;p=2147483647}else p=S<<1;S=b-p|0;if(((S^b)&(p^b)|0)<0){o[u>>2]=1;S=(b>>>31)+2147483647|0}g=(S|0)>0;h=g?E:h;w=g?n:w;t=g?y:t;d=g?k:d;e=g?_:e}S=R+5|0;y=S&65535;if(y<<16>>16>=40)break;else R=S<<16>>16}}P=P+1<<16>>16;if(P<<16>>16>=3)break;else{D=N;N=I;I=C;C=D}}n=B+2|0;S=n&65535;if(S<<16>>16>=5)break;else B=n&65535}n=L+2|0;m=n&65535;if(m<<16>>16<4)L=n&65535;else{S=h;h=w;break}}n=a;d=n+80|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(d|0));_=t<<16>>16;e=i[z+(_<<1)>>1]|0;t=(_*6554|0)>>>15;n=t<<16;d=_-(((n>>16)*327680|0)>>>16)|0;switch(d<<16>>16|0){case 1:{t=n>>12;break}case 2:{t=n>>8;d=2;break}case 3:{t=t<<20>>16|8;d=1;break}case 4:{t=t<<24>>16|128;d=2;break}default:{}}n=a+(_<<1)|0;if(e<<16>>16>0){i[n>>1]=8191;g=32767;w=65536<<(d<<16>>16)>>>16&65535}else{i[n>>1]=-8192;g=-32768;w=0}b=h<<16>>16;h=i[z+(b<<1)>>1]|0;n=(b*6554|0)>>>15;d=n<<16;e=b-(((d>>16)*327680|0)>>>16)|0;switch(e<<16>>16|0){case 1:{n=d>>12;break}case 2:{n=d>>8;e=2;break}case 3:{n=n<<20>>16|8;e=1;break}case 4:{n=n<<24>>16|128;e=2;break}default:{}}d=a+(b<<1)|0;if(h<<16>>16>0){i[d>>1]=8191;v=32767;w=(65536<<(e<<16>>16)>>>16)+(w&65535)&65535}else{i[d>>1]=-8192;v=-32768}m=n+t|0;p=S<<16>>16;h=i[z+(p<<1)>>1]|0;t=(p*6554|0)>>>15;n=t<<16;d=p-(((n>>16)*327680|0)>>>16)|0;switch(d<<16>>16|0){case 1:{n=n>>12;break}case 2:{n=n>>8;d=2;break}case 3:{n=t<<20>>16|8;d=1;break}case 4:{n=t<<24>>16|128;d=2;break}default:n=t}t=a+(p<<1)|0;if(h<<16>>16>0){i[t>>1]=8191;S=32767;t=(65536<<(d<<16>>16)>>>16)+(w&65535)&65535}else{i[t>>1]=-8192;S=-32768;t=w}E=m+n|0;i[f>>1]=t;w=0;m=r+(0-_<<1)|0;e=r+(0-b<<1)|0;h=r+(0-p<<1)|0;do{t=ee(i[m>>1]|0,g)|0;m=m+2|0;if((t|0)!=1073741824?(K=t<<1,!((t|0)>0&(K|0)<0)):0)d=K;else{o[u>>2]=1;d=2147483647}t=ee(i[e>>1]|0,v)|0;e=e+2|0;if((t|0)!=1073741824){n=(t<<1)+d|0;if((t^d|0)>0&(n^d|0)<0){o[u>>2]=1;n=(d>>>31)+2147483647|0}}else{o[u>>2]=1;n=2147483647}d=ee(i[h>>1]|0,S)|0;h=h+2|0;if((d|0)!=1073741824){t=(d<<1)+n|0;if((d^n|0)>0&(t^n|0)<0){o[u>>2]=1;t=(n>>>31)+2147483647|0}}else{o[u>>2]=1;t=2147483647}i[l+(w<<1)>>1]=Ni(t,u)|0;w=w+1|0}while((w|0)!=40);t=E&65535;if(!Y){c=V;return t|0}d=j>>16;n=q;do{e=(ee(i[a+(n-q<<1)>>1]|0,d)|0)>>15;if((e|0)>32767){o[u>>2]=1;e=32767}l=a+(n<<1)|0;i[l>>1]=Wt(i[l>>1]|0,e&65535,u)|0;n=n+1|0}while((n&65535)<<16>>16!=40);c=V;return t|0}function Vr(e,r,n,t,a,l,f,u,d){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;var h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0,W=0,X=0,G=0,Z=0,J=0,Q=0,$=0,re=0,ne=0,te=0;te=c;c=c+3456|0;J=te+3448|0;G=te+3360|0;V=te+3368|0;W=te+3280|0;Z=te+3200|0;X=te;$=(t&65535)<<17;ne=n<<16>>16;Q=n<<16>>16<40;if(Q){n=$>>16;h=ne;do{t=(ee(i[r+(h-ne<<1)>>1]|0,n)|0)>>15;if((t|0)>32767){o[d>>2]=1;t=32767}q=r+(h<<1)|0;i[q>>1]=Wt(i[q>>1]|0,t&65535,d)|0;h=h+1|0}while((h&65535)<<16>>16!=40)}cn(r,e,V,1,d);vt(V,Z,W,4);fn(r,Z,X,d);j=G+2|0;i[G>>1]=0;K=G+4|0;i[j>>1]=1;q=G+6|0;i[K>>1]=2;i[q>>1]=3;p=3;m=2;w=1;t=0;n=1;h=-1;E=3;do{U=0;x=0;H=E;z=1;Y=2;while(1){if(x<<16>>16<40){N=z<<16>>16;P=z<<16>>16<40;C=Y<<16>>16;I=Y<<16>>16<40;B=H<<16>>16;L=H<<16>>16<40;D=x<<16>>16;T=m;A=w;y=n;O=x;while(1){if((i[W+(D<<1)>>1]|0)>-1){b=i[X+(D*80|0)+(D<<1)>>1]|0;if(P){S=s[V+(D<<1)>>1]|0;v=N;g=1;m=z;w=z;F=0;M=-1;while(1){k=(s[V+(v<<1)>>1]|0)+S|0;_=k<<16>>16;_=(ee(_,_)|0)>>>15;R=(i[X+(D*80|0)+(v<<1)>>1]<<15)+32768+((i[X+(v*80|0)+(v<<1)>>1]|0)+b<<14)|0;if(((ee(_<<16>>16,g<<16>>16)|0)-(ee(R>>16,M<<16>>16)|0)<<1|0)>0){g=R>>>16&65535;w=m;F=k&65535;M=_&65535}R=v+5|0;m=R&65535;if(m<<16>>16>=40)break;else v=R<<16>>16}}else{g=1;w=z;F=0}if(I){n=F&65535;e=w<<16>>16;b=(g<<16>>16<<14)+32768|0;v=C;R=1;S=Y;m=Y;M=0;F=-1;while(1){k=(s[V+(v<<1)>>1]|0)+n|0;_=k<<16>>16;_=(ee(_,_)|0)>>>15;g=b+(i[X+(v*80|0)+(v<<1)>>1]<<12)+((i[X+(D*80|0)+(v<<1)>>1]|0)+(i[X+(e*80|0)+(v<<1)>>1]|0)<<13)|0;if(((ee(_<<16>>16,R<<16>>16)|0)-(ee(g>>16,F<<16>>16)|0)<<1|0)>0){R=g>>>16&65535;m=S;M=k&65535;F=_&65535}g=v+5|0;S=g&65535;if(S<<16>>16>=40)break;else v=g<<16>>16}}else{R=1;m=Y;M=0}if(L){b=M&65535;S=m<<16>>16;e=w<<16>>16;_=(R&65535)<<16|32768;k=B;n=1;v=H;g=H;R=-1;while(1){F=(s[V+(k<<1)>>1]|0)+b<<16>>16;F=(ee(F,F)|0)>>>15;M=(i[X+(k*80|0)+(k<<1)>>1]<<12)+_+((i[X+(e*80|0)+(k<<1)>>1]|0)+(i[X+(S*80|0)+(k<<1)>>1]|0)+(i[X+(D*80|0)+(k<<1)>>1]|0)<<13)|0;if(((ee(F<<16>>16,n<<16>>16)|0)-(ee(M>>16,R<<16>>16)|0)<<1|0)>0){n=M>>>16&65535;g=v;R=F&65535}M=k+5|0;v=M&65535;if(v<<16>>16>=40)break;else k=M<<16>>16}}else{n=1;g=H;R=-1}if(((ee(R<<16>>16,y<<16>>16)|0)-(ee(n<<16>>16,h<<16>>16)|0)<<1|0)>0){i[G>>1]=O;i[j>>1]=w;i[K>>1]=m;i[q>>1]=g;p=g;t=O;h=R}else{m=T;w=A;n=y}}else{m=T;w=A;n=y}k=D+5|0;O=k&65535;if(O<<16>>16>=40)break;else{D=k<<16>>16;T=m;A=w;y=n}}}U=U+1<<16>>16;if(U<<16>>16>=4)break;else{B=Y;L=H;Y=z;z=x;H=B;x=L}}E=E+1<<16>>16}while(E<<16>>16<5);R=p;g=m;M=w;F=t;t=a;n=t+80|0;do{i[t>>1]=0;t=t+2|0}while((t|0)<(n|0));e=F;n=0;h=0;t=0;while(1){m=e<<16>>16;E=i[Z+(m<<1)>>1]|0;e=m*13108>>16;w=m-((e*327680|0)>>>16)|0;e=i[u+(e<<1)>>1]|0;switch(w<<16>>16|0){case 1:{p=e<<16>>16<<3&65535;break}case 2:{p=e<<16>>16<<6&65535;break}case 3:{p=e<<16>>16<<10&65535;break}case 4:{p=((e&65535)<<10|512)&65535;w=3;break}default:p=e}e=a+(m<<1)|0;if(E<<16>>16>0){i[e>>1]=8191;e=32767;t=(65536<<(w<<16>>16)>>>16)+(t&65535)&65535}else{i[e>>1]=-8192;e=-32768}i[J+(n<<1)>>1]=e;h=(p&65535)+(h&65535)|0;n=n+1|0;if((n|0)==4){k=h;break}e=i[G+(n<<1)>>1]|0}i[f>>1]=t;b=J+2|0;v=J+4|0;_=J+6|0;e=i[J>>1]|0;S=0;w=r+(0-(F<<16>>16)<<1)|0;m=r+(0-(M<<16>>16)<<1)|0;E=r+(0-(g<<16>>16)<<1)|0;p=r+(0-(R<<16>>16)<<1)|0;do{t=ee(i[w>>1]|0,e)|0;w=w+2|0;if((t|0)!=1073741824?(re=t<<1,!((t|0)>0&(re|0)<0)):0)h=re;else{o[d>>2]=1;h=2147483647}t=ee(i[b>>1]|0,i[m>>1]|0)|0;m=m+2|0;if((t|0)!=1073741824){n=(t<<1)+h|0;if((t^h|0)>0&(n^h|0)<0){o[d>>2]=1;n=(h>>>31)+2147483647|0}}else{o[d>>2]=1;n=2147483647}t=ee(i[v>>1]|0,i[E>>1]|0)|0;E=E+2|0;if((t|0)!=1073741824){h=(t<<1)+n|0;if((t^n|0)>0&(h^n|0)<0){o[d>>2]=1;h=(n>>>31)+2147483647|0}}else{o[d>>2]=1;h=2147483647}n=ee(i[_>>1]|0,i[p>>1]|0)|0;p=p+2|0;if((n|0)!=1073741824){t=(n<<1)+h|0;if((n^h|0)>0&(t^h|0)<0){o[d>>2]=1;t=(h>>>31)+2147483647|0}}else{o[d>>2]=1;t=2147483647}i[l+(S<<1)>>1]=Ni(t,d)|0;S=S+1|0}while((S|0)!=40);t=k&65535;if(((ne<<16)+-2621440|0)>-1|Q^1){c=te;return t|0}h=$>>16;n=ne;do{e=(ee(i[a+(n-ne<<1)>>1]|0,h)|0)>>15;if((e|0)>32767){o[d>>2]=1;e=32767}l=a+(n<<1)|0;i[l>>1]=Wt(i[l>>1]|0,e&65535,d)|0;n=n+1|0}while((n&65535)<<16>>16!=40);c=te;return t|0}function Wr(e,r,n,t,a,l,f){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;var u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0;L=c;c=c+3440|0;b=L+3424|0;N=L+3408|0;P=L+3240|0;v=L+3224|0;T=L+3328|0;S=L+3248|0;D=L+24|0;B=L+16|0;I=L;un(n,e,T,2,4,4,f);_t(T,r,S,P,4,N,4,f);fn(n,S,D,f);bt(8,4,4,T,D,N,P,v,f);r=t;e=r+80|0;do{i[r>>1]=0;r=r+2|0}while((r|0)<(e|0));i[I>>1]=-1;i[B>>1]=-1;A=I+2|0;i[A>>1]=-1;O=B+2|0;i[O>>1]=-1;T=I+4|0;i[T>>1]=-1;D=B+4|0;i[D>>1]=-1;P=I+6|0;i[P>>1]=-1;N=B+6|0;i[N>>1]=-1;E=0;do{w=i[v+(E<<1)>>1]|0;r=w>>>2;d=r&65535;e=w&3;h=(i[S+(w<<1)>>1]|0)>0;w=t+(w<<1)|0;p=h&1^1;i[w>>1]=(s[w>>1]|0)+(h?8191:57345);i[b+(E<<1)>>1]=h?32767:-32768;h=I+(e<<1)|0;w=i[h>>1]|0;do if(w<<16>>16>=0){m=B+(e<<1)|0;u=(w<<16>>16|0)<=(r<<16>>16|0);r=I+((e|4)<<1)|0;if((p&65535|0)==(s[m>>1]&1|0))if(u){i[r>>1]=d;break}else{i[r>>1]=w;i[h>>1]=d;i[m>>1]=p;break}else if(u){i[r>>1]=w;i[h>>1]=d;i[m>>1]=p;break}else{i[r>>1]=d;break}}else{i[h>>1]=d;i[B+(e<<1)>>1]=p}while(0);E=E+1|0}while((E|0)!=8);_=b+2|0;k=b+4|0;F=b+6|0;M=b+8|0;g=b+10|0;R=b+12|0;y=b+14|0;b=i[b>>1]|0;E=0;m=n+(0-(i[v>>1]|0)<<1)|0;w=n+(0-(i[v+2>>1]|0)<<1)|0;h=n+(0-(i[v+4>>1]|0)<<1)|0;d=n+(0-(i[v+6>>1]|0)<<1)|0;r=n+(0-(i[v+8>>1]|0)<<1)|0;e=n+(0-(i[v+10>>1]|0)<<1)|0;u=n+(0-(i[v+12>>1]|0)<<1)|0;n=n+(0-(i[v+14>>1]|0)<<1)|0;do{p=ee(i[m>>1]|0,b)|0;m=m+2|0;if((p|0)!=1073741824?(C=p<<1,!((p|0)>0&(C|0)<0)):0)p=C;else{o[f>>2]=1;p=2147483647}S=ee(i[_>>1]|0,i[w>>1]|0)|0;w=w+2|0;if((S|0)!=1073741824){t=(S<<1)+p|0;if((S^p|0)>0&(t^p|0)<0){o[f>>2]=1;p=(p>>>31)+2147483647|0}else p=t}else{o[f>>2]=1;p=2147483647}S=ee(i[k>>1]|0,i[h>>1]|0)|0;h=h+2|0;if((S|0)!=1073741824){t=(S<<1)+p|0;if((S^p|0)>0&(t^p|0)<0){o[f>>2]=1;t=(p>>>31)+2147483647|0}}else{o[f>>2]=1;t=2147483647}S=ee(i[F>>1]|0,i[d>>1]|0)|0;d=d+2|0;if((S|0)!=1073741824){p=(S<<1)+t|0;if((S^t|0)>0&(p^t|0)<0){o[f>>2]=1;p=(t>>>31)+2147483647|0}}else{o[f>>2]=1;p=2147483647}S=ee(i[M>>1]|0,i[r>>1]|0)|0;r=r+2|0;if((S|0)!=1073741824){t=(S<<1)+p|0;if((S^p|0)>0&(t^p|0)<0){o[f>>2]=1;t=(p>>>31)+2147483647|0}}else{o[f>>2]=1;t=2147483647}S=ee(i[g>>1]|0,i[e>>1]|0)|0;e=e+2|0;if((S|0)!=1073741824){p=(S<<1)+t|0;if((S^t|0)>0&(p^t|0)<0){o[f>>2]=1;p=(t>>>31)+2147483647|0}}else{o[f>>2]=1;p=2147483647}S=ee(i[R>>1]|0,i[u>>1]|0)|0;u=u+2|0;if((S|0)!=1073741824){t=(S<<1)+p|0;if((S^p|0)>0&(t^p|0)<0){o[f>>2]=1;t=(p>>>31)+2147483647|0}}else{o[f>>2]=1;t=2147483647}S=ee(i[y>>1]|0,i[n>>1]|0)|0;n=n+2|0;if((S|0)!=1073741824){p=(S<<1)+t|0;if((S^t|0)>0&(p^t|0)<0){o[f>>2]=1;p=(t>>>31)+2147483647|0}}else{o[f>>2]=1;p=2147483647}i[a+(E<<1)>>1]=Ni(p,f)|0;E=E+1|0}while((E|0)!=40);i[l>>1]=i[B>>1]|0;i[l+2>>1]=i[O>>1]|0;i[l+4>>1]=i[D>>1]|0;i[l+6>>1]=i[N>>1]|0;e=i[I>>1]|0;r=i[I+8>>1]|0;u=i[A>>1]|0;i[l+8>>1]=r<<1&2|e&1|u<<2&4|(((r>>1)*327680|0)+(e>>>1<<16)+(ee(u>>1,1638400)|0)|0)>>>13&65528;u=i[T>>1]|0;e=i[I+12>>1]|0;r=i[I+10>>1]|0;i[l+10>>1]=e<<1&2|u&1|r<<2&4|(((e>>1)*327680|0)+(u>>>1<<16)+(ee(r>>1,1638400)|0)|0)>>>13&65528;r=i[I+14>>1]|0;u=i[P>>1]|0;e=u<<16>>16>>>1;if(!(r&2)){a=e;f=r<<16>>16;B=f>>1;B=B*327680|0;a=a<<16;B=a+B|0;B=B<<5;B=B>>16;B=B|12;B=B*2622|0;B=B>>>16;a=u&65535;a=a&1;f=f<<17;f=f&131072;B=B<<18;f=B|f;f=f>>>16;a=f|a;a=a&65535;l=l+12|0;i[l>>1]=a;c=L;return}a=4-(e<<16>>16)|0;f=r<<16>>16;B=f>>1;B=B*327680|0;a=a<<16;B=a+B|0;B=B<<5;B=B>>16;B=B|12;B=B*2622|0;B=B>>>16;a=u&65535;a=a&1;f=f<<17;f=f&131072;B=B<<18;f=B|f;f=f>>>16;a=f|a;a=a&65535;l=l+12|0;i[l>>1]=a;c=L;return}function Xr(e,r,n,t,a){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;var s=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0;p=n<<16>>16;s=0-p|0;n=a+(s<<2)|0;a=((p-(t<<16>>16)|0)>>>2)+1&65535;if(a<<16>>16<=0)return;p=r<<16>>16>>>1&65535;if(!(p<<16>>16)){while(1){o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;if(a<<16>>16>1){n=n+16|0;a=a+-1<<16>>16}else break}return}E=e+(s<<1)|0;while(1){c=E+4|0;h=i[c>>1]|0;f=i[E>>1]|0;d=h;u=p;w=e;m=E;E=E+8|0;l=0;s=0;t=0;r=0;while(1){b=i[w>>1]|0;S=(ee(f<<16>>16,b)|0)+l|0;l=i[m+2>>1]|0;s=(ee(l,b)|0)+s|0;f=(ee(d<<16>>16,b)|0)+t|0;t=i[m+6>>1]|0;d=(ee(t,b)|0)+r|0;r=i[w+2>>1]|0;l=S+(ee(r,l)|0)|0;s=s+(ee(h<<16>>16,r)|0)|0;c=c+4|0;t=f+(ee(r,t)|0)|0;f=i[c>>1]|0;r=d+(ee(f<<16>>16,r)|0)|0;u=u+-1<<16>>16;if(!(u<<16>>16))break;b=h;d=f;h=i[m+8>>1]|0;w=w+4|0;m=m+4|0;f=b}o[n>>2]=l<<1;o[n+4>>2]=s<<1;o[n+8>>2]=t<<1;o[n+12>>2]=r<<1;if(a<<16>>16<=1)break;else{n=n+16|0;a=a+-1<<16>>16}}return}function Gr(e,r,n,t,a,l,f,u,d){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;var h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0;M=c;c=c+16|0;k=M+2|0;F=M;do if(a<<16>>16>0){S=t<<16>>16;v=0;m=0;t=0;w=0;b=0;while(1){h=i[e+(v<<1)>>1]|0;E=h<<16>>16;m=(ee(E,E)|0)+m|0;E=i[r+(v<<1)>>1]|0;t=(ee(E,E)|0)+t|0;w=(ee(i[n+(v<<1)>>1]|0,E)|0)+w|0;E=ee(E,S)|0;if((E|0)==1073741824){o[d>>2]=1;p=2147483647}else p=E<<1;E=p<<1;E=(Bi(h,Ni((E>>1|0)==(p|0)?E:p>>31^2147483647,d)|0,d)|0)<<16>>16;E=ee(E,E)|0;if((E|0)!=1073741824){h=(E<<1)+b|0;if((E^b|0)>0&(h^b|0)<0){o[d>>2]=1;h=(b>>>31)+2147483647|0}}else{o[d>>2]=1;h=2147483647}v=v+1|0;if((v&65535)<<16>>16==a<<16>>16){b=h;break}else b=h}m=m<<1;t=t<<1;w=w<<1;if((m|0)>=0){if((m|0)<400){h=b;_=14;break}}else{o[d>>2]=1;m=2147483647}p=bi(m)|0;E=p<<16>>16;if(p<<16>>16>0){h=m<<E;if((h>>E|0)!=(m|0))h=m>>31^2147483647}else{h=0-E<<16;if((h|0)<2031616)h=m>>(h>>16);else h=0}i[l>>1]=h>>>16;m=t;S=w;h=b;t=15-(p&65535)&65535}else{t=0;w=0;h=0;_=14}while(0);if((_|0)==14){i[l>>1]=0;m=t;S=w;t=-15}i[f>>1]=t;if((m|0)<0){o[d>>2]=1;m=2147483647}E=bi(m)|0;w=E<<16>>16;if(E<<16>>16>0){t=m<<w;if((t>>w|0)!=(m|0))t=m>>31^2147483647}else{t=0-w<<16;if((t|0)<2031616)t=m>>(t>>16);else t=0}i[l+2>>1]=t>>>16;i[f+2>>1]=15-(E&65535);m=bi(S)|0;w=m<<16>>16;if(m<<16>>16>0){t=S<<w;if((t>>w|0)!=(S|0))t=S>>31^2147483647}else{t=0-w<<16;if((t|0)<2031616)t=S>>(t>>16);else t=0}i[l+4>>1]=t>>>16;i[f+4>>1]=2-(m&65535);m=bi(h)|0;t=m<<16>>16;if(m<<16>>16>0){w=h<<t;if((w>>t|0)!=(h|0))w=h>>31^2147483647}else{t=0-t<<16;if((t|0)<2031616)w=h>>(t>>16);else w=0}t=w>>>16&65535;h=15-(m&65535)&65535;i[l+6>>1]=t;i[f+6>>1]=h;if((w>>16|0)<=0){d=0;i[u>>1]=d;c=M;return}w=i[l>>1]|0;if(!(w<<16>>16)){d=0;i[u>>1]=d;c=M;return}t=Gt(Pi(w,1,d)|0,t)|0;t=(t&65535)<<16;w=((Bi(h,i[f>>1]|0,d)|0)&65535)+3|0;h=w&65535;w=w<<16>>16;if(h<<16>>16>0)h=h<<16>>16<31?t>>w:0;else{f=0-w<<16>>16;h=t<<f;h=(h>>f|0)==(t|0)?h:t>>31^2147483647}si(h,k,F,d);F=Un((s[k>>1]|0)+65509&65535,i[F>>1]|0,d)|0;k=F<<13;d=Ni((k>>13|0)==(F|0)?k:F>>31^2147483647,d)|0;i[u>>1]=d;c=M;return}function Zr(e,r,n,t,a,l,f,u,d,h,w){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;var m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0;M=c;c=c+80|0;_=M;i[f>>1]=i[l>>1]|0;i[u>>1]=i[l+2>>1]|0;p=i[l+4>>1]|0;if(p<<16>>16==-32768)p=32767;else p=0-(p&65535)&65535;i[f+2>>1]=p;i[u+2>>1]=(s[l+6>>1]|0)+1;switch(e|0){case 0:case 5:{v=0;E=0;m=0;b=0;break}default:{v=0;E=1;m=1;b=1}}while(1){S=(i[a+(v<<1)>>1]|0)>>>3;i[_+(v<<1)>>1]=S;S=S<<16>>16;p=ee(S,S)|0;if((p|0)!=1073741824){l=(p<<1)+E|0;if((p^E|0)>0&(l^E|0)<0){o[w>>2]=1;E=(E>>>31)+2147483647|0}else E=l}else{o[w>>2]=1;E=2147483647}p=ee(i[r+(v<<1)>>1]|0,S)|0;if((p|0)!=1073741824){l=(p<<1)+m|0;if((p^m|0)>0&(l^m|0)<0){o[w>>2]=1;m=(m>>>31)+2147483647|0}else m=l}else{o[w>>2]=1;m=2147483647}p=ee(i[t+(v<<1)>>1]|0,S)|0;if((p|0)!=1073741824){l=(p<<1)+b|0;if((p^b|0)>0&(l^b|0)<0){o[w>>2]=1;l=(b>>>31)+2147483647|0}}else{o[w>>2]=1;l=2147483647}v=v+1|0;if((v|0)==40){t=l;S=m;break}else b=l}m=bi(E)|0;l=m<<16>>16;if(m<<16>>16>0){p=E<<l;if((p>>l|0)!=(E|0))p=E>>31^2147483647}else{p=0-l<<16;if((p|0)<2031616)p=E>>(p>>16);else p=0}a=f+4|0;i[a>>1]=p>>>16;r=u+4|0;i[r>>1]=-3-(m&65535);E=bi(S)|0;l=E<<16>>16;if(E<<16>>16>0){p=S<<l;if((p>>l|0)!=(S|0))p=S>>31^2147483647}else{p=0-l<<16;if((p|0)<2031616)p=S>>(p>>16);else p=0}l=p>>>16;i[f+6>>1]=(l|0)==32768?32767:0-l&65535;i[u+6>>1]=7-(E&65535);E=bi(t)|0;l=E<<16>>16;if(E<<16>>16>0){p=t<<l;if((p>>l|0)!=(t|0))p=t>>31^2147483647}else{p=0-l<<16;if((p|0)<2031616)p=t>>(p>>16);else p=0}i[f+8>>1]=p>>>16;i[u+8>>1]=7-(E&65535);switch(e|0){case 0:case 5:{p=0;m=0;break}default:{c=M;return}}do{m=(ee(i[_+(p<<1)>>1]|0,i[n+(p<<1)>>1]|0)|0)+m|0;p=p+1|0}while((p|0)!=40);l=m<<1;p=bi(l)|0;E=p<<16>>16;if(p<<16>>16>0){m=l<<E;if((m>>E|0)==(l|0)){k=m;F=40}else{k=l>>31^2147483647;F=40}}else{m=0-E<<16;if((m|0)<2031616){k=l>>(m>>16);F=40}}if((F|0)==40?(k>>16|0)>=1:0){w=Pi(k>>>16&65535,1,w)|0;i[d>>1]=Gt(w,i[a>>1]|0)|0;i[h>>1]=65528-(p&65535)-(s[r>>1]|0);c=M;return}i[d>>1]=0;i[h>>1]=0;c=M;return}function Jr(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0,s=0,l=0;s=0;a=0;do{l=i[e+(s<<1)>>1]|0;a=(ee(l,l)|0)+a|0;s=s+1|0}while((s|0)!=40);if((a|0)<0){o[t>>2]=1;a=2147483647}t=bi(a)|0;e=t<<16>>16;if(t<<16>>16>0){s=a<<e;if((s>>e|0)==(a|0))a=s;else a=a>>31^2147483647}else{e=0-e<<16;if((e|0)<2031616)a=a>>(e>>16);else a=0}i[n>>1]=a>>>16;i[r>>1]=16-(t&65535);return}function Qr(e,r,n,t,a,s,l,f,u,d,h,w,m){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;m=m|0;var E=0,p=0,S=0,b=0;p=c;c=c+16|0;E=p;if(d>>>0<2){l=Yr(h,e,r,n,t,l,f,E,o[w+76>>2]|0,m)|0;m=o[u>>2]|0;i[m>>1]=l;l=i[E>>1]|0;o[u>>2]=m+4;i[m+2>>1]=l;c=p;return}switch(d|0){case 2:{l=zr(e,r,n,t,l,f,E,m)|0;m=o[u>>2]|0;i[m>>1]=l;l=i[E>>1]|0;o[u>>2]=m+4;i[m+2>>1]=l;c=p;return}case 3:{l=qr(e,r,n,t,l,f,E,m)|0;m=o[u>>2]|0;i[m>>1]=l;l=i[E>>1]|0;o[u>>2]=m+4;i[m+2>>1]=l;c=p;return}default:{if((d&-2|0)==4){l=Vr(e,r,n,t,l,f,E,o[w+36>>2]|0,m)|0;m=o[u>>2]|0;i[m>>1]=l;l=i[E>>1]|0;o[u>>2]=m+4;i[m+2>>1]=l;c=p;return}if((d|0)!=6){h=a<<16>>16;h=(h<<17>>17|0)==(h|0)?h<<1:h>>>15^32767;a=n<<16>>16<40;if(!a){Hr(e,s,r,l,f,o[u>>2]|0,o[w+36>>2]|0,m);o[u>>2]=(o[u>>2]|0)+20;
c=p;return}E=n<<16>>16;d=h<<16>>16;t=E;do{b=(ee(i[r+(t-E<<1)>>1]|0,d)|0)>>>15&65535;S=r+(t<<1)|0;i[S>>1]=Wt(i[S>>1]|0,b,m)|0;t=t+1|0}while((t&65535)<<16>>16!=40);Hr(e,s,r,l,f,o[u>>2]|0,o[w+36>>2]|0,m);o[u>>2]=(o[u>>2]|0)+20;if(!a){c=p;return}a=n<<16>>16;d=h<<16>>16;E=a;do{t=(ee(i[l+(E-a<<1)>>1]|0,d)|0)>>15;if((t|0)>32767){o[m>>2]=1;t=32767}b=l+(E<<1)|0;i[b>>1]=Wt(i[b>>1]|0,t&65535,m)|0;E=E+1|0}while((E&65535)<<16>>16!=40);c=p;return}w=t<<16>>16;w=(w<<17>>17|0)==(w|0)?w<<1:w>>>15^32767;h=n<<16>>16<40;if(!h){Wr(e,s,r,l,f,o[u>>2]|0,m);o[u>>2]=(o[u>>2]|0)+14;c=p;return}E=n<<16>>16;d=w<<16>>16;t=E;do{a=(ee(i[r+(t-E<<1)>>1]|0,d)|0)>>15;if((a|0)>32767){o[m>>2]=1;a=32767}b=r+(t<<1)|0;i[b>>1]=Wt(i[b>>1]|0,a&65535,m)|0;t=t+1|0}while((t&65535)<<16>>16!=40);Wr(e,s,r,l,f,o[u>>2]|0,m);o[u>>2]=(o[u>>2]|0)+14;if(!h){c=p;return}a=n<<16>>16;d=w<<16>>16;E=a;do{t=(ee(i[l+(E-a<<1)>>1]|0,d)|0)>>15;if((t|0)>32767){o[m>>2]=1;t=32767}b=l+(E<<1)|0;i[b>>1]=Wt(i[b>>1]|0,t&65535,m)|0;E=E+1|0}while((E&65535)<<16>>16!=40);c=p;return}}}function $r(e){e=e|0;var r=0;if(!e){e=-1;return e|0}o[e>>2]=0;r=xi(4)|0;if(!r){e=-1;return e|0}if(!((Zn(r)|0)<<16>>16)){Jn(o[r>>2]|0)|0;o[e>>2]=r;e=0;return e|0}else{Qn(r);Hi(r);e=-1;return e|0}return 0}function en(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Qn(r);Hi(o[e>>2]|0);o[e>>2]=0;return}function rn(e){e=e|0;if(!e){e=-1;return e|0}Jn(o[e>>2]|0)|0;e=0;return e|0}function nn(e,r,n,t,a,l,f,u,d,h,w,m,E,p,S,b,v,_,k,F){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;m=m|0;E=E|0;p=p|0;S=S|0;b=b|0;v=v|0;_=_|0;k=k|0;F=F|0;var M=0,g=0,R=0,y=0;g=c;c=c+16|0;y=g+2|0;R=g;i[E>>1]=$n(o[e>>2]|0,n,a,f,d,l,40,t,p,R,y,F)|0;e=i[y>>1]|0;t=o[v>>2]|0;o[v>>2]=t+2;i[t>>1]=e;ki(f,i[E>>1]|0,i[p>>1]|0,40,i[R>>1]|0,F);ln(f,l,m,40);i[S>>1]=Pn(n,d,m,b,40,F)|0;i[_>>1]=32767;if(h<<16>>16!=0?(M=i[S>>1]|0,M<<16>>16>15565):0)M=Ct(r,M,F)|0;else M=0;if(n>>>0<2){y=i[S>>1]|0;i[S>>1]=y<<16>>16>13926?13926:y;if(M<<16>>16)i[_>>1]=15565}else{if(M<<16>>16){i[_>>1]=15565;i[S>>1]=15565}if((n|0)==7){R=pt(7,i[_>>1]|0,S,0,0,k,F)|0;y=o[v>>2]|0;o[v>>2]=y+2;i[y>>1]=R}}E=i[S>>1]|0;M=0;while(1){R=ee(i[m>>1]|0,E)|0;i[w>>1]=(s[d>>1]|0)-(R>>>14);R=(ee(i[f>>1]|0,E)|0)>>>14;y=u+(M<<1)|0;i[y>>1]=(s[y>>1]|0)-R;M=M+1|0;if((M|0)==40)break;else{f=f+2|0;d=d+2|0;w=w+2|0;m=m+2|0}}c=g;return}function tn(e,r){e=e|0;r=r|0;var n=0,t=0,i=0,a=0;a=c;c=c+16|0;i=a;if(!e){e=-1;c=a;return e|0}o[e>>2]=0;n=xi(2532)|0;o[i>>2]=n;if(!n){e=-1;c=a;return e|0}ei(n+2392|0);o[n+2188>>2]=0;o[(o[i>>2]|0)+2192>>2]=0;o[(o[i>>2]|0)+2196>>2]=0;o[(o[i>>2]|0)+2200>>2]=0;o[(o[i>>2]|0)+2204>>2]=0;o[(o[i>>2]|0)+2208>>2]=0;o[(o[i>>2]|0)+2212>>2]=0;o[(o[i>>2]|0)+2220>>2]=0;t=o[i>>2]|0;o[t+2216>>2]=r;o[t+2528>>2]=0;n=t;if(((((((($r(t+2196|0)|0)<<16>>16==0?(di(t+2192|0)|0)<<16>>16==0:0)?(An(t+2200|0)|0)<<16>>16==0:0)?(nt(t+2204|0)|0)<<16>>16==0:0)?(Tt(t+2208|0)|0)<<16>>16==0:0)?(Bt(t+2212|0)|0)<<16>>16==0:0)?(hn(t+2220|0,o[t+2432>>2]|0)|0)<<16>>16==0:0)?(qn(t+2188|0)|0)<<16>>16==0:0){an(t)|0;o[e>>2]=n;e=0;c=a;return e|0}on(i);e=-1;c=a;return e|0}function on(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Vn(r+2188|0);wi((o[e>>2]|0)+2192|0);On((o[e>>2]|0)+2200|0);en((o[e>>2]|0)+2196|0);it((o[e>>2]|0)+2204|0);Nt((o[e>>2]|0)+2208|0);Ut((o[e>>2]|0)+2212|0);mn((o[e>>2]|0)+2220|0);Hi(o[e>>2]|0);o[e>>2]=0;return}function an(e){e=e|0;var r=0,n=0,t=0,a=0;if(!e){a=-1;return a|0}o[e+652>>2]=e+320;o[e+640>>2]=e+240;o[e+644>>2]=e+160;o[e+648>>2]=e+80;o[e+1264>>2]=e+942;o[e+1912>>2]=e+1590;t=e+1938|0;o[e+2020>>2]=t;o[e+2384>>2]=e+2304;r=e+2028|0;o[e+2024>>2]=e+2108;o[e+2528>>2]=0;Vi(e|0,0,640)|0;Vi(e+1282|0,0,308)|0;Vi(e+656|0,0,286)|0;n=e+2224|0;a=t+80|0;do{i[t>>1]=0;t=t+2|0}while((t|0)<(a|0));t=r;a=t+80|0;do{i[t>>1]=0;t=t+2|0}while((t|0)<(a|0));r=e+1268|0;t=n;a=t+80|0;do{i[t>>1]=0;t=t+2|0}while((t|0)<(a|0));i[r>>1]=40;i[e+1270>>1]=40;i[e+1272>>1]=40;i[e+1274>>1]=40;i[e+1276>>1]=40;Wn(o[e+2188>>2]|0)|0;hi(o[e+2192>>2]|0)|0;rn(o[e+2196>>2]|0)|0;Tn(o[e+2200>>2]|0)|0;tt(o[e+2204>>2]|0)|0;Dt(o[e+2208>>2]|0)|0;Lt(o[e+2212>>2]|0)|0;wn(o[e+2220>>2]|0,o[e+2432>>2]|0)|0;i[e+2388>>1]=0;a=0;return a|0}function sn(e,r,n,t,a,s){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;var l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0,W=0,X=0,G=0,Z=0,J=0,Q=0,$=0,ee=0,re=0,ne=0,te=0,ie=0,oe=0,ae=0,se=0,le=0,fe=0,ue=0,ce=0,de=0,he=0,we=0,me=0,Ee=0;Ee=c;c=c+1184|0;q=Ee;h=Ee+1096|0;w=Ee+1008|0;u=Ee+904|0;ue=Ee+928|0;ce=Ee+824|0;G=Ee+744|0;he=Ee+664|0;we=Ee+584|0;J=Ee+328|0;se=Ee+504|0;le=Ee+424|0;de=Ee+344|0;me=Ee+248|0;Z=Ee+168|0;te=Ee+88|0;oe=Ee+68|0;ae=Ee+48|0;ie=Ee+28|0;fe=Ee+24|0;re=Ee+22|0;$=Ee+20|0;X=Ee+16|0;V=Ee+12|0;W=Ee+10|0;ee=Ee+8|0;Q=Ee+6|0;ne=Ee+4|0;o[q>>2]=t;K=e+2528|0;l=e+652|0;Ki(o[l>>2]|0,n|0,320)|0;o[a>>2]=r;d=e+2216|0;if(!(o[d>>2]|0)){n=e+2220|0;t=0}else{t=jt(o[e+2212>>2]|0,o[l>>2]|0,K)|0;j=e+2220|0;n=j;t=Sn(o[j>>2]|0,t,a,K)|0}j=e+2392|0;Xn(o[e+2188>>2]|0,r,o[e+644>>2]|0,o[e+648>>2]|0,h,j,K);f=e+2192|0;mi(o[f>>2]|0,r,o[a>>2]|0,h,w,u,q,K);pn(o[n>>2]|0,u,o[l>>2]|0,K);if((o[a>>2]|0)==8){En(o[n>>2]|0,t,o[(o[f>>2]|0)+40>>2]|0,(o[e+2200>>2]|0)+32|0,q,K);Vi(e+1282|0,0,308)|0;l=e+2244|0;E=l+20|0;do{i[l>>1]=0;l=l+2|0}while((l|0)<(E|0));l=e+2284|0;E=l+20|0;do{i[l>>1]=0;l=l+2|0}while((l|0)<(E|0));l=o[e+2020>>2]|0;E=l+80|0;do{i[l>>1]=0;l=l+2|0}while((l|0)<(E|0));l=e+2028|0;E=l+80|0;do{i[l>>1]=0;l=l+2|0}while((l|0)<(E|0));hi(o[f>>2]|0)|0;l=o[f>>2]|0;n=u;E=l+20|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));l=(o[f>>2]|0)+20|0;n=u;E=l+20|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));rn(o[e+2196>>2]|0)|0;i[e+2388>>1]=0;Y=0}else Y=Pt(o[e+2208>>2]|0,o[f>>2]|0,K)|0;x=e+640|0;f=e+2264|0;l=e+1264|0;n=e+2204|0;t=e+2212|0;H=e+1268|0;z=e+1278|0;at(r,2842,2862,2882,h,0,o[x>>2]|0,f,o[l>>2]|0,K);if(r>>>0>1){Gn(o[n>>2]|0,o[t>>2]|0,r,o[l>>2]|0,X,H,z,0,o[d>>2]|0,K);at(r,2842,2862,2882,h,80,o[x>>2]|0,f,o[l>>2]|0,K);Gn(o[n>>2]|0,o[t>>2]|0,r,(o[l>>2]|0)+160|0,X+2|0,H,z,1,o[d>>2]|0,K)}else{at(r,2842,2862,2882,h,80,o[x>>2]|0,f,o[l>>2]|0,K);Gn(o[n>>2]|0,o[t>>2]|0,r,o[l>>2]|0,X,H,z,1,o[d>>2]|0,K);i[X+2>>1]=i[X>>1]|0}if(o[d>>2]|0)Yt(o[t>>2]|0,X,K);if((o[a>>2]|0)==8){we=e+656|0;me=e+976|0;Ki(we|0,me|0,286)|0;me=e+320|0;Ki(e|0,me|0,320)|0;c=Ee;return 0}g=e+2224|0;R=e+2244|0;y=e+2284|0;A=e+2388|0;O=e+2020|0;T=e+1916|0;D=e+1912|0;N=e+2024|0;P=e+2384|0;C=e+2196|0;I=e+2208|0;B=e+2464|0;L=e+2200|0;U=e+2224|0;k=e+2244|0;F=e+1270|0;M=e+1280|0;_=0;d=0;u=0;S=0;b=0;f=0;v=-1;while(1){m=v;v=v+1<<16>>16;S=1-(S<<16>>16)|0;t=S&65535;p=(S&65535|0)!=0;n=o[a>>2]|0;l=(n|0)==0;do if(p)if(l){l=oe;n=g;E=l+20|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));l=ae;n=R;E=l+20|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));l=ie;n=y;E=l+20|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));i[fe>>1]=i[A>>1]|0;r=(o[x>>2]|0)+(_<<1)|0;l=20;break}else{r=(o[x>>2]|0)+(_<<1)|0;l=19;break}else{r=(o[x>>2]|0)+(_<<1)|0;if(l)l=20;else l=19}while(0);if((l|0)==19)At(n,2842,2862,2882,h,w,r,y,k,o[O>>2]|0,T,(o[D>>2]|0)+(_<<1)|0,o[N>>2]|0,ue,se,o[P>>2]|0);else if((l|0)==20?(0,At(0,2842,2862,2882,h,w,r,y,ae,o[O>>2]|0,T,(o[D>>2]|0)+(_<<1)|0,o[N>>2]|0,ue,se,o[P>>2]|0),p):0){l=te;n=o[N>>2]|0;E=l+80|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0))}l=le;n=se;E=l+80|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));nn(o[C>>2]|0,o[I>>2]|0,o[a>>2]|0,b,X,o[N>>2]|0,(o[D>>2]|0)+(_<<1)|0,le,ue,Y,ce,he,V,W,ee,J,q,ne,o[B>>2]|0,K);switch(m<<16>>16){case-1:{if((i[z>>1]|0)>0)i[F>>1]=i[V>>1]|0;break}case 2:{if((i[M>>1]|0)>0)i[H>>1]=i[V>>1]|0;break}default:{}}Qr(ce,o[N>>2]|0,i[V>>1]|0,i[A>>1]|0,i[ee>>1]|0,le,G,we,q,o[a>>2]|0,v,j,K);Dn(o[L>>2]|0,o[a>>2]|0,se,(o[D>>2]|0)+(_<<1)|0,G,ue,ce,he,we,J,t,i[ne>>1]|0,re,$,ee,Q,q,j,K);It(o[I>>2]|0,i[ee>>1]|0,K);r=o[a>>2]|0;do if(!r)if(p){l=de;n=ue;E=l+80|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));l=me;n=we;E=l+80|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));l=Z;n=G;E=l+80|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));u=i[V>>1]|0;d=i[W>>1]|0;Ot(o[x>>2]|0,0,b,i[ee>>1]|0,i[Q>>1]|0,w,s,ue,G,he,we,oe,y,ae,o[D>>2]|0,A,K);i[A>>1]=i[fe>>1]|0;f=b;break}else{l=y;n=ie;E=l+20|0;do{i[l>>1]=i[n>>1]|0;l=l+2|0;n=n+2|0}while((l|0)<(E|0));p=f<<16>>16;ki((o[D>>2]|0)+(p<<1)|0,u,d,40,1,K);ln((o[D>>2]|0)+(p<<1)|0,te,he,40);Ot(o[x>>2]|0,o[a>>2]|0,f,i[re>>1]|0,i[$>>1]|0,w+-22|0,s,de,Z,he,me,U,y,k,o[D>>2]|0,fe,K);At(o[a>>2]|0,2842,2862,2882,h,w,(o[x>>2]|0)+(_<<1)|0,y,k,o[O>>2]|0,T,(o[D>>2]|0)+(_<<1)|0,o[N>>2]|0,ue,se,o[P>>2]|0);ki((o[D>>2]|0)+(_<<1)|0,i[V>>1]|0,i[W>>1]|0,40,1,K);ln((o[D>>2]|0)+(_<<1)|0,o[N>>2]|0,he,40);Ot(o[x>>2]|0,o[a>>2]|0,b,i[ee>>1]|0,i[Q>>1]|0,w,s,ue,G,he,we,U,y,k,o[D>>2]|0,A,K);break}else Ot(o[x>>2]|0,r,b,i[ee>>1]|0,i[Q>>1]|0,w,s,ue,G,he,we,U,y,k,o[D>>2]|0,A,K);while(0);r=_+40|0;b=r&65535;if(b<<16>>16>=160)break;else{_=r<<16>>16;h=h+22|0;w=w+22|0}}Ki(e+1282|0,e+1602|0,308)|0;we=e+656|0;me=e+976|0;Ki(we|0,me|0,286)|0;me=e+320|0;Ki(e|0,me|0,320)|0;c=Ee;return 0}function ln(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0;w=t<<16>>16;if(t<<16>>16>1)h=1;else return;while(1){o=i[e>>1]|0;l=r+(h+-1<<1)|0;t=ee(i[r+(h<<1)>>1]|0,o)|0;u=i[l>>1]|0;o=ee(u<<16>>16,o)|0;s=(h+131071|0)>>>1;f=s&65535;a=i[e+2>>1]|0;if(!(f<<16>>16)){r=l;s=u}else{c=(s<<1)+131070&131070;d=h-c|0;s=e;do{E=(ee(u<<16>>16,a)|0)+t|0;m=s;s=s+4|0;t=i[l+-2>>1]|0;a=(ee(t,a)|0)+o|0;o=i[s>>1]|0;l=l+-4|0;t=E+(ee(o,t)|0)|0;u=i[l>>1]|0;o=a+(ee(u<<16>>16,o)|0)|0;f=f+-1<<16>>16;a=i[m+6>>1]|0}while(f<<16>>16!=0);s=r+(d+-3<<1)|0;e=e+(c+2<<1)|0;r=s;s=i[s>>1]|0}t=(ee(s<<16>>16,a)|0)+t|0;i[n>>1]=o>>>12;i[n+2>>1]=t>>>12;t=(h<<16)+131072>>16;if((t|0)<(w|0)){n=n+4|0;e=e+(1-h<<1)|0;h=t}else break}return}function fn(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0;g=c;c=c+80|0;M=g;s=20;a=e;o=1;while(1){F=i[a>>1]|0;F=(ee(F,F)|0)+o|0;o=i[a+2>>1]|0;o=F+(ee(o,o)|0)|0;s=s+-1<<16>>16;if(!(s<<16>>16))break;else a=a+4|0}o=o<<1;if((o|0)<0){a=20;o=e;t=M;while(1){i[t>>1]=(i[o>>1]|0)>>>1;i[t+2>>1]=(i[o+2>>1]|0)>>>1;a=a+-1<<16>>16;if(!(a<<16>>16)){F=M;break}else{o=o+4|0;t=t+4|0}}}else{o=ai(o>>1,t)|0;if((o|0)<16777215)o=((o>>9)*32440|0)>>>15<<16>>16;else o=32440;s=20;a=e;t=M;while(1){i[t>>1]=((ee(i[a>>1]|0,o)|0)+32|0)>>>6;i[t+2>>1]=((ee(i[a+2>>1]|0,o)|0)+32|0)>>>6;s=s+-1<<16>>16;if(!(s<<16>>16)){F=M;break}else{a=a+4|0;t=t+4|0}}}s=20;a=F;t=n+3198|0;o=0;while(1){k=i[a>>1]|0;k=(ee(k,k)|0)+o|0;i[t>>1]=(k+16384|0)>>>15;_=i[a+2>>1]|0;o=(ee(_,_)|0)+k|0;i[t+-82>>1]=(o+16384|0)>>>15;s=s+-1<<16>>16;if(!(s<<16>>16))break;else{a=a+4|0;t=t+-164|0}}k=r+78|0;_=1;while(1){o=39-_|0;e=n+3120+(o<<1)|0;t=n+(o*80|0)+78|0;o=r+(o<<1)|0;f=M+(_<<1)|0;a=65575-_|0;l=a&65535;s=i[F>>1]|0;if(!(l<<16>>16)){l=k;a=0}else{p=a+65535&65535;b=p*41|0;v=(ee(_,-40)|0)-b|0;S=0-_|0;b=S-b|0;S=S-p|0;E=_+p|0;m=i[f>>1]|0;h=F;w=k;u=n+((38-_|0)*80|0)+78|0;a=0;d=0;while(1){f=f+2|0;a=(ee(m<<16>>16,s)|0)+a|0;h=h+2|0;m=i[f>>1]|0;d=(ee(m<<16>>16,s)|0)+d|0;y=o;o=o+-2|0;s=i[o>>1]|0;R=i[w>>1]<<1;y=(ee((ee(R,i[y>>1]|0)|0)>>16,(a<<1)+32768>>16)|0)>>>15&65535;i[t>>1]=y;i[e>>1]=y;s=(ee((ee(R,s)|0)>>16,(d<<1)+32768>>16)|0)>>>15&65535;i[e+-2>>1]=s;i[u>>1]=s;l=l+-1<<16>>16;s=i[h>>1]|0;if(!(l<<16>>16))break;else{w=w+-2|0;e=e+-82|0;t=t+-82|0;u=u+-82|0}}f=M+(E+1<<1)|0;l=r+(38-p<<1)|0;o=r+(S+38<<1)|0;e=n+3040+(b+38<<1)|0;t=n+3040+(v+38<<1)|0}y=(ee(i[f>>1]|0,s)|0)+a|0;y=(ee((y<<1)+32768>>16,(ee(i[l>>1]<<1,i[o>>1]|0)|0)>>16)|0)>>>15&65535;i[e>>1]=y;i[t>>1]=y;t=(_<<16)+131072|0;if((t|0)<2621440)_=t>>16;else break}c=g;return}function un(e,r,n,t,a,s,l){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;var f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0;p=c;c=c+160|0;E=p;if(a<<16>>16>0){w=s&65535;m=0;f=5;do{if((m|0)<40){h=m;d=m&65535;s=0;while(1){if(d<<16>>16<40){d=d<<16>>16;u=0;do{u=(ee(i[e+(d-h<<1)>>1]|0,i[r+(d<<1)>>1]|0)|0)+u|0;d=d+1|0}while((d&65535)<<16>>16!=40)}else u=0;u=u<<1;o[E+(h<<2)>>2]=u;u=Bn(u)|0;s=(u|0)>(s|0)?u:s;u=h+w|0;d=u&65535;if(d<<16>>16>=40)break;else h=u<<16>>16}}else s=0;f=(s>>1)+f|0;m=m+1|0}while((m&65535)<<16>>16!=a<<16>>16)}else f=5;t=((bi(f)|0)&65535)-(t&65535)|0;s=t<<16>>16;u=0-s<<16;f=(u|0)<2031616;u=u>>16;if((t&65535)<<16>>16>0)if(f){f=0;do{t=o[E+(f<<2)>>2]|0;r=t<<s;i[n+(f<<1)>>1]=Ni((r>>s|0)==(t|0)?r:t>>31^2147483647,l)|0;f=f+1|0}while((f|0)!=40);c=p;return}else{f=0;do{t=o[E+(f<<2)>>2]|0;r=t<<s;i[n+(f<<1)>>1]=Ni((r>>s|0)==(t|0)?r:t>>31^2147483647,l)|0;f=f+1|0}while((f|0)!=40);c=p;return}else if(f){f=0;do{i[n+(f<<1)>>1]=Ni(o[E+(f<<2)>>2]>>u,l)|0;f=f+1|0}while((f|0)!=40);c=p;return}else{f=0;do{i[n+(f<<1)>>1]=Ni(0,l)|0;f=f+1|0}while((f|0)!=40);c=p;return}}function cn(e,r,n,t,a){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;var s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0;g=c;c=c+160|0;M=g;_=e+2|0;k=i[e>>1]|0;F=0;a=5;do{v=F;f=0;while(1){h=r+(v<<1)|0;b=40-v|0;s=(b+131071|0)>>>1&65535;u=r+(v+1<<1)|0;l=ee(i[h>>1]<<1,k)|0;if(!(s<<16>>16))s=_;else{S=131111-v+131070&131070;p=v+S|0;E=_;m=e;w=h;while(1){d=w+4|0;h=m+4|0;l=(ee(i[u>>1]<<1,i[E>>1]|0)|0)+l|0;s=s+-1<<16>>16;l=(ee(i[d>>1]<<1,i[h>>1]|0)|0)+l|0;if(!(s<<16>>16))break;else{u=w+6|0;E=m+6|0;m=h;w=d}}u=r+(p+3<<1)|0;s=e+(S+3<<1)|0}if(!(b&1))l=(ee(i[u>>1]<<1,i[s>>1]|0)|0)+l|0;o[M+(v<<2)>>2]=l;l=(l|0)<0?0-l|0:l;f=(l|0)>(f|0)?l:f;l=v+5|0;if((l&65535)<<16>>16<40)v=l<<16>>16;else break}a=(f>>1)+a|0;F=F+1|0}while((F|0)!=5);t=((bi(a)|0)&65535)-(t&65535)|0;l=t<<16>>16;a=0-l<<16;f=a>>16;if((t&65535)<<16>>16>0){s=20;a=M;while(1){M=o[a>>2]|0;t=M<<l;i[n>>1]=(((t>>l|0)==(M|0)?t:M>>31^2147483647)+32768|0)>>>16;M=o[a+4>>2]|0;t=M<<l;i[n+2>>1]=(((t>>l|0)==(M|0)?t:M>>31^2147483647)+32768|0)>>>16;s=s+-1<<16>>16;if(!(s<<16>>16))break;else{n=n+4|0;a=a+8|0}}c=g;return}if((a|0)<2031616){s=20;a=M;while(1){i[n>>1]=((o[a>>2]>>f)+32768|0)>>>16;i[n+2>>1]=((o[a+4>>2]>>f)+32768|0)>>>16;s=s+-1<<16>>16;if(!(s<<16>>16))break;else{n=n+4|0;a=a+8|0}}c=g;return}else{i[n>>1]=0;M=n+4|0;i[n+2>>1]=0;i[M>>1]=0;t=M+4|0;i[M+2>>1]=0;i[t>>1]=0;M=t+4|0;i[t+2>>1]=0;i[M>>1]=0;t=M+4|0;i[M+2>>1]=0;i[t>>1]=0;M=t+4|0;i[t+2>>1]=0;i[M>>1]=0;t=M+4|0;i[M+2>>1]=0;i[t>>1]=0;M=t+4|0;i[t+2>>1]=0;i[M>>1]=0;t=M+4|0;i[M+2>>1]=0;i[t>>1]=0;M=t+4|0;i[t+2>>1]=0;i[M>>1]=0;t=M+4|0;i[M+2>>1]=0;i[t>>1]=0;M=t+4|0;i[t+2>>1]=0;i[M>>1]=0;t=M+4|0;i[M+2>>1]=0;i[t>>1]=0;M=t+4|0;i[t+2>>1]=0;i[M>>1]=0;t=M+4|0;i[M+2>>1]=0;i[t>>1]=0;M=t+4|0;i[t+2>>1]=0;i[M>>1]=0;t=M+4|0;i[M+2>>1]=0;i[t>>1]=0;M=t+4|0;i[t+2>>1]=0;i[M>>1]=0;t=M+4|0;i[M+2>>1]=0;i[t>>1]=0;M=t+4|0;i[t+2>>1]=0;i[M>>1]=0;i[M+2>>1]=0;c=g;return}}function dn(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var i=0,a=0,s=0;s=(Gt(16383,r)|0)<<16>>16;r=ee(s,r<<16>>16)|0;if((r|0)==1073741824){o[t>>2]=1;i=2147483647}else i=r<<1;a=(ee(s,n<<16>>16)|0)>>15;r=i+(a<<1)|0;if((i^a|0)>0&(r^i|0)<0){o[t>>2]=1;r=(i>>>31)+2147483647|0}i=2147483647-r|0;n=i>>16;r=ee(n,s)|0;if((r|0)==1073741824){o[t>>2]=1;a=2147483647}else a=r<<1;s=(ee((i>>>1)-(n<<15)<<16>>16,s)|0)>>15;r=a+(s<<1)|0;if((a^s|0)>0&(r^a|0)<0){o[t>>2]=1;r=(a>>>31)+2147483647|0}a=r>>16;s=e>>16;n=ee(a,s)|0;n=(n|0)==1073741824?2147483647:n<<1;i=(ee((r>>>1)-(a<<15)<<16>>16,s)|0)>>15;t=(i<<1)+n|0;t=(i^n|0)>0&(t^n|0)<0?(n>>>31)+2147483647|0:t;s=(ee(a,(e>>>1)-(s<<15)<<16>>16)|0)>>15;e=t+(s<<1)|0;e=(t^s|0)>0&(e^t|0)<0?(t>>>31)+2147483647|0:e;t=e<<2;return((t>>2|0)==(e|0)?t:e>>31^2147483647)|0}function hn(e,r){e=e|0;r=r|0;var n=0,t=0,a=0,s=0;if(!e){s=-1;return s|0}o[e>>2]=0;n=xi(192)|0;if(!n){s=-1;return s|0}t=n+176|0;i[t>>1]=0;i[t+2>>1]=0;i[t+4>>1]=0;i[t+6>>1]=0;i[t+8>>1]=0;i[t+10>>1]=0;t=n;a=r;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));t=n+20|0;a=r;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));t=n+40|0;a=r;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));t=n+60|0;a=r;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));t=n+80|0;a=r;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));t=n+100|0;a=r;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));t=n+120|0;a=r;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));t=n+140|0;a=r;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));t=n+160|0;s=t+20|0;do{i[t>>1]=0;t=t+2|0}while((t|0)<(s|0));i[n+188>>1]=7;i[n+190>>1]=32767;o[e>>2]=n;s=0;return s|0}function wn(e,r){e=e|0;r=r|0;var n=0,t=0,o=0;if(!e){o=-1;return o|0}n=e+176|0;i[n>>1]=0;i[n+2>>1]=0;i[n+4>>1]=0;i[n+6>>1]=0;i[n+8>>1]=0;i[n+10>>1]=0;n=e;t=r;o=n+20|0;do{i[n>>1]=i[t>>1]|0;n=n+2|0;t=t+2|0}while((n|0)<(o|0));n=e+20|0;t=r;o=n+20|0;do{i[n>>1]=i[t>>1]|0;n=n+2|0;t=t+2|0}while((n|0)<(o|0));n=e+40|0;t=r;o=n+20|0;do{i[n>>1]=i[t>>1]|0;n=n+2|0;t=t+2|0}while((n|0)<(o|0));n=e+60|0;t=r;o=n+20|0;do{i[n>>1]=i[t>>1]|0;n=n+2|0;t=t+2|0}while((n|0)<(o|0));n=e+80|0;t=r;o=n+20|0;do{i[n>>1]=i[t>>1]|0;n=n+2|0;t=t+2|0}while((n|0)<(o|0));n=e+100|0;t=r;o=n+20|0;do{i[n>>1]=i[t>>1]|0;n=n+2|0;t=t+2|0}while((n|0)<(o|0));n=e+120|0;t=r;o=n+20|0;do{i[n>>1]=i[t>>1]|0;n=n+2|0;t=t+2|0}while((n|0)<(o|0));n=e+140|0;t=r;o=n+20|0;do{i[n>>1]=i[t>>1]|0;n=n+2|0;t=t+2|0}while((n|0)<(o|0));n=e+160|0;o=n+20|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(o|0));i[e+188>>1]=7;i[e+190>>1]=32767;o=1;return o|0}function mn(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function En(e,r,n,t,a,s){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;var l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0;A=c;c=c+112|0;g=A+80|0;R=A+60|0;y=A+40|0;M=A;if(r<<16>>16==0?(l=e+178|0,(i[l>>1]|0)!=0):0){y=e+180|0;s=e+182|0;n=l;y=i[y>>1]|0;t=o[a>>2]|0;R=t+2|0;i[t>>1]=y;s=i[s>>1]|0;y=t+4|0;i[R>>1]=s;R=e+184|0;R=i[R>>1]|0;s=t+6|0;i[y>>1]=R;y=e+186|0;y=i[y>>1]|0;e=t+8|0;i[s>>1]=y;n=i[n>>1]|0;t=t+10|0;o[a>>2]=t;i[e>>1]=n;c=A;return}S=M+36|0;b=M+32|0;v=M+28|0;_=M+24|0;k=M+20|0;F=M+16|0;m=M+12|0;E=M+8|0;p=M+4|0;r=M;l=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(l|0));w=7;r=0;while(1){h=i[e+160+(w<<1)>>1]|0;l=h<<16>>16;if(h<<16>>16<0)l=~((l^-4)>>2);else l=l>>>2;r=Wt(r,l&65535,s)|0;u=w*10|0;h=9;while(1){d=M+(h<<2)|0;f=o[d>>2]|0;O=i[e+(h+u<<1)>>1]|0;l=O+f|0;if((O^f|0)>-1&(l^f|0)<0){o[s>>2]=1;l=(f>>>31)+2147483647|0}o[d>>2]=l;if((h|0)>0)h=h+-1|0;else break}if((w|0)>0)w=w+-1|0;else break}l=r<<16>>16;if(r<<16>>16<0)l=~((l^-2)>>1);else l=l>>>1;i[R+18>>1]=(o[S>>2]|0)>>>3;i[R+16>>1]=(o[b>>2]|0)>>>3;i[R+14>>1]=(o[v>>2]|0)>>>3;i[R+12>>1]=(o[_>>2]|0)>>>3;i[R+10>>1]=(o[k>>2]|0)>>>3;i[R+8>>1]=(o[F>>2]|0)>>>3;i[R+6>>1]=(o[m>>2]|0)>>>3;i[R+4>>1]=(o[E>>2]|0)>>>3;i[R+2>>1]=(o[p>>2]|0)>>>3;i[R>>1]=(o[M>>2]|0)>>>3;r=e+178|0;l=(((l<<16)+167772160|0)>>>16)+128|0;i[r>>1]=l;l=l<<16;if((l|0)<0)l=~((l>>16^-256)>>8);else l=l>>24;i[r>>1]=l;if((l|0)<=63){if((l|0)<0){i[r>>1]=0;l=0}}else{i[r>>1]=63;l=63}O=Bi(l<<8&65535,11560,s)|0;O=O<<16>>16>0?0:O<<16>>16<-14436?-14436:O;i[t>>1]=O;i[t+2>>1]=O;i[t+4>>1]=O;i[t+6>>1]=O;O=((O<<16>>16)*5443|0)>>>15&65535;i[t+8>>1]=O;i[t+10>>1]=O;i[t+12>>1]=O;i[t+14>>1]=O;pi(R,g,10,s);Ti(g,205,10,s);Ei(g,R,10,s);t=e+182|0;O=e+180|0;Fi(n,8,R,y,t,O,s);s=t;t=r;O=i[O>>1]|0;n=o[a>>2]|0;y=n+2|0;i[n>>1]=O;s=i[s>>1]|0;O=n+4|0;i[y>>1]=s;y=e+184|0;y=i[y>>1]|0;s=n+6|0;i[O>>1]=y;e=e+186|0;e=i[e>>1]|0;O=n+8|0;i[s>>1]=e;e=i[t>>1]|0;n=n+10|0;o[a>>2]=n;i[O>>1]=e;c=A;return}function pn(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0,l=0,f=0,u=0,d=0,h=0;h=c;c=c+16|0;f=h+2|0;d=h;u=e+176|0;l=(s[u>>1]|0)+1|0;l=(l&65535|0)==8?0:l&65535;i[u>>1]=l;l=e+((l<<16>>16)*10<<1)|0;a=l+20|0;do{i[l>>1]=i[r>>1]|0;l=l+2|0;r=r+2|0}while((l|0)<(a|0));r=0;a=160;while(1){l=i[n>>1]|0;r=(ee(l<<1,l)|0)+r|0;if((r|0)<0){r=2147483647;break}a=a+-1<<16>>16;if(!(a<<16>>16))break;else n=n+2|0}si(r,f,d,t);r=i[f>>1]|0;f=r<<16>>16;n=f<<10;if((n|0)!=(f<<26>>16|0)){o[t>>2]=1;n=r<<16>>16>0?32767:-32768}i[e+160+(i[u>>1]<<1)>>1]=(((i[d>>1]|0)>>>5)+n<<16)+-558432256>>17;c=h;return}function Sn(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0,s=0,l=0;s=e+190|0;l=Wt(i[s>>1]|0,1,t)|0;i[s>>1]=l;a=e+188|0;do if(!(r<<16>>16)){e=i[a>>1]|0;if(!(e<<16>>16)){i[s>>1]=0;o[n>>2]=8;e=1;break}s=(e&65535)+65535&65535;i[a>>1]=s;if((Wt(l,s,t)|0)<<16>>16<30){o[n>>2]=8;e=0}else e=0}else{i[a>>1]=7;e=0}while(0);return e|0}function bn(e,r,n,t,i,o,a,s){e=e|0;r=r|0;n=n|0;t=t|0;i=i|0;o=o|0;a=a|0;s=s|0;if(!(o<<16>>16)){o=e<<16>>16;if(((o<<16)+-5570560|0)<65536){r=(o*3|0)+-58+(r<<16>>16)|0;r=r&65535;return r|0}else{r=o+112|0;r=r&65535;return r|0}}if(!(a<<16>>16)){s=(e&65535)-(t&65535)<<16;r=(r<<16>>16)+2+(s>>15)+(s>>16)|0;r=r&65535;return r|0}t=t<<16>>16;t=(((n&65535)-t<<16)+-327680|0)>0?t+5&65535:n;i=i<<16>>16;n=e<<16>>16;t=(((i-(t&65535)<<16)+-262144|0)>0?i+65532&65535:t)<<16>>16;i=t*196608|0;e=i+-393216>>16;o=((r&65535)<<16)+(n*196608|0)>>16;if(!(e-o&32768)){r=n+5-t|0;r=r&65535;return r|0}if((i+196608>>16|0)>(o|0)){r=o+3-e|0;r=r&65535;return r|0}else{r=n+11-t|0;r=r&65535;return r|0}return 0}function vn(e,r,n,t,i){e=e|0;r=r|0;n=n|0;t=t|0;i=i|0;i=e<<16>>16;do if(!(t<<16>>16))if(e<<16>>16<95){i=((i*393216|0)+-6881280>>16)+(r<<16>>16)|0;break}else{i=i+368|0;break}else i=((((i-(n&65535)|0)*393216|0)+196608|0)>>>16)+(r&65535)|0;while(0);return i&65535|0}function _n(e,r,n,a){e=e|0;r=r|0;n=n|0;a=a|0;var l=0,f=0,u=0,c=0,d=0,h=0;l=o[a+96>>2]|0;if(e>>>0<8){d=(o[a+100>>2]|0)+(e<<2)|0;c=o[d>>2]|0;t[n>>0]=i[r+(i[c>>1]<<1)>>1]<<4|e|i[r+(i[c+2>>1]<<1)>>1]<<5|i[r+(i[c+4>>1]<<1)>>1]<<6|i[r+(i[c+6>>1]<<1)>>1]<<7;c=l+(e<<1)|0;a=i[c>>1]|0;if((a+-7|0)>4){l=4;u=4;e=1;while(1){h=i[r+(i[(o[d>>2]|0)+(l<<1)>>1]<<1)>>1]|0;a=n+(e<<16>>16)|0;t[a>>0]=h;h=s[r+(i[(o[d>>2]|0)+((u|1)<<16>>16<<1)>>1]<<1)>>1]<<1|h&65535;t[a>>0]=h;h=s[r+(i[(o[d>>2]|0)+((u|2)<<16>>16<<1)>>1]<<1)>>1]<<2|h;t[a>>0]=h;h=s[r+(i[(o[d>>2]|0)+((u|3)<<16>>16<<1)>>1]<<1)>>1]<<3|h;t[a>>0]=h;h=s[r+(i[(o[d>>2]|0)+(u+4<<16>>16<<16>>16<<1)>>1]<<1)>>1]<<4|h;t[a>>0]=h;h=s[r+(i[(o[d>>2]|0)+(u+5<<16>>16<<16>>16<<1)>>1]<<1)>>1]<<5|h;t[a>>0]=h;h=s[r+(i[(o[d>>2]|0)+(u+6<<16>>16<<16>>16<<1)>>1]<<1)>>1]<<6|h;t[a>>0]=h;f=u+8<<16>>16;e=e+1<<16>>16;t[a>>0]=s[r+(i[(o[d>>2]|0)+(u+7<<16>>16<<16>>16<<1)>>1]<<1)>>1]<<7|h;l=f<<16>>16;a=i[c>>1]|0;if((l|0)>=(a+-7|0))break;else u=f}}else{f=4;e=1}c=a+4&7;if(!c)return;l=n+(e<<16>>16)|0;t[l>>0]=0;a=0;u=0;e=0;while(1){u=(s[r+(i[(o[d>>2]|0)+(f<<16>>16<<1)>>1]<<1)>>1]&255)<<a|u&255;t[l>>0]=u;e=e+1<<16>>16;a=e<<16>>16;if((a|0)>=(c|0))break;else f=f+1<<16>>16}return}if((e|0)==15){t[n>>0]=15;return}t[n>>0]=i[r>>1]<<4|e|i[r+2>>1]<<5|i[r+4>>1]<<6|i[r+6>>1]<<7;a=l+(e<<1)|0;e=i[a>>1]|0;l=((e&65535)<<16)+262144>>16;d=l&-8;u=(d+524281|0)>>>3&65535;if(u<<16>>16>0){l=((l&-8)+524281|0)>>>3;c=((l<<3)+524280&524280)+12|0;f=1;e=r+8|0;while(1){t[n+(f<<16>>16)>>0]=s[e+2>>1]<<1|s[e>>1]|s[e+4>>1]<<2|s[e+6>>1]<<3|s[e+8>>1]<<4|s[e+10>>1]<<5|s[e+12>>1]<<6|s[e+14>>1]<<7;if(u<<16>>16>1){u=u+-1<<16>>16;f=f+1<<16>>16;e=e+16|0}else break}e=i[a>>1]|0;f=(l<<16)+65536>>16}else{c=4;f=1}e=(0-d|4)+(e&65535)<<16;u=e>>16;if(!u)return;f=n+f|0;t[f>>0]=0;if((e|0)>0){e=0;l=0;a=0}else return;do{l=l&255|i[r+(c+e<<1)>>1]<<e;t[f>>0]=l;a=a+1<<16>>16;e=a<<16>>16}while((e|0)<(u|0));return}function kn(e,r,n,a){e=e|0;r=r|0;n=n|0;a=a|0;var l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0;w=o[a+100>>2]|0;h=o[a+96>>2]|0;t[n>>0]=e&15;h=h+(e<<1)|0;l=i[h>>1]|0;if(e>>>0>=8){c=((l&65535)<<16)+-458752|0;if((c|0)>0){d=1;u=r;while(1){r=u+16|0;a=d+1<<16>>16;t[n+(d<<16>>16)>>0]=s[u+14>>1]|s[u+12>>1]<<1|((s[u+2>>1]<<6|s[u>>1]<<7|s[u+4>>1]<<5|s[u+6>>1]<<4)&240|s[u+8>>1]<<3|s[u+10>>1]<<2)&252;c=c+-524288&-65536;if((c|0)<=0)break;else{d=a;u=r}}l=i[h>>1]|0}else a=1;d=l&7;l=n+(a<<16>>16)|0;t[l>>0]=0;if(!d)return;else{f=0;u=0;c=0;a=r}while(1){u=u&255|i[a>>1]<<7-f;t[l>>0]=u;c=c+1<<16>>16;f=c<<16>>16;if((f|0)>=(d|0))break;else a=a+2|0}return}u=l<<16>>16;if(l<<16>>16>7){l=w+(e<<2)|0;a=0;d=0;f=1;while(1){m=s[r+(i[(o[l>>2]|0)+(a<<1)>>1]<<1)>>1]<<7;u=n+(f<<16>>16)|0;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|1)<<16>>16<<1)>>1]<<1)>>1]<<6|m;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|2)<<16>>16<<1)>>1]<<1)>>1]<<5|m;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|3)<<16>>16<<1)>>1]<<1)>>1]<<4|m;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|4)<<16>>16<<1)>>1]<<1)>>1]<<3|m&240;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|5)<<16>>16<<1)>>1]<<1)>>1]<<2|m;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|6)<<16>>16<<1)>>1]<<1)>>1]<<1|m;t[u>>0]=m;c=d+8<<16>>16;f=f+1<<16>>16;t[u>>0]=m&254|s[r+(i[(o[l>>2]|0)+((d|7)<<16>>16<<1)>>1]<<1)>>1];a=c<<16>>16;u=i[h>>1]|0;if((a|0)>=(u+-7|0))break;else d=c}}else{c=0;f=1}h=u&7;d=n+(f<<16>>16)|0;t[d>>0]=0;if(!h)return;f=w+(e<<2)|0;l=0;a=0;u=0;while(1){a=(s[r+(i[(o[f>>2]|0)+(c<<16>>16<<1)>>1]<<1)>>1]&255)<<7-l|a&255;t[d>>0]=a;u=u+1<<16>>16;l=u<<16>>16;if((l|0)>=(h|0))break;else c=c+1<<16>>16}return}function Fn(e,r,n,a){e=e|0;r=r|0;n=n|0;a=a|0;var l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0;w=o[a+100>>2]|0;h=o[a+96>>2]|0;t[n>>0]=e<<3;h=h+(e<<1)|0;l=i[h>>1]|0;if(e>>>0>=8){c=((l&65535)<<16)+-458752|0;if((c|0)>0){d=1;u=r;while(1){r=u+16|0;a=d+1<<16>>16;t[n+(d<<16>>16)>>0]=s[u+14>>1]|s[u+12>>1]<<1|((s[u+2>>1]<<6|s[u>>1]<<7|s[u+4>>1]<<5|s[u+6>>1]<<4)&240|s[u+8>>1]<<3|s[u+10>>1]<<2)&252;c=c+-524288&-65536;if((c|0)<=0)break;else{d=a;u=r}}l=i[h>>1]|0}else a=1;d=l&7;l=n+(a<<16>>16)|0;t[l>>0]=0;if(!d)return;else{f=0;u=0;c=0;a=r}while(1){u=u&255|i[a>>1]<<7-f;t[l>>0]=u;c=c+1<<16>>16;f=c<<16>>16;if((f|0)>=(d|0))break;else a=a+2|0}return}u=l<<16>>16;if(l<<16>>16>7){l=w+(e<<2)|0;a=0;d=0;f=1;while(1){m=s[r+(i[(o[l>>2]|0)+(a<<1)>>1]<<1)>>1]<<7;u=n+(f<<16>>16)|0;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|1)<<16>>16<<1)>>1]<<1)>>1]<<6|m;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|2)<<16>>16<<1)>>1]<<1)>>1]<<5|m;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|3)<<16>>16<<1)>>1]<<1)>>1]<<4|m;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|4)<<16>>16<<1)>>1]<<1)>>1]<<3|m&240;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|5)<<16>>16<<1)>>1]<<1)>>1]<<2|m;t[u>>0]=m;m=s[r+(i[(o[l>>2]|0)+((d|6)<<16>>16<<1)>>1]<<1)>>1]<<1|m;t[u>>0]=m;c=d+8<<16>>16;f=f+1<<16>>16;t[u>>0]=m&254|s[r+(i[(o[l>>2]|0)+((d|7)<<16>>16<<1)>>1]<<1)>>1];a=c<<16>>16;u=i[h>>1]|0;if((a|0)>=(u+-7|0))break;else d=c}}else{c=0;f=1}h=u&7;d=n+(f<<16>>16)|0;t[d>>0]=0;if(!h)return;f=w+(e<<2)|0;l=0;a=0;u=0;while(1){a=(s[r+(i[(o[f>>2]|0)+(c<<16>>16<<1)>>1]<<1)>>1]&255)<<7-l|a&255;t[d>>0]=a;u=u+1<<16>>16;l=u<<16>>16;if((l|0)>=(h|0))break;else c=c+1<<16>>16}return}function Mn(e){e=e|0;var r=0;if(!e){e=-1;return e|0}o[e>>2]=0;r=xi(16)|0;if(!r){e=-1;return e|0}i[r>>1]=0;i[r+2>>1]=0;i[r+4>>1]=0;i[r+6>>1]=0;i[r+8>>1]=0;i[r+10>>1]=0;i[r+12>>1]=0;i[r+14>>1]=0;o[e>>2]=r;e=0;return e|0}function gn(e){e=e|0;if(!e){e=-1;return e|0}i[e>>1]=0;i[e+2>>1]=0;i[e+4>>1]=0;i[e+6>>1]=0;i[e+8>>1]=0;i[e+10>>1]=0;i[e+12>>1]=0;i[e+14>>1]=0;e=0;return e|0}function Rn(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function yn(e,r,n,t,a){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;var s=0,l=0,f=0,u=0,c=0;f=r<<16>>16<2722?0:r<<16>>16<5444?1:2;l=Ci(n,1,a)|0;c=e+4|0;if(!(n<<16>>16>200?l<<16>>16>(i[c>>1]|0):0)){l=i[e>>1]|0;if(l<<16>>16){s=l+-1<<16>>16;i[e>>1]=s;s=s<<16>>16!=0;u=5}}else{i[e>>1]=8;s=1;u=5}if((u|0)==5)if((f&65535)<2&s)f=(f&65535)+1&65535;u=e+6|0;i[u>>1]=r;s=ri(u,5)|0;if(!(f<<16>>16!=0|s<<16>>16>5443))if(s<<16>>16<0)s=16384;else{s=s<<16>>16;s=(((s<<18>>18|0)==(s|0)?s<<2:s>>>15^32767)<<16>>16)*24660>>15;if((s|0)>32767){o[a>>2]=1;s=32767}s=16384-s&65535}else s=0;l=e+2|0;if(!(i[l>>1]|0))s=Pi(s,1,a)|0;i[t>>1]=s;i[l>>1]=s;i[c>>1]=n;t=e+12|0;i[e+14>>1]=i[t>>1]|0;n=e+10|0;i[t>>1]=i[n>>1]|0;e=e+8|0;i[n>>1]=i[e>>1]|0;i[e>>1]=i[u>>1]|0;return}function An(e){e=e|0;var r=0,n=0,t=0,a=0,s=0,l=0;if(!e){e=-1;return e|0}o[e>>2]=0;r=xi(68)|0;t=r;if(!r){e=-1;return e|0}o[r+28>>2]=0;a=r+64|0;o[a>>2]=0;s=r+32|0;if(((Zt(s)|0)<<16>>16==0?(l=r+48|0,(Zt(l)|0)<<16>>16==0):0)?(Mn(a)|0)<<16>>16==0:0){n=r+32|0;do{i[r>>1]=0;r=r+2|0}while((r|0)<(n|0));Zt(s)|0;Zt(l)|0;gn(o[a>>2]|0)|0;o[e>>2]=t;e=0;return e|0}Rn(a);Hi(r);e=-1;return e|0}function On(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Rn(r+64|0);Hi(o[e>>2]|0);o[e>>2]=0;return}function Tn(e){e=e|0;var r=0,n=0,t=0;if(!e){t=-1;return t|0}r=e+32|0;n=e;t=n+32|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));Zt(r)|0;Zt(e+48|0)|0;gn(o[e+64>>2]|0)|0;t=0;return t|0}function Dn(e,r,n,t,a,l,f,u,d,h,w,m,E,p,S,b,v,_,k){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;m=m|0;E=E|0;p=p|0;S=S|0;b=b|0;v=v|0;_=_|0;k=k|0;var F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0;P=c;c=c+48|0;M=P+34|0;R=P+32|0;A=P+30|0;y=P+28|0;g=P+18|0;F=P+8|0;O=P+6|0;T=P+4|0;D=P+2|0;N=P;if(r){w=e+32|0;Jt(w,r,a,M,R,O,T,k);do if((r|0)!=7){Zr(r,l,f,u,d,h,g,F,N,D,k);if((r|0)==5){mt(o[e+64>>2]|0,n,t,a,g,F,i[O>>1]|0,i[T>>1]|0,i[M>>1]|0,i[R>>1]|0,40,i[N>>1]|0,i[D>>1]|0,m,S,b,A,y,v,_,k);break}else{e=St(r,i[M>>1]|0,i[R>>1]|0,g,F,m,S,b,A,y,_,k)|0;l=o[v>>2]|0;o[v>>2]=l+2;i[l>>1]=e;break}}else{i[b>>1]=Nn(f,d,k)|0;e=Et(7,i[M>>1]|0,i[R>>1]|0,b,A,y,o[_+68>>2]|0,k)|0;l=o[v>>2]|0;o[v>>2]=l+2;i[l>>1]=e}while(0);Qt(w,i[A>>1]|0,i[y>>1]|0);c=P;return}if(!(w<<16>>16)){Jt(e+48|0,0,a,M,R,O,T,k);Zr(0,l,f,u,d,h,g,F,N,D,k);Jr(l,O,T,k);l=ht(e+32|0,i[e>>1]|0,i[e+2>>1]|0,e+8|0,e+18|0,i[e+4>>1]|0,i[e+6>>1]|0,a,i[M>>1]|0,i[R>>1]|0,F,g,i[O>>1]|0,i[T>>1]|0,m,E,p,S,b,k)|0;i[o[e+28>>2]>>1]=l;c=P;return}w=o[v>>2]|0;o[v>>2]=w+2;o[e+28>>2]=w;w=e+48|0;n=e+32|0;E=n;E=s[E>>1]|s[E+2>>1]<<16;n=n+4|0;n=s[n>>1]|s[n+2>>1]<<16;v=w;p=v;i[p>>1]=E;i[p+2>>1]=E>>>16;v=v+4|0;i[v>>1]=n;i[v+2>>1]=n>>>16;v=e+40|0;n=v;n=s[n>>1]|s[n+2>>1]<<16;v=v+4|0;v=s[v>>1]|s[v+2>>1]<<16;p=e+56|0;E=p;i[E>>1]=n;i[E+2>>1]=n>>>16;p=p+4|0;i[p>>1]=v;i[p+2>>1]=v>>>16;p=e+2|0;Jt(w,0,a,e,p,O,T,k);Zr(0,l,f,u,d,h,e+18|0,e+8|0,N,D,k);u=(s[D>>1]|0)+1|0;v=i[N>>1]|0;E=u<<16>>16;if((u&65535)<<16>>16<0){_=0-E<<16;if((_|0)<983040)_=v<<16>>16>>(_>>16)&65535;else _=0}else{v=v<<16>>16;_=v<<E;if((_<<16>>16>>E|0)==(v|0))_=_&65535;else _=(v>>>15^32767)&65535}i[b>>1]=_;Jr(l,e+4|0,e+6|0,k);dt(w,i[e>>1]|0,i[p>>1]|0,i[D>>1]|0,i[N>>1]|0,k);c=P;return}function Nn(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,o=0,a=0;o=10;n=e;t=r;e=0;while(1){e=(ee(i[t>>1]>>1,i[n>>1]|0)|0)+e|0;e=e+(ee(i[t+2>>1]>>1,i[n+2>>1]|0)|0)|0;e=e+(ee(i[t+4>>1]>>1,i[n+4>>1]|0)|0)|0;e=e+(ee(i[t+6>>1]>>1,i[n+6>>1]|0)|0)|0;o=o+-1<<16>>16;if(!(o<<16>>16))break;else{n=n+8|0;t=t+8|0}}n=e<<1;o=bi(n|1)|0;a=o<<16>>16;n=(o<<16>>16<17?n>>17-a:n<<a+-17)&65535;if(n<<16>>16<1){r=0;return r|0}else{o=20;t=r;e=0}while(1){r=i[t>>1]>>1;r=((ee(r,r)|0)>>>2)+e|0;e=i[t+2>>1]>>1;e=r+((ee(e,e)|0)>>>2)|0;o=o+-1<<16>>16;if(!(o<<16>>16))break;else t=t+4|0}e=e<<3;o=bi(e)|0;r=o<<16>>16;n=Gt(n,(o<<16>>16<16?e>>16-r:e<<r+-16)&65535)|0;r=(a<<16)+327680-(r<<16)|0;e=r>>16;if((r|0)>65536)e=n<<16>>16>>e+-1;else e=n<<16>>16<<1-e;r=e&65535;return r|0}function Pn(e,r,n,t,a,s){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;var l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0,p=0;o[s>>2]=0;d=a<<16>>16;u=d>>>2&65535;w=u<<16>>16==0;if(w)f=0;else{c=u;l=n;f=0;while(1){m=i[l>>1]|0;m=(ee(m,m)|0)+f|0;f=i[l+2>>1]|0;f=m+(ee(f,f)|0)|0;m=i[l+4>>1]|0;m=f+(ee(m,m)|0)|0;f=i[l+6>>1]|0;f=m+(ee(f,f)|0)|0;c=c+-1<<16>>16;if(!(c<<16>>16))break;else l=l+8|0}}if(!((f>>>31^1)&(f|0)<1073741824)){f=d>>>1&65535;if(!(f<<16>>16))f=1;else{l=f;c=n;f=0;while(1){m=i[c>>1]>>2;m=(ee(m,m)|0)+f|0;f=i[c+2>>1]>>2;f=m+(ee(f,f)|0)|0;l=l+-1<<16>>16;if(!(l<<16>>16))break;else c=c+4|0}f=f<<1|1}m=(bi(f)|0)<<16>>16;h=m+65532&65535;m=Ni(f<<m,s)|0}else{d=f<<1|1;m=bi(d)|0;h=m;m=Ni(d<<(m<<16>>16),s)|0}o[s>>2]=0;do if(!(a<<16>>16)){f=1;E=14}else{d=a;c=r;f=n;a=0;while(1){p=ee(i[f>>1]|0,i[c>>1]|0)|0;l=p+a|0;if((p^a|0)>0&(l^a|0)<0)break;d=d+-1<<16>>16;if(!(d<<16>>16)){E=13;break}else{c=c+2|0;f=f+2|0;a=l}}if((E|0)==13){f=l<<1|1;E=14;break}o[s>>2]=1;if(w)f=1;else{f=r;l=0;while(1){l=(ee(i[n>>1]>>2,i[f>>1]|0)|0)+l|0;l=l+(ee(i[n+2>>1]>>2,i[f+2>>1]|0)|0)|0;l=l+(ee(i[n+4>>1]>>2,i[f+4>>1]|0)|0)|0;l=l+(ee(i[n+6>>1]>>2,i[f+6>>1]|0)|0)|0;u=u+-1<<16>>16;if(!(u<<16>>16))break;else{f=f+8|0;n=n+8|0}}f=l<<1|1}n=(bi(f)|0)<<16>>16;l=n+65532&65535;n=Ni(f<<n,s)|0}while(0);if((E|0)==14){n=bi(f)|0;l=n;n=Ni(f<<(n<<16>>16),s)|0}i[t>>1]=m;f=h<<16>>16;i[t+2>>1]=15-f;i[t+4>>1]=n;l=l<<16>>16;i[t+6>>1]=15-l;if(n<<16>>16<4){p=0;return p|0}l=Pi(Gt(n<<16>>16>>>1&65535,m)|0,l-f&65535,s)|0;l=l<<16>>16>19661?19661:l;if((e|0)!=7){p=l;return p|0}p=l&65532;return p|0}function Cn(e,r,n,t,a,s,l){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;var f=0,u=0,c=0,d=0,h=0,w=0;u=(t&65535)+65535&65535;if(u<<16>>16>a<<16>>16){h=t+-1<<16>>16<<16>>16;t=-2147483648;while(1){c=o[e+(0-h<<2)>>2]|0;f=c<<1;c=(f>>1|0)==(c|0)?f:c>>31^2147483647;f=o[e+(~h<<2)>>2]|0;d=c-f|0;if(((d^c)&(c^f)|0)<0){
o[l>>2]=1;d=(c>>>31)+2147483647|0}c=o[e+(1-h<<2)>>2]|0;f=d-c|0;if(((f^d)&(c^d)|0)<0){o[l>>2]=1;f=(d>>>31)+2147483647|0}d=Bn(f)|0;t=(d|0)<(t|0)?t:d;u=u+-1<<16>>16;if(u<<16>>16<=a<<16>>16){a=t;break}else h=h+-1|0}}else a=-2147483648;e=n<<16>>16>0;if(e){t=0;f=r;u=0;while(1){d=i[f>>1]|0;d=ee(d,d)|0;if((d|0)!=1073741824){c=(d<<1)+u|0;if((d^u|0)>0&(c^u|0)<0){o[l>>2]=1;u=(u>>>31)+2147483647|0}else u=c}else{o[l>>2]=1;u=2147483647}t=t+1<<16>>16;if(t<<16>>16>=n<<16>>16)break;else f=f+2|0}if(e){e=0;h=r;t=r+-2|0;f=0;while(1){d=ee(i[t>>1]|0,i[h>>1]|0)|0;if((d|0)!=1073741824){c=(d<<1)+f|0;if((d^f|0)>0&(c^f|0)<0){o[l>>2]=1;f=(f>>>31)+2147483647|0}else f=c}else{o[l>>2]=1;f=2147483647}e=e+1<<16>>16;if(e<<16>>16>=n<<16>>16)break;else{h=h+2|0;t=t+2|0}}}else f=0}else{u=0;f=0}t=u<<1;t=(t>>1|0)==(u|0)?t:u>>31^2147483647;n=f<<1;n=(n>>1|0)==(f|0)?n:f>>31^2147483647;u=t-n|0;if(((u^t)&(n^t)|0)<0){o[l>>2]=1;u=(t>>>31)+2147483647|0}e=Bn(u)|0;h=((bi(a)|0)&65535)+65535|0;u=h<<16>>16;if((h&65535)<<16>>16>0){t=a<<u;if((t>>u|0)!=(a|0))t=a>>31^2147483647}else{u=0-u<<16;if((u|0)<2031616)t=a>>(u>>16);else t=0}d=bi(e)|0;f=d<<16>>16;if(d<<16>>16>0){u=e<<f;if((u>>f|0)==(e|0))w=33;else{u=e>>31^2147483647;w=33}}else{u=0-f<<16;if((u|0)<2031616){u=e>>(u>>16);w=33}else c=0}if((w|0)==33)if(u>>>0>65535)c=Gt(t>>>16&65535,u>>>16&65535)|0;else c=0;u=d&65535;w=(h&65535)-u|0;t=w&65535;if(!(w&32768)){l=Pi(c,t,l)|0;i[s>>1]=l;return 0}if(t<<16>>16!=-32768){l=u-h|0;f=l<<16>>16;if((l&65535)<<16>>16<0){f=0-f<<16;if((f|0)>=983040){l=0;i[s>>1]=l;return 0}l=c<<16>>16>>(f>>16)&65535;i[s>>1]=l;return 0}}else f=32767;t=c<<16>>16;u=t<<f;if((u<<16>>16>>f|0)==(t|0)){l=u&65535;i[s>>1]=l;return 0}l=(t>>>15^32767)&65535;i[s>>1]=l;return 0}function In(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;if(n<<16>>16)r=r<<16>>16<<1&65535;if(r<<16>>16<0){e=e+-2|0;r=(r&65535)+6&65535}n=r<<16>>16;t=6-n<<16>>16;r=(ee(i[3468+(n<<1)>>1]|0,i[e>>1]|0)|0)+16384|0;r=r+(ee(i[3468+(t<<1)>>1]|0,i[e+2>>1]|0)|0)|0;r=r+(ee(i[3468+(n+6<<1)>>1]|0,i[e+-2>>1]|0)|0)|0;r=r+(ee(i[3468+(t+6<<1)>>1]|0,i[e+4>>1]|0)|0)|0;r=(ee(i[3468+(n+12<<1)>>1]|0,i[e+-4>>1]|0)|0)+r|0;r=r+(ee(i[3468+(t+12<<1)>>1]|0,i[e+6>>1]|0)|0)|0;n=r+(ee(i[3468+(n+18<<1)>>1]|0,i[e+-6>>1]|0)|0)|0;return(n+(ee(i[3468+(t+18<<1)>>1]|0,i[e+8>>1]|0)|0)|0)>>>15&65535|0}function Bn(e){e=e|0;e=e-(e>>>31)|0;return e>>31^e|0}function Ln(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0,f=0;if(!(e<<16>>16))return;else{o=3518;a=3538;t=n}while(1){t=t+2|0;r=r+2|0;f=i[r>>1]|0;l=i[o>>1]|0;n=ee(l,f)|0;n=(n|0)==1073741824?2147483647:n<<1;f=(ee(i[a>>1]|0,f)|0)>>15;s=(f<<1)+n|0;s=(n^f|0)>0&(s^n|0)<0?(n>>>31)+2147483647|0:s;l=(ee(l,i[t>>1]|0)|0)>>15;n=s+(l<<1)|0;n=(s^l|0)>0&(n^s|0)<0?(s>>>31)+2147483647|0:n;i[r>>1]=n>>>16;i[t>>1]=(n>>>1)-(n>>16<<15);e=e+-1<<16>>16;if(!(e<<16>>16))break;else{o=o+2|0;a=a+2|0}}return}function Un(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,i=0;t=e&65535;i=t<<16;r=r<<16>>16;e=(r<<1)+i|0;if(!((r^i|0)>0&(e^i|0)<0)){i=e;return i|0}o[n>>2]=1;i=(t>>>15)+2147483647|0;return i|0}function xn(e){e=e|0;var r=0,n=0,t=0;if(!e){t=-1;return t|0}o[e>>2]=0;r=xi(22)|0;if(!r){t=-1;return t|0}i[r>>1]=4096;n=r+2|0;t=n+20|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));o[e>>2]=r;t=0;return t|0}function Hn(e){e=e|0;var r=0;if(!e){r=-1;return r|0}i[e>>1]=4096;e=e+2|0;r=e+20|0;do{i[e>>1]=0;e=e+2|0}while((e|0)<(r|0));r=0;return r|0}function zn(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function Yn(e,r,n,t,o,a){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;var l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0;B=c;c=c+96|0;C=B+66|0;I=B+44|0;P=B+22|0;f=B;O=r+2|0;N=n+2|0;D=(i[N>>1]<<1)+(s[O>>1]<<16)|0;l=Bn(D)|0;l=dn(l,i[r>>1]|0,i[n>>1]|0,a)|0;if((D|0)>0)l=Kn(l)|0;y=l>>16;i[o>>1]=Ni(l,a)|0;_=l>>20;T=C+2|0;i[T>>1]=_;D=I+2|0;i[D>>1]=(l>>>5)-(_<<15);_=ee(y,y)|0;_=(_|0)==1073741824?2147483647:_<<1;y=(ee((l>>>1)-(y<<15)<<16>>16,y)|0)>>15;A=y<<1;R=A+_|0;R=(y^_|0)>0&(R^_|0)<0?(_>>>31)+2147483647|0:R;A=R+A|0;A=2147483647-(Bn((R^y|0)>0&(A^R|0)<0?(R>>>31)+2147483647|0:A)|0)|0;R=A>>16;y=i[r>>1]|0;_=ee(R,y)|0;_=(_|0)==1073741824?2147483647:_<<1;y=(ee((A>>>1)-(R<<15)<<16>>16,y)|0)>>15;A=(y<<1)+_|0;A=(y^_|0)>0&(A^_|0)<0?(_>>>31)+2147483647|0:A;R=(ee(i[n>>1]|0,R)|0)>>15;_=A+(R<<1)|0;_=(A^R|0)>0&(_^A|0)<0?(A>>>31)+2147483647|0:_;A=bi(_)|0;_=_<<(A<<16>>16);R=P+2|0;y=f+2|0;u=_;_=(_>>>1)-(_>>16<<15)|0;k=f+4|0;F=P+4|0;M=2;g=2;while(1){v=u>>>16;l=v&65535;p=_&65535;S=g+-1|0;h=C+(S<<1)|0;b=I+(S<<1)|0;E=1;m=h;w=b;d=O;f=N;u=0;while(1){L=i[d>>1]|0;U=((ee(i[w>>1]|0,L)|0)>>15)+u|0;u=i[m>>1]|0;u=U+(ee(u,L)|0)+((ee(u,i[f>>1]|0)|0)>>15)|0;E=E+1<<16>>16;if((E<<16>>16|0)>=(g|0))break;else{m=m+-2|0;w=w+-2|0;d=d+2|0;f=f+2|0}}U=(s[r+(g<<1)>>1]<<16)+(u<<5)+(i[n+(g<<1)>>1]<<1)|0;u=dn(Bn(U)|0,l,p,a)|0;if((U|0)>0)u=Kn(u)|0;f=A<<16>>16;if(A<<16>>16>0){l=u<<f;if((l>>f|0)!=(u|0))l=u>>31^2147483647}else{f=0-f<<16;if((f|0)<2031616)l=u>>(f>>16);else l=0}E=l>>16;if((g|0)<5)i[o+(S<<1)>>1]=(l+32768|0)>>>16;U=(l>>>16)-(l>>>31)|0;if(((U<<16>>31^U)&65535)<<16>>16>32750){l=16;break}w=(l>>>1)-(E<<15)<<16>>16;m=1;u=b;f=R;d=y;while(1){L=(ee(i[u>>1]|0,E)|0)>>15;b=i[h>>1]|0;U=(ee(b,w)|0)>>15;b=ee(b,E)|0;U=b+L+(i[I+(m<<1)>>1]|0)+(i[C+(m<<1)>>1]<<15)+U|0;i[f>>1]=U>>>15;i[d>>1]=U&32767;m=m+1|0;if((m&65535)<<16>>16==M<<16>>16)break;else{h=h+-2|0;u=u+-2|0;f=f+2|0;d=d+2|0}}i[F>>1]=l>>20;i[k>>1]=(l>>>5)-(i[P+(g<<1)>>1]<<15);L=ee(E,E)|0;L=(L|0)==1073741824?2147483647:L<<1;l=(ee(w,E)|0)>>15;U=l<<1;f=U+L|0;f=(l^L|0)>0&(f^L|0)<0?(L>>>31)+2147483647|0:f;U=f+U|0;U=2147483647-(Bn((f^l|0)>0&(U^f|0)<0?(f>>>31)+2147483647|0:U)|0)|0;f=U>>16;l=v<<16>>16;l=((ee(f,_<<16>>16)|0)>>15)+(ee(f,l)|0)+((ee((U>>>1)-(f<<15)<<16>>16,l)|0)>>15)<<1;f=(bi(l)|0)<<16>>16;l=l<<f;U=g<<1;Ki(T|0,R|0,U|0)|0;Ki(D|0,y|0,U|0)|0;g=g+1|0;if((g|0)>=11){l=20;break}else{A=f+(A&65535)&65535;u=l;_=(l>>1)-(l>>16<<15)|0;k=k+2|0;F=F+2|0;M=M+1<<16>>16}}if((l|0)==16){l=t+22|0;do{i[t>>1]=i[e>>1]|0;t=t+2|0;e=e+2|0}while((t|0)<(l|0));U=o;L=U;i[L>>1]=0;i[L+2>>1]=0>>>16;U=U+4|0;i[U>>1]=0;i[U+2>>1]=0>>>16;c=B;return 0}else if((l|0)==20){i[t>>1]=4096;U=((i[D>>1]|0)+8192+(i[T>>1]<<15)|0)>>>14&65535;i[t+2>>1]=U;i[e+2>>1]=U;U=((i[I+4>>1]|0)+8192+(i[C+4>>1]<<15)|0)>>>14&65535;i[t+4>>1]=U;i[e+4>>1]=U;U=((i[I+6>>1]|0)+8192+(i[C+6>>1]<<15)|0)>>>14&65535;i[t+6>>1]=U;i[e+6>>1]=U;U=((i[I+8>>1]|0)+8192+(i[C+8>>1]<<15)|0)>>>14&65535;i[t+8>>1]=U;i[e+8>>1]=U;U=((i[I+10>>1]|0)+8192+(i[C+10>>1]<<15)|0)>>>14&65535;i[t+10>>1]=U;i[e+10>>1]=U;U=((i[I+12>>1]|0)+8192+(i[C+12>>1]<<15)|0)>>>14&65535;i[t+12>>1]=U;i[e+12>>1]=U;U=((i[I+14>>1]|0)+8192+(i[C+14>>1]<<15)|0)>>>14&65535;i[t+14>>1]=U;i[e+14>>1]=U;U=((i[I+16>>1]|0)+8192+(i[C+16>>1]<<15)|0)>>>14&65535;i[t+16>>1]=U;i[e+16>>1]=U;U=((i[I+18>>1]|0)+8192+(i[C+18>>1]<<15)|0)>>>14&65535;i[t+18>>1]=U;i[e+18>>1]=U;U=((i[I+20>>1]|0)+8192+(i[C+20>>1]<<15)|0)>>>14&65535;i[t+20>>1]=U;i[e+20>>1]=U;c=B;return 0}return 0}function jn(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;t=e>>16;i[r>>1]=t;i[n>>1]=(e>>>1)-(t<<15);return}function Kn(e){e=e|0;return((e|0)==-2147483648?2147483647:0-e|0)|0}function qn(e){e=e|0;var r=0;if(!e){e=-1;return e|0}o[e>>2]=0;r=xi(4)|0;if(!r){e=-1;return e|0}o[r>>2]=0;if(!((xn(r)|0)<<16>>16)){Hn(o[r>>2]|0)|0;o[e>>2]=r;e=0;return e|0}else{zn(r);Hi(r);e=-1;return e|0}return 0}function Vn(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;zn(r);Hi(o[e>>2]|0);o[e>>2]=0;return}function Wn(e){e=e|0;if(!e){e=-1;return e|0}Hn(o[e>>2]|0)|0;e=0;return e|0}function Xn(e,r,n,t,i,a,s){e=e|0;r=r|0;n=n|0;t=t|0;i=i|0;a=a|0;s=s|0;var l=0,f=0,u=0,d=0;d=c;c=c+64|0;u=d+48|0;f=d+22|0;l=d;if((r|0)==7){n=o[a+116>>2]|0;xr(t,10,l,f,o[a+112>>2]|0,s)|0;Ln(10,l,f,s);Yn(o[e>>2]|0,l,f,i+22|0,u,s)|0;xr(t,10,l,f,n,s)|0;Ln(10,l,f,s);Yn(o[e>>2]|0,l,f,i+66|0,u,s)|0;c=d;return}else{xr(n,10,l,f,o[a+108>>2]|0,s)|0;Ln(10,l,f,s);Yn(o[e>>2]|0,l,f,i+66|0,u,s)|0;c=d;return}}function Gn(e,r,n,t,o,a,s,l,f,u){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;s=s|0;l=l|0;f=f|0;u=u|0;if((n|0)==6){i[o>>1]=ot(e,r,t,20,143,80,a,s,l,f,u)|0;return}i[s>>1]=0;i[s+2>>1]=0;if(n>>>0<2){i[o>>1]=et(r,n,t,20,143,160,l,f,u)|0;return}if(n>>>0<6){i[o>>1]=et(r,n,t,20,143,80,l,f,u)|0;return}else{i[o>>1]=et(r,n,t,18,143,80,l,f,u)|0;return}}function Zn(e){e=e|0;var r=0;if((e|0)!=0?(o[e>>2]=0,r=xi(2)|0,(r|0)!=0):0){i[r>>1]=0;o[e>>2]=r;r=0}else r=-1;return r|0}function Jn(e){e=e|0;if(!e)e=-1;else{i[e>>1]=0;e=0}return e|0}function Qn(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function $n(e,r,n,t,o,a,l,f,u,d,h,w){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;var m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0;V=c;c=c+240|0;v=V+160|0;_=V+80|0;H=V;x=i[3558+(r*18|0)>>1]|0;q=i[3558+(r*18|0)+2>>1]|0;m=i[3558+(r*18|0)+4>>1]|0;z=i[3558+(r*18|0)+6>>1]|0;S=i[3558+(r*18|0)+12>>1]|0;p=i[3558+(r*18|0)+14>>1]|0;E=i[3558+(r*18|0)+16>>1]|0;e:do switch(f<<16>>16){case 0:case 80:if(r>>>0<2&f<<16>>16==80){Y=(s[e>>1]|0)-(S&65535)|0;Y=(Y<<16>>16|0)<(E<<16>>16|0)?E:Y&65535;U=p<<16>>16;j=(Y&65535)+U&65535;K=j<<16>>16>143;Y=K?143-U&65535:Y;j=K?143:j;K=1;break e}else{Y=(s[n+((f<<16>>16!=0&1)<<1)>>1]|0)-(s[3558+(r*18|0)+8>>1]|0)|0;Y=(Y<<16>>16|0)<(E<<16>>16|0)?E:Y&65535;U=i[3558+(r*18|0)+10>>1]|0;j=(Y&65535)+U&65535;K=j<<16>>16>143;Y=K?143-U&65535:Y;j=K?143:j;K=0;break e}default:{Y=(s[e>>1]|0)-(S&65535)|0;Y=(Y<<16>>16|0)<(E<<16>>16|0)?E:Y&65535;U=p<<16>>16;j=(Y&65535)+U&65535;K=j<<16>>16>143;Y=K?143-U&65535:Y;j=K?143:j;K=1}}while(0);L=Y&65535;f=L+65532|0;b=f&65535;B=(j&65535)+4&65535;U=f<<16>>16;f=0-(f&65535)|0;S=f&65535;ln(t+(f<<16>>16<<1)|0,a,v,l);f=l<<16>>16;y=f>>>1&65535;k=y<<16>>16==0;if(k)l=1;else{l=y;E=v;n=_;p=0;while(1){I=i[E>>1]|0;i[n>>1]=I>>>2;I=(ee(I,I)|0)+p|0;p=i[E+2>>1]|0;i[n+2>>1]=p>>>2;p=I+(ee(p,p)|0)|0;l=l+-1<<16>>16;if(!(l<<16>>16))break;else{E=E+4|0;n=n+4|0}}l=(p|0)<33554433}I=l?0:2;R=l?v:_;F=l?v:_;e:do if(b<<16>>16<=B<<16>>16){M=f+-1|0;N=R+(M<<1)|0;P=a+(M<<1)|0;C=R+(f+-2<<1)|0;O=M>>>1;T=O&65535;g=T<<16>>16==0;D=l?12:14;O=(O<<1)+131070&131070;n=f+-3-O|0;A=R+(n<<1)|0;O=R+(f+-4-O<<1)|0;a=a+(n<<1)|0;if(!k){k=U;while(1){_=y;v=F;E=o;p=0;l=0;while(1){_=_+-1<<16>>16;f=i[v>>1]|0;p=(ee(f,i[E>>1]|0)|0)+p|0;f=(ee(f,f)|0)+l|0;l=i[v+2>>1]|0;p=p+(ee(l,i[E+2>>1]|0)|0)|0;l=f+(ee(l,l)|0)|0;if(!(_<<16>>16))break;else{v=v+4|0;E=E+4|0}}v=ai(l<<1,w)|0;l=v>>16;E=p<<1>>16;_=ee(l,E)|0;_=(_|0)==1073741824?2147483647:_<<1;E=(ee((v>>>1)-(l<<15)<<16>>16,E)|0)>>15;v=(E<<1)+_|0;v=(E^_|0)>0&(v^_|0)<0?(_>>>31)+2147483647|0:v;l=(ee(l,p&32767)|0)>>15;_=v+(l<<1)|0;i[H+(k-U<<1)>>1]=(v^l|0)>0&(_^v|0)<0?(v>>>31)+65535|0:_;if(b<<16>>16!=B<<16>>16){S=S+-1<<16>>16;_=i[t+(S<<16>>16<<1)>>1]|0;if(g){v=M;l=C;p=P;E=N}else{v=T;l=C;p=P;E=N;while(1){k=(ee(i[p>>1]|0,_)|0)>>D;i[E>>1]=k+(s[l>>1]|0);k=(ee(i[p+-2>>1]|0,_)|0)>>D;i[E+-2>>1]=k+(s[l+-2>>1]|0);v=v+-1<<16>>16;if(!(v<<16>>16)){v=n;l=O;p=a;E=A;break}else{l=l+-4|0;p=p+-4|0;E=E+-4|0}}}k=(ee(i[p>>1]|0,_)|0)>>D;i[E>>1]=k+(s[l>>1]|0);i[R+(v+-1<<1)>>1]=_>>I}b=b+1<<16>>16;if(b<<16>>16>B<<16>>16)break e;else k=b<<16>>16}}if(g){l=R+(f+-2<<1)|0;p=U;while(1){ai(0,w)|0;i[H+(p-U<<1)>>1]=0;if(b<<16>>16!=B<<16>>16){S=S+-1<<16>>16;o=i[t+(S<<16>>16<<1)>>1]|0;T=(ee(i[P>>1]|0,o)|0)>>D;i[N>>1]=T+(s[C>>1]|0);i[l>>1]=o>>I}b=b+1<<16>>16;if(b<<16>>16>B<<16>>16)break e;else p=b<<16>>16}}v=R+(n+-1<<1)|0;l=U;while(1){ai(0,w)|0;i[H+(l-U<<1)>>1]=0;if(b<<16>>16!=B<<16>>16){S=S+-1<<16>>16;l=i[t+(S<<16>>16<<1)>>1]|0;p=T;E=C;n=P;f=N;while(1){o=(ee(i[n>>1]|0,l)|0)>>D;i[f>>1]=o+(s[E>>1]|0);o=(ee(i[n+-2>>1]|0,l)|0)>>D;i[f+-2>>1]=o+(s[E+-2>>1]|0);p=p+-1<<16>>16;if(!(p<<16>>16))break;else{E=E+-4|0;n=n+-4|0;f=f+-4|0}}o=(ee(i[a>>1]|0,l)|0)>>D;i[A>>1]=o+(s[O>>1]|0);i[v>>1]=l>>I}b=b+1<<16>>16;if(b<<16>>16>B<<16>>16)break;else l=b<<16>>16}}while(0);b=Y<<16>>16;n=L+1&65535;if(n<<16>>16>j<<16>>16)a=Y;else{S=Y;f=i[H+(b-U<<1)>>1]|0;while(1){p=i[H+((n<<16>>16)-U<<1)>>1]|0;E=p<<16>>16<f<<16>>16;S=E?S:n;n=n+1<<16>>16;if(n<<16>>16>j<<16>>16){a=S;break}else f=E?f:p}}e:do if(!(K<<16>>16==0?a<<16>>16>x<<16>>16:0)){if(!(r>>>0<4&K<<16>>16!=0)){S=H+((a<<16>>16)-U<<1)|0;p=In(S,m,q,w)|0;n=(m&65535)+1&65535;if(n<<16>>16<=z<<16>>16)while(1){E=In(S,n,q,w)|0;f=E<<16>>16>p<<16>>16;m=f?n:m;n=n+1<<16>>16;if(n<<16>>16>z<<16>>16)break;else p=f?E:p}if((r+-7|0)>>>0<2){z=m<<16>>16==-3;n=(z<<31>>31)+a<<16>>16;m=z?3:m;break}switch(m<<16>>16){case-2:{n=a+-1<<16>>16;m=1;break e}case 2:{n=a+1<<16>>16;m=-1;break e}default:{n=a;break e}}}x=i[e>>1]|0;x=((x<<16>>16)-b|0)>5?b+5&65535:x;f=j<<16>>16;x=(f-(x<<16>>16)|0)>4?f+65532&65535:x;f=a<<16>>16;n=x<<16>>16;if((f|0)==(n+-1|0)?1:a<<16>>16==x<<16>>16){S=H+(f-U<<1)|0;f=In(S,m,q,w)|0;n=(m&65535)+1&65535;if(n<<16>>16<=z<<16>>16)while(1){p=In(S,n,q,w)|0;E=p<<16>>16>f<<16>>16;m=E?n:m;n=n+1<<16>>16;if(n<<16>>16>z<<16>>16)break;else f=E?p:f}if((r+-7|0)>>>0<2){z=m<<16>>16==-3;n=(z<<31>>31)+a<<16>>16;m=z?3:m;break}switch(m<<16>>16){case-2:{n=a+-1<<16>>16;m=1;break e}case 2:{n=a+1<<16>>16;m=-1;break e}default:{n=a;break e}}}if((f|0)==(n+-2|0)){n=H+(f-U<<1)|0;f=In(n,0,q,w)|0;if((r|0)!=8){m=0;S=1;while(1){p=In(n,S,q,w)|0;E=p<<16>>16>f<<16>>16;m=E?S:m;S=S+1<<16>>16;if(S<<16>>16>z<<16>>16)break;else f=E?p:f}if((r+-7|0)>>>0>=2)switch(m<<16>>16){case-2:{n=a+-1<<16>>16;m=1;break e}case 2:{n=a+1<<16>>16;m=-1;break e}default:{n=a;break e}}}else m=0;z=m<<16>>16==-3;n=(z<<31>>31)+a<<16>>16;m=z?3:m;break}if((f|0)==(n+1|0)){S=H+(f-U<<1)|0;n=In(S,m,q,w)|0;f=(m&65535)+1&65535;if(f<<16>>16<=0)while(1){E=In(S,f,q,w)|0;p=E<<16>>16>n<<16>>16;m=p?f:m;f=f+1<<16>>16;if(f<<16>>16>0)break;else n=p?E:n}if((r+-7|0)>>>0<2){z=m<<16>>16==-3;n=(z<<31>>31)+a<<16>>16;m=z?3:m;break}switch(m<<16>>16){case-2:{n=a+-1<<16>>16;m=1;break e}case 2:{n=a+1<<16>>16;m=-1;break e}default:{n=a;break e}}}else{n=a;m=0}}else{n=a;m=0}while(0);if((r+-7|0)>>>0>1){z=e;e=bn(n,m,i[e>>1]|0,Y,j,K,r>>>0<4&1,w)|0;i[h>>1]=e;i[z>>1]=n;i[d>>1]=q;i[u>>1]=m;c=V;return n|0}else{w=vn(n,m,Y,K,w)|0;i[h>>1]=w;i[e>>1]=n;i[d>>1]=q;i[u>>1]=m;c=V;return n|0}return 0}function et(e,r,n,t,a,s,l,f,u){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;u=u|0;var d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0;O=c;c=c+1200|0;y=O+1188|0;R=O+580|0;A=O+578|0;g=O+576|0;_=O;F=O+582|0;M=(f|0)!=0;do if(M)if(r>>>0<2){zt(e,1,u);break}else{zt(e,0,u);break}while(0);k=a<<16>>16;w=0-k|0;h=n+(w<<1)|0;w=w&65535;S=s<<16>>16;do if(w<<16>>16<s<<16>>16){p=w;E=h;w=0;while(1){b=i[E>>1]|0;w=(ee(b<<1,b)|0)+w|0;if((w|0)<0)break;p=p+1<<16>>16;if(p<<16>>16>=s<<16>>16){v=14;break}else E=E+2|0}if((v|0)==14){if((w|0)<1048576){v=15;break}Ki(F|0,h|0,S+k<<1|0)|0;b=0;break}d=S+k|0;m=d>>>1;p=m&65535;if(!(p<<16>>16))w=F;else{b=((m<<1)+131070&131070)+2|0;S=b-k|0;E=F;while(1){i[E>>1]=(i[h>>1]|0)>>>3;i[E+2>>1]=(i[h+2>>1]|0)>>>3;p=p+-1<<16>>16;if(!(p<<16>>16))break;else{h=h+4|0;E=E+4|0}}h=n+(S<<1)|0;w=F+(b<<1)|0}if(!(d&1))b=3;else{i[w>>1]=(i[h>>1]|0)>>>3;b=3}}else v=15;while(0);if((v|0)==15){b=S+k|0;w=b>>>1;m=w&65535;if(!(m<<16>>16))w=F;else{S=((w<<1)+131070&131070)+2|0;E=S-k|0;p=F;while(1){i[p>>1]=i[h>>1]<<3;i[p+2>>1]=i[h+2>>1]<<3;m=m+-1<<16>>16;if(!(m<<16>>16))break;else{h=h+4|0;p=p+4|0}}h=n+(E<<1)|0;w=F+(S<<1)|0}if(!(b&1))b=-3;else{i[w>>1]=i[h>>1]<<3;b=-3}}S=_+(k<<2)|0;E=F+(k<<1)|0;Xr(E,s,a,t,S);d=(r|0)==7&1;w=t<<16>>16;h=w<<2;if((h|0)!=(w<<18>>16|0)){o[u>>2]=1;h=t<<16>>16>0?32767:-32768}p=rt(e,S,E,b,d,s,a,h&65535,y,f,u)|0;w=w<<1;m=rt(e,S,E,b,d,s,h+65535&65535,w&65535,R,f,u)|0;w=rt(e,S,E,b,d,s,w+65535&65535,t,A,f,u)|0;if(l<<16>>16==1&M){Cn(S,E,s,a,t,g,u)|0;xt(e,i[g>>1]|0)}h=i[y>>1]|0;d=i[R>>1]|0;if(((h<<16>>16)*55706>>16|0)>=(d<<16>>16|0)){R=h;y=p;R=R<<16>>16;R=R*55706|0;R=R>>16;A=i[A>>1]|0;A=A<<16>>16;A=(R|0)<(A|0);A=A?w:y;c=O;return A|0}i[y>>1]=d;R=d;y=m;R=R<<16>>16;R=R*55706|0;R=R>>16;A=i[A>>1]|0;A=A<<16>>16;A=(R|0)<(A|0);A=A?w:y;c=O;return A|0}function rt(e,r,n,t,a,s,l,f,u,c,d){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;u=u|0;c=c|0;d=d|0;var h=0,w=0,m=0,E=0,p=0;if(l<<16>>16<f<<16>>16){f=-2147483648;m=l}else{m=l;h=-2147483648;w=r+(0-(l<<16>>16)<<2)|0;r=l;while(1){l=o[w>>2]|0;p=(l|0)<(h|0);r=p?r:m;h=p?h:l;m=m+-1<<16>>16;if(m<<16>>16<f<<16>>16){f=h;m=r;break}else w=w+4|0}}r=s<<16>>16>>>2&65535;if(!(r<<16>>16))r=0;else{h=r;l=n+(0-(m<<16>>16)<<1)|0;r=0;while(1){p=i[l>>1]|0;p=(ee(p,p)|0)+r|0;r=i[l+2>>1]|0;r=p+(ee(r,r)|0)|0;p=i[l+4>>1]|0;p=r+(ee(p,p)|0)|0;r=i[l+6>>1]|0;r=p+(ee(r,r)|0)|0;h=h+-1<<16>>16;if(!(h<<16>>16))break;else l=l+8|0}r=r<<1}if(c)Ht(e,f,r,d);r=ai(r,d)|0;l=a<<16>>16!=0;if(l)r=(r|0)>1073741823?2147483647:r<<1;a=f>>16;e=r>>16;d=ee(e,a)|0;d=(d|0)==1073741824?2147483647:d<<1;r=(ee((r>>>1)-(e<<15)<<16>>16,a)|0)>>15;p=(r<<1)+d|0;p=(r^d|0)>0&(p^d|0)<0?(d>>>31)+2147483647|0:p;a=(ee(e,(f>>>1)-(a<<15)<<16>>16)|0)>>15;r=p+(a<<1)|0;r=(p^a|0)>0&(r^p|0)<0?(p>>>31)+2147483647|0:r;if(!l){i[u>>1]=r;return m|0}l=t<<16>>16;if(t<<16>>16>0)if(t<<16>>16<31){l=r>>l;E=16}else l=0;else{E=0-l<<16>>16;l=r<<E;l=(l>>E|0)==(r|0)?l:r>>31^2147483647;E=16}if((E|0)==16){if((l|0)>65535){i[u>>1]=32767;return m|0}if((l|0)<-65536){i[u>>1]=-32768;return m|0}}i[u>>1]=l>>>1;return m|0}function nt(e){e=e|0;var r=0;if(!e){e=-1;return e|0}o[e>>2]=0;r=xi(6)|0;if(!r){e=-1;return e|0}i[r>>1]=40;i[r+2>>1]=0;i[r+4>>1]=0;o[e>>2]=r;e=0;return e|0}function tt(e){e=e|0;if(!e){e=-1;return e|0}i[e>>1]=40;i[e+2>>1]=0;i[e+4>>1]=0;e=0;return e|0}function it(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function ot(e,r,n,t,a,s,l,f,u,d,h){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;var w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0;D=c;c=c+1200|0;k=D+1186|0;F=D+1184|0;T=D+1182|0;_=D;g=D+576|0;M=a<<16>>16;O=g+(M<<1)|0;w=(0-M&65535)<<16>>16<s<<16>>16;if(w){S=0-a<<16>>16<<16>>16;m=0;do{p=i[n+(S<<1)>>1]|0;p=ee(p,p)|0;if((p|0)!=1073741824){E=(p<<1)+m|0;if((p^m|0)>0&(E^m|0)<0){o[h>>2]=1;m=(m>>>31)+2147483647|0}else m=E}else{o[h>>2]=1;m=2147483647}S=S+1|0}while((S&65535)<<16>>16!=s<<16>>16)}else m=0;if((2147483646-m&m|0)>=0)if((m|0)==2147483647){if(w){m=0-a<<16>>16<<16>>16;do{i[g+(m+M<<1)>>1]=Pi(i[n+(m<<1)>>1]|0,3,h)|0;m=m+1|0}while((m&65535)<<16>>16!=s<<16>>16)}}else b=14;else{o[h>>2]=1;b=14}do if((b|0)==14){if((1048575-m&m|0)<0){o[h>>2]=1;m=(m>>>31)+2147483647|0}else m=m+-1048576|0;if((m|0)>=0){if(!w)break;A=0-a<<16>>16<<16>>16;Ki(g+(M+A<<1)|0,n+(A<<1)|0,(((s+a<<16>>16)+-1&65535)<<1)+2|0)|0;break}if(w){m=0-a<<16>>16<<16>>16;do{A=i[n+(m<<1)>>1]|0;i[g+(m+M<<1)>>1]=(A<<19>>19|0)==(A|0)?A<<3:A>>>15^32767;m=m+1|0}while((m&65535)<<16>>16!=s<<16>>16)}}while(0);y=_+(M<<2)|0;Xr(O,s,a,t,y);S=i[e>>1]|0;A=e+4|0;R=f+(u<<16>>16<<1)|0;e:do if(a<<16>>16<t<<16>>16)v=a;else{if((i[A>>1]|0)<=0){n=a;f=-2147483648;p=a;b=3402;while(1){jn(o[_+(M-(n<<16>>16)<<2)>>2]|0,k,F,h);E=i[F>>1]|0;m=i[b>>1]|0;S=ee(m,i[k>>1]|0)|0;if((S|0)==1073741824){o[h>>2]=1;w=2147483647}else w=S<<1;v=(ee(m,E<<16>>16)|0)>>15;S=w+(v<<1)|0;if((w^v|0)>0&(S^w|0)<0){o[h>>2]=1;S=(w>>>31)+2147483647|0}E=(S|0)<(f|0);p=E?p:n;n=n+-1<<16>>16;if(n<<16>>16<t<<16>>16){v=p;break e}else{f=E?f:S;b=b+-2|0}}}f=a;w=-2147483648;p=a;v=2902+(M+123-(S<<16>>16)<<1)|0;n=3402;while(1){jn(o[_+(M-(f<<16>>16)<<2)>>2]|0,k,F,h);b=i[F>>1]|0;E=i[n>>1]|0;S=ee(E,i[k>>1]|0)|0;if((S|0)==1073741824){o[h>>2]=1;m=2147483647}else m=S<<1;b=(ee(E,b<<16>>16)|0)>>15;S=m+(b<<1)|0;if((m^b|0)>0&(S^m|0)<0){o[h>>2]=1;S=(m>>>31)+2147483647|0}jn(S,k,F,h);b=i[F>>1]|0;E=i[v>>1]|0;S=ee(E,i[k>>1]|0)|0;if((S|0)==1073741824){o[h>>2]=1;m=2147483647}else m=S<<1;b=(ee(E,b<<16>>16)|0)>>15;S=m+(b<<1)|0;if((m^b|0)>0&(S^m|0)<0){o[h>>2]=1;S=(m>>>31)+2147483647|0}E=(S|0)<(w|0);p=E?p:f;f=f+-1<<16>>16;if(f<<16>>16<t<<16>>16){v=p;break}else{w=E?w:S;v=v+-2|0;n=n+-2|0}}}while(0);if(s<<16>>16>0){f=0;n=O;b=g+(M-(v<<16>>16)<<1)|0;p=0;m=0;while(1){S=i[b>>1]|0;E=ee(S,i[n>>1]|0)|0;if((E|0)!=1073741824){w=(E<<1)+p|0;if((E^p|0)>0&(w^p|0)<0){o[h>>2]=1;p=(p>>>31)+2147483647|0}else p=w}else{o[h>>2]=1;p=2147483647}w=ee(S,S)|0;if((w|0)!=1073741824){E=(w<<1)+m|0;if((w^m|0)>0&(E^m|0)<0){o[h>>2]=1;m=(m>>>31)+2147483647|0}else m=E}else{o[h>>2]=1;m=2147483647}f=f+1<<16>>16;if(f<<16>>16>=s<<16>>16)break;else{n=n+2|0;b=b+2|0}}}else{p=0;m=0}E=(d|0)==0;if(!E){zt(r,0,h);Ht(r,p,m,h)}w=(Ni(m,h)|0)<<16>>16;if((w*13107|0)==1073741824){o[h>>2]=1;m=2147483647}else m=w*26214|0;w=p-m|0;if(((w^p)&(m^p)|0)<0){o[h>>2]=1;w=(p>>>31)+2147483647|0}d=Ni(w,h)|0;i[R>>1]=d;if(d<<16>>16>0){w=l+6|0;i[l+8>>1]=i[w>>1]|0;d=l+4|0;i[w>>1]=i[d>>1]|0;w=l+2|0;i[d>>1]=i[w>>1]|0;i[w>>1]=i[l>>1]|0;i[l>>1]=v;i[e>>1]=ri(l,5)|0;i[e+2>>1]=32767;w=32767}else{i[e>>1]=v;e=e+2|0;w=((i[e>>1]|0)*29491|0)>>>15&65535;i[e>>1]=w}i[A>>1]=((Bi(w,9830,h)|0)&65535)>>>15^1;if(E){c=D;return v|0}if((Bi(u,1,h)|0)<<16>>16){c=D;return v|0}Cn(y,O,s,a,t,T,h)|0;xt(r,i[T>>1]|0);c=D;return v|0}function at(e,r,n,t,i,o,a,s,l,f){e=e|0;r=r|0;n=n|0;t=t|0;i=i|0;o=o|0;a=a|0;s=s|0;l=l|0;f=f|0;var u=0,d=0;f=c;c=c+48|0;d=f+22|0;u=f;r=e>>>0<6?r:n;n=o<<16>>16>0?22:0;e=i+(n<<1)|0;Ui(e,r,d);Ui(e,t,u);e=o<<16>>16;o=l+(e<<1)|0;Di(d,a+(e<<1)|0,o,40);Li(u,o,o,40,s,1);n=i+(((n<<16)+720896|0)>>>16<<1)|0;Ui(n,r,d);Ui(n,t,u);e=(e<<16)+2621440>>16;l=l+(e<<1)|0;Di(d,a+(e<<1)|0,l,40);Li(u,l,l,40,s,1);c=f;return}function st(e){e=e|0;var r=0;if(!e){e=-1;return e|0}o[e>>2]=0;r=xi(12)|0;if(!r){e=-1;return e|0}i[r>>1]=0;i[r+2>>1]=0;i[r+4>>1]=0;i[r+6>>1]=0;i[r+8>>1]=0;i[r+10>>1]=0;o[e>>2]=r;e=0;return e|0}function lt(e){e=e|0;if(!e){e=-1;return e|0}i[e>>1]=0;i[e+2>>1]=0;i[e+4>>1]=0;i[e+6>>1]=0;i[e+8>>1]=0;i[e+10>>1]=0;e=0;return e|0}function ft(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function ut(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,o=0,a=0,s=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0;d=e+10|0;o=i[d>>1]|0;h=e+8|0;t=i[h>>1]|0;if(!(n<<16>>16)){e=t;c=o;i[d>>1]=c;i[h>>1]=e;return}l=e+4|0;f=e+6|0;u=e+2|0;s=i[f>>1]|0;c=i[l>>1]|0;a=n;n=o;while(1){w=(ee(i[e>>1]|0,-3733)|0)+(((c<<16>>16)*7807|0)+((s<<16>>16)*7807>>15))|0;i[e>>1]=c;w=w+((ee(i[u>>1]|0,-3733)|0)>>15)|0;i[u>>1]=s;w=((n<<16>>16)*1899|0)+w+(ee(t<<16>>16,-3798)|0)|0;n=i[r>>1]|0;w=w+((n<<16>>16)*1899|0)|0;i[r>>1]=(w+2048|0)>>>12;o=w>>>12;c=o&65535;i[l>>1]=c;s=(w<<3)-(o<<15)&65535;i[f>>1]=s;a=a+-1<<16>>16;if(!(a<<16>>16))break;else{w=t;r=r+2|0;t=n;n=w}}i[d>>1]=t;i[h>>1]=n;return}function ct(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0,s=0,l=0,f=0;a=i[(o[t+88>>2]|0)+(e<<1)>>1]|0;if(!(a<<16>>16))return;f=n;l=o[(o[t+92>>2]|0)+(e<<2)>>2]|0;while(1){n=i[l>>1]|0;if(!(n<<16>>16))n=0;else{e=i[r>>1]|0;s=n;t=f+((n<<16>>16)+-1<<1)|0;while(1){n=e<<16>>16;i[t>>1]=n&1;s=s+-1<<16>>16;if(!(s<<16>>16))break;else{e=n>>>1&65535;t=t+-2|0}}n=i[l>>1]|0}r=r+2|0;a=a+-1<<16>>16;if(!(a<<16>>16))break;else{f=f+(n<<16>>16<<1)|0;l=l+2|0}}return}function dt(e,r,n,t,a,l){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;var f=0,u=0,d=0,h=0,w=0;w=c;c=c+16|0;d=w+2|0;h=w;f=a<<16>>16;if(a<<16>>16<1){l=-5443;h=-32768;Qt(e,h,l);c=w;return}u=_i(14,n,l)|0;if((f|0)<(u<<16>>16|0))n=t;else{n=(t&65535)+1&65535;a=f>>>1&65535}t=Gt(a,u&65535)|0;i[h>>1]=t;si(t<<16>>16,d,h,l);i[d>>1]=((((n&65535)-(r&65535)<<16)+-65536|0)>>>16)+(s[d>>1]|0);t=Ci(i[h>>1]|0,5,l)|0;f=i[d>>1]|0;t=((f&65535)<<10)+(t&65535)&65535;if(t<<16>>16>18284){l=3037;h=18284;Qt(e,h,l);c=w;return}a=i[h>>1]|0;f=f<<16>>16;if((f*24660|0)==1073741824){o[l>>2]=1;n=2147483647}else n=f*49320|0;h=(a<<16>>16)*24660>>15;f=n+(h<<1)|0;if((n^h|0)>0&(f^n|0)<0){o[l>>2]=1;f=(n>>>31)+2147483647|0}h=f<<13;l=Ni((h>>13|0)==(f|0)?h:f>>31^2147483647,l)|0;h=t;Qt(e,h,l);c=w;return}function ht(e,r,n,t,a,l,f,u,d,h,w,m,E,p,S,b,v,_,k,F){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;m=m|0;E=E|0;p=p|0;S=S|0;b=b|0;v=v|0;_=_|0;k=k|0;F=F|0;var M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0,W=0,X=0,G=0,Z=0,J=0,Q=0,$=0,re=0,ne=0,te=0,ie=0,oe=0,ae=0,se=0;se=c;c=c+80|0;te=se+66|0;ie=se+64|0;oe=se+62|0;ae=se+60|0;H=se+40|0;z=se+20|0;U=se;i[te>>1]=r;i[ie>>1]=d;i[oe>>1]=h;L=_i(14,n,F)|0;ne=L&65535;i[ae>>1]=ne;x=_i(14,h,F)|0;B=(s[t>>1]|0)+65523|0;i[U>>1]=B;T=(s[t+2>>1]|0)+65522|0;D=U+2|0;i[D>>1]=T;N=((r&65535)<<16)+-720896|0;y=N>>16;N=(N>>>15)+15+(s[t+4>>1]|0)|0;P=U+4|0;i[P>>1]=N;C=(s[t+6>>1]|0)+y|0;I=U+6|0;i[I>>1]=C;y=y+1+(s[t+8>>1]|0)|0;A=U+8|0;i[A>>1]=y;M=(s[w>>1]|0)+65523&65535;i[U+10>>1]=M;O=(s[w+2>>1]|0)+65522&65535;i[U+12>>1]=O;g=((d&65535)<<16)+-720896|0;t=g>>16;g=(g>>>15)+15+(s[w+4>>1]|0)&65535;i[U+14>>1]=g;R=(s[w+6>>1]|0)+t&65535;i[U+16>>1]=R;t=t+1+(s[w+8>>1]|0)&65535;i[U+18>>1]=t;$=(l&65535)-(E&65535)<<16;d=$>>16;if(($|0)>0){h=f;n=p<<16>>16>>d&65535}else{h=f<<16>>16>>0-d&65535;n=p}if((Ci(n,1,F)|0)<<16>>16>h<<16>>16)n=1;else n=(((h<<16>>16)+3>>2|0)>(n<<16>>16|0))<<31>>31;w=B+n&65535;i[U>>1]=w;$=T+n&65535;i[D>>1]=$;Q=N+n&65535;i[P>>1]=Q;J=C+n&65535;i[I>>1]=J;Z=y+n&65535;i[A>>1]=Z;d=t<<16>>16>w<<16>>16?t:w;d=R<<16>>16>d<<16>>16?R:d;d=g<<16>>16>d<<16>>16?g:d;d=O<<16>>16>d<<16>>16?O:d;d=M<<16>>16>d<<16>>16?M:d;d=Z<<16>>16>d<<16>>16?Z:d;d=J<<16>>16>d<<16>>16?J:d;d=Q<<16>>16>d<<16>>16?Q:d;d=($<<16>>16>d<<16>>16?$:d)+1&65535;t=0;while(1){n=d-(w&65535)|0;w=n&65535;h=s[a>>1]<<16;n=n<<16>>16;if(w<<16>>16>0)w=w<<16>>16<31?h>>n:0;else{$=0-n<<16>>16;w=h<<$;w=(w>>$|0)==(h|0)?w:h>>31^2147483647}$=w>>16;i[H+(t<<1)>>1]=$;i[z+(t<<1)>>1]=(w>>>1)-($<<15);t=t+1|0;if((t|0)==5){n=5;h=m;break}w=i[U+(t<<1)>>1]|0;a=a+2|0}while(1){t=d-(M&65535)|0;M=t&65535;w=s[h>>1]<<16;t=t<<16>>16;if(M<<16>>16>0)w=M<<16>>16<31?w>>t:0;else{Q=0-t<<16>>16;$=w<<Q;w=($>>Q|0)==(w|0)?$:w>>31^2147483647}$=w>>16;i[H+(n<<1)>>1]=$;i[z+(n<<1)>>1]=(w>>>1)-($<<15);w=n+1|0;if((w&65535)<<16>>16==10)break;M=i[U+(w<<1)>>1]|0;n=w;h=h+2|0}Y=L<<16>>16;j=i[H>>1]|0;K=i[z>>1]|0;q=i[H+2>>1]|0;V=i[z+2>>1]|0;W=i[H+4>>1]|0;X=i[z+4>>1]|0;G=i[H+6>>1]|0;Z=i[z+6>>1]|0;J=i[H+8>>1]|0;Q=i[z+8>>1]|0;$=S&65535;E=x<<16>>16;l=i[H+10>>1]|0;R=i[z+10>>1]|0;g=i[H+12>>1]|0;a=i[z+12>>1]|0;n=i[H+14>>1]|0;h=i[z+14>>1]|0;t=i[H+16>>1]|0;M=i[z+16>>1]|0;y=i[H+18>>1]|0;z=i[z+18>>1]|0;d=2147483647;H=0;w=0;A=782;do{U=i[A>>1]|0;C=(ee(Y,i[A+2>>1]|0)|0)>>>15<<16;m=C>>16;N=U<<1;B=(ee(N,U)|0)>>16;p=ee(B,j)|0;if((p|0)==1073741824){o[F>>2]=1;I=2147483647}else I=p<<1;x=(ee(K,B)|0)>>15;p=I+(x<<1)|0;if((I^x|0)>0&(p^I|0)<0){o[F>>2]=1;p=(I>>>31)+2147483647|0}B=ee(q,U)|0;if((B|0)==1073741824){o[F>>2]=1;I=2147483647}else I=B<<1;x=(ee(V,U)|0)>>15;B=I+(x<<1)|0;if((I^x|0)>0&(B^I|0)<0){o[F>>2]=1;B=(I>>>31)+2147483647|0}C=(ee(C>>15,m)|0)>>16;I=ee(W,C)|0;if((I|0)==1073741824){o[F>>2]=1;P=2147483647}else P=I<<1;x=(ee(X,C)|0)>>15;I=P+(x<<1)|0;if((P^x|0)>0&(I^P|0)<0){o[F>>2]=1;I=(P>>>31)+2147483647|0}C=ee(G,m)|0;if((C|0)==1073741824){o[F>>2]=1;P=2147483647}else P=C<<1;x=(ee(Z,m)|0)>>15;C=P+(x<<1)|0;if((P^x|0)>0&(C^P|0)<0){o[F>>2]=1;x=(P>>>31)+2147483647|0}else x=C;P=(ee(N,m)|0)>>16;C=ee(J,P)|0;if((C|0)==1073741824){o[F>>2]=1;N=2147483647}else N=C<<1;L=(ee(Q,P)|0)>>15;C=N+(L<<1)|0;if((N^L|0)>0&(C^N|0)<0){o[F>>2]=1;C=(N>>>31)+2147483647|0}P=i[A+4>>1]|0;N=i[A+6>>1]|0;A=A+8|0;if((U-$&65535)<<16>>16<1?(re=P<<16>>16,P<<16>>16<=S<<16>>16):0){T=(ee(N<<16>>16,E)|0)>>>15<<16;U=T>>16;O=re<<1;N=(ee(O,re)|0)>>16;P=ee(l,N)|0;if((P|0)==1073741824){o[F>>2]=1;D=2147483647}else D=P<<1;L=(ee(R,N)|0)>>15;P=D+(L<<1)|0;if((D^L|0)>0&(P^D|0)<0){o[F>>2]=1;P=(D>>>31)+2147483647|0}N=ee(g,re)|0;if((N|0)==1073741824){o[F>>2]=1;D=2147483647}else D=N<<1;L=(ee(a,re)|0)>>15;N=D+(L<<1)|0;if((D^L|0)>0&(N^D|0)<0){o[F>>2]=1;L=(D>>>31)+2147483647|0}else L=N;D=(ee(T>>15,U)|0)>>16;N=ee(n,D)|0;if((N|0)==1073741824){o[F>>2]=1;T=2147483647}else T=N<<1;m=(ee(h,D)|0)>>15;N=T+(m<<1)|0;if((T^m|0)>0&(N^T|0)<0){o[F>>2]=1;m=(T>>>31)+2147483647|0}else m=N;N=ee(t,U)|0;if((N|0)==1073741824){o[F>>2]=1;D=2147483647}else D=N<<1;T=(ee(M,U)|0)>>15;N=D+(T<<1)|0;if((D^T|0)>0&(N^D|0)<0){o[F>>2]=1;f=(D>>>31)+2147483647|0}else f=N;D=(ee(O,U)|0)>>16;N=ee(y,D)|0;if((N|0)==1073741824){o[F>>2]=1;T=2147483647}else T=N<<1;U=(ee(z,D)|0)>>15;N=T+(U<<1)|0;if((T^U|0)>0&(N^T|0)<0){o[F>>2]=1;N=(T>>>31)+2147483647|0}U=B+p+I+x+C+P+L+m+f+N|0;x=(U|0)<(d|0);d=x?U:d;w=x?H:w}H=H+1<<16>>16}while(H<<16>>16<256);S=(w&65535)<<18>>16;wt(e,782+(S<<1)|0,ne,r,b,v,F);Jt(e,0,u,ie,oe,te,ae,F);u=(_i(14,i[oe>>1]|0,F)|0)&65535;wt(e,782+((S|2)<<1)|0,u,i[ie>>1]|0,_,k,F);c=se;return w|0}function wt(e,r,n,t,a,l,f){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;var u=0,d=0,h=0,w=0;w=c;c=c+16|0;d=w+2|0;h=w;i[a>>1]=i[r>>1]|0;u=i[r+2>>1]|0;n=ee(n<<16>>16<<1,u)|0;a=10-(t&65535)|0;r=a&65535;a=a<<16>>16;if(r<<16>>16>0)r=r<<16>>16<31?n>>a:0;else{a=0-a<<16>>16;r=n<<a;r=(r>>a|0)==(n|0)?r:n>>31^2147483647}i[l>>1]=r>>>16;si(u,d,h,f);i[d>>1]=(s[d>>1]|0)+65524;a=Ci(i[h>>1]|0,5,f)|0;t=i[d>>1]|0;a=((t&65535)<<10)+(a&65535)&65535;n=i[h>>1]|0;t=t<<16>>16;if((t*24660|0)==1073741824){o[f>>2]=1;r=2147483647}else r=t*49320|0;h=(n<<16>>16)*24660>>15;t=r+(h<<1)|0;if(!((r^h|0)>0&(t^r|0)<0)){f=t;f=f<<13;f=f+32768|0;f=f>>>16;f=f&65535;Qt(e,a,f);c=w;return}o[f>>2]=1;f=(r>>>31)+2147483647|0;f=f<<13;f=f+32768|0;f=f>>>16;f=f&65535;Qt(e,a,f);c=w;return}function mt(e,r,n,t,a,l,f,u,d,h,w,m,E,p,S,b,v,_,k,F,M){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;m=m|0;E=E|0;p=p|0;S=S|0;b=b|0;v=v|0;_=_|0;k=k|0;F=F|0;M=M|0;var g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0,W=0,X=0,G=0,Z=0,J=0,Q=0,$=0,re=0,ne=0,te=0,ie=0,oe=0,ae=0,se=0,le=0,fe=0,ue=0,ce=0;ce=c;c=c+80|0;le=ce+72|0;fe=ce+70|0;ue=ce+68|0;ae=ce+66|0;se=ce+56|0;J=ce+24|0;Z=ce+12|0;X=ce+48|0;G=ce+40|0;j=ce+34|0;q=ce+22|0;z=ce+6|0;Y=ce;pt(5,p,S,z,Y,o[F+72>>2]|0,M)|0;y=_i(14,h,M)|0;K=F+68|0;H=o[K>>2]|0;W=d<<16>>16;V=W+65526|0;p=(s[l>>1]|0)+65523&65535;i[se>>1]=p;F=(s[l+2>>1]|0)+65522&65535;i[se+2>>1]=F;te=V<<16>>16;ie=((V<<17>>17|0)==(te|0)?V<<1:te>>>15^32767)+15+(s[l+4>>1]|0)&65535;i[se+4>>1]=ie;oe=(s[l+6>>1]|0)+te&65535;i[se+6>>1]=oe;l=te+1+(s[l+8>>1]|0)&65535;i[se+8>>1]=l;F=F<<16>>16>p<<16>>16?F:p;F=ie<<16>>16>F<<16>>16?ie:F;F=oe<<16>>16>F<<16>>16?oe:F;F=(Wt(l<<16>>16>F<<16>>16?l:F,1,M)|0)&65535;l=p;p=0;while(1){h=F-(l&65535)|0;l=h&65535;R=s[a+(p<<1)>>1]<<16;h=h<<16>>16;if(l<<16>>16>0)h=l<<16>>16<31?R>>h:0;else{oe=0-h<<16>>16;h=R<<oe;h=(h>>oe|0)==(R|0)?h:R>>31^2147483647}jn(h,J+(p<<1)|0,Z+(p<<1)|0,M);h=p+1|0;if((h|0)==5)break;l=i[se+(h<<1)>>1]|0;p=h}U=J+2|0;x=Z+2|0;oe=y<<16>>16;Q=J+4|0;$=Z+4|0;re=J+6|0;ne=Z+6|0;te=J+8|0;ie=Z+8|0;T=0;l=2147483647;a=0;h=0;while(1){L=i[z+(a<<1)>>1]|0;y=ee(L,L)|0;if(y>>>0>1073741823){o[M>>2]=1;y=32767}else y=y>>>15;F=i[Z>>1]|0;R=y<<16>>16;y=ee(R,i[J>>1]|0)|0;if((y|0)==1073741824){o[M>>2]=1;p=2147483647}else p=y<<1;B=(ee(F<<16>>16,R)|0)>>15;y=p+(B<<1)|0;if((p^B|0)>0&(y^p|0)<0){o[M>>2]=1;y=(p>>>31)+2147483647|0}F=i[x>>1]|0;R=ee(i[U>>1]|0,L)|0;if((R|0)!=1073741824){p=(R<<1)+y|0;if((R^y|0)>0&(p^y|0)<0){o[M>>2]=1;p=(y>>>31)+2147483647|0}}else{o[M>>2]=1;p=2147483647}y=(ee(F<<16>>16,L)|0)>>15;if((y|0)>32767){o[M>>2]=1;y=32767}B=y<<16;y=(B>>15)+p|0;if((B>>16^p|0)>0&(y^p|0)<0){o[M>>2]=1;B=(p>>>31)+2147483647|0}else B=y;C=(B>>>31)+2147483647|0;I=a&65535;y=T;N=0;P=H;do{R=(ee(i[P>>1]|0,oe)|0)>>15;P=P+6|0;if((R|0)>32767){o[M>>2]=1;R=32767}D=R<<16>>16;R=ee(D,D)|0;if((R|0)==1073741824){o[M>>2]=1;O=2147483647}else O=R<<1;jn(O,le,fe,M);R=ee(D,L)|0;if((R|0)==1073741824){o[M>>2]=1;O=2147483647}else O=R<<1;jn(O,ue,ae,M);p=i[$>>1]|0;A=i[fe>>1]|0;R=i[Q>>1]|0;F=i[le>>1]|0;T=ee(F,R)|0;if((T|0)!=1073741824){O=(T<<1)+B|0;if((T^B|0)>0&(O^B|0)<0){o[M>>2]=1;O=C}}else{o[M>>2]=1;O=2147483647}T=(ee(A<<16>>16,R)|0)>>15;if((T|0)>32767){o[M>>2]=1;T=32767}A=T<<16;T=(A>>15)+O|0;if((A>>16^O|0)>0&(T^O|0)<0){o[M>>2]=1;T=(O>>>31)+2147483647|0}O=(ee(F,p<<16>>16)|0)>>15;if((O|0)>32767){o[M>>2]=1;O=32767}A=O<<16;O=(A>>15)+T|0;if((A>>16^T|0)>0&(O^T|0)<0){o[M>>2]=1;O=(T>>>31)+2147483647|0}R=i[ne>>1]|0;T=ee(i[re>>1]|0,D)|0;if((T|0)!=1073741824){A=(T<<1)+O|0;if((T^O|0)>0&(A^O|0)<0){o[M>>2]=1;A=(O>>>31)+2147483647|0}}else{o[M>>2]=1;A=2147483647}R=(ee(R<<16>>16,D)|0)>>15;if((R|0)>32767){o[M>>2]=1;R=32767}D=R<<16;R=(D>>15)+A|0;if((D>>16^A|0)>0&(R^A|0)<0){o[M>>2]=1;R=(A>>>31)+2147483647|0}F=i[ie>>1]|0;A=i[ae>>1]|0;p=i[te>>1]|0;g=i[ue>>1]|0;T=ee(g,p)|0;do if((T|0)==1073741824){o[M>>2]=1;T=2147483647}else{O=(T<<1)+R|0;if(!((T^R|0)>0&(O^R|0)<0)){T=O;break}o[M>>2]=1;T=(R>>>31)+2147483647|0}while(0);O=(ee(A<<16>>16,p)|0)>>15;if((O|0)>32767){o[M>>2]=1;O=32767}D=O<<16;O=(D>>15)+T|0;if((D>>16^T|0)>0&(O^T|0)<0){o[M>>2]=1;O=(T>>>31)+2147483647|0}R=(ee(g,F<<16>>16)|0)>>15;if((R|0)>32767){o[M>>2]=1;R=32767}D=R<<16;
R=(D>>15)+O|0;if((D>>16^O|0)>0&(R^O|0)<0){o[M>>2]=1;R=(O>>>31)+2147483647|0}D=(R|0)<(l|0);y=D?N:y;h=D?I:h;l=D?R:l;N=N+1<<16>>16}while(N<<16>>16<32);a=a+1|0;if((a|0)==3){R=y;a=h;break}else T=y}x=(R<<16>>16)*3|0;l=i[H+(x<<1)>>1]|0;i[v>>1]=i[H+(x+1<<1)>>1]|0;i[_>>1]=i[H+(x+2<<1)>>1]|0;l=ee(l<<16>>16,oe)|0;if((l|0)==1073741824){o[M>>2]=1;y=2147483647}else y=l<<1;x=9-W|0;H=x&65535;x=x<<16>>16;U=H<<16>>16>0;if(U)y=H<<16>>16<31?y>>x:0;else{B=0-x<<16>>16;L=y<<B;y=(L>>B|0)==(y|0)?L:y>>31^2147483647}i[b>>1]=y>>>16;L=a<<16>>16;z=i[z+(L<<1)>>1]|0;i[S>>1]=z;Y=i[Y+(L<<1)>>1]|0;Gr(r,n,t,z,w,X,G,j,M);yn(e,i[j>>1]|0,i[b>>1]|0,q,M);if(!((i[X>>1]|0)!=0&(i[q>>1]|0)>0)){M=R;v=o[k>>2]|0;b=v+2|0;i[v>>1]=Y;v=v+4|0;o[k>>2]=v;i[b>>1]=M;c=ce;return}D=X+6|0;i[D>>1]=u;O=G+6|0;i[O>>1]=f;d=((Bi(E,d,M)|0)&65535)+10|0;F=d<<16>>16;if((d&65535)<<16>>16<0){h=0-F<<16;if((h|0)<983040)m=m<<16>>16>>(h>>16)&65535;else m=0}else{h=m<<16>>16;p=h<<F;if((p<<16>>16>>F|0)==(h|0))m=p&65535;else m=(h>>>15^32767)&65535}l=i[S>>1]|0;y=i[q>>1]|0;K=o[K>>2]|0;p=i[b>>1]|0;q=10-W|0;F=q<<16>>16;if((q&65535)<<16>>16<0){h=0-F<<16;if((h|0)<983040)u=p<<16>>16>>(h>>16)&65535;else u=0}else{h=p<<16>>16;p=h<<F;if((p<<16>>16>>F|0)==(h|0))u=p&65535;else u=(h>>>15^32767)&65535}a=l<<16>>16;h=ee(a,a)|0;if(h>>>0>1073741823){o[M>>2]=1;l=32767}else l=h>>>15;R=Wt(32767-(y&65535)&65535,1,M)|0;y=y<<16>>16;h=ee(i[X+2>>1]|0,y)|0;if((h|0)==1073741824){o[M>>2]=1;h=2147483647}else h=h<<1;q=h<<1;h=ee(((q>>1|0)==(h|0)?q:h>>31^2147418112)>>16,l<<16>>16)|0;if((h|0)==1073741824){o[M>>2]=1;T=2147483647}else T=h<<1;A=(s[G+2>>1]|0)+65521|0;F=A&65535;h=ee(i[X+4>>1]|0,y)|0;if((h|0)==1073741824){o[M>>2]=1;l=2147483647}else l=h<<1;h=l<<1;h=(ee(((h>>1|0)==(l|0)?h:l>>31^2147418112)>>16,a)|0)>>15;if((h|0)>32767){o[M>>2]=1;h=32767}i[Q>>1]=h;l=V&65535;i[le>>1]=l;l=Wt(i[G+4>>1]|0,l,M)|0;h=ee(i[D>>1]|0,y)|0;if((h|0)==1073741824){o[M>>2]=1;h=2147483647}else h=h<<1;g=h<<1;i[re>>1]=((g>>1|0)==(h|0)?g:h>>31^2147418112)>>>16;g=((W<<17>>17|0)==(W|0)?W<<1:W>>>15^32767)+65529&65535;i[le>>1]=g;g=Wt(i[O>>1]|0,g,M)|0;h=(ee(i[D>>1]|0,R<<16>>16)|0)>>15;if((h|0)>32767){o[M>>2]=1;h=32767}i[te>>1]=h;R=Wt(g,1,M)|0;p=ee(i[X>>1]|0,y)|0;if((p|0)==1073741824){o[M>>2]=1;h=2147483647}else h=p<<1;O=Ii(h,le,M)|0;a=(s[le>>1]|0)+47|0;i[le>>1]=a;a=(s[G>>1]|0)-(a&65535)|0;y=a+31&65535;y=F<<16>>16>y<<16>>16?F:y;y=l<<16>>16>y<<16>>16?l:y;y=g<<16>>16>y<<16>>16?g:y;y=(R<<16>>16>y<<16>>16?R:y)<<16>>16;p=y-(A&65535)|0;h=p&65535;p=p<<16>>16;if(h<<16>>16>0)B=h<<16>>16<31?T>>p:0;else{G=0-p<<16>>16;B=T<<G;B=(B>>G|0)==(T|0)?B:T>>31^2147483647}F=y-(l&65535)|0;h=F&65535;p=s[Q>>1]<<16;F=F<<16>>16;if(h<<16>>16>0)p=h<<16>>16<31?p>>F:0;else{X=0-F<<16>>16;G=p<<X;p=(G>>X|0)==(p|0)?G:p>>31^2147483647}jn(p,Q,$,M);g=y-(g&65535)|0;p=g&65535;F=s[re>>1]<<16;g=g<<16>>16;if(p<<16>>16>0)p=p<<16>>16<31?F>>g:0;else{G=0-g<<16>>16;p=F<<G;p=(p>>G|0)==(F|0)?p:F>>31^2147483647}jn(p,re,ne,M);g=y-(R&65535)|0;p=g&65535;F=s[te>>1]<<16;g=g<<16>>16;if(p<<16>>16>0)p=p<<16>>16<31?F>>g:0;else{G=0-g<<16>>16;p=F<<G;p=(p>>G|0)==(F|0)?p:F>>31^2147483647}jn(p,te,ie,M);g=y+65505|0;i[le>>1]=g;g=g-(a&65535)|0;p=Pi(g&65535,1,M)|0;F=p<<16>>16;if(p<<16>>16>0)F=p<<16>>16<31?O>>F:0;else{G=0-F<<16>>16;F=O<<G;F=(F>>G|0)==(O|0)?F:O>>31^2147483647}do if(!(g&1))T=F;else{jn(F,J,Z,M);p=i[Z>>1]|0;F=i[J>>1]|0;if((F*23170|0)==1073741824){o[M>>2]=1;g=2147483647}else g=F*46340|0;J=(p<<16>>16)*23170>>15;F=g+(J<<1)|0;if(!((g^J|0)>0&(F^g|0)<0)){T=F;break}o[M>>2]=1;T=(g>>>31)+2147483647|0}while(0);D=(B>>>31)+2147483647|0;O=2147483647;A=0;F=0;N=K;while(1){p=(ee(i[N>>1]|0,oe)|0)>>15;N=N+6|0;if((p|0)>32767){o[M>>2]=1;p=32767}g=p&65535;if(g<<16>>16>=u<<16>>16)break;l=p<<16>>16;p=ee(l,l)|0;if((p|0)==1073741824){o[M>>2]=1;h=2147483647}else h=p<<1;jn(h,fe,ue,M);p=(Bi(g,m,M)|0)<<16>>16;p=ee(p,p)|0;if((p|0)==1073741824){o[M>>2]=1;p=2147483647}else p=p<<1;jn(p,ae,se,M);g=i[$>>1]|0;h=ee(i[Q>>1]|0,l)|0;do if((h|0)==1073741824){o[M>>2]=1;h=2147483647}else{p=(h<<1)+B|0;if(!((h^B|0)>0&(p^B|0)<0)){h=p;break}o[M>>2]=1;h=D}while(0);p=(ee(g<<16>>16,l)|0)>>15;if((p|0)>32767){o[M>>2]=1;p=32767}J=p<<16;p=(J>>15)+h|0;if((J>>16^h|0)>0&(p^h|0)<0){o[M>>2]=1;p=(h>>>31)+2147483647|0}a=i[ne>>1]|0;R=i[ue>>1]|0;l=i[re>>1]|0;y=i[fe>>1]|0;h=ee(y,l)|0;do if((h|0)==1073741824){o[M>>2]=1;g=2147483647}else{g=(h<<1)+p|0;if(!((h^p|0)>0&(g^p|0)<0))break;o[M>>2]=1;g=(p>>>31)+2147483647|0}while(0);h=(ee(R<<16>>16,l)|0)>>15;if((h|0)>32767){o[M>>2]=1;h=32767}J=h<<16;h=(J>>15)+g|0;if((J>>16^g|0)>0&(h^g|0)<0){o[M>>2]=1;h=(g>>>31)+2147483647|0}p=(ee(y,a<<16>>16)|0)>>15;if((p|0)>32767){o[M>>2]=1;p=32767}J=p<<16;p=(J>>15)+h|0;if((J>>16^h|0)>0&(p^h|0)<0){o[M>>2]=1;p=(h>>>31)+2147483647|0}p=Ii(p,le,M)|0;g=Pi(i[le>>1]|0,1,M)|0;h=g<<16>>16;if(g<<16>>16>0)g=g<<16>>16<31?p>>h:0;else{J=0-h<<16>>16;g=p<<J;g=(g>>J|0)==(p|0)?g:p>>31^2147483647}p=g-T|0;if(((p^g)&(g^T)|0)<0){o[M>>2]=1;p=(g>>>31)+2147483647|0}p=(Ni(p,M)|0)<<16>>16;p=ee(p,p)|0;if((p|0)==1073741824){o[M>>2]=1;g=2147483647}else g=p<<1;y=i[ie>>1]|0;l=i[se>>1]|0;R=i[te>>1]|0;a=i[ae>>1]|0;h=ee(a,R)|0;do if((h|0)==1073741824){o[M>>2]=1;p=2147483647}else{p=(h<<1)+g|0;if(!((h^g|0)>0&(p^g|0)<0))break;o[M>>2]=1;p=(g>>>31)+2147483647|0}while(0);h=(ee(l<<16>>16,R)|0)>>15;if((h|0)>32767){o[M>>2]=1;h=32767}J=h<<16;h=(J>>15)+p|0;if((J>>16^p|0)>0&(h^p|0)<0){o[M>>2]=1;h=(p>>>31)+2147483647|0}p=(ee(a,y<<16>>16)|0)>>15;if((p|0)>32767){o[M>>2]=1;p=32767}J=p<<16;p=(J>>15)+h|0;if((J>>16^h|0)>0&(p^h|0)<0){o[M>>2]=1;p=(h>>>31)+2147483647|0}h=(p|0)<(O|0);F=h?A:F;A=A+1<<16>>16;if(A<<16>>16>=32)break;else O=h?p:O}ue=(F<<16>>16)*3|0;g=i[K+(ue<<1)>>1]|0;i[v>>1]=i[K+(ue+1<<1)>>1]|0;i[_>>1]=i[K+(ue+2<<1)>>1]|0;g=ee(g<<16>>16,oe)|0;if((g|0)==1073741824){o[M>>2]=1;g=2147483647}else g=g<<1;if(U)g=H<<16>>16<31?g>>x:0;else{v=0-x<<16>>16;M=g<<v;g=(M>>v|0)==(g|0)?M:g>>31^2147483647}i[b>>1]=g>>>16;M=F;v=o[k>>2]|0;b=v+2|0;i[v>>1]=Y;v=v+4|0;o[k>>2]=v;i[b>>1]=M;c=ce;return}function Et(e,r,n,t,o,a,s,l){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;s=s|0;l=l|0;var f=0,u=0,c=0,d=0,h=0;h=(e|0)==7;f=i[t>>1]|0;if(h){f=f<<16>>16>>>1&65535;d=_i(r,n,l)|0;r=d<<16;e=r>>16;if((d<<20>>20|0)==(e|0))e=r>>12;else e=e>>>15^32767}else{d=_i(r,n,l)|0;r=d<<16;e=r>>16;if((d<<21>>21|0)==(e|0))e=r>>11;else e=e>>>15^32767}d=e<<16>>16;l=f<<16>>16;r=l-((ee(d,i[s>>1]|0)|0)>>>15&65535)|0;r=((r&32768|0)!=0?0-r|0:r)&65535;u=1;e=0;c=s;while(1){c=c+6|0;f=l-((ee(i[c>>1]|0,d)|0)>>>15&65535)|0;n=f<<16;f=(n|0)<0?0-(n>>16)|0:f;n=(f<<16>>16|0)<(r<<16>>16|0);e=n?u:e;u=u+1<<16>>16;if(u<<16>>16>=32)break;else r=n?f&65535:r}c=(e<<16>>16)*196608>>16;i[t>>1]=(ee(i[s+(c<<1)>>1]|0,d)|0)>>>15<<(h&1);i[o>>1]=i[s+(c+1<<1)>>1]|0;i[a>>1]=i[s+(c+2<<1)>>1]|0;return e|0}function pt(e,r,n,t,o,a,s){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;s=s|0;var l=0,f=0,u=0,c=0,d=0,h=0;l=Bi(i[n>>1]|0,i[a>>1]|0,s)|0;l=(l&65535)-((l&65535)>>>15&65535)|0;l=(l<<16>>31^l)&65535;u=0;c=1;while(1){f=i[a+(c<<1)>>1]|0;if(f<<16>>16>r<<16>>16)f=l;else{f=Bi(i[n>>1]|0,f,s)|0;f=(f&65535)-((f&65535)>>>15&65535)|0;f=(f<<16>>31^f)&65535;h=f<<16>>16<l<<16>>16;f=h?f:l;u=h?c&65535:u}c=c+1|0;if((c|0)==16)break;else l=f}if((e|0)!=5){l=i[a+(u<<16>>16<<1)>>1]|0;if((e|0)==7){i[n>>1]=l&65532;return u|0}else{i[n>>1]=l;return u|0}}f=u<<16>>16;switch(u<<16>>16){case 0:{l=0;break}case 15:{d=8;break}default:if((i[a+(f+1<<1)>>1]|0)>r<<16>>16)d=8;else l=f+65535&65535}if((d|0)==8)l=f+65534&65535;i[o>>1]=l;h=l<<16>>16;i[t>>1]=i[a+(h<<1)>>1]|0;h=h+1|0;i[o+2>>1]=h;h=h<<16>>16;i[t+2>>1]=i[a+(h<<1)>>1]|0;h=h+1|0;i[o+4>>1]=h;i[t+4>>1]=i[a+(h<<16>>16<<1)>>1]|0;i[n>>1]=i[a+(f<<1)>>1]|0;return u|0}function St(e,r,n,t,a,l,f,u,d,h,w,m){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;m=m|0;var E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0;B=c;c=c+32|0;S=B+20|0;b=B+10|0;p=B;switch(e|0){case 3:case 4:case 6:{w=w+84|0;I=128;break}default:{w=w+80|0;I=64}}C=o[w>>2]|0;E=_i(14,n,m)|0;P=r<<16>>16;N=P+65525|0;e=(s[a>>1]|0)+65523&65535;i[p>>1]=e;r=(s[a+2>>1]|0)+65522&65535;i[p+2>>1]=r;D=N<<16>>16;D=Wt(i[a+4>>1]|0,((N<<17>>17|0)==(D|0)?N<<1:D>>>15^32767)+15&65535,m)|0;i[p+4>>1]=D;N=Wt(i[a+6>>1]|0,N&65535,m)|0;i[p+6>>1]=N;a=Wt(i[a+8>>1]|0,P+65526&65535,m)|0;i[p+8>>1]=a;r=r<<16>>16>e<<16>>16?r:e;r=D<<16>>16>r<<16>>16?D:r;r=N<<16>>16>r<<16>>16?N:r;r=(a<<16>>16>r<<16>>16?a:r)+1&65535;a=0;while(1){n=r-(e&65535)|0;w=n&65535;e=s[t+(a<<1)>>1]<<16;n=n<<16>>16;if(w<<16>>16>0)w=w<<16>>16<31?e>>n:0;else{N=0-n<<16>>16;w=e<<N;w=(w>>N|0)==(e|0)?w:e>>31^2147483647}jn(w,S+(a<<1)|0,b+(a<<1)|0,m);w=a+1|0;if((w|0)==5)break;e=i[p+(w<<1)>>1]|0;a=w}N=E<<16>>16;M=i[S>>1]|0;g=i[b>>1]|0;R=i[S+2>>1]|0;y=i[b+2>>1]|0;A=i[S+4>>1]|0;O=i[b+4>>1]|0;T=i[S+6>>1]|0;D=i[b+6>>1]|0;F=i[S+8>>1]|0;v=i[b+8>>1]|0;r=2147483647;_=0;w=0;k=C;while(1){a=i[k>>1]|0;if(a<<16>>16>l<<16>>16)E=r;else{E=(ee(i[k+2>>1]|0,N)|0)>>15;if((E|0)>32767){o[m>>2]=1;E=32767}b=a<<16>>16;a=ee(b,b)|0;if(a>>>0>1073741823){o[m>>2]=1;p=32767}else p=a>>>15;n=E<<16>>16;E=ee(n,n)|0;if(E>>>0>1073741823){o[m>>2]=1;S=32767}else S=E>>>15;t=(ee(n,b)|0)>>15;if((t|0)>32767){o[m>>2]=1;t=32767}E=p<<16>>16;p=ee(M,E)|0;if((p|0)==1073741824){o[m>>2]=1;a=2147483647}else a=p<<1;E=(ee(g,E)|0)>>15;p=a+(E<<1)|0;if((a^E|0)>0&(p^a|0)<0){o[m>>2]=1;p=(a>>>31)+2147483647|0}E=ee(R,b)|0;if((E|0)==1073741824){o[m>>2]=1;a=2147483647}else a=E<<1;b=(ee(y,b)|0)>>15;E=a+(b<<1)|0;if((a^b|0)>0&(E^a|0)<0){o[m>>2]=1;E=(a>>>31)+2147483647|0}a=E+p|0;if((E^p|0)>-1&(a^p|0)<0){o[m>>2]=1;a=(p>>>31)+2147483647|0}E=S<<16>>16;p=ee(A,E)|0;if((p|0)==1073741824){o[m>>2]=1;e=2147483647}else e=p<<1;b=(ee(O,E)|0)>>15;p=e+(b<<1)|0;if((e^b|0)>0&(p^e|0)<0){o[m>>2]=1;p=(e>>>31)+2147483647|0}E=p+a|0;if((p^a|0)>-1&(E^a|0)<0){o[m>>2]=1;e=(a>>>31)+2147483647|0}else e=E;E=ee(T,n)|0;if((E|0)==1073741824){o[m>>2]=1;p=2147483647}else p=E<<1;b=(ee(D,n)|0)>>15;E=p+(b<<1)|0;if((p^b|0)>0&(E^p|0)<0){o[m>>2]=1;E=(p>>>31)+2147483647|0}a=E+e|0;if((E^e|0)>-1&(a^e|0)<0){o[m>>2]=1;p=(e>>>31)+2147483647|0}else p=a;a=t<<16>>16;E=ee(F,a)|0;if((E|0)==1073741824){o[m>>2]=1;e=2147483647}else e=E<<1;b=(ee(v,a)|0)>>15;E=e+(b<<1)|0;if((e^b|0)>0&(E^e|0)<0){o[m>>2]=1;a=(e>>>31)+2147483647|0}else a=E;E=a+p|0;if((a^p|0)>-1&(E^p|0)<0){o[m>>2]=1;E=(p>>>31)+2147483647|0}b=(E|0)<(r|0);E=b?E:r;w=b?_:w}k=k+8|0;_=_+1<<16>>16;if((_<<16>>16|0)>=(I|0))break;else r=E}l=w<<16>>16;l=((l<<18>>18|0)==(l|0)?l<<2:l>>>15^32767)<<16>>16;i[f>>1]=i[C+(l<<1)>>1]|0;r=i[C+(l+1<<1)>>1]|0;i[d>>1]=i[C+(l+2<<1)>>1]|0;i[h>>1]=i[C+(l+3<<1)>>1]|0;r=ee(r<<16>>16,N)|0;if((r|0)==1073741824){o[m>>2]=1;e=2147483647}else e=r<<1;n=10-P|0;r=n&65535;n=n<<16>>16;if(r<<16>>16>0){m=r<<16>>16<31?e>>n:0;m=m>>>16;m=m&65535;i[u>>1]=m;c=B;return w|0}else{d=0-n<<16>>16;m=e<<d;m=(m>>d|0)==(e|0)?m:e>>31^2147483647;m=m>>>16;m=m&65535;i[u>>1]=m;c=B;return w|0}return 0}function bt(e,r,n,t,o,a,l,f,u){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;l=l|0;f=f|0;u=u|0;var d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0,W=0,X=0,G=0,Z=0,J=0,Q=0,$=0,re=0,ne=0,te=0,ie=0,oe=0,ae=0,se=0,le=0,fe=0,ue=0,ce=0,de=0,he=0,we=0,me=0,Ee=0,pe=0,Se=0,be=0,ve=0,_e=0,ke=0;ke=c;c=c+160|0;_e=ke;h=e<<16>>16;be=e<<16>>16==10;ve=i[l+(i[a>>1]<<1)>>1]|0;if(e<<16>>16>0){u=0;d=f;while(1){i[d>>1]=u;u=u+1<<16>>16;if(u<<16>>16>=e<<16>>16)break;else d=d+2|0}}if(n<<16>>16<=1){c=ke;return}pe=a+2|0;Se=ve<<16>>16;we=t+(Se<<1)|0;me=o+(Se*80|0)+(Se<<1)|0;Ee=a+6|0;G=r&65535;Z=a+4|0;J=a+10|0;Q=a+8|0;$=a+14|0;re=a+12|0;ne=a+18|0;te=a+16|0;ie=f+2|0;oe=f+4|0;ae=f+6|0;se=f+8|0;le=f+10|0;fe=f+12|0;ue=f+14|0;ce=f+16|0;de=f+18|0;he=e<<16>>16>2;W=a+(h+-1<<1)|0;q=1;X=1;x=0;H=0;V=-1;while(1){K=i[l+(i[pe>>1]<<1)>>1]|0;j=K<<16>>16;r=(s[t+(j<<1)>>1]|0)+(s[we>>1]|0)|0;d=(i[o+(Se*80|0)+(j<<1)>>1]<<13)+32768+((i[o+(j*80|0)+(j<<1)>>1]|0)+(i[me>>1]|0)<<12)|0;h=i[Ee>>1]|0;if(h<<16>>16<40){h=h<<16>>16;w=_e;while(1){z=(i[o+(h*80|0)+(h<<1)>>1]|0)>>>1;U=i[o+(h*80|0)+(Se<<1)>>1]|0;Y=i[o+(h*80|0)+(j<<1)>>1]|0;i[w>>1]=r+(s[t+(h<<1)>>1]|0);i[w+2>>1]=(U+2+z+Y|0)>>>2;h=h+G|0;if((h&65535)<<16>>16<40){h=h<<16>>16;w=w+4|0}else break}y=i[Ee>>1]|0}else y=h;r=i[Z>>1]|0;R=d>>12;h=r<<16>>16;e:do if(r<<16>>16<40){g=y<<16>>16;if(y<<16>>16<40){w=1;E=r;S=y;p=0;m=-1}else while(1){h=h+G|0;if((h&65535)<<16>>16<40)h=h<<16>>16;else{w=1;Y=r;z=y;h=0;break e}}while(1){M=((i[o+(h*80|0)+(h<<1)>>1]|0)+R>>1)+(i[o+(h*80|0)+(Se<<1)>>1]|0)+(i[o+(h*80|0)+(j<<1)>>1]|0)|0;F=s[t+(h<<1)>>1]|0;_=g;k=y;v=_e;b=p;while(1){d=(s[v>>1]|0)+F|0;u=d<<16>>16;u=(ee(u,u)|0)>>>15;p=(M+(i[o+(h*80|0)+(_<<1)>>1]|0)>>2)+(i[v+2>>1]|0)>>1;if((ee(u<<16>>16,w<<16>>16)|0)>(ee(p,m<<16>>16)|0)){w=p&65535;E=r;S=k;p=d&65535;m=u&65535}else p=b;d=_+G|0;k=d&65535;if(k<<16>>16>=40)break;else{_=d<<16>>16;v=v+4|0;b=p}}h=h+G|0;r=h&65535;if(r<<16>>16<40)h=h<<16>>16;else{Y=E;z=S;h=p;break}}}else{w=1;Y=r;z=y;h=0}while(0);E=w<<16>>16<<15;w=i[J>>1]|0;if(w<<16>>16<40){d=Y<<16>>16;u=z<<16>>16;r=h&65535;w=w<<16>>16;h=_e;while(1){I=i[o+(w*80|0)+(w<<1)>>1]>>1;C=i[o+(w*80|0)+(Se<<1)>>1]|0;B=i[o+(w*80|0)+(j<<1)>>1]|0;L=i[o+(w*80|0)+(d<<1)>>1]|0;U=i[o+(w*80|0)+(u<<1)>>1]|0;i[h>>1]=(s[t+(w<<1)>>1]|0)+r;i[h+2>>1]=(C+2+I+B+L+U|0)>>>2;w=w+G|0;if((w&65535)<<16>>16<40){w=w<<16>>16;h=h+4|0}else break}I=i[J>>1]|0}else I=w;m=i[Q>>1]|0;w=m<<16>>16;e:do if(m<<16>>16<40){A=Y<<16>>16;O=z<<16>>16;T=I<<16>>16;y=E+32768|0;if(I<<16>>16<40){p=1;E=m;r=I;S=m;h=0;m=-1}else while(1){w=w+G|0;if((w&65535)<<16>>16<40)w=w<<16>>16;else{w=1;U=m;L=I;h=0;break e}}while(1){u=s[t+(w<<1)>>1]|0;R=(i[o+(w*80|0)+(j<<1)>>1]|0)+(i[o+(w*80|0)+(Se<<1)>>1]|0)+(i[o+(w*80|0)+(A<<1)>>1]|0)+(i[o+(w*80|0)+(O<<1)>>1]|0)|0;g=y+(i[o+(w*80|0)+(w<<1)>>1]<<11)|0;F=T;_=I;M=_e;while(1){b=(s[M>>1]|0)+u|0;d=g+(i[M+2>>1]<<14)+(R+(i[o+(w*80|0)+(F<<1)>>1]|0)<<12)|0;v=b<<16>>16;v=(ee(v,v)|0)>>>15;if((ee(v<<16>>16,p<<16>>16)|0)>(ee(d>>16,m<<16>>16)|0)){p=d>>>16&65535;k=S;r=_;h=b&65535;m=v&65535}else k=E;E=F+G|0;_=E&65535;if(_<<16>>16>=40){E=k;break}else{F=E<<16>>16;E=k;M=M+4|0}}w=w+G|0;S=w&65535;if(S<<16>>16<40)w=w<<16>>16;else{w=p;U=E;L=r;break}}}else{w=1;U=m;L=I;h=0}while(0);p=w<<16>>16<<15;w=i[$>>1]|0;if(w<<16>>16<40){d=Y<<16>>16;u=z<<16>>16;m=U<<16>>16;E=L<<16>>16;r=h&65535;w=w<<16>>16;h=_e;while(1){D=i[o+(w*80|0)+(w<<1)>>1]>>1;T=i[o+(Se*80|0)+(w<<1)>>1]|0;N=i[o+(j*80|0)+(w<<1)>>1]|0;P=i[o+(d*80|0)+(w<<1)>>1]|0;C=i[o+(u*80|0)+(w<<1)>>1]|0;I=i[o+(m*80|0)+(w<<1)>>1]|0;B=i[o+(E*80|0)+(w<<1)>>1]|0;i[h>>1]=(s[t+(w<<1)>>1]|0)+r;i[h+2>>1]=(T+4+D+N+P+C+I+B|0)>>>3;w=w+G|0;if((w&65535)<<16>>16<40){w=w<<16>>16;h=h+4|0}else break}r=i[$>>1]|0}else r=w;S=i[re>>1]|0;if(S<<16>>16<40){I=Y<<16>>16;D=z<<16>>16;T=U<<16>>16;O=L<<16>>16;A=r<<16>>16;y=r<<16>>16<40;N=p+32768|0;C=S<<16>>16;u=1;k=S;_=r;P=S;E=0;w=-1;while(1){if(y){p=s[t+(C<<1)>>1]|0;h=(i[o+(C*80|0)+(j<<1)>>1]|0)+(i[o+(C*80|0)+(Se<<1)>>1]|0)+(i[o+(C*80|0)+(I<<1)>>1]|0)+(i[o+(C*80|0)+(D<<1)>>1]|0)+(i[o+(C*80|0)+(T<<1)>>1]|0)+(i[o+(C*80|0)+(O<<1)>>1]|0)|0;m=N+(i[o+(C*80|0)+(C<<1)>>1]<<10)|0;v=A;S=r;g=_;R=_e;while(1){M=(s[R>>1]|0)+p|0;_=m+(i[R+2>>1]<<14)+(h+(i[o+(C*80|0)+(v<<1)>>1]|0)<<11)|0;F=M<<16>>16;F=(ee(F,F)|0)>>>15;if((ee(F<<16>>16,u<<16>>16)|0)>(ee(_>>16,w<<16>>16)|0)){u=_>>>16&65535;k=P;_=S;E=M&65535;w=F&65535}else _=g;b=v+G|0;S=b&65535;if(S<<16>>16>=40)break;else{v=b<<16>>16;g=_;R=R+4|0}}}S=C+G|0;P=S&65535;if(P<<16>>16>=40){B=_;break}else C=S<<16>>16}}else{u=1;k=S;B=r;E=0;w=-1}if(be){v=u<<16>>16<<15;w=i[ne>>1]|0;if(w<<16>>16<40){h=Y<<16>>16;r=z<<16>>16;d=U<<16>>16;u=L<<16>>16;p=k<<16>>16;S=B<<16>>16;m=E&65535;w=w<<16>>16;E=_e;while(1){T=i[o+(w*80|0)+(w<<1)>>1]>>1;O=i[o+(Se*80|0)+(w<<1)>>1]|0;D=i[o+(j*80|0)+(w<<1)>>1]|0;N=i[o+(h*80|0)+(w<<1)>>1]|0;P=i[o+(r*80|0)+(w<<1)>>1]|0;C=i[o+(d*80|0)+(w<<1)>>1]|0;I=i[o+(u*80|0)+(w<<1)>>1]|0;x=i[o+(p*80|0)+(w<<1)>>1]|0;H=i[o+(S*80|0)+(w<<1)>>1]|0;i[E>>1]=(s[t+(w<<1)>>1]|0)+m;i[E+2>>1]=(O+4+T+D+N+P+C+I+x+H|0)>>>3;w=w+G|0;if((w&65535)<<16>>16<40){w=w<<16>>16;E=E+4|0}else break}I=i[ne>>1]|0}else I=w;p=i[te>>1]|0;if(p<<16>>16<40){T=Y<<16>>16;O=z<<16>>16;A=U<<16>>16;d=L<<16>>16;D=k<<16>>16;N=B<<16>>16;P=I<<16>>16;C=I<<16>>16<40;y=v+32768|0;h=p<<16>>16;u=1;S=p;E=I;r=p;w=-1;while(1){if(C){v=s[t+(h<<1)>>1]|0;m=(i[o+(j*80|0)+(h<<1)>>1]|0)+(i[o+(Se*80|0)+(h<<1)>>1]|0)+(i[o+(T*80|0)+(h<<1)>>1]|0)+(i[o+(O*80|0)+(h<<1)>>1]|0)+(i[o+(A*80|0)+(h<<1)>>1]|0)+(i[o+(d*80|0)+(h<<1)>>1]|0)+(i[o+(D*80|0)+(h<<1)>>1]|0)+(i[o+(N*80|0)+(h<<1)>>1]|0)|0;p=y+(i[o+(h*80|0)+(h<<1)>>1]<<9)|0;R=P;F=I;g=_e;while(1){M=(s[g>>1]|0)+v<<16>>16;M=(ee(M,M)|0)>>>15;_=p+(i[g+2>>1]<<13)+(m+(i[o+(h*80|0)+(R<<1)>>1]|0)<<10)|0;if((ee(M<<16>>16,u<<16>>16)|0)>(ee(_>>16,w<<16>>16)|0)){u=_>>>16&65535;S=r;E=F;w=M&65535}b=R+G|0;F=b&65535;if(F<<16>>16>=40)break;else{R=b<<16>>16;g=g+4|0}}}p=h+G|0;r=p&65535;if(r<<16>>16>=40)break;else h=p<<16>>16}}else{u=1;S=p;E=I;w=-1}}else{S=x;E=H}if((ee(w<<16>>16,q<<16>>16)|0)>(ee(u<<16>>16,V<<16>>16)|0)){i[f>>1]=ve;i[ie>>1]=K;i[oe>>1]=Y;i[ae>>1]=z;i[se>>1]=U;i[le>>1]=L;i[fe>>1]=k;i[ue>>1]=B;if(be){i[ce>>1]=S;i[de>>1]=E}}else{u=q;w=V}h=i[pe>>1]|0;if(he){r=1;d=2;while(1){i[a+(r<<1)>>1]=i[a+(d<<1)>>1]|0;d=d+1|0;if((d&65535)<<16>>16==e<<16>>16)break;else r=r+1|0}}i[W>>1]=h;X=X+1<<16>>16;if(X<<16>>16>=n<<16>>16)break;else{q=u;x=S;H=E;V=w}}c=ke;return}function vt(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0,f=0,u=0;l=39;while(1){s=e+(l<<1)|0;a=i[s>>1]|0;o=r+(l<<1)|0;if(a<<16>>16>-1)i[o>>1]=32767;else{i[o>>1]=-32767;if(a<<16>>16==-32768)a=32767;else a=0-(a&65535)&65535;i[s>>1]=a}i[n+(l<<1)>>1]=a;if((l|0)>0)l=l+-1|0;else break}u=8-(t<<16>>16)|0;if((u|0)>0){f=0;o=0}else return;do{t=0;e=0;s=32767;while(1){r=i[n+(t<<1)>>1]|0;l=r<<16>>16>-1?r<<16>>16<s<<16>>16:0;o=l?e:o;a=t+5|0;e=a&65535;if(e<<16>>16>=40)break;else{t=a<<16>>16;s=l?r:s}}i[n+(o<<16>>16<<1)>>1]=-1;f=f+1<<16>>16}while((f<<16>>16|0)<(u|0));f=0;do{r=1;e=1;a=32767;while(1){t=i[n+(r<<1)>>1]|0;l=t<<16>>16>-1?t<<16>>16<a<<16>>16:0;o=l?e:o;s=r+5|0;e=s&65535;if(e<<16>>16>=40)break;else{r=s<<16>>16;a=l?t:a}}i[n+(o<<16>>16<<1)>>1]=-1;f=f+1<<16>>16}while((f<<16>>16|0)<(u|0));f=0;do{r=2;e=2;a=32767;while(1){t=i[n+(r<<1)>>1]|0;l=t<<16>>16>-1?t<<16>>16<a<<16>>16:0;o=l?e:o;s=r+5|0;e=s&65535;if(e<<16>>16>=40)break;else{r=s<<16>>16;a=l?t:a}}i[n+(o<<16>>16<<1)>>1]=-1;f=f+1<<16>>16}while((f<<16>>16|0)<(u|0));f=0;while(1){r=3;e=3;a=32767;while(1){t=i[n+(r<<1)>>1]|0;l=t<<16>>16>-1?t<<16>>16<a<<16>>16:0;o=l?e:o;s=r+5|0;e=s&65535;if(e<<16>>16>=40){a=o;break}else{r=s<<16>>16;a=l?t:a}}i[n+(a<<16>>16<<1)>>1]=-1;f=f+1<<16>>16;if((f<<16>>16|0)>=(u|0)){o=0;break}else o=a}do{r=4;e=4;f=32767;while(1){t=i[n+(r<<1)>>1]|0;l=t<<16>>16>-1?t<<16>>16<f<<16>>16:0;a=l?e:a;s=r+5|0;e=s&65535;if(e<<16>>16>=40)break;else{r=s<<16>>16;f=l?t:f}}i[n+(a<<16>>16<<1)>>1]=-1;o=o+1<<16>>16}while((o<<16>>16|0)<(u|0));return}function _t(e,r,n,t,a,s,l,f){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;var u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0;M=c;c=c+80|0;F=M;m=40;E=r;p=e;d=256;h=256;while(1){u=i[E>>1]|0;E=E+2|0;u=ee(u,u)|0;if((u|0)!=1073741824){w=(u<<1)+d|0;if((u^d|0)>0&(w^d|0)<0){o[f>>2]=1;d=(d>>>31)+2147483647|0}else d=w}else{o[f>>2]=1;d=2147483647}k=i[p>>1]|0;h=(ee(k<<1,k)|0)+h|0;m=m+-1<<16>>16;if(!(m<<16>>16))break;else p=p+2|0}k=ai(d,f)|0;v=k<<5;k=((v>>5|0)==(k|0)?v:k>>31^2147418112)>>16;v=(ai(h,f)|0)<<5>>16;_=39;S=r+78|0;b=F+78|0;u=n+78|0;while(1){p=ee(i[S>>1]|0,k)|0;S=S+-2|0;E=p<<1;r=e+(_<<1)|0;d=i[r>>1]|0;m=ee(d<<16>>16,v)|0;if((m|0)!=1073741824){w=(m<<1)+E|0;if((m^E|0)>0&(w^E|0)<0){o[f>>2]=1;w=(p>>>30&1)+2147483647|0}}else{o[f>>2]=1;w=2147483647}h=w<<10;h=Ni((h>>10|0)==(w|0)?h:w>>31^2147483647,f)|0;if(h<<16>>16>-1)i[u>>1]=32767;else{i[u>>1]=-32767;if(h<<16>>16==-32768)h=32767;else h=0-(h&65535)&65535;if(d<<16>>16==-32768)w=32767;else w=0-(d&65535)&65535;i[r>>1]=w}u=u+-2|0;i[b>>1]=h;if((_|0)<=0)break;else{_=_+-1|0;b=b+-2|0}}r=a<<16>>16;if(a<<16>>16<=0){i[s+(r<<1)>>1]=i[s>>1]|0;c=M;return}p=l&65535;E=0;m=-1;u=0;while(1){if((E|0)<40){h=E;w=E&65535;d=-1;while(1){f=i[F+(h<<1)>>1]|0;l=f<<16>>16>d<<16>>16;d=l?f:d;u=l?w:u;h=h+p|0;w=h&65535;if(w<<16>>16>=40)break;else h=h<<16>>16}}else d=-1;i[t+(E<<1)>>1]=u;if(d<<16>>16>m<<16>>16)i[s>>1]=E;else d=m;E=E+1|0;if((E&65535)<<16>>16==a<<16>>16)break;else m=d}u=i[s>>1]|0;i[s+(r<<1)>>1]=u;if(a<<16>>16>1)d=1;else{c=M;return}do{t=u+1<<16>>16;u=t<<16>>16>=a<<16>>16?0:t;i[s+(d<<1)>>1]=u;i[s+(d+r<<1)>>1]=u;d=d+1|0}while((d&65535)<<16>>16!=a<<16>>16);c=M;return}function kt(e){e=e|0;var r=0;if(!e){e=-1;return e|0}o[e>>2]=0;r=xi(12)|0;if(!r){e=-1;return e|0}i[r>>1]=8;o[e>>2]=r;i[r+2>>1]=3;i[r+4>>1]=0;o[r+8>>2]=0;e=0;return e|0}function Ft(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function Mt(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,s=0;do if((r|0)==8){t=e+2|0;a=(i[t>>1]|0)+-1<<16>>16;i[t>>1]=a;r=e+8|0;if(!(o[r>>2]|0)){o[n>>2]=1;i[t>>1]=3;break}s=e+4|0;if(a<<16>>16>2&(i[s>>1]|0)>0){o[n>>2]=2;i[s>>1]=(i[s>>1]|0)+-1<<16>>16;break}if(!(a<<16>>16)){o[n>>2]=2;i[t>>1]=i[e>>1]|0;break}else{o[n>>2]=3;break}}else{i[e+2>>1]=i[e>>1]|0;o[n>>2]=0;r=e+8|0}while(0);o[r>>2]=o[n>>2];return}function gt(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,i=0,a=0;if(!e){e=-1;return e|0}o[e>>2]=0;n=xi(12)|0;t=n;if(!n){e=-1;return e|0}o[n>>2]=0;i=n+4|0;o[i>>2]=0;a=n+8|0;o[a>>2]=r;if((st(n)|0)<<16>>16==0?(tn(i,o[a>>2]|0)|0)<<16>>16==0:0){lt(o[n>>2]|0)|0;an(o[i>>2]|0)|0;o[e>>2]=t;e=0;return e|0}ft(n);on(i);Hi(n);e=-1;return e|0}function Rt(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;ft(r);on((o[e>>2]|0)+4|0);Hi(o[e>>2]|0);o[e>>2]=0;return}function yt(e,r,n,t,a){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;var l=0,f=0,u=0,d=0,h=0;d=c;c=c+448|0;f=d+320|0;u=d;Vi(t|0,0,488)|0;l=0;do{h=n+(l<<1)|0;i[h>>1]=(s[h>>1]|0)&65528;l=l+1|0}while((l|0)!=160);ut(o[e>>2]|0,n,160);h=e+4|0;sn(o[h>>2]|0,r,n,f,a,u)|0;ct(o[a>>2]|0,f,t,(o[h>>2]|0)+2392|0);c=d;return}function At(e,r,n,t,o,a,s,l,f,u,d,h,w,m,E,p){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;s=s|0;l=l|0;f=f|0;u=u|0;d=d|0;h=h|0;w=w|0;m=m|0;E=E|0;p=p|0;var S=0,b=0,v=0;v=c;c=c+48|0;S=v+22|0;b=v;Ui(o,(e&-2|0)==6?n:r,S);Ui(o,t,b);n=d;r=S;o=n+22|0;do{i[n>>1]=i[r>>1]|0;n=n+2|0;r=r+2|0}while((n|0)<(o|0));Li(a,d,w,40,u,0);Li(b,w,w,40,u,0);Di(a,s,E,40);n=h;r=E;o=n+80|0;do{i[n>>1]=i[r>>1]|0;n=n+2|0;r=r+2|0}while((n|0)<(o|0));Li(a,h,p,40,l,0);Di(S,p,m,40);Li(b,m,m,40,f,0);c=v;return}function Ot(e,r,n,t,o,a,l,f,u,c,d,h,w,m,E,p,S){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;l=l|0;f=f|0;u=u|0;c=c|0;d=d|0;h=h|0;w=w|0;m=m|0;E=E|0;p=p|0;S=S|0;var b=0,v=0,_=0,k=0,F=0;if((r|0)==7){_=11;r=t<<16>>16>>>1&65535;b=2}else{_=13;r=t;b=1}i[p>>1]=t<<16>>16<13017?t:13017;v=n<<16>>16;E=E+(v<<1)|0;p=r<<16>>16;o=o<<16>>16;n=20;r=u;S=E;while(1){u=S+2|0;F=ee(i[S>>1]|0,p)|0;k=ee(i[u>>1]|0,p)|0;F=(ee(i[r>>1]|0,o)|0)+F<<1;k=(ee(i[r+2>>1]|0,o)|0)+k<<1<<b;i[S>>1]=((F<<b)+32768|0)>>>16;i[u>>1]=(k+32768|0)>>>16;n=n+-1<<16>>16;if(!(n<<16>>16))break;else{r=r+4|0;S=S+4|0}}r=t<<16>>16;Li(a,E,l+(v<<1)|0,40,h,1);n=30;S=0;while(1){k=n+v|0;i[w+(S<<1)>>1]=(s[e+(k<<1)>>1]|0)-(s[l+(k<<1)>>1]|0);k=ee(i[c+(n<<1)>>1]|0,r)|0;F=(ee(i[d+(n<<1)>>1]|0,o)|0)>>_;i[m+(S<<1)>>1]=(s[f+(n<<1)>>1]|0)-(k>>>14)-F;S=S+1|0;if((S|0)==10)break;else n=n+1|0}return}function Tt(e){e=e|0;var r=0;if(!e){e=-1;return e|0}o[e>>2]=0;r=xi(16)|0;if(!r){e=-1;return e|0}i[r>>1]=0;i[r+2>>1]=0;i[r+4>>1]=0;i[r+6>>1]=0;i[r+8>>1]=0;i[r+10>>1]=0;i[r+12>>1]=0;i[r+14>>1]=0;o[e>>2]=r;e=0;return e|0}function Dt(e){e=e|0;if(!e){e=-1;return e|0}i[e>>1]=0;i[e+2>>1]=0;i[e+4>>1]=0;i[e+6>>1]=0;i[e+8>>1]=0;i[e+10>>1]=0;i[e+12>>1]=0;i[e+14>>1]=0;e=0;return e|0}function Nt(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function Pt(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,o=0,a=0,l=0;t=s[r+6>>1]|0;n=s[r+8>>1]|0;o=t-n|0;o=(o&65535|0)!=32767?o&65535:32767;a=s[r+10>>1]|0;n=n-a|0;o=(n<<16>>16|0)<(o<<16>>16|0)?n&65535:o;n=s[r+12>>1]|0;a=a-n|0;o=(a<<16>>16|0)<(o<<16>>16|0)?a&65535:o;a=s[r+14>>1]|0;n=n-a|0;o=(n<<16>>16|0)<(o<<16>>16|0)?n&65535:o;a=a-(s[r+16>>1]|0)|0;n=i[r+2>>1]|0;l=s[r+4>>1]|0;r=(n&65535)-l|0;r=(r&65535|0)!=32767?r&65535:32767;t=l-t|0;if(((a<<16>>16|0)<(o<<16>>16|0)?a&65535:o)<<16>>16<1500?1:(((t<<16>>16|0)<(r<<16>>16|0)?t&65535:r)<<16>>16|0)<((n<<16>>16>32e3?600:n<<16>>16>30500?800:1100)|0)){a=(i[e>>1]|0)+1<<16>>16;l=a<<16>>16>11;i[e>>1]=l?12:a;return l&1|0}else{i[e>>1]=0;return 0}return 0}function Ct(e,r,n){e=e|0;r=r|0;n=n|0;r=Pi(r,3,n)|0;r=Wt(r,i[e+2>>1]|0,n)|0;r=Wt(r,i[e+4>>1]|0,n)|0;r=Wt(r,i[e+6>>1]|0,n)|0;r=Wt(r,i[e+8>>1]|0,n)|0;r=Wt(r,i[e+10>>1]|0,n)|0;r=Wt(r,i[e+12>>1]|0,n)|0;return(Wt(r,i[e+14>>1]|0,n)|0)<<16>>16>15565|0}function It(e,r,n){e=e|0;r=r|0;n=n|0;var t=0;n=e+4|0;i[e+2>>1]=i[n>>1]|0;t=e+6|0;i[n>>1]=i[t>>1]|0;n=e+8|0;i[t>>1]=i[n>>1]|0;t=e+10|0;i[n>>1]=i[t>>1]|0;n=e+12|0;i[t>>1]=i[n>>1]|0;e=e+14|0;i[n>>1]=i[e>>1]|0;i[e>>1]=r<<16>>16>>>3;return}function Bt(e){e=e|0;var r=0,n=0,t=0;if(!e){t=-1;return t|0}o[e>>2]=0;r=xi(128)|0;if(!r){t=-1;return t|0}n=r+72|0;t=n+46|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));i[r>>1]=150;i[r+36>>1]=150;i[r+18>>1]=150;i[r+54>>1]=0;i[r+2>>1]=150;i[r+38>>1]=150;i[r+20>>1]=150;i[r+56>>1]=0;i[r+4>>1]=150;i[r+40>>1]=150;i[r+22>>1]=150;i[r+58>>1]=0;i[r+6>>1]=150;i[r+42>>1]=150;i[r+24>>1]=150;i[r+60>>1]=0;i[r+8>>1]=150;i[r+44>>1]=150;i[r+26>>1]=150;i[r+62>>1]=0;i[r+10>>1]=150;i[r+46>>1]=150;i[r+28>>1]=150;i[r+64>>1]=0;i[r+12>>1]=150;i[r+48>>1]=150;i[r+30>>1]=150;i[r+66>>1]=0;i[r+14>>1]=150;i[r+50>>1]=150;i[r+32>>1]=150;i[r+68>>1]=0;i[r+16>>1]=150;i[r+52>>1]=150;i[r+34>>1]=150;i[r+70>>1]=0;i[r+118>>1]=13106;i[r+120>>1]=0;i[r+122>>1]=0;i[r+124>>1]=0;i[r+126>>1]=13106;o[e>>2]=r;t=0;return t|0}function Lt(e){e=e|0;var r=0,n=0;if(!e){n=-1;return n|0}r=e+72|0;n=r+46|0;do{i[r>>1]=0;r=r+2|0}while((r|0)<(n|0));i[e>>1]=150;i[e+36>>1]=150;i[e+18>>1]=150;i[e+54>>1]=0;i[e+2>>1]=150;i[e+38>>1]=150;i[e+20>>1]=150;i[e+56>>1]=0;i[e+4>>1]=150;i[e+40>>1]=150;i[e+22>>1]=150;i[e+58>>1]=0;i[e+6>>1]=150;i[e+42>>1]=150;i[e+24>>1]=150;i[e+60>>1]=0;i[e+8>>1]=150;i[e+44>>1]=150;i[e+26>>1]=150;i[e+62>>1]=0;i[e+10>>1]=150;i[e+46>>1]=150;i[e+28>>1]=150;i[e+64>>1]=0;i[e+12>>1]=150;i[e+48>>1]=150;i[e+30>>1]=150;i[e+66>>1]=0;i[e+14>>1]=150;i[e+50>>1]=150;i[e+32>>1]=150;i[e+68>>1]=0;i[e+16>>1]=150;i[e+52>>1]=150;i[e+34>>1]=150;i[e+70>>1]=0;i[e+118>>1]=13106;i[e+120>>1]=0;i[e+122>>1]=0;i[e+124>>1]=0;i[e+126>>1]=13106;n=0;return n|0}function Ut(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function xt(e,r){e=e|0;r=r|0;i[e+118>>1]=r;return}function Ht(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0;n=Ni(n,t)|0;if(n<<16>>16<=0)return;n=n<<16>>16;if((n*21298|0)==1073741824){o[t>>2]=1;a=2147483647}else a=n*42596|0;n=r-a|0;if(((n^r)&(a^r)|0)<0){o[t>>2]=1;n=(r>>>31)+2147483647|0}if((n|0)<=0)return;e=e+104|0;i[e>>1]=s[e>>1]|0|16384;return}function zt(e,r,n){e=e|0;r=r|0;n=n|0;var t=0;e=e+104|0;t=Pi(i[e>>1]|0,1,n)|0;i[e>>1]=t;if(!(r<<16>>16))return;i[e>>1]=(Pi(t,1,n)|0)&65535|8192;return}function Yt(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,o=0,a=0;o=e+112|0;t=Bi(i[o>>1]|0,i[r>>1]|0,n)|0;t=(t&65535)-((t&65535)>>>15&65535)|0;t=((t<<16>>31^t)&65535)<<16>>16<4;a=i[r>>1]|0;i[o>>1]=a;r=r+2|0;a=Bi(a,i[r>>1]|0,n)|0;a=(a&65535)-((a&65535)>>>15&65535)|0;t=((a<<16>>31^a)&65535)<<16>>16<4?t?2:1:t&1;i[o>>1]=i[r>>1]|0;o=e+102|0;i[o>>1]=Pi(i[o>>1]|0,1,n)|0;r=e+110|0;if((Wt(i[r>>1]|0,t,n)|0)<<16>>16<=3){i[r>>1]=t;return}i[o>>1]=s[o>>1]|0|16384;i[r>>1]=t;return}function jt(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0;O=c;c=c+352|0;h=O+24|0;y=O;f=0;a=0;do{t=i[r+(f+-40<<1)>>1]|0;t=ee(t,t)|0;if((t|0)!=1073741824){l=(t<<1)+a|0;if((t^a|0)>0&(l^a|0)<0){o[n>>2]=1;a=(a>>>31)+2147483647|0}else a=l}else{o[n>>2]=1;a=2147483647}f=f+1|0}while((f|0)!=160);w=a;if((343039-w&w|0)<0){o[n>>2]=1;a=(w>>>31)+2147483647|0}else a=w+-343040|0;if((a|0)<0){R=e+102|0;i[R>>1]=s[R>>1]&16383}d=w+-15e3|0;m=(14999-w&w|0)<0;if(m){o[n>>2]=1;l=(w>>>31)+2147483647|0}else l=d;if((l|0)<0){R=e+108|0;i[R>>1]=s[R>>1]&16383}t=e+72|0;u=e+74|0;l=i[t>>1]|0;f=i[u>>1]|0;a=0;do{R=a<<2;M=Bi((i[r+(R<<1)>>1]|0)>>>2&65535,((l<<16>>16)*21955|0)>>>15&65535,n)|0;_=((M<<16>>16)*21955|0)>>>15&65535;v=Wt(l,_,n)|0;F=R|1;g=Bi((i[r+(F<<1)>>1]|0)>>>2&65535,((f<<16>>16)*6390|0)>>>15&65535,n)|0;k=((g<<16>>16)*6390|0)>>>15&65535;l=Wt(f,k,n)|0;i[h+(R<<1)>>1]=Wt(v,l,n)|0;i[h+(F<<1)>>1]=Bi(v,l,n)|0;F=R|2;l=Bi((i[r+(F<<1)>>1]|0)>>>2&65535,_,n)|0;M=Wt(M,((l<<16>>16)*21955|0)>>>15&65535,n)|0;R=R|3;f=Bi((i[r+(R<<1)>>1]|0)>>>2&65535,k,n)|0;g=Wt(g,((f<<16>>16)*6390|0)>>>15&65535,n)|0;i[h+(F<<1)>>1]=Wt(M,g,n)|0;i[h+(R<<1)>>1]=Bi(M,g,n)|0;a=a+1|0}while((a|0)!=40);i[t>>1]=l;i[u>>1]=f;f=e+76|0;l=e+80|0;a=0;do{R=a<<2;Kt(h+(R<<1)|0,h+((R|2)<<1)|0,f,n);Kt(h+((R|1)<<1)|0,h+((R|3)<<1)|0,l,n);a=a+1|0}while((a|0)!=40);f=e+84|0;l=e+86|0;a=e+92|0;t=0;do{R=t<<3;qt(h+(R<<1)|0,h+((R|4)<<1)|0,f,n);qt(h+((R|2)<<1)|0,h+((R|6)<<1)|0,l,n);qt(h+((R|3)<<1)|0,h+((R|7)<<1)|0,a,n);t=t+1|0}while((t|0)!=20);f=e+88|0;l=e+90|0;a=0;do{R=a<<4;qt(h+(R<<1)|0,h+((R|8)<<1)|0,f,n);qt(h+((R|4)<<1)|0,h+((R|12)<<1)|0,l,n);a=a+1|0}while((a|0)!=10);b=Vt(h,e+70|0,32,40,4,1,15,n)|0;i[y+16>>1]=b;v=Vt(h,e+68|0,16,20,8,7,16,n)|0;i[y+14>>1]=v;_=Vt(h,e+66|0,16,20,8,3,16,n)|0;i[y+12>>1]=_;k=Vt(h,e+64|0,16,20,8,2,16,n)|0;i[y+10>>1]=k;F=Vt(h,e+62|0,16,20,8,6,16,n)|0;i[y+8>>1]=F;M=Vt(h,e+60|0,8,10,16,4,16,n)|0;i[y+6>>1]=M;g=Vt(h,e+58|0,8,10,16,12,16,n)|0;i[y+4>>1]=g;R=Vt(h,e+56|0,8,10,16,8,16,n)|0;i[y+2>>1]=R;S=Vt(h,e+54|0,8,10,16,0,16,n)|0;i[y>>1]=S;f=0;t=0;do{l=e+(t<<1)|0;r=vi(i[l>>1]|0)|0;l=i[l>>1]|0;a=r<<16>>16;if(r<<16>>16<0){u=0-a<<16;if((u|0)<983040)u=l<<16>>16>>(u>>16)&65535;else u=0}else{u=l<<16>>16;l=u<<a;if((l<<16>>16>>a|0)==(u|0))u=l&65535;else u=(u>>>15^32767)&65535}l=Gt(Pi(i[y+(t<<1)>>1]|0,1,n)|0,u)|0;p=Bi(r,5,n)|0;a=p<<16>>16;if(p<<16>>16<0){u=0-a<<16;if((u|0)<983040)u=l<<16>>16>>(u>>16);else u=0}else{l=l<<16>>16;u=l<<a;if((u<<16>>16>>a|0)!=(l|0))u=l>>>15^32767}u=u<<16>>16;u=ee(u,u)|0;if((u|0)!=1073741824){l=(u<<1)+f|0;if((u^f|0)>0&(l^f|0)<0){o[n>>2]=1;f=(f>>>31)+2147483647|0}else f=l}else{o[n>>2]=1;f=2147483647}t=t+1|0}while((t|0)!=9);p=f<<6;f=(((p>>6|0)==(f|0)?p:f>>31^2147418112)>>16)*3641>>15;if((f|0)>32767){o[n>>2]=1;f=32767}p=i[e>>1]|0;u=p<<16>>16;E=i[e+2>>1]|0;l=(E<<16>>16)+u|0;if((E^p)<<16>>16>-1&(l^u|0)<0){o[n>>2]=1;l=(u>>>31)+2147483647|0}p=i[e+4>>1]|0;u=p+l|0;if((p^l|0)>-1&(u^l|0)<0){o[n>>2]=1;u=(l>>>31)+2147483647|0}p=i[e+6>>1]|0;l=p+u|0;if((p^u|0)>-1&(l^u|0)<0){o[n>>2]=1;l=(u>>>31)+2147483647|0}p=i[e+8>>1]|0;u=p+l|0;if((p^l|0)>-1&(u^l|0)<0){o[n>>2]=1;u=(l>>>31)+2147483647|0}p=i[e+10>>1]|0;l=p+u|0;if((p^u|0)>-1&(l^u|0)<0){o[n>>2]=1;l=(u>>>31)+2147483647|0}p=i[e+12>>1]|0;u=p+l|0;if((p^l|0)>-1&(u^l|0)<0){o[n>>2]=1;u=(l>>>31)+2147483647|0}p=i[e+14>>1]|0;l=p+u|0;if((p^u|0)>-1&(l^u|0)<0){o[n>>2]=1;l=(u>>>31)+2147483647|0}p=i[e+16>>1]|0;u=p+l|0;if((p^l|0)>-1&(u^l|0)<0){o[n>>2]=1;u=(l>>>31)+2147483647|0}E=u<<13;E=((E>>13|0)==(u|0)?E:u>>31^2147418112)>>>16&65535;u=(ee((Bi(E,0,n)|0)<<16>>16,-2808)|0)>>15;if((u|0)>32767){o[n>>2]=1;u=32767}h=Wt(u&65535,1260,n)|0;p=e+100|0;u=Pi(i[p>>1]|0,1,n)|0;if((f<<16>>16|0)>((h<<16>>16<720?720:h<<16>>16)|0))u=(u&65535|16384)&65535;i[p>>1]=u;if(m){o[n>>2]=1;d=(w>>>31)+2147483647|0}a=i[e+118>>1]|0;m=e+126|0;u=i[m>>1]|0;t=u<<16>>16<19660;t=a<<16>>16<u<<16>>16?t?2621:6553:t?2621:655;r=u&65535;f=r<<16;u=ee(t,u<<16>>16)|0;if((u|0)==1073741824){o[n>>2]=1;u=2147483647}else u=u<<1;l=f-u|0;if(((l^f)&(u^f)|0)<0){o[n>>2]=1;l=(r>>>15)+2147483647|0}f=ee(t,a<<16>>16)|0;do if((f|0)==1073741824){o[n>>2]=1;u=2147483647}else{u=l+(f<<1)|0;if(!((l^f|0)>0&(u^l|0)<0))break;o[n>>2]=1;u=(l>>>31)+2147483647|0}while(0);r=Ni(u,n)|0;w=(d|0)>-1;i[m>>1]=w?r<<16>>16<13106?13106:r:13106;r=e+106|0;i[r>>1]=Pi(i[r>>1]|0,1,n)|0;l=e+108|0;u=Pi(i[l>>1]|0,1,n)|0;i[l>>1]=u;f=i[m>>1]|0;e:do if(w){do if(f<<16>>16>19660)i[r>>1]=s[r>>1]|16384;else{if(f<<16>>16>16383)break;f=e+116|0;u=0;break e}while(0);i[l>>1]=u&65535|16384;A=62}else A=62;while(0);do if((A|0)==62){u=e+116|0;if(f<<16>>16<=22936){f=u;u=0;break}f=u;u=Wt(i[u>>1]|0,1,n)|0}while(0);i[f>>1]=u;if((i[r>>1]&32640)!=32640){h=(i[l>>1]&32767)==32767;i[e+122>>1]=h&1;if(h)A=67}else{i[e+122>>1]=1;A=67}do if((A|0)==67){f=e+98|0;if((i[f>>1]|0)>=5)break;i[f>>1]=5}while(0);h=e+102|0;do if((i[h>>1]&24576)==24576)A=71;else{if((i[e+104>>1]&31744)==31744){A=71;break}if(!(i[p>>1]&32640)){i[e+98>>1]=20;l=32767;break}else{l=S;f=0;u=0}while(1){t=i[e+18+(f<<1)>>1]|0;a=l<<16>>16>t<<16>>16;d=a?l:t;l=a?t:l;
d=d<<16>>16<184?184:d;l=l<<16>>16<184?184:l;t=vi(l)|0;a=t<<16>>16;do if(t<<16>>16<0){r=0-a<<16;if((r|0)>=983040){r=0;break}r=l<<16>>16>>(r>>16)&65535}else{r=l<<16>>16;l=r<<a;if((l<<16>>16>>a|0)==(r|0)){r=l&65535;break}r=(r>>>15^32767)&65535}while(0);d=Gt(Pi(d,1,n)|0,r)|0;u=Wt(u,Pi(d,Bi(8,t,n)|0,n)|0,n)|0;f=f+1|0;if((f|0)==9)break;l=i[y+(f<<1)>>1]|0}if(u<<16>>16>1e3){i[e+98>>1]=20;l=32767;break}l=i[p>>1]|0;f=e+98|0;u=i[f>>1]|0;do if(!(l&16384))A=86;else{if(!(u<<16>>16)){u=l;break}u=Bi(u,1,n)|0;i[f>>1]=u;A=86}while(0);if((A|0)==86){if(u<<16>>16==20){l=32767;break}u=i[p>>1]|0}l=(u&16384)==0?16383:3276}while(0);if((A|0)==71){i[e+98>>1]=20;l=32767}f=S;u=0;while(1){d=e+18+(u<<1)|0;r=Si(l,Bi(f,i[d>>1]|0,n)|0,n)|0;i[d>>1]=Wt(i[d>>1]|0,r,n)|0;u=u+1|0;if((u|0)==9)break;f=i[y+(u<<1)>>1]|0}do if(!(i[p>>1]&30720)){if(i[h>>1]&30720){A=95;break}if(!(i[e+114>>1]|0)){a=2097;t=1638;r=2}else A=95}else A=95;while(0);do if((A|0)==95){if((i[e+98>>1]|0)==0?(i[e+114>>1]|0)==0:0){a=1867;t=491;r=2;break}a=1638;t=0;r=0}while(0);l=0;do{f=e+(l<<1)|0;u=Bi(i[e+36+(l<<1)>>1]|0,i[f>>1]|0,n)|0;if(u<<16>>16<0){u=Si(a,u,n)|0;u=Wt(-2,Wt(i[f>>1]|0,u,n)|0,n)|0;u=u<<16>>16<40?40:u}else{u=Si(t,u,n)|0;u=Wt(r,Wt(i[f>>1]|0,u,n)|0,n)|0;u=u<<16>>16>16e3?16e3:u}i[f>>1]=u;l=l+1|0}while((l|0)!=9);i[e+36>>1]=S;i[e+38>>1]=R;i[e+40>>1]=g;i[e+42>>1]=M;i[e+44>>1]=F;i[e+46>>1]=k;i[e+48>>1]=_;i[e+50>>1]=v;i[e+52>>1]=b;f=E<<16>>16>100;l=f?7:4;f=f?4:5;if(!w){i[e+94>>1]=0;i[e+96>>1]=0;i[e+114>>1]=0;i[e+116>>1]=0;n=0;e=e+120|0;i[e>>1]=n;c=O;return n|0}a=e+114|0;t=i[a>>1]|0;do if((i[e+116>>1]|0)<=100){if(t<<16>>16)break;t=i[p>>1]|0;do if(!(t&16368)){if((i[m>>1]|0)>21298)t=1;else break;e=e+120|0;i[e>>1]=t;c=O;return t|0}while(0);a=e+94|0;if(!(t&16384)){i[a>>1]=0;t=e+96|0;a=i[t>>1]|0;if(a<<16>>16<=0){n=0;e=e+120|0;i[e>>1]=n;c=O;return n|0}i[t>>1]=Bi(a,1,n)|0;n=1;e=e+120|0;i[e>>1]=n;c=O;return n|0}else{n=Wt(i[a>>1]|0,1,n)|0;i[a>>1]=n;if((n<<16>>16|0)<(f|0)){n=1;e=e+120|0;i[e>>1]=n;c=O;return n|0}i[e+96>>1]=l;n=1;e=e+120|0;i[e>>1]=n;c=O;return n|0}}else{if(t<<16>>16>=250)break;i[a>>1]=250;t=250}while(0);i[e+94>>1]=4;i[a>>1]=Bi(t,1,n)|0;n=1;e=e+120|0;i[e>>1]=n;c=O;return n|0}function Kt(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0,s=0,l=0;a=(i[n>>1]|0)*21955>>15;if((a|0)>32767){o[t>>2]=1;a=32767}s=Bi(i[e>>1]|0,a&65535,t)|0;a=(s<<16>>16)*21955>>15;if((a|0)>32767){o[t>>2]=1;a=32767}l=Wt(i[n>>1]|0,a&65535,t)|0;i[n>>1]=s;n=n+2|0;a=(i[n>>1]|0)*6390>>15;if((a|0)>32767){o[t>>2]=1;a=32767}s=Bi(i[r>>1]|0,a&65535,t)|0;a=(s<<16>>16)*6390>>15;if((a|0)>32767){o[t>>2]=1;a=32767}a=Wt(i[n>>1]|0,a&65535,t)|0;i[n>>1]=s;i[e>>1]=Pi(Wt(l,a,t)|0,1,t)|0;i[r>>1]=Pi(Bi(l,a,t)|0,1,t)|0;return}function qt(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var a=0,s=0;a=(i[n>>1]|0)*13363>>15;if((a|0)>32767){o[t>>2]=1;a=32767}s=Bi(i[r>>1]|0,a&65535,t)|0;a=(s<<16>>16)*13363>>15;if((a|0)>32767){o[t>>2]=1;a=32767}a=Wt(i[n>>1]|0,a&65535,t)|0;i[n>>1]=s;i[r>>1]=Pi(Bi(i[e>>1]|0,a,t)|0,1,t)|0;i[e>>1]=Pi(Wt(i[e>>1]|0,a,t)|0,1,t)|0;return}function Vt(e,r,n,t,a,s,l,f){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;var u=0,c=0,d=0,h=0,w=0,m=0;if(n<<16>>16<t<<16>>16){h=a<<16>>16;u=s<<16>>16;w=n<<16>>16;c=0;do{m=i[e+((ee(w,h)|0)+u<<1)>>1]|0;m=(m&65535)-((m&65535)>>>15&65535)|0;m=(m<<16>>31^m)<<16;d=(m>>15)+c|0;if((m>>16^c|0)>0&(d^c|0)<0){o[f>>2]=1;c=(c>>>31)+2147483647|0}else c=d;w=w+1|0}while((w&65535)<<16>>16!=t<<16>>16);w=c}else w=0;c=i[r>>1]|0;m=Bi(16,l,f)|0;u=m<<16>>16;if(m<<16>>16>0){t=c<<u;if((t>>u|0)!=(c|0))t=c>>31^2147483647}else{u=0-u<<16;if((u|0)<2031616)t=c>>(u>>16);else t=0}u=t+w|0;if((t^w|0)>-1&(u^w|0)<0){o[f>>2]=1;u=(w>>>31)+2147483647|0}m=l<<16>>16;l=l<<16>>16>0;if(l){t=w<<m;if((t>>m|0)!=(w|0))t=w>>31^2147483647}else{t=0-m<<16;if((t|0)<2031616)t=w>>(t>>16);else t=0}i[r>>1]=t>>>16;if(n<<16>>16>0){h=a<<16>>16;c=s<<16>>16;d=0;do{s=i[e+((ee(d,h)|0)+c<<1)>>1]|0;s=(s&65535)-((s&65535)>>>15&65535)|0;s=(s<<16>>31^s)<<16;t=(s>>15)+u|0;if((s>>16^u|0)>0&(t^u|0)<0){o[f>>2]=1;u=(u>>>31)+2147483647|0}else u=t;d=d+1|0}while((d&65535)<<16>>16!=n<<16>>16)}if(l){t=u<<m;if((t>>m|0)==(u|0)){f=t;f=f>>>16;f=f&65535;return f|0}f=u>>31^2147483647;f=f>>>16;f=f&65535;return f|0}else{t=0-m<<16;if((t|0)>=2031616){f=0;f=f>>>16;f=f&65535;return f|0}f=u>>(t>>16);f=f>>>16;f=f&65535;return f|0}return 0}function Wt(e,r,n){e=e|0;r=r|0;n=n|0;e=(r<<16>>16)+(e<<16>>16)|0;if((e|0)<=32767){if((e|0)<-32768){o[n>>2]=1;e=-32768}}else{o[n>>2]=1;e=32767}return e&65535|0}function Xt(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0;M=c;c=c+32|0;k=M+12|0;F=M;i[k>>1]=1024;i[F>>1]=1024;f=i[e+2>>1]|0;s=i[e+20>>1]|0;t=((s+f|0)>>>2)+64512|0;i[k+2>>1]=t;s=((f-s|0)>>>2)+1024|0;i[F+2>>1]=s;f=i[e+4>>1]|0;o=i[e+18>>1]|0;t=((o+f|0)>>>2)-t|0;i[k+4>>1]=t;s=((f-o|0)>>>2)+s|0;i[F+4>>1]=s;o=i[e+6>>1]|0;f=i[e+16>>1]|0;t=((f+o|0)>>>2)-t|0;i[k+6>>1]=t;s=((o-f|0)>>>2)+s|0;i[F+6>>1]=s;f=i[e+8>>1]|0;o=i[e+14>>1]|0;t=((o+f|0)>>>2)-t|0;i[k+8>>1]=t;s=((f-o|0)>>>2)+s|0;i[F+8>>1]=s;o=i[e+10>>1]|0;f=i[e+12>>1]|0;t=((f+o|0)>>>2)-t|0;i[k+10>>1]=t;i[F+10>>1]=((o-f|0)>>>2)+s;s=i[3454]|0;f=s<<16>>16;e=i[k+2>>1]|0;o=(e<<16>>16<<14)+(f<<10)|0;S=o&-65536;o=(o>>>1)-(o>>16<<15)<<16;_=(((ee(o>>16,f)|0)>>15)+(ee(S>>16,f)|0)<<2)+-16777216|0;_=(i[k+4>>1]<<14)+_|0;l=_>>16;_=(_>>>1)-(l<<15)<<16;S=(((ee(_>>16,f)|0)>>15)+(ee(l,f)|0)<<2)-((o>>15)+S)|0;S=(i[k+6>>1]<<14)+S|0;o=S>>16;S=(S>>>1)-(o<<15)<<16;l=(((ee(S>>16,f)|0)>>15)+(ee(o,f)|0)<<2)-((_>>15)+(l<<16))|0;l=(i[k+8>>1]<<14)+l|0;_=l>>16;o=(t<<16>>3)+((((ee((l>>>1)-(_<<15)<<16>>16,f)|0)>>15)+(ee(_,f)|0)<<1)-((S>>15)+(o<<16)))|0;S=k+4|0;f=k;_=0;l=0;t=0;p=k+10|0;o=(o+33554432|0)>>>0<67108863?o>>>10&65535:(o|0)>33554431?32767:-32768;e:while(1){b=e<<16>>16<<14;E=f+6|0;m=f+8|0;w=l<<16>>16;while(1){if((w|0)>=60)break e;f=(w&65535)+1<<16>>16;u=i[6908+(f<<16>>16<<1)>>1]|0;v=u<<16>>16;l=b+(v<<10)|0;a=l&-65536;l=(l>>>1)-(l>>16<<15)<<16;d=(((ee(l>>16,v)|0)>>15)+(ee(a>>16,v)|0)<<2)+-16777216|0;h=i[S>>1]|0;d=(h<<16>>16<<14)+d|0;y=d>>16;d=(d>>>1)-(y<<15)<<16;a=(((ee(d>>16,v)|0)>>15)+(ee(y,v)|0)<<2)-((l>>15)+a)|0;l=i[E>>1]|0;a=(l<<16>>16<<14)+a|0;e=a>>16;a=(a>>>1)-(e<<15)<<16;y=(((ee(a>>16,v)|0)>>15)+(ee(e,v)|0)<<2)-((d>>15)+(y<<16))|0;d=i[m>>1]|0;y=(d<<16>>16<<14)+y|0;R=y>>16;e=(((ee((y>>>1)-(R<<15)<<16>>16,v)|0)>>15)+(ee(R,v)|0)<<1)-((a>>15)+(e<<16))|0;a=i[p>>1]|0;e=(a<<16>>16<<13)+e|0;e=(e+33554432|0)>>>0<67108863?e>>>10&65535:(e|0)>33554431?32767:-32768;if((ee(e<<16>>16,o<<16>>16)|0)<1){v=f;f=h;break}else{w=w+1|0;s=u;o=e}}S=a<<16>>16<<13;p=f<<16>>16<<14;h=l<<16>>16<<14;m=d<<16>>16<<14;a=u<<16>>16;w=4;while(1){R=(s<<16>>16>>>1)+(a>>>1)|0;a=R<<16;E=a>>16;a=b+(a>>6)|0;y=a&-65536;a=(a>>>1)-(a>>16<<15)<<16;d=p+((((ee(a>>16,E)|0)>>15)+(ee(y>>16,E)|0)<<2)+-16777216)|0;f=d>>16;d=(d>>>1)-(f<<15)<<16;y=h+((((ee(d>>16,E)|0)>>15)+(ee(f,E)|0)<<2)-((a>>15)+y))|0;a=y>>16;y=(y>>>1)-(a<<15)<<16;f=m+((((ee(y>>16,E)|0)>>15)+(ee(a,E)|0)<<2)-((d>>15)+(f<<16)))|0;d=f>>16;R=R&65535;a=S+((((ee((f>>>1)-(d<<15)<<16>>16,E)|0)>>15)+(ee(d,E)|0)<<1)-((y>>15)+(a<<16)))|0;a=(a+33554432|0)>>>0<67108863?a>>>10&65535:(a|0)>33554431?32767:-32768;y=(ee(a<<16>>16,e<<16>>16)|0)<1;E=y?u:R;e=y?e:a;s=y?R:s;o=y?a:o;w=w+-1<<16>>16;a=E<<16>>16;if(!(w<<16>>16)){u=a;l=s;s=E;break}else u=E}f=t<<16>>16;a=e<<16>>16;e=(o&65535)-a|0;o=e<<16;if(o){y=(e&65535)-(e>>>15&1)|0;y=y<<16>>31^y;e=(vi(y&65535)|0)<<16>>16;e=(ee((Gt(16383,y<<16>>16<<e&65535)|0)<<16>>16,(l&65535)-u<<16>>16)|0)>>19-e;if((o|0)<0)e=0-(e<<16>>16)|0;s=u-((ee(e<<16>>16,a)|0)>>>10)&65535}i[r+(f<<1)>>1]=s;o=_<<16>>16==0?F:k;R=s<<16>>16;e=i[o+2>>1]|0;a=(e<<16>>16<<14)+(R<<10)|0;y=a&-65536;a=(a>>>1)-(a>>16<<15)<<16;b=(((ee(a>>16,R)|0)>>15)+(ee(y>>16,R)|0)<<2)+-16777216|0;b=(i[o+4>>1]<<14)+b|0;S=b>>16;b=(b>>>1)-(S<<15)<<16;y=(((ee(b>>16,R)|0)>>15)+(ee(S,R)|0)<<2)-((a>>15)+y)|0;y=(i[o+6>>1]<<14)+y|0;a=y>>16;y=(y>>>1)-(a<<15)<<16;S=(((ee(y>>16,R)|0)>>15)+(ee(a,R)|0)<<2)-((b>>15)+(S<<16))|0;S=(i[o+8>>1]<<14)+S|0;b=S>>16;t=t+1<<16>>16;a=(((ee((S>>>1)-(b<<15)<<16>>16,R)|0)>>15)+(ee(b,R)|0)<<1)-((y>>15)+(a<<16))|0;a=(i[o+10>>1]<<13)+a|0;if(t<<16>>16<10){S=o+4|0;f=o;_=_^1;l=v;p=o+10|0;o=(a+33554432|0)>>>0<67108863?a>>>10&65535:(a|0)>33554431?32767:-32768}else{g=13;break}}if((g|0)==13){c=M;return}i[r>>1]=i[n>>1]|0;i[r+2>>1]=i[n+2>>1]|0;i[r+4>>1]=i[n+4>>1]|0;i[r+6>>1]=i[n+6>>1]|0;i[r+8>>1]=i[n+8>>1]|0;i[r+10>>1]=i[n+10>>1]|0;i[r+12>>1]=i[n+12>>1]|0;i[r+14>>1]=i[n+14>>1]|0;i[r+16>>1]=i[n+16>>1]|0;i[r+18>>1]=i[n+18>>1]|0;c=M;return}function Gt(e,r){e=e|0;r=r|0;var n=0,t=0,i=0,o=0,a=0,s=0;i=r<<16>>16;if(e<<16>>16<1?1:e<<16>>16>r<<16>>16){i=0;return i|0}if(e<<16>>16==r<<16>>16){i=32767;return i|0}t=i<<1;n=i<<2;o=e<<16>>16<<3;e=(o|0)<(n|0);o=o-(e?0:n)|0;e=e?0:4;a=(o|0)<(t|0);o=o-(a?0:t)|0;r=(o|0)<(i|0);e=(r&1|(a?e:e|2))<<3^8;r=o-(r?0:i)<<3;if((r|0)>=(n|0)){r=r-n|0;e=e&65528|4}o=(r|0)<(t|0);a=r-(o?0:t)|0;r=(a|0)<(i|0);e=(r&1^1|(o?e:e|2))<<16>>13;r=a-(r?0:i)<<3;if((r|0)>=(n|0)){r=r-n|0;e=e&65528|4}o=(r|0)<(t|0);a=r-(o?0:t)|0;r=(a|0)<(i|0);e=(r&1^1|(o?e:e|2))<<16>>13;r=a-(r?0:i)<<3;if((r|0)>=(n|0)){r=r-n|0;e=e&65528|4}s=(r|0)<(t|0);o=r-(s?0:t)|0;a=(o|0)<(i|0);r=(a&1^1|(s?e:e|2))<<16>>13;e=o-(a?0:i)<<3;if((e|0)>=(n|0)){e=e-n|0;r=r&65528|4}s=(e|0)<(t|0);s=((e-(s?0:t)|0)>=(i|0)|(s?r:r|2))&65535;return s|0}function Zt(e){e=e|0;if(!e){e=-1;return e|0}i[e>>1]=-14336;i[e+8>>1]=-2381;i[e+2>>1]=-14336;i[e+10>>1]=-2381;i[e+4>>1]=-14336;i[e+12>>1]=-2381;i[e+6>>1]=-14336;i[e+14>>1]=-2381;e=0;return e|0}function Jt(e,r,n,t,a,l,f,u){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;l=l|0;f=f|0;u=u|0;var d=0,h=0,w=0,m=0,E=0,p=0;p=c;c=c+16|0;m=p+2|0;E=p;d=0;h=10;while(1){w=i[n>>1]|0;w=((ee(w,w)|0)>>>3)+d|0;d=i[n+2>>1]|0;d=w+((ee(d,d)|0)>>>3)|0;w=i[n+4>>1]|0;w=d+((ee(w,w)|0)>>>3)|0;d=i[n+6>>1]|0;d=w+((ee(d,d)|0)>>>3)|0;h=h+-1<<16>>16;if(!(h<<16>>16))break;else n=n+8|0}h=d<<4;h=(h|0)<0?2147483647:h;if((r|0)==7){si(((Ni(h,u)|0)<<16>>16)*52428|0,m,E,u);w=s[m>>1]<<16;h=i[E>>1]<<1;r=i[e+8>>1]|0;d=(r<<16>>16)*88|0;if(r<<16>>16>-1&(d|0)<-783741){o[u>>2]=1;n=2147483647}else n=d+783741|0;r=(i[e+10>>1]|0)*74|0;d=r+n|0;if((r^n|0)>-1&(d^n|0)<0){o[u>>2]=1;n=(n>>>31)+2147483647|0}else n=d;r=(i[e+12>>1]|0)*44|0;d=r+n|0;if((r^n|0)>-1&(d^n|0)<0){o[u>>2]=1;n=(n>>>31)+2147483647|0}else n=d;e=(i[e+14>>1]|0)*24|0;d=e+n|0;if((e^n|0)>-1&(d^n|0)<0){o[u>>2]=1;d=(n>>>31)+2147483647|0}e=w+-1966080+h|0;n=d-e|0;if(((n^d)&(d^e)|0)<0){o[u>>2]=1;n=(d>>>31)+2147483647|0}u=n>>17;i[t>>1]=u;u=(n>>2)-(u<<15)|0;u=u&65535;i[a>>1]=u;c=p;return}w=bi(h)|0;d=w<<16>>16;if(w<<16>>16>0){n=h<<d;if((n>>d|0)==(h|0))h=n;else h=h>>31^2147483647}else{d=0-d<<16;if((d|0)<2031616)h=h>>(d>>16);else h=0}li(h,w,m,E);m=ee(i[m>>1]|0,-49320)|0;d=(ee(i[E>>1]|0,-24660)|0)>>15;d=(d&65536|0)==0?d:d|-65536;E=d<<1;n=E+m|0;if((E^m|0)>-1&(n^E|0)<0){o[u>>2]=1;n=(d>>>30&1)+2147483647|0}switch(r|0){case 6:{d=n+2134784|0;if((n|0)>-1&(d^n|0)<0){o[u>>2]=1;d=(n>>>31)+2147483647|0}break}case 5:{i[f>>1]=h>>>16;i[l>>1]=-11-(w&65535);d=n+2183936|0;if((n|0)>-1&(d^n|0)<0){o[u>>2]=1;d=(n>>>31)+2147483647|0}break}case 4:{d=n+2085632|0;if((n|0)>-1&(d^n|0)<0){o[u>>2]=1;d=(n>>>31)+2147483647|0}break}case 3:{d=n+2065152|0;if((n|0)>-1&(d^n|0)<0){o[u>>2]=1;d=(n>>>31)+2147483647|0}break}default:{d=n+2134784|0;if((n|0)>-1&(d^n|0)<0){o[u>>2]=1;d=(n>>>31)+2147483647|0}}}do if((d|0)<=2097151)if((d|0)<-2097152){o[u>>2]=1;n=-2147483648;break}else{n=d<<10;break}else{o[u>>2]=1;n=2147483647}while(0);f=(i[e>>1]|0)*11142|0;d=f+n|0;if((f^n|0)>-1&(d^n|0)<0){o[u>>2]=1;d=(n>>>31)+2147483647|0}f=(i[e+2>>1]|0)*9502|0;n=f+d|0;if((f^d|0)>-1&(n^d|0)<0){o[u>>2]=1;n=(d>>>31)+2147483647|0}f=(i[e+4>>1]|0)*5570|0;d=f+n|0;if((f^n|0)>-1&(d^n|0)<0){o[u>>2]=1;d=(n>>>31)+2147483647|0}e=(i[e+6>>1]|0)*3112|0;n=e+d|0;if((e^d|0)>-1&(n^d|0)<0){o[u>>2]=1;n=(d>>>31)+2147483647|0}n=ee(n>>16,(r|0)==4?10878:10886)|0;if((n|0)<0)n=~((n^-256)>>8);else n=n>>8;i[t>>1]=n>>>16;if((n|0)<0)d=~((n^-2)>>1);else d=n>>1;t=n>>16<<15;n=d-t|0;if(((n^d)&(t^d)|0)>=0){u=n;u=u&65535;i[a>>1]=u;c=p;return}o[u>>2]=1;u=(d>>>31)+2147483647|0;u=u&65535;i[a>>1]=u;c=p;return}function Qt(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,o=0,a=0;o=e+4|0;i[e+6>>1]=i[o>>1]|0;a=e+12|0;i[e+14>>1]=i[a>>1]|0;t=e+2|0;i[o>>1]=i[t>>1]|0;o=e+10|0;i[a>>1]=i[o>>1]|0;i[t>>1]=i[e>>1]|0;t=e+8|0;i[o>>1]=i[t>>1]|0;i[t>>1]=r;i[e>>1]=n;return}function $t(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0;a=Wt(0,i[e+8>>1]|0,t)|0;a=Wt(a,i[e+10>>1]|0,t)|0;a=Wt(a,i[e+12>>1]|0,t)|0;a=Wt(a,i[e+14>>1]|0,t)|0;o=a<<16>>16>>2;o=(a<<16>>16<0?o|49152:o)&65535;i[r>>1]=o<<16>>16<-2381?-2381:o;r=Wt(0,i[e>>1]|0,t)|0;r=Wt(r,i[e+2>>1]|0,t)|0;r=Wt(r,i[e+4>>1]|0,t)|0;t=Wt(r,i[e+6>>1]|0,t)|0;e=t<<16>>16>>2;e=(t<<16>>16<0?e|49152:e)&65535;i[n>>1]=e<<16>>16<-14336?-14336:e;return}function ei(e){e=e|0;o[e>>2]=6892;o[e+4>>2]=8180;o[e+8>>2]=21e3;o[e+12>>2]=9716;o[e+16>>2]=22024;o[e+20>>2]=12788;o[e+24>>2]=24072;o[e+28>>2]=26120;o[e+32>>2]=28168;o[e+36>>2]=6876;o[e+40>>2]=7452;o[e+44>>2]=8140;o[e+48>>2]=20980;o[e+52>>2]=16884;o[e+56>>2]=17908;o[e+60>>2]=7980;o[e+64>>2]=8160;o[e+68>>2]=6678;o[e+72>>2]=6646;o[e+76>>2]=6614;o[e+80>>2]=29704;o[e+84>>2]=28680;o[e+88>>2]=3720;o[e+92>>2]=8;o[e+96>>2]=4172;o[e+100>>2]=44;o[e+104>>2]=3436;o[e+108>>2]=30316;o[e+112>>2]=30796;o[e+116>>2]=31276;o[e+120>>2]=7472;o[e+124>>2]=7552;o[e+128>>2]=7632;o[e+132>>2]=7712;return}function ri(e,r){e=e|0;r=r|0;var n=0,t=0,o=0,a=0,s=0,l=0,f=0,u=0,d=0,h=0;h=c;c=c+48|0;u=h+18|0;d=h;f=r<<16>>16;Ki(d|0,e|0,f<<1|0)|0;if(r<<16>>16>0){n=0;t=0}else{d=f>>1;d=u+(d<<1)|0;d=i[d>>1]|0;d=d<<16>>16;d=e+(d<<1)|0;d=i[d>>1]|0;c=h;return d|0}do{l=0;s=-32767;while(1){o=i[d+(l<<1)>>1]|0;a=o<<16>>16<s<<16>>16;t=a?t:l&65535;l=l+1|0;if((l&65535)<<16>>16==r<<16>>16)break;else s=a?s:o}i[d+(t<<16>>16<<1)>>1]=-32768;i[u+(n<<1)>>1]=t;n=n+1|0}while((n&65535)<<16>>16!=r<<16>>16);d=f>>1;d=u+(d<<1)|0;d=i[d>>1]|0;d=d<<16>>16;d=e+(d<<1)|0;d=i[d>>1]|0;c=h;return d|0}function ni(e,r,n,t,o){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;var a=0,s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0;a=c;c=c+32|0;s=a;R=r+2|0;g=s+2|0;i[s>>1]=((i[r>>1]|0)>>>1)+((i[e>>1]|0)>>>1);M=r+4|0;F=s+4|0;i[g>>1]=((i[R>>1]|0)>>>1)+((i[e+2>>1]|0)>>>1);k=r+6|0;_=s+6|0;i[F>>1]=((i[M>>1]|0)>>>1)+((i[e+4>>1]|0)>>>1);v=r+8|0;b=s+8|0;i[_>>1]=((i[k>>1]|0)>>>1)+((i[e+6>>1]|0)>>>1);S=r+10|0;p=s+10|0;i[b>>1]=((i[v>>1]|0)>>>1)+((i[e+8>>1]|0)>>>1);E=r+12|0;m=s+12|0;i[p>>1]=((i[S>>1]|0)>>>1)+((i[e+10>>1]|0)>>>1);w=r+14|0;h=s+14|0;i[m>>1]=((i[E>>1]|0)>>>1)+((i[e+12>>1]|0)>>>1);d=r+16|0;u=s+16|0;i[h>>1]=((i[w>>1]|0)>>>1)+((i[e+14>>1]|0)>>>1);f=r+18|0;l=s+18|0;i[u>>1]=((i[d>>1]|0)>>>1)+((i[e+16>>1]|0)>>>1);i[l>>1]=((i[f>>1]|0)>>>1)+((i[e+18>>1]|0)>>>1);ci(s,t,o);ci(r,t+22|0,o);i[s>>1]=((i[n>>1]|0)>>>1)+((i[r>>1]|0)>>>1);i[g>>1]=((i[n+2>>1]|0)>>>1)+((i[R>>1]|0)>>>1);i[F>>1]=((i[n+4>>1]|0)>>>1)+((i[M>>1]|0)>>>1);i[_>>1]=((i[n+6>>1]|0)>>>1)+((i[k>>1]|0)>>>1);i[b>>1]=((i[n+8>>1]|0)>>>1)+((i[v>>1]|0)>>>1);i[p>>1]=((i[n+10>>1]|0)>>>1)+((i[S>>1]|0)>>>1);i[m>>1]=((i[n+12>>1]|0)>>>1)+((i[E>>1]|0)>>>1);i[h>>1]=((i[n+14>>1]|0)>>>1)+((i[w>>1]|0)>>>1);i[u>>1]=((i[n+16>>1]|0)>>>1)+((i[d>>1]|0)>>>1);i[l>>1]=((i[n+18>>1]|0)>>>1)+((i[f>>1]|0)>>>1);ci(s,t+44|0,o);ci(n,t+66|0,o);c=a;return}function ti(e,r,n,t,o){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;var a=0,s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0;a=c;c=c+32|0;s=a;R=r+2|0;g=s+2|0;i[s>>1]=((i[r>>1]|0)>>>1)+((i[e>>1]|0)>>>1);M=r+4|0;F=s+4|0;i[g>>1]=((i[R>>1]|0)>>>1)+((i[e+2>>1]|0)>>>1);k=r+6|0;_=s+6|0;i[F>>1]=((i[M>>1]|0)>>>1)+((i[e+4>>1]|0)>>>1);v=r+8|0;b=s+8|0;i[_>>1]=((i[k>>1]|0)>>>1)+((i[e+6>>1]|0)>>>1);S=r+10|0;p=s+10|0;i[b>>1]=((i[v>>1]|0)>>>1)+((i[e+8>>1]|0)>>>1);E=r+12|0;m=s+12|0;i[p>>1]=((i[S>>1]|0)>>>1)+((i[e+10>>1]|0)>>>1);w=r+14|0;h=s+14|0;i[m>>1]=((i[E>>1]|0)>>>1)+((i[e+12>>1]|0)>>>1);d=r+16|0;u=s+16|0;i[h>>1]=((i[w>>1]|0)>>>1)+((i[e+14>>1]|0)>>>1);f=r+18|0;l=s+18|0;i[u>>1]=((i[d>>1]|0)>>>1)+((i[e+16>>1]|0)>>>1);i[l>>1]=((i[f>>1]|0)>>>1)+((i[e+18>>1]|0)>>>1);ci(s,t,o);i[s>>1]=((i[n>>1]|0)>>>1)+((i[r>>1]|0)>>>1);i[g>>1]=((i[n+2>>1]|0)>>>1)+((i[R>>1]|0)>>>1);i[F>>1]=((i[n+4>>1]|0)>>>1)+((i[M>>1]|0)>>>1);i[_>>1]=((i[n+6>>1]|0)>>>1)+((i[k>>1]|0)>>>1);i[b>>1]=((i[n+8>>1]|0)>>>1)+((i[v>>1]|0)>>>1);i[p>>1]=((i[n+10>>1]|0)>>>1)+((i[S>>1]|0)>>>1);i[m>>1]=((i[n+12>>1]|0)>>>1)+((i[E>>1]|0)>>>1);i[h>>1]=((i[n+14>>1]|0)>>>1)+((i[w>>1]|0)>>>1);i[u>>1]=((i[n+16>>1]|0)>>>1)+((i[d>>1]|0)>>>1);i[l>>1]=((i[n+18>>1]|0)>>>1)+((i[f>>1]|0)>>>1);ci(s,t+44|0,o);c=a;return}function ii(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0;o=c;c=c+32|0;a=o;P=i[e>>1]|0;i[a>>1]=P-(P>>>2)+((i[r>>1]|0)>>>2);P=e+2|0;T=i[P>>1]|0;C=r+2|0;N=a+2|0;i[N>>1]=T-(T>>>2)+((i[C>>1]|0)>>>2);T=e+4|0;y=i[T>>1]|0;D=r+4|0;O=a+4|0;i[O>>1]=y-(y>>>2)+((i[D>>1]|0)>>>2);y=e+6|0;M=i[y>>1]|0;A=r+6|0;R=a+6|0;i[R>>1]=M-(M>>>2)+((i[A>>1]|0)>>>2);M=e+8|0;_=i[M>>1]|0;g=r+8|0;F=a+8|0;i[F>>1]=_-(_>>>2)+((i[g>>1]|0)>>>2);_=e+10|0;S=i[_>>1]|0;k=r+10|0;v=a+10|0;i[v>>1]=S-(S>>>2)+((i[k>>1]|0)>>>2);S=e+12|0;m=i[S>>1]|0;b=r+12|0;p=a+12|0;i[p>>1]=m-(m>>>2)+((i[b>>1]|0)>>>2);m=e+14|0;d=i[m>>1]|0;E=r+14|0;w=a+14|0;i[w>>1]=d-(d>>>2)+((i[E>>1]|0)>>>2);d=e+16|0;l=i[d>>1]|0;h=r+16|0;u=a+16|0;i[u>>1]=l-(l>>>2)+((i[h>>1]|0)>>>2);l=e+18|0;I=i[l>>1]|0;f=r+18|0;s=a+18|0;i[s>>1]=I-(I>>>2)+((i[f>>1]|0)>>>2);ci(a,n,t);i[a>>1]=((i[e>>1]|0)>>>1)+((i[r>>1]|0)>>>1);i[N>>1]=((i[P>>1]|0)>>>1)+((i[C>>1]|0)>>>1);i[O>>1]=((i[T>>1]|0)>>>1)+((i[D>>1]|0)>>>1);i[R>>1]=((i[y>>1]|0)>>>1)+((i[A>>1]|0)>>>1);i[F>>1]=((i[M>>1]|0)>>>1)+((i[g>>1]|0)>>>1);i[v>>1]=((i[_>>1]|0)>>>1)+((i[k>>1]|0)>>>1);i[p>>1]=((i[S>>1]|0)>>>1)+((i[b>>1]|0)>>>1);i[w>>1]=((i[m>>1]|0)>>>1)+((i[E>>1]|0)>>>1);i[u>>1]=((i[d>>1]|0)>>>1)+((i[h>>1]|0)>>>1);i[s>>1]=((i[l>>1]|0)>>>1)+((i[f>>1]|0)>>>1);ci(a,n+22|0,t);I=i[r>>1]|0;i[a>>1]=I-(I>>>2)+((i[e>>1]|0)>>>2);e=i[C>>1]|0;i[N>>1]=e-(e>>>2)+((i[P>>1]|0)>>>2);e=i[D>>1]|0;i[O>>1]=e-(e>>>2)+((i[T>>1]|0)>>>2);e=i[A>>1]|0;i[R>>1]=e-(e>>>2)+((i[y>>1]|0)>>>2);e=i[g>>1]|0;i[F>>1]=e-(e>>>2)+((i[M>>1]|0)>>>2);e=i[k>>1]|0;i[v>>1]=e-(e>>>2)+((i[_>>1]|0)>>>2);e=i[b>>1]|0;i[p>>1]=e-(e>>>2)+((i[S>>1]|0)>>>2);e=i[E>>1]|0;i[w>>1]=e-(e>>>2)+((i[m>>1]|0)>>>2);e=i[h>>1]|0;i[u>>1]=e-(e>>>2)+((i[d>>1]|0)>>>2);e=i[f>>1]|0;i[s>>1]=e-(e>>>2)+((i[l>>1]|0)>>>2);ci(a,n+44|0,t);ci(r,n+66|0,t);c=o;return}function oi(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0;o=c;c=c+32|0;a=o;P=i[e>>1]|0;i[a>>1]=P-(P>>>2)+((i[r>>1]|0)>>>2);P=e+2|0;T=i[P>>1]|0;C=r+2|0;N=a+2|0;i[N>>1]=T-(T>>>2)+((i[C>>1]|0)>>>2);T=e+4|0;y=i[T>>1]|0;D=r+4|0;O=a+4|0;i[O>>1]=y-(y>>>2)+((i[D>>1]|0)>>>2);y=e+6|0;M=i[y>>1]|0;A=r+6|0;R=a+6|0;i[R>>1]=M-(M>>>2)+((i[A>>1]|0)>>>2);M=e+8|0;_=i[M>>1]|0;g=r+8|0;F=a+8|0;i[F>>1]=_-(_>>>2)+((i[g>>1]|0)>>>2);_=e+10|0;S=i[_>>1]|0;k=r+10|0;v=a+10|0;i[v>>1]=S-(S>>>2)+((i[k>>1]|0)>>>2);S=e+12|0;m=i[S>>1]|0;b=r+12|0;p=a+12|0;i[p>>1]=m-(m>>>2)+((i[b>>1]|0)>>>2);m=e+14|0;d=i[m>>1]|0;E=r+14|0;w=a+14|0;i[w>>1]=d-(d>>>2)+((i[E>>1]|0)>>>2);d=e+16|0;l=i[d>>1]|0;h=r+16|0;u=a+16|0;i[u>>1]=l-(l>>>2)+((i[h>>1]|0)>>>2);l=e+18|0;I=i[l>>1]|0;f=r+18|0;s=a+18|0;i[s>>1]=I-(I>>>2)+((i[f>>1]|0)>>>2);ci(a,n,t);i[a>>1]=((i[e>>1]|0)>>>1)+((i[r>>1]|0)>>>1);i[N>>1]=((i[P>>1]|0)>>>1)+((i[C>>1]|0)>>>1);i[O>>1]=((i[T>>1]|0)>>>1)+((i[D>>1]|0)>>>1);i[R>>1]=((i[y>>1]|0)>>>1)+((i[A>>1]|0)>>>1);i[F>>1]=((i[M>>1]|0)>>>1)+((i[g>>1]|0)>>>1);i[v>>1]=((i[_>>1]|0)>>>1)+((i[k>>1]|0)>>>1);i[p>>1]=((i[S>>1]|0)>>>1)+((i[b>>1]|0)>>>1);i[w>>1]=((i[m>>1]|0)>>>1)+((i[E>>1]|0)>>>1);i[u>>1]=((i[d>>1]|0)>>>1)+((i[h>>1]|0)>>>1);i[s>>1]=((i[l>>1]|0)>>>1)+((i[f>>1]|0)>>>1);ci(a,n+22|0,t);r=i[r>>1]|0;i[a>>1]=r-(r>>>2)+((i[e>>1]|0)>>>2);e=i[C>>1]|0;i[N>>1]=e-(e>>>2)+((i[P>>1]|0)>>>2);e=i[D>>1]|0;i[O>>1]=e-(e>>>2)+((i[T>>1]|0)>>>2);e=i[A>>1]|0;i[R>>1]=e-(e>>>2)+((i[y>>1]|0)>>>2);e=i[g>>1]|0;i[F>>1]=e-(e>>>2)+((i[M>>1]|0)>>>2);e=i[k>>1]|0;i[v>>1]=e-(e>>>2)+((i[_>>1]|0)>>>2);e=i[b>>1]|0;i[p>>1]=e-(e>>>2)+((i[S>>1]|0)>>>2);e=i[E>>1]|0;i[w>>1]=e-(e>>>2)+((i[m>>1]|0)>>>2);e=i[h>>1]|0;i[u>>1]=e-(e>>>2)+((i[d>>1]|0)>>>2);e=i[f>>1]|0;i[s>>1]=e-(e>>>2)+((i[l>>1]|0)>>>2);ci(a,n+44|0,t);c=o;return}function ai(e,r){e=e|0;r=r|0;var n=0,t=0;if((e|0)<1){r=1073741823;return r|0}n=(bi(e)|0)<<16>>16;r=30-n|0;e=e<<n>>(r&1^1);n=(e>>25<<16)+-1048576>>16;t=i[7030+(n<<1)>>1]|0;r=(t<<16)-(ee(t-(s[7030+(n+1<<1)>>1]|0)<<16>>15,e>>>10&32767)|0)>>(r<<16>>17)+1;return r|0}function si(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;t=bi(e)|0;li(e<<(t<<16>>16),t,r,n);return}function li(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;if((e|0)<1){i[n>>1]=0;n=0;i[t>>1]=n;return}else{i[n>>1]=30-(r&65535);n=(e>>25<<16)+-2097152>>16;r=i[7128+(n<<1)>>1]|0;n=((r<<16)-(ee(e>>>9&65534,r-(s[7128+(n+1<<1)>>1]|0)<<16>>16)|0)|0)>>>16&65535;i[t>>1]=n;return}}function fi(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,o=0;t=e+2|0;n=i[t>>1]|0;i[r>>1]=n;o=e+4|0;i[r+2>>1]=(s[o>>1]|0)-(s[e>>1]|0);i[r+4>>1]=(s[e+6>>1]|0)-(s[t>>1]|0);t=e+8|0;i[r+6>>1]=(s[t>>1]|0)-(s[o>>1]|0);i[r+8>>1]=(s[e+10>>1]|0)-(s[e+6>>1]|0);o=e+12|0;i[r+10>>1]=(s[o>>1]|0)-(s[t>>1]|0);i[r+12>>1]=(s[e+14>>1]|0)-(s[e+10>>1]|0);i[r+14>>1]=(s[e+16>>1]|0)-(s[o>>1]|0);i[r+16>>1]=(s[e+18>>1]|0)-(s[e+14>>1]|0);i[r+18>>1]=16384-(s[e+16>>1]|0);e=10;o=r;while(1){n=n<<16>>16;r=(n<<16)+-120782848|0;if((r|0)>0)r=1843-((r>>16)*12484>>16)|0;else r=3427-((n*56320|0)>>>16)|0;t=o+2|0;i[o>>1]=r<<3;e=e+-1<<16>>16;if(!(e<<16>>16))break;n=i[t>>1]|0;o=t}return}function ui(e,r,n){e=e|0;r=r|0;n=n|0;n=r<<16>>16;if(r<<16>>16>31){r=0;return r|0}if(r<<16>>16>0)return((1<<n+-1&e|0)!=0&1)+(r<<16>>16<31?e>>n:0)|0;n=0-n<<16>>16;r=e<<n;r=(r>>n|0)==(e|0)?r:e>>31^2147483647;return r|0}function ci(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0;S=c;c=c+48|0;E=S+24|0;p=S;w=E+4|0;o[E>>2]=16777216;t=0-(i[e>>1]|0)|0;m=E+8|0;o[w>>2]=t<<10;a=i[e+4>>1]|0;u=t>>6;o[m>>2]=33554432-(((ee((t<<9)-(u<<15)<<16>>16,a)|0)>>15)+(ee(u,a)|0)<<2);u=E+4|0;a=(o[u>>2]|0)-(a<<10)|0;o[u>>2]=a;u=E+12|0;t=E+4|0;o[u>>2]=a;n=i[e+8>>1]|0;s=a;d=1;while(1){f=u+-4|0;l=o[f>>2]|0;h=l>>16;o[u>>2]=s+a-(((ee((l>>>1)-(h<<15)<<16>>16,n)|0)>>15)+(ee(h,n)|0)<<2);if((d|0)==2)break;s=o[u+-12>>2]|0;u=f;a=l;d=d+1|0}o[t>>2]=(o[t>>2]|0)-(n<<10);n=E+16|0;t=o[E+8>>2]|0;o[n>>2]=t;f=i[e+12>>1]|0;a=t;u=1;while(1){l=n+-4|0;s=o[l>>2]|0;h=s>>16;o[n>>2]=a+t-(((ee((s>>>1)-(h<<15)<<16>>16,f)|0)>>15)+(ee(h,f)|0)<<2);if((u|0)==3)break;a=o[n+-12>>2]|0;n=l;t=s;u=u+1|0}n=E+4|0;o[n>>2]=(o[n>>2]|0)-(f<<10);n=E+20|0;a=o[E+12>>2]|0;o[n>>2]=a;t=i[e+16>>1]|0;s=a;u=1;while(1){f=n+-4|0;l=o[f>>2]|0;h=l>>16;o[n>>2]=s+a-(((ee((l>>>1)-(h<<15)<<16>>16,t)|0)>>15)+(ee(h,t)|0)<<2);if((u|0)==4)break;s=o[n+-12>>2]|0;n=f;a=l;u=u+1|0}u=E+4|0;o[u>>2]=(o[u>>2]|0)-(t<<10);o[p>>2]=16777216;u=0-(i[e+2>>1]|0)|0;h=p+8|0;o[p+4>>2]=u<<10;t=i[e+6>>1]|0;d=u>>6;o[h>>2]=33554432-(((ee((u<<9)-(d<<15)<<16>>16,t)|0)>>15)+(ee(d,t)|0)<<2);d=p+4|0;t=(o[d>>2]|0)-(t<<10)|0;o[d>>2]=t;d=p+12|0;u=p+4|0;o[d>>2]=t;f=i[e+10>>1]|0;a=t;n=1;while(1){l=d+-4|0;s=o[l>>2]|0;b=s>>16;o[d>>2]=a+t-(((ee((s>>>1)-(b<<15)<<16>>16,f)|0)>>15)+(ee(b,f)|0)<<2);if((n|0)==2)break;a=o[d+-12>>2]|0;d=l;t=s;n=n+1|0}o[u>>2]=(o[u>>2]|0)-(f<<10);u=p+16|0;t=o[p+8>>2]|0;o[u>>2]=t;f=i[e+14>>1]|0;a=t;n=1;while(1){l=u+-4|0;s=o[l>>2]|0;b=s>>16;o[u>>2]=a+t-(((ee((s>>>1)-(b<<15)<<16>>16,f)|0)>>15)+(ee(b,f)|0)<<2);if((n|0)==3)break;a=o[u+-12>>2]|0;u=l;t=s;n=n+1|0}n=p+4|0;o[n>>2]=(o[n>>2]|0)-(f<<10);n=p+20|0;f=o[p+12>>2]|0;o[n>>2]=f;t=i[e+18>>1]|0;l=f;u=1;while(1){a=n+-4|0;s=o[a>>2]|0;b=s>>16;o[n>>2]=l+f-(((ee((s>>>1)-(b<<15)<<16>>16,t)|0)>>15)+(ee(b,t)|0)<<2);if((u|0)==4)break;l=o[n+-12>>2]|0;n=a;f=s;u=u+1|0}l=(o[p+4>>2]|0)-(t<<10)|0;d=E+20|0;f=p+20|0;u=o[E+16>>2]|0;e=(o[d>>2]|0)+u|0;o[d>>2]=e;d=o[p+16>>2]|0;b=(o[f>>2]|0)-d|0;o[f>>2]=b;f=o[E+12>>2]|0;u=u+f|0;o[E+16>>2]=u;s=o[p+12>>2]|0;d=d-s|0;o[p+16>>2]=d;t=o[m>>2]|0;f=f+t|0;o[E+12>>2]=f;a=o[h>>2]|0;m=s-a|0;o[p+12>>2]=m;s=o[w>>2]|0;h=t+s|0;o[E+8>>2]=h;w=a-l|0;o[p+8>>2]=w;E=s+(o[E>>2]|0)|0;p=l-(o[p>>2]|0)|0;i[r>>1]=4096;E=E+4096|0;i[r+2>>1]=(E+p|0)>>>13;i[r+20>>1]=(E-p|0)>>>13;p=h+4096|0;i[r+4>>1]=(p+w|0)>>>13;i[r+18>>1]=(p-w|0)>>>13;p=f+4096|0;i[r+6>>1]=(p+m|0)>>>13;i[r+16>>1]=(p-m|0)>>>13;p=u+4096|0;i[r+8>>1]=(p+d|0)>>>13;i[r+14>>1]=(p-d|0)>>>13;p=e+4096|0;i[r+10>>1]=(p+b|0)>>>13;i[r+12>>1]=(p-b|0)>>>13;c=S;return}function di(e){e=e|0;var r=0,n=0,t=0,a=0,s=0;if(!e){s=-1;return s|0}o[e>>2]=0;r=xi(44)|0;if(!r){s=-1;return s|0}n=r+40|0;if((yi(n)|0)<<16>>16){s=-1;return s|0}t=r;a=7452;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));t=r+20|0;a=7452;s=t+20|0;do{i[t>>1]=i[a>>1]|0;t=t+2|0;a=a+2|0}while((t|0)<(s|0));Ai(o[n>>2]|0)|0;o[e>>2]=r;s=0;return s|0}function hi(e){e=e|0;var r=0,n=0,t=0;if(!e){t=-1;return t|0}r=e;n=7452;t=r+20|0;do{i[r>>1]=i[n>>1]|0;r=r+2|0;n=n+2|0}while((r|0)<(t|0));r=e+20|0;n=7452;t=r+20|0;do{i[r>>1]=i[n>>1]|0;r=r+2|0;n=n+2|0}while((r|0)<(t|0));Ai(o[e+40>>2]|0)|0;t=0;return t|0}function wi(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Oi(r+40|0);Hi(o[e>>2]|0);o[e>>2]=0;return}function mi(e,r,n,t,a,s,l,f){e=e|0;r=r|0;n=n|0;t=t|0;a=a|0;s=s|0;l=l|0;f=f|0;var u=0,d=0,h=0,w=0,m=0;m=c;c=c+64|0;w=m+44|0;u=m+24|0;d=m+4|0;h=m;if((r|0)==7){Xt(t+22|0,u,e,f);Xt(t+66|0,s,u,f);ti(e,u,s,t,f);if((n|0)==8)t=6;else{gi(o[e+40>>2]|0,u,s,d,w,o[l>>2]|0,f);ni(e+20|0,d,w,a,f);a=(o[l>>2]|0)+10|0;t=7}}else{Xt(t+66|0,s,e,f);oi(e,s,t,f);if((n|0)==8)t=6;else{Fi(o[e+40>>2]|0,r,s,w,o[l>>2]|0,h,f);ii(e+20|0,w,a,f);a=(o[l>>2]|0)+6|0;t=7}}if((t|0)==6){t=e;a=t+20|0;do{i[t>>1]=i[s>>1]|0;t=t+2|0;s=s+2|0}while((t|0)<(a|0));c=m;return}else if((t|0)==7){o[l>>2]=a;t=e;a=t+20|0;do{i[t>>1]=i[s>>1]|0;t=t+2|0;s=s+2|0}while((t|0)<(a|0));t=e+20|0;s=w;a=t+20|0;do{i[t>>1]=i[s>>1]|0;t=t+2|0;s=s+2|0}while((t|0)<(a|0));c=m;return}}function Ei(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0;if(n<<16>>16>0)t=0;else return;do{a=i[e+(t<<1)>>1]|0;s=a>>8;o=i[7194+(s<<1)>>1]|0;i[r+(t<<1)>>1]=((ee((i[7194+(s+1<<1)>>1]|0)-o|0,a&255)|0)>>>8)+o;t=t+1|0}while((t&65535)<<16>>16!=n<<16>>16);return}function pi(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0;t=(n<<16>>16)+-1|0;n=t&65535;if(n<<16>>16<=-1)return;o=63;s=r+(t<<1)|0;a=e+(t<<1)|0;while(1){e=i[a>>1]|0;r=o;while(1){t=r<<16>>16;o=i[7194+(t<<1)>>1]|0;if(e<<16>>16>o<<16>>16)r=r+-1<<16>>16;else break}i[s>>1]=(((ee(i[7324+(t<<1)>>1]|0,(e<<16>>16)-(o<<16>>16)|0)|0)+2048|0)>>>12)+(t<<8);n=n+-1<<16>>16;if(n<<16>>16>-1){o=r;s=s+-2|0;a=a+-2|0}else break}return}function Si(e,r,n){e=e|0;r=r|0;n=n|0;e=(ee(r<<16>>16,e<<16>>16)|0)+16384>>15;e=e|0-(e&65536);if((e|0)<=32767){if((e|0)<-32768){o[n>>2]=1;e=-32768}}else{o[n>>2]=1;e=32767}return e&65535|0}function bi(e){e=e|0;var r=0;e:do if((e|0)!=0?(r=e-(e>>>31)|0,r=r>>31^r,(r&1073741824|0)==0):0){e=r;r=0;while(1){if(e&536870912){e=7;break}if(e&268435456){e=8;break}if(e&134217728){e=9;break}r=r+4<<16>>16;e=e<<4;if(e&1073741824)break e}if((e|0)==7){r=r|1;break}else if((e|0)==8){r=r|2;break}else if((e|0)==9){r=r|3;break}}else r=0;while(0);return r|0}function vi(e){e=e|0;var r=0,n=0;if(!(e<<16>>16)){n=0;return n|0}r=(e&65535)-((e&65535)>>>15&65535)|0;r=(r<<16>>31^r)<<16;e=r>>16;if(!(e&16384)){n=r;r=0}else{n=0;return n|0}while(1){if(e&8192){e=r;n=7;break}if(e&4096){e=r;n=8;break}if(e&2048){e=r;n=9;break}r=r+4<<16>>16;n=n<<4;e=n>>16;if(e&16384){e=r;n=10;break}}if((n|0)==7){n=e|1;return n|0}else if((n|0)==8){n=e|2;return n|0}else if((n|0)==9){n=e|3;return n|0}else if((n|0)==10)return e|0;return 0}function _i(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,l=0;r=r<<16>>16;if((r&134217727|0)==33554432){o[n>>2]=1;r=2147483647}else r=r<<6;t=r>>>16&31;l=i[7792+(t<<1)>>1]|0;a=l<<16;r=ee(l-(s[7792+(t+1<<1)>>1]|0)<<16>>16,r>>>1&32767)|0;if((r|0)==1073741824){o[n>>2]=1;t=2147483647}else t=r<<1;r=a-t|0;if(((r^a)&(t^a)|0)>=0){l=r;e=e&65535;e=30-e|0;e=e&65535;n=ui(l,e,n)|0;return n|0}o[n>>2]=1;l=(l>>>15&1)+2147483647|0;e=e&65535;e=30-e|0;e=e&65535;n=ui(l,e,n)|0;return n|0}function ki(e,r,n,t,o,a){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;var s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0;w=c;c=c+48|0;h=w;d=0-(n&65535)|0;d=o<<16>>16==0?d:d<<1&131070;n=d&65535;d=(n<<16>>16<0?d+6|0:d)<<16>>16;a=6-d|0;i[h>>1]=i[7858+(d<<1)>>1]|0;i[h+2>>1]=i[7858+(a<<1)>>1]|0;i[h+4>>1]=i[7858+(d+6<<1)>>1]|0;i[h+6>>1]=i[7858+(a+6<<1)>>1]|0;i[h+8>>1]=i[7858+(d+12<<1)>>1]|0;i[h+10>>1]=i[7858+(a+12<<1)>>1]|0;i[h+12>>1]=i[7858+(d+18<<1)>>1]|0;i[h+14>>1]=i[7858+(a+18<<1)>>1]|0;i[h+16>>1]=i[7858+(d+24<<1)>>1]|0;i[h+18>>1]=i[7858+(a+24<<1)>>1]|0;i[h+20>>1]=i[7858+(d+30<<1)>>1]|0;i[h+22>>1]=i[7858+(a+30<<1)>>1]|0;i[h+24>>1]=i[7858+(d+36<<1)>>1]|0;i[h+26>>1]=i[7858+(a+36<<1)>>1]|0;i[h+28>>1]=i[7858+(d+42<<1)>>1]|0;i[h+30>>1]=i[7858+(a+42<<1)>>1]|0;i[h+32>>1]=i[7858+(d+48<<1)>>1]|0;i[h+34>>1]=i[7858+(a+48<<1)>>1]|0;i[h+36>>1]=i[7858+(d+54<<1)>>1]|0;i[h+38>>1]=i[7858+(a+54<<1)>>1]|0;a=t<<16>>16>>>1&65535;if(!(a<<16>>16)){c=w;return}d=e+((n<<16>>16>>15<<16>>16)-(r<<16>>16)<<1)|0;while(1){u=d+2|0;s=i[u>>1]|0;r=s;t=d;l=5;f=h;o=16384;n=16384;while(1){E=i[f>>1]|0;p=(ee(E,r<<16>>16)|0)+n|0;m=i[u+-2>>1]|0;n=(ee(m,E)|0)+o|0;E=t;t=t+4|0;S=i[f+2>>1]|0;n=n+(ee(S,s<<16>>16)|0)|0;o=i[t>>1]|0;S=p+(ee(o,S)|0)|0;u=u+-4|0;p=i[f+4>>1]|0;m=S+(ee(p,m)|0)|0;r=i[u>>1]|0;p=n+(ee(r<<16>>16,p)|0)|0;n=i[f+6>>1]|0;o=p+(ee(n,o)|0)|0;s=i[E+6>>1]|0;n=m+(ee(s<<16>>16,n)|0)|0;if(l<<16>>16<=1)break;else{l=l+-1<<16>>16;f=f+8|0}}i[e>>1]=o>>>15;i[e+2>>1]=n>>>15;a=a+-1<<16>>16;if(!(a<<16>>16))break;else{d=d+4|0;e=e+4|0}}c=w;return}function Fi(e,r,n,t,o,a,l){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;l=l|0;var f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0;A=c;c=c+144|0;b=A+120|0;M=A+100|0;R=A+80|0;y=A+60|0;g=A+40|0;E=A+20|0;p=A;pi(n,b,10,l);fi(b,M,l);if((r|0)==8){i[a>>1]=0;u=2147483647;S=0;while(1){h=S*10|0;n=0;d=0;do{F=(s[7980+(d+h<<1)>>1]|0)+(s[8140+(d<<1)>>1]|0)|0;i[p+(d<<1)>>1]=F;F=(s[b+(d<<1)>>1]|0)-(F&65535)|0;i[E+(d<<1)>>1]=F;F=F<<16;n=(ee(F>>15,F>>16)|0)+n|0;d=d+1|0}while((d|0)!=10);if((n|0)<(u|0)){v=y;m=E;w=v+20|0;do{i[v>>1]=i[m>>1]|0;v=v+2|0;m=m+2|0}while((v|0)<(w|0));v=R;m=p;w=v+20|0;do{i[v>>1]=i[m>>1]|0;v=v+2|0;m=m+2|0}while((v|0)<(w|0));v=e;m=7980+(h<<1)|0;w=v+20|0;do{i[v>>1]=i[m>>1]|0;v=v+2|0;m=m+2|0}while((v|0)<(w|0));i[a>>1]=S}else n=u;S=S+1|0;if((S|0)==8)break;else u=n}}else{n=0;do{F=ee(i[8160+(n<<1)>>1]|0,i[e+(n<<1)>>1]|0)|0;F=(F>>>15)+(s[8140+(n<<1)>>1]|0)|0;i[R+(n<<1)>>1]=F;i[y+(n<<1)>>1]=(s[b+(n<<1)>>1]|0)-F;n=n+1|0}while((n|0)!=10)}do if(r>>>0>=2){F=y+2|0;k=y+4|0;_=s[y>>1]|0;v=i[M>>1]<<1;b=s[F>>1]|0;E=i[M+2>>1]<<1;m=s[k>>1]|0;w=i[M+4>>1]<<1;if((r|0)==5){p=2147483647;a=0;n=0;S=17908;while(1){d=(ee(_-(s[S>>1]|0)<<16>>16,v)|0)>>16;d=ee(d,d)|0;h=(ee(b-(s[S+2>>1]|0)<<16>>16,E)|0)>>16;d=(ee(h,h)|0)+d|0;h=(ee(m-(s[S+4>>1]|0)<<16>>16,w)|0)>>16;h=d+(ee(h,h)|0)|0;d=(h|0)<(p|0);n=d?a:n;a=a+1<<16>>16;if(a<<16>>16>=512)break;else{p=d?h:p;S=S+6|0}}h=(n<<16>>16)*3|0;i[y>>1]=i[17908+(h<<1)>>1]|0;i[F>>1]=i[17908+(h+1<<1)>>1]|0;i[k>>1]=i[17908+(h+2<<1)>>1]|0;i[o>>1]=n;h=y+6|0;d=y+8|0;_=y+10|0;S=s[h>>1]|0;a=i[M+6>>1]<<1;p=s[d>>1]|0;E=i[M+8>>1]<<1;m=s[_>>1]|0;w=i[M+10>>1]<<1;f=2147483647;b=0;n=0;v=9716;while(1){u=(ee(a,S-(s[v>>1]|0)<<16>>16)|0)>>16;u=ee(u,u)|0;r=(ee(E,p-(s[v+2>>1]|0)<<16>>16)|0)>>16;u=(ee(r,r)|0)+u|0;r=(ee(w,m-(s[v+4>>1]|0)<<16>>16)|0)>>16;r=u+(ee(r,r)|0)|0;u=(r|0)<(f|0);n=u?b:n;b=b+1<<16>>16;if(b<<16>>16>=512)break;else{f=u?r:f;v=v+6|0}}f=(n<<16>>16)*3|0;i[h>>1]=i[9716+(f<<1)>>1]|0;i[d>>1]=i[9716+(f+1<<1)>>1]|0;i[_>>1]=i[9716+(f+2<<1)>>1]|0;i[o+2>>1]=n;f=y+12|0;i[o+4>>1]=Mi(f,12788,M+12|0,512)|0;b=F;S=k;n=_;u=y;break}else{p=2147483647;a=0;n=0;S=8180;while(1){d=(ee(_-(s[S>>1]|0)<<16>>16,v)|0)>>16;d=ee(d,d)|0;h=(ee(b-(s[S+2>>1]|0)<<16>>16,E)|0)>>16;d=(ee(h,h)|0)+d|0;h=(ee(m-(s[S+4>>1]|0)<<16>>16,w)|0)>>16;h=d+(ee(h,h)|0)|0;d=(h|0)<(p|0);n=d?a:n;a=a+1<<16>>16;if(a<<16>>16>=256)break;else{p=d?h:p;S=S+6|0}}h=(n<<16>>16)*3|0;i[y>>1]=i[8180+(h<<1)>>1]|0;i[F>>1]=i[8180+(h+1<<1)>>1]|0;i[k>>1]=i[8180+(h+2<<1)>>1]|0;i[o>>1]=n;h=y+6|0;d=y+8|0;_=y+10|0;S=s[h>>1]|0;a=i[M+6>>1]<<1;p=s[d>>1]|0;E=i[M+8>>1]<<1;m=s[_>>1]|0;w=i[M+10>>1]<<1;f=2147483647;b=0;n=0;v=9716;while(1){u=(ee(a,S-(s[v>>1]|0)<<16>>16)|0)>>16;u=ee(u,u)|0;r=(ee(E,p-(s[v+2>>1]|0)<<16>>16)|0)>>16;u=(ee(r,r)|0)+u|0;r=(ee(w,m-(s[v+4>>1]|0)<<16>>16)|0)>>16;r=u+(ee(r,r)|0)|0;u=(r|0)<(f|0);n=u?b:n;
b=b+1<<16>>16;if(b<<16>>16>=512)break;else{f=u?r:f;v=v+6|0}}f=(n<<16>>16)*3|0;i[h>>1]=i[9716+(f<<1)>>1]|0;i[d>>1]=i[9716+(f+1<<1)>>1]|0;i[_>>1]=i[9716+(f+2<<1)>>1]|0;i[o+2>>1]=n;f=y+12|0;i[o+4>>1]=Mi(f,12788,M+12|0,512)|0;b=F;S=k;n=_;u=y;break}}else{k=y+2|0;F=y+4|0;h=s[y>>1]|0;d=i[M>>1]<<1;u=s[k>>1]|0;f=i[M+2>>1]<<1;r=s[F>>1]|0;w=i[M+4>>1]<<1;p=2147483647;a=0;n=0;S=8180;while(1){E=(ee(d,h-(s[S>>1]|0)<<16>>16)|0)>>16;E=ee(E,E)|0;m=(ee(f,u-(s[S+2>>1]|0)<<16>>16)|0)>>16;E=(ee(m,m)|0)+E|0;m=(ee(w,r-(s[S+4>>1]|0)<<16>>16)|0)>>16;m=E+(ee(m,m)|0)|0;E=(m|0)<(p|0);n=E?a:n;a=a+1<<16>>16;if(a<<16>>16>=256)break;else{p=E?m:p;S=S+6|0}}h=(n<<16>>16)*3|0;i[y>>1]=i[8180+(h<<1)>>1]|0;i[k>>1]=i[8180+(h+1<<1)>>1]|0;i[F>>1]=i[8180+(h+2<<1)>>1]|0;i[o>>1]=n;h=y+6|0;d=y+8|0;_=y+10|0;S=s[h>>1]|0;a=i[M+6>>1]<<1;p=s[d>>1]|0;E=i[M+8>>1]<<1;m=s[_>>1]|0;w=i[M+10>>1]<<1;f=2147483647;b=0;n=0;v=9716;while(1){u=(ee(a,S-(s[v>>1]|0)<<16>>16)|0)>>16;u=ee(u,u)|0;r=(ee(E,p-(s[v+2>>1]|0)<<16>>16)|0)>>16;u=(ee(r,r)|0)+u|0;r=(ee(w,m-(s[v+4>>1]|0)<<16>>16)|0)>>16;r=u+(ee(r,r)|0)|0;u=(r|0)<(f|0);n=u?b:n;b=b+1<<16>>16;if(b<<16>>16>=256)break;else{f=u?r:f;v=v+12|0}}f=(n<<16>>16)*6|0;i[h>>1]=i[9716+(f<<1)>>1]|0;i[d>>1]=i[9716+((f|1)<<1)>>1]|0;i[_>>1]=i[9716+(f+2<<1)>>1]|0;i[o+2>>1]=n;f=y+12|0;i[o+4>>1]=Mi(f,16884,M+12|0,128)|0;b=k;S=F;n=_;u=y}while(0);v=e;m=y;w=v+20|0;do{i[v>>1]=i[m>>1]|0;v=v+2|0;m=m+2|0}while((v|0)<(w|0));i[g>>1]=(s[R>>1]|0)+(s[u>>1]|0);i[g+2>>1]=(s[R+2>>1]|0)+(s[b>>1]|0);i[g+4>>1]=(s[R+4>>1]|0)+(s[S>>1]|0);i[g+6>>1]=(s[R+6>>1]|0)+(s[h>>1]|0);i[g+8>>1]=(s[R+8>>1]|0)+(s[d>>1]|0);i[g+10>>1]=(s[R+10>>1]|0)+(s[n>>1]|0);i[g+12>>1]=(s[R+12>>1]|0)+(s[f>>1]|0);i[g+14>>1]=(s[R+14>>1]|0)+(s[y+14>>1]|0);i[g+16>>1]=(s[R+16>>1]|0)+(s[y+16>>1]|0);i[g+18>>1]=(s[R+18>>1]|0)+(s[y+18>>1]|0);Ti(g,205,10,l);Ei(g,t,10,l);c=A;return}function Mi(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0;b=e+2|0;v=e+4|0;_=e+6|0;if(t<<16>>16>0){d=s[e>>1]|0;h=i[n>>1]<<1;w=s[b>>1]|0;m=i[n+2>>1]<<1;E=s[v>>1]|0;p=i[n+4>>1]<<1;S=s[_>>1]|0;o=i[n+6>>1]<<1;f=2147483647;u=0;n=0;c=r;while(1){a=(ee(h,d-(s[c>>1]|0)<<16>>16)|0)>>16;a=ee(a,a)|0;l=(ee(m,w-(s[c+2>>1]|0)<<16>>16)|0)>>16;a=(ee(l,l)|0)+a|0;l=(ee(p,E-(s[c+4>>1]|0)<<16>>16)|0)>>16;l=a+(ee(l,l)|0)|0;a=(ee(o,S-(s[c+6>>1]|0)<<16>>16)|0)>>16;a=l+(ee(a,a)|0)|0;l=(a|0)<(f|0);n=l?u:n;u=u+1<<16>>16;if(u<<16>>16>=t<<16>>16)break;else{f=l?a:f;c=c+8|0}}}else n=0;t=n<<16>>16<<2;S=t|1;i[e>>1]=i[r+(t<<1)>>1]|0;i[b>>1]=i[r+(S<<1)>>1]|0;i[v>>1]=i[r+(S+1<<1)>>1]|0;i[_>>1]=i[r+((t|3)<<1)>>1]|0;return n|0}function gi(e,r,n,t,o,a,l){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;l=l|0;var f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0;C=c;c=c+192|0;d=C+160|0;u=C+140|0;A=C+120|0;O=C+100|0;T=C+80|0;D=C+60|0;f=C+40|0;N=C+20|0;P=C;pi(r,d,10,l);pi(n,u,10,l);fi(d,A,l);fi(u,O,l);h=0;n=T;r=D;w=f;while(1){y=(((i[e+(h<<1)>>1]|0)*21299|0)>>>15)+(s[20980+(h<<1)>>1]|0)|0;i[n>>1]=y;i[r>>1]=(s[d>>1]|0)-y;i[w>>1]=(s[u>>1]|0)-y;h=h+1|0;if((h|0)==10)break;else{d=d+2|0;u=u+2|0;n=n+2|0;r=r+2|0;w=w+2|0}}i[a>>1]=Ri(D,f,21e3,i[A>>1]|0,i[A+2>>1]|0,i[O>>1]|0,i[O+2>>1]|0,128)|0;i[a+2>>1]=Ri(D+4|0,f+4|0,22024,i[A+4>>1]|0,i[A+6>>1]|0,i[O+4>>1]|0,i[O+6>>1]|0,256)|0;M=D+8|0;g=f+8|0;R=D+10|0;y=f+10|0;n=i[M>>1]|0;m=i[A+8>>1]<<1;E=i[R>>1]|0;p=i[A+10>>1]<<1;S=i[g>>1]|0;b=i[O+8>>1]<<1;v=i[y>>1]|0;_=i[O+10>>1]<<1;u=2147483647;k=0;w=0;F=24072;r=0;while(1){d=i[F>>1]|0;h=(ee(n-d<<16>>16,m)|0)>>16;h=ee(h,h)|0;d=(ee(d+n<<16>>16,m)|0)>>16;d=ee(d,d)|0;I=i[F+2>>1]|0;B=(ee(E-I<<16>>16,p)|0)>>16;h=(ee(B,B)|0)+h|0;I=(ee(I+E<<16>>16,p)|0)>>16;d=(ee(I,I)|0)+d|0;if((h|0)<(u|0)|(d|0)<(u|0)){B=i[F+4>>1]|0;I=(ee(S-B<<16>>16,b)|0)>>16;I=(ee(I,I)|0)+h|0;B=(ee(B+S<<16>>16,b)|0)>>16;B=(ee(B,B)|0)+d|0;d=i[F+6>>1]|0;h=(ee(v-d<<16>>16,_)|0)>>16;h=I+(ee(h,h)|0)|0;d=(ee(d+v<<16>>16,_)|0)>>16;d=B+(ee(d,d)|0)|0;B=(h|0)<(u|0);h=B?h:u;I=(d|0)<(h|0);h=I?d:h;w=B|I?k:w;r=I?1:B?0:r}else h=u;k=k+1<<16>>16;if(k<<16>>16>=256)break;else{u=h;F=F+8|0}}h=w<<16>>16;d=h<<2;w=d|1;u=24072+(w<<1)|0;n=i[24072+(d<<1)>>1]|0;if(!(r<<16>>16)){i[M>>1]=n;i[R>>1]=i[u>>1]|0;i[g>>1]=i[24072+(w+1<<1)>>1]|0;i[y>>1]=i[24072+((d|3)<<1)>>1]|0;r=h<<1}else{i[M>>1]=0-(n&65535);i[R>>1]=0-(s[u>>1]|0);i[g>>1]=0-(s[24072+(w+1<<1)>>1]|0);i[y>>1]=0-(s[24072+((d|3)<<1)>>1]|0);r=h<<1&65534|1}i[a+4>>1]=r;i[a+6>>1]=Ri(D+12|0,f+12|0,26120,i[A+12>>1]|0,i[A+14>>1]|0,i[O+12>>1]|0,i[O+14>>1]|0,256)|0;i[a+8>>1]=Ri(D+16|0,f+16|0,28168,i[A+16>>1]|0,i[A+18>>1]|0,i[O+16>>1]|0,i[O+18>>1]|0,64)|0;u=0;d=N;h=P;n=T;r=D;while(1){I=s[n>>1]|0;i[d>>1]=I+(s[r>>1]|0);B=i[f>>1]|0;i[h>>1]=I+(B&65535);i[e+(u<<1)>>1]=B;u=u+1|0;if((u|0)==10)break;else{d=d+2|0;h=h+2|0;n=n+2|0;r=r+2|0;f=f+2|0}}Ti(N,205,10,l);Ti(P,205,10,l);Ei(N,t,10,l);Ei(P,o,10,l);c=C;return}function Ri(e,r,n,t,o,a,s,l){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;s=s|0;l=l|0;var f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0;w=i[e>>1]|0;v=e+2|0;E=i[v>>1]|0;S=i[r>>1]|0;_=r+2|0;b=i[_>>1]|0;if(l<<16>>16>0){h=t<<16>>16<<1;d=o<<16>>16<<1;c=a<<16>>16<<1;o=s<<16>>16<<1;a=2147483647;f=0;t=0;u=n;while(1){s=(ee(h,w-(i[u>>1]|0)|0)|0)>>16;s=ee(s,s)|0;if(((s|0)<(a|0)?(m=(ee(d,E-(i[u+2>>1]|0)|0)|0)>>16,m=(ee(m,m)|0)+s|0,(m|0)<(a|0)):0)?(p=(ee(c,S-(i[u+4>>1]|0)|0)|0)>>16,p=(ee(p,p)|0)+m|0,(p|0)<(a|0)):0){s=(ee(o,b-(i[u+6>>1]|0)|0)|0)>>16;s=(ee(s,s)|0)+p|0;k=(s|0)<(a|0);s=k?s:a;t=k?f:t}else s=a;f=f+1<<16>>16;if(f<<16>>16>=l<<16>>16)break;else{a=s;u=u+8|0}}}else t=0;k=t<<16>>16<<2;l=k|1;i[e>>1]=i[n+(k<<1)>>1]|0;i[v>>1]=i[n+(l<<1)>>1]|0;i[r>>1]=i[n+(l+1<<1)>>1]|0;i[_>>1]=i[n+((k|3)<<1)>>1]|0;return t|0}function yi(e){e=e|0;var r=0,n=0,t=0;if(!e){t=-1;return t|0}o[e>>2]=0;r=xi(20)|0;if(!r){t=-1;return t|0}n=r;t=n+20|0;do{i[n>>1]=0;n=n+2|0}while((n|0)<(t|0));o[e>>2]=r;t=0;return t|0}function Ai(e){e=e|0;var r=0;if(!e){r=-1;return r|0}r=e+20|0;do{i[e>>1]=0;e=e+2|0}while((e|0)<(r|0));r=0;return r|0}function Oi(e){e=e|0;var r=0;if(!e)return;r=o[e>>2]|0;if(!r)return;Hi(r);o[e>>2]=0;return}function Ti(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0;if(n<<16>>16<=0)return;o=r<<16>>16;a=r&65535;s=0;while(1){t=i[e>>1]|0;if(t<<16>>16<r<<16>>16){i[e>>1]=r;t=(r<<16>>16)+o|0}else t=(t&65535)+a|0;s=s+1<<16>>16;if(s<<16>>16>=n<<16>>16)break;else{r=t&65535;e=e+2|0}}return}function Di(e,r,n,t){e=e|0;r=r|0;n=n|0;t=t|0;var o=0,a=0,s=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0;o=t<<16>>16;t=o>>>2&65535;if(!(t<<16>>16))return;h=o+-1|0;b=e+20|0;m=r+(o+-4<<1)|0;E=r+(o+-3<<1)|0;p=r+(o+-2<<1)|0;S=r+(h<<1)|0;w=r+(o+-11<<1)|0;h=n+(h<<1)|0;while(1){r=i[b>>1]|0;s=5;l=b;f=w;u=w+-2|0;c=w+-4|0;d=w+-6|0;a=2048;e=2048;o=2048;n=2048;while(1){a=(ee(i[f>>1]|0,r)|0)+a|0;e=(ee(i[u>>1]|0,r)|0)+e|0;o=(ee(i[c>>1]|0,r)|0)+o|0;r=(ee(i[d>>1]|0,r)|0)+n|0;n=i[l+-2>>1]|0;a=a+(ee(i[f+2>>1]|0,n)|0)|0;e=e+(ee(i[u+2>>1]|0,n)|0)|0;o=o+(ee(i[c+2>>1]|0,n)|0)|0;l=l+-4|0;n=r+(ee(i[d+2>>1]|0,n)|0)|0;s=s+-1<<16>>16;r=i[l>>1]|0;if(!(s<<16>>16))break;else{f=f+4|0;u=u+4|0;c=c+4|0;d=d+4|0}}f=(ee(i[S>>1]|0,r)|0)+a|0;u=(ee(i[p>>1]|0,r)|0)+e|0;c=(ee(i[E>>1]|0,r)|0)+o|0;d=(ee(i[m>>1]|0,r)|0)+n|0;i[h>>1]=f>>>12;i[h+-2>>1]=u>>>12;i[h+-4>>1]=c>>>12;i[h+-6>>1]=d>>>12;t=t+-1<<16>>16;if(!(t<<16>>16))break;else{m=m+-8|0;E=E+-8|0;p=p+-8|0;S=S+-8|0;w=w+-8|0;h=h+-8|0}}return}function Ni(e,r){e=e|0;r=r|0;var n=0;n=e+32768|0;if((e|0)>-1&(n^e|0)<0){o[r>>2]=1;n=(e>>>31)+2147483647|0}return n>>>16&65535|0}function Pi(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,i=0;t=r<<16>>16;if(!(r<<16>>16))return e|0;if(r<<16>>16>0){e=e<<16>>16>>(r<<16>>16>15?15:t)&65535;return e|0}i=0-t|0;r=e<<16>>16;i=(i&65535)<<16>>16>15?15:i<<16>>16;t=r<<i;if((t<<16>>16>>i|0)==(r|0)){i=t&65535;return i|0}o[n>>2]=1;i=e<<16>>16>0?32767:-32768;return i|0}function Ci(e,r,n){e=e|0;r=r|0;n=n|0;if(r<<16>>16>15){r=0;return r|0}n=Pi(e,r,n)|0;if(r<<16>>16>0)return n+((1<<(r<<16>>16)+-1&e<<16>>16|0)!=0&1)<<16>>16|0;else{r=n;return r|0}return 0}function Ii(e,r,n){e=e|0;r=r|0;n=n|0;var t=0,a=0,l=0;if((e|0)<1){i[r>>1]=0;n=0;return n|0}a=(bi(e)|0)&65534;l=a&65535;a=a<<16>>16;if(l<<16>>16>0){t=e<<a;if((t>>a|0)!=(e|0))t=e>>31^2147483647}else{a=0-a<<16;if((a|0)<2031616)t=e>>(a>>16);else t=0}i[r>>1]=l;r=t>>>25&63;r=r>>>0>15?r+-16|0:r;l=i[30216+(r<<1)>>1]|0;e=l<<16;t=ee(l-(s[30216+(r+1<<1)>>1]|0)<<16>>16,t>>>10&32767)|0;if((t|0)==1073741824){o[n>>2]=1;a=2147483647}else a=t<<1;t=e-a|0;if(((t^e)&(a^e)|0)>=0){n=t;return n|0}o[n>>2]=1;n=(l>>>15&1)+2147483647|0;return n|0}function Bi(e,r,n){e=e|0;r=r|0;n=n|0;e=(e<<16>>16)-(r<<16>>16)|0;if((e+32768|0)>>>0<=65535){n=e;n=n&65535;return n|0}o[n>>2]=1;n=(e|0)>32767?32767:-32768;n=n&65535;return n|0}function Li(e,r,n,t,o,a){e=e|0;r=r|0;n=n|0;t=t|0;o=o|0;a=a|0;var s=0,l=0,f=0,u=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0;R=c;c=c+48|0;w=R;f=w;s=o;l=f+20|0;do{i[f>>1]=i[s>>1]|0;f=f+2|0;s=s+2|0}while((f|0)<(l|0));h=w+18|0;S=e+2|0;b=e+4|0;m=r+20|0;v=e+6|0;_=e+8|0;k=e+10|0;F=e+12|0;M=e+14|0;g=e+16|0;E=e+18|0;p=e+20|0;l=i[h>>1]|0;s=5;u=r;d=n;f=w+20|0;while(1){O=i[e>>1]|0;A=(ee(O,i[u>>1]|0)|0)+2048|0;O=(ee(i[u+2>>1]|0,O)|0)+2048|0;w=l<<16>>16;A=A-(ee(w,i[S>>1]|0)|0)|0;y=i[b>>1]|0;w=O-(ee(w,y)|0)|0;O=i[h+-2>>1]|0;y=A-(ee(O,y)|0)|0;A=i[v>>1]|0;O=w-(ee(A,O)|0)|0;w=i[h+-4>>1]|0;A=y-(ee(w,A)|0)|0;y=i[_>>1]|0;w=O-(ee(y,w)|0)|0;O=i[h+-6>>1]|0;y=A-(ee(O,y)|0)|0;A=i[k>>1]|0;O=w-(ee(O,A)|0)|0;w=i[h+-8>>1]|0;A=y-(ee(w,A)|0)|0;y=i[F>>1]|0;w=O-(ee(y,w)|0)|0;O=i[h+-10>>1]|0;y=A-(ee(O,y)|0)|0;A=i[M>>1]|0;O=w-(ee(A,O)|0)|0;w=i[h+-12>>1]|0;A=y-(ee(w,A)|0)|0;y=i[g>>1]|0;w=O-(ee(w,y)|0)|0;O=i[h+-14>>1]|0;y=A-(ee(O,y)|0)|0;A=i[E>>1]|0;O=w-(ee(A,O)|0)|0;w=i[h+-16>>1]|0;A=y-(ee(w,A)|0)|0;y=i[p>>1]|0;w=O-(ee(y,w)|0)|0;y=A-(ee(i[h+-18>>1]|0,y)|0)|0;y=(y+134217728|0)>>>0<268435455?y>>>12&65535:(y|0)>134217727?32767:-32768;w=w-(ee(i[S>>1]|0,y<<16>>16)|0)|0;h=f+2|0;i[f>>1]=y;i[d>>1]=y;l=(w+134217728|0)>>>0<268435455?w>>>12&65535:(w|0)>134217727?32767:-32768;i[h>>1]=l;i[d+2>>1]=l;s=s+-1<<16>>16;if(!(s<<16>>16))break;else{u=u+4|0;d=d+4|0;f=f+4|0}}t=(t<<16>>16)+-10|0;f=t>>>1&65535;if(f<<16>>16){w=n+18|0;l=r+16|0;h=i[w>>1]|0;u=m;s=n+20|0;while(1){y=i[e>>1]|0;d=(ee(y,i[u>>1]|0)|0)+2048|0;y=(ee(i[l+6>>1]|0,y)|0)+2048|0;l=i[S>>1]|0;A=h<<16>>16;d=d-(ee(A,l)|0)|0;O=i[b>>1]|0;A=y-(ee(A,O)|0)|0;y=i[w+-2>>1]|0;O=d-(ee(y,O)|0)|0;d=i[v>>1]|0;y=A-(ee(d,y)|0)|0;A=i[w+-4>>1]|0;d=O-(ee(A,d)|0)|0;O=i[_>>1]|0;A=y-(ee(O,A)|0)|0;y=i[w+-6>>1]|0;O=d-(ee(y,O)|0)|0;d=i[k>>1]|0;y=A-(ee(y,d)|0)|0;A=i[w+-8>>1]|0;d=O-(ee(A,d)|0)|0;O=i[F>>1]|0;A=y-(ee(O,A)|0)|0;y=i[w+-10>>1]|0;O=d-(ee(y,O)|0)|0;d=i[M>>1]|0;y=A-(ee(d,y)|0)|0;A=i[w+-12>>1]|0;d=O-(ee(A,d)|0)|0;O=i[g>>1]|0;A=y-(ee(A,O)|0)|0;y=i[w+-14>>1]|0;O=d-(ee(y,O)|0)|0;d=i[E>>1]|0;y=A-(ee(d,y)|0)|0;A=i[w+-16>>1]|0;d=O-(ee(A,d)|0)|0;O=i[p>>1]|0;A=y-(ee(O,A)|0)|0;O=d-(ee(i[w+-18>>1]|0,O)|0)|0;d=u+4|0;O=(O+134217728|0)>>>0<268435455?O>>>12&65535:(O|0)>134217727?32767:-32768;l=A-(ee(l,O<<16>>16)|0)|0;w=s+2|0;i[s>>1]=O;do if((l+134217728|0)>>>0>=268435455){s=s+4|0;if((l|0)>134217727){i[w>>1]=32767;l=32767;break}else{i[w>>1]=-32768;l=-32768;break}}else{l=l>>>12&65535;i[w>>1]=l;s=s+4|0}while(0);f=f+-1<<16>>16;if(!(f<<16>>16))break;else{O=u;h=l;u=d;l=O}}}if(!(a<<16>>16)){c=R;return}f=o;s=n+(t<<1)|0;l=f+20|0;do{i[f>>1]=i[s>>1]|0;f=f+2|0;s=s+2|0}while((f|0)<(l|0));c=R;return}function Ui(e,r,n){e=e|0;r=r|0;n=n|0;i[n>>1]=i[e>>1]|0;i[n+2>>1]=((ee(i[r>>1]|0,i[e+2>>1]|0)|0)+16384|0)>>>15;i[n+4>>1]=((ee(i[r+2>>1]|0,i[e+4>>1]|0)|0)+16384|0)>>>15;i[n+6>>1]=((ee(i[r+4>>1]|0,i[e+6>>1]|0)|0)+16384|0)>>>15;i[n+8>>1]=((ee(i[r+6>>1]|0,i[e+8>>1]|0)|0)+16384|0)>>>15;i[n+10>>1]=((ee(i[r+8>>1]|0,i[e+10>>1]|0)|0)+16384|0)>>>15;i[n+12>>1]=((ee(i[r+10>>1]|0,i[e+12>>1]|0)|0)+16384|0)>>>15;i[n+14>>1]=((ee(i[r+12>>1]|0,i[e+14>>1]|0)|0)+16384|0)>>>15;i[n+16>>1]=((ee(i[r+14>>1]|0,i[e+16>>1]|0)|0)+16384|0)>>>15;i[n+18>>1]=((ee(i[r+16>>1]|0,i[e+18>>1]|0)|0)+16384|0)>>>15;i[n+20>>1]=((ee(i[r+18>>1]|0,i[e+20>>1]|0)|0)+16384|0)>>>15;return}function xi(e){e=e|0;var r=0,n=0,t=0,i=0,a=0,s=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0,A=0,O=0,T=0,D=0,N=0,P=0,C=0,I=0,B=0,L=0,U=0,x=0,H=0,z=0,Y=0,j=0,K=0,q=0,V=0,W=0;do if(e>>>0<245){S=e>>>0<11?16:e+11&-8;e=S>>>3;d=o[26]|0;f=d>>>e;if(f&3){t=(f&1^1)+e|0;r=t<<1;n=144+(r<<2)|0;r=144+(r+2<<2)|0;i=o[r>>2]|0;a=i+8|0;s=o[a>>2]|0;do if((n|0)==(s|0))o[26]=d&~(1<<t);else{if(s>>>0>=(o[30]|0)>>>0?(c=s+12|0,(o[c>>2]|0)==(i|0)):0){o[c>>2]=n;o[r>>2]=s;break}se()}while(0);V=t<<3;o[i+4>>2]=V|3;V=i+(V|4)|0;o[V>>2]=o[V>>2]|1;break}r=o[28]|0;if(S>>>0>r>>>0){if(f){i=2<<e;i=f<<e&(i|0-i);i=(i&0-i)+-1|0;a=i>>>12&16;i=i>>>a;t=i>>>5&8;i=i>>>t;n=i>>>2&4;i=i>>>n;s=i>>>1&2;i=i>>>s;l=i>>>1&1;l=(t|a|n|s|l)+(i>>>l)|0;i=l<<1;s=144+(i<<2)|0;i=144+(i+2<<2)|0;n=o[i>>2]|0;a=n+8|0;t=o[a>>2]|0;do if((s|0)==(t|0)){o[26]=d&~(1<<l);h=r}else{if(t>>>0>=(o[30]|0)>>>0?(u=t+12|0,(o[u>>2]|0)==(n|0)):0){o[u>>2]=s;o[i>>2]=t;h=o[28]|0;break}se()}while(0);V=l<<3;r=V-S|0;o[n+4>>2]=S|3;f=n+S|0;o[n+(S|4)>>2]=r|1;o[n+V>>2]=r;if(h){n=o[31]|0;t=h>>>3;s=t<<1;l=144+(s<<2)|0;i=o[26]|0;t=1<<t;if(i&t){i=144+(s+2<<2)|0;s=o[i>>2]|0;if(s>>>0<(o[30]|0)>>>0)se();else{m=i;E=s}}else{o[26]=i|t;m=144+(s+2<<2)|0;E=l}o[m>>2]=n;o[E+12>>2]=n;o[n+8>>2]=E;o[n+12>>2]=l}o[28]=r;o[31]=f;break}e=o[27]|0;if(e){i=(e&0-e)+-1|0;q=i>>>12&16;i=i>>>q;K=i>>>5&8;i=i>>>K;V=i>>>2&4;i=i>>>V;s=i>>>1&2;i=i>>>s;f=i>>>1&1;f=o[408+((K|q|V|s|f)+(i>>>f)<<2)>>2]|0;i=(o[f+4>>2]&-8)-S|0;s=f;while(1){l=o[s+16>>2]|0;if(!l){l=o[s+20>>2]|0;if(!l){r=i;break}}s=(o[l+4>>2]&-8)-S|0;V=s>>>0<i>>>0;i=V?s:i;s=l;f=V?l:f}e=o[30]|0;if(f>>>0>=e>>>0?(_=f+S|0,f>>>0<_>>>0):0){t=o[f+24>>2]|0;l=o[f+12>>2]|0;do if((l|0)==(f|0)){s=f+20|0;l=o[s>>2]|0;if(!l){s=f+16|0;l=o[s>>2]|0;if(!l){b=0;break}}while(1){a=l+20|0;i=o[a>>2]|0;if(i){l=i;s=a;continue}a=l+16|0;i=o[a>>2]|0;if(!i)break;else{l=i;s=a}}if(s>>>0<e>>>0)se();else{o[s>>2]=0;b=l;break}}else{s=o[f+8>>2]|0;if((s>>>0>=e>>>0?(n=s+12|0,(o[n>>2]|0)==(f|0)):0)?(w=l+8|0,(o[w>>2]|0)==(f|0)):0){o[n>>2]=l;o[w>>2]=s;b=l;break}se()}while(0);do if(t){s=o[f+28>>2]|0;a=408+(s<<2)|0;if((f|0)==(o[a>>2]|0)){o[a>>2]=b;if(!b){o[27]=o[27]&~(1<<s);break}}else{if(t>>>0<(o[30]|0)>>>0)se();s=t+16|0;if((o[s>>2]|0)==(f|0))o[s>>2]=b;else o[t+20>>2]=b;if(!b)break}a=o[30]|0;if(b>>>0<a>>>0)se();o[b+24>>2]=t;s=o[f+16>>2]|0;do if(s)if(s>>>0<a>>>0)se();else{o[b+16>>2]=s;o[s+24>>2]=b;break}while(0);s=o[f+20>>2]|0;if(s)if(s>>>0<(o[30]|0)>>>0)se();else{o[b+20>>2]=s;o[s+24>>2]=b;break}}while(0);if(r>>>0<16){V=r+S|0;o[f+4>>2]=V|3;V=f+(V+4)|0;o[V>>2]=o[V>>2]|1}else{o[f+4>>2]=S|3;o[f+(S|4)>>2]=r|1;o[f+(r+S)>>2]=r;t=o[28]|0;if(t){n=o[31]|0;i=t>>>3;s=i<<1;l=144+(s<<2)|0;a=o[26]|0;i=1<<i;if(a&i){s=144+(s+2<<2)|0;a=o[s>>2]|0;if(a>>>0<(o[30]|0)>>>0)se();else{v=s;k=a}}else{o[26]=a|i;v=144+(s+2<<2)|0;k=l}o[v>>2]=n;o[k+12>>2]=n;o[n+8>>2]=k;o[n+12>>2]=l}o[28]=r;o[31]=_}a=f+8|0;break}se()}else W=154}else W=154}else if(e>>>0<=4294967231){e=e+11|0;k=e&-8;d=o[27]|0;if(d){f=0-k|0;e=e>>>8;if(e)if(k>>>0>16777215)c=31;else{_=(e+1048320|0)>>>16&8;W=e<<_;v=(W+520192|0)>>>16&4;W=W<<v;c=(W+245760|0)>>>16&2;c=14-(v|_|c)+(W<<c>>>15)|0;c=k>>>(c+7|0)&1|c<<1}else c=0;e=o[408+(c<<2)>>2]|0;e:do if(!e){l=0;e=0;W=86}else{n=f;l=0;r=k<<((c|0)==31?0:25-(c>>>1)|0);u=e;e=0;while(1){t=o[u+4>>2]&-8;f=t-k|0;if(f>>>0<n>>>0)if((t|0)==(k|0)){t=u;e=u;W=90;break e}else e=u;else f=n;W=o[u+20>>2]|0;u=o[u+16+(r>>>31<<2)>>2]|0;l=(W|0)==0|(W|0)==(u|0)?l:W;if(!u){W=86;break}else{n=f;r=r<<1}}}while(0);if((W|0)==86){if((l|0)==0&(e|0)==0){e=2<<c;e=d&(e|0-e);if(!e){S=k;W=154;break}e=(e&0-e)+-1|0;b=e>>>12&16;e=e>>>b;E=e>>>5&8;e=e>>>E;v=e>>>2&4;e=e>>>v;_=e>>>1&2;e=e>>>_;l=e>>>1&1;l=o[408+((E|b|v|_|l)+(e>>>l)<<2)>>2]|0;e=0}if(!l){E=f;m=e}else{t=l;W=90}}if((W|0)==90)while(1){W=0;_=(o[t+4>>2]&-8)-k|0;l=_>>>0<f>>>0;f=l?_:f;e=l?t:e;l=o[t+16>>2]|0;if(l){t=l;W=90;continue}t=o[t+20>>2]|0;if(!t){E=f;m=e;break}else W=90}if((m|0)!=0?E>>>0<((o[28]|0)-k|0)>>>0:0){e=o[30]|0;if(m>>>0>=e>>>0?(P=m+k|0,m>>>0<P>>>0):0){f=o[m+24>>2]|0;l=o[m+12>>2]|0;do if((l|0)==(m|0)){s=m+20|0;l=o[s>>2]|0;if(!l){s=m+16|0;l=o[s>>2]|0;if(!l){M=0;break}}while(1){a=l+20|0;i=o[a>>2]|0;if(i){l=i;s=a;continue}a=l+16|0;i=o[a>>2]|0;if(!i)break;else{l=i;s=a}}if(s>>>0<e>>>0)se();else{o[s>>2]=0;M=l;break}}else{s=o[m+8>>2]|0;if((s>>>0>=e>>>0?(p=s+12|0,(o[p>>2]|0)==(m|0)):0)?(S=l+8|0,(o[S>>2]|0)==(m|0)):0){o[p>>2]=l;o[S>>2]=s;M=l;break}se()}while(0);do if(f){l=o[m+28>>2]|0;s=408+(l<<2)|0;if((m|0)==(o[s>>2]|0)){o[s>>2]=M;if(!M){o[27]=o[27]&~(1<<l);break}}else{if(f>>>0<(o[30]|0)>>>0)se();s=f+16|0;if((o[s>>2]|0)==(m|0))o[s>>2]=M;else o[f+20>>2]=M;if(!M)break}l=o[30]|0;if(M>>>0<l>>>0)se();o[M+24>>2]=f;s=o[m+16>>2]|0;do if(s)if(s>>>0<l>>>0)se();else{o[M+16>>2]=s;o[s+24>>2]=M;break}while(0);s=o[m+20>>2]|0;if(s)if(s>>>0<(o[30]|0)>>>0)se();else{o[M+20>>2]=s;o[s+24>>2]=M;break}}while(0);e:do if(E>>>0>=16){o[m+4>>2]=k|3;o[m+(k|4)>>2]=E|1;o[m+(E+k)>>2]=E;l=E>>>3;if(E>>>0<256){a=l<<1;t=144+(a<<2)|0;i=o[26]|0;s=1<<l;if(i&s){s=144+(a+2<<2)|0;a=o[s>>2]|0;if(a>>>0<(o[30]|0)>>>0)se();else{g=s;R=a}}else{o[26]=i|s;g=144+(a+2<<2)|0;R=t}o[g>>2]=P;o[R+12>>2]=P;o[m+(k+8)>>2]=R;o[m+(k+12)>>2]=t;break}n=E>>>8;if(n)if(E>>>0>16777215)l=31;else{q=(n+1048320|0)>>>16&8;V=n<<q;K=(V+520192|0)>>>16&4;V=V<<K;l=(V+245760|0)>>>16&2;l=14-(K|q|l)+(V<<l>>>15)|0;l=E>>>(l+7|0)&1|l<<1}else l=0;s=408+(l<<2)|0;o[m+(k+28)>>2]=l;o[m+(k+20)>>2]=0;o[m+(k+16)>>2]=0;a=o[27]|0;i=1<<l;if(!(a&i)){o[27]=a|i;o[s>>2]=P;o[m+(k+24)>>2]=s;o[m+(k+12)>>2]=P;o[m+(k+8)>>2]=P;break}n=o[s>>2]|0;r:do if((o[n+4>>2]&-8|0)!=(E|0)){l=E<<((l|0)==31?0:25-(l>>>1)|0);while(1){r=n+16+(l>>>31<<2)|0;s=o[r>>2]|0;if(!s)break;if((o[s+4>>2]&-8|0)==(E|0)){A=s;break r}else{l=l<<1;n=s}}if(r>>>0<(o[30]|0)>>>0)se();else{o[r>>2]=P;o[m+(k+24)>>2]=n;o[m+(k+12)>>2]=P;o[m+(k+8)>>2]=P;break e}}else A=n;while(0);n=A+8|0;r=o[n>>2]|0;V=o[30]|0;if(r>>>0>=V>>>0&A>>>0>=V>>>0){o[r+12>>2]=P;o[n>>2]=P;o[m+(k+8)>>2]=r;o[m+(k+12)>>2]=A;o[m+(k+24)>>2]=0;break}else se()}else{V=E+k|0;o[m+4>>2]=V|3;V=m+(V+4)|0;o[V>>2]=o[V>>2]|1}while(0);a=m+8|0;break}se()}else{S=k;W=154}}else{S=k;W=154}}else{S=-1;W=154}while(0);e:do if((W|0)==154){e=o[28]|0;if(e>>>0>=S>>>0){r=e-S|0;n=o[31]|0;if(r>>>0>15){o[31]=n+S;o[28]=r;o[n+(S+4)>>2]=r|1;o[n+e>>2]=r;o[n+4>>2]=S|3}else{o[28]=0;o[31]=0;o[n+4>>2]=e|3;W=n+(e+4)|0;o[W>>2]=o[W>>2]|1}a=n+8|0;break}e=o[29]|0;if(e>>>0>S>>>0){W=e-S|0;o[29]=W;a=o[32]|0;o[32]=a+S;o[a+(S+4)>>2]=W|1;o[a+4>>2]=S|3;a=a+8|0;break}if(!(o[144]|0))Yi();d=S+48|0;n=o[146]|0;c=S+47|0;t=n+c|0;n=0-n|0;u=t&n;if(u>>>0>S>>>0){e=o[136]|0;if((e|0)!=0?(A=o[134]|0,P=A+u|0,P>>>0<=A>>>0|P>>>0>e>>>0):0){a=0;break}r:do if(!(o[137]&4)){e=o[32]|0;n:do if(e){l=552;while(1){f=o[l>>2]|0;if(f>>>0<=e>>>0?(F=l+4|0,(f+(o[F>>2]|0)|0)>>>0>e>>>0):0){a=l;e=F;break}l=o[l+8>>2]|0;if(!l){W=172;break n}}f=t-(o[29]|0)&n;if(f>>>0<2147483647){l=fe(f|0)|0;P=(l|0)==((o[a>>2]|0)+(o[e>>2]|0)|0);e=P?f:0;if(P){if((l|0)!=(-1|0)){R=l;b=e;W=192;break r}}else W=182}else e=0}else W=172;while(0);do if((W|0)==172){a=fe(0)|0;if((a|0)!=(-1|0)){e=a;f=o[145]|0;l=f+-1|0;if(!(l&e))f=u;else f=u-e+(l+e&0-f)|0;e=o[134]|0;l=e+f|0;if(f>>>0>S>>>0&f>>>0<2147483647){P=o[136]|0;if((P|0)!=0?l>>>0<=e>>>0|l>>>0>P>>>0:0){e=0;break}l=fe(f|0)|0;W=(l|0)==(a|0);e=W?f:0;if(W){R=a;b=e;W=192;break r}else W=182}else e=0}else e=0}while(0);n:do if((W|0)==182){a=0-f|0;do if(d>>>0>f>>>0&(f>>>0<2147483647&(l|0)!=(-1|0))?(y=o[146]|0,y=c-f+y&0-y,y>>>0<2147483647):0)if((fe(y|0)|0)==(-1|0)){fe(a|0)|0;break n}else{f=y+f|0;break}while(0);if((l|0)!=(-1|0)){R=l;b=f;W=192;break r}}while(0);o[137]=o[137]|4;W=189}else{e=0;W=189}while(0);if((((W|0)==189?u>>>0<2147483647:0)?(O=fe(u|0)|0,T=fe(0)|0,O>>>0<T>>>0&((O|0)!=(-1|0)&(T|0)!=(-1|0))):0)?(D=T-O|0,N=D>>>0>(S+40|0)>>>0,N):0){R=O;b=N?D:e;W=192}if((W|0)==192){f=(o[134]|0)+b|0;o[134]=f;if(f>>>0>(o[135]|0)>>>0)o[135]=f;E=o[32]|0;r:do if(E){a=552;do{e=o[a>>2]|0;f=a+4|0;l=o[f>>2]|0;if((R|0)==(e+l|0)){C=e;I=f;B=l;L=a;W=202;break}a=o[a+8>>2]|0}while((a|0)!=0);if(((W|0)==202?(o[L+12>>2]&8|0)==0:0)?E>>>0<R>>>0&E>>>0>=C>>>0:0){o[I>>2]=B+b;W=(o[29]|0)+b|0;V=E+8|0;V=(V&7|0)==0?0:0-V&7;q=W-V|0;o[32]=E+V;o[29]=q;o[E+(V+4)>>2]=q|1;o[E+(W+4)>>2]=40;o[33]=o[148];break}f=o[30]|0;if(R>>>0<f>>>0){o[30]=R;f=R}l=R+b|0;e=552;while(1){if((o[e>>2]|0)==(l|0)){a=e;l=e;W=210;break}e=o[e+8>>2]|0;if(!e){l=552;break}}if((W|0)==210)if(!(o[l+12>>2]&8)){o[a>>2]=R;w=l+4|0;o[w>>2]=(o[w>>2]|0)+b;w=R+8|0;w=(w&7|0)==0?0:0-w&7;c=R+(b+8)|0;c=(c&7|0)==0?0:0-c&7;l=R+(c+b)|0;m=w+S|0;h=R+m|0;e=l-(R+w)-S|0;o[R+(w+4)>>2]=S|3;n:do if((l|0)!=(E|0)){if((l|0)==(o[31]|0)){W=(o[28]|0)+e|0;o[28]=W;o[31]=h;o[R+(m+4)>>2]=W|1;o[R+(W+m)>>2]=W;break}r=b+4|0;s=o[R+(r+c)>>2]|0;if((s&3|0)==1){u=s&-8;t=s>>>3;t:do if(s>>>0>=256){n=o[R+((c|24)+b)>>2]|0;a=o[R+(b+12+c)>>2]|0;i:do if((a|0)==(l|0)){i=c|16;a=R+(r+i)|0;s=o[a>>2]|0;if(!s){a=R+(i+b)|0;s=o[a>>2]|0;if(!s){j=0;break}}while(1){i=s+20|0;t=o[i>>2]|0;if(t){s=t;a=i;continue}i=s+16|0;t=o[i>>2]|0;if(!t)break;else{s=t;a=i}}if(a>>>0<f>>>0)se();else{o[a>>2]=0;j=s;break}}else{i=o[R+((c|8)+b)>>2]|0;do if(i>>>0>=f>>>0){f=i+12|0;if((o[f>>2]|0)!=(l|0))break;s=a+8|0;if((o[s>>2]|0)!=(l|0))break;o[f>>2]=a;o[s>>2]=i;j=a;break i}while(0);se()}while(0);if(!n)break;f=o[R+(b+28+c)>>2]|0;s=408+(f<<2)|0;do if((l|0)!=(o[s>>2]|0)){if(n>>>0<(o[30]|0)>>>0)se();s=n+16|0;if((o[s>>2]|0)==(l|0))o[s>>2]=j;else o[n+20>>2]=j;if(!j)break t}else{o[s>>2]=j;if(j)break;o[27]=o[27]&~(1<<f);break t}while(0);f=o[30]|0;if(j>>>0<f>>>0)se();o[j+24>>2]=n;l=c|16;s=o[R+(l+b)>>2]|0;do if(s)if(s>>>0<f>>>0)se();else{o[j+16>>2]=s;o[s+24>>2]=j;break}while(0);l=o[R+(r+l)>>2]|0;if(!l)break;if(l>>>0<(o[30]|0)>>>0)se();else{o[j+20>>2]=l;o[l+24>>2]=j;break}}else{s=o[R+((c|8)+b)>>2]|0;a=o[R+(b+12+c)>>2]|0;i=144+(t<<1<<2)|0;do if((s|0)!=(i|0)){if(s>>>0>=f>>>0?(o[s+12>>2]|0)==(l|0):0)break;se()}while(0);if((a|0)==(s|0)){o[26]=o[26]&~(1<<t);break}do if((a|0)==(i|0))U=a+8|0;else{if(a>>>0>=f>>>0?(x=a+8|0,(o[x>>2]|0)==(l|0)):0){U=x;break}se()}while(0);o[s+12>>2]=a;o[U>>2]=s}while(0);l=R+((u|c)+b)|0;e=u+e|0}l=l+4|0;o[l>>2]=o[l>>2]&-2;o[R+(m+4)>>2]=e|1;o[R+(e+m)>>2]=e;l=e>>>3;if(e>>>0<256){a=l<<1;t=144+(a<<2)|0;i=o[26]|0;s=1<<l;do if(!(i&s)){o[26]=i|s;K=144+(a+2<<2)|0;q=t}else{s=144+(a+2<<2)|0;a=o[s>>2]|0;if(a>>>0>=(o[30]|0)>>>0){K=s;q=a;break}se()}while(0);o[K>>2]=h;o[q+12>>2]=h;o[R+(m+8)>>2]=q;o[R+(m+12)>>2]=t;break}n=e>>>8;do if(!n)l=0;else{if(e>>>0>16777215){l=31;break}q=(n+1048320|0)>>>16&8;W=n<<q;K=(W+520192|0)>>>16&4;W=W<<K;l=(W+245760|0)>>>16&2;l=14-(K|q|l)+(W<<l>>>15)|0;l=e>>>(l+7|0)&1|l<<1}while(0);s=408+(l<<2)|0;o[R+(m+28)>>2]=l;o[R+(m+20)>>2]=0;o[R+(m+16)>>2]=0;a=o[27]|0;i=1<<l;if(!(a&i)){o[27]=a|i;o[s>>2]=h;o[R+(m+24)>>2]=s;o[R+(m+12)>>2]=h;o[R+(m+8)>>2]=h;break}n=o[s>>2]|0;t:do if((o[n+4>>2]&-8|0)!=(e|0)){l=e<<((l|0)==31?0:25-(l>>>1)|0);while(1){r=n+16+(l>>>31<<2)|0;s=o[r>>2]|0;if(!s)break;if((o[s+4>>2]&-8|0)==(e|0)){V=s;break t}else{l=l<<1;n=s}}if(r>>>0<(o[30]|0)>>>0)se();else{o[r>>2]=h;o[R+(m+24)>>2]=n;o[R+(m+12)>>2]=h;o[R+(m+8)>>2]=h;break n}}else V=n;while(0);n=V+8|0;r=o[n>>2]|0;W=o[30]|0;if(r>>>0>=W>>>0&V>>>0>=W>>>0){o[r+12>>2]=h;o[n>>2]=h;o[R+(m+8)>>2]=r;o[R+(m+12)>>2]=V;o[R+(m+24)>>2]=0;break}else se()}else{W=(o[29]|0)+e|0;o[29]=W;o[32]=h;o[R+(m+4)>>2]=W|1}while(0);a=R+(w|8)|0;break e}else l=552;while(1){a=o[l>>2]|0;if(a>>>0<=E>>>0?(s=o[l+4>>2]|0,i=a+s|0,i>>>0>E>>>0):0)break;l=o[l+8>>2]|0}l=a+(s+-39)|0;l=a+(s+-47+((l&7|0)==0?0:0-l&7))|0;f=E+16|0;l=l>>>0<f>>>0?E:l;s=l+8|0;a=R+8|0;a=(a&7|0)==0?0:0-a&7;W=b+-40-a|0;o[32]=R+a;o[29]=W;o[R+(a+4)>>2]=W|1;o[R+(b+-36)>>2]=40;o[33]=o[148];a=l+4|0;o[a>>2]=27;o[s>>2]=o[138];o[s+4>>2]=o[139];o[s+8>>2]=o[140];o[s+12>>2]=o[141];o[138]=R;o[139]=b;o[141]=0;o[140]=s;s=l+28|0;o[s>>2]=7;if((l+32|0)>>>0<i>>>0)do{W=s;s=s+4|0;o[s>>2]=7}while((W+8|0)>>>0<i>>>0);if((l|0)!=(E|0)){e=l-E|0;o[a>>2]=o[a>>2]&-2;o[E+4>>2]=e|1;o[l>>2]=e;i=e>>>3;if(e>>>0<256){s=i<<1;l=144+(s<<2)|0;a=o[26]|0;t=1<<i;if(a&t){n=144+(s+2<<2)|0;r=o[n>>2]|0;if(r>>>0<(o[30]|0)>>>0)se();else{H=n;z=r}}else{o[26]=a|t;H=144+(s+2<<2)|0;z=l}o[H>>2]=E;o[z+12>>2]=E;o[E+8>>2]=z;o[E+12>>2]=l;break}n=e>>>8;if(n)if(e>>>0>16777215)s=31;else{V=(n+1048320|0)>>>16&8;W=n<<V;q=(W+520192|0)>>>16&4;W=W<<q;s=(W+245760|0)>>>16&2;s=14-(q|V|s)+(W<<s>>>15)|0;s=e>>>(s+7|0)&1|s<<1}else s=0;t=408+(s<<2)|0;o[E+28>>2]=s;o[E+20>>2]=0;o[f>>2]=0;n=o[27]|0;r=1<<s;if(!(n&r)){o[27]=n|r;o[t>>2]=E;o[E+24>>2]=t;o[E+12>>2]=E;o[E+8>>2]=E;break}n=o[t>>2]|0;n:do if((o[n+4>>2]&-8|0)!=(e|0)){s=e<<((s|0)==31?0:25-(s>>>1)|0);while(1){r=n+16+(s>>>31<<2)|0;t=o[r>>2]|0;if(!t)break;if((o[t+4>>2]&-8|0)==(e|0)){Y=t;break n}else{s=s<<1;n=t}}if(r>>>0<(o[30]|0)>>>0)se();else{o[r>>2]=E;o[E+24>>2]=n;o[E+12>>2]=E;o[E+8>>2]=E;break r}}else Y=n;while(0);n=Y+8|0;r=o[n>>2]|0;W=o[30]|0;if(r>>>0>=W>>>0&Y>>>0>=W>>>0){o[r+12>>2]=E;o[n>>2]=E;o[E+8>>2]=r;o[E+12>>2]=Y;o[E+24>>2]=0;break}else se()}}else{W=o[30]|0;if((W|0)==0|R>>>0<W>>>0)o[30]=R;o[138]=R;o[139]=b;o[141]=0;o[35]=o[144];o[34]=-1;n=0;do{W=n<<1;V=144+(W<<2)|0;o[144+(W+3<<2)>>2]=V;o[144+(W+2<<2)>>2]=V;n=n+1|0}while((n|0)!=32);W=R+8|0;W=(W&7|0)==0?0:0-W&7;V=b+-40-W|0;o[32]=R+W;o[29]=V;o[R+(W+4)>>2]=V|1;o[R+(b+-36)>>2]=40;o[33]=o[148]}while(0);r=o[29]|0;if(r>>>0>S>>>0){W=r-S|0;o[29]=W;a=o[32]|0;o[32]=a+S;o[a+(S+4)>>2]=W|1;o[a+4>>2]=S|3;a=a+8|0;break}}o[(zi()|0)>>2]=12;a=0}else a=0}while(0);return a|0}function Hi(e){e=e|0;var r=0,n=0,t=0,i=0,a=0,s=0,l=0,f=0,u=0,c=0,d=0,h=0,w=0,m=0,E=0,p=0,S=0,b=0,v=0,_=0,k=0,F=0,M=0,g=0,R=0,y=0;e:do if(e){i=e+-8|0;u=o[30]|0;r:do if(i>>>0>=u>>>0?(t=o[e+-4>>2]|0,n=t&3,(n|0)!=1):0){_=t&-8;k=e+(_+-8)|0;do if(!(t&1)){i=o[i>>2]|0;if(!n)break e;c=-8-i|0;h=e+c|0;w=i+_|0;if(h>>>0<u>>>0)break r;if((h|0)==(o[31]|0)){a=e+(_+-4)|0;i=o[a>>2]|0;if((i&3|0)!=3){y=h;a=w;break}o[28]=w;o[a>>2]=i&-2;o[e+(c+4)>>2]=w|1;o[k>>2]=w;break e}n=i>>>3;if(i>>>0<256){t=o[e+(c+8)>>2]|0;a=o[e+(c+12)>>2]|0;i=144+(n<<1<<2)|0;do if((t|0)!=(i|0)){if(t>>>0>=u>>>0?(o[t+12>>2]|0)==(h|0):0)break;se()}while(0);if((a|0)==(t|0)){o[26]=o[26]&~(1<<n);y=h;a=w;break}do if((a|0)==(i|0))r=a+8|0;else{if(a>>>0>=u>>>0?(s=a+8|0,(o[s>>2]|0)==(h|0)):0){r=s;break}se()}while(0);o[t+12>>2]=a;o[r>>2]=t;y=h;a=w;break}s=o[e+(c+24)>>2]|0;i=o[e+(c+12)>>2]|0;do if((i|0)==(h|0)){t=e+(c+20)|0;i=o[t>>2]|0;if(!i){t=e+(c+16)|0;i=o[t>>2]|0;if(!i){d=0;break}}while(1){n=i+20|0;r=o[n>>2]|0;if(r){i=r;t=n;continue}n=i+16|0;r=o[n>>2]|0;if(!r)break;else{i=r;t=n}}if(t>>>0<u>>>0)se();else{o[t>>2]=0;d=i;break}}else{t=o[e+(c+8)>>2]|0;if((t>>>0>=u>>>0?(l=t+12|0,(o[l>>2]|0)==(h|0)):0)?(f=i+8|0,(o[f>>2]|0)==(h|0)):0){o[l>>2]=i;o[f>>2]=t;d=i;break}se()}while(0);if(s){i=o[e+(c+28)>>2]|0;t=408+(i<<2)|0;if((h|0)==(o[t>>2]|0)){o[t>>2]=d;if(!d){o[27]=o[27]&~(1<<i);y=h;a=w;break}}else{if(s>>>0<(o[30]|0)>>>0)se();i=s+16|0;if((o[i>>2]|0)==(h|0))o[i>>2]=d;else o[s+20>>2]=d;if(!d){y=h;a=w;break}}t=o[30]|0;if(d>>>0<t>>>0)se();o[d+24>>2]=s;i=o[e+(c+16)>>2]|0;do if(i)if(i>>>0<t>>>0)se();else{o[d+16>>2]=i;o[i+24>>2]=d;break}while(0);i=o[e+(c+20)>>2]|0;if(i)if(i>>>0<(o[30]|0)>>>0)se();else{o[d+20>>2]=i;o[i+24>>2]=d;y=h;a=w;break}else{y=h;a=w}}else{y=h;a=w}}else{y=i;a=_}while(0);if(y>>>0<k>>>0?(m=e+(_+-4)|0,E=o[m>>2]|0,(E&1|0)!=0):0){if(!(E&2)){if((k|0)==(o[32]|0)){R=(o[29]|0)+a|0;o[29]=R;o[32]=y;o[y+4>>2]=R|1;if((y|0)!=(o[31]|0))break e;o[31]=0;o[28]=0;break e}if((k|0)==(o[31]|0)){R=(o[28]|0)+a|0;o[28]=R;o[31]=y;o[y+4>>2]=R|1;o[y+R>>2]=R;break e}f=(E&-8)+a|0;n=E>>>3;do if(E>>>0>=256){r=o[e+(_+16)>>2]|0;a=o[e+(_|4)>>2]|0;do if((a|0)==(k|0)){i=e+(_+12)|0;a=o[i>>2]|0;if(!a){i=e+(_+8)|0;a=o[i>>2]|0;if(!a){F=0;break}}while(1){t=a+20|0;n=o[t>>2]|0;if(n){a=n;i=t;continue}t=a+16|0;n=o[t>>2]|0;if(!n)break;else{a=n;i=t}}if(i>>>0<(o[30]|0)>>>0)se();else{o[i>>2]=0;F=a;break}}else{i=o[e+_>>2]|0;if((i>>>0>=(o[30]|0)>>>0?(b=i+12|0,(o[b>>2]|0)==(k|0)):0)?(v=a+8|0,(o[v>>2]|0)==(k|0)):0){o[b>>2]=a;o[v>>2]=i;F=a;break}se()}while(0);if(r){a=o[e+(_+20)>>2]|0;i=408+(a<<2)|0;if((k|0)==(o[i>>2]|0)){o[i>>2]=F;if(!F){o[27]=o[27]&~(1<<a);break}}else{if(r>>>0<(o[30]|0)>>>0)se();a=r+16|0;if((o[a>>2]|0)==(k|0))o[a>>2]=F;else o[r+20>>2]=F;if(!F)break}a=o[30]|0;if(F>>>0<a>>>0)se();o[F+24>>2]=r;i=o[e+(_+8)>>2]|0;do if(i)if(i>>>0<a>>>0)se();else{o[F+16>>2]=i;o[i+24>>2]=F;break}while(0);n=o[e+(_+12)>>2]|0;if(n)if(n>>>0<(o[30]|0)>>>0)se();else{o[F+20>>2]=n;o[n+24>>2]=F;break}}}else{t=o[e+_>>2]|0;a=o[e+(_|4)>>2]|0;i=144+(n<<1<<2)|0;do if((t|0)!=(i|0)){if(t>>>0>=(o[30]|0)>>>0?(o[t+12>>2]|0)==(k|0):0)break;se()}while(0);if((a|0)==(t|0)){o[26]=o[26]&~(1<<n);break}do if((a|0)==(i|0))p=a+8|0;else{if(a>>>0>=(o[30]|0)>>>0?(S=a+8|0,(o[S>>2]|0)==(k|0)):0){p=S;break}se()}while(0);o[t+12>>2]=a;o[p>>2]=t}while(0);o[y+4>>2]=f|1;o[y+f>>2]=f;if((y|0)==(o[31]|0)){o[28]=f;break e}else a=f}else{o[m>>2]=E&-2;o[y+4>>2]=a|1;o[y+a>>2]=a}i=a>>>3;if(a>>>0<256){t=i<<1;a=144+(t<<2)|0;r=o[26]|0;n=1<<i;if(r&n){n=144+(t+2<<2)|0;r=o[n>>2]|0;if(r>>>0<(o[30]|0)>>>0)se();else{M=n;g=r}}else{o[26]=r|n;M=144+(t+2<<2)|0;g=a}o[M>>2]=y;o[g+12>>2]=y;o[y+8>>2]=g;o[y+12>>2]=a;break e}r=a>>>8;if(r)if(a>>>0>16777215)i=31;else{M=(r+1048320|0)>>>16&8;g=r<<M;e=(g+520192|0)>>>16&4;g=g<<e;i=(g+245760|0)>>>16&2;i=14-(e|M|i)+(g<<i>>>15)|0;i=a>>>(i+7|0)&1|i<<1}else i=0;n=408+(i<<2)|0;o[y+28>>2]=i;o[y+20>>2]=0;o[y+16>>2]=0;r=o[27]|0;t=1<<i;n:do if(r&t){n=o[n>>2]|0;t:do if((o[n+4>>2]&-8|0)!=(a|0)){i=a<<((i|0)==31?0:25-(i>>>1)|0);while(1){r=n+16+(i>>>31<<2)|0;t=o[r>>2]|0;if(!t)break;if((o[t+4>>2]&-8|0)==(a|0)){R=t;break t}else{i=i<<1;n=t}}if(r>>>0<(o[30]|0)>>>0)se();else{o[r>>2]=y;o[y+24>>2]=n;o[y+12>>2]=y;o[y+8>>2]=y;break n}}else R=n;while(0);r=R+8|0;n=o[r>>2]|0;g=o[30]|0;if(n>>>0>=g>>>0&R>>>0>=g>>>0){o[n+12>>2]=y;o[r>>2]=y;o[y+8>>2]=n;o[y+12>>2]=R;o[y+24>>2]=0;break}else se()}else{o[27]=r|t;o[n>>2]=y;o[y+24>>2]=n;o[y+12>>2]=y;o[y+8>>2]=y}while(0);y=(o[34]|0)+-1|0;o[34]=y;if(!y)r=560;else break e;while(1){r=o[r>>2]|0;if(!r)break;else r=r+8|0}o[34]=-1;break e}}while(0);se()}while(0);return}function zi(){var e=0;if(!0)e=600;else e=o[(ae()|0)+60>>2]|0;return e|0}function Yi(){var e=0;do if(!(o[144]|0)){e=oe(30)|0;if(!(e+-1&e)){o[146]=e;o[145]=e;o[147]=-1;o[148]=-1;o[149]=0;o[137]=0;o[144]=(ue(0)|0)&-16^1431655768;break}else se()}while(0);return}function ji(){}function Ki(e,r,n){e=e|0;r=r|0;n=n|0;var i=0;if((n|0)>=4096)return de(e|0,r|0,n|0)|0;i=e|0;if((e&3)==(r&3)){while(e&3){if(!n)return i|0;t[e>>0]=t[r>>0]|0;e=e+1|0;r=r+1|0;n=n-1|0}while((n|0)>=4){o[e>>2]=o[r>>2];e=e+4|0;r=r+4|0;n=n-4|0}}while((n|0)>0){t[e>>0]=t[r>>0]|0;e=e+1|0;r=r+1|0;n=n-1|0}return i|0}function qi(e,r,n){e=e|0;r=r|0;n=n|0;var i=0;if((r|0)<(e|0)&(e|0)<(r+n|0)){i=e;r=r+n|0;e=e+n|0;while((n|0)>0){e=e-1|0;r=r-1|0;n=n-1|0;t[e>>0]=t[r>>0]|0}e=i}else Ki(e,r,n)|0;return e|0}function Vi(e,r,n){e=e|0;r=r|0;n=n|0;var i=0,a=0,s=0,l=0;i=e+n|0;if((n|0)>=20){r=r&255;s=e&3;l=r|r<<8|r<<16|r<<24;a=i&~3;if(s){s=e+4-s|0;while((e|0)<(s|0)){t[e>>0]=r;e=e+1|0}}while((e|0)<(a|0)){o[e>>2]=l;e=e+4|0}}while((e|0)<(i|0)){t[e>>0]=r;e=e+1|0}return e-n|0}return{_free:Hi,___errno_location:zi,_memmove:qi,_Decoder_Interface_Decode:Re,_Decoder_Interface_exit:ge,_Encoder_Interface_init:ye,_memset:Vi,_malloc:xi,_memcpy:Ki,_Encoder_Interface_exit:Ae,_Decoder_Interface_init:Me,_Encoder_Interface_Encode:Oe,runPostSets:ji,stackAlloc:me,stackSave:Ee,stackRestore:pe,establishStackSpace:Se,setThrew:be,setTempRet0:ke,getTempRet0:Fe}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_Encoder_Interface_Encode=Module._Encoder_Interface_Encode=asm._Encoder_Interface_Encode,_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,_memmove=Module._memmove=asm._memmove,_Decoder_Interface_exit=Module._Decoder_Interface_exit=asm._Decoder_Interface_exit,_Encoder_Interface_init=Module._Encoder_Interface_init=asm._Encoder_Interface_init,_memset=Module._memset=asm._memset,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,_Decoder_Interface_Decode=Module._Decoder_Interface_Decode=asm._Decoder_Interface_Decode,_Decoder_Interface_init=Module._Decoder_Interface_init=asm._Decoder_Interface_init,_Encoder_Interface_exit=Module._Encoder_Interface_exit=asm._Encoder_Interface_exit,___errno_location=Module.___errno_location=asm.___errno_location;Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,ExitStatus.prototype=new Error,
ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){function r(){for(var e=0;e<3;e++)t.push(0)}assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var n=e.length+1,t=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];r();for(var i=0;i<n-1;i+=1)t.push(allocate(intArrayFromString(e[i]),"i8",ALLOC_NORMAL)),r();t.push(0),t=allocate(t,"i32",ALLOC_NORMAL),initialStackTop=Runtime.stackSave();try{var o=Module._main(n,t,0);exit(o,!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return Module.noExitRuntime=!0,void Runtime.stackRestore(initialStackTop);throw e&&"object"==typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;return Module.noInitialRun&&(shouldRunNow=!1),Module.noExitRuntime=!0,run(),AMR}();"object"==typeof module&&module.exports?module.exports=AMR:window.AMR=AMR;

},{}],679:[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(jQuery):t(jQuery)}(function(t){function e(e,i){this.element=e,this.settings=t.extend({},r,i),this.dataObject=n,this._defaults=r,this._name=a,this.init()}var a="DateTimePicker",r={mode:"date",defaultDate:new Date,dateSeparator:"-",timeSeparator:":",timeMeridiemSeparator:" ",dateTimeSeparator:" ",dateTimeFormat:"dd-MM-yyyy HH:mm:ss",dateFormat:"dd-MM-yyyy",timeFormat:"HH:mm",maxDate:null,minDate:null,maxTime:null,minTime:null,maxDateTime:null,minDateTime:null,shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],formatHumanDate:function(t){return t.dayShort+", "+t.month+" "+t.dd+", "+t.yyyy},minuteInterval:1,roundOffMinutes:!0,titleContentDate:"Set Date",titleContentTime:"Set Time",titleContentDateTime:"Set Date & Time",buttonsToDisplay:["HeaderCloseButton","SetButton","ClearButton"],setButtonContent:"Set",clearButtonContent:"Clear",setValueInTextboxOnEveryClick:!1,animationDuration:400,isPopup:!0,parentElement:null,addEventHandlers:null,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null,buttonClicked:null},n={dCurrentDate:new Date,iCurrentDay:0,iCurrentMonth:0,iCurrentYear:0,iCurrentHour:0,iCurrentMinutes:0,sCurrentMeridiem:"",iMaxNumberOfDays:0,sDateFormat:"",sTimeFormat:"",sDateTimeFormat:"",dMinValue:null,dMaxValue:null,sArrInputDateFormats:[],sArrInputTimeFormats:[],sArrInputDateTimeFormats:[],oInputElement:null,iTabIndex:0,bElemFocused:!1,bIs12Hour:!1};t.fn.DateTimePicker=function(r){return this.each(function(){t.removeData(this,"plugin_"+a),t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new e(this,r))})},e.prototype={init:function(){var e=this;e._setDateFormatArray(),e._setTimeFormatArray(),e._setDateTimeFormatArray(),e.settings.isPopup&&(e._createPicker(),t(e.element).addClass("dtpicker-mobile")),e._addEventHandlersForInput()},_setDateFormatArray:function(){var t=this;t.dataObject.sArrInputDateFormats=new Array;var e="";e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",t.dataObject.sArrInputDateFormats.push(e),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",t.dataObject.sArrInputDateFormats.push(e),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",t.dataObject.sArrInputDateFormats.push(e),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",t.dataObject.sArrInputDateFormats.push(e)},_setTimeFormatArray:function(){var t=this;t.dataObject.sArrInputTimeFormats=new Array;var e="";e="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",t.dataObject.sArrInputTimeFormats.push(e),e="HH"+t.settings.timeSeparator+"mm",t.dataObject.sArrInputTimeFormats.push(e)},_setDateTimeFormatArray:function(){var t=this;t.dataObject.sArrInputDateTimeFormats=new Array;var e="",a="",r="";e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.dataObject.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.dataObject.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.dataObject.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.dataObject.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.dataObject.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.dataObject.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.dataObject.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.dataObject.sArrInputDateTimeFormats.push(r)},_createPicker:function(){var e=this;t(e.element).addClass("dtpicker-overlay"),t(".dtpicker-overlay").click(function(t){e._hidePicker("")});var a="";a+="<div class='dtpicker-bg'>",a+="<div class='dtpicker-cont'>",a+="<div class='dtpicker-content'>",a+="<div class='dtpicker-subcontent'>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",t(e.element).html(a)},_addEventHandlersForInput:function(){var e=this;e.dataObject.oInputElement=null;var a=void 0;void 0!=e.settings.parentElement?(t(e.settings.parentElement).find("input[type='date'], input[type='time'], input[type='datetime']").each(function(){var e=t(this).attr("type");t(this).attr("type","text"),t(this).attr("data-field",e)}),a=t(e.settings.parentElement).find("[data-field='date'], [data-field='time'], [data-field='datetime']")):(t("input[type='date'], input[type='time'], input[type='datetime']").each(function(){var e=t(this).attr("type");t(this).attr("type","text"),t(this).attr("data-field",e)}),a=t("[data-field='date'], [data-field='time'], [data-field='datetime']")),t(a).unbind("focus",e._inputFieldFocus),t(a).on("focus",{obj:e},e._inputFieldFocus),t(a).not("input").click(function(t){null==e.dataObject.oInputElement&&e.showDateTimePicker(this)}),t(a).click(function(t){t.stopPropagation()}),e.settings.addEventHandlers&&e.settings.addEventHandlers.call(e)},_inputFieldFocus:function(t){var e=t.data.obj;null==e.dataObject.oInputElement&&e.showDateTimePicker(t.target),e.dataObject.bMouseDown=!1},setDateTimeStringInInputField:function(e,a){var r=this;a=a||r.dataObject.dCurrentDate;var n=void 0;null!==e&&void 0!==e?(n=[],"string"==typeof e?n.push(e):"object"==typeof e&&(n=e)):n=null!==r.settings.parentElement&&void 0!==r.settings.parentElement?t(r.settings.parentElement).find("[data-field='date'], [data-field='time'], [data-field='datetime']"):t("[data-field='date'], [data-field='time'], [data-field='datetime']"),n.each(function(){var e,n,i,s=this;e=t(s).data("field"),r._compare(e,"date")?n=t(s).data("format")||r.settings.dateFormat:r._compare(e,"time")?n=t(s).data("format")||r.settings.timeFormat:r._compare(e,"datetime")&&(n=t(s).data("format")||r.settings.dateTimeFormat),i=r.getIs12Hour(e,n);var d=r._setOutput(e,n,i,a);t(s).val(d)})},getDateTimeStringInFormat:function(t,e,a){var r=this,n=r.getIs12Hour(t,e);return r._setOutput(t,e,n,a)},showDateTimePicker:function(e){var a=this;if(null==a.dataObject.oInputElement){a.dataObject.oInputElement=e,a.dataObject.iTabIndex=parseInt(t(e).attr("tabIndex"));var r=t(e).data("field")||"",n=t(e).data("min")||"",i=t(e).data("max")||"",s=t(e).data("format")||"",d=t(e).data("view")||"",o=t(e).data("startend")||"",m=t(e).data("startendelem")||"",u=a._getValueOfElement(e)||"";if(""!=d&&(a._compare(d,"Popup")?a.setIsPopup(!0):a.setIsPopup(!1)),!a.settings.isPopup){a._createPicker();var c=t(a.dataObject.oInputElement).offset().top+t(a.dataObject.oInputElement).outerHeight(),p=t(a.dataObject.oInputElement).offset().left,l=t(a.dataObject.oInputElement).outerWidth();t(a.element).css({position:"absolute",top:c,left:p,width:l,height:"auto"})}a._showPicker(r,n,i,s,u,e,o,m)}},_setButtonAction:function(t){var e=this;if(null!=e.dataObject.oInputElement){var a=e._setOutput();e._setValueOfElement(a),t?e._hidePicker(0):e._hidePicker("")}},_setOutput:function(t,e,a,r){var n=this;t=t||n.settings.mode,n._compare(t,"date")?e=e||n.dataObject.sDateFormat:n._compare(t,"time")?e=e||n.dataObject.sTimeFormat:n._compare(t,"datetime")&&(e=e||n.dataObject.sDateTimeFormat),r=r||n.dataObject.dCurrentDate,a=a||n.dataObject.bIs12Hour;var i,s,d,o,m,u="",c=r.getDate(),p=r.getMonth(),l=r.getFullYear(),b=r.getHours(),O=r.getMinutes(),j="",g="";return n._compare(t,"date")?n._compare(e,n.dataObject.sArrInputDateFormats[0])?(p++,i=c<10?"0"+c:c,s=p<10?"0"+p:p,u=i+n.settings.dateSeparator+s+n.settings.dateSeparator+l):n._compare(e,n.dataObject.sArrInputDateFormats[1])?(p++,i=c<10?"0"+c:c,s=p<10?"0"+p:p,u=s+n.settings.dateSeparator+i+n.settings.dateSeparator+l):n._compare(e,n.dataObject.sArrInputDateFormats[2])?(p++,i=c<10?"0"+c:c,s=p<10?"0"+p:p,u=l+n.settings.dateSeparator+s+n.settings.dateSeparator+i):n._compare(e,n.dataObject.sArrInputDateFormats[3])&&(i=c<10?"0"+c:c,s=n.settings.shortMonthNames[p],u=i+n.settings.dateSeparator+s+n.settings.dateSeparator+l):n._compare(t,"time")?n._compare(e,n.dataObject.sArrInputTimeFormats[0])?(d=n._determineMeridiemFromHourAndMinutes(b,O),0==b&&"AM"==d?b=12:b>12&&"PM"==d&&(b-=12),o=b<10?"0"+b:b,m=O<10?"0"+O:O,u=o+n.settings.timeSeparator+m+n.settings.timeMeridiemSeparator+d):n._compare(e,n.dataObject.sArrInputTimeFormats[1])&&(o=b<10?"0"+b:b,m=O<10?"0"+O:O,u=o+n.settings.timeSeparator+m):n._compare(t,"datetime")&&(n._compare(e,n.dataObject.sArrInputDateTimeFormats[0])||n._compare(n.dataObject.sDateTimeFormat,n.dataObject.sArrInputDateTimeFormats[1])?(p++,i=c<10?"0"+c:c,s=p<10?"0"+p:p,j=i+n.settings.dateSeparator+s+n.settings.dateSeparator+l):n._compare(e,n.dataObject.sArrInputDateTimeFormats[2])||n._compare(n.dataObject.sDateTimeFormat,n.dataObject.sArrInputDateTimeFormats[3])?(p++,i=c<10?"0"+c:c,s=p<10?"0"+p:p,j=s+n.settings.dateSeparator+i+n.settings.dateSeparator+l):n._compare(e,n.dataObject.sArrInputDateTimeFormats[4])||n._compare(n.dataObject.sDateTimeFormat,n.dataObject.sArrInputDateTimeFormats[5])?(p++,i=c<10?"0"+c:c,s=p<10?"0"+p:p,j=l+n.settings.dateSeparator+s+n.settings.dateSeparator+i):(n._compare(e,n.dataObject.sArrInputDateTimeFormats[6])||n._compare(n.dataObject.sDateTimeFormat,n.dataObject.sArrInputDateTimeFormats[7]))&&(i=c<10?"0"+c:c,s=n.settings.shortMonthNames[p],j=i+n.settings.dateSeparator+s+n.settings.dateSeparator+l),a?(d=n._determineMeridiemFromHourAndMinutes(b,O),0==b&&"AM"==d?b=12:b>12&&"PM"==d&&(b-=12),o=b<10?"0"+b:b,m=O<10?"0"+O:O,g=o+n.settings.timeSeparator+m+n.settings.timeMeridiemSeparator+d):(o=b<10?"0"+b:b,m=O<10?"0"+O:O,g=o+n.settings.timeSeparator+m),u=j+n.settings.dateTimeSeparator+g),u},_clearButtonAction:function(){var t=this;null!=t.dataObject.oInputElement&&t._setValueOfElement(""),t._hidePicker("")},_setOutputOnIncrementOrDecrement:function(){var t=this;if(null!=t.dataObject.oInputElement&&t.settings.setValueInTextboxOnEveryClick){var e=t._setOutput();t._setValueOfElement(e)}},_showPicker:function(e,a,r,n,i,s,d,o){var m=this;if(m.settings.beforeShow&&m.settings.beforeShow.call(m,s),""!=e&&(m.settings.mode=e),m.dataObject.dMinValue=null,m.dataObject.dMaxValue=null,m.dataObject.bIs12Hour=!1,m._compare(m.settings.mode,"date")){var u=a||m.settings.minDate,c=r||m.settings.maxDate,p=n||m.settings.dateFormat;if(""!=p&&null!=p&&(m.dataObject.sDateFormat=p),""!=u&&null!=u&&(m.dataObject.dMinValue=m._parseDate(u)),""!=c&&null!=c&&(m.dataObject.dMaxValue=m._parseDate(c)),""!=d&&(m._compare(d,"start")||m._compare(d,"end"))&&""!=o&&t(o).length>=1){var l=m._getValueOfElement(t(o));if(""!=l){var b=m._parseDate(l);m._compare(d,"start")?""!=c&&null!=c?m._compareDates(b,m.dataObject.dMaxValue)<0&&(m.dataObject.dMaxValue=new Date(b)):m.dataObject.dMaxValue=new Date(b):m._compare(d,"end")&&(""!=u&&null!=u?m._compareDates(b,m.dataObject.dMinValue)>0&&(m.dataObject.dMinValue=new Date(b)):m.dataObject.dMinValue=new Date(b))}}m.dataObject.dCurrentDate=m._parseDate(i),m.dataObject.dCurrentDate.setHours(0),m.dataObject.dCurrentDate.setMinutes(0),m.dataObject.dCurrentDate.setSeconds(0)}else if(m._compare(m.settings.mode,"time")){var u=a||m.settings.minTime,c=r||m.settings.maxTime,O=n||m.settings.timeFormat;if(""!=O&&null!=O&&(m.dataObject.sTimeFormat=O),""!=u&&null!=u&&(m.dataObject.dMinValue=m._parseTime(u)),""!=c&&null!=c&&(m.dataObject.dMaxValue=m._parseTime(c)),""!=d&&(m._compare(d,"start")||m._compare(d,"end"))&&""!=o&&t(o).length>=1){var j=m._getValueOfElement(t(o));if(""!=j){var g=m._parseTime(j);m._compare(d,"start")?(g.setMinutes(g.getMinutes()-1),""!=c&&null!=c?2==m._compareTime(g,m.dataObject.dMaxValue)&&(m.dataObject.dMaxValue=new Date(g)):m.dataObject.dMaxValue=new Date(g)):m._compare(d,"end")&&(g.setMinutes(g.getMinutes()+1),""!=u&&null!=u?3==m._compareTime(g,m.dataObject.dMinValue)&&(m.dataObject.dMinValue=new Date(g)):m.dataObject.dMinValue=new Date(g))}}m.dataObject.bIs12Hour=m.getIs12Hour("time",m.dataObject.sTimeFormat),m.dataObject.dCurrentDate=m._parseTime(i)}else if(m._compare(m.settings.mode,"datetime")){var u=a||m.settings.minDateTime,c=r||m.settings.maxDateTime,D=n||m.settings.dateTimeFormat;if(""!=D&&null!=D&&(m.dataObject.sDateTimeFormat=D),""!=u&&null!=u&&(m.dataObject.dMinValue=m._parseDateTime(u)),""!=c&&null!=c&&(m.dataObject.dMaxValue=m._parseDateTime(c)),""!=d&&(m._compare(d,"start")||m._compare(d,"end"))&&""!=o&&t(o).length>=1){var M=m._getValueOfElement(t(o));if(""!=M){var f=m._parseDateTime(M);m._compare(d,"start")?""!=c&&null!=c?m._compareDateTime(f,m.dataObject.dMaxValue)<0&&(m.dataObject.dMaxValue=new Date(f)):m.dataObject.dMaxValue=new Date(f):m._compare(d,"end")&&(""!=u&&null!=u?m._compareDateTime(f,m.dataObject.dMinValue)>0&&(m.dataObject.dMinValue=new Date(f)):m.dataObject.dMinValue=new Date(f))}}m.dataObject.bIs12Hour=m.getIs12Hour("datetime",m.dataObject.sDateTimeFormat),m.dataObject.dCurrentDate=m._parseDateTime(i)}m._setVariablesForDate(),m._modifyPicker(),t(m.element).fadeIn(m.settings.animationDuration),m.settings.afterShow&&setTimeout(function(){m.settings.afterShow.call(m,s)},m.settings.animationDuration)},_hidePicker:function(e){var a=this,r=a.dataObject.oInputElement;a.settings.beforeHide&&a.settings.beforeHide.call(a,r),""!==e&&void 0!==e&&null!==e||(e=a.settings.animationDuration),null!=a.dataObject.oInputElement&&(t(a.dataObject.oInputElement).blur(),a.dataObject.oInputElement=null),t(a.element).fadeOut(e),0==e?t(a.element).find(".dtpicker-subcontent").html(""):setTimeout(function(){t(a.element).find(".dtpicker-subcontent").html("")},e),t(document).unbind("click.DateTimePicker"),t(document).unbind("keydown.DateTimePicker"),t(document).unbind("keyup.DateTimePicker"),a.settings.afterHide&&setTimeout(function(){a.settings.afterHide.call(a,r)},e)},_modifyPicker:function(){var e,a,r=this,n=new Array;r._compare(r.settings.mode,"date")?(e=r.settings.titleContentDate,a=3,r._compare(r.dataObject.sDateFormat,r.dataObject.sArrInputDateFormats[0])?n=["day","month","year"]:r._compare(r.dataObject.sDateFormat,r.dataObject.sArrInputDateFormats[1])?n=["month","day","year"]:r._compare(r.dataObject.sDateFormat,r.dataObject.sArrInputDateFormats[2])?n=["year","month","day"]:r._compare(r.dataObject.sDateFormat,r.dataObject.sArrInputDateFormats[3])&&(n=["day","month","year"])):r._compare(r.settings.mode,"time")?(e=r.settings.titleContentTime,r._compare(r.dataObject.sTimeFormat,r.dataObject.sArrInputTimeFormats[0])?(a=3,n=["hour","minutes","meridiem"]):r._compare(r.dataObject.sTimeFormat,r.dataObject.sArrInputTimeFormats[1])&&(a=2,n=["hour","minutes"])):r._compare(r.settings.mode,"datetime")&&(e=r.settings.titleContentDateTime,r._compare(r.dataObject.sDateTimeFormat,r.dataObject.sArrInputDateTimeFormats[0])?(a=5,n=["day","month","year","hour","minutes"]):r._compare(r.dataObject.sDateTimeFormat,r.dataObject.sArrInputDateTimeFormats[1])?(a=6,n=["day","month","year","hour","minutes","meridiem"]):r._compare(r.dataObject.sDateTimeFormat,r.dataObject.sArrInputDateTimeFormats[2])?(a=5,n=["month","day","year","hour","minutes"]):r._compare(r.dataObject.sDateTimeFormat,r.dataObject.sArrInputDateTimeFormats[3])?(a=6,n=["month","day","year","hour","minutes","meridiem"]):r._compare(r.dataObject.sDateTimeFormat,r.dataObject.sArrInputDateTimeFormats[4])?(a=5,n=["year","month","day","hour","minutes"]):r._compare(r.dataObject.sDateTimeFormat,r.dataObject.sArrInputDateTimeFormats[5])?(a=6,n=["year","month","day","hour","minutes","meridiem"]):r._compare(r.dataObject.sDateTimeFormat,r.dataObject.sArrInputDateTimeFormats[6])?(a=5,n=["day","month","year","hour","minutes"]):r._compare(r.dataObject.sDateTimeFormat,r.dataObject.sArrInputDateTimeFormats[7])&&(a=6,n=["day","month","year","hour","minutes","meridiem"]));for(var i="dtpicker-comp"+a,s=!1,d=!1,o=!1,m=0;m<r.settings.buttonsToDisplay.length;m++)r._compare(r.settings.buttonsToDisplay[m],"HeaderCloseButton")?s=!0:r._compare(r.settings.buttonsToDisplay[m],"SetButton")?d=!0:r._compare(r.settings.buttonsToDisplay[m],"ClearButton")&&(o=!0);var u="";u+="<div class='dtpicker-header'>",u+="<div class='dtpicker-title'>"+e+"</div>",s&&(u+="<a class='dtpicker-close'>&times;</a>"),u+="<div class='dtpicker-value'></div>",u+="</div>";var c="";c+="<div class='dtpicker-components'>";for(var m=0;m<a;m++){var p=n[m];c+="<div class='dtpicker-compOutline "+i+"'>",c+="<div class='dtpicker-comp "+p+"'>",c+="<a class='dtpicker-compButton increment'>+</a>",c+="<input type='text' class='dtpicker-compValue'></input>",c+="<a class='dtpicker-compButton decrement'>-</a>",c+="</div>",c+="</div>"}c+="</div>";var l="";l=d&&o?" dtpicker-twoButtons":" dtpicker-singleButton";var b="";b+="<div class='dtpicker-buttonCont"+l+"'>",d&&(b+="<a class='dtpicker-button dtpicker-buttonSet'>"+r.settings.setButtonContent+"</a>"),o&&(b+="<a class='dtpicker-button dtpicker-buttonClear'>"+r.settings.clearButtonContent+"</a>"),b+="</div>",sTempStr=u+c+b,t(r.element).find(".dtpicker-subcontent").html(sTempStr),r._setCurrentDate(),r._addEventHandlersForPicker()},_addEventHandlersForPicker:function(){var e=this;t(document).on("click.DateTimePicker",function(t){e._hidePicker("")}),t(document).on("keydown.DateTimePicker",function(a){if(!t(".dtpicker-compValue").is(":focus")&&"9"==(a.keyCode?a.keyCode:a.which))return e._setButtonAction(!0),t("[tabIndex="+(e.dataObject.iTabIndex+1)+"]").focus(),!1}),t(document).on("keydown.DateTimePicker",function(a){t(".dtpicker-compValue").is(":focus")||"9"==(a.keyCode?a.keyCode:a.which)||e._hidePicker("")}),t(".dtpicker-cont *").click(function(t){t.stopPropagation()}),t(".dtpicker-compValue").not(".month .dtpicker-compValue, .meridiem .dtpicker-compValue").keyup(function(){this.value=this.value.replace(/[^0-9\.]/g,"")}),t(".dtpicker-compValue").focus(function(){e.dataObject.bElemFocused=!0}),t(".dtpicker-compValue").blur(function(){e._getValuesFromInputBoxes(),e._setCurrentDate(),e.dataObject.bElemFocused=!1;var a=t(this).parent().parent();setTimeout(function(){a.is(":last-child")&&!e.dataObject.bElemFocused&&e._setButtonAction(!1)},50)}),t(".dtpicker-compValue").keyup(function(){var e=t(this),a=e.val(),r=a.length;if(e.parent().hasClass("day")||e.parent().hasClass("hour")||e.parent().hasClass("minutes")||e.parent().hasClass("meridiem")){if(r>2){var n=a.slice(0,2);e.val(n)}}else if(e.parent().hasClass("month")){if(r>3){var n=a.slice(0,3);e.val(n)}}else if(e.parent().hasClass("year")&&r>4){var n=a.slice(0,4);e.val(n)}}),t(e.element).find(".dtpicker-close").click(function(t){e.settings.buttonClicked&&e.settings.buttonClicked.call(e,"CLOSE",e.dataObject.oInputElement),e._hidePicker("")}),t(e.element).find(".dtpicker-buttonSet").click(function(t){e.settings.buttonClicked&&e.settings.buttonClicked.call(e,"SET",e.dataObject.oInputElement),e._setButtonAction(!1)}),t(e.element).find(".dtpicker-buttonClear").click(function(t){e.settings.buttonClicked&&e.settings.buttonClicked.call(e,"CLEAR",e.dataObject.oInputElement),e._clearButtonAction()}),t(e.element).find(".day .increment").click(function(t){e.dataObject.iCurrentDay++,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".day .decrement").click(function(t){e.dataObject.iCurrentDay--,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".month .increment").click(function(t){e.dataObject.iCurrentMonth++,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".month .decrement").click(function(t){e.dataObject.iCurrentMonth--,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".year .increment").click(function(t){e.dataObject.iCurrentYear++,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".year .decrement").click(function(t){e.dataObject.iCurrentYear--,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".hour .increment").click(function(t){e.dataObject.iCurrentHour++,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".hour .decrement").click(function(t){e.dataObject.iCurrentHour--,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".minutes .increment").click(function(t){e.dataObject.iCurrentMinutes+=e.settings.minuteInterval,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".minutes .decrement").click(function(t){e.dataObject.iCurrentMinutes-=e.settings.minuteInterval,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".meridiem .dtpicker-compButton").click(function(t){e._compare(e.dataObject.sCurrentMeridiem,"AM")?(e.dataObject.sCurrentMeridiem="PM",e.dataObject.iCurrentHour+=12):e._compare(e.dataObject.sCurrentMeridiem,"PM")&&(e.dataObject.sCurrentMeridiem="AM",e.dataObject.iCurrentHour-=12),e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()})},_adjustMinutes:function(t){var e=this;return e.settings.roundOffMinutes&&1!=e.settings.minuteInterval&&(t=t%e.settings.minuteInterval?t-t%e.settings.minuteInterval+e.settings.minuteInterval:t),t},_getValueOfElement:function(e){var a=this,r="";return r=a._compare(t(e).prop("tagName"),"INPUT")?t(e).val():t(e).html()},_setValueOfElement:function(e){var a=this,r=t(a.dataObject.oInputElement);return a._compare(r.prop("tagName"),"INPUT")?r.val(e):r.html(e),r.change(),e},_parseDate:function(t){var e=this,a=new Date(e.settings.defaultDate),r=a.getDate(),n=a.getMonth(),i=a.getFullYear();if(""!=t&&void 0!=t&&null!=t){var s=t.split(e.settings.dateSeparator);e._compare(e.dataObject.sDateFormat,e.dataObject.sArrInputDateFormats[0])?(r=parseInt(s[0]),n=parseInt(s[1]-1),i=parseInt(s[2])):e._compare(e.dataObject.sDateFormat,e.dataObject.sArrInputDateFormats[1])?(n=parseInt(s[0]-1),r=parseInt(s[1]),i=parseInt(s[2])):e._compare(e.dataObject.sDateFormat,e.dataObject.sArrInputDateFormats[2])?(i=parseInt(s[0]),n=parseInt(s[1]-1),r=parseInt(s[2])):e._compare(e.dataObject.sDateFormat,e.dataObject.sArrInputDateFormats[3])&&(r=parseInt(s[0]),n=e._getShortMonthIndex(s[1]),i=parseInt(s[2]))}return a=new Date(i,n,r,0,0,0,0)},_parseTime:function(t){var e=this,a=new Date(e.settings.defaultDate),r=a.getDate(),n=a.getMonth(),i=a.getFullYear(),s=a.getHours(),d=a.getMinutes();if(""!=t&&void 0!=t&&null!=t)if(e._compare(e.dataObject.sTimeFormat,e.dataObject.sArrInputTimeFormats[0])){var o=t.split(e.settings.timeMeridiemSeparator),m=o[1],u=o[0].split(e.settings.timeSeparator);s=parseInt(u[0]),d=parseInt(u[1]),12==s&&e._compare(m,"AM")?s=0:s<12&&e._compare(m,"PM")&&(s+=12)}else if(e._compare(e.dataObject.sTimeFormat,e.dataObject.sArrInputTimeFormats[1])){var u=t.split(e.settings.timeSeparator);s=parseInt(u[0]),d=parseInt(u[1])}return d=e._adjustMinutes(d),a=new Date(i,n,r,s,d,0,0)},_parseDateTime:function(t){var e=this,a=new Date(e.settings.defaultDate),r=a.getDate(),n=a.getMonth(),i=a.getFullYear(),s=a.getHours(),d=a.getMinutes(),o="";if(""!=t&&void 0!=t&&null!=t){var m=t.split(e.settings.dateTimeSeparator),u=m[0].split(e.settings.dateSeparator);e._compare(e.dataObject.sDateTimeFormat,e.dataObject.sArrInputDateTimeFormats[0])||e._compare(e.dataObject.sDateTimeFormat,e.dataObject.sArrInputDateTimeFormats[1])?(r=parseInt(u[0]),n=parseInt(u[1]-1),i=parseInt(u[2])):e._compare(e.dataObject.sDateTimeFormat,e.dataObject.sArrInputDateTimeFormats[2])||e._compare(e.dataObject.sDateTimeFormat,e.dataObject.sArrInputDateTimeFormats[3])?(n=parseInt(u[0]-1),r=parseInt(u[1]),i=parseInt(u[2])):e._compare(e.dataObject.sDateTimeFormat,e.dataObject.sArrInputDateTimeFormats[4])||e._compare(e.dataObject.sDateTimeFormat,e.dataObject.sArrInputDateTimeFormats[5])?(i=parseInt(u[0]),n=parseInt(u[1]-1),r=parseInt(u[2])):(e._compare(e.dataObject.sDateTimeFormat,e.dataObject.sArrInputDateTimeFormats[6])||e._compare(e.dataObject.sDateTimeFormat,e.dataObject.sArrInputDateTimeFormats[7]))&&(r=parseInt(u[0]),n=e._getShortMonthIndex(u[1]),i=parseInt(u[2]));var c=m[1];if(e.dataObject.bIs12Hour){if(e._compare(e.settings.dateTimeSeparator,e.settings.timeMeridiemSeparator)&&3==m.length)o=m[2];else{var p=c.split(e.settings.timeMeridiemSeparator);c=p[0],o=p[1]}e._compare(o,"AM")||e._compare(o,"PM")||(o="")}var l=c.split(e.settings.timeSeparator);s=parseInt(l[0]),d=parseInt(l[1]),12==s&&e._compare(o,"AM")?s=0:s<12&&e._compare(o,"PM")&&(s+=12)}return d=e._adjustMinutes(d),a=new Date(i,n,r,s,d,0,0)},_getShortMonthIndex:function(t){for(var e=this,a=0;a<e.settings.shortMonthNames.length;a++)if(e._compare(t,e.settings.shortMonthNames[a]))return a},getIs12Hour:function(t,e){var a=this,r=!1;return a._compare(t,"time")?r=a._compare(e,a.dataObject.sArrInputTimeFormats[0]):a._compare(t,"datetime")&&(r=a._compare(e,a.dataObject.sArrInputDateTimeFormats[1])||a._compare(e,a.dataObject.sArrInputDateTimeFormats[3])||a._compare(e,a.dataObject.sArrInputDateTimeFormats[5])||a._compare(e,a.dataObject.sArrInputDateTimeFormats[7])),r},_setVariablesForDate:function(){var t=this;t.dataObject.iCurrentDay=t.dataObject.dCurrentDate.getDate(),t.dataObject.iCurrentMonth=t.dataObject.dCurrentDate.getMonth(),t.dataObject.iCurrentYear=t.dataObject.dCurrentDate.getFullYear(),t._compare(t.settings.mode,"time")?(t.dataObject.iCurrentHour=t.dataObject.dCurrentDate.getHours(),t.dataObject.iCurrentMinutes=t.dataObject.dCurrentDate.getMinutes(),t._compare(t.dataObject.sTimeFormat,t.dataObject.sArrInputTimeFormats[0])&&(t.dataObject.sCurrentMeridiem=t._determineMeridiemFromHourAndMinutes(t.dataObject.iCurrentHour,t.dataObject.iCurrentMinutes))):t._compare(t.settings.mode,"datetime")&&(t.dataObject.iCurrentHour=t.dataObject.dCurrentDate.getHours(),t.dataObject.iCurrentMinutes=t.dataObject.dCurrentDate.getMinutes(),(t._compare(t.dataObject.sDateTimeFormat,t.dataObject.sArrInputDateTimeFormats[1])||t._compare(t.dataObject.sDateTimeFormat,t.dataObject.sArrInputDateTimeFormats[3])||t._compare(t.dataObject.sDateTimeFormat,t.dataObject.sArrInputDateTimeFormats[5])||t._compare(t.dataObject.sDateTimeFormat,t.dataObject.sArrInputDateTimeFormats[7]))&&(t.dataObject.sCurrentMeridiem=t._determineMeridiemFromHourAndMinutes(t.dataObject.iCurrentHour,t.dataObject.iCurrentMinutes)))},_getValuesFromInputBoxes:function(){var e=this;if(e._compare(e.settings.mode,"date")||e._compare(e.settings.mode,"datetime")){var a=t(e.element).find(".month .dtpicker-compValue").val();a.length>1&&(a=a.charAt(0).toUpperCase()+a.slice(1));var r=e.settings.shortMonthNames.indexOf(a);r!=-1?e.dataObject.iCurrentMonth=parseInt(r):a.match("^[+|-]?[0-9]+$")&&(e.dataObject.iCurrentMonth=parseInt(a-1)),e.dataObject.iCurrentDay=parseInt(t(e.element).find(".day .dtpicker-compValue").val())||e.dataObject.iCurrentDay,e.dataObject.iCurrentYear=parseInt(t(e.element).find(".year .dtpicker-compValue").val())||e.dataObject.iCurrentYear}if(e._compare(e.settings.mode,"time")||e._compare(e.settings.mode,"datetime")){if(e.dataObject.iCurrentHour=parseInt(t(e.element).find(".hour .dtpicker-compValue").val()),e.dataObject.iCurrentMinutes=e._adjustMinutes(parseInt(t(e.element).find(".minutes .dtpicker-compValue").val())),e._compare(e.settings.mode,"time"))if(e.dataObject.bIs12Hour){if(e.dataObject.iCurrentHour>12&&(e.dataObject.iCurrentHour=e.dataObject.iCurrentHour%12),e.dataObject.iCurrentMinutes>59){var n=e.dataObject.iCurrentMinutes/60,i=e.dataObject.iCurrentMinutes%59,s=e.dataObject.iCurrentHour+n;s>12&&(e.dataObject.iCurrentHour=s%12),e.dataObject.iCurrentMinutes=i}}else if(e.dataObject.iCurrentHour>23&&(e.dataObject.iCurrentHour=e.dataObject.iCurrentHour%23),e.dataObject.iCurrentMinutes>59){var n=e.dataObject.iCurrentMinutes/60,i=e.dataObject.iCurrentMinutes%59,s=e.dataObject.iCurrentHour+n;s>23&&(e.dataObject.iCurrentHour=s%23),e.dataObject.iCurrentMinutes=i}if(e.dataObject.bIs12Hour){var d=t(e.element).find(".meridiem .dtpicker-compValue").val();(e._compare(d,"AM")||e._compare(d,"PM"))&&(e.dataObject.sCurrentMeridiem=d),e._compare(e.dataObject.sCurrentMeridiem,"PM")&&e.dataObject.iCurrentHour<13&&(e.dataObject.iCurrentHour+=12),e._compare(e.dataObject.sCurrentMeridiem,"AM")&&12==e.dataObject.iCurrentHour&&(e.dataObject.iCurrentHour=0)}}},_setCurrentDate:function(){var e=this,a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay,e.dataObject.iCurrentHour,e.dataObject.iCurrentMinutes,0,0),r=!1,n=!1;if(null!=e.dataObject.dMaxValue&&(r=a.getTime()>e.dataObject.dMaxValue.getTime()),null!=e.dataObject.dMinValue&&(n=a.getTime()<e.dataObject.dMinValue.getTime()),r||n){var i=!1,s=!1;null!=e.dataObject.dMaxValue&&(i=e.dataObject.dCurrentDate.getTime()>e.dataObject.dMaxValue.getTime()),null!=e.dataObject.dMinValue&&(s=e.dataObject.dCurrentDate.getTime()<e.dataObject.dMinValue.getTime()),i||s?(i&&(a=new Date(e.dataObject.dMaxValue)),s&&(a=new Date(e.dataObject.dMinValue))):a=new Date(e.dataObject.dCurrentDate)}if(e.dataObject.dCurrentDate=new Date(a),e._setVariablesForDate(),e._compare(e.settings.mode,"date")){var d=e.dataObject.iCurrentDay;d=d<10?"0"+d:d;var o=e.dataObject.iCurrentMonth,m=e.dataObject.iCurrentMonth;m=m<10?"0"+m:m;var u=e.settings.shortMonthNames[o],c=e.settings.fullMonthNames[o],p=e.dataObject.iCurrentYear,l=e.dataObject.dCurrentDate.getDay(),b=e.settings.shortDayNames[l],O=e.settings.fullDayNames[l];t(e.element).find(".day .dtpicker-compValue").val(d),t(e.element).find(".month .dtpicker-compValue").val(u),t(e.element).find(".year .dtpicker-compValue").val(p);var j=e.settings.formatHumanDate({dd:d,MM:m,yyyy:p,day:O,dayShort:b,month:c,monthShort:u});t(e.element).find(".dtpicker-value").html(j)}else if(e._compare(e.settings.mode,"time")){var g=e.dataObject.iCurrentHour;e.dataObject.bIs12Hour&&(g>12&&(g-=12),t(e.element).find(".meridiem .dtpicker-compValue").val(e.dataObject.sCurrentMeridiem)),g=g<10?"0"+g:g,e.dataObject.bIs12Hour&&"00"==g&&(g=12);var D=e.dataObject.iCurrentMinutes;D=D<10?"0"+D:D,t(e.element).find(".hour .dtpicker-compValue").val(g),t(e.element).find(".minutes .dtpicker-compValue").val(D);var M=g+e.settings.timeSeparator+D;e.dataObject.bIs12Hour&&(M+=e.settings.timeMeridiemSeparator+e.dataObject.sCurrentMeridiem),t(e.element).find(".dtpicker-value").html(M)}else if(e._compare(e.settings.mode,"datetime")){var d=e.dataObject.iCurrentDay;d=d<10?"0"+d:d;var o=e.dataObject.iCurrentMonth,m=o<10?"0"+o:o,u=e.settings.shortMonthNames[o],c=e.settings.fullMonthNames[o],p=e.dataObject.iCurrentYear,l=e.dataObject.dCurrentDate.getDay(),b=e.settings.shortDayNames[l],O=e.settings.fullDayNames[l];t(e.element).find(".day .dtpicker-compValue").val(d),t(e.element).find(".month .dtpicker-compValue").val(u),t(e.element).find(".year .dtpicker-compValue").val(p);var j=e.settings.formatHumanDate({dd:d,MM:m,yyyy:p,day:O,dayShort:b,month:c,monthShort:u}),g=e.dataObject.iCurrentHour;e.dataObject.bIs12Hour&&(g>12&&(g-=12),t(e.element).find(".meridiem .dtpicker-compValue").val(e.dataObject.sCurrentMeridiem)),
g=g<10?"0"+g:g,e.dataObject.bIs12Hour&&"00"==g&&(g=12);var D=e.dataObject.iCurrentMinutes;D=D<10?"0"+D:D,t(e.element).find(".hour .dtpicker-compValue").val(g),t(e.element).find(".minutes .dtpicker-compValue").val(D);var M=g+e.settings.timeSeparator+D;e.dataObject.bIs12Hour&&(M+=e.settings.timeMeridiemSeparator+e.dataObject.sCurrentMeridiem);var f=j+e.settings.dateTimeSeparator+M;t(e.element).find(".dtpicker-value").html(f)}e._setButtons()},_setButtons:function(){var e=this;t(e.element).find(".dtpicker-compButton").removeClass("dtpicker-compButtonDisable").addClass("dtpicker-compButtonEnable");var a;if(null!=e.dataObject.dMaxValue&&(e._compare(e.settings.mode,"time")?((e.dataObject.iCurrentHour+1>e.dataObject.dMaxValue.getHours()||e.dataObject.iCurrentHour+1==e.dataObject.dMaxValue.getHours()&&e.dataObject.iCurrentMinutes>e.dataObject.dMaxValue.getMinutes())&&t(e.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),e.dataObject.iCurrentHour>=e.dataObject.dMaxValue.getHours()&&e.dataObject.iCurrentMinutes+1>e.dataObject.dMaxValue.getMinutes()&&t(e.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):(a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay+1,e.dataObject.iCurrentHour,e.dataObject.iCurrentMinutes,0,0),a.getTime()>e.dataObject.dMaxValue.getTime()&&t(e.element).find(".day .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth+1,e.dataObject.iCurrentDay,e.dataObject.iCurrentHour,e.dataObject.iCurrentMinutes,0,0),a.getTime()>e.dataObject.dMaxValue.getTime()&&t(e.element).find(".month .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.dataObject.iCurrentYear+1,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay,e.dataObject.iCurrentHour,e.dataObject.iCurrentMinutes,0,0),a.getTime()>e.dataObject.dMaxValue.getTime()&&t(e.element).find(".year .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay,e.dataObject.iCurrentHour+1,e.dataObject.iCurrentMinutes,0,0),a.getTime()>e.dataObject.dMaxValue.getTime()&&t(e.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay,e.dataObject.iCurrentHour,e.dataObject.iCurrentMinutes+1,0,0),a.getTime()>e.dataObject.dMaxValue.getTime()&&t(e.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),null!=e.dataObject.dMinValue&&(e._compare(e.settings.mode,"time")?((e.dataObject.iCurrentHour-1<e.dataObject.dMinValue.getHours()||e.dataObject.iCurrentHour-1==e.dataObject.dMinValue.getHours()&&e.dataObject.iCurrentMinutes<e.dataObject.dMinValue.getMinutes())&&t(e.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),e.dataObject.iCurrentHour<=e.dataObject.dMinValue.getHours()&&e.dataObject.iCurrentMinutes-1<e.dataObject.dMinValue.getMinutes()&&t(e.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):(a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay-1,e.dataObject.iCurrentHour,e.dataObject.iCurrentMinutes,0,0),a.getTime()<e.dataObject.dMinValue.getTime()&&t(e.element).find(".day .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth-1,e.dataObject.iCurrentDay,e.dataObject.iCurrentHour,e.dataObject.iCurrentMinutes,0,0),a.getTime()<e.dataObject.dMinValue.getTime()&&t(e.element).find(".month .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.dataObject.iCurrentYear-1,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay,e.dataObject.iCurrentHour,e.dataObject.iCurrentMinutes,0,0),a.getTime()<e.dataObject.dMinValue.getTime()&&t(e.element).find(".year .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay,e.dataObject.iCurrentHour-1,e.dataObject.iCurrentMinutes,0,0),a.getTime()<e.dataObject.dMinValue.getTime()&&t(e.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay,e.dataObject.iCurrentHour,e.dataObject.iCurrentMinutes-1,0,0),a.getTime()<e.dataObject.dMinValue.getTime()&&t(e.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),e.dataObject.bIs12Hour&&(null!=e.dataObject.dMaxValue||null!=e.dataObject.dMinValue)){var r=e.dataObject.iCurrentHour;if(e._compare(e.dataObject.sCurrentMeridiem,"AM")?r+=12:e._compare(e.dataObject.sCurrentMeridiem,"PM")&&(r-=12),a=new Date(e.dataObject.iCurrentYear,e.dataObject.iCurrentMonth,e.dataObject.iCurrentDay,r,e.dataObject.iCurrentMinutes,0,0),null!=e.dataObject.dMaxValue)if(e._compare(e.settings.mode,"time")){var n=e.dataObject.iCurrentMinutes;(r>e.dataObject.dMaxValue.getHours()||r==e.dataObject.dMaxValue.getHours()&&n>e.dataObject.dMaxValue.getMinutes())&&t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")}else a.getTime()>e.dataObject.dMaxValue.getTime()&&t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable");if(null!=e.dataObject.dMinValue)if(e._compare(e.settings.mode,"time")){var n=e.dataObject.iCurrentMinutes;(r<e.dataObject.dMinValue.getHours()||r==e.dataObject.dMinValue.getHours()&&n<e.dataObject.dMinValue.getMinutes())&&t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")}else a.getTime()<e.dataObject.dMinValue.getTime()&&t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")}},_compare:function(t,e){var a=void 0!==t&&null!==t,r=void 0!==e&&null!==e;if(a&&r)return t.toLowerCase()==e.toLowerCase()},setIsPopup:function(e){var a=this;if(a.settings.isPopup=e,"none"!=t(a.element).css("display")&&a._hidePicker(0),a.settings.isPopup)t(a.element).addClass("dtpicker-mobile"),t(a.element).css({position:"fixed",top:0,left:0,width:"100%",height:"100%"});else if(t(a.element).removeClass("dtpicker-mobile"),null!=a.dataObject.oInputElement){var r=t(a.dataObject.oInputElement).offset().top+t(a.dataObject.oInputElement).outerHeight(),n=t(a.dataObject.oInputElement).offset().left,i=t(a.dataObject.oInputElement).outerWidth();t(a.element).css({position:"absolute",top:r,left:n,width:i,height:"auto"})}},_compareDates:function(t,e){t=new Date(t.getDate(),t.getMonth(),t.getFullYear(),0,0,0,0),t=new Date(t.getDate(),t.getMonth(),t.getFullYear(),0,0,0,0);var a=(t.getTime()-e.getTime())/864e5;return 0==a?a:a/Math.abs(a)},_compareTime:function(t,e){var a=0;return t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()?a=1:t.getHours()<e.getHours()?a=2:t.getHours()>e.getHours()?a=3:t.getHours()==e.getHours()&&(t.getMinutes()<e.getMinutes()?a=2:t.getMinutes()>e.getMinutes()&&(a=3)),a},_compareDateTime:function(t,e){var a=(t.getTime()-e.getTime())/6e4;return 0==a?a:a/Math.abs(a)},_determineMeridiemFromHourAndMinutes:function(t,e){return t>12?"PM":12==t&&e>=0?"PM":"AM"}}});

},{}],680:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.AlimeiTicket";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("AlimeiTicket",["mainWS",function(e){var t="AlimeiTicket",i=[["String","getLink",[["String","appId"],["String","parameters"]]]],n={};return i.forEach(function(i){var r=i[1];n[r]=function(){var i,n=Array.prototype.slice.apply(arguments,[]);return n.length>0?(i=n[n.length-1],"function"!=typeof i?i=function(){}:n.pop()):(n=[],i=function(){}),e.sendMsg("/r/Adaptor/"+t+"/"+r,{},n,i)}}),n}]),module.exports=moduleName;

},{}],681:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.CMailI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("CMailI",["mainWS",function(e){var i="CMailI",t=[["string","getMailHelperConversationId",[]],["ReceiverListModel","getReceiverListByConversationId",[["string","cid"],["string","batchId"],["Number","offset"],["Number","size"]]],["void","sendMailMessage",[["MailMsgSendReqModel","sendReq"],["string","batchId"]]],["string","getMailMessageReceiverMail",[["Number","messageId"]]],["AgentSettingsModelList","listAgentConfig",[["string","domain"],["Number","orgId"]]],["AgentSettingsModelList","listAgentConfigV2",[["string","domain"],["Number","orgId"],["Number","defaultDomainType"]]],["void","updateAgentConfig",[["string","domain"],["AgentSettingsModel","model"]]],["void","updateOrgAgentConfig",[["string","domain"],["Number","orgId"],["AgentSettingsModel","model"]]],["void","bind",[["string","token"],["string","agentEmail"],["AgentIdentityModel","identity"],["AgentSettingsModel","settings"],["string","checkCode"]]],["void","call4Aid",[["Number","orgId"]]],["CmailUserStatusModel","cmailStatus",[]],["ReceiverListModel","getReceivers",[["GetReceiversReqModel","req"]]],[["Array","OrgModel"],"getUserIsAdminOrgs",[["Number","roleType"]]],["AliyunOauthModel","getAliyunToken",[["Number","oid"]]],["DomainBuyStatusModel","queryDomainBuyStatus",[["Number","oid"]]],["void","bindEmail",[["string","newEmail"],["string","token"]]],["boolean","canUnbindEmail",[]],["boolean","unbindEmailV2",[]],["void","unbindEmail",[]],["LoginTicketModel","getMailTicket",[["string","dingTalkId"]]],["UserProfileModelList","getUserProfileByEmails",[[["Array","string"],"emails"]]],["boolean","isSubscribeEmail",[]],[["Array","DingMailAccountModel"],"getOrgMails",[]]],n={};return t.forEach(function(t){var o=t[1];n[o]=function(){var t,n=Array.prototype.slice.apply(arguments,[]);return n.length>0?(t=n[n.length-1],"function"!=typeof t?t=function(){}:n.pop()):(n=[],t=function(){}),e.sendMsg("/r/Adaptor/"+i+"/"+o,{},n,t)}}),n}]),module.exports=moduleName;

},{}],682:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.CSpace";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("CSpace",["mainWS",function(e){var a="CSpace",t=[["CSpaceResultModel","listDentry",[["CSpaceDentryQueryParam","param"]]],["CSpaceResultModel","listFiles",[["CSpaceFileQueryParam","param"]]],["CSpaceResultModel","listSpace",[["CSpaceSpaceQueryParam","param"]]],["CSpaceResultModel","addDentry",[["CSpaceAddDentryParam","param"]]],["CSpaceResultModel","renameDentry",[["CSpaceRenameDentryParam","param"]]],["CSpaceResultModel","deleteDentry",[["CSpaceDeleteDentryParam","param"]]],["CSpaceResultModel","transferDentry",[["CSpaceTransferDentryParam","param"]]],["CSpaceResultModel","infoDentry",[["CSpaceInfoDentryParam","param"]]],["CSpaceResultModel","search",[["CSpaceSearchParam","param"]]],["CSpaceResultModel","searchByTypes",[["CSpaceSearchByTypesParam","param"]]],["string","preview",[["CSpacePreviewParam","param"]]],["CSpaceAclResultModel","downloadAuth",[["byte[]","aclContent"]]],["CSpaceAclResultModel","uploadAuth",[["string","mediaId"],["byte[]","aclContent"]]],["CSpacePackageDownloadResultModel","packageInfo",[["string","packageId"]]],["CSpaceResultModel","infoDeletedDentry",[["CSpaceInfoDentryParam","param"]]],["CSpaceResultModel","getTempSpace",[]],["CSpaceResultModel","listIndustryOperationRelationByUid",[]],["CSpaceResultModel","updateSpaceExtensionById",[["Long","id"],[["Object","String","String"],"extension"]]],["string","getToken",[]],["CSpaceDentryAuditSimpleInfoResultModel","listUidsByFileIdAndAccessType",[["Number","dentryId"],["Number","spaceId"],[["Array","Integer"],"accessType"]]],["Number","getConversationSpace",[["string","convId"],["Number","type"]]],["CSpaceRecentFileResultModel","listRecentFile",[]],["CSpaceResultModel","getDingSpace",[["string","dingId"]]]],r={};return t.forEach(function(t){var n=t[1];r[n]=function(){var t,r=Array.prototype.slice.apply(arguments,[]);return r.length>0?(t=r[r.length-1],"function"!=typeof t?t=function(){}:r.pop()):(r=[],t=function(){}),e.sendMsg("/r/Adaptor/"+a+"/"+n,{},r,t)}}),r}]),module.exports=moduleName;

},{}],683:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.CallAdminI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("CallAdminI",["mainWS",function(e){var l="CallAdminI",o=[["ConfigRspModel","getConfig",[["ConfigReqModel","reqModel"]]],["AdRspModel","getCallAd",[["AdReqModel","reqModel"]]],["ActivitySwitchRspModel","isActivitySwitchOn",[["ActivitySwitchReqModel","reqModel"]]],["ActivityRspModel","activityLottery",[["ActivityReqModel","reqModel"]]],["ResultModel","putCallFeedback",[["CallFeedbackModel","feedbackModel"]]],["CallFeedbackInfoModel","getCallFeedbackInfo",[]],["ShowPageRspModel","getShowPage",[["ShowPageReqModel","spReqModel"]]],["RightsVerModel","getRightsVerDetail",[]],["BizCallInfoModel","getBizCallInfo",[["BizCallReqModel","reqModel"]]]],t={};return o.forEach(function(o){var d=o[1];t[d]=function(){var o,t=Array.prototype.slice.apply(arguments,[]);return t.length>0?(o=t[t.length-1],"function"!=typeof o?o=function(){}:t.pop()):(t=[],o=function(){}),e.sendMsg("/r/Adaptor/"+l+"/"+d,{},t,o)}}),t}]),module.exports=moduleName;

},{}],684:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.CommonI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("CommonI",["mainWS",function(e){var r="CommonI",n=[["Number","getSystemTime",[]],[["Array","string"],"getWhiteDomains",[]],["string","bridge",[["string","url"]]],["SecurityCheckUrlModel","checkUrl",[["string","domain"]]],["UserOverageModel","getOverage",[]],["void","sendUrl",[["String","url"]]]],o={};return n.forEach(function(n){var t=n[1];o[t]=function(){var n,o=Array.prototype.slice.apply(arguments,[]);return o.length>0?(n=o[o.length-1],"function"!=typeof n?n=function(){}:o.pop()):(o=[],n=function(){}),e.sendMsg("/r/Adaptor/"+r+"/"+t,{},o,n)}}),o}]),module.exports=moduleName;

},{}],685:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.ConferenceI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("ConferenceI",["mainWS",function(e){var l="ConferenceI",o=[["ConfCreateModel","createConference",[["ConferenceModel","conference"]]],["ConfOperationModel","addMember",[["ConferenceModel","conference"]]],["ConfOperationModel","enterConference",[["ConferenceModel","conference"]]],["ConfStatusModel","pullConferenceStatus",[["Number","conferenceId"]]],["ConfOperationModel","kickOutMember",[["ConferenceModel","conference"]]],["ConfOperationModel","leaveConference",[["ConferenceModel","conference"]]],["ConfOperationModel","terminateConference",[["ConferenceModel","conference"]]],["ConfPullListModel","pullMembers",[["ConferenceModel","conference"]]],["ConferenceModel","pullConference",[["ConferenceModel","conference"]]],["ConfOperationModel","muteMember",[["ConferenceModel","conference"]]],["ConfOperationModel","unMuteMember",[["ConferenceModel","conference"]]],["ConfOperationModel","muteAll",[["ConferenceModel","conference"]]],["ConfOperationModel","unMuteAll",[["ConferenceModel","conference"]]],["TeleChatResultModel","createCall",[["TeleChatModel","chatModel"]]],["TeleChatResultModel","cancelCall",[["string","callerUid"],["string","callerNumber"]]],["void","putTeleChatScore",[["ScoreModel","scoreModel"]]],["CallRecordHeadResultModel","pullCallRecordHeadModelList",[["CallRecordHeadRequestModel","requestModel"]]],["CallRecordDetailResultModel","pullCallRecordDetailModelList",[["CallRecordDetailRequestModel","requestModel"]]],["TeleChatResultModel","deleteCallRecordList",[["CallRecordHeadDeleteModel","requestModel"]]],["ResultModel","putFavoriteUserList",[["FavorUidListModel","favorModel"]]],["FavorUidListResultModel","getFavoriteUserList",[]],["UserBillModel","getUserBill",[]],["ConfigRspModel","getConfig",[["ConfigReqModel","reqModel"]]],["ConferenceModel","changeConfHostess",[["Number","conferenceId"]]],["void","sendInviteSms",[["Number","calleeUid"]]],["void","sendSms",[["SmsModel","smsModel"]]],["CallTypeRspModel","getSupportedCallType",[["CallTypeReqModel","reqModel"]]],["BizCallResultModel","createBizCall",[["BizCallCreateModel","createModel"]]],["BizCallResultModel","cancelBizCall",[["BizCallCancelModel","cancelModel"]]],["BizCallNumModel","getPreferBizCallNum",[]],["BizCallNumModel","getAllBizCallNum",[]],["ResultModel","putSysCallRecord",[["CallRecordModel","recordModel"]]]],n={};return o.forEach(function(o){var r=o[1];n[r]=function(){var o,n=Array.prototype.slice.apply(arguments,[]);return n.length>0?(o=n[n.length-1],"function"!=typeof o?o=function(){}:n.pop()):(n=[],o=function(){}),e.sendMsg("/r/Adaptor/"+l+"/"+r,{},n,o)}}),n}]),module.exports=moduleName;

},{}],686:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.ConfmanagerI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("ConfmanagerI",["mainWS",function(o){var e="ConfmanagerI",n=[["VidyoConfCreateResultModel","createConference",[["VidyoConfCreateModel","createModel"]]],["VidyoConfListResultModel","pullConferenceList",[["VidyoConfPullListModel","pullModel"]]],["VidyoConfMemberListResultModel","pullMembers",[["VidyoConfPullMembersModel","pullmembersModel"]]],["VidyoConfOperationResultModel","statusIndication",[["VidyoConfStatusModel","statusModel"]]],["VidyoConfOperationResultModel","controlConference",[["VidyoConfControlModel","controlModel"]]],["VidyoHistoryConfListResultModel","queryConferenceList",[["VidyoConfQueryModel","queryModel"]]],["VidyoConfOperationResultModel","uploadLog",[["VidyoConfLogModel","logModel"]]]],l={};return n.forEach(function(n){var t=n[1];l[t]=function(){var n,l=Array.prototype.slice.apply(arguments,[]);return l.length>0?(n=l[l.length-1],"function"!=typeof n?n=function(){}:l.pop()):(l=[],n=function(){}),o.sendMsg("/r/Adaptor/"+e+"/"+t,{},l,n)}}),l}]),module.exports=moduleName;

},{}],687:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.ContactI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("ContactI",["mainWS",function(e){var r="ContactI",o=[["OrganizationModel","getOrgInfo",[["Number","oid"]]],["OrgDetailModel","getOrgDetail",[["Number","oid"]]],["void","updateOrg",[["OrganizationModel","model"]]],["UserProfileExtensionModel","removeOrg",[["Number","oid"]]],["Number","getOrgUserCount",[["Number","oid"],["boolean","onlyActive"]]],["Boolean","getOrgHideMobileSwitch",[["Number","oid"]]],["string","getOrgEmpMobile",[["Number","oid"],["Number","uid"],["Number","source"]]],["void","mobileVisibleModeSwitch",[["Number","orgId"],["Number","type"]]],["Number","getMobileVisibleModeSwitch",[["Number","orgId"]]],["void","setOrgHideMobileSwitch",[["Number","oid"],["boolean","isHide"]]],["OrgDeptExtensionModel","getDeptExtensionInfo",[["Number","oid"],["Number","deptId"]]],["OrgDeptModel","addDept",[["Number","oid"],["OrgDeptExtensionModel","model"]]],["OrgDeptModel","updateDept",[["Number","oid"],["OrgDeptExtensionModel","model"]]],["void","removeDept",[["Number","oid"],["Number","deptId"]]],["void","updateDeptGroupAutoAddUserSwitch",[["Number","orgId"],["Number","deptId"],["boolean","turnOn"]]],[["Array","OrgEmployeeModel"],"getOrgEmpInfoByUids",[["Number","oid"],[["Array","Number"],"uids"]]],[["Array","OrgEmployeeModel"],"getOrgEmpInfoByStaffIds",[["Number","oid"],[["Array","string"],"staffids"]]],["OrgEmployeeModel","getOrgEmployeeProfile",[["Number","uid"],["Number","oid"]]],["UserEmployeeInfoModel","getUserEmployeeInfo",[["Number","uid"],["Number","oid"],["boolean","attachProfile"]]],[["Array","UserEmployeeInfoModel"],"getUserEmployeeInfos",[[["Array","Number"],"uids"],["Number","oid"],["boolean","attachProfile"]]],["OrgEmployeeModel","getOrgEmployeeProfileByMobile",[["string","mobile"],["Number","oid"]]],["OrgEmployeeExtensionModel","getOrgEmployeeExtensionProfile",[["Number","uid"],["Number","oid"]]],["OrgEmployeeExtensionModel","addEmployee",[["OrgEmployeeExtensionModel","model"]]],["OrgEmployeeExtensionModel","updateEmployee",[["OrgEmployeeExtensionModel","model"]]],["void","removeEmployee",[["Number","uid"],["Number","oid"]]],["void","setEmpHideMobileSwitch",[["Number","uid"],["Number","oid"],["boolean","open"]]],["void","setEmpOrgLevel",[["Number","uid"],["Number","oid"],["Number","orgLevel"]]],["OrgNodeItemModelList","getOrgRelations",[["string","keyWord"],["Number","keyType"],["Number","deptType"],["Number","oid"],["Number","offset"],["Number","size"]]],["OrgNodeItemModelList","getOrgNodeList",[["string","keyWord"],["Number","keyType"],["Number","oid"],["Number","offset"],["Number","size"],["FilterModel","model"]]],["OrgNodeItemModelList","getOrgEmpRelations",[["Number","deptId"],["Number","oid"],["Number","offset"],["Number","size"]]],["OrgNodeItemModelList","getOrgDeptRelations",[["Number","deptId"],["Number","oid"],["Number","offset"],["Number","size"]]],["OrgEmployeeModelList","getInactiveEmpsInDept",[["Number","orgId"],["Number","deptId"],["Number","offset"],["Number","size"]]],["OrgInviteModel","getActiveInviteInfo",[["Number","orgId"]]],["OrgNodeItemModelList","search",[["string","keyword"],["Number","oid"],["Number","offset"],["Number","size"]]],["OrgNodeItemModelList","searchList",[["string","keyword"],["Number","oid"],["Number","offset"],["Number","size"],["FilterModel","model"]]],[["Array","OrgNodeItemModelList"],"multiSearch",[["string","keyWord"],["Number","offset"],["Number","size"]]],["OrgNodeItemModelList","multiSearchV2",[["string","keyword"],["Number","offset"],["Number","size"]]],["OrgNodeItemModelList","multiSearchV3",[["string","keyword"],["Number","offset"],["Number","size"],["FilterModel","model"]]],["UserProfileExtensionModel","createOrganization",[["string","name"],[["Array","OrgEmployeeModel"],"emps"]]],["UserProfileExtensionModel","manageOrganization",[["Number","orgId"],["string","name"],[["Array","OrgMemberModel"],"members"]]],["OrgManageModel","manageOrganizationV2",[["Number","orgId"],["string","name"],[["Array","OrgMemberModel"],"members"]]],["OrgManageModel","createOrg",[["OrganizationModel","org"],[["Array","OrgMemberModel"],"members"]]],["Number","createOrgV2",[["Number","templateId"],["string","name"],[["Array","OrgDeptNodeModel"],"nodes"]]],["Number","createOrgV3",[["Number","templateId"],["OrganizationModel","org"],[["Array","OrgDeptNodeModel"],"nodes"]]],["Number","createOrgH5",[["OrganizationModel","org"],["String","pwd"],["String","name"]]],["Number","createOrgH5V2",[["OrganizationModel","org"],["String","pwd"],["String","name"],["String","lwFrom"]]],["TemplateModel","getTemplateInfo",[["Number","templateId"]]],[["Array","IndustryCategoryModel"],"getIndustry",[]],["void","leaveOrganization",[["Number","orgId"]]],["UserProfileExtensionModel","leaveOrganizationV2",[["OrgLeaveModel","model"]]],["void","activeOrgCertification",[["Number","oid"]]],["OrgInviteModel","getOrgInviteInfo",[["Number","oid"]]],["OrgApplyModelList","getOrgApplyList",[["Number","cursor"],["Number","size"]]],["void","acceptOrgApply",[["Number","id"],["Number","deptId"],["string","name"]]],["void","rejectOrgApply",[["Number","id"],["Number","status"]]],["void","removeOrgApply",[["Number","id"]]],["OrgInviteModel","setOrgInviteSwitch",[["Number","oid"],["boolean","open"]]],["Number","generateCSpaceIdAndConsistent",[["Number","oid"],["string","cid"],["string","cName"]]],[["Array","OrgConversationModel"],"getOrgConversations",[["Number","oid"],["Number","start"],["Number","size"]]],[["Array","OrgConversationModel"],"getLatestOrgConversations",[[["Array","Number"],"orgIds"]]],["OrgManageInfoModel","getOrgManageInfo",[["Number","oid"]]],["OrgManageInfoModel","getOrgManageInfoV2",[["Number","oid"],["Number","size"]]],[["Array","OrgDeptModel"],"getSelfDepts",[["Number","oid"]]],[["Array","OrgDeptModel"],"getDeptInfos",[["Number","oid"],[["Array","Number"],"deptIds"]]],["OrgEmployeeModelList","getBossEmployees",[["Number","oid"],["Number","offset"],["Number","size"]]],["OrgEmployeeModel","addBossEmployee",[["Number","oid"],["Number","uid"]]],["OrgEmployeeModel","removeBossEmployee",[["Number","oid"],["Number","uid"]]],["void","setOrgSettingSwitch",[["Number","oid"],["boolean","isOpen"],["Number","markBit"]]],["boolean","getOrgSettingSwitch",[["Number","oid"],["Number","markBit"]]],["boolean","hasExperienceTeam",[]],["ExperienceTeamProgress","getExperienceTeamProgress",[["Number","oid"]]],[["Array","UserEmployeeInfoModel"],"getUsersByDeptIds",[[["Array","OrgDeptModel"],"depts"],[["Array","Number"],"uids"],[["Array","OrgDeptModel"],"excludeDepts"],[["Array","Number"],"excludeUids"],["Number","limit"],["FilterModel","model"]]],[["Array","OrgDeptModel"],"getDeptInfoList",[[["Array","OrgDeptModel"],"model"]]],["string","getOrgDomain",[["Number","orgId"]]],["void","removeOrgEmail",[["Number","orgId"],["string","staffId"]]],["void","removeEmpDeptMap",[["Number","orgId"],["Number","deptId"],[["Array","string"],"staffIds"]]],["void","updateEmpDeptMap",[["Number","orgId"],[["Array","string"],"staffIds"],["Number","preDeptId"],[["Array","Number"],"postDeptIds"]]]],t={};return o.forEach(function(o){var d=o[1];t[d]=function(){var o,t=Array.prototype.slice.apply(arguments,[]);return t.length>0?(o=t[t.length-1],"function"!=typeof o?o=function(){}:t.pop()):(t=[],o=function(){}),e.sendMsg("/r/Adaptor/"+r+"/"+d,{},t,o)}}),t}]),module.exports=moduleName;

},{}],688:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.ConversationI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("ConversationI",["mainWS",function(e){var o="ConversationI",r=[["ConversationModelList","getConversations",[["Number","cursor"],["Number","size"]]],["ConversationModelList","getMTMConversations",[["Number","cursor"],["Number","size"]]],["void","setNotification",[["boolean","on"]]],["ConversationModel","getConversation",[["String","conversationId"]]],["ConversationModel","createConversation",[[["Array","Number"],"receiverIds"]]],["void","removeConversation",[["string","conversationId"]]],["void","clearConversation",[["String","conversationId"]]],["UserProfileModelList","getConversationMembers",[["String","conversationId"],["Number","cursor"],["Number","size"]]],["ConversationModel","addMembers",[["String","cid"],[["Array","Number"],"userIds"]]],["ConversationModel","removeMembers",[["String","cid"],[["Array","Number"],"userIds"]]],["ConversationModel","updateTitle",[["String","cid"],["String","newTitle"]]],["void","quitConversation",[["String","cid"]]],["ConversationModel","joinConversation",[["String","cid"],["String","code"]]],["string","refreshScode",[["String","cid"]]],["ConversationDetailModel","getConversationExtension",[["String","cid"],["Number","memberSize"]]],[["Array","ConversationModel"],"searchConversation",[["string","keyword"],["Number","offset"],["Number","size"]]],["String","getFilesHelperConversationId",[]]],n={};return r.forEach(function(r){var i=r[1];n[i]=function(){var r,n=Array.prototype.slice.apply(arguments,[]);return n.length>0?(r=n[n.length-1],"function"!=typeof r?r=function(){}:n.pop()):(n=[],r=function(){}),e.sendMsg("/r/Adaptor/"+o+"/"+i,{},n,r)}}),n}]),module.exports=moduleName;

},{}],689:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.CrmI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("CrmI",["mainWS",function(r){var t="CrmI",e=[["CrmCustomerModelList","getCrmCustomerList",[["Number","orgId"],["string","staffId"],["Number","cursor"],["Number","size"]]],["CrmCustomerModelList","getCrmCustomerListV2",[["Number","orgId"],["string","staffId"],["Number","type"],["Number","cursor"],["Number","size"]]],["CrmContactModelList","getCrmContactList",[["Number","orgId"],["string","staffId"],["Number","cursor"],["Number","size"]]],["void","addCrmCustomer",[["Number","orgId"],["CrmCustomerDetailModel","customer"]]],["void","updateCrmCustomer",[["Number","orgId"],["CrmCustomerModel","customer"]]],["void","addCrmContact",[["Number","orgId"],["CrmContactModel","contact"]]],["void","updateCrmContact",[["Number","orgId"],["CrmContactModel","contact"]]],["void","removeCrmContact",[["Number","orgId"],["string","customerId"],["string","contactId"]]],["CrmManageInfoModel","getManagerInfo",[["Number","orgId"]]],["CrmCustomerDetailModel","getCustomerFormData",[["Number","orgId"],["string","customerId"],[["Object","string","string"],"data"]]],["CrmContactModel","getContactValueData",[["Number","orgId"],[["Object","string","string"],"data"]]],["CrmContactModel","getContactFormData",[["Number","orgId"],["string","customerId"],["string","contactId"],["string","valueData"]]],["CrmContactModel","parseContactData",[["Number","orgId"],["string","valueData"]]],["CrmCustomerModelList","searchCustomer",[["Number","orgId"],["string","staffId"],[["Array","string"],"keywords"],["Number","offset"],["Number","size"]]],["CrmCustomerModelList","searchCustomerV2",[["Number","orgId"],["string","staffId"],[["Array","string"],"keywords"],["Number","type"],["Number","offset"],["Number","size"]]],[["Array","CrmTagModel"],"getTagsList",[["Number","orgId"]]]],o={};return e.forEach(function(e){var m=e[1];o[m]=function(){var e,o=Array.prototype.slice.apply(arguments,[]);return o.length>0?(e=o[o.length-1],"function"!=typeof e?e=function(){}:o.pop()):(o=[],e=function(){}),r.sendMsg("/r/Adaptor/"+t+"/"+m,{},o,e)}}),o}]),module.exports=moduleName;

},{}],690:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.CsConfigI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("CsConfigI",["mainWS",function(o){var r="CsConfigI",e=[["void","log",[["Number","type"],["Number","category"]]],[["Array","string"],"getEncryptSetting",[[["Array","string"],"keyList"]]],[["Array","CsConfigModel"],"getConf",[[["Array","CsTopicModel"],"topics"]]]],n={};return e.forEach(function(e){var t=e[1];n[t]=function(){var e,n=Array.prototype.slice.apply(arguments,[]);return n.length>0?(e=n[n.length-1],"function"!=typeof e?e=function(){}:n.pop()):(n=[],e=function(){}),o.sendMsg("/r/Adaptor/"+r+"/"+t,{},n,e)}}),n}]),module.exports=moduleName;

},{}],691:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.DpOrg";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("DpOrg",["mainWS",function(e){var r="DpOrg",o=[["DpOrgConversationPageBaseResultModel","getOrgConversations",[["Number","orgId"],["Number","start"],["Number","size"],["Number","byOrder"]]]],n={};return o.forEach(function(o){var t=o[1];n[t]=function(){var o,n=Array.prototype.slice.apply(arguments,[]);return n.length>0?(o=n[n.length-1],"function"!=typeof o?o=function(){}:n.pop()):(n=[],o=function(){}),e.sendMsg("/r/Adaptor/"+r+"/"+t,{},n,o)}}),n}]),module.exports=moduleName;

},{}],692:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.DpRecentOperation";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("DpRecentOperation",["mainWS",function(e){var t="DpRecentOperation",n=[["DpListResultRecentCategorizedOperationModel","listRecentOperation",[["string","offSet"],["Number","length"],["Number","direction"]]]],o={};return n.forEach(function(n){var r=n[1];o[r]=function(){var n,o=Array.prototype.slice.apply(arguments,[]);return o.length>0?(n=o[o.length-1],"function"!=typeof n?n=function(){}:o.pop()):(o=[],n=function(){}),e.sendMsg("/r/Adaptor/"+t+"/"+r,{},o,n)}}),o}]),module.exports=moduleName;

},{}],693:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.EmotionPackage";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("EmotionPackage",["mainWS",function(a){var e="EmotionPackage",o=[["EmotionPackageList","getEmotionPackageList",[["Number","version"]]],["EmotionPackageDetailModel","getEmotionPackageDetail",[["Number","packageId"]]],["void","purchaseEmotionPackage",[["Number","packageId"]]],[["Array","EmotionPackageModel"],"getEmotionPackagePurchaseHistory",[]]],t={};return o.forEach(function(o){var n=o[1];t[n]=function(){var o,t=Array.prototype.slice.apply(arguments,[]);return t.length>0?(o=t[t.length-1],"function"!=typeof o?o=function(){}:t.pop()):(t=[],o=function(){}),a.sendMsg("/r/Adaptor/"+e+"/"+n,{},t,o)}}),t}]),module.exports=moduleName;

},{}],694:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.EncryptionI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("EncryptionI",["mainWS",function(n){var o="EncryptionI",r=[["EncryptionModel","getKeyByCorpId",[["string","corpId"]]]],t={};return r.forEach(function(r){var e=r[1];t[e]=function(){var r,t=Array.prototype.slice.apply(arguments,[]);return t.length>0?(r=t[t.length-1],"function"!=typeof r?r=function(){}:t.pop()):(t=[],r=function(){}),n.sendMsg("/r/Adaptor/"+o+"/"+e,{},t,r)}}),t}]),module.exports=moduleName;

},{}],695:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.ExternalContactI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("ExternalContactI",["mainWS",function(e){var o="ExternalContactI",t=[["OrgNodeItemModelList","listContacts",[["Number","orgId"],["ContactQueryModel","query"]]],[["Array","Number"],"listVisibleScopes",[["Number","orgId"]]],["OrgNodeItemModelList","multiSearchContacts",[["string","keyWord"],["Number","offset"],["Number","size"]]],["OrgEmployeeExtensionModel","addContact",[["OrgEmployeeExtensionModel","contact"]]],["void","addContacts",[["Number","orgId"],[["Array","OrgEmployeeExtensionModel"],"contacts"]]],["OrgEmployeeExtensionModel","updateContact",[["OrgEmployeeExtensionModel","contact"]]],["void","removeContact",[["Number","orgId"],["string","staffId"]]],["OrgEmployeeExtensionModel","getContact",[["Number","orgId"],["string","staffId"]]],[["Array","OrgEmployeeExtensionModel"],"getContactsByUid",[["Number","uid"]]],["ContactFieldsModel","listAttrFields",[["Number","orgId"]]],["void","updateAttrFields",[["Number","orgId"],["ContactFieldsModel","fields"]]],["OrgNodeItemModelList","getOrgNodeList",[["string","keyWord"],["Number","keyType"],["Number","oid"],["Number","offset"],["Number","size"],["FilterModel","model"]]],["OrgEmployeeExtensionModel","getOrgEmployeeExtensionProfileByUid",[["Number","uid"],["Number","oid"]]],["OrgEmployeeExtensionModel","getOrgEmployeeExtensionProfileByStaffId",[["string","staffId"],["Number","oid"]]]],r={};return t.forEach(function(t){var n=t[1];r[n]=function(){var t,r=Array.prototype.slice.apply(arguments,[]);return r.length>0?(t=r[r.length-1],"function"!=typeof t?t=function(){}:r.pop()):(r=[],t=function(){}),e.sendMsg("/r/Adaptor/"+o+"/"+n,{},r,t)}}),r}]),module.exports=moduleName;

},{}],696:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.FriendI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("FriendI",["mainWS",function(e){var r="FriendI",i=[["void","sendFriendRequest",[["FriendRequestModel","request"]]],["void","acceptFriendRequest",[["Number","uid"]]],["FriendRequestModel","getRelation",[["Number","uid"]]],["FriendModelList","getFriendList",[["Number","cursor"],["Number","size"]]],["FriendRequestModelList","getFriendRequestList",[["Number","cursor"],["Number","size"]]],["FriendRequestModelList","getFriendRequestListV2",[["Number","cursor"],["Number","size"]]],["void","removeFriend",[["Number","uid"]]],["UserProfileModelList","searchFriend",[["string","keyword"],["Number","offset"],["Number","size"]]],["void","removeFriendRequest",[["Long","destUid"]]],["void","updateShowMobile",[["Number","destUid"],["boolean","isShowMobile"]]],["FriendModelList","getShowMobileFriendList",[["Number","cursor"],["Number","size"]]]],d={};return i.forEach(function(i){var o=i[1];d[o]=function(){var i,d=Array.prototype.slice.apply(arguments,[]);return d.length>0?(i=d[d.length-1],"function"!=typeof i?i=function(){}:d.pop()):(d=[],i=function(){}),e.sendMsg("/r/Adaptor/"+r+"/"+o,{},d,i)}}),d}]),module.exports=moduleName;

},{}],697:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.GroupAnnounceI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("GroupAnnounceI",["mainWS",function(n){var o="GroupAnnounceI",e=[["GroupAnnounceSendResult","sendOrUpdateGroupAnnounce",[["GroupAnnounceSendModel","groupAnnounceSendModel"]]],["GroupAnnounceModel","getGroupAnnounce",[["String","convId"]]],["void","deleteGroupAnnounce",[["String","convId"]]],["GroupAnnounceSendResult","sendGroupAnnounce",[["GroupAnnounceSendModel","groupAnnounceSendModel"]]],[["Array","GroupAnnounceModel"],"getGroupAnnounceList",[["String","cid"]]],["void","editGroupAnnounce",[["Number","gaId"],["GroupAnnounceSendModel","groupAnnounceSendModel"]]],["void","deleteGroupAnnounceV2",[["String","cid"],["Number","gaId"]]]],u={};return e.forEach(function(e){var r=e[1];u[r]=function(){var e,u=Array.prototype.slice.apply(arguments,[]);return u.length>0?(e=u[u.length-1],"function"!=typeof e?e=function(){}:u.pop()):(u=[],e=function(){}),n.sendMsg("/r/Adaptor/"+o+"/"+r,{},u,e)}}),u}]),module.exports=moduleName;

},{}],698:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.IDLDing";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("IDLDing",["mainWS",function(e){var i="IDLDing",r=[["DingResultModel","dingMessage",[["Number","messageId"],["Number","callTime"],[["Array","Number"],"uids"]]],["DingUnreadModel","getUnreadUsers",[["Number","msgId"]]],["UnconfirmedMemberListModel","getDingUnconfirmUsers",[["Number","msgId"]]],["ConfirmedMemberListModel","getDingConfirmUsers",[["Number","msgId"]]],["SendResultModel","dingWithTextMessage",[["Number","callTime"],[["Array","Number"],"uids"],["string","cid"],["string","uuid"],["string","content"]]],["SendResultModel","dingWithImageMessage",[["Number","callTime"],[["Array","Number"],"uids"],["string","cid"],["string","uuid"],["string","picUrl"]]],["SendResultModel","dingWithAudioMessage",[["Number","callTime"],[["Array","Number"],"uids"],["string","cid"],["string","uuid"],["AudioContentModel","audio"]]],["boolean","cancelCallRemind",[["Number","msgId"]]],["void","cancelDingMessage",[["Number","msgId"]]],["MessageModelList","listDingMessage",[["boolean","forward"],["Number","cursor"],["Number","size"]]],["MessageModelList","listDingMessageByTime",[["Number","startTime"],["Number","endTime"]]],["DingSumModelList","listDingSum",[["Number","startTime"],["Number","endTime"]]],["void","confirmDingMessage",[["Number","msgId"]]],["MessageModelList","getMessages",[[["Array","string"],"mids"]]],["CheckCallingModel","checkCalling",[]],["DingCreationResultModel","dingWithText",[[["Array","Number"],"uids"],["string","uuid"],["Number","urgentLevel"],["Number","remindTime"],["string","content"]]],["DingCreationResultModel","dingWithImage",[[["Array","Number"],"uids"],["string","uuid"],["Number","urgentLevel"],["Number","remindTime"],["string","picUrl"]]],["DingCreationResultModel","dingWithAudio",[[["Array","Number"],"uids"],["string","uuid"],["Number","urgentLevel"],["Number","remindTime"],["AudioContentModel","audio"]]],["DingCreationResultModel","ding",[[["Array","Number"],"uids"],["Number","urgentLevel"],["Number","remindTime"],["Number","entityType"],["Number","enityId"]]],["DingCreationResultModel","dingV2",[[["Array","Number"],"uids"],["Number","urgentLevel"],["Number","remindTime"],["Number","entityType"],["Number","enityId"],["string","uuid"]]],[["Array","DingReceiverModel"],"listReceivedDing",[["boolean","forward"],["Number","cursor"],["Number","size"],["Number","confirmStatus"]]],[["Array","DingSenderModel"],"listSentDing",[["boolean","forward"],["Number","cursor"],["Number","size"]]],["void","dingRemind",[["Number","dingId"],["boolean","turnOn"]]],["DingReceiverListModel","listDingReceiverList",[["Number","dingId"]]],["void","confirmDing",[["Number","dingId"]]],["DingListModel","listDings",[[["Array","Number"],"dingIds"]]],["DingCommentListModel","listDingComment",[["Number","dingId"],["boolean","latest"],["Number","cursor"],["Number","size"]]],["void","removeDingComment",[["Number","dingId"],["Number","dingCommentId"]]],["SendCommentModel","sendDingComment",[["DingCommentModel","dingCommentModel"]]],["void","changeDingStatus",[["Number","dingId"],["Number","status"]]],[["Array","DingIntegrateModel"],"listAllDing",[["boolean","forward"],["Number","cursor"],["Number","size"]]],[["Array","DingIntegrateModel"],"listDeleteDing",[["boolean","forward"],["Number","cursor"],["Number","size"]]],["DingCreationResultModel","textDingWithAttachments",[[["Array","Number"],"uids"],["String","uuid"],["Number","urgentLevel"],["Number","remindTime"],["String","content"],[["Array","DingAttachmentModel"],"attachments"],[["Object","String","String"],"extension"]]],["DingCreationResultModel","audioDingWithAttachments",[[["Array","Number"],"uids"],["String","uuid"],["Number","urgentLevel"],["Number","remindTime"],["AudioContentModel","audio"],[["Array","DingAttachmentModel"],"attachments"],[["Object","String","String"],"extension"]]],["DingSendTimesModel","canSendDingToday",[]],["void","clearDeletedDingList",[]],["DingMemberListModel","getDingMemberByDingId",[["Number","dingId"]]],[["Array","DingModel"],"pullDingList",[["boolean","forward"],["Number","cursor"],["Number","size"],["Number","dingListType"]]],["DingCreationResultModel","sendDingByTemplateId",[["string","templateId"],["string","uuid"],[["Array","Number"],"recvUids"]]],["void","handleDing",[["Number","dingId"],["Number","handleStatus"]]],["DingCreationResultModel","sendDing",[["DingSendModel","dingSendModel"]]],["DingReceiverListV2Model","listDingReceiverListV2",[["Number","dingId"]]],["void","sendDingAgain",[["Number","dingId"],[["Array","Number"],"uids"],["Number","urgentLevel"]]],["String","getConfirmStatusInfo",[]],[["Array","SimplifiedUserModel"],"getRecommendedDingUsers",[]],["OneKeyDingModel","getOneKeyDingInfo",[]],["DingMsgGuideModel","getGuideInfo",[]],["void","commentNotify",[["Number","dingId"],["boolean","turnOn"]]],[["Array","Number"],"getDingRelatedUids",[["Number","dingId"]]],["void","changeDingStatusInBatch",[[["Array","Number"],"dingIds"],["Number","action"],["Number","dingListType"]]],["void","changeDingFinishStatus",[["Number","dingId"],["boolean","finishStatus"]]],[["Array","DingModel"],"pullDingListOrderBySendAt",[["boolean","forward"],["Number","cursor"],["Number","size"],["Number","dingListType"]]],["boolean","focusDing",[["Number","dingId"],["boolean","isFocus"]]],["DingCreationResultModel","addReceiversForDing",[["Number","dingId"],[["Array","Number"],"receiverUids"],["boolean","ignorePrevent"]]],["void","confirmAllDing",[]],[["Array","Number"],"getDingReceiverUids",[["Number","dingId"]]]],n={};return r.forEach(function(r){var d=r[1];n[d]=function(){var r,n=Array.prototype.slice.apply(arguments,[]);return n.length>0?(r=n[n.length-1],"function"!=typeof r?r=function(){}:n.pop()):(n=[],r=function(){}),e.sendMsg("/r/Adaptor/"+i+"/"+d,{},n,r)}}),n}]),module.exports=moduleName;

},{}],699:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.IDLOnebox";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("IDLOnebox",["mainWS",function(e){var r="IDLOnebox",o=[["OneboxModel","listNewest",[["Number","openId"],["Number","count"]]],["void","readBusinessItem",[["Number","openId"],["Number","orgId"],["Number","id"]]],[["Array","BusinessItemModel"],"getBusinessItems",[["Number","openId"],["Number","orgId"],["Number","cursor"],["Number","count"]]],[["Array","WorkItemModel"],"getWorkItems",[["Number","openId"],["Number","orgId"],["Number","cursor"],["Number","count"]]],[["Array","WorkItemModel"],"getWorkItemsBatch",[["Number","openId"],[["Array","Number"],"orgIds"],["Number","cursor"],["Number","count"]]],[["Array","WorkItemModel"],"getAllWorkItems",[["Number","orgId"],["Number","cursor"],["Number","count"]]],["OneboxModel","getOAConvOnebox",[["Number","orgId"],["Number","cursor"],["Number","count"]]],[["Array","ActionModel"],"doAction",[["ActionModel","action"]]],["string","getVisitRecordUrl",[["VisitRecordRequestModel","model"]]]],u={};return o.forEach(function(o){var t=o[1];u[t]=function(){var o,u=Array.prototype.slice.apply(arguments,[]);return u.length>0?(o=u[u.length-1],"function"!=typeof o?o=function(){}:u.pop()):(u=[],o=function(){}),e.sendMsg("/r/Adaptor/"+r+"/"+t,{},u,o)}}),u}]),module.exports=moduleName;

},{}],700:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.IMI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("IMI",["mainWS",function(e){var r="IMI",o=[[["Array","GroupMembersViewModel"],"groupMembersView",[["Number","orgId"],[["Array","Number"],"uids"],["Number","returnFieldBit"]]],["void","sendMessageBySms",[["Number","receiverUid"],["Number","messageid"]]],["void","convertToOrgGroup",[["string","cid"],["Number","oid"]]],["String","createConvByCallRecord",[[["Array","Number"],"uids"]]],["void","addGroupMemberByQrcode",[["String","cid"],["Long","uid"]]],["void","addGroupMember",[["string","cid"],["Number","uid"]]],["String","createDeptGroup",[["Number","orgId"],["Number","deptId"],["boolean","useDeptName"]]],["void","includeSubDept",[["Number","orgId"],["Number","deptId"],["boolean","includeHide"]]],["void","excludeSubDept",[["Number","orgId"],["Number","deptId"]]],["String","getGoldGroupIntroUrl",[]],["void","recallYunpanMsg",[["Number","msgId"]]],["String","getCidByCustomId",[["Number","customId"]]],["DefaultGroupIconsModel","getDefaultGroupIcons",[["Number","latestVersion"]]],["String","createAllEmpGroup",[["Number","orgId"]]],["void","disbandAllEmpGroup",[["Number","orgId"]]],[["Array","Number"],"getIntersectingOrgIds",[[["Array","Number"],"uids"]]]],d={};return o.forEach(function(o){var u=o[1];d[u]=function(){var o,d=Array.prototype.slice.apply(arguments,[]);return d.length>0?(o=d[d.length-1],"function"!=typeof o?o=function(){}:d.pop()):(d=[],o=function(){}),e.sendMsg("/r/Adaptor/"+r+"/"+u,{},d,o)}}),d}]),module.exports=moduleName;

},{}],701:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.ImgResI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("ImgResI",["mainWS",function(o){var e="ImgResI",t=[["Number","removeCustomEmotions",[[["Array","Number"],"emotionIds"]]],["CustomEmotionPackageModel","getEmotions",[["Number","version"]]],["CustomEmotionAddResultModel","addEmotion",[["string","name"],["string","mediaId"]]],["string","addCustomEmotion",[["string","name"],["string","mediaId"],["string","groupId"],["Number","mediaSize"]]],["void","removeCustomEmotion",[["string","emotionId"]]],[["Array","CustomEmotionModel"],"getCustomEmotions",[["string","groupId"],["Number","offset"],["Number","size"]]],["boolean","isExistCustomEmotion",[["string","mediaId"]]]],m={};return t.forEach(function(t){var n=t[1];m[n]=function(){var t,m=Array.prototype.slice.apply(arguments,[]);return m.length>0?(t=m[m.length-1],"function"!=typeof t?t=function(){}:m.pop()):(m=[],t=function(){}),o.sendMsg("/r/Adaptor/"+e+"/"+n,{},m,t)}}),m}]),module.exports=moduleName;

},{}],702:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.LabelI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("LabelI",["mainWS",function(e){var o="LabelI",r=[[["Array","LabelGroupModel"],"getLabelGroupModels",[["Number","orgId"],["Number","scope"]]],["LabelGroupModel","getLabelGroupModelById",[["Number","orgId"],["Number","id"]]],["void","deleteLabelGroup",[["Number","orgId"],["Number","id"]]],["LabelGroupModel","saveOrUpdateLabelGroup",[["Number","orgId"],["Number","scope"],["LabelGroupModel","labelGroup"]]]],u={};return r.forEach(function(r){var a=r[1];u[a]=function(){var r,u=Array.prototype.slice.apply(arguments,[]);return u.length>0?(r=u[u.length-1],"function"!=typeof r?r=function(){}:u.pop()):(u=[],r=function(){}),e.sendMsg("/r/Adaptor/"+o+"/"+a,{},u,r)}}),u}]),module.exports=moduleName;

},{}],703:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.LogI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("LogI",["mainWS",function(o){var e="LogI",n=[["void","log",[["LogModel","logModel"]]]],r={};return n.forEach(function(n){var t=n[1];r[t]=function(){var n,r=Array.prototype.slice.apply(arguments,[]);return r.length>0?(n=r[r.length-1],"function"!=typeof n?n=function(){}:r.pop()):(r=[],n=function(){}),o.sendMsg("/r/Adaptor/"+e+"/"+t,{},r,n)}}),r}]),module.exports=moduleName;

},{}],704:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.LoginI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("LoginI",["mainWS",function(e){var o="LoginI",i=[["String","getAuthTmpCode",[["String","gotoStr"]]],["String","createTempSessionInfo",[]],[["Object","String","String"],"umidToken",[]],["String","sendSmsCode",[["String","mobile"]]],["String","sendVerifyCode",[["String","mobile"],["Number","bizType"],["Number","viaType"]]],["Boolean","needInit",[["String","mobile"]]],["TmpCodeModel","checkTmpCode",[["String","tmpCode"]]],["LoginResultModel","login",[["PersonalDeviceModel","personalDeviceModel"],["String","mobile"],["String","pwd"],["String","appKey"],["String","t"],["SecureModel","secureModel"]]],["LoginResultModel","tokenLogin",[["PersonalDeviceModel","personalDeviceModel"],["String","mobile"],["String","smsCode"],["String","appKey"],["String","smsTokenDeprecated"],["String","t"],["SecureModel","secureModel"]]],["LoginResultModel","loginByDevice",[["String","deviceKey"],["String","sn"],["String","activeCode"],["String","secret"]]],["LoginResultModel","loginBySelectUser",[["PersonalDeviceModel","personalDeviceModel"],["String","mobile"],["String","tmpCode"],["String","verifyCatId"],[["Array","String"],"verifySelectUser"],["String","t"]]],["String","captchaGenSessionid",[["String","mobile"]]],["String","reportForLost",[["String","mobile"],["String","pwd"],["SecureModel","secureModel"],["PersonalDeviceModel","pdm"]]],["UserListModel","showUsersForVerify",[["String","mobile"],["String","tmpCode"]]]],n={};return i.forEach(function(i){var r=i[1];n[r]=function(){var i,n=Array.prototype.slice.apply(arguments,[]);return n.length>0?(i=n[n.length-1],"function"!=typeof i?i=function(){}:n.pop()):(n=[],i=function(){}),e.sendMsg("/r/Adaptor/"+o+"/"+r,{},n,i)}}),n}]),module.exports=moduleName;

},{}],705:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.OAPII";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("OAPII",["mainWS",function(r){var t="OAPII",e=[["string","authorize302",[["string","url"]]],["string","authorize",[["string","corpId"],["string","redirectURI"]]],["string","authorizeExt",[["string","corpId"],["string","redirectURI"]]],["string","messageActionACK",[["Number","msgId"],["string","action"]]],[["Array","Number"],"getJSAPIMethods",[["string","corpid"],["Number","timestamp"],["string","nonceStr"],["string","signature"],["string","url"],[["Array","Number"],"jsApiList"]]],[["Array","Number"],"getJSAPIMethodsWithAgentId",[["string","agentId"],["string","corpid"],["Number","timestamp"],["string","nonceStr"],["string","signature"],["string","url"],[["Array","Number"],"jsApiList"]]],[["Array","Number"],"getJSAPIMethodsWithAgentIdAndType",[["string","agentId"],["string","corpid"],["Number","timestamp"],["string","nonceStr"],["string","signature"],["string","url"],[["Array","Number"],"jsApiList"],["Number","jsapiType"]]],[["Array","JSAPIResourceModel"],"getJSAPIMapping",[]],["string","getCidTokenForOrg",[["string","corpId"],["string","cid"]]],["string","getPermanentEncryptedCid",[["string","agentId"],["string","cid"]]],["string","getEncryptedData",[["string","corpId"],["string","data"]]],["string","getDecryptedData",[["string","corpId"],["string","data"]]],["string","personAuthSuite",[["string","corpId"],["string","suiteKey"],["string","redirectURI"]]],["PersonAuthSuiteInfoModel","getPersonAuthSuiteInfo",[["string","corpId"],["string","suiteKey"],["string","redirectURI"]]]],i={};return e.forEach(function(e){var n=e[1];i[n]=function(){var e,i=Array.prototype.slice.apply(arguments,[]);return i.length>0?(e=i[i.length-1],"function"!=typeof e?e=function(){}:i.pop()):(i=[],e=function(){}),r.sendMsg("/r/Adaptor/"+t+"/"+n,{},i,e)}}),i}]),module.exports=moduleName;

},{}],706:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.OrgMicroAPPI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("OrgMicroAPPI",["mainWS",function(r){var o="OrgMicroAPPI",e=[[["Array","OrgMicroAPPModel"],"getOrgMicroAPP",[]],["Number","queryUserAuthority",[["Number","orgId"],["Number","appId"]]],[["Array","TryOutSuiteModel"],"getSuiteList",[["Number","orgId"],["Number","curPage"],["Number","pageSize"]]],["TryOutSuiteModel","getSuiteInfo",[["String","productCode"],["Number","orgId"]]],["boolean","tryOutSuiteForOrg",[["String","productCode"],["Number","orgId"]]],["boolean","tryOutSuiteForOrgV2",[["String","productCode"],["String","corpId"],["boolean","allowContact"]]],["boolean","buySuiteForOrg",[["String","productCode"],["String","orderId"],["String","corpId"],["boolean","allowContact"]]],[["Array","TryOutSuiteModel"],"getSuiteListV2",[["String","corpId"],["Number","curPage"],["Number","pageSize"]]],["TryOutSuiteModel","getSuiteInfoV2",[["String","productCode"],["String","corpId"],["String","orderId"]]],["TryOutSuiteModel","getSuiteInfoV3",[["String","productCode"],["String","corpId"],["String","orderId"],["Long","authChannel"]]],["boolean","authSuiteByOrg",[["String","productCode"],["String","orderId"],["String","corpId"],["boolean","allowContact"],["String","visibleDepts"],["String","visibleUsers"],["boolean","isHidden"],["boolean","isTryOut"]]],["boolean","authSuiteByOrgV2",[["String","productCode"],["String","orderId"],["String","corpId"],["boolean","allowContact"],["String","visibleDepts"],["String","visibleUsers"],["boolean","isHidden"],["boolean","isTryOut"],["Long","authChannel"]]],["boolean","removeSuiteForOrg",[["String","productCode"],["String","corpId"]]],[["Array","Integer"],"getProductStatusCodeList",[["String","corpId"],["String","productCodeListJsonStr"]]],[["Array","ProductModel"],"myProductList",[["String","corpId"]]],[["Array","OrgSuiteAuthorization"],"adminGetOrgSuiteInfo",[["String","productCode"]]],["void","addOrUpdateLicenseCode",[["string","corpId"],["string","suiteKey"],["string","licenseCode"]]],["SuiteInfo","getSuiteInfoByProductCode",[["string","productCode"]]],["Integer","getOrgScore",[["String","corpId"]]],["Boolean","applySuiteInternalTest",[["String","productCode"],["String","corpId"]]],["boolean","updateOrgMicroAppScopes",[["Long","agentId"],[["Array","Long"],"deptVisibleScopes"],[["Array","String"],"userVisibleScopes"],["Boolean","isHidden"]]],["OrgMicroAppScopesModel","getOrgMicroAppScopes",[["Long","agentId"]]],["AddSuiteResultInfo","getAddSuiteResultInfo",[["String","productCode"],["String","corpId"]]],["boolean","verifySignUrl",[["string","url"],["string","signKey"]]]],t={};return e.forEach(function(e){var i=e[1];t[i]=function(){var e,t=Array.prototype.slice.apply(arguments,[]);return t.length>0?(e=t[t.length-1],"function"!=typeof e?e=function(){}:t.pop()):(t=[],e=function(){}),r.sendMsg("/r/Adaptor/"+o+"/"+i,{},t,e)}}),t}]),module.exports=moduleName;

},{}],707:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.QrcodeI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("QrcodeI",["mainWS",function(o){var n="QrcodeI",r=[["void","bind",[["string","qrcode"]]],["void","bindV2",[["string","qrcode"],["string","umidToken"]]],["void","scan",[["string","qrcode"]]]],e={};return r.forEach(function(r){var d=r[1];e[d]=function(){var r,e=Array.prototype.slice.apply(arguments,[]);return e.length>0?(r=e[e.length-1],"function"!=typeof r?r=function(){}:e.pop()):(e=[],r=function(){}),o.sendMsg("/r/Adaptor/"+n+"/"+d,{},e,r)}}),e}]),module.exports=moduleName;

},{}],708:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.UserI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("UserI",["mainWS",function(e){var i="UserI",r=[["UserProfileModel","updateUserProfile",[["UserProfileModel","userProfile"]]],["UserProfileExtensionModel","getUserProfileExtensionByMobile",[["string","mobile"]]],["void","updateNick",[["String","nick"],["Long","uid"]]],[["Array","UserIdentityModel"],"createUsersByIdentities",[[["Array","UserIdentityModel"],"identities"]]],[["Array","UserIdentityModel"],"createUsersByIdentitiesV2",[[["Array","UserIdentityModel"],"identities"],["boolean","supportFixLine"]]],["UserProfileModel","getUserProfileByUid",[["Number","uid"]]],["UserProfileExtensionModel","getUserProfileExtensionByUid",[["Number","uid"],["Number","oid"]]],["UserProfileExtensionModel","getUserProfileExtensionByStaffId",[["string","staffId"],["Number","oid"]]],["void","updateUserSettings",[["UserSettingsModel","userSettings"]]],["UserSettingsModel","getUserSettings",[]],["UserProfileModelList","getUserProfileByUids",[[["Array","Number"],"uids"]]],["UserProfileModelList","getUserProfileByUidsForSimple",[[["Array","Number"],"uids"]]],["void","addUserFeedback",[["FeedBackModel","feedback"]]],["void","changeMobile",[["string","phone"],["string","smsCode"]]],["void","changeMobileV2",[["string","phone"],["string","smsCode"]]],["void","cancelUserProfile",[["string","smsCode"]]],["void","sendSmsCode",[["string","mobile"],["Number","type"]]],["void","applyNewDingtalkId",[["string","newDingTalkId"]]],["void","bindEmail",[["string","newEmail"],["string","token"]]],["void","unbindEmail",[]],["boolean","canUnbindEmail",[]],["LoginTicketModel","getMailTicket",[["string","dingTalkId"]]],["UserProfileModelList","getUserProfileByEmails",[[["Array","string"],"emails"]]],["void","changePwd",[["string","newPwd"]]],["boolean","checkPwd",[["string","oldPwd"]]],[["Array","UserProfileModel"],"searchUserProfileListByMobile",[["string","stateCode"],["string","mobile"]]],["UserProfileModel","searchUserProfileByMobile",[["string","stateCode"],["string","mobile"]]],["UserProfileModel","searchUserProfileByKeyword",[["string","keyword"]]],["boolean","unbindEmailV2",[]],["boolean","isSubscribeEmail",[]],["void","updateAvatar",[["string","avatarMediaId"]]],[["Object","Number","string"],"getUserMobile",[[["Array","Number"],"uids"]]],["void","sendInactiveMsg",[["Number","uid"]]]],o={};return r.forEach(function(r){var s=r[1];o[s]=function(){var r,o=Array.prototype.slice.apply(arguments,[]);return o.length>0?(r=o[o.length-1],"function"!=typeof r?r=function(){}:o.pop()):(o=[],r=function(){}),e.sendMsg("/r/Adaptor/"+i+"/"+s,{},o,r)}}),o}]),module.exports=moduleName;

},{}],709:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.VadminI";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("VadminI",["mainWS",function(e){var n="VadminI",o=[["String","getRoute",[["RouteModel","request"]]],["String","getAudioBulkDeley",[["AudioBulkDelayModel","request"]]],["String","getUserConfig",[["UserConfModel","request"]]]],t={};return o.forEach(function(o){var r=o[1];t[r]=function(){var o,t=Array.prototype.slice.apply(arguments,[]);return t.length>0?(o=t[t.length-1],"function"!=typeof o?o=function(){}:t.pop()):(t=[],o=function(){}),e.sendMsg("/r/"+n+"/"+r,{},t,o)}}),t}]),module.exports=moduleName;

},{}],710:[function(require,module,exports){
"use strict";var moduleName="ddWeb.IDLAPI.Vlog";angular.module(moduleName,["ddWeb.io.mainWS"]).factory("Vlog",["mainWS",function(o){var e="Vlog",n=[["String","postLog",[["PostLogModel","request"]]]],t={};return n.forEach(function(n){var r=n[1];t[r]=function(){var n,t=Array.prototype.slice.apply(arguments,[]);return t.length>0?(n=t[t.length-1],"function"!=typeof n?n=function(){}:t.pop()):(t=[],n=function(){}),o.sendMsg("/r/"+e+"/"+r,{},t,n)}}),t}]),module.exports=moduleName;

},{}],711:[function(require,module,exports){
"use strict";var keyPaddingGen=require("./libs/keyPaddingGen");exports.interface={},exports.model={},exports.interface.ContactI=require("./dist/ContactI"),exports.interface.IDLDing=require("./dist/IDLDing"),exports.interface.ConversationI=require("./dist/ConversationI"),exports.interface.IMI=require("./dist/IMI"),exports.interface.UserI=require("./dist/UserI"),exports.interface.QrcodeI=require("./dist/QrcodeI"),exports.interface.CommonI=require("./dist/CommonI"),exports.interface.FriendI=require("./dist/FriendI"),exports.interface.ConferenceI=require("./dist/ConferenceI"),exports.interface.ImgResI=require("./dist/ImgResI"),exports.interface.LoginI=require("./dist/LoginI"),exports.interface.OrgMicroAPPI=require("./dist/OrgMicroAPPI"),exports.interface.OAPII=require("./dist/OAPII"),exports.interface.CsConfigI=require("./dist/CsConfigI"),exports.interface.GroupAnnounceI=require("./dist/GroupAnnounceI"),exports.interface.CallAdminI=require("./dist/CallAdminI"),exports.interface.DpRecentOperation=require("./dist/DpRecentOperation"),exports.interface.DpOrg=require("./dist/DpOrg"),exports.interface.CSpace=require("./dist/CSpace"),exports.interface.EncryptionI=require("./dist/EncryptionI"),exports.interface.ExternalContactI=require("./dist/ExternalContactI"),exports.interface.CrmI=require("./dist/CrmI"),exports.interface.ImgResI=require("./dist/ImgResI"),exports.interface.EmotionPackage=require("./dist/EmotionPackage"),exports.interface.CMailI=require("./dist/CMailI"),exports.interface.IDLOnebox=require("./dist/IDLOnebox"),exports.interface.ExternalContactI=require("./dist/ExternalContactI"),exports.interface.LabelI=require("./dist/LabelI"),exports.interface.LogI=require("./dist/LogI"),exports.interface.AlimeiTicket=require("./dist/AlimeiTicket"),exports.interface.ConfmanagerI=require("./dist/ConfmanagerI"),exports.interface.VadminI=require("./dist/VadminI"),exports.interface.Vlog=require("./dist/Vlog"),exports.model.confmanager=keyPaddingGen({VidyoConfCreateModel:{def:{callerId:["1","int","callerId","// 主叫id，用于创建会议、邀请、踢人、结束会议、拉取用户状态"],calleeIds:["2",["Array","int"],"calleeIds","// 被叫id列表，只用于创建会议时"],callerNick:["3","string","callerNick","// 主叫昵称"],confType:["4","int","confType","// 会议类型:1为预约会议,其他都为多人会议"],title:["5","string","title","// 会议主题 "],hostess:["6","int","hostess","// 会议主持人"],startime:["7","int","startime","// 会议开始时间 以秒为单位"],duration:["8","int","duration","// 用于预约会议"],enableDing:["9","boolean","enableDing","// 钉消息通知开关"],calltype:["10","int","calltype","//呼叫类型 0:点对点 1:视频会议"]},COMMENT:"// 会议操作的入参模型"},VidyoConfCreateResultModel:{def:{conferenceId:["1","string","conferenceId","// 返回会议id"],conferencePin:["2","string","conferencePin"],code:["3","int","code","// 识别码"],cause:["4","string","cause","// 失败原因"]},COMMENT:"// 创建会议的返回对象"},VidyoConfPullListModel:{def:{userId:["1","int","userId","// 用户ID"]},COMMENT:"// 拉取会议"},VidyoConfInfoModel:{def:{conferenceId:["1","string","conferenceId","// 会议ID"],conferencePin:["2","string","conferencePin"],callerId:["3","int","callerId","// 主叫id，用于创建会议、邀请、踢人、结束会议、拉取用户状态"],calleeIds:["4",["Array","int"],"calleeIds","// 被叫id列表"],callerNick:["5","string","callerNick","// 主叫昵称"],title:["6","string","title","// 预约主题"],startTime:["7","int","startTime","// 开始时间"],confDuration:["8","int","confDuration","// 会议时长"],msgType:["9","int","msgType","//消息类型(2401) push pc用 "],action:["10","int","action","//区别推送消息类型"],calltype:["11","int","calltype","//呼叫类型 0:点对点 1:视频会议"]},COMMENT:"// 拉取会议"},VidyoConfListResultModel:{def:{code:["1","int","code","// 识别码"],cause:["2","string","cause","// 失败原因"],vidyoConfs:["3",["Array","VidyoConfInfoModel"],"vidyoConfs"]},COMMENT:"// 拉取会议"},VidyoConfOperationResultModel:{def:{code:["1","int","code","// 操作码"],cause:["2","string","cause","// 失败原因"]},COMMENT:"// 邀请、踢人、结束会议时的返回对象"},VidyoConfPullMembersModel:{def:{conferenceId:["1","string","conferenceId","// 会议id"],uid:["2","int","uid","// 用户uid 为null查询所有参会成员"]},COMMENT:"// 拉取会议成员"},VidyoConfMemberInfoModel:{def:{uid:["1","int","uid","// 用户uid"],nick:["2","string","nick","// 昵称"],status:["3","int","status","// 用户当前状态  0-还未开始 1-进行中 2-已结束 3-拒绝 4-版本不支持 5-接受 6-busy 7-电话中 8-kickout"],cameraState:["4","int","cameraState","//camera状态 1 打开；0 关闭"],micState:["5","int","micState","//mic状态 1 打开；0 关闭"]},COMMENT:"// 拉取会议成员"},VidyoConfMemberListResultModel:{def:{code:["1","int","code","// 识别码"],cause:["2","string","cause","// 失败原因"],userList:["3",["Array","VidyoConfMemberInfoModel"],"userList"],msgType:["4","int","msgType","//消息类型(2402) push pc用"]},COMMENT:"// 拉取会议成员"},VidyoConfStatusModel:{def:{conferenceId:["1","string","conferenceId","// 会议id"],uid:["2","int","uid","// 用户uid"],status:["3","int","status","//用户状态 0-还未开始 1-进行中 2-已结束 3-拒绝 4-版本不支持 5-接受 6-busy 7-电话中 8-kickout  401-无权限拨打 101-设备状态变更"],cause:["4","int","cause","//标示原因，如导致busy的原因"],cameraState:["5","int","cameraState","//camera状态 1 打开；0 关闭"],micState:["6","int","micState","//mic状态 1 打开；0 关闭"],msgType:["7","int","msgType","//消息类型() push pc用"]},COMMENT:"//用户状态"},VidyoConfControlModel:{def:{conferenceId:["1","string","conferenceId","// 会议id"],uids:["2",["Array","int"],"uids","// 需要控制的用户uid列表,push消息忽略该字段"],control:["3","int","control","//控制类型 1-kickout 2-mute 3-unmute 4-terminate conf  5-addmember"],msgType:["4","int","msgType","//消息类型() push pc用"]},COMMENT:"//控制会议 踢出、mute"},VidyoConfQueryModel:{def:{conferenceStartTime:["1","int","conferenceStartTime","// 查询该时间之前的记录 0表示不限制时间"],maxCount:["2","int","maxCount","// 返回最大条数"]},COMMENT:"//查询通话记录条件,返回指定时间之前的指定条数通话记录"},VidyoHistoryConfModel:{def:{conferenceId:["1","string","conferenceId","// 会议ID"],callerId:["2","int","callerId","// 主叫id"],callerNick:["3","string","callerNick","// 主叫昵称"],calleeIds:["4",["Array","int"],"calleeIds","// 被叫id列表"],calleeNicks:["5",["Array","string"],"calleeNicks","// 被叫nick"],title:["6","string","title","// 预约主题"],startTime:["7","int","startTime","// 开始时间"],confDuration:["8","int","confDuration","// 会议时长"],myUid:["9","int","myUid"],myStatus:["10","int","myStatus","//本人状态 0-未入会 1-曾经入会"]},COMMENT:"//查询通话记录条件,返回指定时间之前的指定条数通话记录"},VidyoHistoryConfListResultModel:{def:{code:["1","int","code","// 识别码"],cause:["2","string","cause","// 失败原因"],historyConfs:["3",["Array","VidyoHistoryConfModel"],"historyConfs"]},COMMENT:"//查询通话记录条件,返回指定时间之前的指定条数通话记录"},VidyoConfLogModel:{def:{log:["1","string","log"]},COMMENT:"//日志"}}),exports.model.conference=keyPaddingGen({ConferenceModel:{def:{conferenceId:["1","int","conferenceId","// 会议id，用于邀请，踢人、结束会议、拉取用户列表等"],callerId:["2","int","callerId","// 主叫id，用于创建会议、邀请、踢人、结束会议、拉取用户状态"],calleeIds:["3",["Array","int"],"calleeIds","// 被叫id列表，只用于创建会议时"],calleeId:["4","int","calleeId","// 被叫id，用户邀请、踢人。被叫可以通过这个字段去拉当前所在的会议信息"],conversationId:["5","string","conversationId","// 群聊id"],callerNick:["6","string","callerNick","// 主叫昵称"],code:["7","int","code","// code"],cause:["8","string","cause","//"],startime:["9","int","startime","// 会议开始时间"],duration:["10","int","duration","// 用于预约会议"],confType:["11","int","confType","// 会议类型:1为预约会议,其他都为多人会议"],hostess:["12","int","hostess","// 会议主持人"],title:["13","string","title","// 会议主题"]},COMMENT:"// 会议操作的入参模型"},ConfStatusModel:{def:{conferenceId:["1","int","conferenceId","// 会议id"],status:["2","int","status","// 会议状态"],code:["3","int","code","// 操作码"],action:["4","string","action","//"]},COMMENT:"// 会议状态的模型"},ConfCreateModel:{def:{conferenceId:["1","int","conferenceId","// 返回会议id"],code:["2","int","code","// 识别码"],cause:["3","string","cause","// 失败原因"],callbackNumbers:["4","string","callbackNumbers","// 回显号码"],confNumInfo:["5","CallNumInfo","confNumInfo","// 会议回拨号码"]},COMMENT:"// 创建会议的返回对象"},ConfOperationModel:{def:{code:["1","int","code","// 操作码"],cause:["2","string","cause","// 失败原因"]},COMMENT:"// 邀请、踢人、结束会议时的返回对象"},ConfPullListModel:{def:{code:["1","int","code","//操作码"],cause:["2","string","cause","// 失败原因"],userList:["3",["Array","ConfMemberInfoModel"],"userList","// 用户列表"],duration:["4","int","duration","// 会议已经开始的时长"],status:["5","int","status","// 会议状态"],text:["6","string","text","// 文本"]},COMMENT:"// 拉取用户信息的返回值"},ConfMemberInfoModel:{def:{uid:["1","int","uid","// 用户uid"],status:["2","int","status","// 用户当前状态，0--未接通，1--呼叫中，2--已接通"],nickName:["3","string","nickName","// 用户昵称"],mediaId:["4","string","mediaId","// 用户mediaId，头像信息"],canSpeek:["5","boolean","canSpeek","// 是否静音标志"],hangupCause:["6","string","hangupCause","// 挂断原因"]},COMMENT:"// 拉取用户信息的返回值"},ConfPushModel:{def:{conferenceId:["1","int","conferenceId","// 会议id"],uid:["2","int","uid","// 用户数字id"],action:["3","string","action","// 事件内容"],cause:["4","string","cause","// 具体原因"],time:["5","int","time","// 触发时间戳，毫秒（ms）"],callerId:["6","int","callerId","// 主叫id"],text:["7","string","text","// 展现文本"]},COMMENT:"// 会议进行中、会议结束的推送"},ConfCreatePushModel:{def:{conferenceId:["1","int","conferenceId","// 会议id，用于邀请，踢人、结束会议、拉取用户列表等"],callerId:["2","int","callerId","// 主叫id，用于创建会议、邀请、踢人、结束会议、拉取用户状态"],callerNick:["3","string","callerNick","// 主叫昵称"],action:["4","string","action","// begin-conference"],cause:["5","string","cause","// 拉取cause"],time:["6","int","time","// 发起时间"]},COMMENT:"// 主叫创建会议时，被叫收到的推送"},ConfAddMemberPushModel:{def:{member:["1","ConfMemberInfoModel","member","//"],action:["2","string","action","//"],cause:["3","string","cause","//"],conferenceId:["4","int","conferenceId","//"],time:["5","int","time","//"],text:["6","string","text","//"]},COMMENT:"// 主叫或者被叫加人时，所有参会者收到的推送"},ConfChangedModel:{def:{conferenceId:["1","int","conferenceId","// 会议id，用于邀请，踢人、结束会议、拉取用户列表等"],callerId:["2","int","callerId","// 主叫id，用于创建会议、邀请、踢人、结束会议、拉取用户状态"],callerNick:["3","string","callerNick","// 主叫昵称"],action:["4","string","action","// begin-conference, end-conference"],cause:["5","string","cause","// 拉取cause"],time:["6","int","time","// 发起时间"],sequenceId:["7","int","sequenceId","// 序号"],duration:["8","int","duration","// 用于预约会议"],hostess:["9","int","hostess","// 会议支持人"],title:["10","string","title","// 会议主题"],smsContent:["11","string","smsContent","// 邀请短信内容"]},COMMENT:"// 会议操作推送，包括会议创建于会议结束"},MemberChangedModel:{def:{member:["1","ConfMemberInfoModel","member","// 成员信息"],action:["2","string","action","// add-member, remove-member"],cause:["3","string","cause","// 拉取cause"],conferenceId:["4","int","conferenceId","// 会议id"],time:["5","int","time","// 时间"],text:["6","string","text","// 文本"],sequenceId:["7","int","sequenceId","// 序号"]},COMMENT:"// 成员变化的推送"},StatusChangedModel:{def:{conferenceId:["1","int","conferenceId","// 会议id"],uid:["2","int","uid","// 用户数字id"],action:["3","string","action","// 事件内容"],cause:["4","string","cause","// 具体原因"],time:["5","int","time","// 触发时间戳，毫秒（ms）"],callerId:["6","int","callerId","// 主叫id"],text:["7","string","text","// 展现文本"],sequenceId:["8","int","sequenceId","// 序号"],muteIds:["9",["Array","int"],"muteIds","// 静音操作的用户id"]},COMMENT:"// 成员状态变化的推送"},TeleChatModel:{def:{callerUid:["1","int","callerUid","// 自己的id"],calleeUid:["2","int","calleeUid","// 对方的uid"],calleeNumber:["3","string","calleeNumber","// 对方的手机号"],isDetectVoIP:["4","boolean","isDetectVoIP","// 指定是否check VoIP"],cid:["5","string","cid","// 单人聊天的会话ID"]},COMMENT:"// 创建会议时的model"},TeleChatResultModel:{def:{code:["1","int","code","// 结果操作码"],cause:["2","string","cause","// 失败原因"],callerUUid:["3","string","callerUUid","// 返回的uid"],callerNumber:["4","string","callerNumber","// 返回的主叫number"],callbackNumbers:["5","string","callbackNumbers","// 回拨号码列表,以逗号隔开."],isSupportVoIP:["6","boolean","isSupportVoIP","// 返回是否支持VoIP电话."],canPstnCall:["7","boolean","canPstnCall","// 当支持VoIP时,同时判断是否支持商务电话."],canSystemCall:["8","boolean","canSystemCall","// 判断是否支持系统电话."],voipUUid:["9","string","voipUUid","// 用于关联VoIP的业务数据和信令数据"]},COMMENT:"// 创建成功或者失败的返回"},ConfErrorPushModle:{def:{conferenceId:["1","int","conferenceId","//会议ID"],callerId:["2","int","callerId","//主叫ID"],action:["3","string","action","//CONF_ERROR"],cause:["4","string","cause","//显示文案"],time:["5","int","time","//服务端时间"],sequenceId:["6","int","sequenceId","//消息ID"],level:["7","int","level","//1:主、被叫只显示文案  2：主、被叫都不显示文案，主叫立马结束会议并退出面板，被叫则直接退出面板。3：主被叫都显示文案且退出会议面包，主叫还需调用结束会议的请求。"]},COMMENT:"// 创建成功或者失败的返回"},TeleChatStatusChangedModel:{def:{uuid:["1","string","uuid","//通话uuid"],action:["2","string","action","//操作类型"],callerUid:["3","int","callerUid","//主叫uid"],calleeUid:["4","int","calleeUid","//被叫uid"],endTime:["5","int","endTime","//结束时间(秒)"],showScoreView:["6","boolean","showScoreView","//是否显示评分框"],scoreCnt:["7","int","scoreCnt","//用户评分次数"],avgScore:["8","float","avgScore","//平均评分"]},COMMENT:"// 创建成功或者失败的返回"},FavorUidListModel:{def:{uidList:["1",["Array","int"],"uidList"]},COMMENT:"// 创建成功或者失败的返回"},ResultModel:{def:{code:["1","int","code","// 错误码"],cause:["2","string","cause","// 错误原因"]},COMMENT:"// 创建成功或者失败的返回"},FavorUidListResultModel:{def:{result:["1","ResultModel","result","// 请求结果"],uidList:["2","FavorUidListModel","uidList","// 收藏用户列表"]},COMMENT:"// 创建成功或者失败的返回"},UserBillModel:{def:{result:["1","ResultModel","result"],uid:["2","int","uid"],userVersion:["3","int","userVersion"],userLevel:["4","int","userLevel"],teamQuota:["5","int","teamQuota"],teamSurplus:["6","int","teamSurplus"],domesticQuota:["7","int","domesticQuota"],domesticSurplus:["8","int","domesticSurplus"]},COMMENT:"// 创建成功或者失败的返回"},ConfigReqModel:{def:{configType:["1","int","configType","// 配置类型"],configTypes:["2",["Array","int"],"configTypes","// 配置类型列表"]},COMMENT:"// 创建成功或者失败的返回"},ConfigRspModel:{def:{result:["1","ResultModel","result","// 请求结果"],enable:["2","boolean","enable","// 配置结果"],configMap:["3",["Object","int","string"],"configMap"]},COMMENT:"// 创建成功或者失败的返回"},ScoreModel:{def:{uuid:["1","String","uuid","// 通话uuid"],score:["2","int","score","// 用户评分"]},COMMENT:"// 创建成功或者失败的返回"},UserInfoCard:{def:{uid:["1","int","uid","// 用户ID"],nickName:["2","string","nickName","// 用户Nick"],orgName:["3","string","orgName","// 企业名称"],isExtContact:["4","boolean","isExtContact","// 是否为外部联系人"],labelList:["5",["Array","LabelModel"],"labelList","// 外部联系人标签"]},COMMENT:"// 创建成功或者失败的返回"},CallInfoModel:{def:{userInfoCard:["1","UserInfoCard","userInfoCard","// 用户基本信息"],showNumber:["2","string","showNumber","// 送号号码"],extendField:["3","string","extendField","// 扩展字段"]},COMMENT:"// 创建成功或者失败的返回"},CallTypeReqModel:{def:{calleeUid:["1","int","calleeUid","// 被叫"],cid:["2","string","cid","// 单人聊天的会话id"],preferType:["3","int","preferType","// 倾向的通话类型"],calleeUidList:["4",["Array","int"],"calleeUidList","// 被叫uid列表"]},COMMENT:"// 创建成功或者失败的返回"},CallTypeRspModel:{def:{callTypeList:["1",["Array","int"],"callTypeList","// 支持的通话类型"],cause:["2","string","cause","// 优先为preferType无法发起的原因"],causeMap:["3",["Object","int","string"],"causeMap","// 无法发起的原因"],preventList:["4",["Array","int"],"preventList","// 高管、黑名单等的uid列表"],lowVerList:["5",["Array","int"],"lowVerList","// 低版本uid列表"],stateCode:["6","string","stateCode","// 被叫手机号国家码"],calleeNumber:["7","string","calleeNumber","// 被叫手机号码"],directCall:["8","boolean","directCall","// 是否直呼"],netStatusMap:["9",["Object","int","string"],"netStatusMap","// 网络环境"],recommendType:["10","int","recommendType","// 推荐通话类型"],bizCallNumInfos:["11",["Array","CallNumInfo"],"bizCallNumInfos","// 总机回拨号码"],recommendText:["12","string","recommendText","// 推荐文案"]},COMMENT:"// 创建成功或者失败的返回"},CallNumInfo:{def:{contactName:["1","string","contactName","// 写入通讯录名称"],numList:["2",["Array","string"],"numList","// 回拨号码"],orgId:["3","int","orgId","// 企业id"],corpId:["4","string","corpId","// 企业corpId"],ispMap:["5",["Object","string","int"],"ispMap","// 供应商"]},COMMENT:"// 创建成功或者失败的返回"},SmsModel:{def:{recvUidList:["1",["Array","int"],"recvUidList","// 被叫uid列表"],smsType:["2","int","smsType","// 短信类型"]},COMMENT:"/*\nenum IspTypeEnum {\n    CHINA_MOBILE  = 1;\n    CHINA_UNICOM  = 2;\n    CHINA_TELECOM = 3;\n};\n\nenum CallTypeEnum {\n    TYPE_VOIP = 1;\n    TYPE_PSTN = 2;\n    TYPE_SYS  = 3;\n    TYPE_CONF_CALL = 4;\n    TYPE_VIDEO_P2P = 5;\n    TYPE_VIDEO_CONF = 6;\n    TYPE_BIZ_CALL = 7;\n    TYPE_VOIP_TO_PSTN = 8;\n};\n*/"},BizCallCreateModel:{def:{calleeUid:["1","int","calleeUid","// 被叫uid"],bizCallNum:["2","string","bizCallNum","// 用户选择的总机号码"],orgId:["3","int","orgId","// 总机的企业id"]},COMMENT:"/*\nenum SmsTypeEnum {\n    USER_ACTIVE = 1;\n    APP_UPGRADE = 2;\n};\n*/"},BizCallCancelModel:{def:{businessId:["1","string","businessId"]},COMMENT:"/*\nenum SmsTypeEnum {\n    USER_ACTIVE = 1;\n    APP_UPGRADE = 2;\n};\n*/"},BizCallResultModel:{def:{result:["1","ResultModel","result","// 请求结果"],businessId:["2","string","businessId","// 会话id"],callbackNum:["3","CallNumInfo","callbackNum","// 回拨号码信息"],isExtContact:["4","boolean","isExtContact","// 被叫是否为外部联系人"],labelList:["5",["Array","LabelModel"],"labelList","// 外部联系人标签"]},COMMENT:"/*\nenum SmsTypeEnum {\n    USER_ACTIVE = 1;\n    APP_UPGRADE = 2;\n};\n*/"},BizCallNumModel:{def:{result:["1","ResultModel","result","// 请求结果"],isSupport:["2","boolean","isSupport","// 是否支持企业总机"],numInfoList:["3",["Array","CallNumInfo"],"numInfoList","// 总机号码"],callType:["4","int","callType","// TYPE_BIZ_CALL 或者 TYPE_VOIP_TO_PSTN"]},COMMENT:"/*\nenum SmsTypeEnum {\n    USER_ACTIVE = 1;\n    APP_UPGRADE = 2;\n};\n*/"},CallRecordModel:{def:{callerUid:["1","int","callerUid","// 主叫uid"],calleeUid:["2","int","calleeUid","// 被叫uid"],beginTime:["3","int","beginTime","// 开始时间"],duration:["4","int","duration","// 通话时长"]},COMMENT:"/*\nenum SmsTypeEnum {\n    USER_ACTIVE = 1;\n    APP_UPGRADE = 2;\n};\n*/"}});

},{"./dist/AlimeiTicket":680,"./dist/CMailI":681,"./dist/CSpace":682,"./dist/CallAdminI":683,"./dist/CommonI":684,"./dist/ConferenceI":685,"./dist/ConfmanagerI":686,"./dist/ContactI":687,"./dist/ConversationI":688,"./dist/CrmI":689,"./dist/CsConfigI":690,"./dist/DpOrg":691,"./dist/DpRecentOperation":692,"./dist/EmotionPackage":693,"./dist/EncryptionI":694,"./dist/ExternalContactI":695,"./dist/FriendI":696,"./dist/GroupAnnounceI":697,"./dist/IDLDing":698,"./dist/IDLOnebox":699,"./dist/IMI":700,"./dist/ImgResI":701,"./dist/LabelI":702,"./dist/LogI":703,"./dist/LoginI":704,"./dist/OAPII":705,"./dist/OrgMicroAPPI":706,"./dist/QrcodeI":707,"./dist/UserI":708,"./dist/VadminI":709,"./dist/Vlog":710,"./libs/keyPaddingGen":712}],712:[function(require,module,exports){
"use strict";var PaddingKey=function(e){this.keys=this._processDef(e),this.paddings={};var n=this;Object.keys(e).forEach(function(e){n.paddings[e]=function(r){return n._padding(e,r)}})};PaddingKey.prototype._padding=function(e,n){var r={},t=this;if(n&&this.keys[e]){var a=this.keys[e].keys;Object.keys(n).forEach(function(e){var i=parseInt(e);if(a[i]){var s=a[i].name,f=a[i].type;if("string"==typeof f&&t.keys[f])var d=t._padding(f,n[e]);else if(Array.isArray(f))if("Array"===f[0]&&t.keys[f[1]])var d=n[e].map(function(e){return t._padding(f[1],e)});else var d=n[e];else var d=n[e];r[s]=d}})}return r},PaddingKey.prototype._processDef=function(e){var n={};return Object.keys(e).forEach(function(r){var t={};Object.keys(e[r].def).forEach(function(n){var a=e[r].def[n];t[parseInt(a[0])]={type:a[1],name:n}}),n[r]={keys:t}}),n};var gen=function(e){return new PaddingKey(e)};module.exports=gen;

},{}],713:[function(require,module,exports){
"use strict";var detector=require("detector"),ua=window.navigator.userAgent,isNw=ua.indexOf("dingtalk-win")===-1&&ua.indexOf("nw")!==-1;if(isNw)var gui=_nwrequire("nw.gui"),dns=_nwrequire("dns");var testDns=function(t){return isNw?new Promise(function(e,n){dns.lookup(t,function(t,n,r){e(null===t?n:!1)})}):Promise.resolve(!1)},testHttpProxy=function(t){return isNw?new Promise(function(e,n){var r=gui.App.getProxyForURL(t);e(r)}):Promise.resolve(!1)},testWebSocket=function(t){return new Promise(function(e,n){if(window.WebSocket){var r=new WebSocket(t);r.onopen=function(t){e({state:"OPEN"})},r.onclose=function(t){e({state:"CLOSE"})},r.onerror=function(){e({state:"ERROR"})}}else e({state:"NONSUPPORT"})})},testImageCDN=function(t){return new Promise(function(e,n){var r=new Image,o=t.url.indexOf("?")>-1?"&":"?";r.src=""+t.url+o+"t="+ +new Date,r.onload=function(){e(r.width===t.width&&r.height===t.height)},r.onerror=function(){e(!1)}})},testNetWork=function(t){return new Promise(function(e,n){var r=document.createElement("script"),o=t.indexOf("?")>-1?"&":"?";r.type="text/javascript",r.src=""+t+o+"_="+ +new Date,r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||e(!0)},r.onerror=function(){e(!1)},document.body.appendChild(r)})},getLDNS=function(){var t=function(t,e){var n=document.createElement("script"),r=t.indexOf("?")>-1?"&":"?",o="CB"+ +new Date;n.type="text/javascript",n.src=""+t+r+"cb="+o+"&_="+ +new Date,window[o]=function(){e(arguments[0]),document.body.removeChild(n),delete window[o]},document.body.appendChild(n)},e="https:"===window.location.protocol;return new Promise(function(n,r){e?r(!1):t("http://140.205.130.1/api/cdnDetect?method=createDetect",function(e){t(e.content,function(t){n(t.content)})})})},getCookieEnable=function(){return!(!document.cookie&&!navigator.cookieEnabled)};document.write(['<script type="text/javascript">var JS_VERSION = 1.0;</script>','<script language="Javascript1.1">var JS_VERSION = 1.1;</script>','<script language="Javascript1.2">var JS_VERSION = 1.2;</script>','<script language="Javascript1.3">var JS_VERSION = 1.3;</script>','<script language="Javascript1.4">var JS_VERSION = 1.4;</script>','<script language="Javascript1.5">var JS_VERSION = 1.5;</script>','<script language="Javascript1.6">var JS_VERSION = 1.6;</script>','<script language="Javascript1.7">var JS_VERSION = 1.7;</script>','<script language="Javascript1.8">var JS_VERSION = 1.8;</script>','<script language="Javascript1.9">var JS_VERSION = 1.9;</script>'].join(""));var getJSVersion=function(){return JS_VERSION},getLocalStoreInfo=function(){return!!window.localStorage},baseInfo={ua:ua,os:detector.os.name+" "+detector.os.version,browser:detector.browser.name+" "+detector.browser.fullVersion,engine:detector.engine.name+" "+detector.engine.fullVersion,cookie:getCookieEnable(),js:getJSVersion(),localStorage:getLocalStoreInfo()};module.exports={baseInfo:baseInfo,testWebSocket:testWebSocket,testNetWork:testNetWork,testImageCDN:testImageCDN,getLDNS:getLDNS,testHttpProxy:testHttpProxy,testDns:testDns};

},{"detector":894}],714:[function(require,module,exports){
var TYPE_IDS={},ID_CATE_TYPES={0:"IMAGE_JPG",1:"IMAGE_GIF",2:"IMAGE_PNG",3:"IMAGE_BMP",4:"AUDIO_AMR",5:"AUDIO_MP3",6:"VIDEO_MP4",7:"AUDIO_WAV",8:"NORMAL_FILE",9:"OFFICE_DOC",10:"OFFICE_DOCX",11:"OFFICE_XLS",12:"OFFICE_XLSX",13:"OFFICE_PPT",14:"OFFICE_PPTX",15:"NORMAL_ZIP",16:"NORMAL_PDF",17:"NORMAL_RAR",18:"NORMAL_PSD",19:"NORMAL_AI",20:"NORMAL_TXT",21:"VIDEO_AVI",22:"VIDEO_RMVB",23:"VIDEO_RM",24:"VIDEO_MPG",25:"VIDEO_WMV",26:"VIDEO_MKV",27:"VIDEO_VOB",28:"NORMAL_TFSPRIVATE",29:"IMAGE_WEBP",30:"NORMAL_PAGES",31:"NORMAL_NUMBERS",32:"NORMAL_KEY",33:"NORMAL_SKETCH"};Object.keys(ID_CATE_TYPES).forEach(function(e){var _=ID_CATE_TYPES[e],t=_.split("_")[1].toLowerCase();TYPE_IDS[t]=e}),TYPE_IDS.jpeg=0;var VALID_TYPES=["jpg","jpeg","bmp","png","gif","doc","docx","xlsx","xls","pdf","ppt","pptx","zip","rar","txt","mp4","psd","ai","avi"],typeFuncs={getTypeByName:function(e){return e.split(".").pop().toLowerCase()},getIdByType:function(e){if(void 0===TYPE_IDS[e])var e="file";return TYPE_IDS[e]},getCateTypeById:function(e){if(void 0===ID_CATE_TYPES[e])var e="8";return ID_CATE_TYPES[e]},getTypeById:function(e){if(void 0===ID_CATE_TYPES[e])var e="8";return ID_CATE_TYPES[e].split("_")[1].toLowerCase()},getCateTypeByType:function(e){return typeFuncs.getCateTypeById(typeFuncs.getIdByType(e))},isValid:function(e){var _=VALID_TYPES.indexOf(e);return _!==-1},isImg:function(e){return"IMAGE"===typeFuncs.getCateTypeByType(e).split("_")[0]},getFileIconByType:function(e){var _=typeFuncs.getCateTypeByType(e);switch(_){case"OFFICE_DOC":case"OFFICE_DOCX":return"word-icon";case"OFFICE_PPT":case"OFFICE_PPTX":return"ppt-icon";case"NORMAL_PDF":return"pdf-icon";case"OFFICE_XLS":case"OFFICE_XLSX":return"excl-icon";case"NORMAL_ZIP":return"zip-icon";case"NORMAL_RAR":return"rar-icon";case"NORMAL_PSD":return"psd-icon";case"NORMAL_AI":return"ai-icon";case"NORMAL_TXT":return"txt-icon";case"NORMAL_KEY":return"key-icon";case"NORMAL_PAGES":return"pages-icon";case"NORMAL_SKETCH":return"sketch-icon";case"NORMAL_NUMBERS":return"numbers-icon";case"VIDEO_AVI":case"VIDEO_RMVB":case"VIDEO_RM":case"VIDEO_MPG":case"VIDEO_WMV":case"VIDEO_MKV":case"VIDEO_VOB":case"VIDEO_MP4":return"video-icon";case"IMAGE_JPG":case"IMAGE_GIF":case"IMAGE_PNG":case"IMAGE_BMP":return"pic-icon";default:return"default-icon"}}};module.exports=typeFuncs;

},{}],715:[function(require,module,exports){
"use strict";function reverseString(e){for(var i="",r=e.length-1;r>=0;r--)i+=e[r];return i}var msgpack=require("@ali/msgpack"),fileTypes=require("@ali/ding-filetypes"),Uri=require("jsuri"),mediaIdHost="static.dingtalk.com",oldMediaIdHost="i01.lw.aliimg.com",mediaIdDir="media",BASEURL="https://"+mediaIdHost+"/"+mediaIdDir+"/",isNoRetina=1===window.devicePixelRatio,mid2Url=function(e,i){var i=i||{};if("@"!==e.charAt(0))return"https:"===window.location.protocol&&(e=e.replace(/^http(?!s)/,"https")),e;e=e.replace(/-/gi,"+").replace(/_/gi,"/");var e=e.substr(1),r=msgpack.decodeFromB64(e),t=fileTypes.getCateTypeById(r[0]).split("_");if("IMAGE"===t[0])if("origin"===i.imageSize)var a=e+"_"+r[3]+"_"+r[2]+"."+t[1].toLowerCase();else if("thumb"===i.imageSize)var s=isNoRetina?"_60x60q90.jpg":"_120x120q90.jpg",a=e+"_"+r[3]+"_"+r[2]+"."+t[1].toLowerCase()+s;else if("GIF"===t[1])var a=e+"_"+r[3]+"_"+r[2]+"."+t[1].toLowerCase();else var s=i.autoRotate?"_620x10000q90g.jpg":"_620x10000q90.jpg",a=e+"_"+r[3]+"_"+r[2]+"."+t[1].toLowerCase()+s;else var a=e+"."+t[1].toLowerCase();return a=a.replace(/\//gi,"_").replace(/\+/gi,"-"),BASEURL+a},url2Mid=function(e){var i=new Uri(e);if((i.host()===mediaIdHost||i.host()===oldMediaIdHost)&&i.uriParts.directory==="/"+mediaIdDir+"/"){var r=i.uriParts.file,t=r.indexOf(".");if(t!==-1){r=r.slice(0,t),r=reverseString(r);var a=r.indexOf("_");if(a!==-1){var s=r.indexOf("_",a+1);if(s!==-1&&(r=r.slice(s+1)))return"@"+reverseString(r)}}}return e};exports.mid2Url=mid2Url,exports.url2Mid=url2Mid;
},{"@ali/ding-filetypes":714,"@ali/msgpack":729,"jsuri":901}],716:[function(require,module,exports){
"use strict";function reverseString(e){for(var i="",r=e.length-1;r>=0;r--)i+=e[r];return i}var msgpack=require("@ali/msgpack"),fileTypes=require("@ali/ding-filetypes"),Uri=require("jsuri"),mediaIdHost="static.dingtalk.com",oldMediaIdHost="i01.lw.aliimg.com",mediaIdDir="media",BASEURL="https://"+mediaIdHost+"/"+mediaIdDir+"/",isNoRetina=1===window.devicePixelRatio,mid2Object=function(e,i){var i=i||{};if("@"!==e.charAt(0))return"https:"===window.location.protocol&&(e=e.replace(/^http(?!s)/,"https")),{url:e,width:null,height:null,type:null};e=e.replace(/-/gi,"+").replace(/_/gi,"/");var e=e.substr(1),r=msgpack.decodeFromB64(e),t=fileTypes.getCateTypeById(r[0]).split("_");if("IMAGE"===t[0])if("origin"===i.imageSize)var a=e+"_"+r[3]+"_"+r[2]+"."+t[1].toLowerCase();else if("thumb"===i.imageSize)var o=isNoRetina?"_60x60q90.jpg":"_120x120q90.jpg",a=e+"_"+r[3]+"_"+r[2]+"."+t[1].toLowerCase()+o;else if("GIF"===t[1])var a=e+"_"+r[3]+"_"+r[2]+"."+t[1].toLowerCase();else var o=i.autoRotate?"_620x10000q90g.jpg":"_620x10000q90.jpg",a=e+"_"+r[3]+"_"+r[2]+"."+t[1].toLowerCase()+o;else var a=e+"."+t[1].toLowerCase();return a=a.replace(/\//gi,"_").replace(/\+/gi,"-"),{url:BASEURL+a,width:r[3],height:r[2],type:t}},mid2Url=function(e,i){return mid2Object(e,i).url},url2Mid=function(e){var i=new Uri(e);if((i.host()===mediaIdHost||i.host()===oldMediaIdHost)&&i.uriParts.directory==="/"+mediaIdDir+"/"){var r=i.uriParts.file,t=r.indexOf(".");if(t!==-1){r=r.slice(0,t),r=reverseString(r);var a=r.indexOf("_");if(a!==-1){var o=r.indexOf("_",a+1);if(o!==-1&&(r=r.slice(o+1)))return"@"+reverseString(r)}}}return e};exports.mid2Url=mid2Url,exports.url2Mid=url2Mid,exports.mid2Object=mid2Object;

},{"@ali/ding-filetypes":714,"@ali/msgpack":729,"jsuri":901}],717:[function(require,module,exports){
var QRCode;!function(){function t(t){this.mode=u.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var o=[],i=this.data.charCodeAt(e);i>65536?(o[0]=240|(1835008&i)>>>18,o[1]=128|(258048&i)>>>12,o[2]=128|(4032&i)>>>6,o[3]=128|63&i):i>2048?(o[0]=224|(61440&i)>>>12,o[1]=128|(4032&i)>>>6,o[2]=128|63&i):i>128?(o[0]=192|(1984&i)>>>6,o[1]=128|63&i):o[0]=i,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function o(t,e){this.totalCount=t,this.dataCount=e}function i(){this.buffer=[],this.length=0}function n(){return"undefined"!=typeof CanvasRenderingContext2D}function a(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var r=e.toString().match(/android ([0-9]\.[0-9])/i);r&&r[1]&&(t=parseFloat(r[1]))}return t}function s(t,e){for(var r=1,o=h(t),i=0,n=p.length;i<=n;i++){var a=0;switch(e){case l.L:a=p[i][0];break;case l.M:a=p[i][1];break;case l.Q:a=p[i][2];break;case l.H:a=p[i][3]}if(o<=a)break;r++}if(r>p.length)throw new Error("Too long data");return r}function h(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[o][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4?this.modules[t+r][e+o]=!0:this.modules[t+r][e+o]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=g.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){var o=t.createEmptyMovieClip(e,r),i=1;this.make();for(var n=0;n<this.modules.length;n++)for(var a=n*i,s=0;s<this.modules[n].length;s++){var h=s*i,u=this.modules[n][s];u&&(o.beginFill(0,100),o.moveTo(h,a),o.lineTo(h+i,a),o.lineTo(h+i,a+i),o.lineTo(h,a+i),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=g.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],i=t[r];if(null==this.modules[o][i])for(var n=-2;n<=2;n++)for(var a=-2;a<=2;a++)n==-2||2==n||a==-2||2==a||0==n&&0==a?this.modules[o+n][i+a]=!0:this.modules[o+n][i+a]=!1}},setupTypeNumber:function(t){for(var e=g.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(var r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,o=g.getBCHTypeInfo(r),i=0;i<15;i++){var n=!t&&1==(o>>i&1);i<6?this.modules[i][8]=n:i<8?this.modules[i+1][8]=n:this.modules[this.moduleCount-15+i][8]=n}for(var i=0;i<15;i++){var n=!t&&1==(o>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=n:i<9?this.modules[8][15-i-1+1]=n:this.modules[8][15-i-1]=n}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,i=7,n=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[o][a-s]){var h=!1;n<t.length&&(h=1==(t[n]>>>i&1));var u=g.getMask(e,o,a-s);u&&(h=!h),this.modules[o][a-s]=h,i--,i==-1&&(n++,i=7)}if(o+=r,o<0||this.moduleCount<=o){o-=r,r=-r;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,r,n){for(var a=o.getRSBlocks(t,r),s=new i,h=0;h<n.length;h++){var u=n[h];s.put(u.mode,4),s.put(u.getLength(),g.getLengthInBits(u.mode,t)),u.write(s)}for(var l=0,h=0;h<a.length;h++)l+=a[h].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*l)break;if(s.put(e.PAD0,8),s.getLengthInBits()>=8*l)break;s.put(e.PAD1,8)}return e.createBytes(s,a)},e.createBytes=function(t,e){for(var o=0,i=0,n=0,a=new Array(e.length),s=new Array(e.length),h=0;h<e.length;h++){var u=e[h].dataCount,l=e[h].totalCount-u;i=Math.max(i,u),n=Math.max(n,l),a[h]=new Array(u);for(var f=0;f<a[h].length;f++)a[h][f]=255&t.buffer[f+o];o+=u;var d=g.getErrorCorrectPolynomial(l),c=new r(a[h],d.getLength()-1),p=c.mod(d);s[h]=new Array(d.getLength()-1);for(var f=0;f<s[h].length;f++){var m=f+p.getLength()-s[h].length;s[h][f]=m>=0?p.get(m):0}}for(var v=0,f=0;f<e.length;f++)v+=e[f].totalCount;for(var _=new Array(v),C=0,f=0;f<i;f++)for(var h=0;h<e.length;h++)f<a[h].length&&(_[C++]=a[h][f]);for(var f=0;f<n;f++)for(var h=0;h<e.length;h++)f<s[h].length&&(_[C++]=s[h][f]);return _};for(var u={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},f={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},g={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;g.getBCHDigit(e)-g.getBCHDigit(g.G15)>=0;)e^=g.G15<<g.getBCHDigit(e)-g.getBCHDigit(g.G15);return(t<<10|e)^g.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;g.getBCHDigit(e)-g.getBCHDigit(g.G18)>=0;)e^=g.G18<<g.getBCHDigit(e)-g.getBCHDigit(g.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return g.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case f.PATTERN000:return(e+r)%2==0;case f.PATTERN001:return e%2==0;case f.PATTERN010:return r%3==0;case f.PATTERN011:return(e+r)%3==0;case f.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case f.PATTERN101:return e*r%2+e*r%3==0;case f.PATTERN110:return(e*r%2+e*r%3)%2==0;case f.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),o=0;o<t;o++)e=e.multiply(new r([1,d.gexp(o)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case u.MODE_NUMBER:return 10;case u.MODE_ALPHA_NUM:return 9;case u.MODE_8BIT_BYTE:return 8;case u.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case u.MODE_NUMBER:return 12;case u.MODE_ALPHA_NUM:return 11;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case u.MODE_NUMBER:return 14;case u.MODE_ALPHA_NUM:return 13;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;o<e;o++)for(var i=0;i<e;i++){for(var n=0,a=t.isDark(o,i),s=-1;s<=1;s++)if(!(o+s<0||e<=o+s))for(var h=-1;h<=1;h++)i+h<0||e<=i+h||0==s&&0==h||a==t.isDark(o+s,i+h)&&n++;n>5&&(r+=3+n-5)}for(var o=0;o<e-1;o++)for(var i=0;i<e-1;i++){var u=0;t.isDark(o,i)&&u++,t.isDark(o+1,i)&&u++,t.isDark(o,i+1)&&u++,t.isDark(o+1,i+1)&&u++,0!=u&&4!=u||(r+=3)}for(var o=0;o<e;o++)for(var i=0;i<e-6;i++)t.isDark(o,i)&&!t.isDark(o,i+1)&&t.isDark(o,i+2)&&t.isDark(o,i+3)&&t.isDark(o,i+4)&&!t.isDark(o,i+5)&&t.isDark(o,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var o=0;o<e-6;o++)t.isDark(o,i)&&!t.isDark(o+1,i)&&t.isDark(o+2,i)&&t.isDark(o+3,i)&&t.isDark(o+4,i)&&!t.isDark(o+5,i)&&t.isDark(o+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var o=0;o<e;o++)t.isDark(o,i)&&l++;var f=Math.abs(100*l/e/e-50)/5;return r+=10*f}},d={glog:function(t){if(t<1)throw new Error("glog("+t+")");return d.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return d.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},c=0;c<8;c++)d.EXP_TABLE[c]=1<<c;for(var c=8;c<256;c++)d.EXP_TABLE[c]=d.EXP_TABLE[c-4]^d.EXP_TABLE[c-5]^d.EXP_TABLE[c-6]^d.EXP_TABLE[c-8];for(var c=0;c<255;c++)d.LOG_TABLE[d.EXP_TABLE[c]]=c;r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),o=0;o<this.getLength();o++)for(var i=0;i<t.getLength();i++)e[o+i]^=d.gexp(d.glog(this.get(o))+d.glog(t.get(i)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=d.glog(this.get(0))-d.glog(t.get(0)),o=new Array(this.getLength()),i=0;i<this.getLength();i++)o[i]=this.get(i);for(var i=0;i<t.getLength();i++)o[i]^=d.gexp(d.glog(t.get(i))+e);return new r(o,0).mod(t)}},o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(t,e){var r=o.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=r.length/3,n=[],a=0;a<i;a++)for(var s=r[3*a+0],h=r[3*a+1],u=r[3*a+2],l=0;l<s;l++)n.push(new o(h,u));return n},o.getRsBlockTable=function(t,e){switch(e){case l.L:return o.RS_BLOCK_TABLE[4*(t-1)+0];case l.M:return o.RS_BLOCK_TABLE[4*(t-1)+1];case l.Q:return o.RS_BLOCK_TABLE[4*(t-1)+2];case l.H:return o.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},i.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var p=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],m=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg",t);for(var o in e)e.hasOwnProperty(o)&&r.setAttribute(o,e[o]);return r}var r=this._htOption,o=this._el,i=t.getModuleCount();Math.floor(r.width/i),Math.floor(r.height/i);this.clear();var n=e("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:r.colorLight});n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.appendChild(n),n.appendChild(e("rect",{fill:r.colorLight,width:"100%",height:"100%"})),n.appendChild(e("rect",{fill:r.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<i;a++)for(var s=0;s<i;s++)if(t.isDark(a,s)){var h=e("use",{x:String(a),y:String(s)});h.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),n.appendChild(h)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),v="svg"===document.documentElement.tagName.toLowerCase(),_=v?m:n()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.setProperty("display","block","important"),this._elCanvas.style.setProperty("display","none","important")}function e(t,e){var r=this;if(r._fFail=e,r._fSuccess=t,null===r._bSupportDataURI){var o=document.createElement("img"),i=function(){r._bSupportDataURI=!1,r._fFail&&r._fFail.call(r)},n=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)};return o.onabort=i,o.onerror=i,o.onload=n,void(o.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}r._bSupportDataURI===!0&&r._fSuccess?r._fSuccess.call(r):r._bSupportDataURI===!1&&r._fFail&&r._fFail.call(r)}if(this._android&&this._android<=2.1){var r=1/window.devicePixelRatio,o=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,e,i,n,a,s,h,u,l){if("nodeName"in t&&/img/i.test(t.nodeName))for(var f=arguments.length-1;f>=1;f--)arguments[f]=arguments[f]*r;else"undefined"==typeof u&&(arguments[1]*=r,arguments[2]*=r,arguments[3]*=r,arguments[4]*=r);o.apply(this,arguments)}}var i=function(t,e){this._bIsPainted=!1,this._android=a(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.setProperty("display","none","important"),this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(t){var e=this._elImage,r=this._oContext,o=this._htOption,i=t.getModuleCount(),n=o.width/i,a=o.height/i,s=Math.round(n),h=Math.round(a);e.style.setProperty("display","none","important"),this.clear();for(var u=0;u<i;u++)for(var l=0;l<i;l++){var f=t.isDark(u,l),g=l*n,d=u*a;r.strokeStyle=f?o.colorDark:o.colorLight,r.lineWidth=1,r.fillStyle=f?o.colorDark:o.colorLight,r.fillRect(g,d,n,a),r.strokeRect(Math.floor(g)+.5,Math.floor(d)+.5,s,h),r.strokeRect(Math.ceil(g)-.5,Math.ceil(d)-.5,s,h)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&e.call(this,t)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},i}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,r=this._el,o=t.getModuleCount(),i=Math.floor(e.width/o),n=Math.floor(e.height/o),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<o;s++){a.push("<tr>");for(var h=0;h<o;h++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+i+"px;height:"+n+"px;background-color:"+(t.isDark(s,h)?e.colorDark:e.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),r.innerHTML=a.join("");var u=r.childNodes[0],l=(e.width-u.offsetWidth)/2,f=(e.height-u.offsetHeight)/2;l>0&&f>0&&(u.style.margin=f+"px "+l+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();QRCode=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof e&&(e={text:e}),e)for(var r in e)this._htOption[r]=e[r];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(_=m),this._android=a(),this._el=t,this._oQRCode=null,this._oDrawing=new _(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(t){this._oQRCode=new e(s(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=l}(),module&&module.exports&&(module.exports=QRCode);

},{}],718:[function(require,module,exports){
function isValueEmpty(t){if(_.isUndefined(t))return!0;var e=_.isString(t)||_.isArray(t)||_.isObject(t)&&!_.isDate(t)||!1;return e?_.isEmpty(t):!(_.isNumber(t)||_.isBoolean(t)||_.isDate(t))}var _=require("lodash"),Rules=function(t,e){this.param=t,this.rules=e};Rules.prototype.Error=function(t,e,r){switch(typeof this.rules.error){case"string":t=this.rules.error;break;case"object":this.rules.error[e]?t=this.rules.error[e]:this.rules.error.default&&(t=this.rules.error.default)}return _.isString(r)&&(t=t.replace(/%v/,r.toString())),_.isString(e)&&(t=t.replace(/%r/,e)),t.replace(/%p/,this.param).replace(/%v/,"value").replace(/%r/,"rule")},Rules.prototype.apply=function(t){if(isValueEmpty(t)&&!_.isUndefined(this.rules.default)&&(t="function"==typeof this.rules.default?this.rules.default.call():this.rules.default),this.rules.required&&this.rules.required&&(_.isUndefined(t)||_.isUndefined(this.rules.type)&&/^\s*$/.test(t)))throw this.Error("%p is a required parameter","required",t);if(this.rules.allownull&&_.isNull(t))return t;if(_.isUndefined(t))return t;if(this.rules.filters&&(t=this.filter(t)),this.rules.type)if("string"==typeof this.rules.type&&"function"==typeof is[this.rules.type]){if(!is[this.rules.type](t))throw this.Error("%p is not a "+this.rules.type,"type",t)}else if(!this.rules.type(t))throw this.Error("%p is not a valid type","type",t);return this.rules.properties&&this.check(t),t},Rules.prototype.filter=function(t){switch(typeof this.rules.filters){case"function":t=this.rules.filters(t);break;case"string":"function"==typeof filters[this.rules.filters]&&(t=filters[this.rules.filters](t));break;case"object":_.isArray(this.rules.filters)&&this.rules.filters.forEach(function(e){t=filters[e](t)})}return t},Rules.prototype.check=function(t){switch(typeof this.rules.properties){case"function":if(!this.rules.properties(t))throw this.Error("%p is not valid");break;case"object":for(var e=_.keys(this.rules.properties),r=0;r<e.length;r++){var i=e[r];if("function"==typeof checks[i]){var s=this.rules.properties[i];if(!checks[i].apply(null,[t,s]))throw"in"===i?this.Error("'%p' failed '%r' with '%v' not one of ["+s.join(", ")+"]",i,t):this.Error("'%p' failed '%r' with '%v'",i,t)}else if("function"==typeof this.rules.properties[i]&&!this.rules.properties[i].apply(null,[t]))throw this.Error("'%p' failed on '%r' with '%v'",i,t)}}};var checks={max:function(t,e){return _.isArray(t)||"string"==typeof t?t.length<=e:"number"==typeof t&&t<=e},min:function(t,e){return _.isArray(t)||"string"==typeof t?t.length>=e:"number"==typeof t&&t>=e},regex:function(t,e){return e.test(t)},in:function(t,e){return e.indexOf(t)!=-1}},is={"string+":function(t){return"string"==typeof t&&t.length&&!/^\s+$/.test(t)},string:function(t){return"string"==typeof t},alphanum:function(t){return/^[a-zA-Z0-9]+$/i.test(t)&&"string"==typeof t},alpha:function(t){return/^[a-zA-Z]+$/i.test(t)},object:function(t){return"object"==typeof t&&!_.isArray(t)},array:function(t){return _.isArray(t)},date:function(t){return _.isDate(t)&&!isNaN(t.getTime())},number:function(t){return"number"==typeof t&&!isNaN(t)},int:function(t){return"number"==typeof t&&t%1===0&&!isNaN(t)},boolean:function(t){return _.isBoolean(t)},float:function(t){return"number"==typeof t&&!isNaN(t)},email:function(t){return/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?/.test(t)},url:function(t){return/^(http(s)?:\/\/)?([\w\-]+\.{1})*(([\w\-]*){1}(\.{1}[A-Za-z]{2,4}){1}){1}(\:{1}\d*)?([\?\/|\#]+[\@\~\;\+\'\#\,\.\%\-\/\&\?\=\w\$\s]*)*$/i.test(t)}},filters={toInt:function(t){var e=parseInt(t,10);return _.isNaN(e)?null:e},toFloat:function(t){var e=parseFloat(t,10);return _.isNaN(e)?null:e},toString:function(t){return t.toString()},toDate:function(t){return new Date(t)},toBoolean:function(t){return!(1!==t&&t!==!0&&!/true|on|yes|1/.test(t))||0!==t&&t!==!1&&!/false|off|no|0/.test(t)&&t},trim:function(t){return _.isString(t)?t.replace(/^\s\s*/,"").replace(/\s\s*$/,""):t},lowercase:function(t){return _.isString(t)?t.toLowerCase():t},uppercase:function(t){return _.isString(t)?t.toUpperCase():t}};exports.create=function(t,e){return new Rules(t,e)},exports.types=is,exports.filters=filters,exports.properties=checks;
},{"lodash":919}],719:[function(require,module,exports){
var _=require("lodash"),rules=require("./rules.js"),Schema=function(e){this.schema=e},checkArray=function(e,r,t,a){var s=!0;return a.forEach(function(c,i){try{if(e.schema.schema){c=rules.create(r,{type:"object"}).apply(c);var n=new Schema(e.schema.schema).validate(c);n.valid?a[i]=n.data:(t[r]=t[r]||[],t[r][i]=n.errors)}else a[i]=rules.create(r+"["+i+"]",e.schema).apply(c)}catch(e){s=!1,_.isArray(t[r])||(t[r]=[]),t[r][i]=e}}),s};Schema.prototype.validate=function(e,r){for(var t,a=_.keys(this.schema),s={},c={},i="function"==typeof e?e:function(r){return e[r]},n=0;n<a.length;n++){var l=this.schema[a[n]];try{if(t=rules.create(a[n],l).apply(i(a[n])),"object"!=typeof l.schema||_.isArray(l.schema)||!_.keys(l.schema).length||_.isUndefined(t))_.isUndefined(t)||(c[a[n]]=t);else if(l.allownull&&_.isNull(t))c[a[n]]=null;else if("object"==l.type){var o=new Schema(l.schema).validate(t);o.valid?c[a[n]]=o.data:s[a[n]]=o.errors}else"array"==l.type&&checkArray(l,a[n],s,t,i)&&(c[a[n]]=t)}catch(e){s[a[n]]=e}}if(r&&r.strict){var h=Object.keys(e),u=h.filter(function(e){return a.indexOf(e)<0});u.forEach(function(e){s[e]="Additional key not defined in schema"})}return{data:c,errors:s,valid:0===_.keys(s).length}},exports.types=rules.types,exports.test=function(e,r){return new Schema({input:r}).validate({input:e})},exports.properties=rules.properties,exports.filters=rules.filters,exports.create=function(e){return new Schema(e)};

},{"./rules.js":718,"lodash":919}],720:[function(require,module,exports){
module.exports=require("./lib/schema.js");

},{"./lib/schema.js":719}],721:[function(require,module,exports){
module.exports={pc_login_scancode:"Scan QR Code",pc_login_scancode_tip:"Please use the DingTalk APP to scan the QR code",pc_login_scancode_refresh:"Refresh",pc_login_scancode_registered:"Register",pc_login_password:"Password Login",pc_login_button:"Login",pc_login_button_auto:"Automatic Login",pc_login_button_auto_tip:"Support for Automatic login within seven days",pc_login_code:"Verification Code",pc_login_code_placeholder:"Enter the Verification Code",pc_login_code_send:"Send",pc_login_abnormal:"Failed to login?",pc_login_auth_connect:"The system is connecting, please wait a moment",pc_login_smscode_tip:"To make your account security, please enter the captcha received on the phone",dt_login_botton_confirm:"Confirm",pc_login_userregister_register:"Register",dt_login_mobile_input_placeholder:"Enter phone number",dt_login_password_input_placeholder:"Enter password",dt_login_errmsg_netandrefresh:"Your network is abnormal, and please click on the refresh button to retry after checking your network",dt_login_scancode_errmsg_refresh:"Your QR Code is no longer valid, and please click the refresh button on the bottom",dt_login_password_errmsg_overfourbit:"You must enter a password of 4 bits or more",dt_login_password_errmsg_errpassword:"The account password error, please check your password or to download the latest DingTalk client and set a password.",dt_login_password_errmsg_trythreetime:"The wrong password tries many times, your login after 30 minutes",dt_login_smscode_errmsg_senderror:"Send SMS Verification code failed, please try again later",dt_errmsg_network_abnormal:"Network abnormal, please try again later",dt_menu_conversation_title:"Messages",dt_menu_contact_title:"Contacts",dt_menu_ding_title:"DING",dt_menu_work_title:"Work",dt_menu_space_title:"Space",dt_menu_tel_title:"Call",dt_option_mail_title:"Mail",dt_option_create_title:"Create",dt_option_create_orgchat:"Enterprise Group",dt_option_create_chat:"Group Chat",dt_option_create_ding:"DING",dt_option_create_addfriend:"Add Friend",dt_option_manage_title:"Manage",dt_option_more_title:"More",dt_option_more_mysetting:"Account",dt_option_more_systemsetting:"Setting",dt_option_more_modifypassword:"Modify Password",dt_option_more_downloadapp:"Download APP",dt_option_more_orgregister:"Enterprise Registration",dt_option_more_help:"Help",dt_option_more_logout:"Log Out",dt_option_more_manage_robot:"Robot Management",dt_option_create_videoconf:"Video Conference",dt_chatbox_operations_announcement:"Announcement",dt_chatbox_operations_chatfile:"Chat File",dt_chatbox_operations_groupsetting:"Group Settings",dt_chatbox_operations_addMember:"Add Member",dt_chatbox_operations_profile:"Personal Profile",dt_chatbox_operations_call:"Dial DingTalk Call",dt_chatbox_operetions_remote_assist:"Remote Assistance",dt_chatbox_toolbar_attachment:"Attachment",dt_chatbox_toolbar_emotion:"Sticker",dt_chatbox_toolbar_selectcspacefile:"Choose the file from Space",dt_chatbox_toolbar_screenshot:"Screenshot (hold down the shift key can be displayed DingTalk window)",dt_chatbox_toolbar_sendcard:"Send a card to the session",dt_chatbox_toolbar_good:"Like",dt_chatbox_toolbar_at:"Try direct input @",dt_chatbox_common_send:"Send",dt_chatbox_msgmenu_withdraw:"Recall",dt_chatbox_msgmenu_ding:"DING",dt_chatbox_msgmenu_quote:"Quote",dt_chatbox_msgmenu_delete:"Delete",dt_chatbox_msgmenu_addemotion:"Added to the Sticker",dt_chatbox_msgmenu_saveas:"Save as",dt_chatbox_msgmenu_forward:"Forward",dt_search_input_placeholder:"Contacts, Groups, Chat Histories",dt_search_input_active:"Search...",dt_search_tab_all:"All",dt_search_tab_contact:"Contacts",dt_search_tab_group:"Group",dt_search_tab_chatrecord:"Chat record",dt_search_tip_tab:'On the keyboard "tab" to quickly switch classification',dt_search_tip_morerecord:"View more chat records",dt_uploadmanage_tip_title:"File transfer",dt_uploadmanage_tip_fileclear:"Clear records",dt_uploadmanage_state_success:"Upload complete",dt_uploadmanage_operations_open:"Open",dt_uploadmanage_operations_retry:"Retransmission",dt_uploadmanage_operations_cancelupload:"Cancel upload",pc_net_state_reconnecting:"Reconnecting...",pc_search_input_placeholder_norecord:"Search Contacts, Groups",pc_search_input_placeholder_contact:"Search Contacts ...",pc_search_input_placeholder_group:"Search Groups...",pc_search_input_placeholder_record:"Search Chat Histories...",pc_im_msgstate_peopleunread:" Unread",pc_im_msgstate_unread:"Unread",pc_im_msgstate_readed:"Read",pc_im_msgstate_allreaded:"All read",pc_im_msgstate_unreceive:"Unreceived",pc_im_msgstate_peopleunreceive:" Unreceived",pc_im_msgstate_received:"Received",pc_im_msgstate_allreceived:"All received",pc_im_msgstate_peopleconfirm:" Unconfirmed",pc_im_msgstate_unconfirm:"Unconfirmed",pc_im_msgstate_confirmed:"Confirmed",pc_im_msgstate_allconfirmed:"All confirmed",pc_im_oa_nosupport:"PC supporting is coming",pc_contact_my_friends:"Friends",pc_contact_my_groups:"Groups",pc_contact_my_concern:"VIP",pc_contact_company_organization_structure:"Organization Structure",pc_contact_company_external_contact:"External Address Book",dt_external_title_my_contact:"for which I was responsible",dt_external_title_share_contact:"sharing of me",dt_external_title_subordinate_contact:"I'm under the",dt_external_title_company_contact:"the entire company in",dt_external_title_allocted_contact:"in which no one is responsible for",pc_contact_external_contact_filter:"Filter",pc_contact_external_contact_batch_manage:"batch management",dt_external_no_contacts:"no outside contact person",pc_contact_external_contact_fetch_contact_list_failed:"Access to external contact list failed, please wait a moment and try again",pc_contact_external_contact_fetch_scope_list_failed:"Access list visible failure, please wait a moment and try again",pc_contact_external_contact_fetch_labels_failed:"Access to external contact person labels list failed, please try again later",pc_contact_external_contact_empty_labels:"No Labels",pc_contact_external_contact_filter_title:"Filters",pc_contact_external_contact_filter_reset:"reset",pc_contact_external_contact_filter_confirm:"confirm",pc_select_panel_external_contact_return_to_org_list:"Back",pc_modal_external_contact_permission_title:"Permissions",pc_modal_external_contact_permission_owner_label:"responsible person",pc_modal_external_contact_permission_can_view_dept_and_person:"The departments and persons which have permission to view",pc_modal_external_contact_permission_delete_dept:"delete",pc_modal_external_contact_permission_delete_person:"delete",dt_conference_history_conferencetype_call:"[Telephone]",dt_conference_history_conferencetype_videooto:"[Video]",dt_conference_history_conferencetype_voipoto:"[Voice]",dt_conference_bizcall_histovry_type:"[Biz Call]",dt_conference_syscall_histovry_type:"[Phone call]",dt_conference_start_btntitle_voipconf:"Conference Call",dt_conference_history_conferencetype_video_conftitle:"video conference",dt_conference_history_conferencetype_voipoto_conftitle:"Internet Conference",pc_toast_error_delete_conv:"delete conversation failed",dt_time_yesterday:"yesterday",dt_time_tomorrow:"tomorrow",dt_commom_person_num:"({{value1}} person)",pc_tel_phone_norecords:"No records",pc_tel_phone_norecords_tip:"Launch the HQ VoIP or Video Conferencing which can share desktop",pc_tel_dial_title:"Phone Call",pc_tel_dial_input_placeholder:"Please enter the number",pc_tel_dial_button_call:"Biz Call",pc_tel_dial_tips_open_call:"Telephone dial requires managers to activate [Biz Call] for you with the Dingtalk on phone",pc_tel_dial_explain_open_call:"By using Biz Call will be easier to find someone and not lost customer information",pc_tel_dial_tips_who_call:"the other will received {{value1}} Biz Call",pc_tel_conf_video:"Video Call",pc_tips_download_pc:"download PC DingTalk",pc_tel_conf_tips_nonsupport_web:"Not support web DingTalk, please",pc_tel_conf_tips_support_types:"Support 1080P HD video, meeting management and desktop sharing on a computer",pc_ding_info_file_item_preview:"Preview",pc_ding_info_file_item_download:"Download",pc_ding_info_file_item_save:"To Space",pc_ding_info_file_msg_type:"news",pc_ding_info_file_mail_type:"mail",pc_ding_info_support_tips:"this {{value1}} temporarily does not support the display, please check on the phone",pc_ding_reply_qiaoqiao:"Whisper",pc_ding_file_item_remove:"Delete",pc_ding_file_item_retry:"Retry",pc_ding_file_upload_attachment_number:"{{value1}} attachments",pc_ding_file_upload_add_attachment:"Add attachment",pc_ding_file_upload_local_file:"Local files",pc_ding_file_upload_space_file:"Space files",pc_ding_file_upload_over_limit:"No more attachment can be added",pc_upload_ding_file_add_attachment:"Add attachment",pc_upload_ding_file_confirm:"Set",dt_ding_detail_comment_public_tip:"replied to all",dt_ding_detail_comment_secret_reply_placeholder_tip:"Your reply will only be visible to the sender",dt_ding_detail_comment_secret_tip:"whispered to",pc_ding_detail_me:"Me",pc_ding_detail_send_btn:"Send",pc_ding_detail_reply_error_tips:"140 words can be typed at most",and_ding_detail:"DING detail",pc_ding_detail_input_tips:"Write your reply",dt_ding_view_confirm_users:"View confirmation details",and_ding_txt_confirmed_already:"Confirmed",and_ding_confirm_info:" unConfirmed",and_ding_text_to_send:"To Send",and_ding_txt_unconfirmed_member:"Not Confirmed",and_ding_inform_again:"Remind again",pc_ding_info_confirm_and_reply:"Identification and response",pc_ding_detail_reply:"Reply",dt_external_business_list_title:"Business Transaction",dt_im_box_work_list_title:"TODO",dt_no_work_agent:"No to-do list temporarily",dt_work_agent_empty_tips_AT:"here will show you and {{value1}} work in interaction todo",dt_work_agent_empty_tips_for_ov_conv:"here will show you in “{{value1}}” work to do",dt_AT_pull_down_show_detail:"{{value1}} pending item(s)",dt_im_box_work_empty_title:"no todo",pc_toast_error_opening_videoconf:"Being in a video conference, please try again later",pc_toast_error_launch:"Launch failed, please try again later",pc_toast_error_launch_call:"Call failed, please try again later",pc_toast_error_getcallrecord:"Access to telephone records failure",pc_toast_success_answer_call:"please answer the incoming call from {{value1}}",pc_external_complex_picker_default_title:"Choose an external contact person",pc_external_complex_picker_default_placeholder:"search external contact person",dt_common_delete:"Delete",dt_user_external_contact_label_select_title:"Choose Label",pc_contact_external_contact_edit_success:"updated labels success",pc_contact_external_contact_edit_failed:"updated label failure",dt_external_contact_label_empty:"please add a label",pc_menu_upload_download:"upload/download",pc_main_panel_connecting:"connecting",pc_external_contact_list_owner_tip:"responsible for",pc_toast_error_cancel_biz_call:"hang up failed, please wait a moment and try again",pc_callmodal_title_selectway:"Choose the way of call",pc_callmodal_pubcall_launch:"Biz Call",pc_callmodal_voip_launch:"Network Call",pc_modal_bizcall_title_launch:"Launching Biz Call...",pc_modal_bizcall_title_launch_error:"Biz Call launched failed",pc_modal_bizcall_conneting:"connecting",pc_modal_bizcall_profile_me:"me",pc_modal_bizcall_hangup:"Hang up",pc_modal_bizcall_redial:"Redial",pc_modal_bizcall_hangup_tip:"Window will be shut down after connected,  close the window would not cancel the Call",pc_video_bizcall:"Intelligent Biz Call",pc_video_networkcall:"Network Call",pc_video_confvideocall:"Video Call",pc_video_bizcall_nosupport:"Need to open the Biz Call",dt_message_decrypt_error_dismission:"Messages cannot be decrypted after resignation.",dt_message_decrypt_error_no_key:"Haven't got the key yet.",pc_safety_upgrade_tips:"Please update information decryption to a new version",pc_safety_upgrade_action:"Update",pc_safety_upgrade_confirm_title:"Confirm Information",pc_safety_upgrade_confirm_content:"The current version is outdated. It is impossible to decode the message.",and_im_encrypt_decrypt_error_prefix:"Failed the decrypt messages",pc_safety_download_safety_file_toast_success:"the encrypted file download success",pc_safety_download_safety_file_toast_fail:"the encrypted file download failed",pc_safety_fetch_key_fail:"for the time being no access to the secret key, please retry",pc_safety_file_leave_org_tips:"separation of the inability of employees to view the encrypted file",dt_im_conversation_show_history_desc:"The new members join the group can view chat history","ios.join_group.setting.summary":"New members to join the group by group verification.",dt_group_setting_all_silent_input_tips_all_member:"Muted",dt_group_setting_all_silent_input_tips:"Muted, be released in {{value1}}",dt_common_utils_date_day:"days",dt_common_utils_date_hour:"hours",dt_common_utils_date_min:"minutes",dt_second:"second",pc_wukong_error_130024:"group in the gag, message sending failure",pc_wukong_error_130012:"Group member not exists",pc_wukong_error_130003:"You have quite the group chat",and_ding_attach_version_low_content:"Current version is too low, pls upgrade",pc_ding_file_add_more:"Continue to add"};

},{}],722:[function(require,module,exports){
module.exports={pc_login_scancode:"扫码登录",pc_login_scancode_tip:"请使用钉钉扫描二维码登录",pc_login_scancode_refresh:"刷新",pc_login_scancode_registered:"注册",pc_login_password:"密码登录",pc_login_button:"登录",pc_login_button_auto:"自动登录",pc_login_button_auto_tip:"支持7天内的自动登录",pc_login_code:"验证码登录",pc_login_code_placeholder:"请输入验证码",pc_login_code_send:"发送验证码",pc_login_abnormal:"登录异常? 点此检测",pc_login_auth_connect:"系统连接中，请稍等",pc_login_smscode_tip:"为了您的帐号安全，请输入手机上收到的验证码",dt_login_botton_confirm:"确认",pc_login_userregister_register:"新用户注册",dt_login_mobile_input_placeholder:"请输入手机号",dt_login_password_input_placeholder:"请输入密码",dt_login_errmsg_netandrefresh:"您的网络异常，请检查您的网络后点击刷新按钮重试",dt_login_scancode_errmsg_refresh:"您的二维码已经失效，请点击下方的刷新按钮",dt_login_password_errmsg_overfourbit:"您必须输入4位以上的密码",dt_login_password_errmsg_errpassword:"账号密码错误，请检查你的密码或下载最新钉钉客户端设置密码。",dt_login_password_errmsg_trythreetime:"密码错误尝试过多次，您30分钟后登录",dt_login_smscode_errmsg_senderror:"发送短信验证码失败，请稍后再试",dt_errmsg_network_abnormal:"网络异常，请稍后再试",dt_menu_conversation_title:"消息",dt_menu_contact_title:"联系人",dt_menu_ding_title:"DING",dt_menu_work_title:"工作",dt_menu_space_title:"钉盘",dt_menu_tel_title:"电话",dt_option_mail_title:"钉邮",dt_option_create_title:"创建",dt_option_create_orgchat:"企业群聊天",dt_option_create_chat:"发起聊天",dt_option_create_ding:"Ding",dt_option_create_addfriend:"添加好友",dt_option_manage_title:"管理",dt_option_more_title:"更多",dt_option_more_mysetting:"个人设置",dt_option_more_systemsetting:"系统设置",dt_option_more_modifypassword:"修改密码",dt_option_more_downloadapp:"下载手机版",dt_option_more_orgregister:"企业注册",dt_option_more_help:"帮助反馈",dt_option_more_logout:"退出登录",dt_option_more_manage_robot:"机器人管理",dt_option_create_videoconf:"视频会议",dt_chatbox_operations_announcement:"群公告",dt_chatbox_operations_chatfile:"聊天文件",dt_chatbox_operations_groupsetting:"群设置",dt_chatbox_operations_addMember:"添加新成员",dt_chatbox_operations_profile:"个人简介",dt_chatbox_operations_call:"拨打钉钉电话",dt_chatbox_operetions_remote_assist:"邀请对方远程协助",dt_chatbox_toolbar_attachment:"附件",dt_chatbox_toolbar_emotion:"表情",dt_chatbox_toolbar_selectcspacefile:"选择钉盘文件",dt_chatbox_toolbar_screenshot:"截图 (按住shift键可显示钉钉窗口）",dt_chatbox_toolbar_sendcard:"发送名片到本会话",dt_chatbox_toolbar_good:"点赞",dt_chatbox_toolbar_at:"试试直接输入@",dt_chatbox_common_send:"发送",dt_chatbox_msgmenu_withdraw:"撤回",dt_chatbox_msgmenu_ding:"DING",dt_chatbox_msgmenu_quote:"引用",dt_chatbox_msgmenu_delete:"删除",dt_chatbox_msgmenu_addemotion:"添加到表情",dt_chatbox_msgmenu_saveas:"另存为",dt_chatbox_msgmenu_forward:"转发",dt_search_input_placeholder:"联系人、群组、聊天记录",dt_search_input_active:"搜索...",dt_search_tab_all:"全部",dt_search_tab_contact:"联系人",dt_search_tab_group:"群组",dt_search_tab_chatrecord:"聊天记录",dt_search_tip_tab:'按键盘"tab"快速切换分类',dt_search_tip_morerecord:"查看更多聊天记录",dt_uploadmanage_tip_title:"文件传输",dt_uploadmanage_tip_fileclear:"清空记录",dt_uploadmanage_state_success:"上传完成",dt_uploadmanage_operations_open:"打开",dt_uploadmanage_operations_retry:"重传",dt_uploadmanage_operations_cancelupload:"取消上传",pc_net_state_reconnecting:"正在重连...",pc_search_input_placeholder_norecord:"搜索联系人、群组",pc_search_input_placeholder_contact:"在联系人下搜索...",pc_search_input_placeholder_group:"在群组下搜索...",pc_search_input_placeholder_record:"在聊天记录下搜索...",pc_im_msgstate_peopleunread:"人未读",pc_im_msgstate_unread:"未读",pc_im_msgstate_readed:"已读",pc_im_msgstate_allreaded:"全部已读",pc_im_msgstate_unreceive:"未查收",pc_im_msgstate_peopleunreceive:"人未查收",pc_im_msgstate_received:"已查收",pc_im_msgstate_allreceived:"全部已查收",pc_im_msgstate_peopleconfirm:"人未确认",pc_im_msgstate_unconfirm:"未确认",pc_im_msgstate_confirmed:"已确认",pc_im_msgstate_allconfirmed:"全部确认",pc_im_oa_nosupport:"暂不支持电脑版查看详情",pc_contact_my_friends:"我的好友",pc_contact_my_groups:"我的群组",pc_contact_my_concern:"特别关注",pc_contact_company_organization_structure:"组织架构",pc_contact_company_external_contact:"外部联系人",dt_external_title_my_contact:"我负责的",dt_external_title_share_contact:"共享给我的",dt_external_title_subordinate_contact:"我下属的",dt_external_title_company_contact:"全公司的",dt_external_title_allocted_contact:"无人负责的",pc_contact_external_contact_filter:"筛选",pc_contact_external_contact_batch_manage:"批量管理",dt_external_no_contacts:"我还没有外部联系人",pc_contact_external_contact_fetch_contact_list_failed:"获取外部联系人列表失败，请稍候再试",pc_contact_external_contact_fetch_scope_list_failed:"获取可见列表失败，请稍候再试",pc_contact_external_contact_fetch_labels_failed:"获取外部联系人标签列表失败，请稍后再试",pc_contact_external_contact_empty_labels:"暂时没有标签",pc_contact_external_contact_filter_title:"筛选",pc_contact_external_contact_filter_reset:"重置",pc_contact_external_contact_filter_confirm:"确定",pc_select_panel_external_contact_return_to_org_list:"返回",pc_modal_external_contact_permission_title:"权限",pc_modal_external_contact_permission_owner_label:"负责人",pc_modal_external_contact_permission_can_view_dept_and_person:"有权限查看的部门和人",pc_modal_external_contact_permission_delete_dept:"删除",pc_modal_external_contact_permission_delete_person:"删除",dt_conference_history_conferencetype_call:"[电话]",dt_conference_history_conferencetype_videooto:"[视频]",dt_conference_history_conferencetype_voipoto:"[语音]",dt_conference_bizcall_histovry_type:"[办公电话]",dt_conference_syscall_histovry_type:"[普通电话]",dt_conference_start_btntitle_voipconf:"电话会议",dt_conference_history_conferencetype_video_conftitle:"视频会议",dt_conference_history_conferencetype_voipoto_conftitle:"网络会议",pc_toast_error_delete_conv:"删除会话失败",dt_time_yesterday:"昨天",dt_time_tomorrow:"明天",dt_commom_person_num:"({{value1}}人)",pc_tel_phone_norecords:"暂无通话记录",pc_tel_phone_norecords_tip:"可发起高清网络通话和能共享桌面的视频会议",pc_tel_dial_title:"拨号盘",pc_tel_dial_input_placeholder:"请输入要拨打的电话号码",pc_tel_dial_button_call:"办公电话",pc_tel_dial_tips_open_call:"需管理员在手机钉钉上给你开通【办公电话】才可使用",pc_tel_dial_explain_open_call:"为企业/组织量身定制的智能办公电话，找人更简单，客户信息不丢失",pc_tel_dial_tips_who_call:"对方将收到{{value1}}的办公电话呼叫",pc_tel_conf_video:"视频会议",pc_tips_download_pc:"下载电脑端",pc_tel_conf_tips_nonsupport_web:"不支持网页版钉钉，使用请",pc_tel_conf_tips_support_types:"支持1080P高清视频、主持人会议管理、电脑端桌面共享",pc_ding_info_file_item_preview:"预览",pc_ding_info_file_item_download:"下载",pc_ding_info_file_item_save:"转存钉盘",pc_ding_info_file_msg_type:"消息",pc_ding_info_file_mail_type:"邮件",pc_ding_info_support_tips:"本{{value1}}暂时不支持显示，请在手机上查看",pc_ding_reply_qiaoqiao:"悄悄回复",pc_ding_file_item_remove:"删除",pc_ding_file_item_retry:"重试",pc_ding_file_upload_attachment_number:"{{value1}}个附件",pc_ding_file_upload_add_attachment:"添加附件",pc_ding_file_upload_local_file:"本地文件",pc_ding_file_upload_space_file:"钉盘文件",pc_ding_file_upload_over_limit:"附件已达上限",pc_upload_ding_file_add_attachment:"添加附件",pc_upload_ding_file_confirm:"确定",dt_ding_detail_comment_public_tip:"公开对大家说",dt_ding_detail_comment_secret_reply_placeholder_tip:"你的回复仅发送者可见",dt_ding_detail_comment_secret_tip:"悄悄回复",pc_ding_detail_me:"我",pc_ding_detail_send_btn:"发送",pc_ding_detail_reply_error_tips:"回复内容过长，请缩减至140字以内",and_ding_detail:"DING详情",pc_ding_detail_input_tips:"输入回复内容",dt_ding_view_confirm_users:"查看确认详情",and_ding_txt_confirmed_already:"已确认",and_ding_confirm_info:"人未确认",and_ding_text_to_send:"待发送",and_ding_txt_unconfirmed_member:"未确认",and_ding_inform_again:"再次提醒",pc_ding_info_confirm_and_reply:"确定并回复",pc_ding_detail_reply:"回复",dt_external_business_list_title:"业务往来",dt_im_box_work_list_title:"工作待办",dt_no_work_agent:"暂无工作待办",dt_work_agent_empty_tips_AT:"这里将展示你和{{value1}}工作往来中的待办事项",dt_work_agent_empty_tips_for_ov_conv:"这里将展示你在“{{value1}}”的工作待办",dt_AT_pull_down_show_detail:"{{value1}}个待办",dt_im_box_work_empty_title:"暂无待办",pc_toast_error_opening_videoconf:"正在视频会议中，请稍后再试",pc_toast_error_launch:"发起失败，请稍后再试",pc_toast_error_launch_call:"发起呼叫失败，请稍后再试",pc_toast_error_getcallrecord:"获取通话记录失败",pc_toast_success_answer_call:"请注意接听{{value1}}来电",pc_external_complex_picker_default_title:"选择外部联系人",pc_external_complex_picker_default_placeholder:"搜索外部联系人",dt_common_delete:"删除",dt_user_external_contact_label_select_title:"选择标签",pc_contact_external_contact_edit_success:"更新标签成功",pc_contact_external_contact_edit_failed:"更新标签失败",dt_external_contact_label_empty:"请添加标签",pc_menu_upload_download:"上传/下载",pc_main_panel_connecting:"正在重连",pc_external_contact_list_owner_tip:"负责",pc_toast_error_cancel_biz_call:"挂断失败，请稍候重试",pc_callmodal_title_selectway:"选择发起方式",pc_callmodal_pubcall_launch:"发起办公电话",pc_callmodal_voip_launch:"发起网络通话",pc_modal_bizcall_title_launch:"正在发起办公电话...",pc_modal_bizcall_title_launch_error:"发起办公电话失败",pc_modal_bizcall_conneting:"接通中",pc_modal_bizcall_profile_me:"我",pc_modal_bizcall_hangup:"挂断",pc_modal_bizcall_redial:"重拨",pc_modal_bizcall_hangup_tip:"窗口将在接通后关闭，关闭窗口不会取消通话",pc_video_bizcall:"智能办公电话",pc_video_networkcall:"网络通话",pc_video_confvideocall:"视频通话",pc_video_bizcall_nosupport:"开通办公电话才可使用",dt_message_decrypt_error_dismission:"离职后无法解密消息",dt_message_decrypt_error_no_key:"暂未获取到秘钥，解密失败",pc_safety_upgrade_tips:"请升级新版本解密消息",pc_safety_upgrade_action:"升级",pc_safety_upgrade_confirm_title:"确认信息",pc_safety_upgrade_confirm_content:"当前版本过低，无法解密消息",and_im_encrypt_decrypt_error_prefix:"消息解密失败",pc_safety_download_safety_file_toast_success:"加密文件下载成功",pc_safety_download_safety_file_toast_fail:"加密文件下载失败",pc_safety_fetch_key_fail:"暂未获取到秘钥，请重新尝试",pc_safety_file_leave_org_tips:"离职员工无法查看加密文件",dt_im_conversation_show_history_desc:"新成员入群可查看最近100条聊天记录","ios.join_group.setting.summary":"新成员入群需要通过群主的验证",dt_group_setting_all_silent_input_tips_all_member:"禁言中",dt_group_setting_all_silent_input_tips:"禁言中，约{{value1}}后解禁",dt_common_utils_date_day:"天",dt_common_utils_date_hour:"小时",dt_common_utils_date_min:"分钟",dt_second:"秒",pc_wukong_error_130024:"群禁言中，消息发送失败",pc_wukong_error_130012:"该群已经被解散，不能发送消息",pc_wukong_error_130003:"您当前已经退出该群，不能发送消息",and_ding_attach_version_low_content:"当前版本过低,请升级最新版",pc_ding_file_add_more:"继续添加"};

},{}],723:[function(require,module,exports){
module.exports={pc_login_scancode:"掃碼登入",pc_login_scancode_tip:"請使用釘釘掃描二維碼登入",pc_login_scancode_refresh:"重繪",pc_login_scancode_registered:"注册",pc_login_password:"密碼登入",pc_login_button:"登入",pc_login_button_auto:"自動登錄",pc_login_button_auto_tip:"支持7天內的自動登錄",pc_login_code:"驗證碼登入",pc_login_code_placeholder:"請輸入驗證碼",pc_login_code_send:"發送驗證碼",pc_login_abnormal:"登入异常？點此檢測",pc_login_auth_connect:"系統連接中，請稍等",pc_login_smscode_tip:"為了您的帳號安全，請輸入手機上收到的驗證碼",dt_login_botton_confirm:"確認",pc_login_userregister_register:"新用戶註冊",dt_login_mobile_input_placeholder:"請輸入手機號",dt_login_password_input_placeholder:"請輸入密碼",dt_login_errmsg_netandrefresh:"您的網絡异常，請檢查您的網絡後點擊重繪按鈕重試",dt_login_scancode_errmsg_refresh:"您的二維碼已經失效，請點擊下方的重繪按鈕",dt_login_password_errmsg_overfourbit:"您必須輸入4比特以上的密碼",dt_login_password_errmsg_errpassword:"帳號密碼錯誤，請檢查你的密碼或下載最新釘釘用戶端設置密碼。",dt_login_password_errmsg_trythreetime:"密碼錯誤嘗試過多次，您30分鐘後登入",dt_login_smscode_errmsg_senderror:"發送短信驗證碼失敗，請稍後再試",dt_errmsg_network_abnormal:"網絡异常，請稍後再試",dt_menu_conversation_title:"消息",dt_menu_contact_title:"聯系人",dt_menu_ding_title:"DING",dt_menu_work_title:"工作",dt_menu_space_title:"釘盤",dt_menu_tel_title:"電話",dt_option_mail_title:"釘郵",dt_option_create_title:"創建",dt_option_create_orgchat:"企業群聊天",dt_option_create_chat:"發起聊天",dt_option_create_ding:"Ding",dt_option_create_addfriend:"添加好友",dt_option_manage_title:"管理",dt_option_more_title:"更多",dt_option_more_mysetting:"個人設置",dt_option_more_systemsetting:"系統設置",dt_option_more_modifypassword:"修改密碼",dt_option_more_downloadapp:"下載手機版",dt_option_more_orgregister:"企業註冊",dt_option_more_help:"幫助迴響",dt_option_more_logout:"登出",dt_option_more_manage_robot:"機器人管理",dt_option_create_videoconf:"視訊會議",dt_chatbox_operations_announcement:"群公告",dt_chatbox_operations_chatfile:"聊天檔案",dt_chatbox_operations_groupsetting:"群設定",dt_chatbox_operations_addMember:"添加新成員",dt_chatbox_operations_profile:"個人簡介",dt_chatbox_operations_call:"撥打釘釘電話",dt_chatbox_operetions_remote_assist:"邀請對方遠程協助",dt_chatbox_toolbar_attachment:"附件",dt_chatbox_toolbar_emotion:"表情",dt_chatbox_toolbar_selectcspacefile:"選擇釘盤檔案",dt_chatbox_toolbar_screenshot:"截圖（按住shift鍵可顯示釘釘視窗）",dt_chatbox_toolbar_sendcard:"發送名片到本會話",dt_chatbox_toolbar_good:"點贊",dt_chatbox_toolbar_at:"試試直接輸入@",dt_chatbox_common_send:"發送",dt_chatbox_msgmenu_withdraw:"撤回",dt_chatbox_msgmenu_ding:"DING",dt_chatbox_msgmenu_quote:"引用",dt_chatbox_msgmenu_delete:"删除",dt_chatbox_msgmenu_addemotion:"添加到表情",dt_chatbox_msgmenu_saveas:"另存為",dt_chatbox_msgmenu_forward:"轉發",dt_search_input_placeholder:"聯系人、群組、聊天記錄",dt_search_input_active:"蒐索…",dt_search_tab_all:"全部",dt_search_tab_contact:"聯系人",dt_search_tab_group:"群組",dt_search_tab_chatrecord:"聊天記錄",dt_search_tip_tab:'按鍵盤"tab"快速切換分類',dt_search_tip_morerecord:"查看更多聊天記錄",dt_uploadmanage_tip_title:"檔案傳輸",dt_uploadmanage_tip_fileclear:"清空記錄",dt_uploadmanage_state_success:"上傳完成",dt_uploadmanage_operations_open:"打開",dt_uploadmanage_operations_retry:"重傳",dt_uploadmanage_operations_cancelupload:"取消上傳",pc_net_state_reconnecting:"正在重連…",pc_search_input_placeholder_norecord:"蒐索聯系人、群組",pc_search_input_placeholder_contact:"在聯系人下蒐索…",pc_search_input_placeholder_group:"在群組下蒐索…",pc_search_input_placeholder_record:"在聊天記錄下蒐索…",pc_im_msgstate_peopleunread:"人未讀",pc_im_msgstate_unread:"未讀",pc_im_msgstate_readed:"已讀",pc_im_msgstate_allreaded:"全部已讀",pc_im_msgstate_unreceive:"未查收",pc_im_msgstate_peopleunreceive:"人未查收",pc_im_msgstate_received:"已查收",pc_im_msgstate_allreceived:"全部已查收",pc_im_msgstate_peopleconfirm:"人未確認",pc_im_msgstate_unconfirm:"未確認",pc_im_msgstate_confirmed:"已確認",pc_im_msgstate_allconfirmed:"全部確認",pc_im_oa_nosupport:"暫不支持電腦版查看詳情",pc_contact_my_friends:"我的好友",pc_contact_my_groups:"我的群組",pc_contact_my_concern:"特別關注",pc_contact_company_organization_structure:"組織架構",pc_contact_company_external_contact:"外部連絡人",dt_external_title_my_contact:"我負責的",dt_external_title_share_contact:"共亯給我的",dt_external_title_subordinate_contact:"我下屬的",dt_external_title_company_contact:"全公司的",dt_external_title_allocted_contact:"無人負責的",pc_contact_external_contact_filter:"篩選",pc_contact_external_contact_batch_manage:"批量管理",dt_external_no_contacts:"沒有外部連絡人",pc_contact_external_contact_fetch_contact_list_failed:"獲取外部連絡人清單失敗，請稍候再試",pc_contact_external_contact_fetch_scope_list_failed:"獲取可見清單失敗，請稍候再試",pc_contact_external_contact_fetch_labels_failed:"獲取外部連絡人標籤清單失敗，請稍後再試",pc_contact_external_contact_empty_labels:"暫時沒有標籤",pc_contact_external_contact_filter_title:"篩選",pc_contact_external_contact_filter_reset:"重置",pc_contact_external_contact_filter_confirm:"確定",pc_select_panel_external_contact_return_to_org_list:"返回",pc_modal_external_contact_permission_title:"許可權",pc_modal_external_contact_permission_owner_label:"負責人",pc_modal_external_contact_permission_can_view_dept_and_person:"有許可權查看的部門和人",pc_modal_external_contact_permission_delete_dept:"删除",pc_modal_external_contact_permission_delete_person:"删除",dt_conference_history_conferencetype_call:"[電話]",dt_conference_history_conferencetype_videooto:"[視頻]",dt_conference_history_conferencetype_voipoto:"[語音]",dt_conference_bizcall_histovry_type:"[辦公電話]",dt_conference_syscall_histovry_type:"[普通電話]",dt_conference_start_btntitle_voipconf:"電話會議",dt_conference_history_conferencetype_video_conftitle:"視訊會議",dt_conference_history_conferencetype_voipoto_conftitle:"網路會議",pc_toast_error_delete_conv:"删除會話失敗",dt_time_yesterday:"昨天",dt_time_tomorrow:"明天",dt_commom_person_num:"({{value1}}人)",pc_tel_phone_norecords:"暫無通話記錄",pc_tel_phone_norecords_tip:"可發起高清網絡通話和能共亯案頭的視訊會議",pc_tel_dial_title:"撥號盤",pc_tel_dial_input_placeholder:"請輸入要撥打的電話號碼",pc_tel_dial_button_call:"辦公電話",pc_tel_dial_tips_open_call:"需管理員在手機釘釘上給你開通【辦公電話】才可使用",pc_tel_dial_explain_open_call:"為企業/組織量身定制的智慧辦公電話，找人更簡單，客戶資訊不遺失",pc_tel_dial_tips_who_call:"對方將收到{{value1}}的辦公電話呼叫",pc_tel_conf_video:"視訊會議",pc_tips_download_pc:"下載電腦端",pc_tel_conf_tips_nonsupport_web:"不支持網頁版釘釘，使用請",pc_tel_conf_tips_support_types:"支持1080P高清視頻、主持人會議管理、電腦端案頭共亯",pc_ding_info_file_item_preview:"預覽",pc_ding_info_file_item_download:"下載",pc_ding_info_file_item_save:"轉存釘盤",pc_ding_info_file_msg_type:"消息",pc_ding_info_file_mail_type:"郵件",pc_ding_info_support_tips:"本{{value1}}暫時不支持顯示，請在手機上查看",pc_ding_reply_qiaoqiao:"悄悄回復",pc_ding_file_item_remove:"删除",pc_ding_file_item_retry:"重試",pc_ding_file_upload_attachment_number:"個附件",pc_ding_file_upload_add_attachment:"添加附件",pc_ding_file_upload_local_file:"本地檔案",pc_ding_file_upload_space_file:"釘盤檔案",pc_ding_file_upload_over_limit:"附件已達上限",pc_upload_ding_file_add_attachment:"添加附件",pc_upload_ding_file_confirm:"確定",dt_ding_detail_comment_public_tip:"公開對大家說",dt_ding_detail_comment_secret_reply_placeholder_tip:"你的回復僅發送者可見",dt_ding_detail_comment_secret_tip:"悄悄回復",pc_ding_detail_me:"我",pc_ding_detail_send_btn:"發送",pc_ding_detail_reply_error_tips:"回復內容過長，請縮減至140字以內",and_ding_detail:"DING詳情",pc_ding_detail_input_tips:"輸入回復內容",dt_ding_view_confirm_users:"查看確認詳情",and_ding_txt_confirmed_already:"已確認",and_ding_confirm_info:"人未確認",and_ding_text_to_send:"待發送",and_ding_txt_unconfirmed_member:"未確認",and_ding_inform_again:"再次提醒",pc_ding_info_confirm_and_reply:"確定並回復",pc_ding_detail_reply:"回復",dt_external_business_list_title:"業務往來",dt_im_box_work_list_title:"工作待辦",dt_no_work_agent:"暫無待辦事項",dt_work_agent_empty_tips_AT:"這裡將展示你和{{value1}}工作往來中的待辦事項",dt_work_agent_empty_tips_for_ov_conv:"這裡將展示你在“{{value1}}”的工作待辦",dt_AT_pull_down_show_detail:"{{value1}}個待辦",dt_im_box_work_empty_title:"暫無待辦",pc_toast_error_opening_videoconf:"正在視訊會議中，請稍後再試",pc_toast_error_launch:"發起失敗，請稍後再試",pc_toast_error_launch_call:"發起呼叫失敗，請稍後再試I",pc_toast_error_getcallrecord:"獲取通話記錄失敗",pc_toast_success_answer_call:"請注意接聽{{value1}}來電",pc_external_complex_picker_default_title:"選擇外部連絡人",pc_external_complex_picker_default_placeholder:"蒐索外部連絡人",dt_common_delete:"删除",dt_user_external_contact_label_select_title:"選擇標籤",pc_contact_external_contact_edit_success:"更新標籤成功",pc_contact_external_contact_edit_failed:"更新標籤失敗",dt_external_contact_label_empty:"請添加標籤",pc_menu_upload_download:"上傳/下載",pc_main_panel_connecting:"正在重連",pc_external_contact_list_owner_tip:"負責",pc_toast_error_cancel_biz_call:"掛斷失敗，請稍候重試",pc_callmodal_title_selectway:"選擇發起管道",pc_callmodal_pubcall_launch:"發起辦公電話",pc_callmodal_voip_launch:"發起網絡通話",pc_modal_bizcall_title_launch:"正在發起辦公電話…",pc_modal_bizcall_title_launch_error:"發起辦公電話失敗",pc_modal_bizcall_conneting:"接通中",pc_modal_bizcall_profile_me:"我",pc_modal_bizcall_hangup:"掛斷",pc_modal_bizcall_redial:"重撥",pc_modal_bizcall_hangup_tip:"視窗將在接通後關閉，關閉窗口不會取消通話",pc_video_bizcall:"智慧辦公電話",pc_video_networkcall:"網絡通話",pc_video_confvideocall:"視頻通話",pc_video_bizcall_nosupport:"開通辦公電話才可使用",dt_message_decrypt_error_dismission:"離職後無法解密消息",dt_message_decrypt_error_no_key:"暫未獲取到秘鑰，解密失敗",pc_safety_upgrade_tips:"請陞級新版本解密消息",pc_safety_upgrade_action:"陞級",pc_safety_upgrade_confirm_title:"確認資訊",pc_safety_upgrade_confirm_content:"當前版本過低，無法解密消息",and_im_encrypt_decrypt_error_prefix:"消息解密失敗",pc_safety_download_safety_file_toast_success:"加密檔下載成功",pc_safety_download_safety_file_toast_fail:"加密檔下載失敗",pc_safety_fetch_key_fail:"暫未獲取到秘鑰，請重新嘗試",pc_safety_file_leave_org_tips:"離職員工無法查看加密檔",dt_im_conversation_show_history_desc:"新成員入群可查看最近100條聊天記錄","ios.join_group.setting.summary":"新成員入群需要通過群主的驗證",dt_group_setting_all_silent_input_tips_all_member:"禁言中",dt_group_setting_all_silent_input_tips:"禁言中，約{{value1}}後解禁",dt_common_utils_date_day:"天",dt_common_utils_date_hour:"小時",dt_common_utils_date_min:"分鐘",dt_second:"秒",pc_wukong_error_130024:"群禁言中，消息發送失敗",pc_wukong_error_130012:"該群已經被解散，不能發送消息",pc_wukong_error_130003:"您當前已經退出該群，不能發送消息",and_ding_attach_version_low_content:"當前版本過低,請升級最新版",pc_ding_file_add_more:"繼續添加"};

},{}],724:[function(require,module,exports){
"use strict";var ResponseMsg=require("./libs/ResponseMsg"),RequestMsg=require("./libs/RequestMsg"),PendingMsgs=require("./libs/PendingMsgs"),pendingMsgs=new PendingMsgs,SYS_METHOD_NAME=require("./libs/SysMethodsName"),MSG={API_NOT_EXIST_MSG:{reason:"API NOT EXIST",code:404},API_NOT_PERMISSION_MSG:{reason:"NO PERMISSION",code:401}},frameTalkCache={};window.addEventListener("message",function(e){var t=e.data,s=e.source,n=e.origin,i=t.containerId,r=t.msgId,o=t.type||"request";if(!r)throw new Error("frameTalk msgId 不能为空");if("request"===o){var a=new ResponseMsg(s,n,t);frameTalkCache[i]?frameTalkCache[i].receiveMsg(a):a.respond(MSG.API_NOT_EXIST_MSG,!0)}else{var c=pendingMsgs.getMsyById(r);"response"===o?c&&c.receiveResponse(t.body,!t.success,e):c&&c.receiveEvent(t.eventName,t.body)}});var FrameTalkHost=function(e,t,s){this.clientOrigin=t||"*",this.hostVersion=s||"*",this.hostOrigin=e||"*",this.containerId=this._genContainerId(),this._callbackCache={},frameTalkCache[this.containerId]=this,this._sysEventMsg=null,this.init()};FrameTalkHost.prototype.init=function(){this.register(SYS_METHOD_NAME.SYS_EVENT,function(e){this._sysEventMsg=e}.bind(this))},FrameTalkHost.prototype.sendInitMsg=function(e){this._sendMsgToWebview(SYS_METHOD_NAME.SYS_INIT,{},e).result.then(function(e){})},FrameTalkHost.prototype._genContainerId=function(){return(new Date).getTime()+Math.ceil(1e3*Math.random())},FrameTalkHost.prototype.register=function(e,t){this._callbackCache[e]=t},FrameTalkHost.prototype.deRegister=function(e){delete this._callbackCache[e]},FrameTalkHost.prototype.clearRegisted=function(){Object.keys(this._callbackCache).filter(function(e){return"SYS"!==e.slice(0,3)}).map(function(e){return this.deRegister(e)}.bind(this))},FrameTalkHost.prototype.getContainerName=function(){return JSON.stringify({hostOrigin:this.hostOrigin,containerId:this.containerId,hostVersion:this.hostVersion})},FrameTalkHost.prototype.destroyContainer=function(){delete frameTalkCache[this.containerId]},FrameTalkHost.prototype._sendMsgToWebview=function(e,t,s){var n=new RequestMsg(this.containerId,e,t,{timeout:6e4});return s.contentWindow.postMessage(n.getPayload(),"*"),pendingMsgs.addPending(n),n},FrameTalkHost.prototype.emitEvent=function(e,t){this._sysEventMsg&&this._sysEventMsg.emit(e,t)},FrameTalkHost.prototype.receiveMsg=function(e){"*"===this.clientOrigin||this.clientOrigin===e.clientOrigin?this._callbackCache[e.methodName]?this._callbackCache[e.methodName](e):e.respond(MSG.API_NOT_EXIST_MSG,!0):e.respond(MSG.API_NOT_PERMISSION_MSG,!0)},module.exports=FrameTalkHost;
},{"./libs/PendingMsgs":725,"./libs/RequestMsg":726,"./libs/ResponseMsg":727,"./libs/SysMethodsName":728}],725:[function(require,module,exports){
"use strict";var PendingMsgs=function(){this.pendingMsgs={}};PendingMsgs.prototype.addPending=function(n){this.pendingMsgs[n.id]=n;var s=function(){delete this.pendingMsgs[n.id],n.removeEventListener("_finish",s)}.bind(this);n.addEventListener("_finish",s)},PendingMsgs.prototype.getMsyById=function(n){return this.pendingMsgs[n]},module.exports=PendingMsgs;

},{}],726:[function(require,module,exports){
"use strict";var _cloneDeep=require("lodash.clonedeep"),_assign=require("lodash.assign"),genMsgId=function(){return(new Date).getTime()+Math.ceil(1e3*Math.random())},TIMEOUT_MSG={code:408,reason:"timeout"},EVENTS_NAME={TIMEOUT:"_timeout",FINISH:"_finish"},defaultOption={timeout:-1},RequestMsg=function(e,t,i,s){this.id=genMsgId(),this.methodName=t,this.containerId=e,this.isPromiseMode=!0,this.option=_assign({},defaultOption,s);var i=i||{};i.onSuccess&&"function"==typeof i.onSuccess&&(this.isPromiseMode=!1),this._p={},this.isPromiseMode===!0&&(this.result=new Promise(function(e,t){this._p._resolve=e,this._p._reject=t}.bind(this))),this.callbacks={},this.plainMsg=this._handleMsg(i),this._eventsHandle={},this._timeoutTimer=null,this._initTimeout(),this.isFinish=!1};RequestMsg.prototype._initTimeout=function(){this._clearTimeout(),this.option.timeout>0&&(this._timeoutTimer=setTimeout(function(){this.receiveEvent(EVENTS_NAME.TIMEOUT),this.receiveResponse(TIMEOUT_MSG,!0)}.bind(this),this.option.timeout))},RequestMsg.prototype._clearTimeout=function(){clearTimeout(this._timeoutTimer)},RequestMsg.prototype._handleMsg=function(e){var t={};return Object.keys(e).forEach(function(i){var s=e[i];"function"==typeof s&&"on"===i.slice(0,2)?this.callbacks[i]=s:t[i]=_cloneDeep(s)}.bind(this)),t},RequestMsg.prototype.getPayload=function(){return{msgId:this.id,containerId:this.containerId,methodName:this.methodName,body:this.plainMsg,type:"request"}},RequestMsg.prototype.receiveEvent=function(e,t){if(this.isFinish&&e!==EVENTS_NAME.FINISH)return!1;e!==EVENTS_NAME.FINISH&&e!==EVENTS_NAME.TIMEOUT&&this._initTimeout(),Array.isArray(this._eventsHandle[e])&&this._eventsHandle[e].forEach(function(e){try{e(t)}catch(e){console.error(t)}});var i="on"+e.charAt(0).toUpperCase()+e.slice(1);return this.callbacks[i]&&this.callbacks[i](t),!0},RequestMsg.prototype.addEventListener=function(e,t){if(!e||"function"!=typeof t)throw"eventName is null or handle is not a function, addEventListener fail";Array.isArray(this._eventsHandle[e])||(this._eventsHandle[e]=[]),this._eventsHandle[e].push(t)},RequestMsg.prototype.removeEventListener=function(e,t){if(!e||!t)throw"eventName is null or handle is null, invoke removeEventListener fail";if(Array.isArray(this._eventsHandle[e])){var i=this._eventsHandle[e].indexOf(t);i!==-1&&this._eventsHandle[e].splice(i,1)}},RequestMsg.prototype.receiveResponse=function(e,t){if(this.isFinish===!0)return!1;this._clearTimeout();var t=!!t;return t?(this.isPromiseMode&&this._p._reject(e),this.callbacks&&this.callbacks.onFail&&this.callbacks.onFail(e)):(this.isPromiseMode&&this._p._resolve(e),this.callbacks&&this.callbacks.onSuccess&&this.callbacks.onSuccess(e)),setTimeout(function(){this.receiveEvent(EVENTS_NAME.FINISH)}.bind(this),0),this.isFinish=!0,!0},module.exports=RequestMsg;

},{"lodash.assign":909,"lodash.clonedeep":910}],727:[function(require,module,exports){
"use strict";var ResponseMsg=function(s,e,t){if(this._msgId=t.msgId,this.frameWindow=s,this.methodName=t.methodName,this.clientOrigin=e,this.containerId=t.containerId,this.params=t.body,!this._msgId)throw"msgId not exist";if(!this.frameWindow)throw"frameWindow not exist";if(!this.methodName)throw"methodName not exits";if(!this.clientOrigin)throw"clientOrigin not exist";this.hasResponded=!1};ResponseMsg.prototype.respond=function(s,e){var e=!!e;if(this.hasResponded!==!0){var t={type:"response",success:!e,body:s,msgId:this._msgId};this.frameWindow.postMessage(t,this.clientOrigin),this.hasResponded=!0}},ResponseMsg.prototype.emit=function(s,e){var t={type:"event",eventName:s,body:e,msgId:this._msgId};this.frameWindow.postMessage(t,this.clientOrigin)},module.exports=ResponseMsg;
},{}],728:[function(require,module,exports){
"use strict";module.exports={SYS_EVENT:"SYS_openAPIContainerInitEvent",SYS_INIT:"SYS_openAPIContainerInit"};

},{}],729:[function(require,module,exports){
"use strict";function inspect(t){if(void 0===t)return"undefined";var e,r;if(t instanceof ArrayBuffer?(r="ArrayBuffer",e=new DataView(t)):t instanceof DataView&&(r="DataView",e=t),!e)return JSON.stringify(t);for(var i=[],n=0;n<t.byteLength;n++){if(n>20){i.push("...");break}var s=e.getUint8(n).toString(16);1===s.length&&(s="0"+s),i.push(s)}return"<"+r+" "+i.join(" ")+">"}function utf8Write(t,e,r){for(var i=(t.byteLength,0),n=r.length;i<n;i++){var s=r.charCodeAt(i);if(s<128)t.setUint8(e++,s>>>0&127|0);else if(s<2048)t.setUint8(e++,s>>>6&31|192),t.setUint8(e++,s>>>0&63|128);else if(s<65536)t.setUint8(e++,s>>>12&15|224),t.setUint8(e++,s>>>6&63|128),t.setUint8(e++,s>>>0&63|128);else{if(!(s<1114112))throw new Error("bad codepoint "+s);t.setUint8(e++,s>>>18&7|240),t.setUint8(e++,s>>>12&63|128),t.setUint8(e++,s>>>6&63|128),t.setUint8(e++,s>>>0&63|128)}}}function utf8Read(t,e,r){var i="",n=navigator.userAgent.match(/Chrome\/(\S+)/),s=0;n&&n[1]&&(s=parseInt(n[1]),isNaN(s)&&(s=0));try{if("undefined"!=typeof TextDecoder&&s>41)var f=new TextDecoder("utf-8",{fatal:!0});else var f=new jsUTF8Encoding.TextDecoder("utf-8",{fatal:!0});var o=t.buffer.slice(e,e+r);i=f.decode(o)}catch(n){i=t.buffer.slice(e,e+r)}return i}function utf8ByteCount(t){for(var e=0,r=0,i=t.length;r<i;r++){var n=t.charCodeAt(r);if(n<128)e+=1;else if(n<2048)e+=2;else if(n<65536)e+=3;else{if(!(n<1114112))throw new Error("bad codepoint "+n);e+=4}}return e}function Decoder(t,e,r){this.offset=e||0,this.view=t,this.bytes=r}function decode(t){var e=t.buffer,r=new DataView(e),i=new Decoder(r,0,t),n=i.parse();if(i.offset!==e.byteLength)throw new Error(e.byteLength-i.offset+" trailing bytes");return n}function encode(t,e,r){var i=typeof t;if("string"===i){var n=utf8ByteCount(t);if(n<32)return e.setUint8(r,160|n),utf8Write(e,r+1,t),1+n;if(n<65536)return e.setUint8(r,218),e.setUint16(r+1,n),utf8Write(e,r+3,t),3+n;if(n<4294967296)return e.setUint8(r,219),e.setUint32(r+1,n),utf8Write(e,r+5,t),5+n}if(t instanceof ArrayBuffer){var n=t.byteLength;if(n<65536)return e.setUint8(r,216),e.setUint16(r+1,n),new Uint8Array(e.buffer).set(new Uint8Array(t),r+3),3+n;if(n<4294967296)return e.setUint8(r,217),e.setUint32(r+1,n),new Uint8Array(e.buffer).set(new Uint8Array(t),r+5),5+n}if("number"===i){if(t<<0!==t)return e.setUint8(r,203),e.setFloat64(r+1,t),9;if(t>=0){if(t<128)return e.setUint8(r,t),1;if(t<256)return e.setUint8(r,204),e.setUint8(r+1,t),2;if(t<65536)return e.setUint8(r,205),e.setUint16(r+1,t),3;if(t<4294967296)return e.setUint8(r,206),e.setUint32(r+1,t),5;throw new Error("Number too big 0x"+t.toString(16))}if(t>=-32)return e.setInt8(r,t),1;if(t>=-128)return e.setUint8(r,208),e.setInt8(r+1,t),2;if(t>=-32768)return e.setUint8(r,209),e.setInt16(r+1,t),3;if(t>=-2147483648)return e.setUint8(r,210),e.setInt32(r+1,t),5;throw new Error("Number too small -0x"+(-t).toString(16).substr(1))}if("undefined"===i)return e.setUint8(r,196),1;if(null===t)return e.setUint8(r,192),1;if("boolean"===i)return e.setUint8(r,t?195:194),1;if("object"===i){var n,s=0,f=Array.isArray(t);if(f)n=t.length;else{var o=Object.keys(t);n=o.length}var s;if(n<16?(e.setUint8(r,n|(f?144:128)),s=1):n<65536?(e.setUint8(r,f?220:222),e.setUint16(r+1,n),s=3):n<4294967296&&(e.setUint8(r,f?221:223),e.setUint32(r+1,n),s=5),f)for(var u=0;u<n;u++)s+=encode(t[u],e,r+s);else for(var u=0;u<n;u++){var a=o[u];s+=encode(a,e,r+s),s+=encode(t[a],e,r+s)}return s}throw new Error("Unknown type "+i)}function sizeof(t){var e=typeof t;if("string"===e){var r=utf8ByteCount(t);if(r<32)return 1+r;if(r<65536)return 3+r;if(r<4294967296)return 5+r}if(t instanceof ArrayBuffer){var r=t.byteLength;if(r<65536)return 3+r;if(r<4294967296)return 5+r}if("number"===e){if(t<<0!==t)return 9;if(t>=0){if(t<128)return 1;if(t<256)return 2;if(t<65536)return 3;if(t<4294967296)return 5;if(t<0x10000000000000000)return 9;throw new Error("Number too big 0x"+t.toString(16))}if(t>=-32)return 1;if(t>=-128)return 2;if(t>=-32768)return 3;if(t>=-2147483648)return 5;if(t>=-0x8000000000000000)return 9;throw new Error("Number too small -0x"+t.toString(16).substr(1))}if("boolean"===e||"undefined"===e||null===t)return 1;if("object"===e){var r,i=0;if(Array.isArray(t)){r=t.length;for(var n=0;n<r;n++)i+=sizeof(t[n])}else{var s=Object.keys(t);r=s.length;for(var n=0;n<r;n++){var f=s[n];i+=sizeof(f)+sizeof(t[f])}}if(r<16)return 1+i;if(r<65536)return 3+i;if(r<4294967296)return 5+i;throw new Error("Array or object too long 0x"+r.toString(16))}throw new Error("Unknown type "+e)}var jsUTF8Encoding=require("@ali/utf8-encoding");exports.inspect=inspect,exports.utf8Write=utf8Write,exports.utf8Read=utf8Read,exports.utf8ByteCount=utf8ByteCount,exports.encode=function(t){var e=new ArrayBuffer(sizeof(t)),r=new DataView(e);return encode(t,r,0),e},exports.decode=decode,Decoder.prototype.map=function(t){for(var e={},r=0;r<t;r++){var i=this.parse();e[i]=this.parse()}return e},Decoder.prototype.buf=function(t){var e=new ArrayBuffer(t);return new Uint8Array(e).set(new Uint8Array(this.view.buffer,this.offset,t),0),this.offset+=t,e},Decoder.prototype.raw=function(t){var e=utf8Read(this.view,this.offset,t);return this.offset+=t,e},Decoder.prototype.array=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=this.parse();return e},Decoder.prototype.parse=function(){var t,e,r=this.view.getUint8(this.offset);if(160===(224&r))return e=31&r,this.offset++,this.raw(e);if(128===(240&r))return e=15&r,this.offset++,this.map(e);if(144===(240&r))return e=15&r,this.offset++,this.array(e);if(0===(128&r))return this.offset++,r;if(224===(224&r))return t=this.view.getInt8(this.offset),this.offset++,t;switch(r){case 218:return e=this.view.getUint16(this.offset+1),this.offset+=3,this.raw(e);case 219:return e=this.view.getUint32(this.offset+1),this.offset+=5,this.raw(e);case 192:return this.offset++,null;case 194:return this.offset++,!1;case 195:return this.offset++,!0;case 196:return void this.offset++;case 204:return t=this.view.getUint8(this.offset+1),this.offset+=2,t;case 205:return t=this.view.getUint16(this.offset+1),this.offset+=3,t;case 206:return t=this.view.getUint32(this.offset+1),this.offset+=5,t;case 208:return t=this.view.getInt8(this.offset+1),this.offset+=2,t;case 209:return t=this.view.getInt16(this.offset+1),this.offset+=3,t;case 210:return t=this.view.getInt32(this.offset+1),this.offset+=5,t;case 222:return e=this.view.getUint16(this.offset+1),this.offset+=3,this.map(e);case 223:return e=this.view.getUint32(this.offset+1),this.offset+=5,this.map(e);case 220:return e=this.view.getUint16(this.offset+1),this.offset+=3,this.array(e);case 221:return e=this.view.getUint32(this.offset+1),this.offset+=5,this.array(e);case 216:return e=this.view.getUint16(this.offset+1),this.offset+=3,this.buf(e);case 217:return e=this.view.getUint32(this.offset+1),this.offset+=5,this.buf(e);case 202:return t=this.view.getFloat32(this.offset+1),this.offset+=5,t;case 203:return t=this.view.getFloat64(this.offset+1),this.offset+=9,t;case 207:var i=this.bytes;this.offset++;var n=16777216*i[this.offset++]+(i[this.offset++]<<16)+(i[this.offset++]<<8)+i[this.offset++];return 4294967296*n+16777216*i[this.offset++]+(i[this.offset++]<<16)+(i[this.offset++]<<8)+i[this.offset++]}throw new Error("Unknown type 0x"+r.toString(16))},exports.decodeFromB64=function(t){for(var e=window.atob(t),r=e.length,i=new Uint8Array(r),n=0;n<r;n++){var s=e.charCodeAt(n);i[n]=s}return exports.decode(i)};

},{"@ali/utf8-encoding":749}],730:[function(require,module,exports){
"use strict";module.exports={"èr":"二贰","shí":"十时实蚀","yǐ":"乙已以蚁倚","yī":"一衣医依伊揖壹","chǎng,ān,hàn":"厂","dīng,zhēng":"丁","qī":"七戚欺漆柒凄嘁","bǔ,bo":"卜","rén":"人仁","rù":"入褥","jiǔ":"九久酒玖灸韭","ér":"儿而","bā":"八巴疤叭芭捌笆","jǐ,jī":"几","le,liǎo":"了","lì":"力历厉立励利例栗粒吏沥荔俐莉砾雳痢","dāo":"刀","nǎi":"乃奶","sān":"三叁","yòu":"又右幼诱佑","yú":"于余鱼娱渔榆愚隅逾舆","shì":"士示世市式势事侍饰试视柿是适室逝释誓拭恃嗜","gān,gàn":"干","gōng":"工弓公功攻宫恭躬","kuī":"亏盔窥","tǔ":"土","cùn":"寸","dà,dài,tài":"大","cái":"才材财裁","xià":"下夏","zhàng":"丈仗帐胀障杖账","yǔ,yù,yú":"与","shàng,shǎng":"上","wàn,mò":"万","kǒu":"口","xiǎo":"小晓","jīn":"巾斤今金津筋襟","shān":"山删衫珊","qiān":"千迁牵谦签","qǐ":"乞企启起","chuān":"川穿","gè,gě":"个各","sháo":"勺芍","yì":"亿义艺忆议亦异役译易疫益谊意毅翼屹抑邑绎奕逸肄溢","jí":"及吉级极即急疾集籍棘辑嫉","fán":"凡烦矾樊","xī":"夕西吸希析牺息悉惜稀锡溪熄膝昔晰犀熙嬉蟋","wán":"丸完玩顽","me,mó,ma,yāo":"么","guǎng,ān":"广","wáng,wú":"亡","mén":"门们","shī":"尸失师诗狮施湿虱","zhī":"之支汁芝肢脂蜘","jǐ":"己挤脊","zǐ":"子紫姊籽滓","wèi":"卫未位味畏胃喂慰谓猬蔚魏","yě":"也冶野","nǚ,rǔ":"女","rèn":"刃认韧纫","fēi":"飞非啡","xí":"习席袭媳","mǎ":"马码玛","chā,chá,chǎ":"叉","fēng":"丰封疯峰锋蜂枫","xiāng":"乡香箱厢湘镶","jǐng":"井警阱","wáng,wàng":"王","kāi":"开揩","tiān":"天添","wú":"无吴芜梧蜈","fū,fú":"夫","zhuān":"专砖","yuán":"元园原圆援缘源袁猿辕","yún":"云匀耘","zhā,zā,zhá":"扎","mù":"木目牧墓幕暮慕沐募睦穆","wǔ":"五午伍武侮舞捂鹉","tīng":"厅听","bù,fǒu":"不","qū,ōu":"区","quǎn":"犬","tài":"太态泰汰","yǒu":"友","chē,jū":"车","pǐ":"匹","yóu":"尤由邮犹油游","jù":"巨拒具俱剧距惧锯聚炬","yá":"牙芽崖蚜涯衙","bǐ":"比彼笔鄙匕秕","jiē":"皆阶接街秸","hù":"互户护沪","qiè,qiē":"切","wǎ,wà":"瓦","zhǐ":"止旨址纸指趾","tún,zhūn":"屯","shǎo,shào":"少","rì":"日","zhōng,zhòng":"中","gāng":"冈刚纲缸肛","nèi,nà":"内","bèi":"贝备倍辈狈惫焙","shuǐ":"水","jiàn,xiàn":"见","niú":"牛","shǒu":"手守首","máo":"毛矛茅锚","qì":"气弃汽器迄泣","shēng":"升生声牲笙甥","cháng,zhǎng":"长","shén,shí":"什","piàn,piān":"片","pú,pū":"仆","huà,huā":"化","bì":"币必毕闭毙碧蔽弊避壁庇蓖痹璧","chóu,qiú":"仇","zhuǎ,zhǎo":"爪","jǐn,jìn":"仅","réng":"仍","fù,fǔ":"父","cóng,zòng":"从","fǎn":"反返","jiè":"介戒届界借诫","xiōng":"凶兄胸匈汹","fēn,fèn":"分","fá":"乏伐罚阀筏","cāng":"仓苍舱沧","yuè":"月阅悦跃越岳粤","shì,zhī":"氏","wù":"勿务物误悟雾坞晤","qiàn":"欠歉","fēng,fěng":"风","dān":"丹耽","wū":"乌污呜屋巫诬","fèng":"凤奉","gōu,gòu":"勾","wén":"文闻蚊","liù,lù":"六","huǒ":"火伙","fāng":"方芳","dǒu,dòu":"斗","wèi,wéi":"为","dìng":"订定锭","jì":"计记技忌际季剂迹既继寄绩妓荠寂鲫冀","xīn":"心辛欣新薪锌","chǐ,chě":"尺","yǐn":"引饮蚓瘾","chǒu":"丑","kǒng":"孔恐","duì":"队对","bàn":"办半扮伴瓣绊","yǔ,yú":"予","yǔn":"允陨","quàn":"劝","shū":"书叔殊梳舒疏输蔬抒枢淑","shuāng":"双霜","yù":"玉育狱浴预域欲遇御裕愈誉芋郁喻寓豫","huàn":"幻换唤患宦涣焕痪","kān":"刊堪勘","mò":"末沫漠墨默茉陌寞","jī":"击饥圾机肌鸡积基激讥叽唧畸箕","dǎ,dá":"打","qiǎo":"巧","zhèng,zhēng":"正症挣","pū":"扑","bā,pá":"扒","gān":"甘肝竿柑","qù":"去","rēng":"扔","gǔ":"古谷股鼓","běn":"本","jié,jiē":"节结","shù,shú,zhú":"术","bǐng":"丙柄饼秉禀","kě,kè":"可","zuǒ":"左","bù":"布步怖部埠","shí,dàn":"石","lóng":"龙聋隆咙胧窿","yà":"轧亚讶","miè":"灭蔑","píng":"平评凭瓶萍坪","dōng":"东冬","kǎ,qiǎ":"卡","běi,bèi":"北","yè":"业页夜液谒腋","jiù":"旧救就舅臼疚","shuài":"帅蟀","guī":"归规闺硅瑰","zhàn,zhān":"占","dàn":"旦但诞淡蛋氮","qiě,jū":"且","yè,xié":"叶","jiǎ":"甲钾","dīng":"叮盯","shēn":"申伸身深呻绅","hào,háo":"号","diàn":"电店垫殿玷淀惦奠","tián":"田甜恬","shǐ":"史使始驶矢屎","zhī,zhǐ":"只","yāng":"央殃秧鸯","diāo":"叼雕刁碉","jiào":"叫轿较窖酵","lìng":"另","dāo,tāo":"叨","sì":"四寺饲肆","tàn":"叹炭探碳","qiū":"丘秋蚯","hé":"禾河荷盒","fù":"付负妇附咐赴复傅富腹覆赋缚","dài":"代带贷怠袋逮戴","xiān":"仙先掀锨","yí":"仪宜姨移遗夷胰","bái":"白","zǎi,zǐ,zī":"仔","chì":"斥赤翅","tā":"他它塌","guā":"瓜刮","hū":"乎呼忽","cóng":"丛","lìng,líng,lǐng":"令","yòng":"用","shuǎi":"甩","yìn":"印","lè,yuè":"乐","jù,gōu":"句","cōng":"匆葱聪囱","fàn":"犯饭泛范贩","cè":"册厕测策","wài":"外","chù,chǔ":"处","niǎo":"鸟","bāo":"包胞苞褒","zhǔ":"主煮嘱拄","shǎn":"闪陕","lán":"兰拦栏蓝篮澜","tóu,tou":"头","huì":"汇绘贿惠慧讳诲晦秽","hàn":"汉旱捍悍焊撼翰憾","tǎo":"讨","xué":"穴学","xiě":"写","níng,nìng,zhù":"宁","ràng":"让","lǐ":"礼李里理鲤","xùn":"训讯迅汛驯逊殉","yǒng":"永咏泳勇蛹踊","mín":"民","chū":"出初","ní":"尼","sī":"司丝私斯撕嘶","liáo":"辽疗僚聊寥嘹缭","jiā":"加佳嘉枷","nú":"奴","zhào,shào":"召","biān":"边编鞭蝙","pí":"皮疲脾啤","yùn":"孕运韵酝蕴","fā,fà":"发","shèng":"圣胜剩","tái,tāi":"台苔","jiū":"纠究揪鸠","mǔ":"母亩牡拇姆","káng,gāng":"扛","xíng":"刑形型邢","dòng":"动冻栋洞","kǎo":"考烤拷","kòu":"扣寇","tuō":"托拖脱","lǎo":"老","gǒng":"巩汞拱","zhí":"执直侄值职植","kuò":"扩阔廓","yáng":"扬阳杨洋","dì,de":"地","sǎo,sào":"扫","chǎng,cháng":"场","ěr":"耳尔饵","máng":"芒忙盲茫","xiǔ":"朽","pǔ,pò,pō,piáo":"朴","quán":"权全泉拳痊","guò,guo,guō":"过","chén":"臣尘辰沉陈晨忱","zài":"再在","xié":"协胁斜携鞋谐","yā,yà":"压","yàn":"厌艳宴验雁焰砚唁谚堰","yǒu,yòu":"有","cún":"存","bǎi":"百摆","kuā,kuà":"夸","jiàng":"匠酱","duó":"夺踱","huī":"灰挥恢辉徽","dá":"达","sǐ":"死","liè":"列劣烈猎","guǐ":"轨鬼诡","xié,yá,yé,yú,xú":"邪","jiá,jiā,gā,xiá":"夹","chéng":"成呈诚承城程惩橙","mài":"迈麦卖","huà,huá":"划","zhì":"至志帜制质治致秩智置挚掷窒滞稚","cǐ":"此","zhēn":"贞针侦珍真斟榛","jiān":"尖奸歼坚肩艰兼煎","guāng":"光","dāng,dàng":"当","zǎo":"早枣澡蚤藻","tù,tǔ":"吐","xià,hè":"吓","chóng":"虫崇","tuán":"团","tóng,tòng":"同","qū,qǔ":"曲","diào":"吊钓掉","yīn":"因阴音姻茵","chī":"吃嗤痴","ma,má,mǎ":"吗","yǔ":"屿宇羽","fān":"帆翻","huí":"回茴蛔","qǐ,kǎi":"岂","zé":"则责","suì":"岁碎穗祟遂隧","ròu":"肉","zhū,shú":"朱","wǎng":"网往枉","nián":"年","diū":"丢","shé":"舌","zhú":"竹逐烛","qiáo":"乔侨桥瞧荞憔","wěi":"伟伪苇纬萎","chuán,zhuàn":"传","pāng":"乓","pīng":"乒","xiū,xǔ":"休","fú":"伏扶俘浮符幅福凫芙袱辐蝠","yōu":"优忧悠幽","yán":"延严言岩炎沿盐颜阎蜒檐","jiàn":"件建荐贱剑健舰践鉴键箭涧","rèn,rén":"任","huá,huà,huā":"华","jià,jiè,jie":"价","shāng":"伤商","fèn,bīn":"份","fǎng":"仿访纺","yǎng,áng":"仰","zì":"自字","xiě,xuè":"血","xiàng":"向项象像橡","sì,shì":"似","hòu":"后厚候","zhōu":"舟州周洲","háng,xíng":"行","huì,kuài":"会","shā":"杀纱杉砂","hé,gě":"合","zhào":"兆赵照罩","zhòng":"众仲","yé":"爷","sǎn":"伞","chuàng,chuāng":"创","duǒ":"朵躲","wēi":"危威微偎薇巍","xún":"旬寻巡询循","zá":"杂砸","míng":"名明鸣铭螟","duō":"多哆","zhēng":"争征睁筝蒸怔狰","sè":"色涩瑟","zhuàng":"壮状撞","chōng,chòng":"冲","bīng":"冰兵","zhuāng":"庄装妆桩","qìng":"庆","liú":"刘留流榴琉硫瘤","qí,jì,zī,zhāi":"齐","cì":"次赐","jiāo":"交郊浇娇骄胶椒焦蕉礁","chǎn":"产铲阐","wàng":"妄忘旺望","chōng":"充","wèn":"问","chuǎng":"闯","yáng,xiáng":"羊","bìng,bīng":"并","dēng":"灯登蹬","mǐ":"米","guān":"关官棺","hàn,hán":"汗","jué":"决绝掘诀爵","jiāng":"江姜僵缰","tāng,shāng":"汤","chí":"池驰迟持弛","xīng,xìng":"兴","zhái":"宅","ān":"安氨庵鞍","jiǎng":"讲奖桨蒋","jūn":"军均君钧","xǔ,hǔ":"许","fěng":"讽","lùn,lún":"论","nóng":"农浓脓","shè":"设社舍涉赦","nà,nǎ,nèi,nā":"那","jìn,jǐn":"尽","dǎo":"导岛蹈捣祷","sūn,xùn":"孙","zhèn":"阵振震镇","shōu":"收","fáng":"防妨房肪","rú":"如儒蠕","mā":"妈","xì,hū":"戏","hǎo,hào":"好","tā,jiě":"她","guān,guàn":"观冠","huān":"欢","hóng,gōng":"红","mǎi":"买","xiān,qiàn":"纤","jì,jǐ":"纪济","yuē,yāo":"约","shòu":"寿受授售兽瘦","nòng,lòng":"弄","jìn":"进近晋浸","wéi":"违围唯维桅","yuǎn,yuàn":"远","tūn":"吞","tán":"坛谈痰昙谭潭檀","fǔ":"抚斧府俯辅腐甫脯","huài,pēi,pī,péi":"坏","rǎo":"扰","pī":"批披坯霹","zhǎo":"找沼","chě":"扯","zǒu":"走","chāo":"抄钞超","bà":"坝爸霸","gòng":"贡","zhé,shé,zhē":"折","qiǎng,qiāng,chēng":"抢","zhuā":"抓","xiào":"孝笑效哮啸","pāo":"抛","tóu":"投","kàng":"抗炕","fén":"坟焚","kēng":"坑","dǒu":"抖陡蚪","ké,qiào":"壳","fāng,fáng":"坊","niǔ":"扭纽钮","kuài":"块快筷","bǎ,bà":"把","bào":"报抱爆豹","jié":"劫杰洁捷截竭","què":"却确鹊","huā":"花","fēn":"芬吩纷氛","qín":"芹琴禽勤秦擒","láo":"劳牢","lú":"芦炉卢庐颅","gān,gǎn":"杆","kè":"克刻客课","sū,sù":"苏","dù":"杜渡妒镀","gàng,gāng":"杠","cūn":"村","qiú":"求球囚","xìng":"杏幸性姓","gèng,gēng":"更","liǎng":"两","lì,lí":"丽","shù":"束述树竖恕庶墅漱","dòu":"豆逗痘","hái,huán":"还","fǒu,pǐ":"否","lái":"来莱","lián":"连怜帘莲联廉镰","xiàn,xuán":"县","zhù,chú":"助","dāi":"呆","kuàng":"旷况矿框眶","ya,yā":"呀","zú":"足族","dūn":"吨蹲墩","kùn":"困","nán":"男","chǎo,chāo":"吵","yuán,yún,yùn":"员","chuàn":"串","chuī":"吹炊","ba,bā":"吧","hǒu":"吼","gǎng":"岗","bié,biè":"别","dīng,dìng":"钉","gào":"告","wǒ":"我","luàn":"乱","tū":"秃突凸","xiù":"秀袖绣锈嗅","gū,gù":"估","měi":"每美","hé,hē,hè":"何","tǐ,tī,bèn":"体","bó,bǎi,bà":"伯","zuò":"作坐座做","líng":"伶灵铃陵零龄玲凌菱蛉翎","dī":"低堤滴","yòng,yōng":"佣","nǐ":"你拟","zhù":"住注驻柱祝铸贮蛀","zào":"皂灶造燥躁噪","fó,fú,bì,bó":"佛","chè":"彻撤澈","tuǒ":"妥椭","lín":"邻林临琳磷鳞","hán":"含寒函涵韩","chà":"岔衩","cháng":"肠尝常偿","dù,dǔ":"肚","guī,jūn,qiū":"龟","miǎn":"免勉娩冕缅","jiǎo,jué":"角","kuáng":"狂","tiáo,tiāo":"条","luǎn":"卵","yíng":"迎盈营蝇赢荧莹萤","xì,jì":"系","chuáng":"床","kù":"库裤酷","yìng,yīng":"应","lěng":"冷","zhè,zhèi":"这","xù":"序叙绪续絮蓄旭恤酗婿","xián":"闲贤弦咸衔嫌涎舷","jiān,jiàn":"间监","pàn":"判盼叛畔","mēn,mèn":"闷","wāng":"汪","dì,tì,tuí":"弟","shā,shà":"沙","shà,shā":"煞","càn":"灿","wò":"沃卧握","méi,mò":"没","gōu":"沟钩","shěn,chén":"沈","huái":"怀槐徊淮","sòng":"宋送诵颂讼","hóng":"宏虹洪鸿","qióng":"穷琼","zāi":"灾栽","liáng":"良梁粮粱","zhèng":"证郑政","bǔ":"补捕哺","sù":"诉肃素速塑粟溯","shí,zhì":"识","cí":"词辞慈磁祠瓷雌","zhěn":"诊枕疹","niào,suī":"尿","céng":"层","jú":"局菊橘","wěi,yǐ":"尾","zhāng":"张章彰樟","gǎi":"改","lù":"陆录鹿路赂","ē,ā":"阿","zǔ":"阻组祖诅","miào":"妙庙","yāo":"妖腰邀夭吆","nǔ":"努","jìn,jìng":"劲","rěn":"忍","qū":"驱屈岖蛆躯","chún":"纯唇醇","nà":"纳钠捺","bó":"驳脖博搏膊舶渤","zòng,zǒng":"纵","wén,wèn":"纹","lǘ":"驴","huán":"环","qīng":"青轻倾清蜻氢卿","xiàn":"现限线宪陷馅羡献腺","biǎo":"表","mǒ,mò,mā":"抹","lǒng":"拢垄","dān,dàn,dǎn":"担","bá":"拔跋","jiǎn":"拣茧俭捡检减剪简柬碱","tǎn":"坦毯袒","chōu":"抽","yā":"押鸦鸭","guǎi":"拐","pāi":"拍","zhě":"者","dǐng":"顶鼎","yōng":"拥庸","chāi,cā":"拆","dǐ":"抵","jū,gōu":"拘","lā":"垃","lā,lá":"拉","bàn,pàn":"拌","zhāo":"招昭","pō":"坡泼颇","bō":"拨波玻菠播","zé,zhái":"择","tái":"抬","qí,jī":"其奇","qǔ":"取娶","kǔ":"苦","mào":"茂贸帽貌","ruò,rě":"若","miáo":"苗描瞄","píng,pēng":"苹","yīng":"英樱鹰莺婴缨鹦","qié":"茄","jīng":"茎京经惊晶睛精荆兢鲸","zhī,qí":"枝","bēi":"杯悲碑卑","guì,jǔ":"柜","bǎn":"板版","sōng":"松","qiāng":"枪腔","gòu":"构购够垢","sàng,sāng":"丧","huà":"画话桦","huò":"或货获祸惑霍","cì,cī":"刺","yǔ,yù":"雨语","bēn,bèn":"奔","fèn":"奋粪愤忿","hōng":"轰烘","qī,qì":"妻","ōu":"欧殴鸥","qǐng":"顷请","zhuǎn,zhuàn,zhuǎi":"转","zhǎn":"斩盏展","ruǎn":"软","lún":"轮仑伦沦","dào":"到盗悼道稻","chǐ":"齿耻侈","kěn":"肯垦恳啃","hǔ":"虎","xiē,suò":"些","lǔ":"虏鲁卤","shèn":"肾渗慎","shàng":"尚","guǒ":"果裹","kūn":"昆坤","guó":"国","chāng":"昌猖","chàng":"畅唱","diǎn":"典点碘","gù":"固故顾雇","áng":"昂","zhōng":"忠终钟盅衷","ne,ní":"呢","àn":"岸按案暗","tiě,tiē,tiè,":"帖","luó":"罗萝锣箩骡螺逻","kǎi":"凯慨","lǐng,líng":"岭","bài":"败拜","tú":"图徒途涂屠","chuí":"垂锤捶","zhī,zhì":"知织","guāi":"乖","gǎn":"秆赶敢感橄","hé,hè,huó,huò,hú":"和","gòng,gōng":"供共","wěi,wēi":"委","cè,zè,zhāi":"侧","pèi":"佩配沛","pò,pǎi":"迫","de,dì,dí":"的","pá":"爬","suǒ":"所索锁琐","jìng":"径竞竟敬静境镜靖","mìng":"命","cǎi,cài":"采","niàn":"念","tān":"贪摊滩瘫","rǔ":"乳辱","pín":"贫","fū":"肤麸孵敷","fèi":"肺废沸费吠","zhǒng":"肿","péng":"朋棚蓬膨硼鹏澎篷","fú,fù":"服","féi":"肥","hūn":"昏婚荤","tù":"兔","hú":"狐胡壶湖蝴弧葫","gǒu":"狗苟","bǎo":"饱宝保","xiǎng":"享响想","biàn":"变遍辨辩辫","dǐ,de":"底","jìng,chēng":"净","fàng":"放","nào":"闹","zhá":"闸铡","juàn,juǎn":"卷","quàn,xuàn":"券","dān,shàn,chán":"单","chǎo":"炒","qiǎn,jiān":"浅","fǎ":"法","xiè,yì":"泄","lèi":"泪类","zhān":"沾粘毡瞻","pō,bó":"泊","pào,pāo":"泡","xiè":"泻卸屑械谢懈蟹","ní,nì":"泥","zé,shì":"泽","pà":"怕帕","guài":"怪","zōng":"宗棕踪","shěn":"审婶","zhòu":"宙昼皱骤咒","kōng,kòng,kǒng":"空","láng,làng":"郎","chèn":"衬趁","gāi":"该","xiáng,yáng":"详","lì,dài":"隶","jū":"居鞠驹","shuā,shuà":"刷","mèng":"孟梦","gū":"孤姑辜咕沽菇箍","jiàng,xiáng":"降","mèi":"妹昧媚","jiě":"姐","jià":"驾架嫁稼","cān,shēn,cēn,sān":"参","liàn":"练炼恋链","xì":"细隙","shào":"绍哨","tuó":"驼驮鸵","guàn":"贯惯灌罐","zòu":"奏揍","chūn":"春椿","bāng":"帮邦梆","dú,dài":"毒","guà":"挂卦褂","kuǎ":"垮","kuà,kū":"挎","náo":"挠","dǎng,dàng":"挡","shuān":"拴栓","tǐng":"挺艇","kuò,guā":"括","shí,shè":"拾","tiāo,tiǎo":"挑","wā":"挖蛙洼","pīn":"拼","shèn,shén":"甚","mǒu":"某","nuó":"挪","gé":"革阁格隔","xiàng,hàng":"巷","cǎo":"草","chá":"茶察茬","dàng":"荡档","huāng":"荒慌","róng":"荣绒容熔融茸蓉溶榕","nán,nā":"南","biāo":"标彪膘","yào":"药耀","kū":"枯哭窟","xiāng,xiàng":"相","chá,zhā":"查","liǔ":"柳","bǎi,bó,bò":"柏","yào,yāo":"要","wāi":"歪","yán,yàn":"研","lí":"厘狸离犁梨璃黎漓篱","qì,qiè":"砌","miàn":"面","kǎn":"砍坎","shuǎ":"耍","nài":"耐奈","cán":"残蚕惭","zhàn":"战站栈绽蘸","bèi,bēi":"背","lǎn":"览懒揽缆榄","shěng,xǐng":"省","xiāo,xuē":"削","zhǎ":"眨","hǒng,hōng,hòng":"哄","xiǎn":"显险","mào,mò":"冒","yǎ,yā":"哑","yìng":"映硬","zuó":"昨","xīng":"星腥猩","pā":"趴","guì":"贵桂跪刽","sī,sāi":"思","xiā":"虾瞎","mǎ,mā,mà":"蚂","suī":"虽","pǐn":"品","mà":"骂","huá,huā":"哗","yè,yàn,yān":"咽","zán,zǎ":"咱","hā,hǎ,hà":"哈","yǎo":"咬舀","nǎ,něi,na,né":"哪","hāi,ké":"咳","xiá":"峡狭霞匣侠暇辖","gǔ,gū":"骨","gāng,gàng":"钢","tiē":"贴","yào,yuè":"钥","kàn,kān":"看","jǔ":"矩举","zěn":"怎","xuǎn":"选癣","zhòng,zhǒng,chóng":"种","miǎo":"秒渺藐","kē":"科棵颗磕蝌","biàn,pián":"便","zhòng,chóng":"重","liǎ":"俩","duàn":"段断缎锻","cù":"促醋簇","shùn":"顺瞬","xiū":"修羞","sú":"俗","qīn":"侵钦","xìn,shēn":"信","huáng":"皇黄煌凰惶蝗蟥","zhuī,duī":"追","jùn":"俊峻骏竣","dài,dāi":"待","xū":"须虚需","hěn":"很狠","dùn":"盾顿钝","lǜ":"律虑滤氯","pén":"盆","shí,sì,yì":"食","dǎn":"胆","táo":"逃桃陶萄淘","pàng":"胖","mài,mò":"脉","dú":"独牍","jiǎo":"狡饺绞脚搅","yuàn":"怨院愿","ráo":"饶","wān":"弯湾豌","āi":"哀哎埃","jiāng,jiàng":"将浆","tíng":"亭庭停蜓廷","liàng":"亮谅辆晾","dù,duó":"度","chuāng":"疮窗","qīn,qìng":"亲","zī":"姿资滋咨","dì":"帝递第蒂缔","chà,chā,chāi,cī":"差","yǎng":"养氧痒","qián":"前钱钳潜黔","mí":"迷谜靡","nì":"逆昵匿腻","zhà,zhá":"炸","zǒng":"总","làn":"烂滥","pào,páo,bāo":"炮","tì":"剃惕替屉涕","sǎ,xǐ":"洒","zhuó":"浊啄灼茁卓酌","xǐ,xiǎn":"洗","qià":"洽恰","pài":"派湃","huó":"活","rǎn":"染","héng":"恒衡","hún":"浑魂","nǎo":"恼脑","jué,jiào":"觉","hèn":"恨","xuān":"宣轩喧","qiè":"窃怯","biǎn,piān":"扁","ǎo":"袄","shén":"神","shuō,shuì,yuè":"说","tuì":"退蜕","chú":"除厨锄雏橱","méi":"眉梅煤霉玫枚媒楣","hái":"孩","wá":"娃","lǎo,mǔ":"姥","nù":"怒","hè":"贺赫褐鹤","róu":"柔揉蹂","bǎng":"绑膀","lěi":"垒蕾儡","rào":"绕","gěi,jǐ":"给","luò":"骆洛","luò,lào":"络","tǒng":"统桶筒捅","gēng":"耕羹","hào":"耗浩","bān":"班般斑搬扳颁","zhū":"珠株诸猪蛛","lāo":"捞","fěi":"匪诽","zǎi,zài":"载","mái,mán":"埋","shāo,shào":"捎稍","zhuō":"捉桌拙","niē":"捏","kǔn":"捆","dū,dōu":"都","sǔn":"损笋","juān":"捐鹃","zhé":"哲辙","rè":"热","wǎn":"挽晚碗惋婉","ái,āi":"挨","mò,mù":"莫","è,wù,ě,wū":"恶","tóng":"桐铜童彤瞳","xiào,jiào":"校","hé,hú":"核","yàng":"样漾","gēn":"根跟","gē":"哥鸽割歌戈","chǔ":"础储楚","pò":"破魄","tào":"套","chái":"柴豺","dǎng":"党","mián":"眠绵棉","shài":"晒","jǐn":"紧锦谨","yūn,yùn":"晕","huàng,huǎng":"晃","shǎng":"晌赏","ēn":"恩","ài,āi":"唉","ā,á,ǎ,à,a":"啊","bà,ba,pí":"罢","zéi":"贼","tiě":"铁","zuàn,zuān":"钻","qiān,yán":"铅","quē":"缺","tè":"特","chéng,shèng":"乘","dí":"敌笛涤嘀嫡","zū":"租","chèng":"秤","mì,bì":"秘泌","chēng,chèn,chèng":"称","tòu":"透","zhài":"债寨","dào,dǎo":"倒","tǎng,cháng":"倘","chàng,chāng":"倡","juàn":"倦绢眷","chòu,xiù":"臭","shè,yè,yì":"射","xú":"徐","háng":"航杭","ná":"拿","wēng":"翁嗡","diē":"爹跌","ài":"爱碍艾隘","gē,gé":"胳搁","cuì":"脆翠悴粹","zàng":"脏葬","láng":"狼廊琅榔","féng":"逢","è":"饿扼遏愕噩鳄","shuāi,cuī":"衰","gāo":"高糕羔篙","zhǔn":"准","bìng":"病","téng":"疼腾誊藤","liáng,liàng":"凉量","táng":"唐堂塘膛糖棠搪","pōu":"剖","chù,xù":"畜","páng,bàng":"旁磅","lǚ":"旅屡吕侣铝缕履","fěn":"粉","liào":"料镣","shāo":"烧","yān":"烟淹","tāo":"涛掏滔","lào":"涝酪","zhè":"浙蔗","xiāo":"消宵销萧硝箫嚣","hǎi":"海","zhǎng,zhàng":"涨","làng":"浪","rùn":"润闰","tàng":"烫","yǒng,chōng":"涌","huǐ":"悔毁","qiāo,qiǎo":"悄","hài":"害亥骇","jiā,jia,jie":"家","kuān":"宽","bīn":"宾滨彬缤濒","zhǎi":"窄","lǎng":"朗","dú,dòu":"读","zǎi":"宰","shàn,shān":"扇","shān,shàn":"苫","wà":"袜","xiáng":"祥翔","shuí":"谁","páo":"袍咆","bèi,pī":"被","tiáo,diào,zhōu":"调","yuān":"冤鸳渊","bō,bāo":"剥","ruò":"弱","péi":"陪培赔","niáng":"娘","tōng":"通","néng,nài":"能","nán,nàn,nuó":"难","sāng":"桑","pěng":"捧","dǔ":"堵赌睹","yǎn":"掩眼演衍","duī":"堆","pái,pǎi":"排","tuī":"推","jiào,jiāo":"教","lüè":"掠略","jù,jū":"据","kòng":"控","zhù,zhuó,zhe":"著","jūn,jùn":"菌","lè,lēi":"勒","méng":"萌盟檬朦","cài":"菜","tī":"梯踢剔","shāo,sào":"梢","fù,pì":"副","piào,piāo":"票","shuǎng":"爽","shèng,chéng":"盛","què,qiāo,qiǎo":"雀","xuě":"雪","chí,shi":"匙","xuán":"悬玄漩","mī,mí":"眯","la,lā":"啦","shé,yí":"蛇","lèi,léi,lěi":"累","zhǎn,chán":"崭","quān,juàn,juān":"圈","yín":"银吟淫","bèn":"笨","lóng,lǒng":"笼","mǐn":"敏皿闽悯","nín":"您","ǒu":"偶藕","tōu":"偷","piān":"偏篇翩","dé,děi,de":"得","jiǎ,jià":"假","pán":"盘","chuán":"船","cǎi":"彩睬踩","lǐng":"领","liǎn":"脸敛","māo,máo":"猫","měng":"猛锰","cāi":"猜","háo":"毫豪壕嚎","má":"麻","guǎn":"馆管","còu":"凑","hén":"痕","kāng":"康糠慷","xuán,xuàn":"旋","zhe,zhuó,zháo,zhāo":"着","lǜ,shuài":"率","gài,gě,hé":"盖","cū":"粗","lín,lìn":"淋","qú,jù":"渠","jiàn,jiān":"渐溅","hùn,hún":"混","pó":"婆","qíng":"情晴擎","cǎn":"惨","sù,xiǔ,xiù":"宿","yáo":"窑谣摇遥肴姚","móu":"谋","mì":"密蜜觅","huǎng":"谎恍幌","tán,dàn":"弹","suí":"随","yǐn,yìn":"隐","jǐng,gěng":"颈","shéng":"绳","qí":"骑棋旗歧祈脐畦崎鳍","chóu":"绸酬筹稠愁畴","lǜ,lù":"绿","dā":"搭","kuǎn":"款","tǎ":"塔","qū,cù":"趋","tí,dī,dǐ":"提","jiē,qì":"揭","xǐ":"喜徙","sōu":"搜艘","chā":"插","lǒu,lōu":"搂","qī,jī":"期","rě":"惹","sàn,sǎn":"散","dǒng":"董懂","gě,gé":"葛","pú":"葡菩蒲","zhāo,cháo":"朝","luò,là,lào":"落","kuí":"葵魁","bàng":"棒傍谤","yǐ,yī":"椅","sēn":"森","gùn,hùn":"棍","bī":"逼","zhí,shi":"殖","xià,shà":"厦","liè,liě":"裂","xióng":"雄熊","zàn":"暂赞","yǎ":"雅","chǎng":"敞","zhǎng":"掌","shǔ":"暑鼠薯黍蜀署曙","zuì":"最罪醉","hǎn":"喊罕","jǐng,yǐng":"景","lǎ":"喇","pēn,pèn":"喷","pǎo,páo":"跑","chuǎn":"喘","hē,hè,yè":"喝","hóu":"喉猴","pù,pū":"铺","hēi":"黑","guō":"锅郭","ruì":"锐瑞","duǎn":"短","é":"鹅额讹俄","děng":"等","kuāng":"筐","shuì":"税睡","zhù,zhú":"筑","shāi":"筛","dá,dā":"答","ào":"傲澳懊","pái":"牌徘","bǎo,bǔ,pù":"堡","ào,yù":"奥","fān,pān":"番","là,xī":"腊","huá":"猾滑","rán":"然燃","chán":"馋缠蝉","mán":"蛮馒","tòng":"痛","shàn":"善擅膳赡","zūn":"尊遵","pǔ":"普谱圃浦","gǎng,jiǎng":"港","céng,zēng":"曾","wēn":"温瘟","kě":"渴","zhā":"渣","duò":"惰舵跺","gài":"溉概丐钙","kuì":"愧","yú,tōu":"愉","wō":"窝蜗","cuàn":"窜篡","qún":"裙群","qiáng,qiǎng,jiàng":"强","shǔ,zhǔ":"属","zhōu,yù":"粥","sǎo":"嫂","huǎn":"缓","piàn":"骗","mō":"摸","shè,niè":"摄","tián,zhèn":"填","gǎo":"搞稿镐","suàn":"蒜算","méng,mēng,měng":"蒙","jìn,jīn":"禁","lóu":"楼娄","lài":"赖癞","lù,liù":"碌","pèng":"碰","léi":"雷","báo":"雹","dū":"督","nuǎn":"暖","xiē":"歇楔蝎","kuà":"跨胯","tiào,táo":"跳","é,yǐ":"蛾","sǎng":"嗓","qiǎn":"遣谴","cuò":"错挫措锉","ǎi":"矮蔼","shǎ":"傻","cuī":"催摧崔","tuǐ":"腿","chù":"触矗","jiě,jiè,xiè":"解","shù,shǔ,shuò":"数","mǎn":"满","liū,liù":"溜","gǔn":"滚","sāi,sài,sè":"塞","pì,bì":"辟","dié":"叠蝶谍碟","fèng,féng":"缝","qiáng":"墙","piě,piē":"撇","zhāi":"摘斋","shuāi":"摔","mó,mú":"模","bǎng,bàng":"榜","zhà":"榨乍诈","niàng":"酿","zāo":"遭糟","suān":"酸","shang,cháng":"裳","sòu":"嗽","là":"蜡辣","qiāo":"锹敲跷","zhuàn":"赚撰","wěn":"稳吻紊","bí":"鼻荸","mó":"膜魔馍摹蘑","xiān,xiǎn":"鲜","yí,nǐ":"疑","gāo,gào":"膏","zhē":"遮","duān":"端","màn":"漫慢曼幔","piāo,piào,piǎo":"漂","lòu":"漏陋","sài":"赛","nèn":"嫩","dèng":"凳邓瞪","suō,sù":"缩","qù,cù":"趣","sā,sǎ":"撒","tàng,tāng":"趟","chēng":"撑","zēng":"增憎","cáo":"槽曹","héng,hèng":"横","piāo":"飘","mán,mén":"瞒","tí":"题蹄啼","yǐng":"影颖","bào,pù":"暴","tà":"踏蹋","kào":"靠铐","pì":"僻屁譬","tǎng":"躺","dé":"德","mó,mā":"摩","shú":"熟秫赎","hú,hū,hù":"糊","pī,pǐ":"劈","cháo":"潮巢","cāo":"操糙","yàn,yān":"燕","diān":"颠掂","báo,bó,bò":"薄","cān":"餐","xǐng":"醒","zhěng":"整拯","zuǐ":"嘴","zèng":"赠","mó,mò":"磨","níng":"凝狞柠","jiǎo,zhuó":"缴","cā":"擦","cáng,zàng":"藏","fán,pó":"繁","bì,bei":"臂","bèng":"蹦泵","pān":"攀潘","chàn,zhàn":"颤","jiāng,qiáng":"疆","rǎng":"壤攘","jiáo,jué,jiào":"嚼","rǎng,rāng":"嚷","chǔn":"蠢","lù,lòu":"露","náng,nāng":"囊","dǎi":"歹","rǒng":"冗","hāng,bèn":"夯","āo,wā":"凹","féng,píng":"冯","yū":"迂淤","xū,yù":"吁","lèi,lē":"肋","kōu":"抠","lūn,lún":"抡","jiè,gài":"芥","xīn,xìn":"芯","chā,chà":"杈","xiāo,xiào":"肖","zhī,zī":"吱","ǒu,ōu,òu":"呕","nà,nè":"呐","qiàng,qiāng":"呛","tún,dùn":"囤","kēng,háng":"吭","shǔn":"吮","diàn,tián":"佃","sì,cì":"伺","zhǒu":"肘帚","diàn,tián,shèng":"甸","páo,bào":"刨","lìn":"吝赁躏","duì,ruì,yuè":"兑","zhuì":"坠缀赘","kē,kě":"坷","tuò,tà,zhí":"拓","fú,bì":"拂","nǐng,níng,nìng":"拧","ào,ǎo,niù":"拗","kē,hē":"苛","yān,yǎn":"奄","hē,a,kē":"呵","gā,kā":"咖","biǎn":"贬匾","jiǎo,yáo":"侥","chà,shā":"刹","āng":"肮","wèng":"瓮","nüè,yào":"疟","páng":"庞螃","máng,méng":"氓","gē,yì":"疙","jǔ,jù":"沮","zú,cù":"卒","nìng":"泞","chǒng":"宠","wǎn,yuān":"宛","mí,mǐ":"弥","qì,qiè,xiè":"契","xié,jiā":"挟","duò,duǒ":"垛","jiá":"荚颊","zhà,shān,shi,cè":"栅","bó,bèi":"勃","zhóu,zhòu":"轴","nüè":"虐","liē,liě,lié,lie":"咧","dǔn":"盹","xūn":"勋","yo,yō":"哟","mī":"咪","qiào,xiào":"俏","hóu,hòu":"侯","pēi":"胚","tāi":"胎","luán":"峦","sà":"飒萨","shuò":"烁","xuàn":"炫","píng,bǐng":"屏","nà,nuó":"娜","pá,bà":"耙","gěng":"埂耿梗","niè":"聂镊孽","mǎng":"莽","qī,xī":"栖","jiǎ,gǔ":"贾","chěng":"逞","pēng":"砰烹","láo,lào":"唠","bàng,bèng":"蚌","gōng,zhōng":"蚣","li,lǐ,lī":"哩","suō":"唆梭嗦","hēng":"哼","zāng":"赃","qiào":"峭窍撬","mǎo":"铆","ǎn":"俺","sǒng":"耸","juè,jué":"倔","yīn,yān,yǐn":"殷","guàng":"逛","něi":"馁","wō,guō":"涡","lào,luò":"烙","nuò":"诺懦糯","zhūn":"谆","niǎn,niē":"捻","qiā":"掐","yè,yē":"掖","chān,xiān,càn,shǎn":"掺","dǎn,shàn":"掸","fēi,fěi":"菲","qián,gān":"乾","shē":"奢赊","shuò,shí":"硕","luō,luó,luo":"啰","shá":"啥","hǔ,xià":"唬","tuò":"唾","bēng":"崩","dāng,chēng":"铛","xiǎn,xǐ":"铣","jiǎo,jiáo":"矫","tiáo":"笤","kuǐ,guī":"傀","xìn":"衅","dōu":"兜","jì,zhài":"祭","xiáo":"淆","tǎng,chǎng":"淌","chún,zhūn":"淳","shuàn":"涮","dāng":"裆","wèi,yù":"尉","duò,huī":"堕","chuò,chāo":"绰","bēng,běng,bèng":"绷","zōng,zèng":"综","zhuó,zuó":"琢","chuǎi,chuài,chuāi,tuán,zhuī":"揣","péng,bāng":"彭","chān":"搀","cuō":"搓","sāo":"搔","yē":"椰","zhuī,chuí":"椎","léng,lēng,líng":"棱","hān":"酣憨","sū":"酥","záo":"凿","qiào,qiáo":"翘","zhā,chā":"喳","bǒ":"跛","há,gé":"蛤","qiàn,kàn":"嵌","bāi":"掰","yān,ā":"腌","wàn":"腕","dūn,duì":"敦","kuì,huì":"溃","jiǒng":"窘","sāo,sǎo":"骚","pìn":"聘","bǎ":"靶","xuē":"靴薛","hāo":"蒿","léng":"楞","kǎi,jiē":"楷","pín,bīn":"频","zhuī":"锥","tuí":"颓","sāi":"腮","liú,liù":"馏","nì,niào":"溺","qǐn":"寝","luǒ":"裸","miù":"谬","jiǎo,chāo":"剿","áo,āo":"熬","niān":"蔫","màn,wàn":"蔓","chá,chā":"碴","xūn,xùn":"熏","tiǎn":"舔","sēng":"僧","da,dá":"瘩","guǎ":"寡","tuì,tùn":"褪","niǎn":"撵碾","liáo,liāo":"撩","cuō,zuǒ":"撮","ruǐ":"蕊","cháo,zhāo":"嘲","biē":"憋鳖","hēi,mò":"嘿","zhuàng,chuáng":"幢","jī,qǐ":"稽","lǒu":"篓","lǐn":"凛檩","biě,biē":"瘪","liáo,lào,lǎo":"潦","chéng,dèng":"澄","lèi,léi":"擂","piáo":"瓢","shà":"霎","mò,má":"蟆","qué":"瘸","liáo,liǎo":"燎","liào,liǎo":"瞭","sào,sāo":"臊","mí,méi":"糜","ái":"癌","tún":"臀","huò,huō,huá":"豁","pù,bào":"瀑","chuō":"戳","zǎn,cuán":"攒","cèng":"蹭","bò,bǒ":"簸","bó,bù":"簿","bìn":"鬓","suǐ":"髓","ráng":"瓤"};
},{}],731:[function(require,module,exports){
"use strict";module.exports={"ā":"a1","á":"a2","ǎ":"a3","à":"a4","ē":"e1","é":"e2","ě":"e3","è":"e4","ō":"o1","ó":"o2","ǒ":"o3","ò":"o4","ī":"i1","í":"i2","ǐ":"i3","ì":"i4","ū":"u1","ú":"u2","ǔ":"u3","ù":"u4","ü":"v0","ǘ":"v2","ǚ":"v3","ǜ":"v4","ń":"n2","ň":"n3","":"m2"};
},{}],732:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function initials(e){for(var n=0,t=INITIALS.length;n<t;n++)if(0===e.indexOf(INITIALS[n]))return INITIALS[n];return""}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),assign=require("object-assign"),PINYIN_STYLE={NORMAL:0,TONE:1,TONE2:2,TO3NE:5,INITIALS:3,FIRST_LETTER:4},DEFAULT_OPTIONS={style:PINYIN_STYLE.TONE,segment:!1,heteronym:!1},INITIALS="b,p,m,f,d,t,n,l,g,k,h,j,q,x,r,zh,ch,sh,z,c,s".split(","),PHONETIC_SYMBOL=require("./phonetic-symbol"),RE_PHONETIC_SYMBOL=new RegExp("(["+Object.keys(PHONETIC_SYMBOL).join("")+"])","g"),RE_TONE2=/([aeoiuvnm])([0-4])$/,Pinyin=function(){function e(n){_classCallCheck(this,e),this._dict=n}return _createClass(e,[{key:"convert",value:function(e,n){if("string"!=typeof e)return[];n=assign({},DEFAULT_OPTIONS,n);for(var t,r,i=[],T="",N=0,I=e.length;N<I;N++)r=e[N],t=r.charCodeAt(0),this._dict[t]?(T.length>0&&(i.push([T]),T=""),i.push(this.single_pinyin(r,n))):T+=r;return T.length>0&&(i.push([T]),T=""),i}},{key:"single_pinyin",value:function(n,t){if("string"!=typeof n)return[];if(1!==n.length)return this.single_pinyin(n.charAt(0),t);var r=n.charCodeAt(0);if(!this._dict[r])return[n];var i=this._dict[r].split(",");if(!t.heteronym)return[e.toFixed(i[0],t.style)];for(var T,N={},I=[],E=0,u=i.length;E<u;E++)T=e.toFixed(i[E],t.style),N.hasOwnProperty(T)||(N[T]=T,I.push(T));return I}}],[{key:"toFixed",value:function(e,n){var t="",r=void 0,i=void 0;switch(n){case PINYIN_STYLE.INITIALS:return initials(e);case PINYIN_STYLE.FIRST_LETTER:return r=e.charAt(0),PHONETIC_SYMBOL.hasOwnProperty(r)&&(r=PHONETIC_SYMBOL[r].charAt(0)),r;case PINYIN_STYLE.NORMAL:return e.replace(RE_PHONETIC_SYMBOL,function(e,n){return PHONETIC_SYMBOL[n].replace(RE_TONE2,"$1")});case PINYIN_STYLE.TO3NE:return e.replace(RE_PHONETIC_SYMBOL,function(e,n){return PHONETIC_SYMBOL[n]});case PINYIN_STYLE.TONE2:return i=e.replace(RE_PHONETIC_SYMBOL,function(e,n){return t=PHONETIC_SYMBOL[n].replace(RE_TONE2,"$2"),PHONETIC_SYMBOL[n].replace(RE_TONE2,"$1")}),i+t;case PINYIN_STYLE.TONE:default:return e}}},{key:"STYLE_NORMAL",get:function(){return PINYIN_STYLE.NORMAL}},{key:"STYLE_TONE",get:function(){return PINYIN_STYLE.TONE}},{key:"STYLE_TONE2",get:function(){return PINYIN_STYLE.TONE2}},{key:"STYLE_TO3NE",get:function(){return PINYIN_STYLE.TO3NE}},{key:"STYLE_INITIALS",get:function(){return PINYIN_STYLE.INITIALS}},{key:"STYLE_FIRST_LETTER",get:function(){return PINYIN_STYLE.FIRST_LETTER}},{key:"DEFAULT_OPTIONS",get:function(){return DEFAULT_OPTIONS}}]),e}();module.exports=Pinyin;

},{"./phonetic-symbol":731,"object-assign":925}],733:[function(require,module,exports){
"use strict";function buildPinyinCache(i){var n=void 0,e={};for(var T in i){n=i[T];for(var r,E=0,o=n.length;E<o;E++)r=n.charCodeAt(E),e.hasOwnProperty(r)?e[r]+=","+T:e[r]=T}return e}var PINYIN_DICT=buildPinyinCache(require("../data/dict-zi-web")),Pinyin=require("./pinyin"),pinyin=new Pinyin(PINYIN_DICT);module.exports=pinyin.convert.bind(pinyin),module.exports.STYLE_NORMAL=Pinyin.STYLE_NORMAL,module.exports.STYLE_TONE=Pinyin.STYLE_TONE,module.exports.STYLE_TONE2=Pinyin.STYLE_TONE2,module.exports.STYLE_TO3NE=Pinyin.STYLE_TO3NE,module.exports.STYLE_INITIALS=Pinyin.STYLE_INITIALS,module.exports.STYLE_FIRST_LETTER=Pinyin.STYLE_FIRST_LETTER;
},{"../data/dict-zi-web":730,"./pinyin":732}],734:[function(require,module,exports){
"use strict";var WaitItem=function(){function e(e,t){this.param=e,this.group=t,this.result=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this))}return e}(),SingleToBatch=function(){function e(e,t,i,n,h){void 0===n&&(n=100),void 0===h&&(h=200),this._buildParamKey=e,this._buildResultKey=t,this._doRequest=i,this._maxCount=n,this._delayMs=h,this._cache={},this._pendingCache={},this._consumeTimer=null}return e.prototype._addToWait=function(e,t){this._cache[t]||(this._cache[t]={});var i=this._buildParamKey(e);if(this._cache[t][i])return this._cache[t][i];if(this._pendingCache[t]&&this._pendingCache[t][i])return this._pendingCache[t][i];var n=new WaitItem(e,t);return this._cache[t][i]=n,n},e.prototype._deletePendingCache=function(e,t){this._pendingCache[t]&&this._pendingCache[t][e]&&delete this._pendingCache[t][e]},e.prototype._prepareConsume=function(){null===this._consumeTimer&&(this._consumeTimer=setTimeout(function(){this._consumeTimer=null;var e=this._cache;this._cache={},Object.keys(e).forEach(function(t){var i=Object.keys(e[t]),n=Math.ceil(i.length/this._maxCount);this._pendingCache[t]||(this._pendingCache[t]={});for(var h=function(n){var h=i.slice(n*s._maxCount,(n+1)*s._maxCount),r={},c=h.map(function(i){return e[t][i].param});h.forEach(function(i){r[i]=e[t][i],this._pendingCache[t][i]=e[t][i]}.bind(s)),s._doRequest(c,t).then(function(e){if(!Array.isArray(e))throw new Error("result is not an array");e.forEach(function(e){var i=this._buildResultKey(e);r[i]&&(r[i].resolve(e),r[i]=null),this._deletePendingCache(i,t)}.bind(this)),Object.keys(r).forEach(function(e){r[e]&&(r[e].reject(new Error("cannot get result")),r[e]=null),this._deletePendingCache(e,t)}.bind(this))}.bind(s)).catch(function(e){Object.keys(r).forEach(function(i){r[i]&&(r[i].reject(e),r[i]=null),this._deletePendingCache(i,t)}.bind(this))}.bind(s))},s=this,r=0;r<n;r++)h(r)}.bind(this))}.bind(this),this._delayMs))},e.prototype.getResult=function(e,t){return e&&t?(this._prepareConsume(),this._addToWait(e,t).result):Promise.reject(new Error("param and group must be non-null"))},e}();exports.SingleToBatch=SingleToBatch;
},{}],735:[function(require,module,exports){
"use strict";function callConsole(e,t){var i=W.console;void 0!=i&&("log"==e?i.log(t):"warn"==e?i.warn(t):"error"==e?i.error(t):"info"==e&&i.info(t))}function $warn(e){callConsole("warn",e)}function extend(e,t,i){if(e||(e={}),!t)return e;for(var r in t){var o=t[r];void 0==o||!i&&void 0!=e[r]||(e[r]=o)}return e}function wait(e,t,i){var r=function(){e()?t.call():W.setTimeout(r,i||100)};r()}function encodeHtml(e){return e?(""+e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function buildNodeHtml(e,t){var i=[],r=[];e=e.toLowerCase();var o=!!{img:1,input:1}[e],n=t.innerHtml;delete t.innerHtml;for(var l in t){var a=t[l];l&&(a||0===a)&&("className"==l&&(l="class"),r.push(l+'="'+encodeHtml(a)+'"'))}return i.push("<",e," ",r.join(" "),o?"/>":">"),o||(n&&i.push(n),i.push("</",e,">")),i.join("")}function mergeCssClass(){for(var e=[],t=arguments,i=0,r=t.length;i<r;i++){var o=t[i];o&&String.isString(o)&&e.push(o)}return e.join(" ")}function renderIframe(e){return buildNodeHtml("iframe",extend({scrolling:"no",frameBorder:"0",allowTransparency:"true",src:"javascript:document.open();document.close();",style:"position: absolute;top: 0;left: 0;width: 100%;height: 100%;padding:0;margin:0;border:0"},e,!0))}function renderCss(){return buildNodeHtml("head",{innerHtml:[buildNodeHtml("style",{type:"text/css",rel:"stylesheet",innerHtml:[layout_1,layout_2,layout_3].join("")})].join("")})}function renderRootLoading(){return buildNodeHtml("div",{className:"absolute_full round_loading_wrap",style:"display:none",innerHtml:buildNodeHtml("div",{className:"round_loading_img_wrap round_loading_center round_loading_big",innerHtml:buildNodeHtml("img",{className:"round_loading_img round_loading_img_center",src:"https://gtms04.alicdn.com/tps/i4/TB1x2i9IpXXXXcbXVXXBStGGXXX-32-32.gif"})})})}function renderFileListWrap(e){return e=e||{},buildNodeHtml("div",{className:"absolute_horizon_full scroll scroll_auto_y",style:e.style,innerHtml:["<div class='cspace_file_list_wrap'></div>",buildNodeHtml("div",{className:"absolute_full list_empty_container_wrap",style:"display:none",innerHtml:buildNodeHtml("div",{className:"list_empty_wrap",innerHtml:buildNodeHtml("div",{className:"list_empty_inner_wrap",innerHtml:[buildNodeHtml("div",{className:"list_empty_img"}),buildNodeHtml("div",{className:"list_empty_text",innerHtml:"这个文件夹是空的"})].join("")})})})].join("")})}function renderScript(e){if(Array.isArray(e)){for(var t=[],i=0,r=e.length;i<r;i++){var o=e[i];t.push(buildNodeHtml("script",extend({type:"text/javascript"},o)))}return t.join("")}return buildNodeHtml("script",{type:"text/javascript",sqm_static:"1",sqm_kernel:"1",sqm_timeout:"20000",sqm_framework:"1",src:e})}function loadContentBySrc(e,t){var i=new Deferred;return e.attachEvent?e.attachEvent("onload",function(){i.resolve()}):e.onload=function(){i.resolve()},i.always(function(){e.detachEvent?e.detachEvent("onload"):e.onload=null}),i.cfg_canceler=function(){e.setAttribute("src","")},e.setAttribute("src",t),i}function createIframe(e,t){var i=new Deferred,r=e.container;r.innerHTML=renderIframe(e.iframeParam);var o=r.firstChild;return wait(function(){return!!o.contentWindow},function(){var e=[];e.push("<!DOCTYPE html>"),e.push(t);var r=o.contentDocument||o.contentWindow.document;r.open(),r.write(e.join("")),r.close(),i.resolve(o)}),i}function createFileSelectIframe(e){return e&&(e.iframeParam=extend({id:"cspace_file_select"},e.iframeParam)),createIframe(e,buildNodeHtml("html",{innerHtml:[renderCss(),buildNodeHtml("body",{onload:"",className:"absolute_full",innerHtml:[renderRootLoading(),buildNodeHtml("div",{className:"absolute_horizon_full",style:"top: 0;height:49px;border-bottom: 1px solid #ECECED;background-color: #FAFAFC;text-align:center",innerHtml:[buildNodeHtml("div",{className:"evt cspace_tab_private inline_block",innerHtml:"我的文件",evt:"clk_domcommand",_v:"tab_private"}),buildNodeHtml("div",{className:"evt cspace_tab_coop inline_block",innerHtml:"共享文件",evt:"clk_domcommand",_v:"tab_coop"}),buildNodeHtml("div",{className:"evt cspace_tab_public inline_block",innerHtml:"企业文件",evt:"clk_domcommand",_v:"tab_public"})].join("")}),buildNodeHtml("div",{className:"absolute_horizon_full",style:"top: 50px;height:34px;border-bottom: 1px solid #ECECED;background-color: #FAFAFC",innerHtml:buildNodeHtml("div",{className:"ellipsis",style:"padding: 2px 20px",innerHtml:'<div class="cspace_path_crumb unselectable"></div>'})}),renderFileListWrap({style:"top: 85px;bottom:61px"}),buildNodeHtml("div",{className:"absolute_bottom_full",style:"height:60px;border-top: 1px solid #E8E8E8",innerHtml:buildNodeHtml("div",{style:"padding:10px 20px;overflow:hidden",innerHtml:[buildNodeHtml("div",{className:"button button_blue evt unselectable",evt:"clk_domcommand",_v:"ok",style:"float:right;display:none"}),buildNodeHtml("div",{className:"button button_gray evt unselectable",evt:"clk_domcommand",_v:"go_back",style:"float:left;display:none",innerHtml:"返回上一级"})].join("")})}),renderScript(fileSelectScriptUrl)].join("")})].join("")}))}function createCommonFileListIframe(e){return e&&(e.iframeParam=extend({id:"cspace_file_select"},e.iframeParam)),createIframe(e,buildNodeHtml("html",{innerHtml:[renderCss(),buildNodeHtml("body",{onload:"",className:"absolute_full",innerHtml:[renderRootLoading(),renderFileListWrap({style:"top: 0;bottom:0"}),renderScript(commonFileListScriptUrl),dingtalkAPIScriptUrl?buildNodeHtml("script",{type:"text/javascript",src:dingtalkAPIScriptUrl}):""].join("")})].join("")}))}function formatPath(e){var t=[];if(e)for(var i=e.split("/"),r=0,o=i.length;r<o;r++){var n=i[r];n&&t.push(n)}return t.length?"/"+t.join("/")+"/":"/"}function wairForRoot(e){var t=new Deferred;return wait(function(){return!!e.rootInitialize},function(){t.resolve(e.rootInitialize(formatPath))}),t}function renderCommonFileList(e){return createCommonFileListIframe(e).then(function(t){var i=t.contentWindow;return bindCommonFileListIframeEvent(i),wairForRoot(i).then(function(t){var i=e.orgId,r=e.spaceId,o="/";return t.setOrgIdAndPath({orgId:i,spaceId:r,path:"/"}),t.setDocReadonlyAndWatermark(e.docReadonly,e.watermark),t.setGetFileListDeferred(getFileList({orgId:i,spaceId:r,path:o})),t})})}function renderDingFileIframe(e){var t=e.iframeParam||{},i=e.container;i.innerHTML=buildNodeHtml("iframe",extend({frameBorder:"0",allowTransparency:"true",style:"position: absolute;top: 0;left: 0;width: 100%;height: 100%;padding:0;margin:0;border:0"},t,!0));var r=i.firstChild;return loadContentBySrc(r,e.src)}function openFileSelectDialog(e){e=e||{};var t=e.onSelect,i=e.onSelectError;getOrgList().then(function(r){var o=e.file,n=e.orgId,l=e.fromIM,a=e.targetSpaceId,c=e.targetUserOrgList,s=e.dialogType||TYPE_FILE_SELECT,p=e.dingSelectCustomLimit,d="保存到";s==TYPE_FILE_SELECT?d="发送":s==TYPE_DING_SELECT&&(d="确定"),createFileSelectIframe(e).then(function(e){var X=e.contentWindow;wairForRoot(X).then(function(e){bindFileSelectIframeEvent(X);var u,g=!1,f=!1;s==TYPE_FILE_SELECT?(u=n,X.func_ok=function(){var r,o=(e.getPath(),e.getFileSelection()),n=o.length;if(n){if(fileSelectCountLimit&&n>fileSelectCountLimit)return void(i&&i({errorCode:1010,developerMessage:"too many file selected, limit ["+fileSelectCountLimit+"]"}));if(o[0].spaceId==a)t&&t({failedList:[],successList:o});else{var l=copyFileList(o,a);r=l.deferred;var c=l.srcOrgId,s=l.srcSpaceId;e.processLoading(r),r.then(function(r){if(r.success){var o=r.data,n=o.progress;if(100==n)t&&t(o);else{var l=new Deferred;e.processLoading(l),tryToGetProgress(o.statusId,c,s,l),l.then(function(e){t&&t(e)})}}else i&&i({errorCode:r.errorCode,errorMessage:r})})}}}):s==TYPE_FILE_SAVE?(g=!!o.orgId,u=o.orgId,X.func_ok=function(){var i,r=e.getPath();i=o.url?XHRUtils.post(addDirectUrl,{jsonRequest:!0,dataType:"json",data:{fromIm:!0,orgId:r.orgId,spaceId:r.spaceId,autoRename:!0,path:formatPath(r.path)+(o.fileName||"01"),downloadUrl:o.url,notification:!1}}):XHRUtils.post(repathUrl,{jsonRequest:!0,dataType:"json",data:{orgId:r.orgId,srcSpaceId:o.spaceId,targetSpaceId:r.spaceId,srcPaths:[{path:o.id||o.path,index:0}],targetFolderPath:r.path||"/",cutSrc:!1,overwrite:!1,autoRename:!0}}),e.toggleBlueButtonActive(!1),t&&t(i)}):s==TYPE_DING_SELECT?(f=!0,u=n,X.func_ok=function(){var r=(e.getPath(),e.getFileSelection()),o=r.length,n=p||dingSelectCountLimit||1;if(o){if(o>n)return void(i&&i({errorCode:1010,developerMessage:"too many file selected, limit ["+n+"]"}));t&&t({failedList:[],successList:r})}}):s==TYPE_FILE_SAVE_THIRD&&(g=!!n,u=n||r[0].value,X.func_ok=function(){var i=e.getPath(),r={spaceId:i.spaceId,path:i.path};e.toggleBlueButtonActive(!1),t&&t(r)}),e.setRootConfig(s,d,n,c,g,u,a,{fromIM:l,userOrgList:r});var _=getUserSpaceInfo().then(function(t){return e.setOrgIdAndPath({orgId:u,spaceId:t.spaceId,path:"/"}),getFileList({spaceId:t.spaceId,orgId:u,path:"/"})});e.setGetFileListDeferred(_)})})})}function getOrgList(){return getOrgListDeferred&&!getOrgListDeferred.isRejected()||(getOrgListDeferred=JsonP.request(getOrgListUrl).then(function(e){if(!e.success)return Deferred.createRejectedDeferred(e);for(var t=[],i=e.data,r=0,o=i.length;r<o;r++){var n=i[r];t.push({clientId:r+"",name:n.name,value:n.orgId,orgId:n.orgId,path:"/",type:"org",spaceId:n.spaceId,_active:!0,conversationId:n.conversationId,createAt:n.createAt,updateAt:n.updateAt})}return t})),getOrgListDeferred}function setConfig(e){commonFileListScriptUrl=e.commonFileListScriptUrl,fileSelectScriptUrl=e.fileSelectScriptUrl,getOrgListUrl=e.getOrgListUrl,getSummaryUrl=e.getSummaryUrl,getGroupListUrl=e.getGroupListUrl,getFileListUrl=e.getFileListUrl,getPersonalInfoUrl=e.getPersonalInfoUrl,getCoopListUrl=e.getCoopListUrl,repathUrl=e.repathUrl,statusUrl=e.statusUrl,addDirectUrl=e.addDirectUrl,downloadUrl=e.downloadUrl,fileSelectCountLimit=e.fileSelectCountLimit,dingtalkAPIScriptUrl=e.dingtalkAPIScriptUrl,dingSelectCountLimit=e.dingSelectCountLimit}function getSummary(e){return JsonP.request(getSummaryUrl,{orgId:e}).then(function(e){if(!e.success)return Deferred.createRejectedDeferred(e);var t=e.data,i=t.org;i.type="org",i.name="公共区";var r=t.user;return r.type="user",r.name="个人",t})}function getGroupList(e){return JsonP.request(getGroupListUrl,{orgId:e}).then(function(e){if(!e.success)return Deferred.createRejectedDeferred(e);for(var t=[],i=e.data,r=0,o=i.length;r<o;r++){var n=i[r];t.push({clientId:r+"",type:"group",spaceId:n.spaceId,name:n.conversationName,path:"/",conversationId:n.conversationId,owner:n.owner,extension:n.extension})}return t})}function getCoopList(e){var t=e.orgId;return JsonP.request(getCoopListUrl,{orgId:t?t:0}).then(function(e){for(var t=[],i=e.data,r=0,o=i.length;r<o;r++){var n=i[r],l={createAt:n.createAt,updateAt:n.modifiedTime,name:n.name,path:"/",type:"folder",size:n.usedQuota,authorName:n.creatorName,clientId:r+"",_active:!0,spaceId:n.spaceId,cid:n.cid,orgId:n.orgInfo.id,orgName:n.orgInfo.name,role:n.role,isCoopFolder:!0,authLevel:n.orgInfo.authLevel,creatorName:n.creatorName};t.push(l)}return t})}function getUserSpaceInfo(){return JsonP.request(getPersonalInfoUrl,{}).then(function(e){return{spaceId:e.data}})}function getFileList(e){var t=e.orgId,i=e.spaceId,r=e.path,o={spaceId:i,path:r};return void 0!=t&&(o.orgId=t),JsonP.request(getFileListUrl,o).then(function(e){if(!e.success)return Deferred.createRejectedDeferred(e);for(var r=[],o=[],n=e.data,l=0,a=n.length;l<a;l++){var c=n[l],s=c.type,p="folder"==s,d={id:c.id,author:c.author,authorName:c.authorName,createAt:c.createAt,ext:c.ext,imageUrl:c.imageUrl,name:c.name,path:c.path,previewUrl:c.previewUrl,size:c.size,sortField:c.sortField,type:s,updateAt:c.updateAt,clientId:l+"",orgId:t,spaceId:i,encrypt:c.encrypt,expireAt:c.expireAt};p?r.push(d):o.push(d)}return r.concat(o)})}function getOrgSpace(e){return DeferredList.all([getSummary(e),getGroupList(e)]).then(function(e){var t={},i=e[0],r=e[1],o=i.org,n=i.user;t[o.spaceId]=o,t[n.spaceId]=n;for(var l=0,a=r.length;l<a;l++){var c=r[l];t[c.spaceId]=c}return{list:[n].concat([o],r),map:t}})}function getGroupListWidthPub(e){return DeferredList.all([getSummary(e),getGroupList(e)]).then(function(t){for(var i=t[0],r=t[1],o=i.org,n=[o].concat(r),l=[],a=1,c=n.length;a<c;a++){var s=n[a],p=s.type;l.push({clientId:a+"",orgId:e,path:"/",type:p,name:s.name,spaceId:s.spaceId,conversationId:s.conversationId,owner:s.owner,extension:s.extension})}return l})}function buildOrgSpaceList(e,t){return getGroupList(e).then(function(t){for(var i=[],r=0,o=t.length;r<o;r++){var n=t[r],l=n.type;i.push({clientId:r+"",orgId:e,path:"/",type:l,name:n.name,spaceId:n.spaceId,conversationId:n.conversationId,owner:n.owner,extension:n.extension})}return i})}function calcIsContainOrgFolder(e,t,i,r){if(e==TYPE_FILE_SAVE||e==TYPE_FILE_SAVE_THIRD)return!0;if(void 0!=i)return t==i;if(r)for(var o=0,n=r.length;o<n;o++){var l=r[o];if(l==t)return!0}return!1}function bindFileSelectIframeEvent(e){e.func_change_path=function(t){wairForRoot(e).then(function(e){var i=t.orgId,r=t.spaceId,o=t.path,n=t.panelType;t.folderType;e.setOrgIdAndPath(t);var l;if("my"==n)l=r?getFileList(t):getUserSpaceInfo().then(function(e){return getFileList({spaceId:e.spaceId,orgId:i,path:o})});else if("coop"==n)if(r)l=getFileList(t);else{var a=extend({},t,!0);l=getCoopList(a)}else if("company"==n){t.folderType;l="group"==t.folderType?getFileList({orgId:i,spaceId:r,path:"/"}):"org"==t.folderType?getGroupListWidthPub(i):r?getFileList(t):i?getGroupList(i):getOrgList()}e.setGetFileListDeferred(l)})},e.func_get_org_list=function(){return getOrgList()},e.func_get_org_name=function(e){return getOrgList().then(function(t){for(var i=0,r=t.length;i<r;i++){var o=t[i];if(o.value==e)return o.name}})},e.func_get_space_name=function(e,t){return getOrgSpace(e).then(function(e){var i=e.map[t];return i&&i.name})},e.func_get_coop_name=function(e,t){return getCoopList({orgId:e}).then(function(e){for(var i="",r=0,o=e.length;r<o;r++){var n=e[r];if(t==n.spaceId){i=n.name;break}}return i})}}function validateFileSelect(e){var t=e.file,i=e.dialogType||TYPE_FILE_SELECT;if(i==TYPE_FILE_SAVE){if(!t)return Deferred.createRejectedDeferred({errorCode:1005,developerMessage:"file is absent"});if(!t.url){if(!t.spaceId)return Deferred.createRejectedDeferred({errorCode:1003,developerMessage:"spaceId is absent"});if(!t.path)return Deferred.createRejectedDeferred({errorCode:1004,developerMessage:"path is absent"})}}else{if(i==TYPE_DING_SELECT)return Deferred.createResolvedDeferred();if(!e.targetSpaceId)return Deferred.createRejectedDeferred({errorCode:1011,developerMessage:"targetSpaceId is absent"})}return getOrgListDeferred=null,getOrgList().then(function(i){if(!i.length)return Deferred.createRejectedDeferred({errorCode:1007,developerMessage:"org list is empty"});var r=e.orgId||t&&t.orgId;if(r){for(var o=0,n=i.length;o<n;o++)if(i[o].value==r)return i;return Deferred.createRejectedDeferred({errorCode:1006,developerMessage:"orgId is invalid"})}},function(e){return Deferred.createRejectedDeferred({errorCode:1008,developerMessage:"ajax error when get org list",err:e})})}function copyFileList(e,t){for(var i=[],r=e[0],o=0,n=e.length;o<n;o++){var l=e[o];i.push({index:o,path:l.path})}var a=r.orgId,c=r.spaceId;return{srcOrgId:a,srcSpaceId:c,deferred:XHRUtils.post(repathUrl,{jsonRequest:!0,dataType:"json",data:{orgId:a,srcSpaceId:c,targetSpaceId:t,srcPaths:i,targetFolderPath:"/",cutSrc:!1,overwrite:!1,autoRename:!0}})}}function bindCommonFileListIframeEvent(e){e.downloadUrl=downloadUrl,e.func_change_path=function(t){wairForRoot(e).then(function(e){e.setOrgIdAndPath(t),e.setGetFileListDeferred(getFileList(t))})},e.func_download=function(t){wairForRoot(e).then(function(e){window.open(t)})}}function tryToGetProgress(e,t,i,r){XHRUtils.post(statusUrl,{jsonRequest:!0,dataType:"json",data:{orgId:t,spaceId:i,statusId:e}}).then(function(o){var n=o.data;o.success?100==n.progress?r.resolve(n):setTimeout(function(){tryToGetProgress(e,t,i,r)},300):r.reject(n)})}var D=document,W=window,layout_1='*{outline:medium none;}html,body{width:100%;height:100%;overflow:hidden}body{background-color:#FFFFFF;color:#444444;font-size:12px;font-family:"冬青黑体简体中文","Tahoma","Hiragino Sans GB","Microsoft YaHei","微软雅黑","STHeiti","WenQuanYi Micro Hei",SimSun,sans-serif!important;-webkit-font-smoothing:antialiased;line-height:1.666}html,body,div,form,input,textarea,span,img,iframe,ul,ol,li,b,em,i,a{margin:0;border:0;padding:0}html,body{scrollbar-base-color:#dddddd;scrollbar-3dlight-color:#ffffff;scrollbar-highlight-color:#dddddd;scrollbar-shadow-color:#ffffff;scrollbar-darkshadow-color:#ffffff;scrollbar-track-color:#ffffff;scrollbar-arrow-color:#999999}',layout_2="input,select,button,textarea,table{font-family:inherit;font-size:12px}textarea{resize:none;font-size:14px}pre{white-space:pre-wrap;word-wrap:break-word}ul,ol{list-style:none outside none}a:hover,a:active{text-decoration:none}.ico_wrap{position:absolute;line-height:0;font-size:0;white-space:nowrap;border:0}.ico{font-weight:normal;line-height:normal;overflow:hidden;line-height:0;font-size:0;text-align:center;vertical-align:middle;display:inline-block;_display:inline;zoom:1}.absolute_full{overflow:hidden;zoom:1;position:absolute;left:0;top:0;width:100%;height:100%}.absolute_top_full{overflow:hidden;zoom:1;position:absolute;top:0;left:0;width:100%}.absolute_horizon_full{overflow:hidden;zoom:1;position:absolute;left:0;width:100%}.absolute_bottom_full{overflow:hidden;position:absolute;bottom:0;width:100%;left:0}.scroll_auto{overflow:auto;zoom:1}.scroll_auto_y{overflow-x:hidden;overflow-y:auto;zoom:1}.scroll::-webkit-scrollbar{width:10px;height:10px}.scroll_large::-webkit-scrollbar{width:13px;height:13px}.scroll::-webkit-scrollbar-thumb{background-color:#c1c1c1;border-radius:5px}.scroll_large::-webkit-scrollbar-thumb{border-radius:9px}.scroll:hover::-webkit-scrollbar-thumb{background-color:#959595}.scroll::-webkit-scrollbar-thumb:hover{background-color:#959595}.scroll::-webkit-scrollbar-thumb:active{background-color:#757575}.ellipsis{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;zoom:1}.inline_block{vertical-align:top;display:inline-block;*display:inline;zoom:1}.unselectable{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;user-select:none}",layout_3=".round_loading_wrap{z-index:70}.round_loading_img_wrap{position:absolute;text-align:center;left:0;width:100%;z-index:71}.round_loading_center{top:50%}.round_loading_img_center{position:relative;bottom:50%}.round_loading_big{height:32px}.round_loading_big .round_loading_img{width:32px;height:32px}.layer_wrap{position:absolute;background-color:#fff;zoom:1}.layer_box_shadow{box-shadow:0 0 6px rgba(0,0,0,0.3)}.menu_wrap{min-width:150px;background-color:#fff;border:1px solid #c5c5c5;_width:200px}.menu_wrap .layer_component_wrap{padding:7px 0}.title_tips_wrap{background-color:#5b697b;border-radius:3px}.title_tips_mouse{margin:10px}.title_tips_right{margin:0 8px}.title_tips_inner{padding:0 9px;line-height:28px;color:#fff;max-width:480px;overflow:hidden;*white-space:nowrap;*word-break:break-all;zoom:1}.title_tips_oneline{white-space:nowrap;word-break:break-all;max-width:1000px}.button{outline:0;cursor:pointer;text-align:center;text-decoration:none;font-size:14px;line-height:20px;border-radius:5px}.button:hover{text-decoration:none;zoom:1}.button:active{position:relative;top:1px;right:-1px;zoom:1}.button_disabled{cursor:default}.button_disabled:active{top:0;right:0;zoom:1}.button_blue{color:#fff;padding:10px 14px;text-align:center;min-width:70px;background-color:#4187ee}.button_blue_disabled{background-color:#e0e0e0}.button_gray{padding:9px 13px;background-color:#f8f8f8;border:1px solid #c8c7cc}.button_gray_disabled{color:#b7b7b7}.org_dd_wrap{right:0;top:5px;padding:5px;cursor:pointer}.ico_dd{background-image:url(https://gtms04.alicdn.com/tps/i4/TB14S57IpXXXXciXpXX.uTD.FXX-10-10.png);height:10px;width:10px}.ico_tick{background-image:url(https://gtms03.alicdn.com/tps/i3/TB19Sm_IpXXXXXYXpXXZBWn.VXX-12-12.png);height:12px;width:12px}.ico_org_tick{position:absolute;right:8px;top:8px;visibility:hidden}.org_list_item{color:#777;font-size:16px;position:relative;padding:2px 25px 2px 10px;line-height:26px;cursor:pointer;zoom:1}.org_list_item:hover{background-color:#f6f6f6}.select_on .ico_org_tick{visibility:visible}.cspace_path_crumb{cursor:default;font-size:0;line-height:30px}.cspace_path_item{font-size:14px;color:#777}.cspace_path_active{color:#82aaf2;cursor:pointer}.list_empty_wrap{position:absolute;text-align:center;left:0;top:50%;width:100%;height:160px}.list_empty_inner_wrap{position:relative;bottom:50%;width:130px;height:160px;margin:0 auto}.list_empty_img{position:absolute;top:25px;left:25px;height:80px;width:80px;background-image:url(https://img.alicdn.com/tps/TB1lU_0NXXXXXcPaXXXXXXXXXXX-80-80.png)}.list_empty_text{font-size:14px;color:#b7b7b7;position:absolute;bottom:22px;left:0;width:100%;line-height:30px;text-align:center}.file_list_item{position:relative;border-bottom:1px solid #e8e8e8;zoom:1}.file_select_list_item{line-height:26px;padding:10px 210px 10px 62px}.file_select_list_item_active{cursor:pointer}.file_select_list_item_active:hover{background-color:#f6f6f6}.file_list_type_ico{width:32px;height:32px}.file_select_list_item .file_list_type_ico{top:7px;left:20px}.ico_list_org{background-image:url(https://img.alicdn.com/tps/TB19gUUMVXXXXcEXXXXXXXXXXXX-32-32.png)}.ico_list_user{background-image:url(https://gtms02.alicdn.com/tps/i2/TB1.Oa6IpXXXXaAXVXXEDhGGXXX-32-32.png)}.ico_list_group{background-image:url(https://img.alicdn.com/tps/TB1qiY9NXXXXXb_XVXXXXXXXXXX-32-32.png)}.ico_list_enter{width:16px;height:16px;background-image:url(https://gtms03.alicdn.com/tps/i3/TB1dATeIpXXXXbwXXXXAz6UFXXX-16-16.png)}.ico_list_encrypt{width:14px;height:14px;background-image:url(https://gw.alicdn.com/tps/TB18FGJNVXXXXaHXXXXXXXXXXXX-14-14.png)}.file_select_list_item .ico_list_enter{visibility:hidden}.file_select_list_item_active .ico_list_enter{visibility:visible}.ico_list_folder{background-image:url(https://img.alicdn.com/tps/TB1gAb_NXXXXXa1XVXXXXXXXXXX-32-32.png)}.ico_list_coop_folder{background-image:url(https://img.alicdn.com/tps/TB1MBkMMVXXXXapXVXXXXXXXXXX-32-32.png)}.ico_file_ai{background-image:url(https://img.alicdn.com/tps/TB1ICcyNXXXXXXoXXXXXXXXXXXX-32-32.png)}.ico_file_zip{background-image:url(https://img.alicdn.com/tps/TB1DGjWNXXXXXcxaXXXXXXXXXXX-32-32.png)}.ico_file_xls,.ico_file_xlsx{background-image:url(https://img.alicdn.com/tps/TB16w69NXXXXXbIXVXXXXXXXXXX-32-32.png)}.ico_file_video{background-image:url(https://img.alicdn.com/tps/TB1BSL4NXXXXXcrXVXXXXXXXXXX-32-32.png)}.ico_file_unknown{background-image:url(https://img.alicdn.com/tps/TB1axLONXXXXXcuapXXXXXXXXXX-32-32.png)}.ico_file_txt{background-image:url(https://img.alicdn.com/tps/TB1ifDRNXXXXXbgapXXXXXXXXXX-32-32.png)}.ico_file_rar{background-image:url(https://img.alicdn.com/tps/TB13SnRNXXXXXaQapXXXXXXXXXX-32-32.png)}.ico_file_psd{background-image:url(https://img.alicdn.com/tps/TB14VMcNXXXXXcwXFXXXXXXXXXX-32-32.png)}.ico_file_ppt,.ico_file_pptx{background-image:url(https://img.alicdn.com/tps/TB1chY9NXXXXXaRXVXXXXXXXXXX-32-32.png)}.ico_file_img{background-image:url(https://img.alicdn.com/tps/TB1nDn3NXXXXXXUaXXXXXXXXXXX-32-32.png)}.ico_file_pdf{background-image:url(https://img.alicdn.com/tps/TB1_BbVNXXXXXcIaXXXXXXXXXXX-32-32.png)}.ico_file_doc,.ico_file_docx{background-image:url(https://img.alicdn.com/tps/TB1VkoXNXXXXXXOXVXXXXXXXXXX-32-32.png)}.ico_file_audio{background-image:url(https://img.alicdn.com/tps/TB1gCkrNXXXXXc7XXXXXXXXXXXX-32-32.png)}.ico_file_numbers{background-image:url(https://img.alicdn.com/tps/TB11Iz1NXXXXXcjaXXXXXXXXXXX-32-32.png)}.ico_file_pages{background-image:url(https://img.alicdn.com/tps/TB1vpj1NXXXXXaJaXXXXXXXXXXX-32-32.png)}.ico_file_key{background-image:url(https://img.alicdn.com/tps/TB1mHskNXXXXXaIXFXXXXXXXXXX-32-32.png)}.ico_file_sketch{background-image:url(https://img.alicdn.com/tps/TB1k.Y6NXXXXXahaXXXXXXXXXXX-32-32.png)}.ico_upload_success{width:22px;height:22px;background:url(https://gtms04.alicdn.com/tps/i4/TB1UTXbIVXXXXXPXFXXOuD4FpXX-22-22.png)}.ico_upload_error{width:22px;height:22px;background:url(https://gtms03.alicdn.com/tps/i3/TB1Kxc7IFXXXXXWaXXXOuD4FpXX-22-22.png)}.ico_list_checkbox{width:13px;height:13px;background-image:url(https://img.alicdn.com/tps/TB1NUAeNXXXXXcbapXXXXXXXXXX-13-13.png)}.ico_misc_close_light{width:12px;height:12px;background-image:url(https://gtms01.alicdn.com/tps/i1/TB15S2oIFXXXXb6XVXXZBWn.VXX-12-12.png)}.ico_dustbin{width:24px;height:24px;background-image:url(https://img.alicdn.com/tps/TB11tpuKpXXXXaxXFXXXXXXXXXX-24-24.png)}.select_on .ico_list_checkbox{background-image:url(https://img.alicdn.com/tps/TB1l6UUNXXXXXaFXXXXXXXXXXXX-13-13.png)}.file_select_list_item .ico_list_checkbox{visibility:hidden}.file_select_list_item_active .ico_list_checkbox{visibility:visible}.file_select_list_item .file_list_ico_enter{top:15px;right:20px}.file_select_list_item .file_list_checkbox{top:16px;right:20px}.file_select_list_item .file_list_size{color:#ccc;position:absolute;top:10px;right:100px;width:100px}.file_select_list_item_active .file_list_size{color:#aaa}.file_select_list_item .file_list_name{color:#ccc;font-size:14px}.file_select_list_item_active .file_list_name{color:#777}.common_file_list_item{padding:3px 120px 3px 62px}.common_file_list_item .file_list_type_ico{top:7px;left:15px}.common_file_list_item .file_list_name{line-height:20px;font-size:14px}.common_file_list_item .file_list_expire{line-height:20px;font-size:14px;color:#fb9e9e}.common_file_list_item .file_list_info{position:relative;line-height:20px;color:#aaa;padding-left:130px;zoom:1}.common_file_list_item .file_list_date{position:absolute;left:0;top:0;width:75px}.common_file_list_item .file_list_size{position:absolute;left:80px;top:0;width:45px}.common_file_list_splitter{background-color:#f5f5f5;padding:0 15px;line-height:26px;border-bottom:1px solid #e8e8e8}.common_file_list_item .file_list_ico_enter{top:15px;right:15px}.common_file_list_item .file_list_ico_encrypt{top:31px;left:41px}.file_select_list_item .file_list_ico_encrypt{top:31px;left:44px}.common_file_list_folder{cursor:pointer}.common_file_list_item .file_list_op{position:absolute;padding:3px 0;border-radius:5px;color:#e1e1e1;border:1px solid #e1e1e1;cursor:default}.common_file_list_item .file_list_op_download{right:15px;top:10px}.common_file_list_item .file_list_op_preview{right:65px;top:10px}.common_file_list_item .file_list_op_active{color:#444;cursor:pointer}.common_file_list_item .file_list_op_txt{padding:0 10px;line-height:20px}.common_file_list_item .file_list_progress_bar,.common_file_list_item .file_list_progress_track{position:absolute;bottom:0;height:3px;left:0;zoom:1}.common_file_list_item .file_list_progress_bar{width:100%}.common_file_list_item .file_list_progress_track{background-color:#78c06e;width:0}.upload_plugin_file_item{padding:3px 80px 3px 62px}.upload_plugin_file_item .file_list_type_ico{top:7px;left:20px}.upload_plugin_file_item .file_list_name{font-size:14px;color:#222}.upload_plugin_file_item .file_list_main{line-height:20px}.upload_plugin_file_item .file_list_size{color:#a0a0a0;width:45px;margin-right:5px}.upload_plugin_file_item .file_list_speed{width:60px;margin-right:5px}.upload_plugin_file_item .file_list_desc{width:100px;margin-right:5px}.upload_plugin_file_item .file_list_progress{position:absolute;bottom:0;left:0;height:2px;z-index:-1;background:#008af1;width:0}.upload_plugin_file_item .file_list_ico_success{position:absolute;top:12px;right:20px}.upload_plugin_file_item .file_list_ico_error{position:absolute;top:12px;right:22px}.upload_plugin_file_item .file_list_ico_remove{position:absolute;top:12px;right:20px;padding:5px;cursor:pointer}.upload_plugin_file_item .file_list_op_open{right:15px;top:10px}.upload_plugin_file_item .file_list_op{position:absolute;padding:3px 0;border-radius:5px;color:#e1e1e1;border:1px solid #e1e1e1;cursor:default}.upload_plugin_file_item .file_list_op_txt{padding:0 10px;line-height:20px}.upload_plugin_file_item .file_list_op_active{color:#444;cursor:pointer}.file_list_doc_redonly .file_list_op_download{display:none}.file_list_doc_redonly .file_list_op_download{display:none}.file_list_doc_redonly .file_list_op_preview{right:15px}.cspace_tab_private{padding:0 15px;line-height:26px;border-top:1px solid #008cee;border-left:1px solid #008cee;border-bottom:1px solid #008cee;margin-top:10px;cursor:pointer;background-color:#fff}.cspace_tab_public{padding:0 15px;line-height:26px;border-top:1px solid #008cee;border-right:1px solid #008cee;border-bottom:1px solid #008cee;margin-top:10px;cursor:pointer;background-color:#fff}.cspace_tab_coop{padding:0 15px;line-height:26px;border:1px solid #008cee;margin-top:10px;cursor:pointer;background-color:#fff}.cspace_tab_private{margin-left:20px;border-top-left-radius:4px;border-bottom-left-radius:4px}.cspace_tab_public{border-top-right-radius:4px;border-bottom-right-radius:4px}.cspace_tab_active{background-color:#008cee;color:#fff}.cspace_tab_disable{border:1px solid #e0e0e0;background-color:#e0e0e0;color:#b7b7b7;cursor:default}@media(-webkit-min-device-pixel-ratio:2){.ico_list_folder{background-image:url(https://img.alicdn.com/tps/TB1djghNXXXXXawXFXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_list_coop_folder{background-image:url(https://img.alicdn.com/tps/TB1xNoYMVXXXXaJXXXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_ai{background-image:url(https://img.alicdn.com/tps/TB11cooNXXXXXaVXpXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_zip{background-image:url(https://img.alicdn.com/tps/TB1vSY7NXXXXXcjXVXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_xls,.ico_file_xlsx{background-image:url(https://img.alicdn.com/tps/TB1Vh3bNXXXXXXnXVXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_video{background-image:url(https://img.alicdn.com/tps/TB1VdUeNXXXXXcmXFXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_unknown{background-image:url(https://img.alicdn.com/tps/TB19QZlNXXXXXbLXpXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_txt{background-image:url(https://img.alicdn.com/tps/TB1m.gcNXXXXXc1XFXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_rar{background-image:url(https://img.alicdn.com/tps/TB1CdgpNXXXXXXlXpXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_psd{background-image:url(https://img.alicdn.com/tps/TB1NFwlNXXXXXcGXpXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_ppt,.ico_file_pptx{background-image:url(https://img.alicdn.com/tps/TB10ZsrNXXXXXXUXpXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_img{background-image:url(https://img.alicdn.com/tps/TB1D.MhNXXXXXb.XpXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_pdf{background-image:url(https://img.alicdn.com/tps/TB1cMwcNXXXXXXFXVXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_doc,.ico_file_docx{background-image:url(https://img.alicdn.com/tps/TB17U.gNXXXXXbBXFXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_audio{background-image:url(https://img.alicdn.com/tps/TB1PGYPNXXXXXbuapXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_numbers{background-image:url(https://img.alicdn.com/tps/TB18866NXXXXXXAaXXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_pages{background-image:url(https://img.alicdn.com/tps/TB1BO.tNXXXXXX4XpXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_key{background-image:url(https://img.alicdn.com/tps/TB1ASn2NXXXXXXtaXXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_file_sketch{background-image:url(https://img.alicdn.com/tps/TB1MZUiNXXXXXb.XFXXXXXXXXXX-64-64.png);background-size:32px 32px}.ico_header_org_public{background-size:20px 20px;background-image:url(https://img.alicdn.com/tps/TB1HLMkNXXXXXcJXpXXXXXXXXXX-40-40.png)}.ico_header_org_group{background-size:20px 20px;background-image:url(https://img.alicdn.com/tps/TB1jHjYNXXXXXasaXXXXXXXXXXX-40-40.png)}.ico_header_private_default{background-size:32px 32px;background-image:url(https://img.alicdn.com/tps/TB1JNQEMVXXXXa9XVXXXXXXXXXX-64-64.png)}.ico_header_private_coop{background-size:32px 32px;background-image:url(https://img.alicdn.com/tps/TB1c8cSMVXXXXXjXpXXXXXXXXXX-64-64.png)}.ico_header_org_default{background-size:32px 32px;background-image:url(https://img.alicdn.com/tps/TB1SRMEMVXXXXa5XVXXXXXXXXXX-64-64.png)}.space_list_ASC .cspace_list_sort_ico{background-size:8px 12px;background-image:url(https://img.alicdn.com/tps/TB18bKiJVXXXXbUXpXXXXXXXXXX-16-24.png)}.space_list_DESC .cspace_list_sort_ico{background-size:8px 12px;background-image:url(https://img.alicdn.com/tps/TB1jM42JVXXXXXfaXXXXXXXXXXX-16-24.png)}.org_accordion_group_item_auth_icon{background-size:17px 15px;background-image:url(https://img.alicdn.com/tps/TB1Neq7LXXXXXcnXpXXXXXXXXXX-34-30.png)}.coop_list_empty_img{height:41px;width:43px;background-size:43px 41px;background-image:url(https://img.alicdn.com/tps/TB1JscmNXXXXXbmXpXXXXXXXXXX-86-82.png)}.coop_list_empty_arrow{height:23px;width:17px;background-size:17px 23px;background-image:url(https://img.alicdn.com/tps/TB1KkwoNXXXXXa1XpXXXXXXXXXX-34-46.png)}.ico_list_org{background-size:32px 32px;background-image:url(https://img.alicdn.com/tps/TB1SRMEMVXXXXa5XVXXXXXXXXXX-64-64.png)}.list_empty_img{height:80px;width:80px;background-size:80px 80px;background-image:url(https://img.alicdn.com/tps/TB1Zj_ONXXXXXbCaFXXXXXXXXXX-160-160.png)}.ico_list_checkbox{width:13px;height:13px;background-size:13px 13px;background-image:url(https://img.alicdn.com/tps/TB16oQVNXXXXXXyXXXXXXXXXXXX-26-26.png)}.select_on .ico_list_checkbox{background-size:13px 13px;background-image:url(https://img.alicdn.com/tps/TB10fwONXXXXXcYXXXXXXXXXXXX-26-26.png)}.ico_coop_org_auth_level{background-size:12px 12px;background-image:url(https://img.alicdn.com/tps/TB1cJgHNXXXXXXzXFXXXXXXXXXX-24-24.png)}.ico_list_group{background-size:32px 32px;background-image:url(https://img.alicdn.com/tps/TB12kZiNXXXXXaCXFXXXXXXXXXX-64-64.png)}.ico_list_encrypt{background-size:14px 14px;background-image:url(https://gw.alicdn.com/tps/TB1q9eDNVXXXXXQXpXXXXXXXXXX-28-28.png)}}";
Array.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},String.isString=String.isString||function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},extend(Function.prototype,{bind:function(e){var t=this,i=arguments.length>1?Array.prototype.slice.call(arguments,1):null,r=function(){},o=function(){var n=e,l=arguments.length;this instanceof o&&(r.prototype=t.prototype,n=new r);var a=i||l?t.apply(n,i&&l?i.concat(Array.prototype.slice.call(arguments)):i||arguments):t.call(n);return n==e?a:n};return o}}),extend(Array.prototype,{some:function(e,t){for(var i=0,r=this.length;i<r;i++)if(e.call(t||this,this[i],i,this))return!0;return!1}});var PROGRESS=0,RESOLVED=1,REJECTED=2,FULFILLED_ERROR_MESSAGE="This deferred has already been fulfilled",signalWaiting=function(e,t,i){for(var r=0,o=e.length;r<o;r++)signalListener(e[r],t,i)},signalListener=function(e,t,i){var r=e[t],o=e.deferred;if(r)try{var n=r(i);if(t===PROGRESS)"undefined"!=typeof n&&signalDeferred(o,t,n);else{if(n&&"function"==typeof n.then)return e.cancel=n.cancel.bind(n),void n.then(makeDeferredSignaler(o,RESOLVED),makeDeferredSignaler(o,REJECTED),makeDeferredSignaler(o,PROGRESS));signalDeferred(o,RESOLVED,n)}}catch(e){$warn(e),signalDeferred(o,REJECTED,e)}else signalDeferred(o,t,i)},makeDeferredSignaler=function(e,t){return function(i){signalDeferred(e,t,i)}},signalDeferred=function(e,t,i){if(!e.isCanceled())switch(t){case PROGRESS:e.progress(i);break;case RESOLVED:e.resolve(i);break;case REJECTED:e.reject(i)}},Deferred=function(e){var t=this;if(e)for(var i in e)t[i]=e[i];t.waiting=[],t.result=null,t.fulfilled=null,t.canceled=!1};extend(Deferred.prototype,{resolve:function(e){var t=this;return t.fulfilled?void $warn(FULFILLED_ERROR_MESSAGE):(signalWaiting(t.waiting,t.fulfilled=RESOLVED,t.result=e),t.waiting=null,t)},reject:function(e,t){var i=this;return i.fulfilled?void(t||$warn(FULFILLED_ERROR_MESSAGE)):(signalWaiting(i.waiting,i.fulfilled=REJECTED,i.result=e),i.waiting=null,i)},then:function(e,t,i){var r=this,o=[i,e,t];o.cancel=r.cancel;var n=new Deferred({cfg_canceler:function(e){return o.cancel&&o.cancel.call(this,e,!0)}.bind(r)});return o.deferred=n,r.fulfilled?(r.waiting=null,signalListener(o,r.fulfilled,r.result)):r.waiting&&r.waiting.push(o),n},always:function(e){return this.then(e,e)},otherwise:function(e){return this.then(null,e)},cancel:function(e,t){var i=this;if(i.fulfilled)t||$warn(FULFILLED_ERROR_MESSAGE);else{if(i.cfg_canceler){var r=i.cfg_canceler(e);e="undefined"==typeof r?e:r}if(i.canceled=!0,!i.fulfilled)return"undefined"==typeof e&&(e=new Error("cancel")),i.reject(e),e;if(i.fulfilled===REJECTED&&i.result===e)return e}},progress:function(e){var t=this;return t.fulfilled?void $warn(FULFILLED_ERROR_MESSAGE):(signalWaiting(t.waiting,PROGRESS,e),t)},isResolved:function(){return this.fulfilled===RESOLVED},isRejected:function(){return this.fulfilled===REJECTED},isFulfilled:function(){return!!this.fulfilled},isCanceled:function(){return this.canceled}}),Deferred.when=function(e,t,i,r){var o=e&&"function"==typeof e.then;return o?t||i||r?e.then(t,i,r):e:arguments.length>1?t?t(e):e:(new Deferred).resolve(e)},Deferred.createResolvedDeferred=function(e){var t=new Deferred;return t.resolve(e),t},Deferred.createRejectedDeferred=function(e){var t=new Deferred;return t.reject(e),t};var DeferredList={all:function(e,t){var i,r;Array.isArray(e)?r=e:e&&"object"==typeof e&&(i=e);var o,n=[];if(i){r=[];for(var l in i)Object.hasOwnProperty.call(i,l)&&(n.push(l),r.push(i[l]));o={}}else r&&(o=[]);if(0===r.length)return(new Deferred).resolve(o);var a=new Deferred;a.always(function(){o=n=null});var c=r.length;return r.some(function(e,r){return i||n.push(r),Deferred.when(e,function(e){a.isFulfilled()||(o[n[r]]=e,a.progress(e),0===--c&&a.resolve(o))},function(e){a.isFulfilled()||(t?c--:a.reject(e))}),a.isFulfilled()}),a}},StringUtils={endsWith:function(e,t){var i=e.length-t.length;return i>=0&&e.indexOf(t,i)===i}},PathUtils={addUrlParam:function(e,t){return t?e.indexOf("?")>=0?e+(StringUtils.endsWith(e,"?")?"":"&")+t:e+"?"+t:e},buildQuery:function(e){var t=[];if(e)for(var i in e){var r=e[i];void 0!=r&&t.push(i+"="+encodeURIComponent(r))}return t.join("&")}},XHRUtils=function(){function parseData(e,t){if(e){if(e instanceof window.FormData)return e;if(t)return JSON.stringify(e);var i=[];for(var r in e){var o=e[r];void 0!=o&&null!==o&&("object"==typeof o&&(o=JSON.stringify(o)),i.push(encodeURIComponent(r)+"="+encodeURIComponent(o)))}return i.join("&").replace(r20,"+")}}function checkStatus(e){return e=e||0,e>=200&&e<300||304===e||1223===e||!e}function processSuccess(e,t,i){try{var r=dataHandlers[i.dataType];e.resolve(r?r(t):t)}catch(t){e.reject({reason:"EXCEPTION_REJECT",exception:t})}}function processError(e,t){var i={reason:"AJAX_REJECT",status:t.status},r=t.responseText;r&&(i.response=r),e.reject(i)}function processXMLHttpRequest(e,t,i){if(e.addEventListener){var r=function(e){l(),checkStatus(this.status)?processSuccess(i,this.responseText,t):processError(i,this)},o=function(e){l(),processError(i,this)},n=function(e){e.lengthComputable&&i.progress({total:e.total,loaded:e.loaded})};e.addEventListener("load",r,!1),e.addEventListener("error",o,!1),t.isUpload&&e.upload.addEventListener("progress",n,!1);var l=function(){e.removeEventListener("load",r,!1),e.removeEventListener("error",o,!1),t.isUpload&&e.upload.removeEventListener("progress",n,!1),e=r=o=n=l=null}}else e.onreadystatechange=function(){if(4==e.readyState){checkStatus(e.status)?processSuccess(i,e.responseText,t):processError(i,e);try{e.onreadystatechange=null}catch(t){e.onreadystatechange=function(){}}e=null}}}function testFunctionList(e){for(var t=0,i=e.length;t<i;t++){var r=e[t];try{r();break}catch(e){}}return r}function ajax(e,t,i){var r=new Deferred;i=i||{};var o=i.jsonRequest,n=parseData(i.data,o);try{var l=!!i.isUpload;buildXMLHttpRequest=buildXMLHttpRequest||function(e){return testFunctionList([function(){return new e.ActiveXObject("MSXML2.XMLHttp.6.0")},function(){return new e.ActiveXObject("MSXML2.XMLHttp.3.0")},function(){return new XMLHttpRequest},function(){return new e.ActiveXObject("MSXML2.XMLHttp.5.0")},function(){return new e.ActiveXObject("MSXML2.XMLHttp.4.0")},function(){return new e.ActiveXObject("Msxml2.XMLHTTP")},function(){return new e.ActiveXObject("MSXML.XMLHttp")},function(){return new e.ActiveXObject("Microsoft.XMLHTTP")}])}(window);var a=l?new XMLHttpRequest:buildXMLHttpRequest();r.cfg_canceler=function(e){try{a.abort()}catch(e){}return e},processXMLHttpRequest(a,i,r),a.open(t,e,!0);var c=i.headers,s=l?c:extend(o?jsonRequestHeader:defaultHeaders,c,!0);if(s)for(var p in s){var d=s[p];d&&a.setRequestHeader(p,d)}a.send(n||null),setTimeout(function(){r.isFulfilled()||r.progress()},10)}catch(e){$warn(e),r.reject({reason:"EXCEPTION_REJECT",exception:e})}return r}var r20=/%20/g,buildXMLHttpRequest,defaultHeaders={"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},jsonRequestHeader={"Content-Type":"application/json;charset=UTF-8"},dataHandlers={javascript:function(responseText){return eval("("+responseText+")"||"")},json:function(e){return JSON.parse(e||null)}};return{get:function(e,t){return ajax(e,"get",t)},post:function(e,t){return ajax(e,"post",t)}}}(),JsonP=function(){function e(){return r=r||D.getElementsByTagName("head")[0]}function t(e,t){var i=D.createElement("script");return e.indexOf("://")<0&&(e=W.location.protocol+"//"+e),t._timestamp_=Date.now(),i.setAttribute("src",PathUtils.addUrlParam(e,PathUtils.buildQuery(t))),i.setAttribute("async",!0),i.setAttribute("_cb",t.callback),i.setAttribute("type","text/javascript"),i}function i(t,i){var r=function(){setTimeout(function(){for(var t=e().childNodes,r=0,o=t.length;r<o;r++){var n=t[r];if(1==n.nodeType&&"SCRIPT"==n.tagName&&n.getAttribute("_cb")===i){n.onload=n.onreadystatechange=n.onerror=null,n.parentNode.removeChild(n);break}}W[i]=null},200)};"addEventListener"in t?t.onload=r:"readyState"in t?t.onreadystatechange=function(){var e=t.readyState;"loaded"!=e&&"complete"!=e||r()}:t.onload=r,t.onerror=r}var r,o="jsonp_",n=0;return{request:function(r,l){var a=new Deferred;l=l||{};var c=l.callback=o+n++,s=t(r,l);return i(s,c),W[c]=function(e){a.resolve(e)},e().appendChild(s),a}}}(),orgSpaceMap={},TYPE_FILE_SELECT="1",TYPE_FILE_SAVE="2",TYPE_DING_SELECT="3",TYPE_FILE_SAVE_THIRD="4",getOrgListDeferred,fileSelectScriptUrl,dingtalkAPIScriptUrl,getOrgListUrl,getSummaryUrl,getGroupListUrl,getFileListUrl,getPersonalInfoUrl,getCoopListUrl,repathUrl,statusUrl,addDirectUrl,commonFileListScriptUrl,downloadUrl,dingSelectCountLimit,fileSelectCountLimit,cspacePlugin={setConfig:setConfig,getOrgList:getOrgList,renderCommonFileList:renderCommonFileList,validateFileSelect:validateFileSelect,renderDingFileIframe:renderDingFileIframe,openFileSelectDialog:openFileSelectDialog};module.exports=cspacePlugin;

},{}],736:[function(require,module,exports){
(function (process){
!function(W,D){function isDef(e){return"undefined"!=typeof e}function extend(e,t,r){if(e||(e={}),!t)return e;for(var i in t){var n=t[i];!isDef(n)||!r&&isDef(e[i])||(e[i]=n)}return e}function Class(e){if(!(this instanceof Class)&&Function.isFunction(e))return classify(e)}function implement(e){var t,r;for(t in e)r=e[t],Class.Mutators.hasOwnProperty(t)?Class.Mutators[t].call(this,r):this.prototype[t]=r}function classify(e){return e.extend=Class.extend,e.implement=implement,e}function Ctor(){}function mix(e,t,r){for(var i in t)if(t.hasOwnProperty(i)){if(r&&indexOf(r,i)===-1)continue;"prototype"!==i&&(e[i]=t[i])}}function Events(){}function testSupport(e,t){var r={};div=div||D.createElement("div");for(var i=0,n=tests.length;i<n;i++){var o=tests[i],a=o.fn(div,e,t);"object"==typeof a?extend(r,a):r[o.identity]=a}return div=null,r}function callConsole(e,t){var r=W.console;void 0!=r&&("log"==e?r.log(t):"warn"==e?r.warn(t):"error"==e?r.error(t):"info"==e&&r.info(t))}function $warn(e){callConsole("warn",e)}function Timer(){}function getAllFiles(e,t,r){var i=fs.readdirSync(e);i.forEach(function(i){var n=pathUtils.join(e,i),o=fs.statSync(n);o.isDirectory()?getAllFiles(n,t+"/"+i,r):r.push({isNw:!0,name:i,size:o.size,path:n,webkitRelativePath:t+"/"+i})})}var CSpace=W.CSpace=W.CSpace||{},toString=Object.prototype.toString;Array.isArray=Array.isArray||function(e){return"[object Array]"===toString.call(e)},extend(Array.prototype,{contains:function(e){return this.indexOf(e)>-1},some:function(e,t){for(var r=0,i=this.length;r<i;r++)if(e.call(t||this,this[r],r,this))return!0;return!1},indexOf:Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}}),extend(Function.prototype,{isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},delay:function(e,t){var r;Number.isNumber(e)?r=Array.prototype.slice.call(arguments,1):(r=arguments,t=e,e=10);var i=this;return setTimeout(function(){i.apply(t||W,r.length>1?Array.prototype.slice.call(r,1):[])},e)},wait:function(e,t,r,i){var n=this,o=function(){e.call(t||W)?n.call(r||t||W):W.setTimeout(o,i||200)};o()},bind:function(e){var t=this,r=arguments.length>1?Array.prototype.slice.call(arguments,1):null,i=function(){},n=function(){var o=e,a=arguments.length;this instanceof n&&(i.prototype=t.prototype,o=new i);var s=r||a?t.apply(o,r&&a?r.concat(Array.prototype.slice.call(arguments)):r||arguments):t.call(o);return o==e?s:o};return n}}),String.isString=String.isString||function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)};var StringUtils=CSpace.StringUtils={startsWith:function(e,t){return 0===e.lastIndexOf(t,0)},endsWith:function(e,t){var r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r}},idPrefix="_",currentId=1,Utils=CSpace.Utils={id:function(){return""+(new Date).getTime()+idPrefix+currentId++},isDef:isDef,extend:extend,getFileExtName:function(e){if(e){var t=e.lastIndexOf(".");return t>=0?e.substring(t+1).toLowerCase():""}return""},formatFileSize:function(e,t){var r=1024;return 0===e?"0KB":e<r?"1KB":(t=t||0,e/=r,e<r?e.toFixed(t)+"KB":(e/=r,e<r?e.toFixed(t)+"MB":(e/=r,e.toFixed(t)+"GB")))}};CSpace.XHRUtils=function(){function parseData(e,t){if(e){if(e instanceof window.FormData)return e;if(t)return JSON.stringify(e);var r=[];for(var i in e){var n=e[i];void 0!=n&&null!==n&&("object"==typeof n&&(n=JSON.stringify(n)),r.push(encodeURIComponent(i)+"="+encodeURIComponent(n)))}return r.join("&").replace(r20,"+")}}function checkStatus(e){return e=e||0,e>=200&&e<300||304===e||1223===e||!e}function processSuccess(e,t,r){try{var i=dataHandlers[r.dataType];e.resolve(i?i(t):t)}catch(t){e.reject({reason:"EXCEPTION_REJECT",index:"base_1",exception:t})}}function processError(e,t){var r={reason:"AJAX_REJECT",index:"base_2",status:t.status},i=t.responseText;i&&(r.response=i),e.reject(r)}function processXMLHttpRequest(e,t,r){if(e.addEventListener){var i=function(e){l(),checkStatus(this.status)?processSuccess(r,this.responseText,t):processError(r,this)},n=function(e){l(),processError(r,this)},o=function(e){e.lengthComputable&&r.progress({total:e.total,loaded:e.loaded})},a=function(e){l();var t={reason:"TIME_OUT_REJECT",index:"base_3",status:this.status,msg:"系统超时，请稍候重试"};r.reject(t)},s=function(e){l();var t={reason:"AJAX_REJECT",index:"base_4",status:this.status,msg:"系统超时，请稍候重试"};r.reject(t)};e.addEventListener("load",i,!1),e.addEventListener("error",n,!1),e.addEventListener("timeout",a,!1),e.addEventListener("abort",s,!1),t.isUpload&&e.upload.addEventListener("progress",o,!1);var l=function(){e.removeEventListener("load",i,!1),e.removeEventListener("error",n,!1),e.removeEventListener("timeout",a,!1),e.removeEventListener("abort",s,!1),t.isUpload&&e.upload.removeEventListener("progress",o,!1),t.data=null,e=i=n=o=l=null}}else e.onreadystatechange=function(){if(4==e.readyState){checkStatus(e.status)?processSuccess(r,e.responseText,t):processError(r,e);try{e.onreadystatechange=null}catch(t){e.onreadystatechange=function(){}}e=null}},e.ontimeout=function(t){var i={reason:"TIME_OUT_REJECT",index:"base_5",status:this.readyState,msg:"系统超时，请稍候重试"};r.reject(i);try{e.onreadystatechange=null}catch(t){e.onreadystatechange=function(){}}e=null}}function testFunctionList(e){for(var t=0,r=e.length;t<r;t++){var i=e[t];try{i();break}catch(e){}}return i}function ajax(e,t,r){var i=new Deferred;r=r||{};var n=r.jsonRequest,o=parseData(r.data,n);try{var a=!!r.isUpload;buildXMLHttpRequest=buildXMLHttpRequest||function(e){return testFunctionList([function(){return new e.ActiveXObject("MSXML2.XMLHttp.6.0")},function(){return new e.ActiveXObject("MSXML2.XMLHttp.3.0")},function(){return new XMLHttpRequest},function(){return new e.ActiveXObject("MSXML2.XMLHttp.5.0")},function(){return new e.ActiveXObject("MSXML2.XMLHttp.4.0")},function(){return new e.ActiveXObject("Msxml2.XMLHTTP")},function(){return new e.ActiveXObject("MSXML.XMLHttp")},function(){return new e.ActiveXObject("Microsoft.XMLHTTP")}])}(window);var s=a?new XMLHttpRequest:buildXMLHttpRequest();s.timeout=r.timeout||(a?1e5:3e4),i.cfg_canceler=function(e){try{s.abort()}catch(e){}return e},processXMLHttpRequest(s,r,i),s.open(t,e,!0);var l=r.headers,c=a?l:extend(n?jsonRequestHeader:defaultHeaders,l,!0);if(c)for(var f in c){var u=c[f];u&&s.setRequestHeader(f,u)}s.send(o||null),setTimeout(function(){i.isFulfilled()||i.progress()},10)}catch(e){$warn(e),i.reject({reason:"EXCEPTION_REJECT",index:"base_7",exception:e})}return i}var r20=/%20/g,buildXMLHttpRequest,defaultHeaders={"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},jsonRequestHeader={"Content-Type":"application/json;charset=UTF-8"},dataHandlers={javascript:function(responseText){return eval("("+responseText+")"||"")},json:function(e){return JSON.parse(e||null)}};return{get:function(e,t){return ajax(e,"get",t)},post:function(e,t){return ajax(e,"post",t)}}}(),CSpace.PathUtils={addUrlParam:function(e,t){return t?e.indexOf("?")>=0?e+(StringUtils.endsWith(e,"?")?"":"&")+t:e+"?"+t:e},buildQuery:function(e){var t=[];if(e)for(var r in e){var i=e[r];void 0!=i&&t.push(r+"="+encodeURIComponent(i))}return t.join("&")},getUrlPath:function(e){var t,r=!1;if(StringUtils.startsWith(e,"https://")?(r=!0,t=e.substring(8)):StringUtils.startsWith(e,"http://")&&(r=!0,t=e.substring(7)),!r)return e;var i=t.split("/");return 1===i.length?"/":i.length>1?(i.shift(),"/"+i.join("/")):void 0}},Class.create=function(e,t){function r(){e.apply(this,arguments),this.constructor===r&&this.initialize&&this.initialize.apply(this,arguments)}return Function.isFunction(e)||(t=e,e=null),t||(t={}),e||(e=t.Extends||Class),t.Extends=e,e!==Class&&mix(r,e,e.StaticsWhiteList),implement.call(r,t),classify(r)},Class.extend=function(e){return e||(e={}),e.Extends=this,Class.create(e)},Class.Mutators={Extends:function(e){var t=this.prototype,r=createProto(e.prototype);mix(r,t),r.constructor=this,this.prototype=r,this.superclass=e.prototype},Implements:function(e){Array.isArray(e)||(e=[e]);for(var t,r=this.prototype;t=e.shift();)mix(r,t.prototype||t)},Statics:function(e){mix(this,e)}};var createProto=Object.__proto__?function(e){return{__proto__:e}}:function(e){return Ctor.prototype=e,new Ctor};CSpace.Class=Class;var eventSplitter=/\s+/;Events.prototype.on=function(e,t,r){var i,n,o;if(!t)return this;for(i=this.__events||(this.__events={}),e=e.split(eventSplitter);n=e.shift();)o=i[n]||(i[n]=[]),o.push(t,r);return this},Events.prototype.off=function(e,t,r){var i,n,o,a;if(!(i=this.__events))return this;if(!(e||t||r))return delete this.__events,this;for(e=e?e.split(eventSplitter):Object.keys(i);n=e.shift();)if(o=i[n])if(t||r)for(a=o.length-2;a>=0;a-=2)t&&o[a]!==t||r&&o[a+1]!==r||o.splice(a,2);else delete i[n];return this},Events.prototype.fire=function(e){var t,r,i,n,o,a,s,l=[];if(!(t=this.__events))return this;for(e=e.split(eventSplitter),o=1,a=arguments.length;o<a;o++)l[o-1]=arguments[o];for(;r=e.shift();){if((i=t.all)&&(i=i.slice()),(n=t[r])&&(n=n.slice()),n)for(o=0,a=n.length;o<a;o+=2)n[o].apply(n[o+1]||this,l);if(i)for(s=[r].concat(l),o=0,a=i.length;o<a;o+=2)i[o].apply(i[o+1]||this,s)}return this},Events.mixTo=function(e){e=e.prototype||e;var t=Events.prototype;for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},CSpace.Events=Events;var navigator=W.navigator,browser=function(){function e(e){return e.test(r)}function t(e,t){var i;return e&&(i=t.exec(r))?parseFloat(i[1]):0}var r=navigator.userAgent.toLowerCase(),i=e(/opera/i),n=e(/trident.*rv:11/i),o=!i&&e(/msie/i)||n,a=e(/\bchrome\b/i)&&!o,s=e(/webkit/i),l=e(/edge/i),c=!a&&e(/safari/i)&&!o,f=!s&&e(/gecko/i)&&!o,u=f&&e(/rv:1\.9/i),d={isStrict:"CSS1Compat"==D.compatMode,isOpera:i,isOpera10_5:i&&e(/version\/10\.5/i),isChrome:a,isWebKit:s,isSafari:c,isSafari2:c&&e(/applewebkit\/4/i),isSafari3:c&&e(/version\/3/i),isSafari4:c&&e(/version\/4/i),isSafari5_0:c&&e(/version\/5\.0/i),isSafari5:c&&e(/version\/5/i),isIE:o,isIE6:o&&e(/msie 6/i),isIE7:o&&e(/msie 7/i),isIE8:o&&e(/msie 8/i),isIE9:o&&e(/msie 9/i),isIE10:o&&e(/msie 10/i),isIE11:n,isEdge:l,isGecko:f,isGecko3:u,isGecko4:f&&e(/rv:2\.0/i),isGecko5:f&&e(/rv:5\./i),isGecko10:f&&e(/rv:10\./i),isFF3_0:u&&e(/rv:1\.9\.0/i),isFF3_5:u&&e(/rv:1\.9\.1/i),isFF3_6:u&&e(/rv:1\.9\.2/i),chromeVersion:t(!0,/\bchrome\/(\d+\.\d+)/i),firefoxVersion:t(!0,/\bfirefox\/(\d+\.\d+)/i),ieVersion:t(o,/msie (\d+\.\d+)/i),operaVersion:t(i,/version\/(\d+\.\d+)/i),safariVersion:t(c,/version\/(\d+\.\d+)/i),webKitVersion:t(s,/webkit\/(\d+\.\d+)/i),isSecure:/^https/i.test(W.location.protocol),isNw:e(/nw/i),isDingTalkWin:e(/dingtalk-win/i)};if(d.isLegacyIE=d.isIE6||d.isIE7,d.isAboveIE9=d.isIE9||d.isIE10||d.isIE11,d.isBelowIE9=d.isIE6||d.isIE7||d.isIE8,d.isIE6)try{D.execCommand("BackgroundImageCache",!1,!0)}catch(e){}return d}();CSpace.Env=extend({},browser);var div,tests=[{identity:"BlobSlice",fn:function(){var e=W.Blob;if(e){var t=e.prototype.slice||e.prototype.webkitSlice||e.prototype.mozSlice;if(t)return t}return!1}}];CSpace.Env.Support=testSupport(browser);var PROGRESS=0,RESOLVED=1,REJECTED=2,FULFILLED_ERROR_MESSAGE="This deferred has already been fulfilled",signalWaiting=function(e,t,r){for(var i=0,n=e.length;i<n;i++)signalListener(e[i],t,r)},signalListener=function(e,t,r){var i=e[t],n=e.deferred;if(i)try{var o=i(r);if(t===PROGRESS)"undefined"!=typeof o&&signalDeferred(n,t,o);else{if(o&&"function"==typeof o.then)return e.cancel=o.cancel.bind(o),void o.then(makeDeferredSignaler(n,RESOLVED),makeDeferredSignaler(n,REJECTED),makeDeferredSignaler(n,PROGRESS));signalDeferred(n,RESOLVED,o)}}catch(e){$warn(e),signalDeferred(n,REJECTED,e)}else signalDeferred(n,t,r)},makeDeferredSignaler=function(e,t){return function(r){signalDeferred(e,t,r)}},signalDeferred=function(e,t,r){if(!e.isCanceled())switch(t){case PROGRESS:e.progress(r);break;case RESOLVED:e.resolve(r);break;case REJECTED:e.reject(r)}},Deferred=function(e){var t=this;if(e)for(var r in e)t[r]=e[r];t.waiting=[],t.result=null,t.fulfilled=null,t.canceled=!1};extend(Deferred.prototype,{resolve:function(e){var t=this;return t.fulfilled?void $warn(FULFILLED_ERROR_MESSAGE):(signalWaiting(t.waiting,t.fulfilled=RESOLVED,t.result=e),t.waiting=t.cfg_canceler=null,t)},reject:function(e,t){var r=this;return r.fulfilled?void(t||$warn(FULFILLED_ERROR_MESSAGE)):(signalWaiting(r.waiting,r.fulfilled=REJECTED,r.result=e),r.waiting=r.cfg_canceler=null,r)},then:function(e,t,r){var i=this,n=[r,e,t];n.cancel=i.cancel;var o=new Deferred({cfg_canceler:function(e){return n.cancel&&n.cancel.call(this,e,!0)}.bind(i)});return n.deferred=o,i.fulfilled?(i.waiting=null,signalListener(n,i.fulfilled,i.result)):i.waiting&&i.waiting.push(n),o},always:function(e){return this.then(e,e)},otherwise:function(e){return this.then(null,e)},cancel:function(e,t){var r=this;if(r.fulfilled)t||$warn(FULFILLED_ERROR_MESSAGE);else{if(r.cfg_canceler){var i=r.cfg_canceler(e);e="undefined"==typeof i?e:i}if(r.canceled=!0,!r.fulfilled)return"undefined"==typeof e&&(e=new Error("cancel")),r.reject(e),e;if(r.fulfilled===REJECTED&&r.result===e)return e}},progress:function(e){var t=this;return t.fulfilled?void $warn(FULFILLED_ERROR_MESSAGE):(signalWaiting(t.waiting,PROGRESS,e),t)},isResolved:function(){return this.fulfilled===RESOLVED},isRejected:function(){return this.fulfilled===REJECTED},isFulfilled:function(){return!!this.fulfilled},isCanceled:function(){return this.canceled}}),Deferred.when=function(e,t,r,i){var n=e&&"function"==typeof e.then;return n?t||r||i?e.then(t,r,i):e:arguments.length>1?t?t(e):e:(new Deferred).resolve(e)},Deferred.createResolvedDeferred=function(e){var t=new Deferred;return t.resolve(e),t},Deferred.createRejectedDeferred=function(e){var t=new Deferred;return t.reject(e),t};var DeferredList={all:function(e,t){var r,i;Array.isArray(e)?i=e:e&&"object"==typeof e&&(r=e);var n,o=[];if(r){i=[];for(var a in r)Object.hasOwnProperty.call(r,a)&&(o.push(a),i.push(r[a]));n={}}else i&&(n=[]);if(0===i.length)return(new Deferred).resolve(n);var s=new Deferred;s.always(function(){n=o=null});var l=i.length;return i.some(function(e,i){return r||o.push(i),Deferred.when(e,function(e){s.isFulfilled()||(n[o[i]]=e,s.progress(e),0===--l&&s.resolve(n))},function(e){s.isFulfilled()||(t?l--:s.reject(e))}),s.isFulfilled()}),s}};CSpace.Deferred=Deferred,CSpace.DeferredList=DeferredList;var FUNC=CSpace.FUNC={EMPTY:function(){},EMPTY_STR:function(){return""}};CSpace.BaseObject=Class.create({initialize:function(e){var t=this;if(e){for(var r in e)t[r]=e[r];t.__oConfig=e}},destroy:function(){var e=this;e.__bDestroyed||(e._destroy(),e.__bDestroyed=!0)},_destroy:function(){var e=this,t=e.__oConfig;if(t){for(var r in t)e[r]=null;e.__oConfig=null}}}),Timer.prototype.initialize=function(){this.__oTimers={}},Timer.prototype.createTimer=function(e,t){var r=this,i=r.__oTimers[e];i||(r.__oTimers[e]=W.setInterval(function(){r.fire("timer",e)},t||1e3))},Timer.prototype.clearTimer=function(e){var t=this,r=t.__oTimers[e];r&&(W.clearInterval(r),delete t.__oTimers[e])},Timer.prototype.destroy=function(){var e=this,t=e.__oTimers;for(var r in t)W.clearInterval(t[r]);e.__oTimers=null},CSpace.Timer=Timer;var BaseBean=CSpace.BaseBean=Class.create({Extends:CSpace.BaseObject,initialize:function(e){var t=this;BaseBean.superclass.initialize.call(t,e),t.initStatusDeferred()},getStatusDeferred:function(){return this.__oStatusDeferred},initStatusDeferred:function(){this.__oStatusDeferred=new Deferred},isWaiting:function(){return!this.__oWorkDeferred},isWorking:function(){var e=this.__oWorkDeferred;return!(!e||e.isFulfilled())},isFinished:function(){var e=this.__oWorkDeferred;return e&&e.isFulfilled()},isError:function(){var e=this.__oWorkDeferred;return e&&e.isRejected()},isSuccessful:function(){var e=this.__oWorkDeferred;return e&&e.isResolved()},setWorkDeferred:function(e){var t=this;return t.__oWorkDeferred=e,e.then(function(e){t.__oStatusDeferred.resolve(e)},function(e){t.__oStatusDeferred.reject(e)},function(e){e&&t.__oStatusDeferred.progress(e)}),t.__oStatusDeferred.cfg_canceler=function(t){e.cancel(t,!0)},e},getWorkDeferred:function(){return this.__oWorkDeferred},_destroy:function(){var e=this;if(e.__oWorkDeferred&&!e.isFinished()){var t={reason:"FILE_BEAN_DESTROYED",index:"base_8"};e.__oWorkDeferred.cancel(t,!0)}e.__oStatusDeferred=e.__oWorkDeferred=null,BaseBean.superclass._destroy.call(e)}}),fs,https,pathUtils;if(CSpace.Env.isNw){var _require=window.require;_require&&(fs=_require("fs"),https=_require("https"),pathUtils=_require("path"))}CSpace.FsUtils={getAllFilesByDirectory:function(e){var t=[];return getAllFiles(e.path,e.name,t),t}},CSpace.HttpUtils={uploadXHRFile:function(e){var t=e.fileBean,r=t.getHtml5File().path,i=fs.existsSync(r);if(!i)return Deferred.createRejectedDeferred({reason:"NOT_FOUND_REJECT",msg:"文件不存在",index:"base_6"});var n=new Deferred,o=[],a=e.start,s=e.end,l=fs.createReadStream(r,{start:a,end:s-1,highWaterMark:1024,autoClose:!0});l.on("data",function(e){for(var t=e.length,r=new Int8Array(t),i=0;i<t;i++)r[i]=e[i];o.push(r),r=null});var c;return l.on("end",function(){process.nextTick(function(){var e=new Blob(o,{type:"application/octet-stream"});o=null,c=new FormData,c.append(t.getFileName(),e),n.resolve()})}),n.then(function(){var t=CSpace.PathUtils.addUrlParam(e.url,CSpace.PathUtils.buildQuery({_timestamp_:Date.now()})),r=new Deferred;return CSpace.XHRUtils.post(t,{data:c,isUpload:!0,headers:{"Content-Type":!1,NDPartition:["bytes=",W._uploadRetryDebug?a+1e3:a,"-",s-1].join("")}}).then(function(e){c=null,r.isFulfilled()||r.resolve(e)},function(e){c=null,r.isFulfilled()||r.reject(e)},function(e){r.isFulfilled()||r.progress(e)}),r})}}}(window,document),function(e,t){var r=e.CSpace,i=r.Deferred,n=r.Utils,o="VALIDATE_REJECT",a=r.FileBean=r.Class.create({Extends:r.BaseBean,initialize:function(e){var t=this;a.superclass.initialize.call(t,n.extend(e,{cfg_name_length_limit:256,cfg_size_limit:r.Env.isNw?8589934592:2147483648,cfg_name_regex:/^(\/|\*|\\|\?|\:|<|>|"|'|\|)*/gi}));var i=t.cfg_file;delete t.cfg_file;var o={clientId:n.id(),fileName:i.name,size:i.size,html5File:i,cfg_add_args:t.cfg_add_args};delete t.cfg_add_args,t.__oFile=o},blobSlice:function(e,t){var i=this.getHtml5File();return"DingTalkLocalFile"===i.__fileObjType?i.slice(e,t):r.Env.Support.BlobSlice.call(i,e,t)},setStep:function(e){this.__nStep=e},getStep:function(){return this.__nStep||0},isFromIM:function(){var e=this.__oFile.cfg_add_args||{};return!!e.fromIM},isIgnoreTask:function(){var e=this.__oFile.cfg_add_args||{};return!!e.ignoreTask},getClientId:function(){return this.__oFile.clientId},getStart:function(){return this.__nStart||0},setStart:function(e){this.__nStart=e},changeFileName:function(e){this.getFile().fileName=e},getFileName:function(){return this.getFile().fileName},getFileSize:function(){return this.getFile().size},needCreateParent:function(){return this.cfg_create_parent},getWebkitRelativePath:function(){return this.getHtml5File().webkitRelativePath||this.getHtml5File()._webkitRelativePath},isNw:function(){return this.getHtml5File().isNw},getHtml5File:function(){return this.getFile().html5File||{}},getFile:function(){var e=this;if(e.__bDestroyed){if(e.__oWorkDeferred&&!e.isFinished()){var t={reason:"FILE_BEAN_DESTROYED",index:"filebean_7",msg:"fileBean被销毁"};e.__oWorkDeferred.cancel(t,!0)}return{}}return e.__oFile},setNotification:function(e){this.getFile().cfg_add_args&&(this.getFile().cfg_add_args.notification=!!e)},getFileStatus:function(){var e,t=this,r=t.getStatusDeferred(),i=t.__oFile.clientId;return t.isFinished()?r.then(function(){e={clientId:i,status:"success"}},function(t){e={clientId:i,status:"error",result:t}}):t.isWorking()&&(e={clientId:i,status:"working",result:""}),e},validateFile:function(){var e=this,t=e.getFileName(),a=e.cfg_name_length_limit;if(a&&t.length>a)return i.createRejectedDeferred({method:"fileValidate",index:"filebean_1",reason:o,msg:"文件名长度超过"+a});var s=e.cfg_name_regex;if(s&&!new RegExp(s).test(t))return i.createRejectedDeferred({method:"fileValidate",reason:o,index:"filebean_2",msg:"非法文件名"});var l=e.cfg_allow_ext_names,c=n.getFileExtName(t);if(l&&l.length){if(!l.contains(c))return i.createRejectedDeferred({method:"fileValidate",reason:o,index:"filebean_3",msg:"非法文件名"})}else{var f=e.cfg_forbidden_ext_names;if(f&&f.length&&f.contains(c))return i.createRejectedDeferred({method:"fileValidate",reason:o,index:"filebean_4",msg:"非法文件名"})}var u=e.getFileSize();if(n.isDef(u)){if(0===u)return i.createRejectedDeferred({method:"fileValidate",reason:o,index:"filebean_5",msg:"文件为空文件"});var d=e.cfg_size_limit;if(d&&u>d)return i.createRejectedDeferred({method:"fileValidate",reason:o,index:"filebean_6",msg:"单个文件不能超过"+(r.Env.isNw?8:2)+"G"})}return i.createResolvedDeferred()},_destroy:function(){var e=this;if(!e.isFinished()){var t={reason:"FILE_BEAN_DESTROYED",index:"filebean_8",msg:"fileBean被销毁"};e.__oWorkDeferred&&e.__oWorkDeferred.cancel(t,!0)}e.__oFile=null,a.superclass._destroy.call(e)}})}(window,document),function(e,t){var r=e.CSpace,i=r.Utils,n=r.DownloadFileBean=r.Class.create({Extends:r.BaseBean,initialize:function(e){var t=this;n.superclass.initialize.call(t,e);var r=t.cfg_file;delete t.cfg_file;var o={download:!0,clientId:r.clientId||i.id(),fileName:r.name,size:r.size,url:r.url};delete t.cfg_add_args,t.__oFile=o},getFileName:function(){return this.getFile().fileName},getFileSize:function(){return this.getFile().size},getFile:function(){return this.__oFile},getClientId:function(){return this.__oFile.clientId},_destroy:function(){var e=this;e.__oFile=null,n.superclass._destroy.call(e)}})}(window,document),function(e,t){function r(e,t){for(var r=0,i=e.__oDataList,n=0,o=i.length;n<o;n++){var a=i[n];t?r+=a.getFileSize():a.isSuccessful()&&(r+=a.getFileSize())}return r}function i(e){for(var t=[],r={},i=0,n=e.length;i<n;i++)for(var o,a=e[i],s=a.getWebkitRelativePath(),l=[],c=s.split("/");(o=c.shift())&&0!==c.length;)l=l.concat(o),r[l.join("/")]=1;for(var f in r)t.push(f);return t}var n=e.CSpace,o=n.Deferred,a=n.Utils,s="VALIDATE_REJECT",l=n.DirectoryBean=n.Class.create({Extends:n.BaseBean,initialize:function(e){var t=this;l.superclass.initialize.call(t,e);var r=t.__oDataList=[],i=[],o=t.cfg_dir,s=t.cfg_add_args;if(o.length){var c=o[0];c.isDrag&&c.isFolder?(i=n.FsUtils.getAllFilesByDirectory(c),t.__sDirName=c.name):i=o}for(var f=0,u=i.length;f<u;f++){var d=i[f],_=new n.FileBean({cfg_file:d,cfg_create_parent:1,cfg_add_args:t.cfg_add_args});r.push(_)}n.UploadUtils.splitPath(s.path);t.__oFile={isDir:!0,clientId:a.id(),fileName:t.getDirName(),size:t.getDirSize(),cfg_add_args:t.cfg_add_args},t.__oFinishedFolderMap={},delete t.cfg_add_args},setNotification:function(e){var t=this;e=!!e,this.getFile().cfg_add_args&&(this.getFile().cfg_add_args.notification=e);for(var r=t.__oDataList,i=0,n=r.length;i<n;i++)r[i].setNotification(e)},getFileStatus:function(){var e,t=this,r=t.getStatusDeferred(),i=t.__oFile.clientId;return t.isFinished()?r.then(function(){e={clientId:i,status:"success"}},function(t){e={clientId:i,status:"error",result:t}}):t.isWorking()&&(e={clientId:i,status:"working",result:""}),e},clearFinishedDirSize:function(){this.__bDirFinishedSize=null},getDirName:function(){var e=this;if(e.__sDirName)return e.__sDirName;var t=e.__oDataList,r=t&&t.length&&t[0];if(r){var i=n.UploadUtils.splitPath(r.getWebkitRelativePath());return i.length&&i[0]}},getFinishedDirSize:function(){var e=this;return e.__bDirFinishedSize?e.__bDirFinishedSize:e.__bDirFinishedSize=r(this)},getDirSize:function(){var e=this;return e.__bDirSize?e.__bDirSize:e.__bDirSize=r(this,!0)},getChildFolderCount:function(){return this.__nChildFolderCount||0},getFinishedFileCount:function(){for(var e=this,t=0,r=e.__oDataList,i=0,n=r.length;i<n;i++){var o=r[i];o.isSuccessful()&&t++}return t},getFileCount:function(){return this.__oDataList.length},getFile:function(){var e=this;if(e.__bDestroyed){if(e.__oWorkDeferred&&!e.isFinished()){var t={reason:"FILE_BEAN_DESTROYED",index:"directorybean_7",msg:"fileBean被销毁"};e.__oWorkDeferred.cancel(t,!0)}return{}}return e.__oFile},getNextFile:function(){var e=this,t=0,r=e.__oDataList;if(r)for(var i=0,t=r.length;i<t;i++){var n=r[i];if(!n.isFinished())return n}},validateDirectory:function(){var e=this,t=e.cfg_max_file_count,r=e.getFileCount();if(0===r)return o.createRejectedDeferred({reason:s,index:"directorybean_1",msg:"文件夹里面的文件数量为0"});if(t&&r>t)return o.createRejectedDeferred({reason:s,index:"directorybean_2",msg:"文件夹内不能超过"+t+"个文件"});var a=e.cfg_max_size,l=e.getDirSize();if(0===l)return o.createRejectedDeferred({reason:s,index:"directorybean_3",msg:"文件夹里面的文件总大小为0"});if(a&&l>a)return o.createRejectedDeferred({reason:s,index:"directorybean_4",msg:"文件夹大小超限，最大为"+n.Utils.formatFileSize(a,1)});var c=e.cfg_max_dir_count;if(c){var f=i(e.__oDataList);if(e.__nChildFolderCount=f.length,e.__nChildFolderCount>c)return o.createRejectedDeferred({reason:s,index:"directorybean_5",msg:"子文件夹数量超限，最大为"+c})}var u=e.cfg_max_single_file_size;if(u)for(var d=e.__oDataList,_=0,p=d.length;_<p;_++)if(d[_].getFileSize()>u)return o.createRejectedDeferred({reason:s,index:"directorybean_6",msg:"文件夹里面存在大于"+n.Utils.formatFileSize(u,1)+"的文件"})},updateFinishedFolder:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i&&(t.push(i),this.__oFinishedFolderMap[t.join("/")]=1)}},getFinishedFolderCount:function(){var e=this.__oFinishedFolderMap,t=0;for(var r in e)t++;return t},getClientId:function(){return this.__oFile.clientId},getDirPath:function(){var e=this,t=e.cfg_dir;if(n.Env.isNw){var r=t&&t[0];return r&&r.path}},_destroy:function(){var e=this;if(!e.isFinished()){var t={reason:"FILE_BEAN_DESTROYED",index:"directorybean_8",msg:"fileBean被销毁"};e.__oWorkDeferred&&e.__oWorkDeferred.cancel(t,!0)}e.__oDataList=null,l.superclass._destroy.call(e)}})}(window,document),function(e,t){var r=e.CSpace,i=r.FileQueue=r.Class.create({Extends:r.BaseObject,Implements:r.Events,initialize:function(e){var t=this;i.superclass.initialize.call(t,e),t.__oCspaceFileList=[],t.__oIMFileList=[]},appendDownloadFile:function(e){var t=this,i=new r.DownloadFileBean({cfg_file:e});return t.fire("appenddownloadfile",i),i},appendFileForIM:function(e,t){var i=this;if(e){var n=i.__oIMFileList,o=[],a=new r.FileBean({cfg_file:e,cfg_from_im:!0,cfg_add_args:t});return o.push(a),n.push(a),i.fire("appendfiles",o),a}},appendFiles:function(e,t,i){var n=this,o=n.__oCspaceFileList;if(i){var a=new r.DirectoryBean({cfg_dir:e,cfg_add_args:t,cfg_max_size:n.cfg_max_size,cfg_max_dir_count:n.cfg_max_dir_count,cfg_max_file_count:n.cfg_max_file_count,cfg_max_single_file_size:n.cfg_max_single_file_size});return o.push(a),n.fire("appenddirectory",a),a}for(var s=[],l=0,c=e.length;l<c;l++){var f=new r.FileBean({cfg_file:e[l],cfg_add_args:t});s.push(f),o.push(f)}return n.fire("appendfiles",s),s},getNextWaitingFileOrDirectory:function(){for(var e=this,t=e.__oCspaceFileList,r=0,i=t.length;r<i;r++){var n=t[r];if(n&&!n.__bDestroyed){if(n.getFile().download)continue;if(!n.isFinished())return n}}},getNextWaitingDownloadFile:function(){for(var e=this,t=e.__oCspaceFileList,r=0,i=t.length;r<i;r++){var n=t[r];if(n.getFile().download&&!n.isFinished())return n}},getTop5WaitingFileOrDirectory:function(){for(var e=this,t=0,r=e.__oCspaceFileList,i=[],n=0,o=r.length;n<o;n++){var a=r[n];if(a&&!a.__bDestroyed&&!a.isFinished()&&(a.isWaiting()&&i.push(a),t++,5==t))break}return i},getAllFileBean:function(){return this.__oCspaceFileList},getAllIMFileBean:function(){return this.__oIMFileList},removeFileBean:function(e){for(var t=this,r=t.__oCspaceFileList,i=0,n=r.length;i<n;i++){var o=r[i];if(o.getFile().clientId==e){var a=r.splice(i,1)[0];t.fire("beforeremovefilebean",a),a.destroy();break}}},removeAllFileBean:function(){for(var e=this,t=e.__oCspaceFileList;t.length;){var r=t.shift();r&&r.destroy()}},_destroy:function(){for(var e=this,t=e.__oCspaceFileList,r=0,n=t.length;r<n;r++)t[r].destroy();e.__oCspaceFileList=null,i.superclass._destroy.call(e)}})}(window,document),function(e,t){function r(e){var t=[];if(e)for(var r=e.split("/"),i=0,n=r.length;i<n;i++){var o=r[i];o&&t.push(o)}return t}var i,n,o,a,s=e.CSpace,l=s.Deferred,c=s.XHRUtils,f=s.PathUtils,u={3:"授权失败，请重新刷新",4:"系统内部错误",5:"参数非法",6:"授权失败",7:"OTS操作错误",8:"无效请求",9:"上传文件太大",10:"连接断开",11:"一次上传请求含有多个文件",12:"OSS文件操作错误",13:"MAILFS文件操作错误",14:"服务代理错误",15:"QPS超限",16:"下载/上传速度超限",17:"发生异常"},d=0;s.setConfig=function(e){i=e.getUploadIdUrl,n=e.uploadUrl,o=e.addFileUrl,a=e.addDirectoryUrl,refreshCookieUtil=e.refreshCookieUtil},s.UploadUtils={ERROR_CODE_MSG:u,splitPath:r,refreshCookie:function(){if(refreshCookieUtil&&d<3){d++;var e=new l;return refreshCookieUtil.refresh().then(function(){d=0,e.resolve()},function(){e.reject()}),e}return d=0,l.createRejectedDeferred()},mergePath:function(e,t){return"/"+r(e).concat(r(t)).join("/")},addDirectory:function(e,t,i,n,o){o=o||10;var a=r(t);if(a.length<2)return l.createRejectedDeferred();a.pop();for(var c,f,u=[],d=[],_=r(e).concat(a),p=0,g=_.length;p<g;p++){var h=_[p];d.push(h),d.length>=o&&(c=u.length?u[u.length-1]:null,f="/"+d.join("/"),u.push(c?c+f:f),d=[])}d.length&&(c=u.length?u[u.length-1]:null,f="/"+d.join("/"),u.push(c?c+f:f));for(var v,F=l.createResolvedDeferred(),p=0,g=u.length;p<g;p++)!function(e){F=F.then(function(){return s.UploadUtils.addFolder(i,e,n).then(function(){v=e},function(t){return 200013!=t.errorCode?l.createRejectedDeferred(t):void(v=e)})})}(u[p]);return F.then(function(){return v})},addFile:function(e,t,r,i,n,a,f){var u={autoRename:!s.Utils.isDef(n)||n,spaceId:e,path:t,tempUrl:r,notification:i,fromIm:a||!1};return f&&(u.encryptDetail=f),c.post(o,{dataType:"json",jsonRequest:!0,data:u}).then(function(o){return 401!=parseInt(o.status)?o.success?o.data:l.createRejectedDeferred(o):s.UploadUtils.refreshCookie().then(function(){return s.UploadUtils.addFile(e,t,r,i,n,f)},function(){return l.createRejectedDeferred(o)})})},addFolder:function(e,t,r){return c.post(a,{dataType:"json",jsonRequest:!0,data:{autoRename:!1,spaceId:e,path:t,orgId:r}}).then(function(i){return 401!=parseInt(i.status)?i.success?i.data:l.createRejectedDeferred(i):s.UploadUtils.refreshCookie().then(function(){return s.UploadUtils.addFolder(e,t,r)},function(){return l.createRejectedDeferred(i)})})},buildUploadUrl:function(e){return c.get(f.addUrlParam(i,f.buildQuery({size:e.size})),{dataType:"json"}).then(function(t){var r=t&&t.code;if("0"!=r)return"3"==r?s.UploadUtils.refreshCookie().then(function(){return s.UploadUtils.buildUploadUrl(e)},function(){return l.createRejectedDeferred({reason:"VALIDATE_REJECT",index:"fileuploadutil_1",code:r,msg:u[r]})}):l.createRejectedDeferred({reason:"VALIDATE_REJECT",index:"fileuploadutil_2",code:r,msg:u[r]});var i={uploadid:t.uploadid};return f.addUrlParam(n,f.buildQuery(i))},function(e){var t=e&&e.reason;return"STOP_REJECT"!==t?l.createRejectedDeferred({reason:"TIME_OUT_REJECT",index:"fileuploadutil_3",msg:"系统超时，请稍候重试"}):(e.index="fileuploadutil_4",l.createRejectedDeferred(e))})}}}(window,document),function(e,t){function r(e){var t=e&&e.response;if(t&&String.isString(t))try{var r=JSON.parse(t);delete e.response,u.extend(e,r)}catch(e){}return e}function i(t){var r=t.fileBean,i=new FormData,n=t.start,o=t.end;return i.append(r.getFileName(),r.blobSlice(n,o)),c.XHRUtils.post(t.url,{data:i,isUpload:!0,headers:{"Content-Type":!1,NDPartition:["bytes=",e._uploadRetryDebug?n+1e3:n,"-",o-1].join("")}})}function n(e,t,i,n,a){return 5==e.__nUploadErrorIndex?void n.reject(u.extend({reason:"UPLOAD_REJECT",index:"fileblockprocessor_1",url:e.__sUploadUrl,msg:"文件上传发生错误"},r(a))):(e.__nUploadErrorIndex++,void setTimeout(function(){o(e,t,i,n)},3e3))}function o(e,t,s,l){var _=e.cfg_block_size,p=e.cfg_file;if(!l.isFulfilled()&&!p.__bDestroyed){var g=p.getFileSize();p.setStart(s);var h=Math.min(s+_,g),v={url:t,start:s,end:h,fileBean:p},F=p.isNw()?c.HttpUtils.uploadXHRFile(v):i(v);l.cfg_canceler=function(e){F.cancel(e)},F.then(function(i){if(String.isString(i)&&(i=JSON.parse(i)),!i||"0"!==i.code){var a=f.createResolvedDeferred();return"3"==i.code&&(a=a.then(function(){return d.refreshCookie();
})),a.then(function(){n(e,t,s,l,i)},function(){l.reject(u.extend({reason:"UPLOAD_REJECT",index:"fileblockprocessor_2",url:e.__sUploadUrl,msg:"上传参数错误:"+i.code},r(i)))})}e.__nUploadErrorIndex=0,h>=g?l.resolve(i):o(e,t,h,l)},function(r){e.__bDestroyed||l.isFulfilled()||("NOT_FOUND_REJECT"!==r.reason?n(e,t,s,l,r):l.reject(r))},function(t){if(t&&!e.__bDestroyed){a(e,s,t);var r=s/g,i=t.loaded/t.total,n=(h-s)/g*i;l.progress({percent:Math.min(1,r+n)})}})}}function a(e,t,r){for(var i=e.__oLoadedList,n=0,o=i.length;n<o;n++){var a=i[n];if(a.start==t)return void(a.progress=r)}i.push({start:t,progress:r})}function s(e){for(var t=0,r=e.__oLoadedList,i=0,n=r.length;i<n;i++){var o=r[i];t+=o.progress.total}return t}function l(e){var t=e.__oLoadedList;if(t&&t.length){var r=t[t.length-1].progress;return s(e)-r.total+r.loaded}}var c=e.CSpace,f=c.Deferred,u=c.Utils,d=c.UploadUtils,_=[function(){return this.cfg_file.validateFile()},function(){var e=this;return c.UploadUtils.buildUploadUrl({size:e.cfg_file.getFileSize()}).then(function(t){return e.__sUploadUrl=t,t},function(e){return e&&(e.method="createFile"),f.createRejectedDeferred(e)})},function(){var t=this,r=new f,i=t.cfg_file;t.__bRetry&&u.isDef(t.__oLoadedList)||(t.__oLoadedList=[],t.__nAllBlockLastLoaded=0),t.__nUploadErrorIndex=0;var n=1,a=e.setInterval(function(t){var r=this,i=r.cfg_file;if(r.__bDestroyed||i.__bDestroyed||t.isFulfilled())e.clearInterval(a),a=null;else{var o=l(r);u.isDef(o)&&(o!=r.__nAllBlockLastLoaded?(t.progress({speed:(o-r.__nAllBlockLastLoaded)/(n*r.cfg_speed_interval/1e3)}),n=1,r.__nAllBlockLastLoaded=o):n++)}}.bind(t,r),t.cfg_speed_interval);return r.always(function(){e.clearInterval(a),a=null}),o(t,t.__sUploadUrl,i.getStart(),r),r.then(function(e){if(!e){var e={method:"uploadFile",index:"fileblockprocessor_3",reason:"UPLOAD_REJECT",msg:"无返回值"};return f.createRejectedDeferred(e)}if(String.isString(e))try{e=JSON.parse(e)}catch(e){}var r=e&&e.code,i=e&&e.filepath;if(r){if("0"==r&&i)return t.__sTempUrl=i,i;var e={method:"uploadFile",reason:"UPLOAD_REJECT",index:"fileblockprocessor_4",code:r,msg:c.UploadUtils.ERROR_CODE_MSG[r]};return f.createRejectedDeferred(e)}var e={method:"uploadFile",reason:"UPLOAD_REJECT",index:"fileblockprocessor_5",msg:"文件上传返回错误码为空"};return f.createRejectedDeferred(e)},function(e){return e&&(e.method||(e.method="uploadFile"),e.index||(e.index="fileblockprocessor_6")),f.createRejectedDeferred(e)})},function(){var e,t=this,r=t.cfg_file,i=r.getFile().cfg_add_args,n=c.UploadUtils;return e=r.needCreateParent()&&!i.fromIM?n.addDirectory(i.path,r.getWebkitRelativePath(),i.spaceId,i.orgId):i.path,f.when(e).then(function(e){var o,a,e=n.mergePath(e,r.getFileName()),s=0,l=new f,c=function(){o=n.addFile(i.spaceId,e,t.__sTempUrl,i.notification,i.autoRename,i.fromIM,i.encryptDetail).then(function(e){r.changeFileName(e.name),l.resolve(e)},function(e){if("STOP_REJECT"!==e.reason)if(s<3)s++,a=setTimeout(function(){c()},2e3);else{var t={reason:" CREATE_FILE_REJECT",method:"addFile",msg:e.userMessage||"创建文件失败",index:"fileblockprocessor_7",errorCode:e.errorCode};l.reject(u.extend(t,e))}})};return c(),l.cfg_canceler=function(e){a&&clearTimeout(a),o&&o.cancel(e)},l})}],p=c.FileBlockProcessor=c.Class.create({Extends:c.BaseObject,Implements:c.Events,initialize:function(e){var t=this;p.superclass.initialize.call(t,u.extend(e,{cfg_speed_interval:500,cfg_block_size:917504})),t.__oUploaderStatus={}},getClientId:function(){var e=this,t=e.cfg_file;return t&&t.getClientId()},getFileBean:function(){return this.cfg_file},run:function(e,t){var r=this;r.__bRetry=!!e,r.__bRetryFolder=!!t;var i=r.cfg_file,n=f.createResolvedDeferred();!!e&&i.initStatusDeferred();for(var o=i.getStep(),a=_.length;o<a;o++)!function(e,t){n=n.then(function(){return t.call(r).then(function(t){return i.setStep(e+1),t})})}(o,_[o]);return n=n.then(function(e){e=e||{},e.clientId=i.getFile().clientId,r.fire("fileUploadSuccess",e)},function(e){return e=e||{},e.clientId=i.getFile().clientId,e.isFromIM=i.isFromIM(),r.fire("fileUploadError",e),f.createRejectedDeferred(e)},function(e){if(e){var t=i&&i.getFile();t&&t.clientId&&(e.clientId=t.clientId,r.fire("fileProgress",e))}}),!!e&&i.setWorkDeferred(n),n}})}(window,document),function(e,t){function r(e,t,r){var i=t.getFinishedDirSize(),n=t.getDirSize(),o=i/n;if(r){var a=e.getFileSize();return o+r*(a/n)}return o}var i=e.CSpace,n=i.Timer,o=i.Deferred,a="scandir",s=i.DirectoryProcessor=i.Class.create({Extends:i.BaseObject,Implements:[i.Events,n],initialize:function(e){var t=this;s.superclass.initialize.call(t,e),n.prototype.initialize.call(t),t.__oFailFileProcessorMap=[],t.on("timer",function(e){if(e==a&&!t.isItemWorking()){var n=t.cfg_dir,o=n.getNextFile(),s=n.getFile().clientId;if(o){t.__oCurrentFileBean=o;var l=new i.FileBlockProcessor({cfg_file:o}),c=l.run();o.setWorkDeferred(c);var f=o.getStatusDeferred();l.on("fileProgress",function(e){e&&f.progress(e)}),l.on("fileUploadError",function(e){e&&e.errorCode&&200012==parseInt(e.errorCode)?(e.clientId=s,t.fire("fileUploadError",e)):(t.__oFailFileProcessorMap.push(l),t.fire("fileUploadError",{isFileUploadErrorInDir:!0}))}),f.always(function(e){n.clearFinishedDirSize();var a=(o.getFile(),o.getWebkitRelativePath()),s=i.UploadUtils.splitPath(a);s.length>1&&(s.pop(),n.updateFinishedFolder(s));var l={percent:r(o,n),childFolderCount:n.getChildFolderCount(),finishedFolderCount:n.getFinishedFolderCount(),dirCount:n.getFileCount(),finishedDirCount:n.getFinishedFileCount()};t.__oDirectoryProcessDeferred.progress(l)}),f.then(null,null,function(e){if(e){if(e.percent){var i={percent:r(o,n,e.percent)};t.__oDirectoryProcessDeferred.progress(i)}if(e.speed){var i={speed:e.speed,dirCount:n.getFileCount(),finishedDirCount:n.getFinishedFileCount()};t.__oDirectoryProcessDeferred.progress(i)}}else t.__oDirectoryProcessDeferred.progress(e)})}else t.clearTimer(a),t.__oDirectoryProcessDeferred.resolve()}})},isItemWorking:function(){var e=this;return!!e.__oCurrentFileBean&&e.__oCurrentFileBean.isWorking()},run:function(e){var t=this,r=t.cfg_dir,i=r.validateDirectory();if(i)return i.then(null,function(e){e=e||{},e.clientId=r.getFile().clientId,t.fire("fileUploadError",e)}),t.__oDirectoryProcessDeferred=i;var n=t.__oDirectoryProcessDeferred=new o;return n.cfg_canceler=function(e){t.__oCurrentFileBean&&t.__oCurrentFileBean.getStatusDeferred().cancel(e,!0),t.clearTimer(a)},n.then(function(e){e=e||{},e.clientId=r.getFile().clientId;var i=r.getFileCount(),n=r.getFinishedFileCount();if(i==n)t.fire("fileUploadSuccess",e);else{for(var o=[],a=t.__oFailFileProcessorMap,s=0;s<a.length;s++){var l=a[s],c=l.__sUploadUrl;c&&o.push(c)}e.url=o.join("||"),e.msg="部分文件上传失败",t.fire("fileUploadError",e)}},function(e){e=e||{},e.clientId=r.getFile().clientId,t.fire("fileUploadError",e)},function(e){e&&(e.clientId=r.getFile().clientId,t.fire("fileProgress",e))}),e?t.retryUpload():t.createTimer(a,500),n},retryUpload:function(){for(var e=this,t=e.__oFailFileProcessorMap,n=e.cfg_dir,a=n.getFile().clientId,s=o.createResolvedDeferred(),l=0;l<t.length;l++){var c=t[l],f=c.getFileBean(),u=f.getFileStatus();"error"==u.status&&(s=s.then(function(t){return function(){var o=t.getFileBean();t.off("fileProgress fileUploadError"),t.run(!0,!0),t.on("fileProgress",function(t){if(t){if(t.percent){var i={percent:r(o,n,t.percent)};e.__oDirectoryProcessDeferred.progress(i)}if(t.speed){var i={speed:t.speed,dirCount:n.getFileCount(),finishedDirCount:n.getFinishedFileCount()};e.__oDirectoryProcessDeferred.progress(i)}}else e.__oDirectoryProcessDeferred.progress(t)}),t.on("fileUploadError",function(t){t&&t.errorCode&&200012==parseInt(t.errorCode)&&(t.clientId=a,e.fire("fileUploadError",t))});var s=o.getStatusDeferred();return s.always(function(t){n.clearFinishedDirSize();var a=(o.getFile(),o.getWebkitRelativePath()),s=i.UploadUtils.splitPath(a);s.length>1&&(s.pop(),n.updateFinishedFolder(s));var l={percent:r(o,n),childFolderCount:n.getChildFolderCount(),finishedFolderCount:n.getFinishedFolderCount(),dirCount:n.getFileCount(),finishedDirCount:n.getFinishedFileCount()};e.__oDirectoryProcessDeferred.progress(l)}),s}}(c)))}s.always(function(){e.__oDirectoryProcessDeferred.resolve()})},getClientId:function(){var e=this,t=e.cfg_dir;return t&&t.getClientId()},_destroy:function(){var e=this;e.__oDirectoryProcessDeferred=null,n.prototype.destroy.call(e),s.superclass._destroy.call(e)}})}(window,document),function(e,t){var r=e.CSpace,i=(r.Deferred,r.Utils),n=r.FileController=r.Class.create({Extends:r.BaseObject,Implements:r.Events,initialize:function(e){var t=this;n.superclass.initialize.call(t,e),t.__oFailFileOrDirProcessorMap={},t.__oProcessDeferredMap={},t.__oProcessFileBeanMap={}},getCurrentFileBean:function(){return this.__oProcessFileBean},getUploadFileBean:function(e){return e&&this.__oProcessFileBeanMap[e]},stopProcess:function(e,t){var r=this;if(e){var n=r.__oProcessDeferredMap[e];n&&(n.isFulfilled()?r.fire("fileUploadError",{reason:"STOP_REJECT",method:"uploadCancel",index:"filecontroller_1",clientId:e}):n.cancel({reason:"STOP_REJECT",method:"uploadCancel",index:"filecontroller_2",clientId:e},!0)),delete r.__oProcessDeferredMap[e],delete r.__oProcessFileBeanMap[e]}else{for(var o in r.__oProcessDeferredMap){var n=r.__oProcessDeferredMap[o];if(n&&!n.isFulfilled()){var a={method:"uploadCancelAll",reason:"STOP_REJECT",index:"filecontroller_3"};t&&i.extend(a,t,!0),a.clientId=o,n.cancel(a,!0)}}r.__oProcessDeferredMap={}}},isControllerWorking:function(){var e=this;return e.__oProcessDeferred&&!e.__oProcessDeferred.isFulfilled()},getControllerWorkingCount:function(){var e=0,t=this;for(var r in t.__oProcessDeferredMap){var i=t.__oProcessDeferredMap[r];i.isFulfilled()||e++}return e},processFileOrDirectory:function(e){var t,i=this,n=e&&e.getClientId();i.__oProcessFileBeanMap[n]=e;var o;if(e instanceof r.FileBean){t=new r.FileBlockProcessor({cfg_file:e});var a=e.getFile();if(a&&a.cfg_add_args){var s=a.cfg_add_args;o={clientId:t.getClientId(),path:s.path,spaceId:s.spaceId,isFromIM:s.fromIM,isDir:!1}}}else{t=new r.DirectoryProcessor({cfg_dir:e});var a=e.getFile();if(a&&a.cfg_add_args){var s=a.cfg_add_args;o={clientId:t.getClientId(),path:s.path,spaceId:s.spaceId,isFromIM:s.fromIM,isDir:!0}}}t.on("fileProgress",function(e){i.fire("fileProgress",e)}),t.on("fileUploadSuccess",function(e){i.fire("fileUploadSuccess",e);var t=e.clientId;t&&(delete i.__oProcessDeferredMap[t],delete i.__oProcessFileBeanMap[t])}),t.on("fileUploadError",function(n){var o=e instanceof r.FileBean,a=n&&n.isFileUploadErrorInDir;if(o||a){var s=t.getClientId();s&&(i.__oFailFileOrDirProcessorMap[s]=t,"STOP_REJECT"==n.reason&&(delete i.__oProcessDeferredMap[s],delete i.__oProcessFileBeanMap[s]))}a||(i.fire("fileUploadError",n),n&&n.errorCode&&200012==parseInt(n.errorCode)&&i.fire("fileUploadStopAll",n))});i.__oProcessDeferredMap[t.getClientId()]=e.setWorkDeferred(t.run());return o||(o={clientId:t.getClientId()}),i.fire("queueuploadstart",o),t},reStartUpload:function(e){var t=this,r=t.__oFailFileOrDirProcessorMap[e];r&&r.run(!0)},_destroy:function(){var e=this;e.__oProcessDeferredMap=null,n.superclass._destroy.call(e)}})}(window,document),function(e,t){function r(e){var t=e.__oDownloadDeferred;t&&t.cancel({reason:"STOP_REJECT",index:"fileuploader_1"},!0)}var i=e.CSpace,n=i.Timer,o="UPLOAD",a=5,s=i.FileUploader=i.Class.create({Extends:i.BaseObject,Implements:[i.Events,n],initialize:function(e){var t=this;s.superclass.initialize.call(t,e),n.prototype.initialize.call(t);var r=t.__oFileController=new i.FileController;r.on("queueuploadstart",function(e){t.fire("queueuploadstart",e)}),r.on("fileProgress",function(e){t.fire("fileProgress",e)}),r.on("fileUploadSuccess",function(e){t.fire("fileUploadSuccess",e)}),r.on("fileUploadError",function(e){t.fire("fileUploadError",e)}),r.on("fileUploadStopAll",function(e){t.stopAll(e)});var a=t.__oFileQueue=new i.FileQueue({cfg_max_size:t.cfg_max_size,cfg_max_dir_count:t.cfg_max_dir_count,cfg_max_file_count:t.cfg_max_file_count,cfg_max_single_file_size:t.cfg_max_single_file_size});a.on("appendfiles",function(e){t.fire("appendfiles",e),t.cfg_auto_start&&t.startWork()}),a.on("appenddirectory",function(e){t.fire("appenddirectory",e),t.cfg_auto_start&&t.startWork()}),a.on("appenddownloadfile",function(e){t.fire("appenddownloadfile",e),t.cfg_auto_start&&t.startWork()}),a.on("beforeremovefilebean",function(e){t.fire("afterstopitem",e)}),t.on("timer",function(e){var r=t.__oFileController;if(e==o&&!t.isUploaderWorking()){var i=t.__oFileQueue.getTop5WaitingFileOrDirectory();if(i.length)for(var n=0;n<i.length;n++){var a=i[n];r.processFileOrDirectory(a)}else t.clearTimer(o)}})},startWork:function(){var e=this;e.createTimer(o,500)},getAllFileBean:function(){return this.__oFileQueue.getAllFileBean()},getAllFileBeanObj:function(){for(var e=this.__oFileQueue.getAllFileBean(),t=[],r=0;r<e.length;r++){var i=e[r];t.push(i.getFile())}return t},getAllFileStatus:function(){for(var e=this,t=e.__oFileQueue.getAllFileBean()||[],r=[],i=e.getStatistics(),n=e.isDoingUpload(),o=0;o<t.length;o++){var a=t[o],s=a.getFileStatus();s&&(s.statistics=i,s.isDoingUpload=n,r.push(s))}return r},stopWork:function(e){var t=this,r=(t.__oDownloadFileBean,t.__oFileController),i=r.getUploadFileBean(e);e?i&&!i.__bDestroyed&&i.getFile().clientId==e?r.stopProcess(e):t.fire("fileUploadError",{reason:"STOP_REJECT",method:"uploadCancel",index:"fileuploader_2",clientId:e}):t.fire("removeUnstartedFile",{clientId:e}),t.__oFileQueue.removeFileBean(e)},reStartWork:function(e){this.__oFileController.reStartUpload(e)},doUploadIMFile:function(e){var t,r=this,i=r.__oFileQueue.getAllIMFileBean();if(i.length)for(var n=0;n<i.length;n++){var o=i[n];if(o.getClientId()==e){t=o;break}}return t&&r.__oFileController.processFileOrDirectory(t)},stopAll:function(e){var t=this;t.__oFileController.stopProcess(null,e),r(t);for(var i=t.__oFileQueue.getAllFileBean(),n=[],o=0;o<i.length;o++){var a=i[o];a.isFinished()||n.push(a.getClientId())}t.fire("afterstopallitems",n),t.__oFileQueue.removeAllFileBean()},isUploaderWorking:function(){var e=this;return e.__oFileController.getControllerWorkingCount()>=a},isDoingUpload:function(){return!!this.__oFileQueue.getNextWaitingFileOrDirectory()},appendDownloadFile:function(e){return this.__oFileQueue.appendDownloadFile(e)},appendFiles:function(e,t){return this.__oFileQueue.appendFiles(e,t)},appendDirectory:function(e,t){return this.__oFileQueue.appendFiles(e,t,!0)},appendFileForIM:function(e,t){return this.__oFileQueue.appendFileForIM(e,t)},getStatistics:function(){for(var e,t=this,r=0,i=0,n=t.__oFileQueue.getAllFileBean(),o=0,a=n.length;o<a;o++){var s=n[o];s.getFile().download?s.isSuccessful()&&e++:s.isSuccessful()?r++:s.isError()&&i++}return{successCount:r,failedCount:i,downloadCount:e}},fireDownloadProgress:function(e){this.fire("fileDownloadProgress",e)},fireDownloadFileSuccess:function(e){this.fire("fileDownloadSuccess",e)},fireDownloadFileError:function(e){this.fire("fileDownloadError",e)},_destroy:function(){var e=this;e.__oDownloadDeferred=e.__oDownloadFileBean=null,n.prototype.destroy.call(e),e.__oFileQueue.destroy(),e.__oFileController.destroy(),e.__oFileQueue=e.__oFileController=null,s.superclass._destroy.call(e)}})}(window,document),module.exports=window.CSpace;

}).call(this,require('_process'))
},{"_process":8}],737:[function(require,module,exports){
function DBConnection(e,t,n){this.SqliteInstance=null,this.filename=null,this.encryptKey=null,this.SqliteInstance=e,this.filename=t,this.encryptKey=n,this.operationMode=_dbOperationMode,this.dbMain=new this.SqliteInstance.Database(this.filename,this.encryptKey),this.dbReader=new this.SqliteInstance.Database(this.filename,this.encryptKey),this.dbSearchScanner=new this.SqliteInstance.Database(this.filename,this.encryptKey)}var _utils=require("./_utils"),_dbOperationMode=require("./enums/_dbOperationMode");DBConnection.prototype.close=function(){this.dbMain&&this.dbMain.close(),this.dbReader&&this.dbReader.close(),this.dbSearchScanner&&this.dbSearchScanner.close(),this.dbMain=null,this.dbReader=null,this.dbSearchScanner=null},DBConnection.prototype.getDB=function(e){return Promise.resolve(this.getDBSync(e))},DBConnection.prototype.getDBSync=function(e){switch(e){case _dbOperationMode.OPEN_READONLY:return this.dbReader;case _dbOperationMode.OPEN_READWRITE:return this.dbMain;case _dbOperationMode.OPEN_SCANNER:return this.dbSearchScanner}},module.exports=DBConnection;

},{"./_utils":745,"./enums/_dbOperationMode":746}],738:[function(require,module,exports){
function DBLog(){this.logEmitter=new Emitter}var Emitter=require("wolfy87-eventemitter");DBLog.prototype.info=function(t){this.logEmitter.emit("info",t)},DBLog.prototype.error=function(t){this.logEmitter.emit("error",t)},module.exports=new DBLog;

},{"wolfy87-eventemitter":944}],739:[function(require,module,exports){
function DBQueryHelper(e,r){if(!(e instanceof DBConnection))throw new Error(wrapperErrors.HELPER.CONSTRUCT_NOT_A_DB_CONNECTION_INSTANCE);if(!(r instanceof DBSequelizeQueue))throw new Error(wrapperErrors.HELPER.CONSTRUCT_NOT_A_DB_QUEUE_INSTANCE);this.dbConn=e,this.seqQueue=r,this.tableNamesAndIndexesCache=null}var DBConnection=require("./DBConnection"),wrapperErrors=require("./enums/_wrapperError"),Transaction=require("./Transaction"),DBSequelizeQueue=require("./DBSequelizeQueue"),_dbOperationMode=require("./enums/_dbOperationMode"),_isString=require("lodash.isstring"),_isRegExp=require("lodash.isregexp"),DBWatcher=require("./DBWatcher"),_utils=require("./_utils"),dbLog=require("./DBLog");DBQueryHelper.prototype.queryRaw=function(e,r,n){var t=DBWatcher.genTimer("a queryRaw");return Promise.resolve().then(function(){return n?this.dbConn.getDB(_dbOperationMode.OPEN_READWRITE):this.dbConn.getDB(_dbOperationMode.OPEN_READONLY)}.bind(this)).then(function(n){return n?new Promise(function(i,o){n.all(e,r||[],function(e,r){t.end(),e?o(e):i(r)})}):Promise.reject(new Error(wrapperErrors.DB.GET_DB_NULL))})},DBQueryHelper.prototype.execRaw=function(e,r){var n=DBWatcher.genTimer("a execRaw");return this.dbConn.getDB(_dbOperationMode.OPEN_READWRITE).then(function(t){return t?new Promise(function(i,o){t.run(e,r||[],function(e){n.end(),e?o(e):i(this)})}):Promise.reject(new Error(wrapperErrors.DB.GET_DB_NULL))})},DBQueryHelper.prototype.query=function(e,r,n){var t=DBWatcher.genTimer("query"),i={0:{type:"string",required:!0},1:{type:"object",required:!0}};return _utils.validateArgs(arguments,i).then(function(){return n?this.dbConn.getDB(_dbOperationMode.OPEN_READWRITE):this.dbConn.getDB(_dbOperationMode.OPEN_READONLY)}.bind(this)).then(function(n){if(!n)return Promise.reject(new Error(wrapperErrors.DB.GET_DB_NULL));var i=["SELECT"];void 0!==r.distinct&&r.distinct===!0&&i.push("DISTINCT"),i=i.concat([r.columns.join(",")]).concat(["FROM"]).concat([e]),r.selection&&(i.push("WHERE"),i.push(r.selection)),r.groupBy&&(i.push("GROUP BY"),i.push(r.groupBy)),r.having&&(i.push("HAVING"),i.push(r.having)),r.orderBy&&(i.push("ORDER BY"),i.push(r.orderBy)),r.limit&&(i.push("LIMIT"),i.push(r.limit));var o=i.join(" ");return new Promise(function(e,i){n.all(o,r.selectionArgs||[],function(r,n){t.end(),r?i(r):e(n)})})})},DBQueryHelper.prototype._insert=function(e,r,n){var t=DBWatcher.genTimer("insert"),i={0:{type:"string",required:!0},1:{type:"object",required:!0}};return _utils.validateArgs(arguments,i).then(function(){return this.dbConn.getDB(_dbOperationMode.OPEN_READWRITE)}.bind(this)).then(function(i){if(!i)return Promise.reject(new Error(wrapperErrors.DB.GET_DB_NULL));var o=Object.keys(r),u=[],s=o.map(function(e){return r[e]});o.forEach(function(){u.push("?")});var a="";a=n?"INSERT OR IGNORE INTO ":"INSERT INTO ",a+=e+" ("+o.join(",")+") VALUES ("+u.join(",")+")";var c=i.prepare(a);return new Promise(function(e,r){c.run(s,function(n){t.end(),n?r(n):e(this.lastID),c.finalize()})})})},DBQueryHelper.prototype.insert=function(e,r,n,t){return t instanceof Transaction?this._insert(e,r,n):this.seqQueue.push(function(){return this._insert(e,r,n)}.bind(this)).result},DBQueryHelper.prototype._update=function(e,r,n,t){var i=DBWatcher.genTimer("update"),o={0:{type:"string",required:!0},1:{type:"object",required:!0},2:{type:"string",required:!0},3:{type:"array",required:!0}};return _utils.validateArgs(arguments,o).then(function(){return this.dbConn.getDB(_dbOperationMode.OPEN_READWRITE)}.bind(this)).then(function(o){if(!o)return Promise.reject(new Error(wrapperErrors.DB.GET_DB_NULL));var u=["UPDATE"];u.push(e);var s=Object.keys(r),a=[];s.forEach(function(e){a.push(e+"=?")});var c=s.map(function(e){return r[e]});t=t||[],c=c.concat(t),u.push("SET"),u.push(a.join(",")),u.push("WHERE"),u.push(n),u=u.join(" ");var h=o.prepare(u);return new Promise(function(e,r){h.run(c,function(n){i.end(),n?r(n):e(this.changes),h.finalize()})})})},DBQueryHelper.prototype.update=function(e,r,n,t,i){return i instanceof Transaction?this._update(e,r,n,t):this.seqQueue.push(function(){return this._update(e,r,n,t)}.bind(this)).result},DBQueryHelper.prototype._remove=function(e,r,n){var t=DBWatcher.genTimer("remove"),i={0:{type:"string",required:!0},1:{type:"string",required:!0},2:{type:"array",required:!0}};return _utils.validateArgs(arguments,i).then(function(){return this.dbConn.getDB(_dbOperationMode.OPEN_READWRITE)}.bind(this)).then(function(i){if(!i)return Promise.reject(new Error(wrapperErrors.DB.GET_DB_NULL));var o=["DELETE FROM"];return o.push(e),r&&n&&(o.push("WHERE"),o.push(r)),new Promise(function(e,r){i.run(o.join(" "),n,function(n){t.end(),n?r(n):e(this.changes)})})})},DBQueryHelper.prototype.remove=function(e,r,n,t){return t instanceof Transaction?this._remove(e,r,n):this.seqQueue.push(function(){return this._remove(e,r,n)}.bind(this)).result},DBQueryHelper.prototype._insertAll=function(e,r,n,t){var i=DBWatcher.genTimer("_insertAll"),o={0:{type:"string",required:!0},1:{type:"array",required:!0},2:{type:"array",required:!0}};return _utils.validateArgs(arguments,o).then(function(){return this.dbConn.getDB(_dbOperationMode.OPEN_READWRITE)}.bind(this)).then(function(o){if(!o)return Promise.reject(new Error(wrapperErrors.DB.GET_DB_NULL));var u="";u=t?"INSERT OR IGNORE INTO ":"INSERT INTO ";var s=[];r.forEach(function(){s.push("?")});var a="("+s.join(",")+")",c=[],h=[],p=[],l=999,d=1;u+=e+"("+r.join(",")+") VALUES ";var f=u;return n.forEach(function(e,n){f=u,p.length+r.length>=l&&(d++,f+=h.join(","),h=[],c.push(this.execRaw(f,p)),p=[]),h.push(a),e.forEach(function(e){p.push(e)})}.bind(this)),h.length&&(d++,u+=h.join(","),c.push(this.execRaw(u,p))),Promise.all(c).then(function(e){return i.end(),Promise.resolve(e)},function(e){return i.end(),Promise.reject(e)})}.bind(this))},DBQueryHelper.prototype.insertAll=function(e,r,n,t,i){return i instanceof Transaction?this._insertAll(e,r,n,t):this.seqQueue.push(function(){return this._insertAll(e,r,n,t)}.bind(this)).result},DBQueryHelper.prototype.begin=function(e){var r=DBWatcher.genTimer("begin");return this.execRaw("BEGIN").then(function(e){return r.end(),Promise.resolve(e)},function(e){return r.end(),Promise.reject(e)})},DBQueryHelper.prototype.commit=function(){var e=DBWatcher.genTimer("commit");return this.execRaw("COMMIT").then(function(r){return e.end(),Promise.resolve(r)},function(r){return e.end(),Promise.reject(r)})},DBQueryHelper.prototype.rollback=function(){var e=DBWatcher.genTimer("rollback");return this.execRaw("ROLLBACK").then(function(r){return e.end(),Promise.resolve(r)},function(r){return e.end(),Promise.reject(r)})},DBQueryHelper.prototype.beginTransaction=function(e){return this.seqQueue.push(function(){var r=new Transaction(this,e);return r.getPromise()}.bind(this)).result},DBQueryHelper.prototype.createTable=function(e,r,n){var t=DBWatcher.genTimer("createTable");return Promise.resolve().then(function(){return this.showTablesAndIndexes(n).then(function(r){return r[e]?(t.end(),Promise.resolve()):(t.end(),Promise.reject())}).catch(function(){var n="CREATE TABLE IF NOT EXISTS "+e+" ("+r.join(",")+")";return this.execRaw(n).then(function(e){return t.end(),Promise.resolve(e)},function(e){return t.end(),Promise.reject(e)})}.bind(this))}.bind(this))},DBQueryHelper.prototype.createIndex=function(e,r,n){function t(r){var n="CREATE INDEX ";return r.isUnique&&(n="CREATE UNIQUE INDEX "),n+="IF NOT EXISTS "+r.name+" ON "+e+"("+r.colName+")"}function i(e){return Promise.all(e).then(function(e){return o.end(),Promise.resolve(e)},function(e){return o.end(),Promise.reject(e)})}var o=DBWatcher.genTimer("createIndex");return this.showTablesAndIndexes(n).then(function(e){var n=r.map(function(r){var n=t(r);return e[r.name]?Promise.resolve():this.execRaw(n)}.bind(this));return i(n)}.bind(this),function(){var e=r.map(function(e){var r=t(e);return this.execRaw(r)}.bind(this));return i(e)}.bind(this))},DBQueryHelper.prototype.dropTable=function(e,r){var n=DBWatcher.genTimer("drop"),t="DROP TABLE IF EXISTS "+e;return console.log(t),this.execRaw(t).then(function(e){return console.log("drop success"),this.tableNamesAndIndexesCache=null,n.end(),Promise.resolve(e)}.bind(this),function(e){return console.log("drop fail"),console.log(e),n.end(),Promise.reject(e)})},DBQueryHelper.prototype._eraseTable=function(e){var r="delete from "+e,n=DBWatcher.genTimer("erase table");return this.execRaw(r).then(function(e){return n.end(),Promise.resolve(e)},function(e){return n.end(),Promise.reject(e)})},DBQueryHelper.prototype.eraseTable=function(e,r){return r instanceof Transaction?this._eraseTable(e):this.seqQueue.push(function(){return this._eraseTable(e)}.bind(this)).result},DBQueryHelper.prototype._getTableNamesByRegExp=function(e){var r="SELECT name FROM sqlite_master where type = 'table'";return this.queryRaw(r).then(function(r){return r.filter(function(r){return e.test(r.name)}).map(function(e){return e.name})})},DBQueryHelper.prototype.eraseTables=function(e){var r=e.map(function(e){return _isString(e)?Promise.resolve([e]):_isRegExp(e)?this._getTableNamesByRegExp(e):Promise.resolve([])}.bind(this));return Promise.all(r).then(function(e){var r=[];return e.forEach(function(e){e.forEach(function(e){r.push(e)})}),r}).then(function(e){return this.beginTransaction(function(r){var n=e.map(function(e){return this.eraseTable(e,r)}.bind(this));Promise.all(n).then(function(){r.commit()},function(e){dbLog.error("erase tables failed "+(e instanceof Error?e.message:"")),r.rollback()})}.bind(this))}.bind(this))},DBQueryHelper.prototype.showTableSchema=function(e,r){return Promise.resolve().then(function(){var n="SELECT sql FROM sqlite_master WHERE tbl_name = '"+e+"' AND type = 'table'";return this.queryRaw(n,null,r).then(function(e){if(0===e.length)return Promise.reject(new Error(wrapperErrors.HELPER.SHOW_SCHEMA_ERROR));var r=e[0].sql,n=r.substring(r.indexOf("(")+1,r.indexOf(")")).split(",").map(function(e){return e.trim()});return Promise.resolve(n)},function(e){return Promise.reject(e)})}.bind(this))},DBQueryHelper.prototype.showTablesAndIndexes=function(e){var r="SELECT name FROM sqlite_master";return this.tableNamesAndIndexesCache?Promise.resolve(this.tableNamesAndIndexesCache):this.queryRaw(r,null,e).then(function(e){return this.tableNamesAndIndexesCache={},e.forEach(function(e){this.tableNamesAndIndexesCache[e.name]=!0}.bind(this)),Promise.resolve(this.tableNamesAndIndexesCache)}.bind(this))},DBQueryHelper.prototype._addCol=function(e,r){var n=DBWatcher.genTimer("add column"),t={0:{type:"string",required:!0},1:{type:"string",required:!0}};return _utils.validateArgs(arguments,t).then(function(){var t="ALTER TABLE "+e+" ADD COLUMN "+r;return this.execRaw(t).then(function(e){return n.end(),Promise.resolve(e)},function(e){return n.end(),Promise.reject(e)})}.bind(this))},DBQueryHelper.prototype.addCol=function(e,r,n){return n instanceof Transaction?this._addCol(e,r):this.seqQueue.push(function(){return this._addCol(e,r)}.bind(this)).result},module.exports=DBQueryHelper;

},{"./DBConnection":737,"./DBLog":738,"./DBSequelizeQueue":740,"./DBWatcher":742,"./Transaction":744,"./_utils":745,"./enums/_dbOperationMode":746,"./enums/_wrapperError":747,"lodash.isregexp":913,"lodash.isstring":914}],740:[function(require,module,exports){
function SeqQueue(){this.queue=[],this.isRunning=!1,this.outerTimeout=15e3,this.innerTimeout=2e4}var _util=require("./_utils"),_wrapperError=require("./enums/_wrapperError"),dbLog=require("./DBLog");SeqQueue.prototype.push=function(e){var t=_util.createDefer(),i={_defer:t,result:t.promise,Fn:e};return"function"!=typeof e?(t.reject(new Error(_wrapperError.QUEUE.NOT_FUNCTION)),i):(this.queue.push(i),this.isRunning||this.start(),i)},SeqQueue.prototype.start=function(){var e=this.queue.shift();if(e&&e.Fn){var t=e.Fn();this.isRunning=!0;var i=!1,r=null,u=setTimeout(function(){r=setTimeout(function(){var t=new Error(_wrapperError.QUEUE.TASK_TIMEOUT);e._defer.reject(t),this.isRunning=0!==this.queue.length,i=!0,this.start()}.bind(this),this.innerTimeout)}.bind(this),this.outerTimeout);t.then(function(t){return clearTimeout(u),r&&clearTimeout(r),i?void dbLog.info("a task is timeout but have resolved"):(e._defer.resolve(t),this.isRunning=0!==this.queue.length,void this.start())}.bind(this),function(t){return clearTimeout(u),r&&clearTimeout(r),i?void dbLog.info("a task is timeout but have rejected"):(e._defer.reject(t),this.isRunning=0!==this.queue.length,void this.start())}.bind(this))}},SeqQueue.prototype.reset=function(){this.queue=[],this.isRunning=!1},module.exports=SeqQueue;

},{"./DBLog":738,"./_utils":745,"./enums/_wrapperError":747}],741:[function(require,module,exports){
function DBTable(e){this.dbQueryHelper=e,this._upgradeCache={}}var _utils=require("./_utils"),DBWatcher=require("./DBWatcher"),dbLog=require("./DBLog"),_wrapperErrors=require("./enums/_wrapperError");DBTable.prototype.init=function(e,t,i){this._initDefer=_utils.createDefer(),this.isInit=!1,this.tableName=e,this.tableDefs=t,this.indexes=i;var r=DBWatcher.genTimer("init a table");return this._initSchema().then(function(){return this.isInit=!0,this._initDefer.resolve(),r.end(),Promise.resolve()}.bind(this)).catch(function(e){return r.end(),this.isInit=!1,dbLog.info("a table init failed"+JSON.stringify(e)),Promise.reject(e)}.bind(this))},DBTable.prototype._initSchema=function(){return this.dbQueryHelper.beginTransaction(function(e){Promise.resolve().then(function(){return this.tableDefs?this.dbQueryHelper.createTable(this.tableName,this.tableDefs,e).then(function(){return this.indexes?this.dbQueryHelper.createIndex(this.tableName,this.indexes):Promise.resolve()}.bind(this)):Promise.reject(new Error(_wrapperErrors.TABLE.TABLE_COLUMNS_NOT_DEFINE))}.bind(this)).then(function(){return this._upgrade(e)}.bind(this)).then(function(){e.commit()},function(){e.rollback()})}.bind(this))},DBTable.prototype._diffTableSchema=function(e,t){var i=[];if(e.length===t.length)return[];for(var r=t.map(function(e){return e.split(" ")[0].trim()}),n=0;n<e.length;n++)r.indexOf(e[n].trim().split(" ")[0])===-1&&i.push(e[n].trim());return i},DBTable.prototype._upgrade=function(e){return this._upgradeCache[this.tableName]&&this._upgradeCache[this.tableName]>=this.tableDefs.length?Promise.resolve():Promise.resolve().then(function(){return this.dbQueryHelper.showTableSchema(this.tableName,e).then(function(t){dbLog.info("show schema success "+this.tableName);var i=this._diffTableSchema(this.tableDefs,t);if(0===i.length)return this._upgradeCache[this.tableName]=this.tableDefs.length,Promise.resolve();var r=Promise.resolve();return i.forEach(function(t){r=r.then(function(){return this.dbQueryHelper.addCol(this.tableName,t,e)}.bind(this))}.bind(this)),r.then(function(){return this._upgradeCache[this.tableName]=this.tableDefs.length,dbLog.info("upgrade table successful "+this.tableName),Promise.resolve()}.bind(this)),r}.bind(this)).catch(function(t){return dbLog.error("try show schema failed :"+t.stack),this.dbQueryHelper.dropTable(this.tableName).then(function(){return this.dbQueryHelper.createTable(this.tableName,this.tableDefs,e).then(function(){return this.indexes?this.dbQueryHelper.createIndex(this.tableName,this.indexes):Promise.resolve()}.bind(this))}.bind(this))}.bind(this))}.bind(this))},DBTable.prototype.afterInit=function(){return this.isInit?Promise.resolve():this._initDefer.promise},DBTable.prototype.erase=function(e){return this.afterInit().then(function(){return this.dbQueryHelper.eraseTable(this.tableName,e)}.bind(this))},DBTable.prototype.query=function(e,t){return this.afterInit().then(function(){return this.dbQueryHelper.query(this.tableName,e,t)}.bind(this))},DBTable.prototype.insert=function(e,t,i){return this.afterInit().then(function(){return this.dbQueryHelper.insert(this.tableName,e,t,i)}.bind(this))},DBTable.prototype.update=function(e,t,i,r){return this.afterInit().then(function(){return this.dbQueryHelper.update(this.tableName,e,t,i,r)}.bind(this))},DBTable.prototype.insertAll=function(e,t,i,r){return this.afterInit().then(function(){return this.dbQueryHelper.insertAll(this.tableName,e,t,i,r)}.bind(this))},DBTable.prototype.remove=function(e,t,i){return this.afterInit().then(function(){return this.dbQueryHelper.remove(this.tableName,e,t,i)}.bind(this))},module.exports=DBTable;

},{"./DBLog":738,"./DBWatcher":742,"./_utils":745,"./enums/_wrapperError":747}],742:[function(require,module,exports){
function DBTimer(i){this.startTime=new Date-0,this.usingTime=0,this.doLogTimeLimit=1e3,this.log=i}function DBWatcher(){}var dbLog=require("./DBLog");DBTimer.prototype.end=function(){this.endTime=new Date-0,this.usingTime=this.endTime-this.startTime,this.doLog()},DBTimer.prototype.doLog=function(){this.usingTime>this.doLogTimeLimit&&dbLog.info(this.log+" spend "+this.usingTime)},DBWatcher.prototype.genTimer=function(i){return new DBTimer(i)},module.exports=new DBWatcher;

},{"./DBLog":738}],743:[function(require,module,exports){
function SqliteWrapper(e){this.dbConn=new DBConnection(e.sqlite,e.filename,e.encryptKey),this.dbQueue=new DBSequelizeQueue,this.dbQueryHelper=new DBQueryHelper(this.dbConn,this.dbQueue)}var DBConnection=require("./DBConnection"),DBSequelizeQueue=require("./DBSequelizeQueue"),DBQueryHelper=require("./DBQueryHelper"),DBTable=require("./DBTable"),DBLog=require("./DBLog"),_uitls=require("./_utils");SqliteWrapper.prototype.getDBConn=function(){return this.dbConn},SqliteWrapper.prototype.instanceTable=function(){return new DBTable(this.dbQueryHelper)},SqliteWrapper.prototype.getDBLog=function(){return DBLog},SqliteWrapper.prototype.reset=function(){this.dbConn.close(),this.dbQueue.reset(),DBLog.logEmitter.removeAllListeners()},module.exports=SqliteWrapper;

},{"./DBConnection":737,"./DBLog":738,"./DBQueryHelper":739,"./DBSequelizeQueue":740,"./DBTable":741,"./_utils":745}],744:[function(require,module,exports){
function Transaction(e,t){this.dbQueryHelper=e,this.isTimeoutAndAutoRollback=!1,this.isTransactionEnd=!1,this.innerTimer=null,this.outerTimer=null,this.innerTimeout=15e3,this.outerTimeout=15e3,this.transactionFn=t,this._defer={},this._defer.promise=new Promise(function(e,t){this._defer.resolve=e,this._defer.reject=t}.bind(this)),this.genTimeout(),this.begin()}var _wrapperError=require("./enums/_wrapperError");Transaction.prototype.getPromise=function(){return this._defer.promise},Transaction.prototype.genTimeout=function(){this.outerTimer=setTimeout(function(){this.innerTimer=setTimeout(function(){this.dbQueryHelper.rollback().then(function(){this._defer.reject(new Error(_wrapperError.TRANSACTION.TRANSACTION_IS_HANG_TOO_LONG)),this.isTimeoutAndAutoRollback=!0}.bind(this),this._defer.reject)}.bind(this),this.innerTimeout)}.bind(this),this.outerTimeout)},Transaction.prototype.commit=function(){this._checkState().then(function(){return this.dbQueryHelper.commit().then(this._defer.resolve,this._defer.reject)}.bind(this)).catch(function(e){this._defer.reject(e)}.bind(this))},Transaction.prototype.rollback=function(){this._checkState().then(function(){return this.dbQueryHelper.rollback().then(function(){this._defer.reject(new Error(_wrapperError.TRANSACTION.TRANSACTION_EXEC_ERROR_AND_ROLLBACK))}.bind(this),this._defer.reject)}.bind(this)).catch(function(e){this._defer.reject(e)}.bind(this))},Transaction.prototype.begin=function(){this.dbQueryHelper.begin().then(function(){this.transactionFn&&this.transactionFn(this)}.bind(this)).catch(function(e){this._defer.reject(e)}.bind(this))},Transaction.prototype._checkState=function(){return clearTimeout(this.outerTimer),this.innerTimer&&clearTimeout(this.innerTimer),this.isTimeoutAndAutoRollback?Promise.reject(new Error(_wrapperError.TRANSACTION.TRANSACTION_IS_TIMEOUT_AND_AUTO_ROLLBACK)):this.isTransactionEnd?Promise.reject(new Error(_wrapperError.TRANSACTION.TRANSACTION_IS_NORMAL_ENDED)):(this.isTransactionEnd=!0,Promise.resolve())},module.exports=Transaction;
},{"./enums/_wrapperError":747}],745:[function(require,module,exports){
function createDefer(){var e={};return e.promise=new Promise(function(r,a){e.resolve=r,e.reject=a}),e}var schema=require("@ali/ding-schemajs"),_reduce=require("lodash.reduce"),validateArgs=function(e,r){var a=schema.create(r),i=a.validate(e);if(!i.valid){var t=[];return _reduce(i.errors,function(e,r){return e.push(r),e},t),Promise.reject(new Error(t.join(", ")))}return Promise.resolve()};module.exports={createDefer:createDefer,validateArgs:validateArgs};

},{"@ali/ding-schemajs":720,"lodash.reduce":916}],746:[function(require,module,exports){
var operationMode={OPEN_READWRITE:0,OPEN_READONLY:1,OPEN_SCANNER:2};module.exports=operationMode;
},{}],747:[function(require,module,exports){
var helperErrors={CONSTRUCT_NOT_A_DB_CONNECTION_INSTANCE:"should use a DBConnection instance to construct helper",CONSTRUCT_NOT_A_DB_QUEUE_INSTANCE:"should use a DBSequelizeQueue instance,to construct helper",SHOW_SCHEMA_ERROR:"could not find schema"},dbErrors={GET_DB_NULL:"get db is close or be reset"},transactionErrors={TRANSACTION_IS_TIMEOUT_AND_AUTO_ROLLBACK:"a transaction is execute timeout and has been rollback automatically",TRANSACTION_IS_NORMAL_ENDED:"a transaction is normal ended",TRANSACTION_IS_HANG_TOO_LONG:"a transaction is hang too much time",TRANSACTION_EXEC_ERROR_AND_ROLLBACK:"a transaction is execute error and is rollbacked"},queueErrors={NOT_FUNCTION:"the args is not a function",TASK_TIMEOUT:"a task is timeout"},tableErrors={TABLE_COLUMNS_NOT_DEFINE:"table columns is not defined"};module.exports={HELPER:helperErrors,DB:dbErrors,TRANSACTION:transactionErrors,QUEUE:queueErrors,TABLE:tableErrors};

},{}],748:[function(require,module,exports){
!function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var c=t.which;switch(c){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return!!t.metaKey},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],c=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(c.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,c=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),c=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(c)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,c,i,l){l(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,c){return c&&t?t.replace(new RegExp(e(c),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(c){var i=c[0].getBoundingClientRect();return{width:i.width||c.prop("offsetWidth"),height:i.height||c.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);c.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,c,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var c=t.parent().attr("theme")||e.theme;return c+"/choices.tpl.html"},compile:function(l,s){if(!s.repeat)throw c("repeat","Expected 'repeat' expression.");return function(l,s,n,a,r){var o=n.groupBy;if(a.parseRepeatAttr(n.repeat,o),a.disableChoiceExpression=n.uiDisableChoice,a.onHighlightCallback=n.onHighlight,o){var u=s.querySelectorAll(".ui-select-choices-group");if(1!==u.length)throw c("rows","Expected 1 .ui-select-choices-group but got '{0}'.",u.length);u.attr("ng-repeat",t.getGroupNgRepeatExpression())}var d=s.querySelectorAll(".ui-select-choices-row");if(1!==d.length)throw c("rows","Expected 1 .ui-select-choices-row but got '{0}'.",d.length);d.attr("ng-repeat",t.getNgRepeatExpression(a.parserResult.itemName,"$select.items",a.parserResult.trackByExp,o)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+a.parserResult.itemName+")").attr("ng-click","$select.select("+a.parserResult.itemName+",false,$event)");var p=s.querySelectorAll(".ui-select-choices-row-inner");if(1!==p.length)throw c("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",p.length);p.attr("uis-transclude-append",""),i(s,r)(l),l.$watch("$select.search",function(e){e&&!a.open&&a.multiple&&a.activate(!1,!0),a.activeIndex=a.tagging.isActivated?-1:0,a.refresh(n.refresh)}),n.$observe("refreshDelay",function(){var t=l.$eval(n.refreshDelay);a.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),c.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,c,i,l,s,n,a){function r(){(d.resetSearchInput||void 0===d.resetSearchInput&&a.resetSearchInput)&&(d.search=p,d.selected&&d.items.length&&!d.multiple&&(d.activeIndex=d.items.indexOf(d.selected)))}function o(t){var c=!0;switch(t){case e.DOWN:!d.open&&d.multiple?d.activate(!1,!0):d.activeIndex<d.items.length-1&&d.activeIndex++;break;case e.UP:!d.open&&d.multiple?d.activate(!1,!0):(d.activeIndex>0||0===d.search.length&&d.tagging.isActivated&&d.activeIndex>-1)&&d.activeIndex--;break;case e.TAB:d.multiple&&!d.open||d.select(d.items[d.activeIndex],!0);break;case e.ENTER:d.open&&d.activeIndex>=0?d.select(d.items[d.activeIndex]):d.activate(!1,!0);break;case e.ESC:d.close();break;default:c=!1}return c}function u(){var e=c.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw n("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(d.activeIndex<0)){var i=t[d.activeIndex],l=i.offsetTop+i.clientHeight-e[0].scrollTop,s=e[0].offsetHeight;l>s?e[0].scrollTop+=l-s:l<i.clientHeight&&(d.isGrouped&&0===d.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=i.clientHeight-l)}}var d=this,p="";if(d.placeholder=a.placeholder,d.searchEnabled=a.searchEnabled,d.sortable=a.sortable,d.refreshDelay=a.refreshDelay,d.removeSelected=!1,d.closeOnSelect=!0,d.search=p,d.activeIndex=0,d.items=[],d.open=!1,d.focus=!1,d.disabled=!1,d.selected=void 0,d.focusser=void 0,d.resetSearchInput=!0,d.multiple=void 0,d.disableChoiceExpression=void 0,d.tagging={isActivated:!1,fct:void 0},d.taggingTokens={isActivated:!1,tokens:void 0},d.lockChoiceExpression=void 0,d.clickTriggeredSelect=!1,d.$filter=l,d.searchInput=c.querySelectorAll("input.ui-select-search"),1!==d.searchInput.length)throw n("searchInput","Expected 1 input.ui-select-search but got '{0}'.",d.searchInput.length);d.isEmpty=function(){return angular.isUndefined(d.selected)||null===d.selected||""===d.selected},d.activate=function(e,c){d.disabled||d.open||(c||r(),t.$broadcast("uis:activate"),d.open=!0,d.activeIndex=d.activeIndex>=d.items.length?0:d.activeIndex,d.activeIndex===-1&&d.taggingLabel!==!1&&(d.activeIndex=0),i(function(){d.search=e||d.search,d.searchInput[0].focus()}))},d.findGroupByName=function(e){return d.groups&&d.groups.filter(function(t){return t.name===e})[0]},d.parseRepeatAttr=function(e,c){function i(e){d.groups=[],angular.forEach(e,function(e){var i=t.$eval(c),l=angular.isFunction(i)?i(e):e[i],s=d.findGroupByName(l);s?s.items.push(e):d.groups.push({name:l,items:[e]})}),d.items=[],d.groups.forEach(function(e){d.items=d.items.concat(e.items)})}function l(e){d.items=e}d.setItemsFn=c?i:l,d.parserResult=s.parse(e),d.isGrouped=!!c,d.itemProperty=d.parserResult.itemName,d.refreshItems=function(e){e=e||d.parserResult.source(t);var c=d.selected;if(angular.isArray(c)&&!c.length||!d.removeSelected)d.setItemsFn(e);else if(void 0!==e){var i=e.filter(function(e){return c.indexOf(e)<0});d.setItemsFn(i)}},t.$watchCollection(d.parserResult.source,function(e){if(void 0===e||null===e)d.items=[];else{if(!angular.isArray(e))throw n("items","Expected an array but got '{0}'.",e);d.refreshItems(e),d.ngModel.$modelValue=null}})};var h;d.refresh=function(e){void 0!==e&&(h&&i.cancel(h),h=i(function(){t.$eval(e)},d.refreshDelay))},d.setActiveItem=function(e){d.activeIndex=d.items.indexOf(e)},d.isActive=function(e){if(!d.open)return!1;var t=d.items.indexOf(e[d.itemProperty]),c=t===d.activeIndex;return!(!c||t<0&&d.taggingLabel!==!1||t<0&&d.taggingLabel===!1)&&(c&&!angular.isUndefined(d.onHighlightCallback)&&e.$eval(d.onHighlightCallback),c)},d.isDisabled=function(e){if(d.open){var t,c=d.items.indexOf(e[d.itemProperty]),i=!1;return c>=0&&!angular.isUndefined(d.disableChoiceExpression)&&(t=d.items[c],i=!!e.$eval(d.disableChoiceExpression),t._uiSelectChoiceDisabled=i),i}},d.select=function(e,c,l){if(void 0===e||!e._uiSelectChoiceDisabled){if(!d.items&&!d.search)return;if(!e||!e._uiSelectChoiceDisabled){if(d.tagging.isActivated){if(d.taggingLabel===!1)if(d.activeIndex<0){if(e=void 0!==d.tagging.fct?d.tagging.fct(d.search):d.search,!e||angular.equals(d.items[0],e))return}else e=d.items[d.activeIndex];else if(0===d.activeIndex){if(void 0===e)return;if(void 0!==d.tagging.fct&&"string"==typeof e){if(e=d.tagging.fct(d.search),!e)return}else"string"==typeof e&&(e=e.replace(d.taggingLabel,"").trim())}if(d.selected&&angular.isArray(d.selected)&&d.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void d.close(c)}t.$broadcast("uis:select",e);var s={};s[d.parserResult.itemName]=e,i(function(){d.onSelectCallback(t,{$item:e,$model:d.parserResult.modelMapper(t,s)})}),d.closeOnSelect&&d.close(c),l&&"click"===l.type&&(d.clickTriggeredSelect=!0)}}},d.close=function(e){d.open&&(d.ngModel&&d.ngModel.$setTouched&&d.ngModel.$setTouched(),r(),d.open=!1,t.$broadcast("uis:close",e))},d.setFocus=function(){d.focus||d.focusInput[0].focus()},d.clear=function(e){d.select(void 0),e.stopPropagation(),d.focusser[0].focus()},d.toggle=function(e){d.open?(d.close(),e.preventDefault(),e.stopPropagation()):d.activate()},d.isLocked=function(e,t){var c,i=d.selected[t];return i&&!angular.isUndefined(d.lockChoiceExpression)&&(c=!!e.$eval(d.lockChoiceExpression),i._uiSelectChoiceLocked=c),c};var g=null;d.sizeSearchInput=function(){var e=d.searchInput[0],c=d.searchInput.parent().parent()[0],l=function(){return c.clientWidth*!!e.offsetParent},s=function(t){if(0===t)return!1;var c=t-e.offsetLeft-10;return c<50&&(c=t),d.searchInput.css("width",c+"px"),!0};d.searchInput.css("width","10px"),i(function(){null!==g||s(l())||(g=t.$watch(l,function(e){s(e)&&(g(),g=null)}))})},d.searchInput.on("keydown",function(c){var l=c.which;t.$apply(function(){var t=!1;if((d.items.length>0||d.tagging.isActivated)&&(o(l),d.taggingTokens.isActivated)){for(var s=0;s<d.taggingTokens.tokens.length;s++)d.taggingTokens.tokens[s]===e.MAP[c.keyCode]&&d.search.length>0&&(t=!0);t&&i(function(){d.searchInput.triggerHandler("tagged");var t=d.search.replace(e.MAP[c.keyCode],"").trim();d.tagging.fct&&(t=d.tagging.fct(t)),t&&d.select(t,!0)})}}),e.isVerticalMovement(l)&&d.items.length>0&&u()}),d.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&d.taggingTokens.isActivated&&d.tagging.fct){var c=t.split(d.taggingTokens.tokens[0]);c&&c.length>0&&(angular.forEach(c,function(e){var t=d.tagging.fct(e);t&&d.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),d.searchInput.on("tagged",function(){i(function(){r()})}),t.$on("$destroy",function(){d.searchInput.off("keyup keydown tagged blur paste")})}]),c.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,c,i,l,s,n){return{restrict:"EA",templateUrl:function(e,c){var i=c.theme||t.theme;return i+(angular.isDefined(c.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(l,a){return angular.isDefined(a.multiple)?l.append("<ui-select-multiple/>").removeAttr("multiple"):l.append("<ui-select-single/>"),function(l,a,r,o,u){function d(e){if(g.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(a[0],e.target):a[0].contains(e.target),!t&&!g.clickTriggeredSelect){var c=["input","button","textarea"],i=angular.element(e.target).scope(),s=i&&i.$select&&i.$select!==g;s||(s=~c.indexOf(e.target.tagName.toLowerCase())),g.close(s),l.$digest()}g.clickTriggeredSelect=!1}}function p(){var t=i(a);m=angular.element('<div class="ui-select-placeholder"></div>'),m[0].style.width=t.width+"px",m[0].style.height=t.height+"px",a.after(m),$=a[0].style.width,e.find("body").append(a),a[0].style.position="absolute",a[0].style.left=t.left+"px",a[0].style.top=t.top+"px",a[0].style.width=t.width+"px"}function h(){null!==m&&(m.replaceWith(a),m=null,a[0].style.position="",a[0].style.left="",a[0].style.top="",a[0].style.width=$)}var g=o[0],f=o[1];g.generatedId=t.generateId(),g.baseTitle=r.title||"Select box",g.focusserTitle=g.baseTitle+" focus",g.focusserId="focusser-"+g.generatedId,g.closeOnSelect=function(){return angular.isDefined(r.closeOnSelect)?s(r.closeOnSelect)():t.closeOnSelect}(),g.onSelectCallback=s(r.onSelect),g.onRemoveCallback=s(r.onRemove),g.ngModel=f,g.choiceGrouped=function(e){return g.isGrouped&&e&&e.name},r.tabindex&&r.$observe("tabindex",function(e){g.focusInput.attr("tabindex",e),a.removeAttr("tabindex")}),l.$watch("searchEnabled",function(){var e=l.$eval(r.searchEnabled);g.searchEnabled=void 0!==e?e:t.searchEnabled}),l.$watch("sortable",function(){var e=l.$eval(r.sortable);g.sortable=void 0!==e?e:t.sortable}),r.$observe("disabled",function(){g.disabled=void 0!==r.disabled&&r.disabled}),r.$observe("resetSearchInput",function(){var e=l.$eval(r.resetSearchInput);g.resetSearchInput=void 0===e||e}),r.$observe("tagging",function(){if(void 0!==r.tagging){var e=l.$eval(r.tagging);g.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else g.tagging={isActivated:!1,fct:void 0}}),r.$observe("taggingLabel",function(){void 0!==r.tagging&&("false"===r.taggingLabel?g.taggingLabel=!1:g.taggingLabel=void 0!==r.taggingLabel?r.taggingLabel:"(new)")}),r.$observe("taggingTokens",function(){if(void 0!==r.tagging){var e=void 0!==r.taggingTokens?r.taggingTokens.split("|"):[",","ENTER"];g.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(r.autofocus)&&n(function(){g.setFocus()}),angular.isDefined(r.focusOn)&&l.$on(r.focusOn,function(){n(function(){g.setFocus()})}),e.on("click",d),l.$on("$destroy",function(){e.off("click",d)}),u(l,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw c("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);a.querySelectorAll(".ui-select-match").replaceWith(i);var l=t.querySelectorAll(".ui-select-choices");if(l.removeAttr("ui-select-choices"),l.removeAttr("data-ui-select-choices"),1!==l.length)throw c("transcluded","Expected 1 .ui-select-choices but got '{0}'.",l.length);a.querySelectorAll(".ui-select-choices").replaceWith(l)});var v=l.$eval(r.appendToBody);(void 0!==v?v:t.appendToBody)&&(l.$watch("$select.open",function(e){e?p():h()}),l.$on("$destroy",function(){h()}));var m=null,$=""}}}}]),c.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var c=t.parent().attr("theme")||e.theme,i=t.parent().attr("multiple");return c+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,c,i,l){function s(e){l.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}l.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){l.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",s),s(i.allowClear),l.multiple&&l.sizeSearchInput()}}}]),c.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var c,i=this,l=e.$select;e.$evalAsync(function(){c=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){c.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){l.refreshItems(),l.sizeSearchInput()},i.removeChoice=function(c){var s=l.selected[c];if(!s._uiSelectChoiceLocked){var n={};n[l.parserResult.itemName]=s,l.selected.splice(c,1),i.activeMatchIndex=-1,l.sizeSearchInput(),t(function(){l.onRemoveCallback(e,{$item:s,$model:l.parserResult.modelMapper(e,n)})}),i.updateModel()}},i.getPlaceholder=function(){if(!l.selected.length)return l.placeholder}}],controllerAs:"$selectMultiple",link:function(i,l,s,n){function a(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function r(t){function c(){switch(t){case e.LEFT:return~h.activeMatchIndex?u:n;case e.RIGHT:return~h.activeMatchIndex&&r!==n?o:(d.activate(),!1);case e.BACKSPACE:return~h.activeMatchIndex?(h.removeChoice(r),u):n;case e.DELETE:return!!~h.activeMatchIndex&&(h.removeChoice(h.activeMatchIndex),r)}}var i=a(d.searchInput[0]),l=d.selected.length,s=0,n=l-1,r=h.activeMatchIndex,o=h.activeMatchIndex+1,u=h.activeMatchIndex-1,p=r;return!(i>0||d.search.length&&t==e.RIGHT)&&(d.close(),p=c(),d.selected.length&&p!==!1?h.activeMatchIndex=Math.min(n,Math.max(s,p)):h.activeMatchIndex=-1,!0)}function o(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0!==d.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function u(e,t){var c=-1;if(angular.isArray(e))for(var i=angular.copy(e),l=0;l<i.length;l++)if(void 0===d.tagging.fct)i[l]+" "+d.taggingLabel===t&&(c=l);else{var s=i[l];s.isTag=!0,angular.equals(s,t)&&(c=l)}return c}var d=n[0],p=i.ngModel=n[1],h=i.$selectMultiple;d.multiple=!0,d.removeSelected=!0,d.focusInput=d.searchInput,p.$parsers.unshift(function(){for(var e,t={},c=[],l=d.selected.length-1;l>=0;l--)t={},t[d.parserResult.itemName]=d.selected[l],e=d.parserResult.modelMapper(i,t),c.unshift(e);return c}),p.$formatters.unshift(function(e){var t,c=d.parserResult.source(i,{$select:{search:""}}),l={};if(!c)return e;var s=[],n=function(e,c){if(e&&e.length){for(var n=e.length-1;n>=0;n--){if(l[d.parserResult.itemName]=e[n],t=d.parserResult.modelMapper(i,l),d.parserResult.trackByExp){var a=/\.(.+)/.exec(d.parserResult.trackByExp);if(a.length>0&&t[a[1]]==c[a[1]])return s.unshift(e[n]),!0}if(angular.equals(t,c))return s.unshift(e[n]),!0}return!1}};if(!e)return s;for(var a=e.length-1;a>=0;a--)n(d.selected,e[a])||n(c,e[a])||s.unshift(e[a]);return s}),i.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(p.$modelValue=null,h.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);d.selected=[]}d.selected=p.$viewValue,i.$evalAsync()},i.$on("uis:select",function(e,t){d.selected.push(t),h.updateModel()}),i.$on("uis:activate",function(){h.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var c=t.which;i.$apply(function(){var i=!1;e.isHorizontalMovement(c)&&(i=r(c)),i&&c!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||i.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var c,l,s,n,a=angular.copy(d.items),r=angular.copy(d.items),p=!1,h=-1;if(void 0!==d.tagging.fct){if(s=d.$filter("filter")(a,{isTag:!0}),s.length>0&&(n=s[0]),a.length>0&&n&&(p=!0,a=a.slice(1,a.length),r=r.slice(1,r.length)),c=d.tagging.fct(d.search),c.isTag=!0,r.filter(function(e){return angular.equals(e,d.tagging.fct(d.search))}).length>0)return;c.isTag=!0}else{if(s=d.$filter("filter")(a,function(e){return e.match(d.taggingLabel)}),s.length>0&&(n=s[0]),l=a[0],void 0!==l&&a.length>0&&n&&(p=!0,a=a.slice(1,a.length),r=r.slice(1,r.length)),c=d.search+" "+d.taggingLabel,u(d.selected,d.search)>-1)return;if(o(r.concat(d.selected)))return void(p&&(a=r,i.$evalAsync(function(){d.activeIndex=0,d.items=a})));if(o(r))return void(p&&(d.items=r.slice(1,r.length)))}p&&(h=u(d.selected,c)),h>-1?a=a.slice(h+1,a.length-1):(a=[],a.push(c),a=a.concat(r)),i.$evalAsync(function(){d.activeIndex=0,d.items=a})}}),d.searchInput.on("blur",function(){c(function(){h.activeMatchIndex=-1})})}}}]),c.directive("uiSelectSingle",["$timeout","$compile",function(t,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,l,s,n){var a=n[0],r=n[1];r.$parsers.unshift(function(e){var t,c={};return c[a.parserResult.itemName]=e,t=a.parserResult.modelMapper(i,c)}),r.$formatters.unshift(function(e){var t,c=a.parserResult.source(i,{$select:{search:""}}),l={};if(c){var s=function(c){return l[a.parserResult.itemName]=c,t=a.parserResult.modelMapper(i,l),t==e};if(a.selected&&s(a.selected))return a.selected;for(var n=c.length-1;n>=0;n--)if(s(c[n]))return c[n]}return e}),i.$watch("$select.selected",function(e){r.$viewValue!==e&&r.$setViewValue(e)}),r.$render=function(){a.selected=r.$viewValue},i.$on("uis:select",function(e,t){a.selected=t}),i.$on("uis:close",function(e,c){t(function(){a.focusser.prop("disabled",!1),c||a.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){o.prop("disabled",!0)});var o=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");c(o)(i),a.focusser=o,a.focusInput=o,l.parent().append(o),o.bind("focus",function(){i.$evalAsync(function(){a.focus=!0})}),o.bind("blur",function(){i.$evalAsync(function(){a.focus=!1})}),o.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),a.select(void 0),void i.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||(t.which!=e.DOWN&&t.which!=e.UP&&t.which!=e.ENTER&&t.which!=e.SPACE||(t.preventDefault(),t.stopPropagation(),a.activate()),i.$digest()))}),o.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(a.activate(o.val()),o.val(""),i.$digest())})}}}]),c.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,c){return{require:"^uiSelect",link:function(t,i,l,s){if(null===t[l.uiSelectSort])throw c("sort","Expected a list to sort");var n=angular.extend({axis:"horizontal"},t.$eval(l.uiSelectSortOptions)),a=n.axis,r="dragging",o="dropping",u="dropping-before",d="dropping-after";t.$watch(function(){return s.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass(r),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),i.on("dragend",function(){i.removeClass(r)});var p,h=function(e,t){this.splice(t,0,this.splice(e,1)[0])},g=function(e){e.preventDefault();var t="vertical"===a?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===a?"offsetHeight":"offsetWidth"]/2?(i.removeClass(d),i.addClass(u)):(i.removeClass(u),i.addClass(d))},f=function(t){t.preventDefault();var c=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(p),p=e(function(){v(c)},20)},v=function(e){var c=t.$eval(l.uiSelectSort),s=c[e],n=null;n=i.hasClass(u)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,h.apply(c,[e,n]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:c,item:s,from:e,to:n})}),i.removeClass(o),i.removeClass(u),i.removeClass(d),i.off("drop",f)};i.on("dragenter",function(){i.hasClass(r)||(i.addClass(o),i.on("dragover",g),i.on("drop",f))}),i.on("dragleave",function(e){e.target==i&&(i.removeClass(o),i.removeClass(u),i.removeClass(d),i.off("dragover",g),i.off("drop",f))})}}}]),c.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var c=this;c.parse=function(c){var i=c.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!i)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",c);return{itemName:i[2],source:t(i[3]),trackByExp:i[4],modelMapper:t(i[1]||i[2])}},c.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},c.getNgRepeatExpression=function(e,t,c,i){var l=e+" in "+(i?"$group.items":t);return c&&(l+=" track by "+c),l}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),
e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]);

},{}],749:[function(require,module,exports){
var encoding=require("./lib/encoding.js");module.exports={TextEncoder:encoding.TextEncoder,TextDecoder:encoding.TextDecoder};

},{"./lib/encoding.js":751}],750:[function(require,module,exports){
!function(l){"use strict";l["encoding-indexes"]={big5:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,17392,19506,17923,17830,17784,160359,19831,17843,162993,19682,163013,15253,18230,18244,19527,19520,148159,144919,160594,159371,159954,19543,172881,18255,17882,19589,162924,19719,19108,18081,158499,29221,154196,137827,146950,147297,26189,22267,null,32149,22813,166841,15860,38708,162799,23515,138590,23204,13861,171696,23249,23479,23804,26478,34195,170309,29793,29853,14453,138579,145054,155681,16108,153822,15093,31484,40855,147809,166157,143850,133770,143966,17162,33924,40854,37935,18736,34323,22678,38730,37400,31184,31282,26208,27177,34973,29772,31685,26498,31276,21071,36934,13542,29636,155065,29894,40903,22451,18735,21580,16689,145038,22552,31346,162661,35727,18094,159368,16769,155033,31662,140476,40904,140481,140489,140492,40905,34052,144827,16564,40906,17633,175615,25281,28782,40907,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,12736,12737,12738,12739,12740,131340,12741,131281,131277,12742,12743,131275,139240,12744,131274,12745,12746,12747,12748,131342,12749,12750,256,193,461,192,274,201,282,200,332,211,465,210,null,7870,null,7872,202,257,225,462,224,593,275,233,283,232,299,237,464,236,333,243,466,242,363,250,468,249,470,472,474,476,252,null,7871,null,7873,234,609,9178,9179,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,172969,135493,null,25866,null,null,20029,28381,40270,37343,null,null,161589,25745,20250,20264,20392,20822,20852,20892,20964,21153,21160,21307,21326,21457,21464,22242,22768,22788,22791,22834,22836,23398,23454,23455,23706,24198,24635,25993,26622,26628,26725,27982,28860,30005,32420,32428,32442,32455,32463,32479,32518,32567,33402,33487,33647,35270,35774,35810,36710,36711,36718,29713,31996,32205,26950,31433,21031,null,null,null,null,37260,30904,37214,32956,null,36107,33014,133607,null,null,32927,40647,19661,40393,40460,19518,171510,159758,40458,172339,13761,null,28314,33342,29977,null,18705,39532,39567,40857,31111,164972,138698,132560,142054,20004,20097,20096,20103,20159,20203,20279,13388,20413,15944,20483,20616,13437,13459,13477,20870,22789,20955,20988,20997,20105,21113,21136,21287,13767,21417,13649,21424,13651,21442,21539,13677,13682,13953,21651,21667,21684,21689,21712,21743,21784,21795,21800,13720,21823,13733,13759,21975,13765,163204,21797,null,134210,134421,151851,21904,142534,14828,131905,36422,150968,169189,16467,164030,30586,142392,14900,18389,164189,158194,151018,25821,134524,135092,134357,135412,25741,36478,134806,134155,135012,142505,164438,148691,null,134470,170573,164073,18420,151207,142530,39602,14951,169460,16365,13574,152263,169940,161992,142660,40302,38933,null,17369,155813,25780,21731,142668,142282,135287,14843,135279,157402,157462,162208,25834,151634,134211,36456,139681,166732,132913,null,18443,131497,16378,22643,142733,null,148936,132348,155799,134988,134550,21881,16571,17338,null,19124,141926,135325,33194,39157,134556,25465,14846,141173,36288,22177,25724,15939,null,173569,134665,142031,142537,null,135368,145858,14738,14854,164507,13688,155209,139463,22098,134961,142514,169760,13500,27709,151099,null,null,161140,142987,139784,173659,167117,134778,134196,157724,32659,135375,141315,141625,13819,152035,134796,135053,134826,16275,134960,134471,135503,134732,null,134827,134057,134472,135360,135485,16377,140950,25650,135085,144372,161337,142286,134526,134527,142417,142421,14872,134808,135367,134958,173618,158544,167122,167321,167114,38314,21708,33476,21945,null,171715,39974,39606,161630,142830,28992,33133,33004,23580,157042,33076,14231,21343,164029,37302,134906,134671,134775,134907,13789,151019,13833,134358,22191,141237,135369,134672,134776,135288,135496,164359,136277,134777,151120,142756,23124,135197,135198,135413,135414,22428,134673,161428,164557,135093,134779,151934,14083,135094,135552,152280,172733,149978,137274,147831,164476,22681,21096,13850,153405,31666,23400,18432,19244,40743,18919,39967,39821,154484,143677,22011,13810,22153,20008,22786,138177,194680,38737,131206,20059,20155,13630,23587,24401,24516,14586,25164,25909,27514,27701,27706,28780,29227,20012,29357,149737,32594,31035,31993,32595,156266,13505,null,156491,32770,32896,157202,158033,21341,34916,35265,161970,35744,36125,38021,38264,38271,38376,167439,38886,39029,39118,39134,39267,17e4,40060,40479,40644,27503,63751,20023,131207,38429,25143,38050,null,20539,28158,171123,40870,15817,34959,147790,28791,23797,19232,152013,13657,154928,24866,166450,36775,37366,29073,26393,29626,144001,172295,15499,137600,19216,30948,29698,20910,165647,16393,27235,172730,16931,34319,133743,31274,170311,166634,38741,28749,21284,139390,37876,30425,166371,40871,30685,20131,20464,20668,20015,20247,40872,21556,32139,22674,22736,138678,24210,24217,24514,141074,25995,144377,26905,27203,146531,27903,null,29184,148741,29580,16091,150035,23317,29881,35715,154788,153237,31379,31724,31939,32364,33528,34199,40873,34960,40874,36537,40875,36815,34143,39392,37409,40876,167353,136255,16497,17058,23066,null,null,null,39016,26475,17014,22333,null,34262,149883,33471,160013,19585,159092,23931,158485,159678,40877,40878,23446,40879,26343,32347,28247,31178,15752,17603,143958,141206,17306,17718,null,23765,146202,35577,23672,15634,144721,23928,40882,29015,17752,147692,138787,19575,14712,13386,131492,158785,35532,20404,131641,22975,33132,38998,170234,24379,134047,null,139713,166253,16642,18107,168057,16135,40883,172469,16632,14294,18167,158790,16764,165554,160767,17773,14548,152730,17761,17691,19849,19579,19830,17898,16328,150287,13921,17630,17597,16877,23870,23880,23894,15868,14351,23972,23993,14368,14392,24130,24253,24357,24451,14600,14612,14655,14669,24791,24893,23781,14729,25015,25017,25039,14776,25132,25232,25317,25368,14840,22193,14851,25570,25595,25607,25690,14923,25792,23829,22049,40863,14999,25990,15037,26111,26195,15090,26258,15138,26390,15170,26532,26624,15192,26698,26756,15218,15217,15227,26889,26947,29276,26980,27039,27013,15292,27094,15325,27237,27252,27249,27266,15340,27289,15346,27307,27317,27348,27382,27521,27585,27626,27765,27818,15563,27906,27910,27942,28033,15599,28068,28081,28181,28184,28201,28294,166336,28347,28386,28378,40831,28392,28393,28452,28468,15686,147265,28545,28606,15722,15733,29111,23705,15754,28716,15761,28752,28756,28783,28799,28809,131877,17345,13809,134872,147159,22462,159443,28990,153568,13902,27042,166889,23412,31305,153825,169177,31333,31357,154028,31419,31408,31426,31427,29137,156813,16842,31450,31453,31466,16879,21682,154625,31499,31573,31529,152334,154878,31650,31599,33692,154548,158847,31696,33825,31634,31672,154912,15789,154725,33938,31738,31750,31797,154817,31812,31875,149634,31910,26237,148856,31945,31943,31974,31860,31987,31989,31950,32359,17693,159300,32093,159446,29837,32137,32171,28981,32179,32210,147543,155689,32228,15635,32245,137209,32229,164717,32285,155937,155994,32366,32402,17195,37996,32295,32576,32577,32583,31030,156368,39393,32663,156497,32675,136801,131176,17756,145254,17667,164666,32762,156809,32773,32776,32797,32808,32815,172167,158915,32827,32828,32865,141076,18825,157222,146915,157416,26405,32935,166472,33031,33050,22704,141046,27775,156824,151480,25831,136330,33304,137310,27219,150117,150165,17530,33321,133901,158290,146814,20473,136445,34018,33634,158474,149927,144688,137075,146936,33450,26907,194964,16859,34123,33488,33562,134678,137140,14017,143741,144730,33403,33506,33560,147083,159139,158469,158615,144846,15807,33565,21996,33669,17675,159141,33708,33729,33747,13438,159444,27223,34138,13462,159298,143087,33880,154596,33905,15827,17636,27303,33866,146613,31064,33960,158614,159351,159299,34014,33807,33681,17568,33939,34020,154769,16960,154816,17731,34100,23282,159385,17703,34163,17686,26559,34326,165413,165435,34241,159880,34306,136578,159949,194994,17770,34344,13896,137378,21495,160666,34430,34673,172280,34798,142375,34737,34778,34831,22113,34412,26710,17935,34885,34886,161248,146873,161252,34910,34972,18011,34996,34997,25537,35013,30583,161551,35207,35210,35238,35241,35239,35260,166437,35303,162084,162493,35484,30611,37374,35472,162393,31465,162618,147343,18195,162616,29052,35596,35615,152624,152933,35647,35660,35661,35497,150138,35728,35739,35503,136927,17941,34895,35995,163156,163215,195028,14117,163155,36054,163224,163261,36114,36099,137488,36059,28764,36113,150729,16080,36215,36265,163842,135188,149898,15228,164284,160012,31463,36525,36534,36547,37588,36633,36653,164709,164882,36773,37635,172703,133712,36787,18730,166366,165181,146875,24312,143970,36857,172052,165564,165121,140069,14720,159447,36919,165180,162494,36961,165228,165387,37032,165651,37060,165606,37038,37117,37223,15088,37289,37316,31916,166195,138889,37390,27807,37441,37474,153017,37561,166598,146587,166668,153051,134449,37676,37739,166625,166891,28815,23235,166626,166629,18789,37444,166892,166969,166911,37747,37979,36540,38277,38310,37926,38304,28662,17081,140922,165592,135804,146990,18911,27676,38523,38550,16748,38563,159445,25050,38582,30965,166624,38589,21452,18849,158904,131700,156688,168111,168165,150225,137493,144138,38705,34370,38710,18959,17725,17797,150249,28789,23361,38683,38748,168405,38743,23370,168427,38751,37925,20688,143543,143548,38793,38815,38833,38846,38848,38866,38880,152684,38894,29724,169011,38911,38901,168989,162170,19153,38964,38963,38987,39014,15118,160117,15697,132656,147804,153350,39114,39095,39112,39111,19199,159015,136915,21936,39137,39142,39148,37752,39225,150057,19314,170071,170245,39413,39436,39483,39440,39512,153381,14020,168113,170965,39648,39650,170757,39668,19470,39700,39725,165376,20532,39732,158120,14531,143485,39760,39744,171326,23109,137315,39822,148043,39938,39935,39948,171624,40404,171959,172434,172459,172257,172323,172511,40318,40323,172340,40462,26760,40388,139611,172435,172576,137531,172595,40249,172217,172724,40592,40597,40606,40610,19764,40618,40623,148324,40641,15200,14821,15645,20274,14270,166955,40706,40712,19350,37924,159138,40727,40726,40761,22175,22154,40773,39352,168075,38898,33919,40802,40809,31452,40846,29206,19390,149877,149947,29047,150008,148296,150097,29598,166874,137466,31135,166270,167478,37737,37875,166468,37612,37761,37835,166252,148665,29207,16107,30578,31299,28880,148595,148472,29054,137199,28835,137406,144793,16071,137349,152623,137208,14114,136955,137273,14049,137076,137425,155467,14115,136896,22363,150053,136190,135848,136134,136374,34051,145062,34051,33877,149908,160101,146993,152924,147195,159826,17652,145134,170397,159526,26617,14131,15381,15847,22636,137506,26640,16471,145215,147681,147595,147727,158753,21707,22174,157361,22162,135135,134056,134669,37830,166675,37788,20216,20779,14361,148534,20156,132197,131967,20299,20362,153169,23144,131499,132043,14745,131850,132116,13365,20265,131776,167603,131701,35546,131596,20120,20685,20749,20386,20227,150030,147082,20290,20526,20588,20609,20428,20453,20568,20732,20825,20827,20829,20830,28278,144789,147001,147135,28018,137348,147081,20904,20931,132576,17629,132259,132242,132241,36218,166556,132878,21081,21156,133235,21217,37742,18042,29068,148364,134176,149932,135396,27089,134685,29817,16094,29849,29716,29782,29592,19342,150204,147597,21456,13700,29199,147657,21940,131909,21709,134086,22301,37469,38644,37734,22493,22413,22399,13886,22731,23193,166470,136954,137071,136976,23084,22968,37519,23166,23247,23058,153926,137715,137313,148117,14069,27909,29763,23073,155267,23169,166871,132115,37856,29836,135939,28933,18802,37896,166395,37821,14240,23582,23710,24158,24136,137622,137596,146158,24269,23375,137475,137476,14081,137376,14045,136958,14035,33066,166471,138682,144498,166312,24332,24334,137511,137131,23147,137019,23364,34324,161277,34912,24702,141408,140843,24539,16056,140719,140734,168072,159603,25024,131134,131142,140827,24985,24984,24693,142491,142599,149204,168269,25713,149093,142186,14889,142114,144464,170218,142968,25399,173147,25782,25393,25553,149987,142695,25252,142497,25659,25963,26994,15348,143502,144045,149897,144043,21773,144096,137433,169023,26318,144009,143795,15072,16784,152964,166690,152975,136956,152923,152613,30958,143619,137258,143924,13412,143887,143746,148169,26254,159012,26219,19347,26160,161904,138731,26211,144082,144097,26142,153714,14545,145466,145340,15257,145314,144382,29904,15254,26511,149034,26806,26654,15300,27326,14435,145365,148615,27187,27218,27337,27397,137490,25873,26776,27212,15319,27258,27479,147392,146586,37792,37618,166890,166603,37513,163870,166364,37991,28069,28427,149996,28007,147327,15759,28164,147516,23101,28170,22599,27940,30786,28987,148250,148086,28913,29264,29319,29332,149391,149285,20857,150180,132587,29818,147192,144991,150090,149783,155617,16134,16049,150239,166947,147253,24743,16115,29900,29756,37767,29751,17567,159210,17745,30083,16227,150745,150790,16216,30037,30323,173510,15129,29800,166604,149931,149902,15099,15821,150094,16127,149957,149747,37370,22322,37698,166627,137316,20703,152097,152039,30584,143922,30478,30479,30587,149143,145281,14942,149744,29752,29851,16063,150202,150215,16584,150166,156078,37639,152961,30750,30861,30856,30930,29648,31065,161601,153315,16654,31131,33942,31141,27181,147194,31290,31220,16750,136934,16690,37429,31217,134476,149900,131737,146874,137070,13719,21867,13680,13994,131540,134157,31458,23129,141045,154287,154268,23053,131675,30960,23082,154566,31486,16889,31837,31853,16913,154547,155324,155302,31949,150009,137136,31886,31868,31918,27314,32220,32263,32211,32590,156257,155996,162632,32151,155266,17002,158581,133398,26582,131150,144847,22468,156690,156664,149858,32733,31527,133164,154345,154947,31500,155150,39398,34373,39523,27164,144447,14818,150007,157101,39455,157088,33920,160039,158929,17642,33079,17410,32966,33033,33090,157620,39107,158274,33378,33381,158289,33875,159143,34320,160283,23174,16767,137280,23339,137377,23268,137432,34464,195004,146831,34861,160802,23042,34926,20293,34951,35007,35046,35173,35149,153219,35156,161669,161668,166901,166873,166812,166393,16045,33955,18165,18127,14322,35389,35356,169032,24397,37419,148100,26068,28969,28868,137285,40301,35999,36073,163292,22938,30659,23024,17262,14036,36394,36519,150537,36656,36682,17140,27736,28603,140065,18587,28537,28299,137178,39913,14005,149807,37051,37015,21873,18694,37307,37892,166475,16482,166652,37927,166941,166971,34021,35371,38297,38311,38295,38294,167220,29765,16066,149759,150082,148458,16103,143909,38543,167655,167526,167525,16076,149997,150136,147438,29714,29803,16124,38721,168112,26695,18973,168083,153567,38749,37736,166281,166950,166703,156606,37562,23313,35689,18748,29689,147995,38811,38769,39224,134950,24001,166853,150194,38943,169178,37622,169431,37349,17600,166736,150119,166756,39132,166469,16128,37418,18725,33812,39227,39245,162566,15869,39323,19311,39338,39516,166757,153800,27279,39457,23294,39471,170225,19344,170312,39356,19389,19351,37757,22642,135938,22562,149944,136424,30788,141087,146872,26821,15741,37976,14631,24912,141185,141675,24839,40015,40019,40059,39989,39952,39807,39887,171565,39839,172533,172286,40225,19630,147716,40472,19632,40204,172468,172269,172275,170287,40357,33981,159250,159711,158594,34300,17715,159140,159364,159216,33824,34286,159232,145367,155748,31202,144796,144960,18733,149982,15714,37851,37566,37704,131775,30905,37495,37965,20452,13376,36964,152925,30781,30804,30902,30795,137047,143817,149825,13978,20338,28634,28633,28702,28702,21524,147893,22459,22771,22410,40214,22487,28980,13487,147884,29163,158784,151447,23336,137141,166473,24844,23246,23051,17084,148616,14124,19323,166396,37819,37816,137430,134941,33906,158912,136211,148218,142374,148417,22932,146871,157505,32168,155995,155812,149945,149899,166394,37605,29666,16105,29876,166755,137375,16097,150195,27352,29683,29691,16086,150078,150164,137177,150118,132007,136228,149989,29768,149782,28837,149878,37508,29670,37727,132350,37681,166606,166422,37766,166887,153045,18741,166530,29035,149827,134399,22180,132634,134123,134328,21762,31172,137210,32254,136898,150096,137298,17710,37889,14090,166592,149933,22960,137407,137347,160900,23201,14050,146779,14e3,37471,23161,166529,137314,37748,15565,133812,19094,14730,20724,15721,15692,136092,29045,17147,164376,28175,168164,17643,27991,163407,28775,27823,15574,147437,146989,28162,28428,15727,132085,30033,14012,13512,18048,16090,18545,22980,37486,18750,36673,166940,158656,22546,22472,14038,136274,28926,148322,150129,143331,135856,140221,26809,26983,136088,144613,162804,145119,166531,145366,144378,150687,27162,145069,158903,33854,17631,17614,159014,159057,158850,159710,28439,160009,33597,137018,33773,158848,159827,137179,22921,23170,137139,23137,23153,137477,147964,14125,23023,137020,14023,29070,37776,26266,148133,23150,23083,148115,27179,147193,161590,148571,148170,28957,148057,166369,20400,159016,23746,148686,163405,148413,27148,148054,135940,28838,28979,148457,15781,27871,194597,150095,32357,23019,23855,15859,24412,150109,137183,32164,33830,21637,146170,144128,131604,22398,133333,132633,16357,139166,172726,28675,168283,23920,29583,31955,166489,168992,20424,32743,29389,29456,162548,29496,29497,153334,29505,29512,16041,162584,36972,29173,149746,29665,33270,16074,30476,16081,27810,22269,29721,29726,29727,16098,16112,16116,16122,29907,16142,16211,30018,30061,30066,30093,16252,30152,30172,16320,30285,16343,30324,16348,30330,151388,29064,22051,35200,22633,16413,30531,16441,26465,16453,13787,30616,16490,16495,23646,30654,30667,22770,30744,28857,30748,16552,30777,30791,30801,30822,33864,152885,31027,26627,31026,16643,16649,31121,31129,36795,31238,36796,16743,31377,16818,31420,33401,16836,31439,31451,16847,20001,31586,31596,31611,31762,31771,16992,17018,31867,31900,17036,31928,17044,31981,36755,28864,134351,32207,32212,32208,32253,32686,32692,29343,17303,32800,32805,31545,32814,32817,32852,15820,22452,28832,32951,33001,17389,33036,29482,33038,33042,30048,33044,17409,15161,33110,33113,33114,17427,22586,33148,33156,17445,33171,17453,33189,22511,33217,33252,33364,17551,33446,33398,33482,33496,33535,17584,33623,38505,27018,33797,28917,33892,24803,33928,17668,33982,34017,34040,34064,34104,34130,17723,34159,34160,34272,17783,34418,34450,34482,34543,38469,34699,17926,17943,34990,35071,35108,35143,35217,162151,35369,35384,35476,35508,35921,36052,36082,36124,18328,22623,36291,18413,20206,36410,21976,22356,36465,22005,36528,18487,36558,36578,36580,36589,36594,36791,36801,36810,36812,36915,39364,18605,39136,37395,18718,37416,37464,37483,37553,37550,37567,37603,37611,37619,37620,37629,37699,37764,37805,18757,18769,40639,37911,21249,37917,37933,37950,18794,37972,38009,38189,38306,18855,38388,38451,18917,26528,18980,38720,18997,38834,38850,22100,19172,24808,39097,19225,39153,22596,39182,39193,20916,39196,39223,39234,39261,39266,19312,39365,19357,39484,39695,31363,39785,39809,39901,39921,39924,19565,39968,14191,138178,40265,39994,40702,22096,40339,40381,40384,40444,38134,36790,40571,40620,40625,40637,40646,38108,40674,40689,40696,31432,40772,131220,131767,132e3,26906,38083,22956,132311,22592,38081,14265,132565,132629,132726,136890,22359,29043,133826,133837,134079,21610,194619,134091,21662,134139,134203,134227,134245,134268,24807,134285,22138,134325,134365,134381,134511,134578,134600,26965,39983,34725,134660,134670,134871,135056,134957,134771,23584,135100,24075,135260,135247,135286,26398,135291,135304,135318,13895,135359,135379,135471,135483,21348,33965,135907,136053,135990,35713,136567,136729,137155,137159,20088,28859,137261,137578,137773,137797,138282,138352,138412,138952,25283,138965,139029,29080,26709,139333,27113,14024,139900,140247,140282,141098,141425,141647,33533,141671,141715,142037,35237,142056,36768,142094,38840,142143,38983,39613,142412,null,142472,142519,154600,142600,142610,142775,142741,142914,143220,143308,143411,143462,144159,144350,24497,26184,26303,162425,144743,144883,29185,149946,30679,144922,145174,32391,131910,22709,26382,26904,146087,161367,155618,146961,147129,161278,139418,18640,19128,147737,166554,148206,148237,147515,148276,148374,150085,132554,20946,132625,22943,138920,15294,146687,148484,148694,22408,149108,14747,149295,165352,170441,14178,139715,35678,166734,39382,149522,149755,150037,29193,150208,134264,22885,151205,151430,132985,36570,151596,21135,22335,29041,152217,152601,147274,150183,21948,152646,152686,158546,37332,13427,152895,161330,152926,18200,152930,152934,153543,149823,153693,20582,13563,144332,24798,153859,18300,166216,154286,154505,154630,138640,22433,29009,28598,155906,162834,36950,156082,151450,35682,156674,156746,23899,158711,36662,156804,137500,35562,150006,156808,147439,156946,19392,157119,157365,141083,37989,153569,24981,23079,194765,20411,22201,148769,157436,20074,149812,38486,28047,158909,13848,35191,157593,157806,156689,157790,29151,157895,31554,168128,133649,157990,37124,158009,31301,40432,158202,39462,158253,13919,156777,131105,31107,158260,158555,23852,144665,33743,158621,18128,158884,30011,34917,159150,22710,14108,140685,159819,160205,15444,160384,160389,37505,139642,160395,37680,160486,149968,27705,38047,160848,134904,34855,35061,141606,164979,137137,28344,150058,137248,14756,14009,23568,31203,17727,26294,171181,170148,35139,161740,161880,22230,16607,136714,14753,145199,164072,136133,29101,33638,162269,168360,23143,19639,159919,166315,162301,162314,162571,163174,147834,31555,31102,163849,28597,172767,27139,164632,21410,159239,37823,26678,38749,164207,163875,158133,136173,143919,163912,23941,166960,163971,22293,38947,166217,23979,149896,26046,27093,21458,150181,147329,15377,26422,163984,164084,164142,139169,164175,164233,164271,164378,164614,164655,164746,13770,164968,165546,18682,25574,166230,30728,37461,166328,17394,166375,17375,166376,166726,166868,23032,166921,36619,167877,168172,31569,168208,168252,15863,168286,150218,36816,29327,22155,169191,169449,169392,169400,169778,170193,170313,170346,170435,170536,170766,171354,171419,32415,171768,171811,19620,38215,172691,29090,172799,19857,36882,173515,19868,134300,36798,21953,36794,140464,36793,150163,17673,32383,28502,27313,20202,13540,166700,161949,14138,36480,137205,163876,166764,166809,162366,157359,15851,161365,146615,153141,153942,20122,155265,156248,22207,134765,36366,23405,147080,150686,25566,25296,137206,137339,25904,22061,154698,21530,152337,15814,171416,19581,22050,22046,32585,155352,22901,146752,34672,19996,135146,134473,145082,33047,40286,36120,30267,40005,30286,30649,37701,21554,33096,33527,22053,33074,33816,32957,21994,31074,22083,21526,134813,13774,22021,22001,26353,164578,13869,30004,22e3,21946,21655,21874,134209,134294,24272,151880,134774,142434,134818,40619,32090,21982,135285,25245,38765,21652,36045,29174,37238,25596,25529,25598,21865,142147,40050,143027,20890,13535,134567,20903,21581,21790,21779,30310,36397,157834,30129,32950,34820,34694,35015,33206,33820,135361,17644,29444,149254,23440,33547,157843,22139,141044,163119,147875,163187,159440,160438,37232,135641,37384,146684,173737,134828,134905,29286,138402,18254,151490,163833,135147,16634,40029,25887,142752,18675,149472,171388,135148,134666,24674,161187,135149,null,155720,135559,29091,32398,40272,19994,19972,13687,23309,27826,21351,13996,14812,21373,13989,149016,22682,150382,33325,21579,22442,154261,133497,null,14930,140389,29556,171692,19721,39917,146686,171824,19547,151465,169374,171998,33884,146870,160434,157619,145184,25390,32037,147191,146988,14890,36872,21196,15988,13946,17897,132238,30272,23280,134838,30842,163630,22695,16575,22140,39819,23924,30292,173108,40581,19681,30201,14331,24857,143578,148466,null,22109,135849,22439,149859,171526,21044,159918,13741,27722,40316,31830,39737,22494,137068,23635,25811,169168,156469,160100,34477,134440,159010,150242,134513,null,20990,139023,23950,38659,138705,40577,36940,31519,39682,23761,31651,25192,25397,39679,31695,39722,31870,39726,31810,31878,39957,31740,39689,40727,39963,149822,40794,21875,23491,20477,40600,20466,21088,15878,21201,22375,20566,22967,24082,38856,40363,36700,21609,38836,39232,38842,21292,24880,26924,21466,39946,40194,19515,38465,27008,20646,30022,137069,39386,21107,null,37209,38529,37212,null,37201,167575,25471,159011,27338,22033,37262,30074,25221,132092,29519,31856,154657,146685,null,149785,30422,39837,20010,134356,33726,34882,null,23626,27072,20717,22394,21023,24053,20174,27697,131570,20281,21660,21722,21146,36226,13822,24332,13811,null,27474,37244,40869,39831,38958,39092,39610,40616,40580,29050,31508,null,27642,34840,32632,null,22048,173642,36471,40787,null,36308,36431,40476,36353,25218,164733,36392,36469,31443,150135,31294,30936,27882,35431,30215,166490,40742,27854,34774,30147,172722,30803,194624,36108,29410,29553,35629,29442,29937,36075,150203,34351,24506,34976,17591,null,137275,159237,null,35454,140571,null,24829,30311,39639,40260,37742,39823,34805,null,34831,36087,29484,38689,39856,13782,29362,19463,31825,39242,155993,24921,19460,40598,24957,null,22367,24943,25254,25145,25294,14940,25058,21418,144373,25444,26626,13778,23895,166850,36826,167481,null,20697,138566,30982,21298,38456,134971,16485,null,30718,null,31938,155418,31962,31277,32870,32867,32077,29957,29938,35220,33306,26380,32866,160902,32859,29936,33027,30500,35209,157644,30035,159441,34729,34766,33224,34700,35401,36013,35651,30507,29944,34010,13877,27058,36262,null,35241,29800,28089,34753,147473,29927,15835,29046,24740,24988,15569,29026,24695,null,32625,166701,29264,24809,19326,21024,15384,146631,155351,161366,152881,137540,135934,170243,159196,159917,23745,156077,166415,145015,131310,157766,151310,17762,23327,156492,40784,40614,156267,12288,65292,12289,12290,65294,8231,65307,65306,65311,65281,65072,8230,8229,65104,65105,65106,183,65108,65109,65110,65111,65372,8211,65073,8212,65075,9588,65076,65103,65288,65289,65077,65078,65371,65373,65079,65080,12308,12309,65081,65082,12304,12305,65083,65084,12298,12299,65085,65086,12296,12297,65087,65088,12300,12301,65089,65090,12302,12303,65091,65092,65113,65114,65115,65116,65117,65118,8216,8217,8220,8221,12317,12318,8245,8242,65283,65286,65290,8251,167,12291,9675,9679,9651,9650,9678,9734,9733,9671,9670,9633,9632,9661,9660,12963,8453,175,65507,65343,717,65097,65098,65101,65102,65099,65100,65119,65120,65121,65291,65293,215,247,177,8730,65308,65310,65309,8806,8807,8800,8734,8786,8801,65122,65123,65124,65125,65126,65374,8745,8746,8869,8736,8735,8895,13266,13265,8747,8750,8757,8756,9792,9794,8853,8857,8593,8595,8592,8594,8598,8599,8601,8600,8741,8739,65295,65340,8725,65128,65284,65509,12306,65504,65505,65285,65312,8451,8457,65129,65130,65131,13269,13212,13213,13214,13262,13217,13198,13199,13252,176,20825,20827,20830,20829,20833,20835,21991,29929,31950,9601,9602,9603,9604,9605,9606,9607,9608,9615,9614,9613,9612,9611,9610,9609,9532,9524,9516,9508,9500,9620,9472,9474,9621,9484,9488,9492,9496,9581,9582,9584,9583,9552,9566,9578,9569,9698,9699,9701,9700,9585,9586,9587,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,12321,12322,12323,12324,12325,12326,12327,12328,12329,21313,21316,21317,65313,65314,65315,65316,65317,65318,65319,65320,65321,65322,65323,65324,65325,65326,65327,65328,65329,65330,65331,65332,65333,65334,65335,65336,65337,65338,65345,65346,65347,65348,65349,65350,65351,65352,65353,65354,65355,65356,65357,65358,65359,65360,65361,65362,65363,65364,65365,65366,65367,65368,65369,65370,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,12549,12550,12551,12552,12553,12554,12555,12556,12557,12558,12559,12560,12561,12562,12563,12564,12565,12566,12567,12568,12569,12570,12571,12572,12573,12574,12575,12576,12577,12578,12579,12580,12581,12582,12583,12584,12585,729,713,714,711,715,9216,9217,9218,9219,9220,9221,9222,9223,9224,9225,9226,9227,9228,9229,9230,9231,9232,9233,9234,9235,9236,9237,9238,9239,9240,9241,9242,9243,9244,9245,9246,9247,9249,8364,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,19968,20057,19969,19971,20035,20061,20102,20108,20154,20799,20837,20843,20960,20992,20993,21147,21269,21313,21340,21448,19977,19979,19976,19978,20011,20024,20961,20037,20040,20063,20062,20110,20129,20800,20995,21242,21315,21449,21475,22303,22763,22805,22823,22899,23376,23377,23379,23544,23567,23586,23608,23665,24029,24037,24049,24050,24051,24062,24178,24318,24331,24339,25165,19985,19984,19981,20013,20016,20025,20043,23609,20104,20113,20117,20114,20116,20130,20161,20160,20163,20166,20167,20173,20170,20171,20164,20803,20801,20839,20845,20846,20844,20887,20982,20998,20999,21e3,21243,21246,21247,21270,21305,21320,21319,21317,21342,21380,21451,21450,21453,22764,22825,22827,22826,22829,23380,23569,23588,23610,23663,24052,24187,24319,24340,24341,24515,25096,25142,25163,25166,25903,25991,26007,26020,26041,26085,26352,26376,26408,27424,27490,27513,27595,27604,27611,27663,27700,28779,29226,29238,29243,29255,29273,29275,29356,29579,19993,19990,19989,19988,19992,20027,20045,20047,20046,20197,20184,20180,20181,20182,20183,20195,20196,20185,20190,20805,20804,20873,20874,20908,20985,20986,20984,21002,21152,21151,21253,21254,21271,21277,20191,21322,21321,21345,21344,21359,21358,21435,21487,21476,21491,21484,21486,21481,21480,21500,21496,21493,21483,21478,21482,21490,21489,21488,21477,21485,21499,22235,22234,22806,22830,22833,22900,22902,23381,23427,23612,24040,24039,24038,24066,24067,24179,24188,24321,24344,24343,24517,25098,25171,25172,25170,25169,26021,26086,26414,26412,26410,26411,26413,27491,27597,27665,27664,27704,27713,27712,27710,29359,29572,29577,29916,29926,29976,29983,29992,29993,3e4,30001,30002,30003,30091,30333,30382,30399,30446,30683,30690,30707,31034,31166,31348,31435,19998,19999,20050,20051,20073,20121,20132,20134,20133,20223,20233,20249,20234,20245,20237,20240,20241,20239,20210,20214,20219,20208,20211,20221,20225,20235,20809,20807,20806,20808,20840,20849,20877,20912,21015,21009,21010,21006,21014,21155,21256,21281,21280,21360,21361,21513,21519,21516,21514,21520,21505,21515,21508,21521,21517,21512,21507,21518,21510,21522,22240,22238,22237,22323,22320,22312,22317,22316,22319,22313,22809,22810,22839,22840,22916,22904,22915,22909,22905,22914,22913,23383,23384,23431,23432,23429,23433,23546,23574,23673,24030,24070,24182,24180,24335,24347,24537,24534,25102,25100,25101,25104,25187,25179,25176,25910,26089,26088,26092,26093,26354,26355,26377,26429,26420,26417,26421,27425,27492,27515,27670,27741,27735,27737,27743,27744,27728,27733,27745,27739,27725,27726,28784,29279,29277,30334,31481,31859,31992,32566,32650,32701,32769,32771,32780,32786,32819,32895,32905,32907,32908,33251,33258,33267,33276,33292,33307,33311,33390,33394,33406,34411,34880,34892,34915,35199,38433,20018,20136,20301,20303,20295,20311,20318,20276,20315,20309,20272,20304,20305,20285,20282,20280,20291,20308,20284,20294,20323,20316,20320,20271,20302,20278,20313,20317,20296,20314,20812,20811,20813,20853,20918,20919,21029,21028,21033,21034,21032,21163,21161,21162,21164,21283,21363,21365,21533,21549,21534,21566,21542,21582,21543,21574,21571,21555,21576,21570,21531,21545,21578,21561,21563,21560,21550,21557,21558,21536,21564,21568,21553,21547,21535,21548,22250,22256,22244,22251,22346,22353,22336,22349,22343,22350,22334,22352,22351,22331,22767,22846,22941,22930,22952,22942,22947,22937,22934,22925,22948,22931,22922,22949,23389,23388,23386,23387,23436,23435,23439,23596,23616,23617,23615,23614,23696,23697,23700,23692,24043,24076,24207,24199,24202,24311,24324,24351,24420,24418,24439,24441,24536,24524,24535,24525,24561,24555,24568,24554,25106,25105,25220,25239,25238,25216,25206,25225,25197,25226,25212,25214,25209,25203,25234,25199,25240,25198,25237,25235,25233,25222,25913,25915,25912,26097,26356,26463,26446,26447,26448,26449,26460,26454,26462,26441,26438,26464,26451,26455,27493,27599,27714,27742,27801,27777,27784,27785,27781,27803,27754,27770,27792,27760,27788,27752,27798,27794,27773,27779,27762,27774,27764,27782,27766,27789,27796,27800,27778,28790,28796,28797,28792,29282,29281,29280,29380,29378,29590,29996,29995,30007,30008,30338,30447,30691,31169,31168,31167,31350,31995,32597,32918,32915,32925,32920,32923,32922,32946,33391,33426,33419,33421,35211,35282,35328,35895,35910,35925,35997,36196,36208,36275,36523,36554,36763,36784,36802,36806,36805,36804,24033,37009,37026,37034,37030,37027,37193,37318,37324,38450,38446,38449,38442,38444,20006,20054,20083,20107,20123,20126,20139,20140,20335,20381,20365,20339,20351,20332,20379,20363,20358,20355,20336,20341,20360,20329,20347,20374,20350,20367,20369,20346,20820,20818,20821,20841,20855,20854,20856,20925,20989,21051,21048,21047,21050,21040,21038,21046,21057,21182,21179,21330,21332,21331,21329,21350,21367,21368,21369,21462,21460,21463,21619,21621,21654,21624,21653,21632,21627,21623,21636,21650,21638,21628,21648,21617,21622,21644,21658,21602,21608,21643,21629,21646,22266,22403,22391,22378,22377,22369,22374,22372,22396,22812,22857,22855,22856,22852,22868,22974,22971,22996,22969,22958,22993,22982,22992,22989,22987,22995,22986,22959,22963,22994,22981,23391,23396,23395,23447,23450,23448,23452,23449,23451,23578,23624,23621,23622,23735,23713,23736,23721,23723,23729,23731,24088,24090,24086,24085,24091,24081,24184,24218,24215,24220,24213,24214,24310,24358,24359,24361,24448,24449,24447,24444,24541,24544,24573,24565,24575,24591,24596,24623,24629,24598,24618,24597,24609,24615,24617,24619,24603,25110,25109,25151,25150,25152,25215,25289,25292,25284,25279,25282,25273,25298,25307,25259,25299,25300,25291,25288,25256,25277,25276,25296,25305,25287,25293,25269,25306,25265,25304,25302,25303,25286,25260,25294,25918,26023,26044,26106,26132,26131,26124,26118,26114,26126,26112,26127,26133,26122,26119,26381,26379,26477,26507,26517,26481,26524,26483,26487,26503,26525,26519,26479,26480,26495,26505,26494,26512,26485,26522,26515,26492,26474,26482,27427,27494,27495,27519,27667,27675,27875,27880,27891,27825,27852,27877,27827,27837,27838,27836,27874,27819,27861,27859,27832,27844,27833,27841,27822,27863,27845,27889,27839,27835,27873,27867,27850,27820,27887,27868,27862,27872,28821,28814,28818,28810,28825,29228,29229,29240,29256,29287,29289,29376,29390,29401,29399,29392,29609,29608,29599,29611,29605,30013,30109,30105,30106,30340,30402,30450,30452,30693,30717,31038,31040,31041,31177,31176,31354,31353,31482,31998,32596,32652,32651,32773,32954,32933,32930,32945,32929,32939,32937,32948,32938,32943,33253,33278,33293,33459,33437,33433,33453,33469,33439,33465,33457,33452,33445,33455,33464,33443,33456,33470,33463,34382,34417,21021,34920,36555,36814,36820,36817,37045,37048,37041,37046,37319,37329,38263,38272,38428,38464,38463,38459,38468,38466,38585,38632,38738,38750,20127,20141,20142,20449,20405,20399,20415,20448,20433,20431,20445,20419,20406,20440,20447,20426,20439,20398,20432,20420,20418,20442,20430,20446,20407,20823,20882,20881,20896,21070,21059,21066,21069,21068,21067,21063,21191,21193,21187,21185,21261,21335,21371,21402,21467,21676,21696,21672,21710,21705,21688,21670,21683,21703,21698,21693,21674,21697,21700,21704,21679,21675,21681,21691,21673,21671,21695,22271,22402,22411,22432,22435,22434,22478,22446,22419,22869,22865,22863,22862,22864,23004,23e3,23039,23011,23016,23043,23013,23018,23002,23014,23041,23035,23401,23459,23462,23460,23458,23461,23553,23630,23631,23629,23627,23769,23762,24055,24093,24101,24095,24189,24224,24230,24314,24328,24365,24421,24456,24453,24458,24459,24455,24460,24457,24594,24605,24608,24613,24590,24616,24653,24688,24680,24674,24646,24643,24684,24683,24682,24676,25153,25308,25366,25353,25340,25325,25345,25326,25341,25351,25329,25335,25327,25324,25342,25332,25361,25346,25919,25925,26027,26045,26082,26149,26157,26144,26151,26159,26143,26152,26161,26148,26359,26623,26579,26609,26580,26576,26604,26550,26543,26613,26601,26607,26564,26577,26548,26586,26597,26552,26575,26590,26611,26544,26585,26594,26589,26578,27498,27523,27526,27573,27602,27607,27679,27849,27915,27954,27946,27969,27941,27916,27953,27934,27927,27963,27965,27966,27958,27931,27893,27961,27943,27960,27945,27950,27957,27918,27947,28843,28858,28851,28844,28847,28845,28856,28846,28836,29232,29298,29295,29300,29417,29408,29409,29623,29642,29627,29618,29645,29632,29619,29978,29997,30031,30028,30030,30027,30123,30116,30117,30114,30115,30328,30342,30343,30344,30408,30406,30403,30405,30465,30457,30456,30473,30475,30462,30460,30471,30684,30722,30740,30732,30733,31046,31049,31048,31047,31161,31162,31185,31186,31179,31359,31361,31487,31485,31869,32002,32005,32e3,32009,32007,32004,32006,32568,32654,32703,32772,32784,32781,32785,32822,32982,32997,32986,32963,32964,32972,32993,32987,32974,32990,32996,32989,33268,33314,33511,33539,33541,33507,33499,33510,33540,33509,33538,33545,33490,33495,33521,33537,33500,33492,33489,33502,33491,33503,33519,33542,34384,34425,34427,34426,34893,34923,35201,35284,35336,35330,35331,35998,36e3,36212,36211,36276,36557,36556,36848,36838,36834,36842,36837,36845,36843,36836,36840,37066,37070,37057,37059,37195,37194,37325,38274,38480,38475,38476,38477,38754,38761,38859,38893,38899,38913,39080,39131,39135,39318,39321,20056,20147,20492,20493,20515,20463,20518,20517,20472,20521,20502,20486,20540,20511,20506,20498,20497,20474,20480,20500,20520,20465,20513,20491,20505,20504,20467,20462,20525,20522,20478,20523,20489,20860,20900,20901,20898,20941,20940,20934,20939,21078,21084,21076,21083,21085,21290,21375,21407,21405,21471,21736,21776,21761,21815,21756,21733,21746,21766,21754,21780,21737,21741,21729,21769,21742,21738,21734,21799,21767,21757,21775,22275,22276,22466,22484,22475,22467,22537,22799,22871,22872,22874,23057,23064,23068,23071,23067,23059,23020,23072,23075,23081,23077,23052,23049,23403,23640,23472,23475,23478,23476,23470,23477,23481,23480,23556,23633,23637,23632,23789,23805,23803,23786,23784,23792,23798,23809,23796,24046,24109,24107,24235,24237,24231,24369,24466,24465,24464,24665,24675,24677,24656,24661,24685,24681,24687,24708,24735,24730,24717,24724,24716,24709,24726,25159,25331,25352,25343,25422,25406,25391,25429,25410,25414,25423,25417,25402,25424,25405,25386,25387,25384,25421,25420,25928,25929,26009,26049,26053,26178,26185,26191,26179,26194,26188,26181,26177,26360,26388,26389,26391,26657,26680,26696,26694,26707,26681,26690,26708,26665,26803,26647,26700,26705,26685,26612,26704,26688,26684,26691,26666,26693,26643,26648,26689,27530,27529,27575,27683,27687,27688,27686,27684,27888,28010,28053,28040,28039,28006,28024,28023,27993,28051,28012,28041,28014,27994,28020,28009,28044,28042,28025,28037,28005,28052,28874,28888,28900,28889,28872,28879,29241,29305,29436,29433,29437,29432,29431,29574,29677,29705,29678,29664,29674,29662,30036,30045,30044,30042,30041,30142,30149,30151,30130,30131,30141,30140,30137,30146,30136,30347,30384,30410,30413,30414,30505,30495,30496,30504,30697,30768,30759,30776,30749,30772,30775,30757,30765,30752,30751,30770,31061,31056,31072,31071,31062,31070,31069,31063,31066,31204,31203,31207,31199,31206,31209,31192,31364,31368,31449,31494,31505,31881,32033,32023,32011,32010,32032,32034,32020,32016,32021,32026,32028,32013,32025,32027,32570,32607,32660,32709,32705,32774,32792,32789,32793,32791,32829,32831,33009,33026,33008,33029,33005,33012,33030,33016,33011,33032,33021,33034,33020,33007,33261,33260,33280,33296,33322,33323,33320,33324,33467,33579,33618,33620,33610,33592,33616,33609,33589,33588,33615,33586,33593,33590,33559,33600,33585,33576,33603,34388,34442,34474,34451,34468,34473,34444,34467,34460,34928,34935,34945,34946,34941,34937,35352,35344,35342,35340,35349,35338,35351,35347,35350,35343,35345,35912,35962,35961,36001,36002,36215,36524,36562,36564,36559,36785,36865,36870,36855,36864,36858,36852,36867,36861,36869,36856,37013,37089,37085,37090,37202,37197,37196,37336,37341,37335,37340,37337,38275,38498,38499,38497,38491,38493,38500,38488,38494,38587,39138,39340,39592,39640,39717,39730,39740,20094,20602,20605,20572,20551,20547,20556,20570,20553,20581,20598,20558,20565,20597,20596,20599,20559,20495,20591,20589,20828,20885,20976,21098,21103,21202,21209,21208,21205,21264,21263,21273,21311,21312,21310,21443,26364,21830,21866,21862,21828,21854,21857,21827,21834,21809,21846,21839,21845,21807,21860,21816,21806,21852,21804,21859,21811,21825,21847,22280,22283,22281,22495,22533,22538,22534,22496,22500,22522,22530,22581,22519,22521,22816,22882,23094,23105,23113,23142,23146,23104,23100,23138,23130,23110,23114,23408,23495,23493,23492,23490,23487,23494,23561,23560,23559,23648,23644,23645,23815,23814,23822,23835,23830,23842,23825,23849,23828,23833,23844,23847,23831,24034,24120,24118,24115,24119,24247,24248,24246,24245,24254,24373,24375,24407,24428,24425,24427,24471,24473,24478,24472,24481,24480,24476,24703,24739,24713,24736,24744,24779,24756,24806,24765,24773,24763,24757,24796,24764,24792,24789,24774,24799,24760,24794,24775,25114,25115,25160,25504,25511,25458,25494,25506,25509,25463,25447,25496,25514,25457,25513,25481,25475,25499,25451,25512,25476,25480,25497,25505,25516,25490,25487,25472,25467,25449,25448,25466,25949,25942,25937,25945,25943,21855,25935,25944,25941,25940,26012,26011,26028,26063,26059,26060,26062,26205,26202,26212,26216,26214,26206,26361,21207,26395,26753,26799,26786,26771,26805,26751,26742,26801,26791,26775,26800,26755,26820,26797,26758,26757,26772,26781,26792,26783,26785,26754,27442,27578,27627,27628,27691,28046,28092,28147,28121,28082,28129,28108,28132,28155,28154,28165,28103,28107,28079,28113,28078,28126,28153,28088,28151,28149,28101,28114,28186,28085,28122,28139,28120,28138,28145,28142,28136,28102,28100,28074,28140,28095,28134,28921,28937,28938,28925,28911,29245,29309,29313,29468,29467,29462,29459,29465,29575,29701,29706,29699,29702,29694,29709,29920,29942,29943,29980,29986,30053,30054,30050,30064,30095,30164,30165,30133,30154,30157,30350,30420,30418,30427,30519,30526,30524,30518,30520,30522,30827,30787,30798,31077,31080,31085,31227,31378,31381,31520,31528,31515,31532,31526,31513,31518,31534,31890,31895,31893,32070,32067,32113,32046,32057,32060,32064,32048,32051,32068,32047,32066,32050,32049,32573,32670,32666,32716,32718,32722,32796,32842,32838,33071,33046,33059,33067,33065,33072,33060,33282,33333,33335,33334,33337,33678,33694,33688,33656,33698,33686,33725,33707,33682,33674,33683,33673,33696,33655,33659,33660,33670,33703,34389,24426,34503,34496,34486,34500,34485,34502,34507,34481,34479,34505,34899,34974,34952,34987,34962,34966,34957,34955,35219,35215,35370,35357,35363,35365,35377,35373,35359,35355,35362,35913,35930,36009,36012,36011,36008,36010,36007,36199,36198,36286,36282,36571,36575,36889,36877,36890,36887,36899,36895,36893,36880,36885,36894,36896,36879,36898,36886,36891,36884,37096,37101,37117,37207,37326,37365,37350,37347,37351,37357,37353,38281,38506,38517,38515,38520,38512,38516,38518,38519,38508,38592,38634,38633,31456,31455,38914,38915,39770,40165,40565,40575,40613,40635,20642,20621,20613,20633,20625,20608,20630,20632,20634,26368,20977,21106,21108,21109,21097,21214,21213,21211,21338,21413,21883,21888,21927,21884,21898,21917,21912,21890,21916,21930,21908,21895,21899,21891,21939,21934,21919,21822,21938,21914,21947,21932,21937,21886,21897,21931,21913,22285,22575,22570,22580,22564,22576,22577,22561,22557,22560,22777,22778,22880,23159,23194,23167,23186,23195,23207,23411,23409,23506,23500,23507,23504,23562,23563,23601,23884,23888,23860,23879,24061,24133,24125,24128,24131,24190,24266,24257,24258,24260,24380,24429,24489,24490,24488,24785,24801,24754,24758,24800,24860,24867,24826,24853,24816,24827,24820,24936,24817,24846,24822,24841,24832,24850,25119,25161,25507,25484,25551,25536,25577,25545,25542,25549,25554,25571,25552,25569,25558,25581,25582,25462,25588,25578,25563,25682,25562,25593,25950,25958,25954,25955,26001,26e3,26031,26222,26224,26228,26230,26223,26257,26234,26238,26231,26366,26367,26399,26397,26874,26837,26848,26840,26839,26885,26847,26869,26862,26855,26873,26834,26866,26851,26827,26829,26893,26898,26894,26825,26842,26990,26875,27454,27450,27453,27544,27542,27580,27631,27694,27695,27692,28207,28216,28244,28193,28210,28263,28234,28192,28197,28195,28187,28251,28248,28196,28246,28270,28205,28198,28271,28212,28237,28218,28204,28227,28189,28222,28363,28297,28185,28238,28259,28228,28274,28265,28255,28953,28954,28966,28976,28961,28982,29038,28956,29260,29316,29312,29494,29477,29492,29481,29754,29738,29747,29730,29733,29749,29750,29748,29743,29723,29734,29736,29989,29990,30059,30058,30178,30171,30179,30169,30168,30174,30176,30331,30332,30358,30355,30388,30428,30543,30701,30813,30828,30831,31245,31240,31243,31237,31232,31384,31383,31382,31461,31459,31561,31574,31558,31568,31570,31572,31565,31563,31567,31569,31903,31909,32094,32080,32104,32085,32043,32110,32114,32097,32102,32098,32112,32115,21892,32724,32725,32779,32850,32901,33109,33108,33099,33105,33102,33081,33094,33086,33100,33107,33140,33298,33308,33769,33795,33784,33805,33760,33733,33803,33729,33775,33777,33780,33879,33802,33776,33804,33740,33789,33778,33738,33848,33806,33796,33756,33799,33748,33759,34395,34527,34521,34541,34516,34523,34532,34512,34526,34903,35009,35010,34993,35203,35222,35387,35424,35413,35422,35388,35393,35412,35419,35408,35398,35380,35386,35382,35414,35937,35970,36015,36028,36019,36029,36033,36027,36032,36020,36023,36022,36031,36024,36234,36229,36225,36302,36317,36299,36314,36305,36300,36315,36294,36603,36600,36604,36764,36910,36917,36913,36920,36914,36918,37122,37109,37129,37118,37219,37221,37327,37396,37397,37411,37385,37406,37389,37392,37383,37393,38292,38287,38283,38289,38291,38290,38286,38538,38542,38539,38525,38533,38534,38541,38514,38532,38593,38597,38596,38598,38599,38639,38642,38860,38917,38918,38920,39143,39146,39151,39145,39154,39149,39342,39341,40643,40653,40657,20098,20653,20661,20658,20659,20677,20670,20652,20663,20667,20655,20679,21119,21111,21117,21215,21222,21220,21218,21219,21295,21983,21992,21971,21990,21966,21980,21959,21969,21987,21988,21999,21978,21985,21957,21958,21989,21961,22290,22291,22622,22609,22616,22615,22618,22612,22635,22604,22637,22602,22626,22610,22603,22887,23233,23241,23244,23230,23229,23228,23219,23234,23218,23913,23919,24140,24185,24265,24264,24338,24409,24492,24494,24858,24847,24904,24863,24819,24859,24825,24833,24840,24910,24908,24900,24909,24894,24884,24871,24845,24838,24887,25121,25122,25619,25662,25630,25642,25645,25661,25644,25615,25628,25620,25613,25654,25622,25623,25606,25964,26015,26032,26263,26249,26247,26248,26262,26244,26264,26253,26371,27028,26989,26970,26999,26976,26964,26997,26928,27010,26954,26984,26987,26974,26963,27001,27014,26973,26979,26971,27463,27506,27584,27583,27603,27645,28322,28335,28371,28342,28354,28304,28317,28359,28357,28325,28312,28348,28346,28331,28369,28310,28316,28356,28372,28330,28327,28340,29006,29017,29033,29028,29001,29031,29020,29036,29030,29004,29029,29022,28998,29032,29014,29242,29266,29495,29509,29503,29502,29807,29786,29781,29791,29790,29761,29759,29785,29787,29788,30070,30072,30208,30192,30209,30194,30193,30202,30207,30196,30195,30430,30431,30555,30571,30566,30558,30563,30585,30570,30572,30556,30565,30568,30562,30702,30862,30896,30871,30872,30860,30857,30844,30865,30867,30847,31098,31103,31105,33836,31165,31260,31258,31264,31252,31263,31262,31391,31392,31607,31680,31584,31598,31591,31921,31923,31925,32147,32121,32145,32129,32143,32091,32622,32617,32618,32626,32681,32680,32676,32854,32856,32902,32900,33137,33136,33144,33125,33134,33139,33131,33145,33146,33126,33285,33351,33922,33911,33853,33841,33909,33894,33899,33865,33900,33883,33852,33845,33889,33891,33897,33901,33862,34398,34396,34399,34553,34579,34568,34567,34560,34558,34555,34562,34563,34566,34570,34905,35039,35028,35033,35036,35032,35037,35041,35018,35029,35026,35228,35299,35435,35442,35443,35430,35433,35440,35463,35452,35427,35488,35441,35461,35437,35426,35438,35436,35449,35451,35390,35432,35938,35978,35977,36042,36039,36040,36036,36018,36035,36034,36037,36321,36319,36328,36335,36339,36346,36330,36324,36326,36530,36611,36617,36606,36618,36767,36786,36939,36938,36947,36930,36948,36924,36949,36944,36935,36943,36942,36941,36945,36926,36929,37138,37143,37228,37226,37225,37321,37431,37463,37432,37437,37440,37438,37467,37451,37476,37457,37428,37449,37453,37445,37433,37439,37466,38296,38552,38548,38549,38605,38603,38601,38602,38647,38651,38649,38646,38742,38772,38774,38928,38929,38931,38922,38930,38924,39164,39156,39165,39166,39347,39345,39348,39649,40169,40578,40718,40723,40736,20711,20718,20709,20694,20717,20698,20693,20687,20689,20721,20686,20713,20834,20979,21123,21122,21297,21421,22014,22016,22043,22039,22013,22036,22022,22025,22029,22030,22007,22038,22047,22024,22032,22006,22296,22294,22645,22654,22659,22675,22666,22649,22661,22653,22781,22821,22818,22820,22890,22889,23265,23270,23273,23255,23254,23256,23267,23413,23518,23527,23521,23525,23526,23528,23522,23524,23519,23565,23650,23940,23943,24155,24163,24149,24151,24148,24275,24278,24330,24390,24432,24505,24903,24895,24907,24951,24930,24931,24927,24922,24920,24949,25130,25735,25688,25684,25764,25720,25695,25722,25681,25703,25652,25709,25723,25970,26017,26071,26070,26274,26280,26269,27036,27048,27029,27073,27054,27091,27083,27035,27063,27067,27051,27060,27088,27085,27053,27084,27046,27075,27043,27465,27468,27699,28467,28436,28414,28435,28404,28457,28478,28448,28460,28431,28418,28450,28415,28399,28422,28465,28472,28466,28451,28437,28459,28463,28552,28458,28396,28417,28402,28364,28407,29076,29081,29053,29066,29060,29074,29246,29330,29334,29508,29520,29796,29795,29802,29808,29805,29956,30097,30247,30221,30219,30217,30227,30433,30435,30596,30589,30591,30561,30913,30879,30887,30899,30889,30883,31118,31119,31117,31278,31281,31402,31401,31469,31471,31649,31637,31627,31605,31639,31645,31636,31631,31672,31623,31620,31929,31933,31934,32187,32176,32156,32189,32190,32160,32202,32180,32178,32177,32186,32162,32191,32181,32184,32173,32210,32199,32172,32624,32736,32737,32735,32862,32858,32903,33104,33152,33167,33160,33162,33151,33154,33255,33274,33287,33300,33310,33355,33993,33983,33990,33988,33945,33950,33970,33948,33995,33976,33984,34003,33936,33980,34001,33994,34623,34588,34619,34594,34597,34612,34584,34645,34615,34601,35059,35074,35060,35065,35064,35069,35048,35098,35055,35494,35468,35486,35491,35469,35489,35475,35492,35498,35493,35496,35480,35473,35482,35495,35946,35981,35980,36051,36049,36050,36203,36249,36245,36348,36628,36626,36629,36627,36771,36960,36952,36956,36963,36953,36958,36962,36957,36955,37145,37144,37150,37237,37240,37239,37236,37496,37504,37509,37528,37526,37499,37523,37532,37544,37500,37521,38305,38312,38313,38307,38309,38308,38553,38556,38555,38604,38610,38656,38780,38789,38902,38935,38936,39087,39089,39171,39173,39180,39177,39361,39599,39600,39654,39745,39746,40180,40182,40179,40636,40763,40778,20740,20736,20731,20725,20729,20738,20744,20745,20741,20956,21127,21128,21129,21133,21130,21232,21426,22062,22075,22073,22066,22079,22068,22057,22099,22094,22103,22132,22070,22063,22064,22656,22687,22686,22707,22684,22702,22697,22694,22893,23305,23291,23307,23285,23308,23304,23534,23532,23529,23531,23652,23653,23965,23956,24162,24159,24161,24290,24282,24287,24285,24291,24288,24392,24433,24503,24501,24950,24935,24942,24925,24917,24962,24956,24944,24939,24958,24999,24976,25003,24974,25004,24986,24996,24980,25006,25134,25705,25711,25721,25758,25778,25736,25744,25776,25765,25747,25749,25769,25746,25774,25773,25771,25754,25772,25753,25762,25779,25973,25975,25976,26286,26283,26292,26289,27171,27167,27112,27137,27166,27161,27133,27169,27155,27146,27123,27138,27141,27117,27153,27472,27470,27556,27589,27590,28479,28540,28548,28497,28518,28500,28550,28525,28507,28536,28526,28558,28538,28528,28516,28567,28504,28373,28527,28512,28511,29087,29100,29105,29096,29270,29339,29518,29527,29801,29835,29827,29822,29824,30079,30240,30249,30239,30244,30246,30241,30242,30362,30394,30436,30606,30599,30604,30609,30603,30923,30917,30906,30922,30910,30933,30908,30928,31295,31292,31296,31293,31287,31291,31407,31406,31661,31665,31684,31668,31686,31687,31681,31648,31692,31946,32224,32244,32239,32251,32216,32236,32221,32232,32227,32218,32222,32233,32158,32217,32242,32249,32629,32631,32687,32745,32806,33179,33180,33181,33184,33178,33176,34071,34109,34074,34030,34092,34093,34067,34065,34083,34081,34068,34028,34085,34047,34054,34690,34676,34678,34656,34662,34680,34664,34649,34647,34636,34643,34907,34909,35088,35079,35090,35091,35093,35082,35516,35538,35527,35524,35477,35531,35576,35506,35529,35522,35519,35504,35542,35533,35510,35513,35547,35916,35918,35948,36064,36062,36070,36068,36076,36077,36066,36067,36060,36074,36065,36205,36255,36259,36395,36368,36381,36386,36367,36393,36383,36385,36382,36538,36637,36635,36639,36649,36646,36650,36636,36638,36645,36969,36974,36968,36973,36983,37168,37165,37159,37169,37255,37257,37259,37251,37573,37563,37559,37610,37548,37604,37569,37555,37564,37586,37575,37616,37554,38317,38321,38660,38662,38663,38665,38752,38797,38795,38799,38945,38955,38940,39091,39178,39187,39186,39192,39389,39376,39391,39387,39377,39381,39378,39385,39607,39662,39663,39719,39749,39748,39799,39791,40198,40201,40195,40617,40638,40654,22696,40786,20754,20760,20756,20752,20757,20864,20906,20957,21137,21139,21235,22105,22123,22137,22121,22116,22136,22122,22120,22117,22129,22127,22124,22114,22134,22721,22718,22727,22725,22894,23325,23348,23416,23536,23566,24394,25010,24977,25001,24970,25037,25014,25022,25034,25032,25136,25797,25793,25803,25787,25788,25818,25796,25799,25794,25805,25791,25810,25812,25790,25972,26310,26313,26297,26308,26311,26296,27197,27192,27194,27225,27243,27224,27193,27204,27234,27233,27211,27207,27189,27231,27208,27481,27511,27653,28610,28593,28577,28611,28580,28609,28583,28595,28608,28601,28598,28582,28576,28596,29118,29129,29136,29138,29128,29141,29113,29134,29145,29148,29123,29124,29544,29852,29859,29848,29855,29854,29922,29964,29965,30260,30264,30266,30439,30437,30624,30622,30623,30629,30952,30938,30956,30951,31142,31309,31310,31302,31308,31307,31418,31705,31761,31689,31716,31707,31713,31721,31718,31957,31958,32266,32273,32264,32283,32291,32286,32285,32265,32272,32633,32690,32752,32753,32750,32808,33203,33193,33192,33275,33288,33368,33369,34122,34137,34120,34152,34153,34115,34121,34157,34154,34142,34691,34719,34718,34722,34701,34913,35114,35122,35109,35115,35105,35242,35238,35558,35578,35563,35569,35584,35548,35559,35566,35582,35585,35586,35575,35565,35571,35574,35580,35947,35949,35987,36084,36420,36401,36404,36418,36409,36405,36667,36655,36664,36659,36776,36774,36981,36980,36984,36978,36988,36986,37172,37266,37664,37686,37624,37683,37679,37666,37628,37675,37636,37658,37648,37670,37665,37653,37678,37657,38331,38567,38568,38570,38613,38670,38673,38678,38669,38675,38671,38747,38748,38758,38808,38960,38968,38971,38967,38957,38969,38948,39184,39208,39198,39195,39201,39194,39405,39394,39409,39608,39612,39675,39661,39720,39825,40213,40227,40230,40232,40210,40219,40664,40660,40845,40860,20778,20767,20769,20786,21237,22158,22144,22160,22149,22151,22159,22741,22739,22737,22734,23344,23338,23332,23418,23607,23656,23996,23994,23997,23992,24171,24396,24509,25033,25026,25031,25062,25035,25138,25140,25806,25802,25816,25824,25840,25830,25836,25841,25826,25837,25986,25987,26329,26326,27264,27284,27268,27298,27292,27355,27299,27262,27287,27280,27296,27484,27566,27610,27656,28632,28657,28639,28640,28635,28644,28651,28655,28544,28652,28641,28649,28629,28654,28656,29159,29151,29166,29158,29157,29165,29164,29172,29152,29237,29254,29552,29554,29865,29872,29862,29864,30278,30274,30284,30442,30643,30634,30640,30636,30631,30637,30703,30967,30970,30964,30959,30977,31143,31146,31319,31423,31751,31757,31742,31735,31756,31712,31968,31964,31966,31970,31967,31961,31965,32302,32318,32326,32311,32306,32323,32299,32317,32305,32325,32321,32308,32313,32328,32309,32319,32303,32580,32755,32764,32881,32882,32880,32879,32883,33222,33219,33210,33218,33216,33215,33213,33225,33214,33256,33289,33393,34218,34180,34174,34204,34193,34196,34223,34203,34183,34216,34186,34407,34752,34769,34739,34770,34758,34731,34747,34746,34760,34763,35131,35126,35140,35128,35133,35244,35598,35607,35609,35611,35594,35616,35613,35588,35600,35905,35903,35955,36090,36093,36092,36088,36091,36264,36425,36427,36424,36426,36676,36670,36674,36677,36671,36991,36989,36996,36993,36994,36992,37177,37283,37278,37276,37709,37762,37672,37749,37706,37733,37707,37656,37758,37740,37723,37744,37722,37716,38346,38347,38348,38344,38342,38577,38584,38614,38684,38686,38816,38867,38982,39094,39221,39425,39423,39854,39851,39850,39853,40251,40255,40587,40655,40670,40668,40669,40667,40766,40779,21474,22165,22190,22745,22744,23352,24413,25059,25139,25844,25842,25854,25862,25850,25851,25847,26039,26332,26406,27315,27308,27331,27323,27320,27330,27310,27311,27487,27512,27567,28681,28683,28670,28678,28666,28689,28687,29179,29180,29182,29176,29559,29557,29863,29887,29973,30294,30296,30290,30653,30655,30651,30652,30990,31150,31329,31330,31328,31428,31429,31787,31783,31786,31774,31779,31777,31975,32340,32341,32350,32346,32353,32338,32345,32584,32761,32763,32887,32886,33229,33231,33290,34255,34217,34253,34256,34249,34224,34234,34233,34214,34799,34796,34802,34784,35206,35250,35316,35624,35641,35628,35627,35920,36101,36441,36451,36454,36452,36447,36437,36544,36681,36685,36999,36995,37e3,37291,37292,37328,37780,37770,37782,37794,37811,37806,37804,37808,37784,37786,37783,38356,38358,38352,38357,38626,38620,38617,38619,38622,38692,38819,38822,38829,38905,38989,38991,38988,38990,38995,39098,39230,39231,39229,39214,39333,39438,39617,39683,39686,39759,39758,39757,39882,39881,39933,39880,39872,40273,40285,40288,40672,40725,40748,20787,22181,22750,22751,22754,23541,40848,24300,25074,25079,25078,25077,25856,25871,26336,26333,27365,27357,27354,27347,28699,28703,28712,28698,28701,28693,28696,29190,29197,29272,29346,29560,29562,29885,29898,29923,30087,30086,30303,30305,30663,31001,31153,31339,31337,31806,31807,31800,31805,31799,31808,32363,32365,32377,32361,32362,32645,32371,32694,32697,32696,33240,34281,34269,34282,34261,34276,34277,34295,34811,34821,34829,34809,34814,35168,35167,35158,35166,35649,35676,35672,35657,35674,35662,35663,35654,35673,36104,36106,36476,36466,36487,36470,36460,36474,36468,36692,36686,36781,37002,37003,37297,37294,37857,37841,37855,37827,37832,37852,37853,37846,37858,37837,37848,37860,37847,37864,38364,38580,38627,38698,38695,38753,38876,38907,39006,39e3,39003,39100,39237,39241,39446,39449,39693,39912,39911,39894,39899,40329,40289,40306,40298,40300,40594,40599,40595,40628,21240,22184,22199,22198,22196,22204,22756,23360,23363,23421,23542,24009,25080,25082,25880,25876,25881,26342,26407,27372,28734,28720,28722,29200,29563,29903,30306,30309,31014,31018,31020,31019,31431,31478,31820,31811,31821,31983,31984,36782,32381,32380,32386,32588,32768,33242,33382,34299,34297,34321,34298,34310,34315,34311,34314,34836,34837,35172,35258,35320,35696,35692,35686,35695,35679,35691,36111,36109,36489,36481,36485,36482,37300,37323,37912,37891,37885,38369,38704,39108,39250,39249,39336,39467,39472,39479,39477,39955,39949,40569,40629,40680,40751,40799,40803,40801,20791,20792,22209,22208,22210,22804,23660,24013,25084,25086,25885,25884,26005,26345,27387,27396,27386,27570,28748,29211,29351,29910,29908,30313,30675,31824,32399,32396,32700,34327,34349,34330,34851,34850,34849,34847,35178,35180,35261,35700,35703,35709,36115,36490,36493,36491,36703,36783,37306,37934,37939,37941,37946,37944,37938,37931,38370,38712,38713,38706,38911,39015,39013,39255,39493,39491,39488,39486,39631,39764,39761,39981,39973,40367,40372,40386,40376,40605,40687,40729,40796,40806,40807,20796,20795,22216,22218,22217,23423,24020,24018,24398,25087,25892,27402,27489,28753,28760,29568,29924,30090,30318,30316,31155,31840,31839,32894,32893,33247,35186,35183,35324,35712,36118,36119,36497,36499,36705,37192,37956,37969,37970,38717,38718,38851,38849,39019,39253,39509,39501,39634,39706,40009,39985,39998,39995,40403,40407,40756,40812,40810,40852,22220,24022,25088,25891,25899,25898,26348,27408,29914,31434,31844,31843,31845,32403,32406,32404,33250,34360,34367,34865,35722,37008,37007,37987,37984,37988,38760,39023,39260,39514,39515,39511,39635,39636,39633,40020,40023,40022,40421,40607,40692,22225,22761,25900,28766,30321,30322,30679,32592,32648,34870,34873,34914,35731,35730,35734,33399,36123,37312,37994,38722,38728,38724,38854,39024,39519,39714,39768,40031,40441,40442,40572,40573,40711,40823,40818,24307,27414,28771,31852,31854,34875,35264,36513,37313,38002,38e3,39025,39262,39638,39715,40652,28772,30682,35738,38007,38857,39522,39525,32412,35740,36522,37317,38013,38014,38012,40055,40056,40695,35924,38015,40474,29224,39530,39729,40475,40478,31858,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,20022,20031,20101,20128,20866,20886,20907,21241,21304,21353,21430,22794,23424,24027,12083,24191,24308,24400,24417,25908,26080,30098,30326,36789,38582,168,710,12541,12542,12445,12446,12291,20189,12293,12294,12295,12540,65339,65341,10045,12353,12354,12355,12356,12357,12358,12359,12360,12361,12362,12363,12364,12365,12366,12367,12368,12369,12370,12371,12372,12373,12374,12375,12376,12377,12378,12379,12380,12381,12382,12383,12384,12385,12386,12387,12388,12389,12390,12391,12392,12393,12394,12395,12396,12397,12398,12399,12400,12401,12402,12403,12404,12405,12406,12407,12408,12409,12410,12411,12412,12413,12414,12415,12416,12417,12418,12419,12420,12421,12422,12423,12424,12425,12426,12427,12428,12429,12430,12431,12432,12433,12434,12435,12449,12450,12451,12452,12453,12454,12455,12456,12457,12458,12459,12460,12461,12462,12463,12464,12465,12466,12467,12468,12469,12470,12471,12472,12473,12474,12475,12476,12477,12478,12479,12480,12481,12482,12483,12484,12485,12486,12487,12488,12489,12490,12491,12492,12493,12494,12495,12496,12497,12498,12499,12500,12501,12502,12503,12504,12505,12506,12507,12508,12509,12510,12511,12512,12513,12514,12515,12516,12517,12518,12519,12520,12521,12522,12523,12524,12525,12526,12527,12528,12529,12530,12531,12532,12533,12534,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,8679,8632,8633,12751,131276,20058,131210,20994,17553,40880,20872,40881,161287,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,65506,65508,65287,65282,12849,8470,8481,12443,12444,11904,11908,11910,11911,11912,11914,11916,11917,11925,11932,11933,11941,11943,11946,11948,11950,11958,11964,11966,11974,11978,11980,11981,11983,11990,11991,11998,12003,null,null,null,643,592,603,596,629,339,248,331,650,618,20034,20060,20981,21274,21378,19975,19980,20039,20109,22231,64012,23662,24435,19983,20871,19982,20014,20115,20162,20169,20168,20888,21244,21356,21433,22304,22787,22828,23568,24063,26081,27571,27596,27668,29247,20017,20028,20200,20188,20201,20193,20189,20186,21004,21276,21324,22306,22307,22807,22831,23425,23428,23570,23611,23668,23667,24068,24192,24194,24521,25097,25168,27669,27702,27715,27711,27707,29358,29360,29578,31160,32906,38430,20238,20248,20268,20213,20244,20209,20224,20215,20232,20253,20226,20229,20258,20243,20228,20212,20242,20913,21011,21001,21008,21158,21282,21279,21325,21386,21511,22241,22239,22318,22314,22324,22844,22912,22908,22917,22907,22910,22903,22911,23382,23573,23589,23676,23674,23675,23678,24031,24181,24196,24322,24346,24436,24533,24532,24527,25180,25182,25188,25185,25190,25186,25177,25184,25178,25189,26095,26094,26430,26425,26424,26427,26426,26431,26428,26419,27672,27718,27730,27740,27727,27722,27732,27723,27724,28785,29278,29364,29365,29582,29994,30335,31349,32593,33400,33404,33408,33405,33407,34381,35198,37017,37015,37016,37019,37012,38434,38436,38432,38435,20310,20283,20322,20297,20307,20324,20286,20327,20306,20319,20289,20312,20269,20275,20287,20321,20879,20921,21020,21022,21025,21165,21166,21257,21347,21362,21390,21391,21552,21559,21546,21588,21573,21529,21532,21541,21528,21565,21583,21569,21544,21540,21575,22254,22247,22245,22337,22341,22348,22345,22347,22354,22790,22848,22950,22936,22944,22935,22926,22946,22928,22927,22951,22945,23438,23442,23592,23594,23693,23695,23688,23691,23689,23698,23690,23686,23699,23701,24032,24074,24078,24203,24201,24204,24200,24205,24325,24349,24440,24438,24530,24529,24528,24557,24552,24558,24563,24545,24548,24547,24570,24559,24567,24571,24576,24564,25146,25219,25228,25230,25231,25236,25223,25201,25211,25210,25200,25217,25224,25207,25213,25202,25204,25911,26096,26100,26099,26098,26101,26437,26439,26457,26453,26444,26440,26461,26445,26458,26443,27600,27673,27674,27768,27751,27755,27780,27787,27791,27761,27759,27753,27802,27757,27783,27797,27804,27750,27763,27749,27771,27790,28788,28794,29283,29375,29373,29379,29382,29377,29370,29381,29589,29591,29587,29588,29586,30010,30009,30100,30101,30337,31037,32820,32917,32921,32912,32914,32924,33424,33423,33413,33422,33425,33427,33418,33411,33412,35960,36809,36799,37023,37025,37029,37022,37031,37024,38448,38440,38447,38445,20019,20376,20348,20357,20349,20352,20359,20342,20340,20361,20356,20343,20300,20375,20330,20378,20345,20353,20344,20368,20380,20372,20382,20370,20354,20373,20331,20334,20894,20924,20926,21045,21042,21043,21062,21041,21180,21258,21259,21308,21394,21396,21639,21631,21633,21649,21634,21640,21611,21626,21630,21605,21612,21620,21606,21645,21615,21601,21600,21656,21603,21607,21604,22263,22265,22383,22386,22381,22379,22385,22384,22390,22400,22389,22395,22387,22388,22370,22376,22397,22796,22853,22965,22970,22991,22990,22962,22988,22977,22966,22972,22979,22998,22961,22973,22976,22984,22964,22983,23394,23397,23443,23445,23620,23623,23726,23716,23712,23733,23727,23720,23724,23711,23715,23725,23714,23722,23719,23709,23717,23734,23728,23718,24087,24084,24089,24360,24354,24355,24356,24404,24450,24446,24445,24542,24549,24621,24614,24601,24626,24587,24628,24586,24599,24627,24602,24606,24620,24610,24589,24592,24622,24595,24593,24588,24585,24604,25108,25149,25261,25268,25297,25278,25258,25270,25290,25262,25267,25263,25275,25257,25264,25272,25917,26024,26043,26121,26108,26116,26130,26120,26107,26115,26123,26125,26117,26109,26129,26128,26358,26378,26501,26476,26510,26514,26486,26491,26520,26502,26500,26484,26509,26508,26490,26527,26513,26521,26499,26493,26497,26488,26489,26516,27429,27520,27518,27614,27677,27795,27884,27883,27886,27865,27830,27860,27821,27879,27831,27856,27842,27834,27843,27846,27885,27890,27858,27869,27828,27786,27805,27776,27870,27840,27952,27853,27847,27824,27897,27855,27881,27857,28820,28824,28805,28819,28806,28804,28817,28822,28802,28826,28803,29290,29398,29387,29400,29385,29404,29394,29396,29402,29388,29393,29604,29601,29613,29606,29602,29600,29612,29597,29917,29928,30015,30016,30014,30092,30104,30383,30451,30449,30448,30453,30712,30716,30713,30715,30714,30711,31042,31039,31173,31352,31355,31483,31861,31997,32821,32911,32942,32931,32952,32949,32941,33312,33440,33472,33451,33434,33432,33435,33461,33447,33454,33468,33438,33466,33460,33448,33441,33449,33474,33444,33475,33462,33442,34416,34415,34413,34414,35926,36818,36811,36819,36813,36822,36821,36823,37042,37044,37039,37043,37040,38457,38461,38460,38458,38467,20429,20421,20435,20402,20425,20427,20417,20436,20444,20441,20411,20403,20443,20423,20438,20410,20416,20409,20460,21060,21065,21184,21186,21309,21372,21399,21398,21401,21400,21690,21665,21677,21669,21711,21699,33549,21687,21678,21718,21686,21701,21702,21664,21616,21692,21666,21694,21618,21726,21680,22453,22430,22431,22436,22412,22423,22429,22427,22420,22424,22415,22425,22437,22426,22421,22772,22797,22867,23009,23006,23022,23040,23025,23005,23034,23037,23036,23030,23012,23026,23031,23003,23017,23027,23029,23008,23038,23028,23021,23464,23628,23760,23768,23756,23767,23755,23771,23774,23770,23753,23751,23754,23766,23763,23764,23759,23752,23750,23758,23775,23800,24057,24097,24098,24099,24096,24100,24240,24228,24226,24219,24227,24229,24327,24366,24406,24454,24631,24633,24660,24690,24670,24645,24659,24647,24649,24667,24652,24640,24642,24671,24612,24644,24664,24678,24686,25154,25155,25295,25357,25355,25333,25358,25347,25323,25337,25359,25356,25336,25334,25344,25363,25364,25338,25365,25339,25328,25921,25923,26026,26047,26166,26145,26162,26165,26140,26150,26146,26163,26155,26170,26141,26164,26169,26158,26383,26384,26561,26610,26568,26554,26588,26555,26616,26584,26560,26551,26565,26603,26596,26591,26549,26573,26547,26615,26614,26606,26595,26562,26553,26574,26599,26608,26546,26620,26566,26605,26572,26542,26598,26587,26618,26569,26570,26563,26602,26571,27432,27522,27524,27574,27606,27608,27616,27680,27681,27944,27956,27949,27935,27964,27967,27922,27914,27866,27955,27908,27929,27962,27930,27921,27904,27933,27970,27905,27928,27959,27907,27919,27968,27911,27936,27948,27912,27938,27913,27920,28855,28831,28862,28849,28848,28833,28852,28853,28841,29249,29257,29258,29292,29296,29299,29294,29386,29412,29416,29419,29407,29418,29414,29411,29573,29644,29634,29640,29637,29625,29622,29621,29620,29675,29631,29639,29630,29635,29638,29624,29643,29932,29934,29998,30023,30024,30119,30122,30329,30404,30472,30467,30468,30469,30474,30455,30459,30458,30695,30696,30726,30737,30738,30725,30736,30735,30734,30729,30723,30739,31050,31052,31051,31045,31044,31189,31181,31183,31190,31182,31360,31358,31441,31488,31489,31866,31864,31865,31871,31872,31873,32003,32008,32001,32600,32657,32653,32702,32775,32782,32783,32788,32823,32984,32967,32992,32977,32968,32962,32976,32965,32995,32985,32988,32970,32981,32969,32975,32983,32998,32973,33279,33313,33428,33497,33534,33529,33543,33512,33536,33493,33594,33515,33494,33524,33516,33505,33522,33525,33548,33531,33526,33520,33514,33508,33504,33530,33523,33517,34423,34420,34428,34419,34881,34894,34919,34922,34921,35283,35332,35335,36210,36835,36833,36846,36832,37105,37053,37055,37077,37061,37054,37063,37067,37064,37332,37331,38484,38479,38481,38483,38474,38478,20510,20485,20487,20499,20514,20528,20507,20469,20468,20531,20535,20524,20470,20471,20503,20508,20512,20519,20533,20527,20529,20494,20826,20884,20883,20938,20932,20933,20936,20942,21089,21082,21074,21086,21087,21077,21090,21197,21262,21406,21798,21730,21783,21778,21735,21747,21732,21786,21759,21764,21768,21739,21777,21765,21745,21770,21755,21751,21752,21728,21774,21763,21771,22273,22274,22476,22578,22485,22482,22458,22470,22461,22460,22456,22454,22463,22471,22480,22457,22465,22798,22858,23065,23062,23085,23086,23061,23055,23063,23050,23070,23091,23404,23463,23469,23468,23555,23638,23636,23788,23807,23790,23793,23799,23808,23801,24105,24104,24232,24238,24234,24236,24371,24368,24423,24669,24666,24679,24641,24738,24712,24704,24722,24705,24733,24707,24725,24731,24727,24711,24732,24718,25113,25158,25330,25360,25430,25388,25412,25413,25398,25411,25572,25401,25419,25418,25404,25385,25409,25396,25432,25428,25433,25389,25415,25395,25434,25425,25400,25431,25408,25416,25930,25926,26054,26051,26052,26050,26186,26207,26183,26193,26386,26387,26655,26650,26697,26674,26675,26683,26699,26703,26646,26673,26652,26677,26667,26669,26671,26702,26692,26676,26653,26642,26644,26662,26664,26670,26701,26682,26661,26656,27436,27439,27437,27441,27444,27501,32898,27528,27622,27620,27624,27619,27618,27623,27685,28026,28003,28004,28022,27917,28001,28050,27992,28002,28013,28015,28049,28045,28143,28031,28038,27998,28007,28e3,28055,28016,28028,27999,28034,28056,27951,28008,28043,28030,28032,28036,27926,28035,28027,28029,28021,28048,28892,28883,28881,28893,28875,32569,28898,28887,28882,28894,28896,28884,28877,28869,28870,28871,28890,28878,28897,29250,29304,29303,29302,29440,29434,29428,29438,29430,29427,29435,29441,29651,29657,29669,29654,29628,29671,29667,29673,29660,29650,29659,29652,29661,29658,29655,29656,29672,29918,29919,29940,29941,29985,30043,30047,30128,30145,30139,30148,30144,30143,30134,30138,30346,30409,30493,30491,30480,30483,30482,30499,30481,30485,30489,30490,30498,30503,30755,30764,30754,30773,30767,30760,30766,30763,30753,30761,30771,30762,30769,31060,31067,31055,31068,31059,31058,31057,31211,31212,31200,31214,31213,31210,31196,31198,31197,31366,31369,31365,31371,31372,31370,31367,31448,31504,31492,31507,31493,31503,31496,31498,31502,31497,31506,31876,31889,31882,31884,31880,31885,31877,32030,32029,32017,32014,32024,32022,32019,32031,32018,32015,32012,32604,32609,32606,32608,32605,32603,32662,32658,32707,32706,32704,32790,32830,32825,33018,33010,33017,33013,33025,33019,33024,33281,33327,33317,33587,33581,33604,33561,33617,33573,33622,33599,33601,33574,33564,33570,33602,33614,33563,33578,33544,33596,33613,33558,33572,33568,33591,33583,33577,33607,33605,33612,33619,33566,33580,33611,33575,33608,34387,34386,34466,34472,34454,34445,34449,34462,34439,34455,34438,34443,34458,34437,34469,34457,34465,34471,34453,34456,34446,34461,34448,34452,34883,34884,34925,34933,34934,34930,34944,34929,34943,34927,34947,34942,34932,34940,35346,35911,35927,35963,36004,36003,36214,36216,36277,36279,36278,36561,36563,36862,36853,36866,36863,36859,36868,36860,36854,37078,37088,37081,37082,37091,37087,37093,37080,37083,37079,37084,37092,37200,37198,37199,37333,37346,37338,38492,38495,38588,39139,39647,39727,20095,20592,20586,20577,20574,20576,20563,20555,20573,20594,20552,20557,20545,20571,20554,20578,20501,20549,20575,20585,20587,20579,20580,20550,20544,20590,20595,20567,20561,20944,21099,21101,21100,21102,21206,21203,21293,21404,21877,21878,21820,21837,21840,21812,21802,21841,21858,21814,21813,21808,21842,21829,21772,21810,21861,21838,21817,21832,21805,21819,21824,21835,22282,22279,22523,22548,22498,22518,22492,22516,22528,22509,22525,22536,22520,22539,22515,22479,22535,22510,22499,22514,22501,22508,22497,22542,22524,22544,22503,22529,22540,22513,22505,22512,22541,22532,22876,23136,23128,23125,23143,23134,23096,23093,23149,23120,23135,23141,23148,23123,23140,23127,23107,23133,23122,23108,23131,23112,23182,23102,23117,23097,23116,23152,23145,23111,23121,23126,23106,23132,23410,23406,23489,23488,23641,23838,23819,23837,23834,23840,23820,23848,23821,23846,23845,23823,23856,23826,23843,23839,23854,24126,24116,24241,24244,24249,24242,24243,24374,24376,24475,24470,24479,24714,24720,24710,24766,24752,24762,24787,24788,24783,24804,24793,24797,24776,24753,24795,24759,24778,24767,24771,24781,24768,25394,25445,25482,25474,25469,25533,25502,25517,25501,25495,25515,25486,25455,25479,25488,25454,25519,25461,25500,25453,25518,25468,25508,25403,25503,25464,25477,25473,25489,25485,25456,25939,26061,26213,26209,26203,26201,26204,26210,26392,26745,26759,26768,26780,26733,26734,26798,26795,26966,26735,26787,26796,26793,26741,26740,26802,26767,26743,26770,26748,26731,26738,26794,26752,26737,26750,26779,26774,26763,26784,26761,26788,26744,26747,26769,26764,26762,26749,27446,27443,27447,27448,27537,27535,27533,27534,27532,27690,28096,28075,28084,28083,28276,28076,28137,28130,28087,28150,28116,28160,28104,28128,28127,28118,28094,28133,28124,28125,28123,28148,28106,28093,28141,28144,28090,28117,28098,28111,28105,28112,28146,28115,28157,28119,28109,28131,28091,28922,28941,28919,28951,28916,28940,28912,28932,28915,28944,28924,28927,28934,28947,28928,28920,28918,28939,28930,28942,29310,29307,29308,29311,29469,29463,29447,29457,29464,29450,29448,29439,29455,29470,29576,29686,29688,29685,29700,29697,29693,29703,29696,29690,29692,29695,29708,29707,29684,29704,30052,30051,30158,30162,30159,30155,30156,30161,30160,30351,30345,30419,30521,30511,30509,30513,30514,30516,30515,30525,30501,30523,30517,30792,30802,30793,30797,30794,30796,30758,30789,30800,31076,31079,31081,31082,31075,31083,31073,31163,31226,31224,31222,31223,31375,31380,31376,31541,31559,31540,31525,31536,31522,31524,31539,31512,31530,31517,31537,31531,31533,31535,31538,31544,31514,31523,31892,31896,31894,31907,32053,32061,32056,32054,32058,32069,32044,32041,32065,32071,32062,32063,32074,32059,32040,32611,32661,32668,32669,32667,32714,32715,32717,32720,32721,32711,32719,32713,32799,32798,32795,32839,32835,32840,33048,33061,33049,33051,33069,33055,33068,33054,33057,33045,33063,33053,33058,33297,33336,33331,33338,33332,33330,33396,33680,33699,33704,33677,33658,33651,33700,33652,33679,33665,33685,33689,33653,33684,33705,33661,33667,33676,33693,33691,33706,33675,33662,33701,33711,33672,33687,33712,33663,33702,33671,33710,33654,33690,34393,34390,34495,34487,34498,34497,34501,34490,34480,34504,34489,34483,34488,34508,34484,34491,34492,34499,34493,34494,34898,34953,34965,34984,34978,34986,34970,34961,34977,34975,34968,34983,34969,34971,34967,34980,34988,34956,34963,34958,35202,35286,35289,35285,35376,35367,35372,35358,35897,35899,35932,35933,35965,36005,36221,36219,36217,36284,36290,36281,36287,36289,36568,36574,36573,36572,36567,36576,36577,36900,36875,36881,36892,36876,36897,37103,37098,37104,37108,37106,37107,37076,37099,37100,37097,37206,37208,37210,37203,37205,37356,37364,37361,37363,37368,37348,37369,37354,37355,37367,37352,37358,38266,38278,38280,38524,38509,38507,38513,38511,38591,38762,38916,39141,39319,20635,20629,20628,20638,20619,20643,20611,20620,20622,20637,20584,20636,20626,20610,20615,20831,20948,21266,21265,21412,21415,21905,21928,21925,21933,21879,22085,21922,21907,21896,21903,21941,21889,21923,21906,21924,21885,21900,21926,21887,21909,21921,21902,22284,22569,22583,22553,22558,22567,22563,22568,22517,22600,22565,22556,22555,22579,22591,22582,22574,22585,22584,22573,22572,22587,22881,23215,23188,23199,23162,23202,23198,23160,23206,23164,23205,23212,23189,23214,23095,23172,23178,23191,23171,23179,23209,23163,23165,23180,23196,23183,23187,23197,23530,23501,23499,23508,23505,23498,23502,23564,23600,23863,23875,23915,23873,23883,23871,23861,23889,23886,23893,23859,23866,23890,23869,23857,23897,23874,23865,23881,23864,23868,23858,23862,23872,23877,24132,24129,24408,24486,24485,24491,24777,24761,24780,24802,24782,24772,24852,24818,24842,24854,24837,24821,24851,24824,24828,24830,24769,24835,24856,24861,24848,24831,24836,24843,25162,25492,25521,25520,25550,25573,25576,25583,25539,25757,25587,25546,25568,25590,25557,25586,25589,25697,25567,25534,25565,25564,25540,25560,25555,25538,25543,25548,25547,25544,25584,25559,25561,25906,25959,25962,25956,25948,25960,25957,25996,26013,26014,26030,26064,26066,26236,26220,26235,26240,26225,26233,26218,26226,26369,26892,26835,26884,26844,26922,26860,26858,26865,26895,26838,26871,26859,26852,26870,26899,26896,26867,26849,26887,26828,26888,26992,26804,26897,26863,26822,26900,26872,26832,26877,26876,26856,26891,26890,26903,26830,26824,26845,26846,26854,26868,26833,26886,26836,26857,26901,26917,26823,27449,27451,27455,27452,27540,27543,27545,27541,27581,27632,27634,27635,27696,28156,28230,28231,28191,28233,28296,28220,28221,28229,28258,28203,28223,28225,28253,28275,28188,28211,28235,28224,28241,28219,28163,28206,28254,28264,28252,28257,28209,28200,28256,28273,28267,28217,28194,28208,28243,28261,28199,28280,28260,28279,28245,28281,28242,28262,28213,28214,28250,28960,28958,28975,28923,28974,28977,28963,28965,28962,28978,28959,28968,28986,28955,29259,29274,29320,29321,29318,29317,29323,29458,29451,29488,29474,29489,29491,29479,29490,29485,29478,29475,29493,29452,29742,29740,29744,29739,29718,29722,29729,29741,29745,29732,29731,29725,29737,29728,29746,29947,29999,30063,30060,30183,30170,30177,30182,30173,30175,30180,30167,30357,30354,30426,30534,30535,30532,30541,30533,30538,30542,30539,30540,30686,30700,30816,30820,30821,30812,30829,30833,30826,30830,30832,30825,30824,30814,30818,31092,31091,31090,31088,31234,31242,31235,31244,31236,31385,31462,31460,31562,31547,31556,31560,31564,31566,31552,31576,31557,31906,31902,31912,31905,32088,32111,32099,32083,32086,32103,32106,32079,32109,32092,32107,32082,32084,32105,32081,32095,32078,32574,32575,32613,32614,32674,32672,32673,32727,32849,32847,32848,33022,32980,33091,33098,33106,33103,33095,33085,33101,33082,33254,33262,33271,33272,33273,33284,33340,33341,33343,33397,33595,33743,33785,33827,33728,33768,33810,33767,33764,33788,33782,33808,33734,33736,33771,33763,33727,33793,33757,33765,33752,33791,33761,33739,33742,33750,33781,33737,33801,33807,33758,33809,33798,33730,33779,33749,33786,33735,33745,33770,33811,33731,33772,33774,33732,33787,33751,33762,33819,33755,33790,34520,34530,34534,34515,34531,34522,34538,34525,34539,34524,34540,34537,34519,34536,34513,34888,34902,34901,35002,35031,35001,35e3,35008,35006,34998,35004,34999,35005,34994,35073,35017,35221,35224,35223,35293,35290,35291,35406,35405,35385,35417,35392,35415,35416,35396,35397,35410,35400,35409,35402,35404,35407,35935,35969,35968,36026,36030,36016,36025,36021,36228,36224,36233,36312,36307,36301,36295,36310,36316,36303,36309,36313,36296,36311,36293,36591,36599,36602,36601,36582,36590,36581,36597,36583,36584,36598,36587,36593,36588,36596,36585,36909,36916,36911,37126,37164,37124,37119,37116,37128,37113,37115,37121,37120,37127,37125,37123,37217,37220,37215,37218,37216,37377,37386,37413,37379,37402,37414,37391,37388,37376,37394,37375,37373,37382,37380,37415,37378,37404,37412,37401,37399,37381,37398,38267,38285,38284,38288,38535,38526,38536,38537,38531,38528,38594,38600,38595,38641,38640,38764,38768,38766,38919,39081,39147,40166,40697,20099,20100,20150,20669,20671,20678,20654,20676,20682,20660,20680,20674,20656,20673,20666,20657,20683,20681,20662,20664,20951,21114,21112,21115,21116,21955,21979,21964,21968,21963,21962,21981,21952,21972,21956,21993,21951,21970,21901,21967,21973,21986,21974,21960,22002,21965,21977,21954,22292,22611,22632,22628,22607,22605,22601,22639,22613,22606,22621,22617,22629,22619,22589,22627,22641,22780,23239,23236,23243,23226,23224,23217,23221,23216,23231,23240,23227,23238,23223,23232,23242,23220,23222,23245,23225,23184,23510,23512,23513,23583,23603,23921,23907,23882,23909,23922,23916,23902,23912,23911,23906,24048,24143,24142,24138,24141,24139,24261,24268,24262,24267,24263,24384,24495,24493,24823,24905,24906,24875,24901,24886,24882,24878,24902,24879,24911,24873,24896,25120,37224,25123,25125,25124,25541,25585,25579,25616,25618,25609,25632,25636,25651,25667,25631,25621,25624,25657,25655,25634,25635,25612,25638,25648,25640,25665,25653,25647,25610,25626,25664,25637,25639,25611,25575,25627,25646,25633,25614,25967,26002,26067,26246,26252,26261,26256,26251,26250,26265,26260,26232,26400,26982,26975,26936,26958,26978,26993,26943,26949,26986,26937,26946,26967,26969,27002,26952,26953,26933,26988,26931,26941,26981,26864,27e3,26932,26985,26944,26991,26948,26998,26968,26945,26996,26956,26939,26955,26935,26972,26959,26961,26930,26962,26927,27003,26940,27462,27461,27459,27458,27464,27457,27547,64013,27643,27644,27641,27639,27640,28315,28374,28360,28303,28352,28319,28307,28308,28320,28337,28345,28358,28370,28349,28353,28318,28361,28343,28336,28365,28326,28367,28338,28350,28355,28380,28376,28313,28306,28302,28301,28324,28321,28351,28339,28368,28362,28311,28334,28323,28999,29012,29010,29027,29024,28993,29021,29026,29042,29048,29034,29025,28994,29016,28995,29003,29040,29023,29008,29011,28996,29005,29018,29263,29325,29324,29329,29328,29326,29500,29506,29499,29498,29504,29514,29513,29764,29770,29771,29778,29777,29783,29760,29775,29776,29774,29762,29766,29773,29780,29921,29951,29950,29949,29981,30073,30071,27011,30191,30223,30211,30199,30206,30204,30201,30200,30224,30203,30198,30189,30197,30205,30361,30389,30429,30549,30559,30560,30546,30550,30554,30569,30567,30548,30553,30573,30688,30855,30874,30868,30863,30852,30869,30853,30854,30881,30851,30841,30873,30848,30870,30843,31100,31106,31101,31097,31249,31256,31257,31250,31255,31253,31266,31251,31259,31248,31395,31394,31390,31467,31590,31588,31597,31604,31593,31602,31589,31603,31601,31600,31585,31608,31606,31587,31922,31924,31919,32136,32134,32128,32141,32127,32133,32122,32142,32123,32131,32124,32140,32148,32132,32125,32146,32621,32619,32615,32616,32620,32678,32677,32679,32731,32732,32801,33124,33120,33143,33116,33129,33115,33122,33138,26401,33118,33142,33127,33135,33092,33121,33309,33353,33348,33344,33346,33349,34033,33855,33878,33910,33913,33935,33933,33893,33873,33856,33926,33895,33840,33869,33917,33882,33881,33908,33907,33885,34055,33886,33847,33850,33844,33914,33859,33912,33842,33861,33833,33753,33867,33839,33858,33837,33887,33904,33849,33870,33868,33874,33903,33989,33934,33851,33863,33846,33843,33896,33918,33860,33835,33888,33876,33902,33872,34571,34564,34551,34572,34554,34518,34549,34637,34552,34574,34569,34561,34550,34573,34565,35030,35019,35021,35022,35038,35035,35034,35020,35024,35205,35227,35295,35301,35300,35297,35296,35298,35292,35302,35446,35462,35455,35425,35391,35447,35458,35460,35445,35459,35457,35444,35450,35900,35915,35914,35941,35940,35942,35974,35972,35973,36044,36200,36201,36241,36236,36238,36239,36237,36243,36244,36240,36242,36336,36320,36332,36337,36334,36304,36329,36323,36322,36327,36338,36331,36340,36614,36607,36609,36608,36613,36615,36616,36610,36619,36946,36927,36932,36937,36925,37136,37133,37135,37137,37142,37140,37131,37134,37230,37231,37448,37458,37424,37434,37478,37427,37477,37470,37507,37422,37450,37446,37485,37484,37455,37472,37479,37487,37430,37473,37488,37425,37460,37475,37456,37490,37454,37459,37452,37462,37426,38303,38300,38302,38299,38546,38547,38545,38551,38606,38650,38653,38648,38645,38771,38775,38776,38770,38927,38925,38926,39084,39158,39161,39343,39346,39344,39349,39597,39595,39771,40170,40173,40167,40576,40701,20710,20692,20695,20712,20723,20699,20714,20701,20708,20691,20716,20720,20719,20707,20704,20952,21120,21121,21225,21227,21296,21420,22055,22037,22028,22034,22012,22031,22044,22017,22035,22018,22010,22045,22020,22015,22009,22665,22652,22672,22680,22662,22657,22655,22644,22667,22650,22663,22673,22670,22646,22658,22664,22651,22676,22671,22782,22891,23260,23278,23269,23253,23274,23258,23277,23275,23283,23266,23264,23259,23276,23262,23261,23257,23272,23263,23415,23520,23523,23651,23938,23936,23933,23942,23930,23937,23927,23946,23945,23944,23934,23932,23949,23929,23935,24152,24153,24147,24280,24273,24279,24270,24284,24277,24281,24274,24276,24388,24387,24431,24502,24876,24872,24897,24926,24945,24947,24914,24915,24946,24940,24960,24948,24916,24954,24923,24933,24891,24938,24929,24918,25129,25127,25131,25643,25677,25691,25693,25716,25718,25714,25715,25725,25717,25702,25766,25678,25730,25694,25692,25675,25683,25696,25680,25727,25663,25708,25707,25689,25701,25719,25971,26016,26273,26272,26271,26373,26372,26402,27057,27062,27081,27040,27086,27030,27056,27052,27068,27025,27033,27022,27047,27021,27049,27070,27055,27071,27076,27069,27044,27092,27065,27082,27034,27087,27059,27027,27050,27041,27038,27097,27031,27024,27074,27061,27045,27078,27466,27469,27467,27550,27551,27552,27587,27588,27646,28366,28405,28401,28419,28453,28408,28471,28411,28462,28425,28494,28441,28442,28455,28440,28475,28434,28397,28426,28470,28531,28409,28398,28461,28480,28464,28476,28469,28395,28423,28430,28483,28421,28413,28406,28473,28444,28412,28474,28447,28429,28446,28424,28449,29063,29072,29065,29056,29061,29058,29071,29051,29062,29057,29079,29252,29267,29335,29333,29331,29507,29517,29521,29516,29794,29811,29809,29813,29810,29799,29806,29952,29954,29955,30077,30096,30230,30216,30220,30229,30225,30218,30228,30392,30593,30588,30597,30594,30574,30592,30575,30590,30595,30898,30890,30900,30893,30888,30846,30891,30878,30885,30880,30892,30882,30884,31128,31114,31115,31126,31125,31124,31123,31127,31112,31122,31120,31275,31306,31280,31279,31272,31270,31400,31403,31404,31470,31624,31644,31626,31633,31632,31638,31629,31628,31643,31630,31621,31640,21124,31641,31652,31618,31931,31935,31932,31930,32167,32183,32194,32163,32170,32193,32192,32197,32157,32206,32196,32198,32203,32204,32175,32185,32150,32188,32159,32166,32174,32169,32161,32201,32627,32738,32739,32741,32734,32804,32861,32860,33161,33158,33155,33159,33165,33164,33163,33301,33943,33956,33953,33951,33978,33998,33986,33964,33966,33963,33977,33972,33985,33997,33962,33946,33969,34e3,33949,33959,33979,33954,33940,33991,33996,33947,33961,33967,33960,34006,33944,33974,33999,33952,34007,34004,34002,34011,33968,33937,34401,34611,34595,34600,34667,34624,34606,34590,34593,34585,34587,34627,34604,34625,34622,34630,34592,34610,34602,34605,34620,34578,34618,34609,34613,34626,34598,34599,34616,34596,34586,34608,34577,35063,35047,35057,35058,35066,35070,35054,35068,35062,35067,35056,35052,35051,35229,35233,35231,35230,35305,35307,35304,35499,35481,35467,35474,35471,35478,35901,35944,35945,36053,36047,36055,36246,36361,36354,36351,36365,36349,36362,36355,36359,36358,36357,36350,36352,36356,36624,36625,36622,36621,37155,37148,37152,37154,37151,37149,37146,37156,37153,37147,37242,37234,37241,37235,37541,37540,37494,37531,37498,37536,37524,37546,37517,37542,37530,37547,37497,37527,37503,37539,37614,37518,37506,37525,37538,37501,37512,37537,37514,37510,37516,37529,37543,37502,37511,37545,37533,37515,37421,38558,38561,38655,38744,38781,38778,38782,38787,38784,38786,38779,38788,38785,38783,38862,38861,38934,39085,39086,39170,39168,39175,39325,39324,39363,39353,39355,39354,39362,39357,39367,39601,39651,39655,39742,39743,39776,39777,39775,40177,40178,40181,40615,20735,20739,20784,20728,20742,20743,20726,20734,20747,20748,20733,20746,21131,21132,21233,21231,22088,22082,22092,22069,22081,22090,22089,22086,22104,22106,22080,22067,22077,22060,22078,22072,22058,22074,22298,22699,22685,22705,22688,22691,22703,22700,22693,22689,22783,23295,23284,23293,23287,23286,23299,23288,23298,23289,23297,23303,23301,23311,23655,23961,23959,23967,23954,23970,23955,23957,23968,23964,23969,23962,23966,24169,24157,24160,24156,32243,24283,24286,24289,24393,24498,24971,24963,24953,25009,25008,24994,24969,24987,24979,25007,25005,24991,24978,25002,24993,24973,24934,25011,25133,25710,25712,25750,25760,25733,25751,25756,25743,25739,25738,25740,25763,25759,25704,25777,25752,25974,25978,25977,25979,26034,26035,26293,26288,26281,26290,26295,26282,26287,27136,27142,27159,27109,27128,27157,27121,27108,27168,27135,27116,27106,27163,27165,27134,27175,27122,27118,27156,27127,27111,27200,27144,27110,27131,27149,27132,27115,27145,27140,27160,27173,27151,27126,27174,27143,27124,27158,27473,27557,27555,27554,27558,27649,27648,27647,27650,28481,28454,28542,28551,28614,28562,28557,28553,28556,28514,28495,28549,28506,28566,28534,28524,28546,28501,28530,28498,28496,28503,28564,28563,28509,28416,28513,28523,28541,28519,28560,28499,28555,28521,28543,28565,28515,28535,28522,28539,29106,29103,29083,29104,29088,29082,29097,29109,29085,29093,29086,29092,29089,29098,29084,29095,29107,29336,29338,29528,29522,29534,29535,29536,29533,29531,29537,29530,29529,29538,29831,29833,29834,29830,29825,29821,29829,29832,29820,29817,29960,29959,30078,30245,30238,30233,30237,30236,30243,30234,30248,30235,30364,30365,30366,30363,30605,30607,30601,30600,30925,30907,30927,30924,30929,30926,30932,30920,30915,30916,30921,31130,31137,31136,31132,31138,31131,27510,31289,31410,31412,31411,31671,31691,31678,31660,31694,31663,31673,31690,31669,31941,31944,31948,31947,32247,32219,32234,32231,32215,32225,32259,32250,32230,32246,32241,32240,32238,32223,32630,32684,32688,32685,32749,32747,32746,32748,32742,32744,32868,32871,33187,33183,33182,33173,33186,33177,33175,33302,33359,33363,33362,33360,33358,33361,34084,34107,34063,34048,34089,34062,34057,34061,34079,34058,34087,34076,34043,34091,34042,34056,34060,34036,34090,34034,34069,34039,34027,34035,34044,34066,34026,34025,34070,34046,34088,34077,34094,34050,34045,34078,34038,34097,34086,34023,34024,34032,34031,34041,34072,34080,34096,34059,34073,34095,34402,34646,34659,34660,34679,34785,34675,34648,34644,34651,34642,34657,34650,34641,34654,34669,34666,34640,34638,34655,34653,34671,34668,34682,34670,34652,34661,34639,34683,34677,34658,34663,34665,34906,35077,35084,35092,35083,35095,35096,35097,35078,35094,35089,35086,35081,35234,35236,35235,35309,35312,35308,35535,35526,35512,35539,35537,35540,35541,35515,35543,35518,35520,35525,35544,35523,35514,35517,35545,35902,35917,35983,36069,36063,36057,36072,36058,36061,36071,36256,36252,36257,36251,36384,36387,36389,36388,36398,36373,36379,36374,36369,36377,36390,36391,36372,36370,36376,36371,36380,36375,36378,36652,36644,36632,36634,36640,36643,36630,36631,36979,36976,36975,36967,36971,37167,37163,37161,37162,37170,37158,37166,37253,37254,37258,37249,37250,37252,37248,37584,37571,37572,37568,37593,37558,37583,37617,37599,37592,37609,37591,37597,37580,37615,37570,37608,37578,37576,37582,37606,37581,37589,37577,37600,37598,37607,37585,37587,37557,37601,37574,37556,38268,38316,38315,38318,38320,38564,38562,38611,38661,38664,38658,38746,38794,38798,38792,38864,38863,38942,38941,38950,38953,38952,38944,38939,38951,39090,39176,39162,39185,39188,39190,39191,39189,39388,39373,39375,39379,39380,39374,39369,39382,39384,39371,39383,39372,39603,39660,39659,39667,39666,39665,39750,39747,39783,39796,39793,39782,39798,39797,39792,39784,39780,39788,40188,40186,40189,40191,40183,40199,40192,40185,40187,40200,40197,40196,40579,40659,40719,40720,20764,20755,20759,20762,20753,20958,21300,21473,22128,22112,22126,22131,22118,22115,22125,22130,22110,22135,22300,22299,22728,22717,22729,22719,22714,22722,22716,22726,23319,23321,23323,23329,23316,23315,23312,23318,23336,23322,23328,23326,23535,23980,23985,23977,23975,23989,23984,23982,23978,23976,23986,23981,23983,23988,24167,24168,24166,24175,24297,24295,24294,24296,24293,24395,24508,24989,25e3,24982,25029,25012,25030,25025,25036,25018,25023,25016,24972,25815,25814,25808,25807,25801,25789,25737,25795,25819,25843,25817,25907,25983,25980,26018,26312,26302,26304,26314,26315,26319,26301,26299,26298,26316,26403,27188,27238,27209,27239,27186,27240,27198,27229,27245,27254,27227,27217,27176,27226,27195,27199,27201,27242,27236,27216,27215,27220,27247,27241,27232,27196,27230,27222,27221,27213,27214,27206,27477,27476,27478,27559,27562,27563,27592,27591,27652,27651,27654,28589,28619,28579,28615,28604,28622,28616,28510,28612,28605,28574,28618,28584,28676,28581,28590,28602,28588,28586,28623,28607,28600,28578,28617,28587,28621,28591,28594,28592,29125,29122,29119,29112,29142,29120,29121,29131,29140,29130,29127,29135,29117,29144,29116,29126,29146,29147,29341,29342,29545,29542,29543,29548,29541,29547,29546,29823,29850,29856,29844,29842,29845,29857,29963,30080,30255,30253,30257,30269,30259,30268,30261,30258,30256,30395,30438,30618,30621,30625,30620,30619,30626,30627,30613,30617,30615,30941,30953,30949,30954,30942,30947,30939,30945,30946,30957,30943,30944,31140,31300,31304,31303,31414,31416,31413,31409,31415,31710,31715,31719,31709,31701,31717,31706,31720,31737,31700,31722,31714,31708,31723,31704,31711,31954,31956,31959,31952,31953,32274,32289,32279,32268,32287,32288,32275,32270,32284,32277,32282,32290,32267,32271,32278,32269,32276,32293,32292,32579,32635,32636,32634,32689,32751,32810,32809,32876,33201,33190,33198,33209,33205,33195,33200,33196,33204,33202,33207,33191,33266,33365,33366,33367,34134,34117,34155,34125,34131,34145,34136,34112,34118,34148,34113,34146,34116,34129,34119,34147,34110,34139,34161,34126,34158,34165,34133,34151,34144,34188,34150,34141,34132,34149,34156,34403,34405,34404,34715,34703,34711,34707,34706,34696,34689,34710,34712,34681,34695,34723,34693,34704,34705,34717,34692,34708,34716,34714,34697,35102,35110,35120,35117,35118,35111,35121,35106,35113,35107,35119,35116,35103,35313,35552,35554,35570,35572,35573,35549,35604,35556,35551,35568,35528,35550,35553,35560,35583,35567,35579,35985,35986,35984,36085,36078,36081,36080,36083,36204,36206,36261,36263,36403,36414,36408,36416,36421,36406,36412,36413,36417,36400,36415,36541,36662,36654,36661,36658,36665,36663,36660,36982,36985,36987,36998,37114,37171,37173,37174,37267,37264,37265,37261,37263,37671,37662,37640,37663,37638,37647,37754,37688,37692,37659,37667,37650,37633,37702,37677,37646,37645,37579,37661,37626,37669,37651,37625,37623,37684,37634,37668,37631,37673,37689,37685,37674,37652,37644,37643,37630,37641,37632,37627,37654,38332,38349,38334,38329,38330,38326,38335,38325,38333,38569,38612,38667,38674,38672,38809,38807,38804,38896,38904,38965,38959,38962,39204,39199,39207,39209,39326,39406,39404,39397,39396,39408,39395,39402,39401,39399,39609,39615,39604,39611,39670,39674,39673,39671,39731,39808,39813,39815,39804,39806,39803,39810,39827,39826,39824,39802,39829,39805,39816,40229,40215,40224,40222,40212,40233,40221,40216,40226,40208,40217,40223,40584,40582,40583,40622,40621,40661,40662,40698,40722,40765,20774,20773,20770,20772,20768,20777,21236,22163,22156,22157,22150,22148,22147,22142,22146,22143,22145,22742,22740,22735,22738,23341,23333,23346,23331,23340,23335,23334,23343,23342,23419,23537,23538,23991,24172,24170,24510,24507,25027,25013,25020,25063,25056,25061,25060,25064,25054,25839,25833,25827,25835,25828,25832,25985,25984,26038,26074,26322,27277,27286,27265,27301,27273,27295,27291,27297,27294,27271,27283,27278,27285,27267,27304,27300,27281,27263,27302,27290,27269,27276,27282,27483,27565,27657,28620,28585,28660,28628,28643,28636,28653,28647,28646,28638,28658,28637,28642,28648,29153,29169,29160,29170,29156,29168,29154,29555,29550,29551,29847,29874,29867,29840,29866,29869,29873,29861,29871,29968,29969,29970,29967,30084,30275,30280,30281,30279,30372,30441,30645,30635,30642,30647,30646,30644,30641,30632,30704,30963,30973,30978,30971,30972,30962,30981,30969,30974,30980,31147,31144,31324,31323,31318,31320,31316,31322,31422,31424,31425,31749,31759,31730,31744,31743,31739,31758,31732,31755,31731,31746,31753,31747,31745,31736,31741,31750,31728,31729,31760,31754,31976,32301,32316,32322,32307,38984,32312,32298,32329,32320,32327,32297,32332,32304,32315,32310,32324,32314,32581,32639,32638,32637,32756,32754,32812,33211,33220,33228,33226,33221,33223,33212,33257,33371,33370,33372,34179,34176,34191,34215,34197,34208,34187,34211,34171,34212,34202,34206,34167,34172,34185,34209,34170,34168,34135,34190,34198,34182,34189,34201,34205,34177,34210,34178,34184,34181,34169,34166,34200,34192,34207,34408,34750,34730,34733,34757,34736,34732,34745,34741,34748,34734,34761,34755,34754,34764,34743,34735,34756,34762,34740,34742,34751,34744,34749,34782,34738,35125,35123,35132,35134,35137,35154,35127,35138,35245,35247,35246,35314,35315,35614,35608,35606,35601,35589,35595,35618,35599,35602,35605,35591,35597,35592,35590,35612,35603,35610,35919,35952,35954,35953,35951,35989,35988,36089,36207,36430,36429,36435,36432,36428,36423,36675,36672,36997,36990,37176,37274,37282,37275,37273,37279,37281,37277,37280,37793,37763,37807,37732,37718,37703,37756,37720,37724,37750,37705,37712,37713,37728,37741,37775,37708,37738,37753,37719,37717,37714,37711,37745,37751,37755,37729,37726,37731,37735,37760,37710,37721,38343,38336,38345,38339,38341,38327,38574,38576,38572,38688,38687,38680,38685,38681,38810,38817,38812,38814,38813,38869,38868,38897,38977,38980,38986,38985,38981,38979,39205,39211,39212,39210,39219,39218,39215,39213,39217,39216,39320,39331,39329,39426,39418,39412,39415,39417,39416,39414,39419,39421,39422,39420,39427,39614,39678,39677,39681,39676,39752,39834,39848,39838,39835,39846,39841,39845,39844,39814,39842,39840,39855,40243,40257,40295,40246,40238,40239,40241,40248,40240,40261,40258,40259,40254,40247,40256,40253,32757,40237,40586,40585,40589,40624,40648,40666,40699,40703,40740,40739,40738,40788,40864,20785,20781,20782,22168,22172,22167,22170,22173,22169,22896,23356,23657,23658,24e3,24173,24174,25048,25055,25069,25070,25073,25066,25072,25067,25046,25065,25855,25860,25853,25848,25857,25859,25852,26004,26075,26330,26331,26328,27333,27321,27325,27361,27334,27322,27318,27319,27335,27316,27309,27486,27593,27659,28679,28684,28685,28673,28677,28692,28686,28671,28672,28667,28710,28668,28663,28682,29185,29183,29177,29187,29181,29558,29880,29888,29877,29889,29886,29878,29883,29890,29972,29971,30300,30308,30297,30288,30291,30295,30298,30374,30397,30444,30658,30650,30975,30988,30995,30996,30985,30992,30994,30993,31149,31148,31327,31772,31785,31769,31776,31775,31789,31773,31782,31784,31778,31781,31792,32348,32336,32342,32355,32344,32354,32351,32337,32352,32343,32339,32693,32691,32759,32760,32885,33233,33234,33232,33375,33374,34228,34246,34240,34243,34242,34227,34229,34237,34247,34244,34239,34251,34254,34248,34245,34225,34230,34258,34340,34232,34231,34238,34409,34791,34790,34786,34779,34795,34794,34789,34783,34803,34788,34772,34780,34771,34797,34776,34787,34724,34775,34777,34817,34804,34792,34781,35155,35147,35151,35148,35142,35152,35153,35145,35626,35623,35619,35635,35632,35637,35655,35631,35644,35646,35633,35621,35639,35622,35638,35630,35620,35643,35645,35642,35906,35957,35993,35992,35991,36094,36100,36098,36096,36444,36450,36448,36439,36438,36446,36453,36455,36443,36442,36449,36445,36457,36436,36678,36679,36680,36683,37160,37178,37179,37182,37288,37285,37287,37295,37290,37813,37772,37778,37815,37787,37789,37769,37799,37774,37802,37790,37798,37781,37768,37785,37791,37773,37809,37777,37810,37796,37800,37812,37795,37797,38354,38355,38353,38579,38615,38618,24002,38623,38616,38621,38691,38690,38693,38828,38830,38824,38827,38820,38826,38818,38821,38871,38873,38870,38872,38906,38992,38993,38994,39096,39233,39228,39226,39439,39435,39433,39437,39428,39441,39434,39429,39431,39430,39616,39644,39688,39684,39685,39721,39733,39754,39756,39755,39879,39878,39875,39871,39873,39861,39864,39891,39862,39876,39865,39869,40284,40275,40271,40266,40283,40267,40281,40278,40268,40279,40274,40276,40287,40280,40282,40590,40588,40671,40705,40704,40726,40741,40747,40746,40745,40744,40780,40789,20788,20789,21142,21239,21428,22187,22189,22182,22183,22186,22188,22746,22749,22747,22802,23357,23358,23359,24003,24176,24511,25083,25863,25872,25869,25865,25868,25870,25988,26078,26077,26334,27367,27360,27340,27345,27353,27339,27359,27356,27344,27371,27343,27341,27358,27488,27568,27660,28697,28711,28704,28694,28715,28705,28706,28707,28713,28695,28708,28700,28714,29196,29194,29191,29186,29189,29349,29350,29348,29347,29345,29899,29893,29879,29891,29974,30304,30665,30666,30660,30705,31005,31003,31009,31004,30999,31006,31152,31335,31336,31795,31804,31801,31788,31803,31980,31978,32374,32373,32376,32368,32375,32367,32378,32370,32372,32360,32587,32586,32643,32646,32695,32765,32766,32888,33239,33237,33380,33377,33379,34283,34289,34285,34265,34273,34280,34266,34263,34284,34290,34296,34264,34271,34275,34268,34257,34288,34278,34287,34270,34274,34816,34810,34819,34806,34807,34825,34828,34827,34822,34812,34824,34815,34826,34818,35170,35162,35163,35159,35169,35164,35160,35165,35161,35208,35255,35254,35318,35664,35656,35658,35648,35667,35670,35668,35659,35669,35665,35650,35666,35671,35907,35959,35958,35994,36102,36103,36105,36268,36266,36269,36267,36461,36472,36467,36458,36463,36475,36546,36690,36689,36687,36688,36691,36788,37184,37183,37296,37293,37854,37831,37839,37826,37850,37840,37881,37868,37836,37849,37801,37862,37834,37844,37870,37859,37845,37828,37838,37824,37842,37863,38269,38362,38363,38625,38697,38699,38700,38696,38694,38835,38839,38838,38877,38878,38879,39004,39001,39005,38999,39103,39101,39099,39102,39240,39239,39235,39334,39335,39450,39445,39461,39453,39460,39451,39458,39456,39463,39459,39454,39452,39444,39618,39691,39690,39694,39692,39735,39914,39915,39904,39902,39908,39910,39906,39920,39892,39895,39916,39900,39897,39909,39893,39905,39898,40311,40321,40330,40324,40328,40305,40320,40312,40326,40331,40332,40317,40299,40308,40309,40304,40297,40325,40307,40315,40322,40303,40313,40319,40327,40296,40596,40593,40640,40700,40749,40768,40769,40781,40790,40791,40792,21303,22194,22197,22195,22755,23365,24006,24007,24302,24303,24512,24513,25081,25879,25878,25877,25875,26079,26344,26339,26340,27379,27376,27370,27368,27385,27377,27374,27375,28732,28725,28719,28727,28724,28721,28738,28728,28735,28730,28729,28736,28731,28723,28737,29203,29204,29352,29565,29564,29882,30379,30378,30398,30445,30668,30670,30671,30669,30706,31013,31011,31015,31016,31012,31017,31154,31342,31340,31341,31479,31817,31816,31818,31815,31813,31982,32379,32382,32385,32384,32698,32767,32889,33243,33241,33291,33384,33385,34338,34303,34305,34302,34331,34304,34294,34308,34313,34309,34316,34301,34841,34832,34833,34839,34835,34838,35171,35174,35257,35319,35680,35690,35677,35688,35683,35685,35687,35693,36270,36486,36488,36484,36697,36694,36695,36693,36696,36698,37005,37187,37185,37303,37301,37298,37299,37899,37907,37883,37920,37903,37908,37886,37909,37904,37928,37913,37901,37877,37888,37879,37895,37902,37910,37906,37882,37897,37880,37898,37887,37884,37900,37878,37905,37894,38366,38368,38367,38702,38703,38841,38843,38909,38910,39008,39010,39011,39007,39105,39106,39248,39246,39257,39244,39243,39251,39474,39476,39473,39468,39466,39478,39465,39470,39480,39469,39623,39626,39622,39696,39698,39697,39947,39944,39927,39941,39954,39928,4e4,39943,39950,39942,39959,39956,39945,40351,40345,40356,40349,40338,40344,40336,40347,40352,40340,40348,40362,40343,40353,40346,40354,40360,40350,40355,40383,40361,40342,40358,40359,40601,40603,40602,40677,40676,40679,40678,40752,40750,40795,40800,40798,40797,40793,40849,20794,20793,21144,21143,22211,22205,22206,23368,23367,24011,24015,24305,25085,25883,27394,27388,27395,27384,27392,28739,28740,28746,28744,28745,28741,28742,29213,29210,29209,29566,29975,30314,30672,31021,31025,31023,31828,31827,31986,32394,32391,32392,32395,32390,32397,32589,32699,32816,33245,34328,34346,34342,34335,34339,34332,34329,34343,34350,34337,34336,34345,34334,34341,34857,34845,34843,34848,34852,34844,34859,34890,35181,35177,35182,35179,35322,35705,35704,35653,35706,35707,36112,36116,36271,36494,36492,36702,36699,36701,37190,37188,37189,37305,37951,37947,37942,37929,37949,37948,37936,37945,37930,37943,37932,37952,37937,38373,38372,38371,38709,38714,38847,38881,39012,39113,39110,39104,39256,39254,39481,39485,39494,39492,39490,39489,39482,39487,39629,39701,39703,39704,39702,39738,39762,39979,39965,39964,39980,39971,39976,39977,39972,39969,40375,40374,40380,40385,40391,40394,40399,40382,40389,40387,40379,40373,40398,40377,40378,40364,40392,40369,40365,40396,40371,40397,40370,40570,40604,40683,40686,40685,40731,40728,40730,40753,40782,40805,40804,40850,20153,22214,22213,22219,22897,23371,23372,24021,24017,24306,25889,25888,25894,25890,27403,27400,27401,27661,28757,28758,28759,28754,29214,29215,29353,29567,29912,29909,29913,29911,30317,30381,31029,31156,31344,31345,31831,31836,31833,31835,31834,31988,31985,32401,32591,32647,33246,33387,34356,34357,34355,34348,34354,34358,34860,34856,34854,34858,34853,35185,35263,35262,35323,35710,35716,35714,35718,35717,35711,36117,36501,36500,36506,36498,36496,36502,36503,36704,36706,37191,37964,37968,37962,37963,37967,37959,37957,37960,37961,37958,38719,38883,39018,39017,39115,39252,39259,39502,39507,39508,39500,39503,39496,39498,39497,39506,39504,39632,39705,39723,39739,39766,39765,40006,40008,39999,40004,39993,39987,40001,39996,39991,39988,39986,39997,39990,40411,40402,40414,40410,40395,40400,40412,40401,40415,40425,40409,40408,40406,40437,40405,40413,40630,40688,40757,40755,40754,40770,40811,40853,40866,20797,21145,22760,22759,22898,23373,24024,34863,24399,25089,25091,25092,25897,25893,26006,26347,27409,27410,27407,27594,28763,28762,29218,29570,29569,29571,30320,30676,31847,31846,32405,33388,34362,34368,34361,34364,34353,34363,34366,34864,34866,34862,34867,35190,35188,35187,35326,35724,35726,35723,35720,35909,36121,36504,36708,36707,37308,37986,37973,37981,37975,37982,38852,38853,38912,39510,39513,39710,39711,39712,40018,40024,40016,40010,40013,40011,40021,40025,40012,40014,40443,40439,40431,40419,40427,40440,40420,40438,40417,40430,40422,40434,40432,40418,40428,40436,40435,40424,40429,40642,40656,40690,40691,40710,40732,40760,40759,40758,40771,40783,40817,40816,40814,40815,22227,22221,23374,23661,25901,26349,26350,27411,28767,28769,28765,28768,29219,29915,29925,30677,31032,31159,31158,31850,32407,32649,33389,34371,34872,34871,34869,34891,35732,35733,36510,36511,36512,36509,37310,37309,37314,37995,37992,37993,38629,38726,38723,38727,38855,38885,39518,39637,39769,40035,40039,40038,40034,40030,40032,40450,40446,40455,40451,40454,40453,40448,40449,40457,40447,40445,40452,40608,40734,40774,40820,40821,40822,22228,25902,26040,27416,27417,27415,27418,28770,29222,29354,30680,30681,31033,31849,31851,31990,32410,32408,32411,32409,33248,33249,34374,34375,34376,35193,35194,35196,35195,35327,35736,35737,36517,36516,36515,37998,37997,37999,38001,38003,38729,39026,39263,40040,40046,40045,40459,40461,40464,40463,40466,40465,40609,40693,40713,40775,40824,40827,40826,40825,22302,28774,31855,34876,36274,36518,37315,38004,38008,38006,38005,39520,40052,40051,40049,40053,40468,40467,40694,40714,40868,28776,28773,31991,34410,34878,34877,34879,35742,35996,36521,36553,38731,39027,39028,39116,39265,39339,39524,39526,39527,39716,40469,40471,40776,25095,27422,29223,34380,36520,38018,38016,38017,39529,39528,39726,40473,29225,34379,35743,38019,40057,40631,30325,39531,40058,40477,28777,28778,40612,40830,40777,40856,30849,37561,35023,22715,24658,31911,23290,9556,9574,9559,9568,9580,9571,9562,9577,9565,9554,9572,9557,9566,9578,9569,9560,9575,9563,9555,9573,9558,9567,9579,9570,9561,9576,9564,9553,9552,9581,9582,9584,9583,65517,132423,37595,132575,147397,34124,17077,29679,20917,13897,149826,166372,37700,137691,33518,146632,30780,26436,25311,149811,166314,131744,158643,135941,20395,140525,20488,159017,162436,144896,150193,140563,20521,131966,24484,131968,131911,28379,132127,20605,20737,13434,20750,39020,14147,33814,149924,132231,20832,144308,20842,134143,139516,131813,140592,132494,143923,137603,23426,34685,132531,146585,20914,20920,40244,20937,20943,20945,15580,20947,150182,20915,20962,21314,20973,33741,26942,145197,24443,21003,21030,21052,21173,21079,21140,21177,21189,31765,34114,21216,34317,158483,21253,166622,21833,28377,147328,133460,147436,21299,21316,134114,27851,136998,26651,29653,24650,16042,14540,136936,29149,17570,21357,21364,165547,21374,21375,136598,136723,30694,21395,166555,21408,21419,21422,29607,153458,16217,29596,21441,21445,27721,20041,22526,21465,15019,134031,21472,147435,142755,21494,134263,21523,28793,21803,26199,27995,21613,158547,134516,21853,21647,21668,18342,136973,134877,15796,134477,166332,140952,21831,19693,21551,29719,21894,21929,22021,137431,147514,17746,148533,26291,135348,22071,26317,144010,26276,26285,22093,22095,30961,22257,38791,21502,22272,22255,22253,166758,13859,135759,22342,147877,27758,28811,22338,14001,158846,22502,136214,22531,136276,148323,22566,150517,22620,22698,13665,22752,22748,135740,22779,23551,22339,172368,148088,37843,13729,22815,26790,14019,28249,136766,23076,21843,136850,34053,22985,134478,158849,159018,137180,23001,137211,137138,159142,28017,137256,136917,23033,159301,23211,23139,14054,149929,23159,14088,23190,29797,23251,159649,140628,15749,137489,14130,136888,24195,21200,23414,25992,23420,162318,16388,18525,131588,23509,24928,137780,154060,132517,23539,23453,19728,23557,138052,23571,29646,23572,138405,158504,23625,18653,23685,23785,23791,23947,138745,138807,23824,23832,23878,138916,23738,24023,33532,14381,149761,139337,139635,33415,14390,15298,24110,27274,24181,24186,148668,134355,21414,20151,24272,21416,137073,24073,24308,164994,24313,24315,14496,24316,26686,37915,24333,131521,194708,15070,18606,135994,24378,157832,140240,24408,140401,24419,38845,159342,24434,37696,166454,24487,23990,15711,152144,139114,159992,140904,37334,131742,166441,24625,26245,137335,14691,15815,13881,22416,141236,31089,15936,24734,24740,24755,149890,149903,162387,29860,20705,23200,24932,33828,24898,194726,159442,24961,20980,132694,24967,23466,147383,141407,25043,166813,170333,25040,14642,141696,141505,24611,24924,25886,25483,131352,25285,137072,25301,142861,25452,149983,14871,25656,25592,136078,137212,25744,28554,142902,38932,147596,153373,25825,25829,38011,14950,25658,14935,25933,28438,150056,150051,25989,25965,25951,143486,26037,149824,19255,26065,16600,137257,26080,26083,24543,144384,26136,143863,143864,26180,143780,143781,26187,134773,26215,152038,26227,26228,138813,143921,165364,143816,152339,30661,141559,39332,26370,148380,150049,15147,27130,145346,26462,26471,26466,147917,168173,26583,17641,26658,28240,37436,26625,144358,159136,26717,144495,27105,27147,166623,26995,26819,144845,26881,26880,15666,14849,144956,15232,26540,26977,166474,17148,26934,27032,15265,132041,33635,20624,27129,144985,139562,27205,145155,27293,15347,26545,27336,168348,15373,27421,133411,24798,27445,27508,141261,28341,146139,132021,137560,14144,21537,146266,27617,147196,27612,27703,140427,149745,158545,27738,33318,27769,146876,17605,146877,147876,149772,149760,146633,14053,15595,134450,39811,143865,140433,32655,26679,159013,159137,159211,28054,27996,28284,28420,149887,147589,159346,34099,159604,20935,27804,28189,33838,166689,28207,146991,29779,147330,31180,28239,23185,143435,28664,14093,28573,146992,28410,136343,147517,17749,37872,28484,28508,15694,28532,168304,15675,28575,147780,28627,147601,147797,147513,147440,147380,147775,20959,147798,147799,147776,156125,28747,28798,28839,28801,28876,28885,28886,28895,16644,15848,29108,29078,148087,28971,28997,23176,29002,29038,23708,148325,29007,37730,148161,28972,148570,150055,150050,29114,166888,28861,29198,37954,29205,22801,37955,29220,37697,153093,29230,29248,149876,26813,29269,29271,15957,143428,26637,28477,29314,29482,29483,149539,165931,18669,165892,29480,29486,29647,29610,134202,158254,29641,29769,147938,136935,150052,26147,14021,149943,149901,150011,29687,29717,26883,150054,29753,132547,16087,29788,141485,29792,167602,29767,29668,29814,33721,29804,14128,29812,37873,27180,29826,18771,150156,147807,150137,166799,23366,166915,137374,29896,137608,29966,29929,29982,167641,137803,23511,167596,37765,30029,30026,30055,30062,151426,16132,150803,30094,29789,30110,30132,30210,30252,30289,30287,30319,30326,156661,30352,33263,14328,157969,157966,30369,30373,30391,30412,159647,33890,151709,151933,138780,30494,30502,30528,25775,152096,30552,144044,30639,166244,166248,136897,30708,30729,136054,150034,26826,30895,30919,30931,38565,31022,153056,30935,31028,30897,161292,36792,34948,166699,155779,140828,31110,35072,26882,31104,153687,31133,162617,31036,31145,28202,160038,16040,31174,168205,31188],
"euc-kr":[44034,44035,44037,44038,44043,44044,44045,44046,44047,44056,44062,44063,44065,44066,44067,44069,44070,44071,44072,44073,44074,44075,44078,44082,44083,44084,null,null,null,null,null,null,44085,44086,44087,44090,44091,44093,44094,44095,44097,44098,44099,44100,44101,44102,44103,44104,44105,44106,44108,44110,44111,44112,44113,44114,44115,44117,null,null,null,null,null,null,44118,44119,44121,44122,44123,44125,44126,44127,44128,44129,44130,44131,44132,44133,44134,44135,44136,44137,44138,44139,44140,44141,44142,44143,44146,44147,44149,44150,44153,44155,44156,44157,44158,44159,44162,44167,44168,44173,44174,44175,44177,44178,44179,44181,44182,44183,44184,44185,44186,44187,44190,44194,44195,44196,44197,44198,44199,44203,44205,44206,44209,44210,44211,44212,44213,44214,44215,44218,44222,44223,44224,44226,44227,44229,44230,44231,44233,44234,44235,44237,44238,44239,44240,44241,44242,44243,44244,44246,44248,44249,44250,44251,44252,44253,44254,44255,44258,44259,44261,44262,44265,44267,44269,44270,44274,44276,44279,44280,44281,44282,44283,44286,44287,44289,44290,44291,44293,44295,44296,44297,44298,44299,44302,44304,44306,44307,44308,44309,44310,44311,44313,44314,44315,44317,44318,44319,44321,44322,44323,44324,44325,44326,44327,44328,44330,44331,44334,44335,44336,44337,44338,44339,null,null,null,null,null,null,44342,44343,44345,44346,44347,44349,44350,44351,44352,44353,44354,44355,44358,44360,44362,44363,44364,44365,44366,44367,44369,44370,44371,44373,44374,44375,null,null,null,null,null,null,44377,44378,44379,44380,44381,44382,44383,44384,44386,44388,44389,44390,44391,44392,44393,44394,44395,44398,44399,44401,44402,44407,44408,44409,44410,44414,44416,44419,44420,44421,44422,44423,44426,44427,44429,44430,44431,44433,44434,44435,44436,44437,44438,44439,44440,44441,44442,44443,44446,44447,44448,44449,44450,44451,44453,44454,44455,44456,44457,44458,44459,44460,44461,44462,44463,44464,44465,44466,44467,44468,44469,44470,44472,44473,44474,44475,44476,44477,44478,44479,44482,44483,44485,44486,44487,44489,44490,44491,44492,44493,44494,44495,44498,44500,44501,44502,44503,44504,44505,44506,44507,44509,44510,44511,44513,44514,44515,44517,44518,44519,44520,44521,44522,44523,44524,44525,44526,44527,44528,44529,44530,44531,44532,44533,44534,44535,44538,44539,44541,44542,44546,44547,44548,44549,44550,44551,44554,44556,44558,44559,44560,44561,44562,44563,44565,44566,44567,44568,44569,44570,44571,44572,null,null,null,null,null,null,44573,44574,44575,44576,44577,44578,44579,44580,44581,44582,44583,44584,44585,44586,44587,44588,44589,44590,44591,44594,44595,44597,44598,44601,44603,44604,null,null,null,null,null,null,44605,44606,44607,44610,44612,44615,44616,44617,44619,44623,44625,44626,44627,44629,44631,44632,44633,44634,44635,44638,44642,44643,44644,44646,44647,44650,44651,44653,44654,44655,44657,44658,44659,44660,44661,44662,44663,44666,44670,44671,44672,44673,44674,44675,44678,44679,44680,44681,44682,44683,44685,44686,44687,44688,44689,44690,44691,44692,44693,44694,44695,44696,44697,44698,44699,44700,44701,44702,44703,44704,44705,44706,44707,44708,44709,44710,44711,44712,44713,44714,44715,44716,44717,44718,44719,44720,44721,44722,44723,44724,44725,44726,44727,44728,44729,44730,44731,44735,44737,44738,44739,44741,44742,44743,44744,44745,44746,44747,44750,44754,44755,44756,44757,44758,44759,44762,44763,44765,44766,44767,44768,44769,44770,44771,44772,44773,44774,44775,44777,44778,44780,44782,44783,44784,44785,44786,44787,44789,44790,44791,44793,44794,44795,44797,44798,44799,44800,44801,44802,44803,44804,44805,null,null,null,null,null,null,44806,44809,44810,44811,44812,44814,44815,44817,44818,44819,44820,44821,44822,44823,44824,44825,44826,44827,44828,44829,44830,44831,44832,44833,44834,44835,null,null,null,null,null,null,44836,44837,44838,44839,44840,44841,44842,44843,44846,44847,44849,44851,44853,44854,44855,44856,44857,44858,44859,44862,44864,44868,44869,44870,44871,44874,44875,44876,44877,44878,44879,44881,44882,44883,44884,44885,44886,44887,44888,44889,44890,44891,44894,44895,44896,44897,44898,44899,44902,44903,44904,44905,44906,44907,44908,44909,44910,44911,44912,44913,44914,44915,44916,44917,44918,44919,44920,44922,44923,44924,44925,44926,44927,44929,44930,44931,44933,44934,44935,44937,44938,44939,44940,44941,44942,44943,44946,44947,44948,44950,44951,44952,44953,44954,44955,44957,44958,44959,44960,44961,44962,44963,44964,44965,44966,44967,44968,44969,44970,44971,44972,44973,44974,44975,44976,44977,44978,44979,44980,44981,44982,44983,44986,44987,44989,44990,44991,44993,44994,44995,44996,44997,44998,45002,45004,45007,45008,45009,45010,45011,45013,45014,45015,45016,45017,45018,45019,45021,45022,45023,45024,45025,null,null,null,null,null,null,45026,45027,45028,45029,45030,45031,45034,45035,45036,45037,45038,45039,45042,45043,45045,45046,45047,45049,45050,45051,45052,45053,45054,45055,45058,45059,null,null,null,null,null,null,45061,45062,45063,45064,45065,45066,45067,45069,45070,45071,45073,45074,45075,45077,45078,45079,45080,45081,45082,45083,45086,45087,45088,45089,45090,45091,45092,45093,45094,45095,45097,45098,45099,45100,45101,45102,45103,45104,45105,45106,45107,45108,45109,45110,45111,45112,45113,45114,45115,45116,45117,45118,45119,45120,45121,45122,45123,45126,45127,45129,45131,45133,45135,45136,45137,45138,45142,45144,45146,45147,45148,45150,45151,45152,45153,45154,45155,45156,45157,45158,45159,45160,45161,45162,45163,45164,45165,45166,45167,45168,45169,45170,45171,45172,45173,45174,45175,45176,45177,45178,45179,45182,45183,45185,45186,45187,45189,45190,45191,45192,45193,45194,45195,45198,45200,45202,45203,45204,45205,45206,45207,45211,45213,45214,45219,45220,45221,45222,45223,45226,45232,45234,45238,45239,45241,45242,45243,45245,45246,45247,45248,45249,45250,45251,45254,45258,45259,45260,45261,45262,45263,45266,null,null,null,null,null,null,45267,45269,45270,45271,45273,45274,45275,45276,45277,45278,45279,45281,45282,45283,45284,45286,45287,45288,45289,45290,45291,45292,45293,45294,45295,45296,null,null,null,null,null,null,45297,45298,45299,45300,45301,45302,45303,45304,45305,45306,45307,45308,45309,45310,45311,45312,45313,45314,45315,45316,45317,45318,45319,45322,45325,45326,45327,45329,45332,45333,45334,45335,45338,45342,45343,45344,45345,45346,45350,45351,45353,45354,45355,45357,45358,45359,45360,45361,45362,45363,45366,45370,45371,45372,45373,45374,45375,45378,45379,45381,45382,45383,45385,45386,45387,45388,45389,45390,45391,45394,45395,45398,45399,45401,45402,45403,45405,45406,45407,45409,45410,45411,45412,45413,45414,45415,45416,45417,45418,45419,45420,45421,45422,45423,45424,45425,45426,45427,45428,45429,45430,45431,45434,45435,45437,45438,45439,45441,45443,45444,45445,45446,45447,45450,45452,45454,45455,45456,45457,45461,45462,45463,45465,45466,45467,45469,45470,45471,45472,45473,45474,45475,45476,45477,45478,45479,45481,45482,45483,45484,45485,45486,45487,45488,45489,45490,45491,45492,45493,45494,45495,45496,null,null,null,null,null,null,45497,45498,45499,45500,45501,45502,45503,45504,45505,45506,45507,45508,45509,45510,45511,45512,45513,45514,45515,45517,45518,45519,45521,45522,45523,45525,null,null,null,null,null,null,45526,45527,45528,45529,45530,45531,45534,45536,45537,45538,45539,45540,45541,45542,45543,45546,45547,45549,45550,45551,45553,45554,45555,45556,45557,45558,45559,45560,45562,45564,45566,45567,45568,45569,45570,45571,45574,45575,45577,45578,45581,45582,45583,45584,45585,45586,45587,45590,45592,45594,45595,45596,45597,45598,45599,45601,45602,45603,45604,45605,45606,45607,45608,45609,45610,45611,45612,45613,45614,45615,45616,45617,45618,45619,45621,45622,45623,45624,45625,45626,45627,45629,45630,45631,45632,45633,45634,45635,45636,45637,45638,45639,45640,45641,45642,45643,45644,45645,45646,45647,45648,45649,45650,45651,45652,45653,45654,45655,45657,45658,45659,45661,45662,45663,45665,45666,45667,45668,45669,45670,45671,45674,45675,45676,45677,45678,45679,45680,45681,45682,45683,45686,45687,45688,45689,45690,45691,45693,45694,45695,45696,45697,45698,45699,45702,45703,45704,45706,45707,45708,45709,45710,null,null,null,null,null,null,45711,45714,45715,45717,45718,45719,45723,45724,45725,45726,45727,45730,45732,45735,45736,45737,45739,45741,45742,45743,45745,45746,45747,45749,45750,45751,null,null,null,null,null,null,45752,45753,45754,45755,45756,45757,45758,45759,45760,45761,45762,45763,45764,45765,45766,45767,45770,45771,45773,45774,45775,45777,45779,45780,45781,45782,45783,45786,45788,45790,45791,45792,45793,45795,45799,45801,45802,45808,45809,45810,45814,45820,45821,45822,45826,45827,45829,45830,45831,45833,45834,45835,45836,45837,45838,45839,45842,45846,45847,45848,45849,45850,45851,45853,45854,45855,45856,45857,45858,45859,45860,45861,45862,45863,45864,45865,45866,45867,45868,45869,45870,45871,45872,45873,45874,45875,45876,45877,45878,45879,45880,45881,45882,45883,45884,45885,45886,45887,45888,45889,45890,45891,45892,45893,45894,45895,45896,45897,45898,45899,45900,45901,45902,45903,45904,45905,45906,45907,45911,45913,45914,45917,45920,45921,45922,45923,45926,45928,45930,45932,45933,45935,45938,45939,45941,45942,45943,45945,45946,45947,45948,45949,45950,45951,45954,45958,45959,45960,45961,45962,45963,45965,null,null,null,null,null,null,45966,45967,45969,45970,45971,45973,45974,45975,45976,45977,45978,45979,45980,45981,45982,45983,45986,45987,45988,45989,45990,45991,45993,45994,45995,45997,null,null,null,null,null,null,45998,45999,46e3,46001,46002,46003,46004,46005,46006,46007,46008,46009,46010,46011,46012,46013,46014,46015,46016,46017,46018,46019,46022,46023,46025,46026,46029,46031,46033,46034,46035,46038,46040,46042,46044,46046,46047,46049,46050,46051,46053,46054,46055,46057,46058,46059,46060,46061,46062,46063,46064,46065,46066,46067,46068,46069,46070,46071,46072,46073,46074,46075,46077,46078,46079,46080,46081,46082,46083,46084,46085,46086,46087,46088,46089,46090,46091,46092,46093,46094,46095,46097,46098,46099,46100,46101,46102,46103,46105,46106,46107,46109,46110,46111,46113,46114,46115,46116,46117,46118,46119,46122,46124,46125,46126,46127,46128,46129,46130,46131,46133,46134,46135,46136,46137,46138,46139,46140,46141,46142,46143,46144,46145,46146,46147,46148,46149,46150,46151,46152,46153,46154,46155,46156,46157,46158,46159,46162,46163,46165,46166,46167,46169,46170,46171,46172,46173,46174,46175,46178,46180,46182,null,null,null,null,null,null,46183,46184,46185,46186,46187,46189,46190,46191,46192,46193,46194,46195,46196,46197,46198,46199,46200,46201,46202,46203,46204,46205,46206,46207,46209,46210,null,null,null,null,null,null,46211,46212,46213,46214,46215,46217,46218,46219,46220,46221,46222,46223,46224,46225,46226,46227,46228,46229,46230,46231,46232,46233,46234,46235,46236,46238,46239,46240,46241,46242,46243,46245,46246,46247,46249,46250,46251,46253,46254,46255,46256,46257,46258,46259,46260,46262,46264,46266,46267,46268,46269,46270,46271,46273,46274,46275,46277,46278,46279,46281,46282,46283,46284,46285,46286,46287,46289,46290,46291,46292,46294,46295,46296,46297,46298,46299,46302,46303,46305,46306,46309,46311,46312,46313,46314,46315,46318,46320,46322,46323,46324,46325,46326,46327,46329,46330,46331,46332,46333,46334,46335,46336,46337,46338,46339,46340,46341,46342,46343,46344,46345,46346,46347,46348,46349,46350,46351,46352,46353,46354,46355,46358,46359,46361,46362,46365,46366,46367,46368,46369,46370,46371,46374,46379,46380,46381,46382,46383,46386,46387,46389,46390,46391,46393,46394,46395,46396,46397,46398,46399,46402,46406,null,null,null,null,null,null,46407,46408,46409,46410,46414,46415,46417,46418,46419,46421,46422,46423,46424,46425,46426,46427,46430,46434,46435,46436,46437,46438,46439,46440,46441,46442,null,null,null,null,null,null,46443,46444,46445,46446,46447,46448,46449,46450,46451,46452,46453,46454,46455,46456,46457,46458,46459,46460,46461,46462,46463,46464,46465,46466,46467,46468,46469,46470,46471,46472,46473,46474,46475,46476,46477,46478,46479,46480,46481,46482,46483,46484,46485,46486,46487,46488,46489,46490,46491,46492,46493,46494,46495,46498,46499,46501,46502,46503,46505,46508,46509,46510,46511,46514,46518,46519,46520,46521,46522,46526,46527,46529,46530,46531,46533,46534,46535,46536,46537,46538,46539,46542,46546,46547,46548,46549,46550,46551,46553,46554,46555,46556,46557,46558,46559,46560,46561,46562,46563,46564,46565,46566,46567,46568,46569,46570,46571,46573,46574,46575,46576,46577,46578,46579,46580,46581,46582,46583,46584,46585,46586,46587,46588,46589,46590,46591,46592,46593,46594,46595,46596,46597,46598,46599,46600,46601,46602,46603,46604,46605,46606,46607,46610,46611,46613,46614,46615,46617,46618,46619,46620,46621,null,null,null,null,null,null,46622,46623,46624,46625,46626,46627,46628,46630,46631,46632,46633,46634,46635,46637,46638,46639,46640,46641,46642,46643,46645,46646,46647,46648,46649,46650,null,null,null,null,null,null,46651,46652,46653,46654,46655,46656,46657,46658,46659,46660,46661,46662,46663,46665,46666,46667,46668,46669,46670,46671,46672,46673,46674,46675,46676,46677,46678,46679,46680,46681,46682,46683,46684,46685,46686,46687,46688,46689,46690,46691,46693,46694,46695,46697,46698,46699,46700,46701,46702,46703,46704,46705,46706,46707,46708,46709,46710,46711,46712,46713,46714,46715,46716,46717,46718,46719,46720,46721,46722,46723,46724,46725,46726,46727,46728,46729,46730,46731,46732,46733,46734,46735,46736,46737,46738,46739,46740,46741,46742,46743,46744,46745,46746,46747,46750,46751,46753,46754,46755,46757,46758,46759,46760,46761,46762,46765,46766,46767,46768,46770,46771,46772,46773,46774,46775,46776,46777,46778,46779,46780,46781,46782,46783,46784,46785,46786,46787,46788,46789,46790,46791,46792,46793,46794,46795,46796,46797,46798,46799,46800,46801,46802,46803,46805,46806,46807,46808,46809,46810,46811,46812,46813,null,null,null,null,null,null,46814,46815,46816,46817,46818,46819,46820,46821,46822,46823,46824,46825,46826,46827,46828,46829,46830,46831,46833,46834,46835,46837,46838,46839,46841,46842,null,null,null,null,null,null,46843,46844,46845,46846,46847,46850,46851,46852,46854,46855,46856,46857,46858,46859,46860,46861,46862,46863,46864,46865,46866,46867,46868,46869,46870,46871,46872,46873,46874,46875,46876,46877,46878,46879,46880,46881,46882,46883,46884,46885,46886,46887,46890,46891,46893,46894,46897,46898,46899,46900,46901,46902,46903,46906,46908,46909,46910,46911,46912,46913,46914,46915,46917,46918,46919,46921,46922,46923,46925,46926,46927,46928,46929,46930,46931,46934,46935,46936,46937,46938,46939,46940,46941,46942,46943,46945,46946,46947,46949,46950,46951,46953,46954,46955,46956,46957,46958,46959,46962,46964,46966,46967,46968,46969,46970,46971,46974,46975,46977,46978,46979,46981,46982,46983,46984,46985,46986,46987,46990,46995,46996,46997,47002,47003,47005,47006,47007,47009,47010,47011,47012,47013,47014,47015,47018,47022,47023,47024,47025,47026,47027,47030,47031,47033,47034,47035,47036,47037,47038,47039,47040,47041,null,null,null,null,null,null,47042,47043,47044,47045,47046,47048,47050,47051,47052,47053,47054,47055,47056,47057,47058,47059,47060,47061,47062,47063,47064,47065,47066,47067,47068,47069,null,null,null,null,null,null,47070,47071,47072,47073,47074,47075,47076,47077,47078,47079,47080,47081,47082,47083,47086,47087,47089,47090,47091,47093,47094,47095,47096,47097,47098,47099,47102,47106,47107,47108,47109,47110,47114,47115,47117,47118,47119,47121,47122,47123,47124,47125,47126,47127,47130,47132,47134,47135,47136,47137,47138,47139,47142,47143,47145,47146,47147,47149,47150,47151,47152,47153,47154,47155,47158,47162,47163,47164,47165,47166,47167,47169,47170,47171,47173,47174,47175,47176,47177,47178,47179,47180,47181,47182,47183,47184,47186,47188,47189,47190,47191,47192,47193,47194,47195,47198,47199,47201,47202,47203,47205,47206,47207,47208,47209,47210,47211,47214,47216,47218,47219,47220,47221,47222,47223,47225,47226,47227,47229,47230,47231,47232,47233,47234,47235,47236,47237,47238,47239,47240,47241,47242,47243,47244,47246,47247,47248,47249,47250,47251,47252,47253,47254,47255,47256,47257,47258,47259,47260,47261,47262,47263,null,null,null,null,null,null,47264,47265,47266,47267,47268,47269,47270,47271,47273,47274,47275,47276,47277,47278,47279,47281,47282,47283,47285,47286,47287,47289,47290,47291,47292,47293,null,null,null,null,null,null,47294,47295,47298,47300,47302,47303,47304,47305,47306,47307,47309,47310,47311,47313,47314,47315,47317,47318,47319,47320,47321,47322,47323,47324,47326,47328,47330,47331,47332,47333,47334,47335,47338,47339,47341,47342,47343,47345,47346,47347,47348,47349,47350,47351,47354,47356,47358,47359,47360,47361,47362,47363,47365,47366,47367,47368,47369,47370,47371,47372,47373,47374,47375,47376,47377,47378,47379,47380,47381,47382,47383,47385,47386,47387,47388,47389,47390,47391,47393,47394,47395,47396,47397,47398,47399,47400,47401,47402,47403,47404,47405,47406,47407,47408,47409,47410,47411,47412,47413,47414,47415,47416,47417,47418,47419,47422,47423,47425,47426,47427,47429,47430,47431,47432,47433,47434,47435,47437,47438,47440,47442,47443,47444,47445,47446,47447,47450,47451,47453,47454,47455,47457,47458,47459,47460,47461,47462,47463,47466,47468,47470,47471,47472,47473,47474,47475,47478,47479,47481,47482,47483,47485,null,null,null,null,null,null,47486,47487,47488,47489,47490,47491,47494,47496,47499,47500,47503,47504,47505,47506,47507,47508,47509,47510,47511,47512,47513,47514,47515,47516,47517,47518,null,null,null,null,null,null,47519,47520,47521,47522,47523,47524,47525,47526,47527,47528,47529,47530,47531,47534,47535,47537,47538,47539,47541,47542,47543,47544,47545,47546,47547,47550,47552,47554,47555,47556,47557,47558,47559,47562,47563,47565,47571,47572,47573,47574,47575,47578,47580,47583,47584,47586,47590,47591,47593,47594,47595,47597,47598,47599,47600,47601,47602,47603,47606,47611,47612,47613,47614,47615,47618,47619,47620,47621,47622,47623,47625,47626,47627,47628,47629,47630,47631,47632,47633,47634,47635,47636,47638,47639,47640,47641,47642,47643,47644,47645,47646,47647,47648,47649,47650,47651,47652,47653,47654,47655,47656,47657,47658,47659,47660,47661,47662,47663,47664,47665,47666,47667,47668,47669,47670,47671,47674,47675,47677,47678,47679,47681,47683,47684,47685,47686,47687,47690,47692,47695,47696,47697,47698,47702,47703,47705,47706,47707,47709,47710,47711,47712,47713,47714,47715,47718,47722,47723,47724,47725,47726,47727,null,null,null,null,null,null,47730,47731,47733,47734,47735,47737,47738,47739,47740,47741,47742,47743,47744,47745,47746,47750,47752,47753,47754,47755,47757,47758,47759,47760,47761,47762,null,null,null,null,null,null,47763,47764,47765,47766,47767,47768,47769,47770,47771,47772,47773,47774,47775,47776,47777,47778,47779,47780,47781,47782,47783,47786,47789,47790,47791,47793,47795,47796,47797,47798,47799,47802,47804,47806,47807,47808,47809,47810,47811,47813,47814,47815,47817,47818,47819,47820,47821,47822,47823,47824,47825,47826,47827,47828,47829,47830,47831,47834,47835,47836,47837,47838,47839,47840,47841,47842,47843,47844,47845,47846,47847,47848,47849,47850,47851,47852,47853,47854,47855,47856,47857,47858,47859,47860,47861,47862,47863,47864,47865,47866,47867,47869,47870,47871,47873,47874,47875,47877,47878,47879,47880,47881,47882,47883,47884,47886,47888,47890,47891,47892,47893,47894,47895,47897,47898,47899,47901,47902,47903,47905,47906,47907,47908,47909,47910,47911,47912,47914,47916,47917,47918,47919,47920,47921,47922,47923,47927,47929,47930,47935,47936,47937,47938,47939,47942,47944,47946,47947,47948,47950,47953,47954,null,null,null,null,null,null,47955,47957,47958,47959,47961,47962,47963,47964,47965,47966,47967,47968,47970,47972,47973,47974,47975,47976,47977,47978,47979,47981,47982,47983,47984,47985,null,null,null,null,null,null,47986,47987,47988,47989,47990,47991,47992,47993,47994,47995,47996,47997,47998,47999,48e3,48001,48002,48003,48004,48005,48006,48007,48009,48010,48011,48013,48014,48015,48017,48018,48019,48020,48021,48022,48023,48024,48025,48026,48027,48028,48029,48030,48031,48032,48033,48034,48035,48037,48038,48039,48041,48042,48043,48045,48046,48047,48048,48049,48050,48051,48053,48054,48056,48057,48058,48059,48060,48061,48062,48063,48065,48066,48067,48069,48070,48071,48073,48074,48075,48076,48077,48078,48079,48081,48082,48084,48085,48086,48087,48088,48089,48090,48091,48092,48093,48094,48095,48096,48097,48098,48099,48100,48101,48102,48103,48104,48105,48106,48107,48108,48109,48110,48111,48112,48113,48114,48115,48116,48117,48118,48119,48122,48123,48125,48126,48129,48131,48132,48133,48134,48135,48138,48142,48144,48146,48147,48153,48154,48160,48161,48162,48163,48166,48168,48170,48171,48172,48174,48175,48178,48179,48181,null,null,null,null,null,null,48182,48183,48185,48186,48187,48188,48189,48190,48191,48194,48198,48199,48200,48202,48203,48206,48207,48209,48210,48211,48212,48213,48214,48215,48216,48217,null,null,null,null,null,null,48218,48219,48220,48222,48223,48224,48225,48226,48227,48228,48229,48230,48231,48232,48233,48234,48235,48236,48237,48238,48239,48240,48241,48242,48243,48244,48245,48246,48247,48248,48249,48250,48251,48252,48253,48254,48255,48256,48257,48258,48259,48262,48263,48265,48266,48269,48271,48272,48273,48274,48275,48278,48280,48283,48284,48285,48286,48287,48290,48291,48293,48294,48297,48298,48299,48300,48301,48302,48303,48306,48310,48311,48312,48313,48314,48315,48318,48319,48321,48322,48323,48325,48326,48327,48328,48329,48330,48331,48332,48334,48338,48339,48340,48342,48343,48345,48346,48347,48349,48350,48351,48352,48353,48354,48355,48356,48357,48358,48359,48360,48361,48362,48363,48364,48365,48366,48367,48368,48369,48370,48371,48375,48377,48378,48379,48381,48382,48383,48384,48385,48386,48387,48390,48392,48394,48395,48396,48397,48398,48399,48401,48402,48403,48405,48406,48407,48408,48409,48410,48411,48412,48413,null,null,null,null,null,null,48414,48415,48416,48417,48418,48419,48421,48422,48423,48424,48425,48426,48427,48429,48430,48431,48432,48433,48434,48435,48436,48437,48438,48439,48440,48441,null,null,null,null,null,null,48442,48443,48444,48445,48446,48447,48449,48450,48451,48452,48453,48454,48455,48458,48459,48461,48462,48463,48465,48466,48467,48468,48469,48470,48471,48474,48475,48476,48477,48478,48479,48480,48481,48482,48483,48485,48486,48487,48489,48490,48491,48492,48493,48494,48495,48496,48497,48498,48499,48500,48501,48502,48503,48504,48505,48506,48507,48508,48509,48510,48511,48514,48515,48517,48518,48523,48524,48525,48526,48527,48530,48532,48534,48535,48536,48539,48541,48542,48543,48544,48545,48546,48547,48549,48550,48551,48552,48553,48554,48555,48556,48557,48558,48559,48561,48562,48563,48564,48565,48566,48567,48569,48570,48571,48572,48573,48574,48575,48576,48577,48578,48579,48580,48581,48582,48583,48584,48585,48586,48587,48588,48589,48590,48591,48592,48593,48594,48595,48598,48599,48601,48602,48603,48605,48606,48607,48608,48609,48610,48611,48612,48613,48614,48615,48616,48618,48619,48620,48621,48622,48623,48625,null,null,null,null,null,null,48626,48627,48629,48630,48631,48633,48634,48635,48636,48637,48638,48639,48641,48642,48644,48646,48647,48648,48649,48650,48651,48654,48655,48657,48658,48659,null,null,null,null,null,null,48661,48662,48663,48664,48665,48666,48667,48670,48672,48673,48674,48675,48676,48677,48678,48679,48680,48681,48682,48683,48684,48685,48686,48687,48688,48689,48690,48691,48692,48693,48694,48695,48696,48697,48698,48699,48700,48701,48702,48703,48704,48705,48706,48707,48710,48711,48713,48714,48715,48717,48719,48720,48721,48722,48723,48726,48728,48732,48733,48734,48735,48738,48739,48741,48742,48743,48745,48747,48748,48749,48750,48751,48754,48758,48759,48760,48761,48762,48766,48767,48769,48770,48771,48773,48774,48775,48776,48777,48778,48779,48782,48786,48787,48788,48789,48790,48791,48794,48795,48796,48797,48798,48799,48800,48801,48802,48803,48804,48805,48806,48807,48809,48810,48811,48812,48813,48814,48815,48816,48817,48818,48819,48820,48821,48822,48823,48824,48825,48826,48827,48828,48829,48830,48831,48832,48833,48834,48835,48836,48837,48838,48839,48840,48841,48842,48843,48844,48845,48846,48847,48850,48851,null,null,null,null,null,null,48853,48854,48857,48858,48859,48860,48861,48862,48863,48865,48866,48870,48871,48872,48873,48874,48875,48877,48878,48879,48880,48881,48882,48883,48884,48885,null,null,null,null,null,null,48886,48887,48888,48889,48890,48891,48892,48893,48894,48895,48896,48898,48899,48900,48901,48902,48903,48906,48907,48908,48909,48910,48911,48912,48913,48914,48915,48916,48917,48918,48919,48922,48926,48927,48928,48929,48930,48931,48932,48933,48934,48935,48936,48937,48938,48939,48940,48941,48942,48943,48944,48945,48946,48947,48948,48949,48950,48951,48952,48953,48954,48955,48956,48957,48958,48959,48962,48963,48965,48966,48967,48969,48970,48971,48972,48973,48974,48975,48978,48979,48980,48982,48983,48984,48985,48986,48987,48988,48989,48990,48991,48992,48993,48994,48995,48996,48997,48998,48999,49e3,49001,49002,49003,49004,49005,49006,49007,49008,49009,49010,49011,49012,49013,49014,49015,49016,49017,49018,49019,49020,49021,49022,49023,49024,49025,49026,49027,49028,49029,49030,49031,49032,49033,49034,49035,49036,49037,49038,49039,49040,49041,49042,49043,49045,49046,49047,49048,49049,49050,49051,49052,49053,null,null,null,null,null,null,49054,49055,49056,49057,49058,49059,49060,49061,49062,49063,49064,49065,49066,49067,49068,49069,49070,49071,49073,49074,49075,49076,49077,49078,49079,49080,null,null,null,null,null,null,49081,49082,49083,49084,49085,49086,49087,49088,49089,49090,49091,49092,49094,49095,49096,49097,49098,49099,49102,49103,49105,49106,49107,49109,49110,49111,49112,49113,49114,49115,49117,49118,49120,49122,49123,49124,49125,49126,49127,49128,49129,49130,49131,49132,49133,49134,49135,49136,49137,49138,49139,49140,49141,49142,49143,49144,49145,49146,49147,49148,49149,49150,49151,49152,49153,49154,49155,49156,49157,49158,49159,49160,49161,49162,49163,49164,49165,49166,49167,49168,49169,49170,49171,49172,49173,49174,49175,49176,49177,49178,49179,49180,49181,49182,49183,49184,49185,49186,49187,49188,49189,49190,49191,49192,49193,49194,49195,49196,49197,49198,49199,49200,49201,49202,49203,49204,49205,49206,49207,49208,49209,49210,49211,49213,49214,49215,49216,49217,49218,49219,49220,49221,49222,49223,49224,49225,49226,49227,49228,49229,49230,49231,49232,49234,49235,49236,49237,49238,49239,49241,49242,49243,null,null,null,null,null,null,49245,49246,49247,49249,49250,49251,49252,49253,49254,49255,49258,49259,49260,49261,49262,49263,49264,49265,49266,49267,49268,49269,49270,49271,49272,49273,null,null,null,null,null,null,49274,49275,49276,49277,49278,49279,49280,49281,49282,49283,49284,49285,49286,49287,49288,49289,49290,49291,49292,49293,49294,49295,49298,49299,49301,49302,49303,49305,49306,49307,49308,49309,49310,49311,49314,49316,49318,49319,49320,49321,49322,49323,49326,49329,49330,49335,49336,49337,49338,49339,49342,49346,49347,49348,49350,49351,49354,49355,49357,49358,49359,49361,49362,49363,49364,49365,49366,49367,49370,49374,49375,49376,49377,49378,49379,49382,49383,49385,49386,49387,49389,49390,49391,49392,49393,49394,49395,49398,49400,49402,49403,49404,49405,49406,49407,49409,49410,49411,49413,49414,49415,49417,49418,49419,49420,49421,49422,49423,49425,49426,49427,49428,49430,49431,49432,49433,49434,49435,49441,49442,49445,49448,49449,49450,49451,49454,49458,49459,49460,49461,49463,49466,49467,49469,49470,49471,49473,49474,49475,49476,49477,49478,49479,49482,49486,49487,49488,49489,49490,49491,49494,49495,null,null,null,null,null,null,49497,49498,49499,49501,49502,49503,49504,49505,49506,49507,49510,49514,49515,49516,49517,49518,49519,49521,49522,49523,49525,49526,49527,49529,49530,49531,null,null,null,null,null,null,49532,49533,49534,49535,49536,49537,49538,49539,49540,49542,49543,49544,49545,49546,49547,49551,49553,49554,49555,49557,49559,49560,49561,49562,49563,49566,49568,49570,49571,49572,49574,49575,49578,49579,49581,49582,49583,49585,49586,49587,49588,49589,49590,49591,49592,49593,49594,49595,49596,49598,49599,49600,49601,49602,49603,49605,49606,49607,49609,49610,49611,49613,49614,49615,49616,49617,49618,49619,49621,49622,49625,49626,49627,49628,49629,49630,49631,49633,49634,49635,49637,49638,49639,49641,49642,49643,49644,49645,49646,49647,49650,49652,49653,49654,49655,49656,49657,49658,49659,49662,49663,49665,49666,49667,49669,49670,49671,49672,49673,49674,49675,49678,49680,49682,49683,49684,49685,49686,49687,49690,49691,49693,49694,49697,49698,49699,49700,49701,49702,49703,49706,49708,49710,49712,49715,49717,49718,49719,49720,49721,49722,49723,49724,49725,49726,49727,49728,49729,49730,49731,49732,49733,null,null,null,null,null,null,49734,49735,49737,49738,49739,49740,49741,49742,49743,49746,49747,49749,49750,49751,49753,49754,49755,49756,49757,49758,49759,49761,49762,49763,49764,49766,null,null,null,null,null,null,49767,49768,49769,49770,49771,49774,49775,49777,49778,49779,49781,49782,49783,49784,49785,49786,49787,49790,49792,49794,49795,49796,49797,49798,49799,49802,49803,49804,49805,49806,49807,49809,49810,49811,49812,49813,49814,49815,49817,49818,49820,49822,49823,49824,49825,49826,49827,49830,49831,49833,49834,49835,49838,49839,49840,49841,49842,49843,49846,49848,49850,49851,49852,49853,49854,49855,49856,49857,49858,49859,49860,49861,49862,49863,49864,49865,49866,49867,49868,49869,49870,49871,49872,49873,49874,49875,49876,49877,49878,49879,49880,49881,49882,49883,49886,49887,49889,49890,49893,49894,49895,49896,49897,49898,49902,49904,49906,49907,49908,49909,49911,49914,49917,49918,49919,49921,49922,49923,49924,49925,49926,49927,49930,49931,49934,49935,49936,49937,49938,49942,49943,49945,49946,49947,49949,49950,49951,49952,49953,49954,49955,49958,49959,49962,49963,49964,49965,49966,49967,49968,49969,49970,null,null,null,null,null,null,49971,49972,49973,49974,49975,49976,49977,49978,49979,49980,49981,49982,49983,49984,49985,49986,49987,49988,49990,49991,49992,49993,49994,49995,49996,49997,null,null,null,null,null,null,49998,49999,5e4,50001,50002,50003,50004,50005,50006,50007,50008,50009,50010,50011,50012,50013,50014,50015,50016,50017,50018,50019,50020,50021,50022,50023,50026,50027,50029,50030,50031,50033,50035,50036,50037,50038,50039,50042,50043,50046,50047,50048,50049,50050,50051,50053,50054,50055,50057,50058,50059,50061,50062,50063,50064,50065,50066,50067,50068,50069,50070,50071,50072,50073,50074,50075,50076,50077,50078,50079,50080,50081,50082,50083,50084,50085,50086,50087,50088,50089,50090,50091,50092,50093,50094,50095,50096,50097,50098,50099,50100,50101,50102,50103,50104,50105,50106,50107,50108,50109,50110,50111,50113,50114,50115,50116,50117,50118,50119,50120,50121,50122,50123,50124,50125,50126,50127,50128,50129,50130,50131,50132,50133,50134,50135,50138,50139,50141,50142,50145,50147,50148,50149,50150,50151,50154,50155,50156,50158,50159,50160,50161,50162,50163,50166,50167,50169,50170,50171,50172,50173,50174,null,null,null,null,null,null,50175,50176,50177,50178,50179,50180,50181,50182,50183,50185,50186,50187,50188,50189,50190,50191,50193,50194,50195,50196,50197,50198,50199,50200,50201,50202,null,null,null,null,null,null,50203,50204,50205,50206,50207,50208,50209,50210,50211,50213,50214,50215,50216,50217,50218,50219,50221,50222,50223,50225,50226,50227,50229,50230,50231,50232,50233,50234,50235,50238,50239,50240,50241,50242,50243,50244,50245,50246,50247,50249,50250,50251,50252,50253,50254,50255,50256,50257,50258,50259,50260,50261,50262,50263,50264,50265,50266,50267,50268,50269,50270,50271,50272,50273,50274,50275,50278,50279,50281,50282,50283,50285,50286,50287,50288,50289,50290,50291,50294,50295,50296,50298,50299,50300,50301,50302,50303,50305,50306,50307,50308,50309,50310,50311,50312,50313,50314,50315,50316,50317,50318,50319,50320,50321,50322,50323,50325,50326,50327,50328,50329,50330,50331,50333,50334,50335,50336,50337,50338,50339,50340,50341,50342,50343,50344,50345,50346,50347,50348,50349,50350,50351,50352,50353,50354,50355,50356,50357,50358,50359,50361,50362,50363,50365,50366,50367,50368,50369,50370,50371,50372,50373,null,null,null,null,null,null,50374,50375,50376,50377,50378,50379,50380,50381,50382,50383,50384,50385,50386,50387,50388,50389,50390,50391,50392,50393,50394,50395,50396,50397,50398,50399,null,null,null,null,null,null,50400,50401,50402,50403,50404,50405,50406,50407,50408,50410,50411,50412,50413,50414,50415,50418,50419,50421,50422,50423,50425,50427,50428,50429,50430,50434,50435,50436,50437,50438,50439,50440,50441,50442,50443,50445,50446,50447,50449,50450,50451,50453,50454,50455,50456,50457,50458,50459,50461,50462,50463,50464,50465,50466,50467,50468,50469,50470,50471,50474,50475,50477,50478,50479,50481,50482,50483,50484,50485,50486,50487,50490,50492,50494,50495,50496,50497,50498,50499,50502,50503,50507,50511,50512,50513,50514,50518,50522,50523,50524,50527,50530,50531,50533,50534,50535,50537,50538,50539,50540,50541,50542,50543,50546,50550,50551,50552,50553,50554,50555,50558,50559,50561,50562,50563,50565,50566,50568,50569,50570,50571,50574,50576,50578,50579,50580,50582,50585,50586,50587,50589,50590,50591,50593,50594,50595,50596,50597,50598,50599,50600,50602,50603,50604,50605,50606,50607,50608,50609,50610,50611,50614,null,null,null,null,null,null,50615,50618,50623,50624,50625,50626,50627,50635,50637,50639,50642,50643,50645,50646,50647,50649,50650,50651,50652,50653,50654,50655,50658,50660,50662,50663,null,null,null,null,null,null,50664,50665,50666,50667,50671,50673,50674,50675,50677,50680,50681,50682,50683,50690,50691,50692,50697,50698,50699,50701,50702,50703,50705,50706,50707,50708,50709,50710,50711,50714,50717,50718,50719,50720,50721,50722,50723,50726,50727,50729,50730,50731,50735,50737,50738,50742,50744,50746,50748,50749,50750,50751,50754,50755,50757,50758,50759,50761,50762,50763,50764,50765,50766,50767,50770,50774,50775,50776,50777,50778,50779,50782,50783,50785,50786,50787,50788,50789,50790,50791,50792,50793,50794,50795,50797,50798,50800,50802,50803,50804,50805,50806,50807,50810,50811,50813,50814,50815,50817,50818,50819,50820,50821,50822,50823,50826,50828,50830,50831,50832,50833,50834,50835,50838,50839,50841,50842,50843,50845,50846,50847,50848,50849,50850,50851,50854,50856,50858,50859,50860,50861,50862,50863,50866,50867,50869,50870,50871,50875,50876,50877,50878,50879,50882,50884,50886,50887,50888,50889,50890,50891,50894,null,null,null,null,null,null,50895,50897,50898,50899,50901,50902,50903,50904,50905,50906,50907,50910,50911,50914,50915,50916,50917,50918,50919,50922,50923,50925,50926,50927,50929,50930,null,null,null,null,null,null,50931,50932,50933,50934,50935,50938,50939,50940,50942,50943,50944,50945,50946,50947,50950,50951,50953,50954,50955,50957,50958,50959,50960,50961,50962,50963,50966,50968,50970,50971,50972,50973,50974,50975,50978,50979,50981,50982,50983,50985,50986,50987,50988,50989,50990,50991,50994,50996,50998,51e3,51001,51002,51003,51006,51007,51009,51010,51011,51013,51014,51015,51016,51017,51019,51022,51024,51033,51034,51035,51037,51038,51039,51041,51042,51043,51044,51045,51046,51047,51049,51050,51052,51053,51054,51055,51056,51057,51058,51059,51062,51063,51065,51066,51067,51071,51072,51073,51074,51078,51083,51084,51085,51087,51090,51091,51093,51097,51099,51100,51101,51102,51103,51106,51111,51112,51113,51114,51115,51118,51119,51121,51122,51123,51125,51126,51127,51128,51129,51130,51131,51134,51138,51139,51140,51141,51142,51143,51146,51147,51149,51151,51153,51154,51155,51156,51157,51158,51159,51161,51162,51163,51164,null,null,null,null,null,null,51166,51167,51168,51169,51170,51171,51173,51174,51175,51177,51178,51179,51181,51182,51183,51184,51185,51186,51187,51188,51189,51190,51191,51192,51193,51194,null,null,null,null,null,null,51195,51196,51197,51198,51199,51202,51203,51205,51206,51207,51209,51211,51212,51213,51214,51215,51218,51220,51223,51224,51225,51226,51227,51230,51231,51233,51234,51235,51237,51238,51239,51240,51241,51242,51243,51246,51248,51250,51251,51252,51253,51254,51255,51257,51258,51259,51261,51262,51263,51265,51266,51267,51268,51269,51270,51271,51274,51275,51278,51279,51280,51281,51282,51283,51285,51286,51287,51288,51289,51290,51291,51292,51293,51294,51295,51296,51297,51298,51299,51300,51301,51302,51303,51304,51305,51306,51307,51308,51309,51310,51311,51314,51315,51317,51318,51319,51321,51323,51324,51325,51326,51327,51330,51332,51336,51337,51338,51342,51343,51344,51345,51346,51347,51349,51350,51351,51352,51353,51354,51355,51356,51358,51360,51362,51363,51364,51365,51366,51367,51369,51370,51371,51372,51373,51374,51375,51376,51377,51378,51379,51380,51381,51382,51383,51384,51385,51386,51387,51390,51391,51392,51393,null,null,null,null,null,null,51394,51395,51397,51398,51399,51401,51402,51403,51405,51406,51407,51408,51409,51410,51411,51414,51416,51418,51419,51420,51421,51422,51423,51426,51427,51429,null,null,null,null,null,null,51430,51431,51432,51433,51434,51435,51436,51437,51438,51439,51440,51441,51442,51443,51444,51446,51447,51448,51449,51450,51451,51454,51455,51457,51458,51459,51463,51464,51465,51466,51467,51470,12288,12289,12290,183,8229,8230,168,12291,173,8213,8741,65340,8764,8216,8217,8220,8221,12308,12309,12296,12297,12298,12299,12300,12301,12302,12303,12304,12305,177,215,247,8800,8804,8805,8734,8756,176,8242,8243,8451,8491,65504,65505,65509,9794,9792,8736,8869,8978,8706,8711,8801,8786,167,8251,9734,9733,9675,9679,9678,9671,9670,9633,9632,9651,9650,9661,9660,8594,8592,8593,8595,8596,12307,8810,8811,8730,8765,8733,8757,8747,8748,8712,8715,8838,8839,8834,8835,8746,8745,8743,8744,65506,51472,51474,51475,51476,51477,51478,51479,51481,51482,51483,51484,51485,51486,51487,51488,51489,51490,51491,51492,51493,51494,51495,51496,51497,51498,51499,null,null,null,null,null,null,51501,51502,51503,51504,51505,51506,51507,51509,51510,51511,51512,51513,51514,51515,51516,51517,51518,51519,51520,51521,51522,51523,51524,51525,51526,51527,null,null,null,null,null,null,51528,51529,51530,51531,51532,51533,51534,51535,51538,51539,51541,51542,51543,51545,51546,51547,51548,51549,51550,51551,51554,51556,51557,51558,51559,51560,51561,51562,51563,51565,51566,51567,8658,8660,8704,8707,180,65374,711,728,733,730,729,184,731,161,191,720,8750,8721,8719,164,8457,8240,9665,9664,9655,9654,9828,9824,9825,9829,9831,9827,8857,9672,9635,9680,9681,9618,9636,9637,9640,9639,9638,9641,9832,9743,9742,9756,9758,182,8224,8225,8597,8599,8601,8598,8600,9837,9833,9834,9836,12927,12828,8470,13255,8482,13250,13272,8481,8364,174,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,51569,51570,51571,51573,51574,51575,51576,51577,51578,51579,51581,51582,51583,51584,51585,51586,51587,51588,51589,51590,51591,51594,51595,51597,51598,51599,null,null,null,null,null,null,51601,51602,51603,51604,51605,51606,51607,51610,51612,51614,51615,51616,51617,51618,51619,51620,51621,51622,51623,51624,51625,51626,51627,51628,51629,51630,null,null,null,null,null,null,51631,51632,51633,51634,51635,51636,51637,51638,51639,51640,51641,51642,51643,51644,51645,51646,51647,51650,51651,51653,51654,51657,51659,51660,51661,51662,51663,51666,51668,51671,51672,51675,65281,65282,65283,65284,65285,65286,65287,65288,65289,65290,65291,65292,65293,65294,65295,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,65306,65307,65308,65309,65310,65311,65312,65313,65314,65315,65316,65317,65318,65319,65320,65321,65322,65323,65324,65325,65326,65327,65328,65329,65330,65331,65332,65333,65334,65335,65336,65337,65338,65339,65510,65341,65342,65343,65344,65345,65346,65347,65348,65349,65350,65351,65352,65353,65354,65355,65356,65357,65358,65359,65360,65361,65362,65363,65364,65365,65366,65367,65368,65369,65370,65371,65372,65373,65507,51678,51679,51681,51683,51685,51686,51688,51689,51690,51691,51694,51698,51699,51700,51701,51702,51703,51706,51707,51709,51710,51711,51713,51714,51715,51716,null,null,null,null,null,null,51717,51718,51719,51722,51726,51727,51728,51729,51730,51731,51733,51734,51735,51737,51738,51739,51740,51741,51742,51743,51744,51745,51746,51747,51748,51749,null,null,null,null,null,null,51750,51751,51752,51754,51755,51756,51757,51758,51759,51760,51761,51762,51763,51764,51765,51766,51767,51768,51769,51770,51771,51772,51773,51774,51775,51776,51777,51778,51779,51780,51781,51782,12593,12594,12595,12596,12597,12598,12599,12600,12601,12602,12603,12604,12605,12606,12607,12608,12609,12610,12611,12612,12613,12614,12615,12616,12617,12618,12619,12620,12621,12622,12623,12624,12625,12626,12627,12628,12629,12630,12631,12632,12633,12634,12635,12636,12637,12638,12639,12640,12641,12642,12643,12644,12645,12646,12647,12648,12649,12650,12651,12652,12653,12654,12655,12656,12657,12658,12659,12660,12661,12662,12663,12664,12665,12666,12667,12668,12669,12670,12671,12672,12673,12674,12675,12676,12677,12678,12679,12680,12681,12682,12683,12684,12685,12686,51783,51784,51785,51786,51787,51790,51791,51793,51794,51795,51797,51798,51799,51800,51801,51802,51803,51806,51810,51811,51812,51813,51814,51815,51817,51818,null,null,null,null,null,null,51819,51820,51821,51822,51823,51824,51825,51826,51827,51828,51829,51830,51831,51832,51833,51834,51835,51836,51838,51839,51840,51841,51842,51843,51845,51846,null,null,null,null,null,null,51847,51848,51849,51850,51851,51852,51853,51854,51855,51856,51857,51858,51859,51860,51861,51862,51863,51865,51866,51867,51868,51869,51870,51871,51872,51873,51874,51875,51876,51877,51878,51879,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,null,null,null,null,null,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,null,null,null,null,null,null,null,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,null,null,null,null,null,null,null,null,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,null,null,null,null,null,null,51880,51881,51882,51883,51884,51885,51886,51887,51888,51889,51890,51891,51892,51893,51894,51895,51896,51897,51898,51899,51902,51903,51905,51906,51907,51909,null,null,null,null,null,null,51910,51911,51912,51913,51914,51915,51918,51920,51922,51924,51925,51926,51927,51930,51931,51932,51933,51934,51935,51937,51938,51939,51940,51941,51942,51943,null,null,null,null,null,null,51944,51945,51946,51947,51949,51950,51951,51952,51953,51954,51955,51957,51958,51959,51960,51961,51962,51963,51964,51965,51966,51967,51968,51969,51970,51971,51972,51973,51974,51975,51977,51978,9472,9474,9484,9488,9496,9492,9500,9516,9508,9524,9532,9473,9475,9487,9491,9499,9495,9507,9523,9515,9531,9547,9504,9519,9512,9527,9535,9501,9520,9509,9528,9538,9490,9489,9498,9497,9494,9493,9486,9485,9502,9503,9505,9506,9510,9511,9513,9514,9517,9518,9521,9522,9525,9526,9529,9530,9533,9534,9536,9537,9539,9540,9541,9542,9543,9544,9545,9546,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,51979,51980,51981,51982,51983,51985,51986,51987,51989,51990,51991,51993,51994,51995,51996,51997,51998,51999,52002,52003,52004,52005,52006,52007,52008,52009,null,null,null,null,null,null,52010,52011,52012,52013,52014,52015,52016,52017,52018,52019,52020,52021,52022,52023,52024,52025,52026,52027,52028,52029,52030,52031,52032,52034,52035,52036,null,null,null,null,null,null,52037,52038,52039,52042,52043,52045,52046,52047,52049,52050,52051,52052,52053,52054,52055,52058,52059,52060,52062,52063,52064,52065,52066,52067,52069,52070,52071,52072,52073,52074,52075,52076,13205,13206,13207,8467,13208,13252,13219,13220,13221,13222,13209,13210,13211,13212,13213,13214,13215,13216,13217,13218,13258,13197,13198,13199,13263,13192,13193,13256,13223,13224,13232,13233,13234,13235,13236,13237,13238,13239,13240,13241,13184,13185,13186,13187,13188,13242,13243,13244,13245,13246,13247,13200,13201,13202,13203,13204,8486,13248,13249,13194,13195,13196,13270,13253,13229,13230,13231,13275,13225,13226,13227,13228,13277,13264,13267,13251,13257,13276,13254,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,52077,52078,52079,52080,52081,52082,52083,52084,52085,52086,52087,52090,52091,52092,52093,52094,52095,52096,52097,52098,52099,52100,52101,52102,52103,52104,null,null,null,null,null,null,52105,52106,52107,52108,52109,52110,52111,52112,52113,52114,52115,52116,52117,52118,52119,52120,52121,52122,52123,52125,52126,52127,52128,52129,52130,52131,null,null,null,null,null,null,52132,52133,52134,52135,52136,52137,52138,52139,52140,52141,52142,52143,52144,52145,52146,52147,52148,52149,52150,52151,52153,52154,52155,52156,52157,52158,52159,52160,52161,52162,52163,52164,198,208,170,294,null,306,null,319,321,216,338,186,222,358,330,null,12896,12897,12898,12899,12900,12901,12902,12903,12904,12905,12906,12907,12908,12909,12910,12911,12912,12913,12914,12915,12916,12917,12918,12919,12920,12921,12922,12923,9424,9425,9426,9427,9428,9429,9430,9431,9432,9433,9434,9435,9436,9437,9438,9439,9440,9441,9442,9443,9444,9445,9446,9447,9448,9449,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,9322,9323,9324,9325,9326,189,8531,8532,188,190,8539,8540,8541,8542,52165,52166,52167,52168,52169,52170,52171,52172,52173,52174,52175,52176,52177,52178,52179,52181,52182,52183,52184,52185,52186,52187,52188,52189,52190,52191,null,null,null,null,null,null,52192,52193,52194,52195,52197,52198,52200,52202,52203,52204,52205,52206,52207,52208,52209,52210,52211,52212,52213,52214,52215,52216,52217,52218,52219,52220,null,null,null,null,null,null,52221,52222,52223,52224,52225,52226,52227,52228,52229,52230,52231,52232,52233,52234,52235,52238,52239,52241,52242,52243,52245,52246,52247,52248,52249,52250,52251,52254,52255,52256,52259,52260,230,273,240,295,305,307,312,320,322,248,339,223,254,359,331,329,12800,12801,12802,12803,12804,12805,12806,12807,12808,12809,12810,12811,12812,12813,12814,12815,12816,12817,12818,12819,12820,12821,12822,12823,12824,12825,12826,12827,9372,9373,9374,9375,9376,9377,9378,9379,9380,9381,9382,9383,9384,9385,9386,9387,9388,9389,9390,9391,9392,9393,9394,9395,9396,9397,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,185,178,179,8308,8319,8321,8322,8323,8324,52261,52262,52266,52267,52269,52271,52273,52274,52275,52276,52277,52278,52279,52282,52287,52288,52289,52290,52291,52294,52295,52297,52298,52299,52301,52302,null,null,null,null,null,null,52303,52304,52305,52306,52307,52310,52314,52315,52316,52317,52318,52319,52321,52322,52323,52325,52327,52329,52330,52331,52332,52333,52334,52335,52337,52338,null,null,null,null,null,null,52339,52340,52342,52343,52344,52345,52346,52347,52348,52349,52350,52351,52352,52353,52354,52355,52356,52357,52358,52359,52360,52361,52362,52363,52364,52365,52366,52367,52368,52369,52370,52371,12353,12354,12355,12356,12357,12358,12359,12360,12361,12362,12363,12364,12365,12366,12367,12368,12369,12370,12371,12372,12373,12374,12375,12376,12377,12378,12379,12380,12381,12382,12383,12384,12385,12386,12387,12388,12389,12390,12391,12392,12393,12394,12395,12396,12397,12398,12399,12400,12401,12402,12403,12404,12405,12406,12407,12408,12409,12410,12411,12412,12413,12414,12415,12416,12417,12418,12419,12420,12421,12422,12423,12424,12425,12426,12427,12428,12429,12430,12431,12432,12433,12434,12435,null,null,null,null,null,null,null,null,null,null,null,52372,52373,52374,52375,52378,52379,52381,52382,52383,52385,52386,52387,52388,52389,52390,52391,52394,52398,52399,52400,52401,52402,52403,52406,52407,52409,null,null,null,null,null,null,52410,52411,52413,52414,52415,52416,52417,52418,52419,52422,52424,52426,52427,52428,52429,52430,52431,52433,52434,52435,52437,52438,52439,52440,52441,52442,null,null,null,null,null,null,52443,52444,52445,52446,52447,52448,52449,52450,52451,52453,52454,52455,52456,52457,52458,52459,52461,52462,52463,52465,52466,52467,52468,52469,52470,52471,52472,52473,52474,52475,52476,52477,12449,12450,12451,12452,12453,12454,12455,12456,12457,12458,12459,12460,12461,12462,12463,12464,12465,12466,12467,12468,12469,12470,12471,12472,12473,12474,12475,12476,12477,12478,12479,12480,12481,12482,12483,12484,12485,12486,12487,12488,12489,12490,12491,12492,12493,12494,12495,12496,12497,12498,12499,12500,12501,12502,12503,12504,12505,12506,12507,12508,12509,12510,12511,12512,12513,12514,12515,12516,12517,12518,12519,12520,12521,12522,12523,12524,12525,12526,12527,12528,12529,12530,12531,12532,12533,12534,null,null,null,null,null,null,null,null,52478,52479,52480,52482,52483,52484,52485,52486,52487,52490,52491,52493,52494,52495,52497,52498,52499,52500,52501,52502,52503,52506,52508,52510,52511,52512,null,null,null,null,null,null,52513,52514,52515,52517,52518,52519,52521,52522,52523,52525,52526,52527,52528,52529,52530,52531,52532,52533,52534,52535,52536,52538,52539,52540,52541,52542,null,null,null,null,null,null,52543,52544,52545,52546,52547,52548,52549,52550,52551,52552,52553,52554,52555,52556,52557,52558,52559,52560,52561,52562,52563,52564,52565,52566,52567,52568,52569,52570,52571,52573,52574,52575,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,null,null,null,null,null,null,null,null,null,null,null,null,null,52577,52578,52579,52581,52582,52583,52584,52585,52586,52587,52590,52592,52594,52595,52596,52597,52598,52599,52601,52602,52603,52604,52605,52606,52607,52608,null,null,null,null,null,null,52609,52610,52611,52612,52613,52614,52615,52617,52618,52619,52620,52621,52622,52623,52624,52625,52626,52627,52630,52631,52633,52634,52635,52637,52638,52639,null,null,null,null,null,null,52640,52641,52642,52643,52646,52648,52650,52651,52652,52653,52654,52655,52657,52658,52659,52660,52661,52662,52663,52664,52665,52666,52667,52668,52669,52670,52671,52672,52673,52674,52675,52677,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,52678,52679,52680,52681,52682,52683,52685,52686,52687,52689,52690,52691,52692,52693,52694,52695,52696,52697,52698,52699,52700,52701,52702,52703,52704,52705,null,null,null,null,null,null,52706,52707,52708,52709,52710,52711,52713,52714,52715,52717,52718,52719,52721,52722,52723,52724,52725,52726,52727,52730,52732,52734,52735,52736,52737,52738,null,null,null,null,null,null,52739,52741,52742,52743,52745,52746,52747,52749,52750,52751,52752,52753,52754,52755,52757,52758,52759,52760,52762,52763,52764,52765,52766,52767,52770,52771,52773,52774,52775,52777,52778,52779,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,52780,52781,52782,52783,52786,52788,52790,52791,52792,52793,52794,52795,52796,52797,52798,52799,52800,52801,52802,52803,52804,52805,52806,52807,52808,52809,null,null,null,null,null,null,52810,52811,52812,52813,52814,52815,52816,52817,52818,52819,52820,52821,52822,52823,52826,52827,52829,52830,52834,52835,52836,52837,52838,52839,52842,52844,null,null,null,null,null,null,52846,52847,52848,52849,52850,52851,52854,52855,52857,52858,52859,52861,52862,52863,52864,52865,52866,52867,52870,52872,52874,52875,52876,52877,52878,52879,52882,52883,52885,52886,52887,52889,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,52890,52891,52892,52893,52894,52895,52898,52902,52903,52904,52905,52906,52907,52910,52911,52912,52913,52914,52915,52916,52917,52918,52919,52920,52921,52922,null,null,null,null,null,null,52923,52924,52925,52926,52927,52928,52930,52931,52932,52933,52934,52935,52936,52937,52938,52939,52940,52941,52942,52943,52944,52945,52946,52947,52948,52949,null,null,null,null,null,null,52950,52951,52952,52953,52954,52955,52956,52957,52958,52959,52960,52961,52962,52963,52966,52967,52969,52970,52973,52974,52975,52976,52977,52978,52979,52982,52986,52987,52988,52989,52990,52991,44032,44033,44036,44039,44040,44041,44042,44048,44049,44050,44051,44052,44053,44054,44055,44057,44058,44059,44060,44061,44064,44068,44076,44077,44079,44080,44081,44088,44089,44092,44096,44107,44109,44116,44120,44124,44144,44145,44148,44151,44152,44154,44160,44161,44163,44164,44165,44166,44169,44170,44171,44172,44176,44180,44188,44189,44191,44192,44193,44200,44201,44202,44204,44207,44208,44216,44217,44219,44220,44221,44225,44228,44232,44236,44245,44247,44256,44257,44260,44263,44264,44266,44268,44271,44272,44273,44275,44277,44278,44284,44285,44288,44292,44294,52994,52995,52997,52998,52999,53001,53002,53003,53004,53005,53006,53007,53010,53012,53014,53015,53016,53017,53018,53019,53021,53022,53023,53025,53026,53027,null,null,null,null,null,null,53029,53030,53031,53032,53033,53034,53035,53038,53042,53043,53044,53045,53046,53047,53049,53050,53051,53052,53053,53054,53055,53056,53057,53058,53059,53060,null,null,null,null,null,null,53061,53062,53063,53064,53065,53066,53067,53068,53069,53070,53071,53072,53073,53074,53075,53078,53079,53081,53082,53083,53085,53086,53087,53088,53089,53090,53091,53094,53096,53098,53099,53100,44300,44301,44303,44305,44312,44316,44320,44329,44332,44333,44340,44341,44344,44348,44356,44357,44359,44361,44368,44372,44376,44385,44387,44396,44397,44400,44403,44404,44405,44406,44411,44412,44413,44415,44417,44418,44424,44425,44428,44432,44444,44445,44452,44471,44480,44481,44484,44488,44496,44497,44499,44508,44512,44516,44536,44537,44540,44543,44544,44545,44552,44553,44555,44557,44564,44592,44593,44596,44599,44600,44602,44608,44609,44611,44613,44614,44618,44620,44621,44622,44624,44628,44630,44636,44637,44639,44640,44641,44645,44648,44649,44652,44656,44664,53101,53102,53103,53106,53107,53109,53110,53111,53113,53114,53115,53116,53117,53118,53119,53121,53122,53123,53124,53126,53127,53128,53129,53130,53131,53133,null,null,null,null,null,null,53134,53135,53136,53137,53138,53139,53140,53141,53142,53143,53144,53145,53146,53147,53148,53149,53150,53151,53152,53154,53155,53156,53157,53158,53159,53161,null,null,null,null,null,null,53162,53163,53164,53165,53166,53167,53169,53170,53171,53172,53173,53174,53175,53176,53177,53178,53179,53180,53181,53182,53183,53184,53185,53186,53187,53189,53190,53191,53192,53193,53194,53195,44665,44667,44668,44669,44676,44677,44684,44732,44733,44734,44736,44740,44748,44749,44751,44752,44753,44760,44761,44764,44776,44779,44781,44788,44792,44796,44807,44808,44813,44816,44844,44845,44848,44850,44852,44860,44861,44863,44865,44866,44867,44872,44873,44880,44892,44893,44900,44901,44921,44928,44932,44936,44944,44945,44949,44956,44984,44985,44988,44992,44999,45e3,45001,45003,45005,45006,45012,45020,45032,45033,45040,45041,45044,45048,45056,45057,45060,45068,45072,45076,45084,45085,45096,45124,45125,45128,45130,45132,45134,45139,45140,45141,45143,45145,53196,53197,53198,53199,53200,53201,53202,53203,53204,53205,53206,53207,53208,53209,53210,53211,53212,53213,53214,53215,53218,53219,53221,53222,53223,53225,null,null,null,null,null,null,53226,53227,53228,53229,53230,53231,53234,53236,53238,53239,53240,53241,53242,53243,53245,53246,53247,53249,53250,53251,53253,53254,53255,53256,53257,53258,null,null,null,null,null,null,53259,53260,53261,53262,53263,53264,53266,53267,53268,53269,53270,53271,53273,53274,53275,53276,53277,53278,53279,53280,53281,53282,53283,53284,53285,53286,53287,53288,53289,53290,53291,53292,45149,45180,45181,45184,45188,45196,45197,45199,45201,45208,45209,45210,45212,45215,45216,45217,45218,45224,45225,45227,45228,45229,45230,45231,45233,45235,45236,45237,45240,45244,45252,45253,45255,45256,45257,45264,45265,45268,45272,45280,45285,45320,45321,45323,45324,45328,45330,45331,45336,45337,45339,45340,45341,45347,45348,45349,45352,45356,45364,45365,45367,45368,45369,45376,45377,45380,45384,45392,45393,45396,45397,45400,45404,45408,45432,45433,45436,45440,45442,45448,45449,45451,45453,45458,45459,45460,45464,45468,45480,45516,45520,45524,45532,45533,53294,53295,53296,53297,53298,53299,53302,53303,53305,53306,53307,53309,53310,53311,53312,53313,53314,53315,53318,53320,53322,53323,53324,53325,53326,53327,null,null,null,null,null,null,53329,53330,53331,53333,53334,53335,53337,53338,53339,53340,53341,53342,53343,53345,53346,53347,53348,53349,53350,53351,53352,53353,53354,53355,53358,53359,null,null,null,null,null,null,53361,53362,53363,53365,53366,53367,53368,53369,53370,53371,53374,53375,53376,53378,53379,53380,53381,53382,53383,53384,53385,53386,53387,53388,53389,53390,53391,53392,53393,53394,53395,53396,45535,45544,45545,45548,45552,45561,45563,45565,45572,45573,45576,45579,45580,45588,45589,45591,45593,45600,45620,45628,45656,45660,45664,45672,45673,45684,45685,45692,45700,45701,45705,45712,45713,45716,45720,45721,45722,45728,45729,45731,45733,45734,45738,45740,45744,45748,45768,45769,45772,45776,45778,45784,45785,45787,45789,45794,45796,45797,45798,45800,45803,45804,45805,45806,45807,45811,45812,45813,45815,45816,45817,45818,45819,45823,45824,45825,45828,45832,45840,45841,45843,45844,45845,45852,45908,45909,45910,45912,45915,45916,45918,45919,45924,45925,53397,53398,53399,53400,53401,53402,53403,53404,53405,53406,53407,53408,53409,53410,53411,53414,53415,53417,53418,53419,53421,53422,53423,53424,53425,53426,null,null,null,null,null,null,53427,53430,53432,53434,53435,53436,53437,53438,53439,53442,53443,53445,53446,53447,53450,53451,53452,53453,53454,53455,53458,53462,53463,53464,53465,53466,null,null,null,null,null,null,53467,53470,53471,53473,53474,53475,53477,53478,53479,53480,53481,53482,53483,53486,53490,53491,53492,53493,53494,53495,53497,53498,53499,53500,53501,53502,53503,53504,53505,53506,53507,53508,45927,45929,45931,45934,45936,45937,45940,45944,45952,45953,45955,45956,45957,45964,45968,45972,45984,45985,45992,45996,46020,46021,46024,46027,46028,46030,46032,46036,46037,46039,46041,46043,46045,46048,46052,46056,46076,46096,46104,46108,46112,46120,46121,46123,46132,46160,46161,46164,46168,46176,46177,46179,46181,46188,46208,46216,46237,46244,46248,46252,46261,46263,46265,46272,46276,46280,46288,46293,46300,46301,46304,46307,46308,46310,46316,46317,46319,46321,46328,46356,46357,46360,46363,46364,46372,46373,46375,46376,46377,46378,46384,46385,46388,46392,53509,53510,53511,53512,53513,53514,53515,53516,53518,53519,53520,53521,53522,53523,53524,53525,53526,53527,53528,53529,53530,53531,53532,53533,53534,53535,null,null,null,null,null,null,53536,53537,53538,53539,53540,53541,53542,53543,53544,53545,53546,53547,53548,53549,53550,53551,53554,53555,53557,53558,53559,53561,53563,53564,53565,53566,null,null,null,null,null,null,53567,53570,53574,53575,53576,53577,53578,53579,53582,53583,53585,53586,53587,53589,53590,53591,53592,53593,53594,53595,53598,53600,53602,53603,53604,53605,53606,53607,53609,53610,53611,53613,46400,46401,46403,46404,46405,46411,46412,46413,46416,46420,46428,46429,46431,46432,46433,46496,46497,46500,46504,46506,46507,46512,46513,46515,46516,46517,46523,46524,46525,46528,46532,46540,46541,46543,46544,46545,46552,46572,46608,46609,46612,46616,46629,46636,46644,46664,46692,46696,46748,46749,46752,46756,46763,46764,46769,46804,46832,46836,46840,46848,46849,46853,46888,46889,46892,46895,46896,46904,46905,46907,46916,46920,46924,46932,46933,46944,46948,46952,46960,46961,46963,46965,46972,46973,46976,46980,46988,46989,46991,46992,46993,46994,46998,46999,53614,53615,53616,53617,53618,53619,53620,53621,53622,53623,53624,53625,53626,53627,53629,53630,53631,53632,53633,53634,53635,53637,53638,53639,53641,53642,null,null,null,null,null,null,53643,53644,53645,53646,53647,53648,53649,53650,53651,53652,53653,53654,53655,53656,53657,53658,53659,53660,53661,53662,53663,53666,53667,53669,53670,53671,null,null,null,null,null,null,53673,53674,53675,53676,53677,53678,53679,53682,53684,53686,53687,53688,53689,53691,53693,53694,53695,53697,53698,53699,53700,53701,53702,53703,53704,53705,53706,53707,53708,53709,53710,53711,47e3,47001,47004,47008,47016,47017,47019,47020,47021,47028,47029,47032,47047,47049,47084,47085,47088,47092,47100,47101,47103,47104,47105,47111,47112,47113,47116,47120,47128,47129,47131,47133,47140,47141,47144,47148,47156,47157,47159,47160,47161,47168,47172,47185,47187,47196,47197,47200,47204,47212,47213,47215,47217,47224,47228,47245,47272,47280,47284,47288,47296,47297,47299,47301,47308,47312,47316,47325,47327,47329,47336,47337,47340,47344,47352,47353,47355,47357,47364,47384,47392,47420,47421,47424,47428,47436,47439,47441,47448,47449,47452,47456,47464,47465,53712,53713,53714,53715,53716,53717,53718,53719,53721,53722,53723,53724,53725,53726,53727,53728,53729,53730,53731,53732,53733,53734,53735,53736,53737,53738,null,null,null,null,null,null,53739,53740,53741,53742,53743,53744,53745,53746,53747,53749,53750,53751,53753,53754,53755,53756,53757,53758,53759,53760,53761,53762,53763,53764,53765,53766,null,null,null,null,null,null,53768,53770,53771,53772,53773,53774,53775,53777,53778,53779,53780,53781,53782,53783,53784,53785,53786,53787,53788,53789,53790,53791,53792,53793,53794,53795,53796,53797,53798,53799,53800,53801,47467,47469,47476,47477,47480,47484,47492,47493,47495,47497,47498,47501,47502,47532,47533,47536,47540,47548,47549,47551,47553,47560,47561,47564,47566,47567,47568,47569,47570,47576,47577,47579,47581,47582,47585,47587,47588,47589,47592,47596,47604,47605,47607,47608,47609,47610,47616,47617,47624,47637,47672,47673,47676,47680,47682,47688,47689,47691,47693,47694,47699,47700,47701,47704,47708,47716,47717,47719,47720,47721,47728,47729,47732,47736,47747,47748,47749,47751,47756,47784,47785,47787,47788,47792,47794,47800,47801,47803,47805,47812,47816,47832,47833,47868,53802,53803,53806,53807,53809,53810,53811,53813,53814,53815,53816,53817,53818,53819,53822,53824,53826,53827,53828,53829,53830,53831,53833,53834,53835,53836,null,null,null,null,null,null,53837,53838,53839,53840,53841,53842,53843,53844,53845,53846,53847,53848,53849,53850,53851,53853,53854,53855,53856,53857,53858,53859,53861,53862,53863,53864,null,null,null,null,null,null,53865,53866,53867,53868,53869,53870,53871,53872,53873,53874,53875,53876,53877,53878,53879,53880,53881,53882,53883,53884,53885,53886,53887,53890,53891,53893,53894,53895,53897,53898,53899,53900,47872,47876,47885,47887,47889,47896,47900,47904,47913,47915,47924,47925,47926,47928,47931,47932,47933,47934,47940,47941,47943,47945,47949,47951,47952,47956,47960,47969,47971,47980,48008,48012,48016,48036,48040,48044,48052,48055,48064,48068,48072,48080,48083,48120,48121,48124,48127,48128,48130,48136,48137,48139,48140,48141,48143,48145,48148,48149,48150,48151,48152,48155,48156,48157,48158,48159,48164,48165,48167,48169,48173,48176,48177,48180,48184,48192,48193,48195,48196,48197,48201,48204,48205,48208,48221,48260,48261,48264,48267,48268,48270,48276,48277,48279,53901,53902,53903,53906,53907,53908,53910,53911,53912,53913,53914,53915,53917,53918,53919,53921,53922,53923,53925,53926,53927,53928,53929,53930,53931,53933,null,null,null,null,null,null,53934,53935,53936,53938,53939,53940,53941,53942,53943,53946,53947,53949,53950,53953,53955,53956,53957,53958,53959,53962,53964,53965,53966,53967,53968,53969,null,null,null,null,null,null,53970,53971,53973,53974,53975,53977,53978,53979,53981,53982,53983,53984,53985,53986,53987,53990,53991,53992,53993,53994,53995,53996,53997,53998,53999,54002,54003,54005,54006,54007,54009,54010,48281,48282,48288,48289,48292,48295,48296,48304,48305,48307,48308,48309,48316,48317,48320,48324,48333,48335,48336,48337,48341,48344,48348,48372,48373,48374,48376,48380,48388,48389,48391,48393,48400,48404,48420,48428,48448,48456,48457,48460,48464,48472,48473,48484,48488,48512,48513,48516,48519,48520,48521,48522,48528,48529,48531,48533,48537,48538,48540,48548,48560,48568,48596,48597,48600,48604,48617,48624,48628,48632,48640,48643,48645,48652,48653,48656,48660,48668,48669,48671,48708,48709,48712,48716,48718,48724,48725,48727,48729,48730,48731,48736,48737,48740,54011,54012,54013,54014,54015,54018,54020,54022,54023,54024,54025,54026,54027,54031,54033,54034,54035,54037,54039,54040,54041,54042,54043,54046,54050,54051,null,null,null,null,null,null,54052,54054,54055,54058,54059,54061,54062,54063,54065,54066,54067,54068,54069,54070,54071,54074,54078,54079,54080,54081,54082,54083,54086,54087,54088,54089,null,null,null,null,null,null,54090,54091,54092,54093,54094,54095,54096,54097,54098,54099,54100,54101,54102,54103,54104,54105,54106,54107,54108,54109,54110,54111,54112,54113,54114,54115,54116,54117,54118,54119,54120,54121,48744,48746,48752,48753,48755,48756,48757,48763,48764,48765,48768,48772,48780,48781,48783,48784,48785,48792,48793,48808,48848,48849,48852,48855,48856,48864,48867,48868,48869,48876,48897,48904,48905,48920,48921,48923,48924,48925,48960,48961,48964,48968,48976,48977,48981,49044,49072,49093,49100,49101,49104,49108,49116,49119,49121,49212,49233,49240,49244,49248,49256,49257,49296,49297,49300,49304,49312,49313,49315,49317,49324,49325,49327,49328,49331,49332,49333,49334,49340,49341,49343,49344,49345,49349,49352,49353,49356,49360,49368,49369,49371,49372,49373,49380,54122,54123,54124,54125,54126,54127,54128,54129,54130,54131,54132,54133,54134,54135,54136,54137,54138,54139,54142,54143,54145,54146,54147,54149,54150,54151,null,null,null,null,null,null,54152,54153,54154,54155,54158,54162,54163,54164,54165,54166,54167,54170,54171,54173,54174,54175,54177,54178,54179,54180,54181,54182,54183,54186,54188,54190,null,null,null,null,null,null,54191,54192,54193,54194,54195,54197,54198,54199,54201,54202,54203,54205,54206,54207,54208,54209,54210,54211,54214,54215,54218,54219,54220,54221,54222,54223,54225,54226,54227,54228,54229,54230,49381,49384,49388,49396,49397,49399,49401,49408,49412,49416,49424,49429,49436,49437,49438,49439,49440,49443,49444,49446,49447,49452,49453,49455,49456,49457,49462,49464,49465,49468,49472,49480,49481,49483,49484,49485,49492,49493,49496,49500,49508,49509,49511,49512,49513,49520,49524,49528,49541,49548,49549,49550,49552,49556,49558,49564,49565,49567,49569,49573,49576,49577,49580,49584,49597,49604,49608,49612,49620,49623,49624,49632,49636,49640,49648,49649,49651,49660,49661,49664,49668,49676,49677,49679,49681,49688,49689,49692,49695,49696,49704,49705,49707,49709,54231,54233,54234,54235,54236,54237,54238,54239,54240,54242,54244,54245,54246,54247,54248,54249,54250,54251,54254,54255,54257,54258,54259,54261,54262,54263,null,null,null,null,null,null,54264,54265,54266,54267,54270,54272,54274,54275,54276,54277,54278,54279,54281,54282,54283,54284,54285,54286,54287,54288,54289,54290,54291,54292,54293,54294,null,null,null,null,null,null,54295,54296,54297,54298,54299,54300,54302,54303,54304,54305,54306,54307,54308,54309,54310,54311,54312,54313,54314,54315,54316,54317,54318,54319,54320,54321,54322,54323,54324,54325,54326,54327,49711,49713,49714,49716,49736,49744,49745,49748,49752,49760,49765,49772,49773,49776,49780,49788,49789,49791,49793,49800,49801,49808,49816,49819,49821,49828,49829,49832,49836,49837,49844,49845,49847,49849,49884,49885,49888,49891,49892,49899,49900,49901,49903,49905,49910,49912,49913,49915,49916,49920,49928,49929,49932,49933,49939,49940,49941,49944,49948,49956,49957,49960,49961,49989,50024,50025,50028,50032,50034,50040,50041,50044,50045,50052,50056,50060,50112,50136,50137,50140,50143,50144,50146,50152,50153,50157,50164,50165,50168,50184,50192,50212,50220,50224,54328,54329,54330,54331,54332,54333,54334,54335,54337,54338,54339,54341,54342,54343,54344,54345,54346,54347,54348,54349,54350,54351,54352,54353,54354,54355,null,null,null,null,null,null,54356,54357,54358,54359,54360,54361,54362,54363,54365,54366,54367,54369,54370,54371,54373,54374,54375,54376,54377,54378,54379,54380,54382,54384,54385,54386,null,null,null,null,null,null,54387,54388,54389,54390,54391,54394,54395,54397,54398,54401,54403,54404,54405,54406,54407,54410,54412,54414,54415,54416,54417,54418,54419,54421,54422,54423,54424,54425,54426,54427,54428,54429,50228,50236,50237,50248,50276,50277,50280,50284,50292,50293,50297,50304,50324,50332,50360,50364,50409,50416,50417,50420,50424,50426,50431,50432,50433,50444,50448,50452,50460,50472,50473,50476,50480,50488,50489,50491,50493,50500,50501,50504,50505,50506,50508,50509,50510,50515,50516,50517,50519,50520,50521,50525,50526,50528,50529,50532,50536,50544,50545,50547,50548,50549,50556,50557,50560,50564,50567,50572,50573,50575,50577,50581,50583,50584,50588,50592,50601,50612,50613,50616,50617,50619,50620,50621,50622,50628,50629,50630,50631,50632,50633,50634,50636,50638,54430,54431,54432,54433,54434,54435,54436,54437,54438,54439,54440,54442,54443,54444,54445,54446,54447,54448,54449,54450,54451,54452,54453,54454,54455,54456,null,null,null,null,null,null,54457,54458,54459,54460,54461,54462,54463,54464,54465,54466,54467,54468,54469,54470,54471,54472,54473,54474,54475,54477,54478,54479,54481,54482,54483,54485,null,null,null,null,null,null,54486,54487,54488,54489,54490,54491,54493,54494,54496,54497,54498,54499,54500,54501,54502,54503,54505,54506,54507,54509,54510,54511,54513,54514,54515,54516,54517,54518,54519,54521,54522,54524,50640,50641,50644,50648,50656,50657,50659,50661,50668,50669,50670,50672,50676,50678,50679,50684,50685,50686,50687,50688,50689,50693,50694,50695,50696,50700,50704,50712,50713,50715,50716,50724,50725,50728,50732,50733,50734,50736,50739,50740,50741,50743,50745,50747,50752,50753,50756,50760,50768,50769,50771,50772,50773,50780,50781,50784,50796,50799,50801,50808,50809,50812,50816,50824,50825,50827,50829,50836,50837,50840,50844,50852,50853,50855,50857,50864,50865,50868,50872,50873,50874,50880,50881,50883,50885,50892,50893,50896,50900,50908,50909,50912,50913,50920,54526,54527,54528,54529,54530,54531,54533,54534,54535,54537,54538,54539,54541,54542,54543,54544,54545,54546,54547,54550,54552,54553,54554,54555,54556,54557,null,null,null,null,null,null,54558,54559,54560,54561,54562,54563,54564,54565,54566,54567,54568,54569,54570,54571,54572,54573,54574,54575,54576,54577,54578,54579,54580,54581,54582,54583,null,null,null,null,null,null,54584,54585,54586,54587,54590,54591,54593,54594,54595,54597,54598,54599,54600,54601,54602,54603,54606,54608,54610,54611,54612,54613,54614,54615,54618,54619,54621,54622,54623,54625,54626,54627,50921,50924,50928,50936,50937,50941,50948,50949,50952,50956,50964,50965,50967,50969,50976,50977,50980,50984,50992,50993,50995,50997,50999,51004,51005,51008,51012,51018,51020,51021,51023,51025,51026,51027,51028,51029,51030,51031,51032,51036,51040,51048,51051,51060,51061,51064,51068,51069,51070,51075,51076,51077,51079,51080,51081,51082,51086,51088,51089,51092,51094,51095,51096,51098,51104,51105,51107,51108,51109,51110,51116,51117,51120,51124,51132,51133,51135,51136,51137,51144,51145,51148,51150,51152,51160,51165,51172,51176,51180,51200,51201,51204,51208,51210,54628,54630,54631,54634,54636,54638,54639,54640,54641,54642,54643,54646,54647,54649,54650,54651,54653,54654,54655,54656,54657,54658,54659,54662,54666,54667,null,null,null,null,null,null,54668,54669,54670,54671,54673,54674,54675,54676,54677,54678,54679,54680,54681,54682,54683,54684,54685,54686,54687,54688,54689,54690,54691,54692,54694,54695,null,null,null,null,null,null,54696,54697,54698,54699,54700,54701,54702,54703,54704,54705,54706,54707,54708,54709,54710,54711,54712,54713,54714,54715,54716,54717,54718,54719,54720,54721,54722,54723,54724,54725,54726,54727,51216,51217,51219,51221,51222,51228,51229,51232,51236,51244,51245,51247,51249,51256,51260,51264,51272,51273,51276,51277,51284,51312,51313,51316,51320,51322,51328,51329,51331,51333,51334,51335,51339,51340,51341,51348,51357,51359,51361,51368,51388,51389,51396,51400,51404,51412,51413,51415,51417,51424,51425,51428,51445,51452,51453,51456,51460,51461,51462,51468,51469,51471,51473,51480,51500,51508,51536,51537,51540,51544,51552,51553,51555,51564,51568,51572,51580,51592,51593,51596,51600,51608,51609,51611,51613,51648,51649,51652,51655,51656,51658,51664,51665,51667,54730,54731,54733,54734,54735,54737,54739,54740,54741,54742,54743,54746,54748,54750,54751,54752,54753,54754,54755,54758,54759,54761,54762,54763,54765,54766,null,null,null,null,null,null,54767,54768,54769,54770,54771,54774,54776,54778,54779,54780,54781,54782,54783,54786,54787,54789,54790,54791,54793,54794,54795,54796,54797,54798,54799,54802,null,null,null,null,null,null,54806,54807,54808,54809,54810,54811,54813,54814,54815,54817,54818,54819,54821,54822,54823,54824,54825,54826,54827,54828,54830,54831,54832,54833,54834,54835,54836,54837,54838,54839,54842,54843,51669,51670,51673,51674,51676,51677,51680,51682,51684,51687,51692,51693,51695,51696,51697,51704,51705,51708,51712,51720,51721,51723,51724,51725,51732,51736,51753,51788,51789,51792,51796,51804,51805,51807,51808,51809,51816,51837,51844,51864,51900,51901,51904,51908,51916,51917,51919,51921,51923,51928,51929,51936,51948,51956,51976,51984,51988,51992,52e3,52001,52033,52040,52041,52044,52048,52056,52057,52061,52068,52088,52089,52124,52152,52180,52196,52199,52201,52236,52237,52240,52244,52252,52253,52257,52258,52263,52264,52265,52268,52270,52272,52280,52281,52283,54845,54846,54847,54849,54850,54851,54852,54854,54855,54858,54860,54862,54863,54864,54866,54867,54870,54871,54873,54874,54875,54877,54878,54879,54880,54881,null,null,null,null,null,null,54882,54883,54884,54885,54886,54888,54890,54891,54892,54893,54894,54895,54898,54899,54901,54902,54903,54904,54905,54906,54907,54908,54909,54910,54911,54912,null,null,null,null,null,null,54913,54914,54916,54918,54919,54920,54921,54922,54923,54926,54927,54929,54930,54931,54933,54934,54935,54936,54937,54938,54939,54940,54942,54944,54946,54947,54948,54949,54950,54951,54953,54954,52284,52285,52286,52292,52293,52296,52300,52308,52309,52311,52312,52313,52320,52324,52326,52328,52336,52341,52376,52377,52380,52384,52392,52393,52395,52396,52397,52404,52405,52408,52412,52420,52421,52423,52425,52432,52436,52452,52460,52464,52481,52488,52489,52492,52496,52504,52505,52507,52509,52516,52520,52524,52537,52572,52576,52580,52588,52589,52591,52593,52600,52616,52628,52629,52632,52636,52644,52645,52647,52649,52656,52676,52684,52688,52712,52716,52720,52728,52729,52731,52733,52740,52744,52748,52756,52761,52768,52769,52772,52776,52784,52785,52787,52789,54955,54957,54958,54959,54961,54962,54963,54964,54965,54966,54967,54968,54970,54972,54973,54974,54975,54976,54977,54978,54979,54982,54983,54985,54986,54987,null,null,null,null,null,null,54989,54990,54991,54992,54994,54995,54997,54998,55e3,55002,55003,55004,55005,55006,55007,55009,55010,55011,55013,55014,55015,55017,55018,55019,55020,55021,null,null,null,null,null,null,55022,55023,55025,55026,55027,55028,55030,55031,55032,55033,55034,55035,55038,55039,55041,55042,55043,55045,55046,55047,55048,55049,55050,55051,55052,55053,55054,55055,55056,55058,55059,55060,52824,52825,52828,52831,52832,52833,52840,52841,52843,52845,52852,52853,52856,52860,52868,52869,52871,52873,52880,52881,52884,52888,52896,52897,52899,52900,52901,52908,52909,52929,52964,52965,52968,52971,52972,52980,52981,52983,52984,52985,52992,52993,52996,53e3,53008,53009,53011,53013,53020,53024,53028,53036,53037,53039,53040,53041,53048,53076,53077,53080,53084,53092,53093,53095,53097,53104,53105,53108,53112,53120,53125,53132,53153,53160,53168,53188,53216,53217,53220,53224,53232,53233,53235,53237,53244,53248,53252,53265,53272,53293,53300,53301,53304,53308,55061,55062,55063,55066,55067,55069,55070,55071,55073,55074,55075,55076,55077,55078,55079,55082,55084,55086,55087,55088,55089,55090,55091,55094,55095,55097,null,null,null,null,null,null,55098,55099,55101,55102,55103,55104,55105,55106,55107,55109,55110,55112,55114,55115,55116,55117,55118,55119,55122,55123,55125,55130,55131,55132,55133,55134,null,null,null,null,null,null,55135,55138,55140,55142,55143,55144,55146,55147,55149,55150,55151,55153,55154,55155,55157,55158,55159,55160,55161,55162,55163,55166,55167,55168,55170,55171,55172,55173,55174,55175,55178,55179,53316,53317,53319,53321,53328,53332,53336,53344,53356,53357,53360,53364,53372,53373,53377,53412,53413,53416,53420,53428,53429,53431,53433,53440,53441,53444,53448,53449,53456,53457,53459,53460,53461,53468,53469,53472,53476,53484,53485,53487,53488,53489,53496,53517,53552,53553,53556,53560,53562,53568,53569,53571,53572,53573,53580,53581,53584,53588,53596,53597,53599,53601,53608,53612,53628,53636,53640,53664,53665,53668,53672,53680,53681,53683,53685,53690,53692,53696,53720,53748,53752,53767,53769,53776,53804,53805,53808,53812,53820,53821,53823,53825,53832,53852,55181,55182,55183,55185,55186,55187,55188,55189,55190,55191,55194,55196,55198,55199,55200,55201,55202,55203,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,53860,53888,53889,53892,53896,53904,53905,53909,53916,53920,53924,53932,53937,53944,53945,53948,53951,53952,53954,53960,53961,53963,53972,53976,53980,53988,53989,54e3,54001,54004,54008,54016,54017,54019,54021,54028,54029,54030,54032,54036,54038,54044,54045,54047,54048,54049,54053,54056,54057,54060,54064,54072,54073,54075,54076,54077,54084,54085,54140,54141,54144,54148,54156,54157,54159,54160,54161,54168,54169,54172,54176,54184,54185,54187,54189,54196,54200,54204,54212,54213,54216,54217,54224,54232,54241,54243,54252,54253,54256,54260,54268,54269,54271,54273,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,54280,54301,54336,54340,54364,54368,54372,54381,54383,54392,54393,54396,54399,54400,54402,54408,54409,54411,54413,54420,54441,54476,54480,54484,54492,54495,54504,54508,54512,54520,54523,54525,54532,54536,54540,54548,54549,54551,54588,54589,54592,54596,54604,54605,54607,54609,54616,54617,54620,54624,54629,54632,54633,54635,54637,54644,54645,54648,54652,54660,54661,54663,54664,54665,54672,54693,54728,54729,54732,54736,54738,54744,54745,54747,54749,54756,54757,54760,54764,54772,54773,54775,54777,54784,54785,54788,54792,54800,54801,54803,54804,54805,54812,54816,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,54820,54829,54840,54841,54844,54848,54853,54856,54857,54859,54861,54865,54868,54869,54872,54876,54887,54889,54896,54897,54900,54915,54917,54924,54925,54928,54932,54941,54943,54945,54952,54956,54960,54969,54971,54980,54981,54984,54988,54993,54996,54999,55001,55008,55012,55016,55024,55029,55036,55037,55040,55044,55057,55064,55065,55068,55072,55080,55081,55083,55085,55092,55093,55096,55100,55108,55111,55113,55120,55121,55124,55126,55127,55128,55129,55136,55137,55139,55141,55145,55148,55152,55156,55164,55165,55169,55176,55177,55180,55184,55192,55193,55195,55197,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,20285,20339,20551,20729,21152,21487,21621,21733,22025,23233,23478,26247,26550,26551,26607,27468,29634,30146,31292,33499,33540,34903,34952,35382,36040,36303,36603,36838,39381,21051,21364,21508,24682,24932,27580,29647,33050,35258,35282,38307,20355,21002,22718,22904,23014,24178,24185,25031,25536,26438,26604,26751,28567,30286,30475,30965,31240,31487,31777,32925,33390,33393,35563,38291,20075,21917,26359,28212,30883,31469,33883,35088,34638,38824,21208,22350,22570,23884,24863,25022,25121,25954,26577,27204,28187,29976,30131,30435,30640,32058,37039,37969,37970,40853,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,21283,23724,30002,32987,37440,38296,21083,22536,23004,23713,23831,24247,24378,24394,24951,27743,30074,30086,31968,32115,32177,32652,33108,33313,34193,35137,35611,37628,38477,40007,20171,20215,20491,20977,22607,24887,24894,24936,25913,27114,28433,30117,30342,30422,31623,33445,33995,63744,37799,38283,21888,23458,22353,63745,31923,32697,37301,20520,21435,23621,24040,25298,25454,25818,25831,28192,28844,31067,36317,36382,63746,36989,37445,37624,20094,20214,20581,24062,24314,24838,26967,33137,34388,36423,37749,39467,20062,20625,26480,26688,20745,21133,21138,27298,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,30652,37392,40660,21163,24623,36850,20552,25001,25581,25802,26684,27268,28608,33160,35233,38548,22533,29309,29356,29956,32121,32365,32937,35211,35700,36963,40273,25225,27770,28500,32080,32570,35363,20860,24906,31645,35609,37463,37772,20140,20435,20510,20670,20742,21185,21197,21375,22384,22659,24218,24465,24950,25004,25806,25964,26223,26299,26356,26775,28039,28805,28913,29855,29861,29898,30169,30828,30956,31455,31478,32069,32147,32789,32831,33051,33686,35686,36629,36885,37857,38915,38968,39514,39912,20418,21843,22586,22865,23395,23622,24760,25106,26690,26800,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,26856,28330,30028,30328,30926,31293,31995,32363,32380,35336,35489,35903,38542,40388,21476,21481,21578,21617,22266,22993,23396,23611,24235,25335,25911,25925,25970,26272,26543,27073,27837,30204,30352,30590,31295,32660,32771,32929,33167,33510,33533,33776,34241,34865,34996,35493,63747,36764,37678,38599,39015,39640,40723,21741,26011,26354,26767,31296,35895,40288,22256,22372,23825,26118,26801,26829,28414,29736,34974,39908,27752,63748,39592,20379,20844,20849,21151,23380,24037,24656,24685,25329,25511,25915,29657,31354,34467,36002,38799,20018,23521,25096,26524,29916,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,31185,33747,35463,35506,36328,36942,37707,38982,24275,27112,34303,37101,63749,20896,23448,23532,24931,26874,27454,28748,29743,29912,31649,32592,33733,35264,36011,38364,39208,21038,24669,25324,36866,20362,20809,21281,22745,24291,26336,27960,28826,29378,29654,31568,33009,37979,21350,25499,32619,20054,20608,22602,22750,24618,24871,25296,27088,39745,23439,32024,32945,36703,20132,20689,21676,21932,23308,23968,24039,25898,25934,26657,27211,29409,30350,30703,32094,32761,33184,34126,34527,36611,36686,37066,39171,39509,39851,19992,20037,20061,20167,20465,20855,21246,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,21312,21475,21477,21646,22036,22389,22434,23495,23943,24272,25084,25304,25937,26552,26601,27083,27472,27590,27628,27714,28317,28792,29399,29590,29699,30655,30697,31350,32127,32777,33276,33285,33290,33503,34914,35635,36092,36544,36881,37041,37476,37558,39378,39493,40169,40407,40860,22283,23616,33738,38816,38827,40628,21531,31384,32676,35033,36557,37089,22528,23624,25496,31391,23470,24339,31353,31406,33422,36524,20518,21048,21240,21367,22280,25331,25458,27402,28099,30519,21413,29527,34152,36470,38357,26426,27331,28528,35437,36556,39243,63750,26231,27512,36020,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,39740,63751,21483,22317,22862,25542,27131,29674,30789,31418,31429,31998,33909,35215,36211,36917,38312,21243,22343,30023,31584,33740,37406,63752,27224,20811,21067,21127,25119,26840,26997,38553,20677,21156,21220,25027,26020,26681,27135,29822,31563,33465,33771,35250,35641,36817,39241,63753,20170,22935,25810,26129,27278,29748,31105,31165,33449,34942,34943,35167,63754,37670,20235,21450,24613,25201,27762,32026,32102,20120,20834,30684,32943,20225,20238,20854,20864,21980,22120,22331,22522,22524,22804,22855,22931,23492,23696,23822,24049,24190,24524,25216,26071,26083,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,26398,26399,26462,26827,26820,27231,27450,27683,27773,27778,28103,29592,29734,29738,29826,29859,30072,30079,30849,30959,31041,31047,31048,31098,31637,32e3,32186,32648,32774,32813,32908,35352,35663,35912,36215,37665,37668,39138,39249,39438,39439,39525,40594,32202,20342,21513,25326,26708,37329,21931,20794,63755,63756,23068,25062,63757,25295,25343,63758,63759,63760,63761,63762,63763,37027,63764,63765,63766,63767,63768,35582,63769,63770,63771,63772,26262,63773,29014,63774,63775,38627,63776,25423,25466,21335,63777,26511,26976,28275,63778,30007,63779,63780,63781,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,32013,63782,63783,34930,22218,23064,63784,63785,63786,63787,63788,20035,63789,20839,22856,26608,32784,63790,22899,24180,25754,31178,24565,24684,25288,25467,23527,23511,21162,63791,22900,24361,24594,63792,63793,63794,29785,63795,63796,63797,63798,63799,63800,39377,63801,63802,63803,63804,63805,63806,63807,63808,63809,63810,63811,28611,63812,63813,33215,36786,24817,63814,63815,33126,63816,63817,23615,63818,63819,63820,63821,63822,63823,63824,63825,23273,35365,26491,32016,63826,63827,63828,63829,63830,63831,33021,63832,63833,23612,27877,21311,28346,22810,33590,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,20025,20150,20294,21934,22296,22727,24406,26039,26086,27264,27573,28237,30701,31471,31774,32222,34507,34962,37170,37723,25787,28606,29562,30136,36948,21846,22349,25018,25812,26311,28129,28251,28525,28601,30192,32835,33213,34113,35203,35527,35674,37663,27795,30035,31572,36367,36957,21776,22530,22616,24162,25095,25758,26848,30070,31958,34739,40680,20195,22408,22382,22823,23565,23729,24118,24453,25140,25825,29619,33274,34955,36024,38538,40667,23429,24503,24755,20498,20992,21040,22294,22581,22615,23566,23648,23798,23947,24230,24466,24764,25361,25481,25623,26691,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,26873,27330,28120,28193,28372,28644,29182,30428,30585,31153,31291,33796,35241,36077,36339,36424,36867,36884,36947,37117,37709,38518,38876,27602,28678,29272,29346,29544,30563,31167,31716,32411,35712,22697,24775,25958,26109,26302,27788,28958,29129,35930,38931,20077,31361,20189,20908,20941,21205,21516,24999,26481,26704,26847,27934,28540,30140,30643,31461,33012,33891,37509,20828,26007,26460,26515,30168,31431,33651,63834,35910,36887,38957,23663,33216,33434,36929,36975,37389,24471,23965,27225,29128,30331,31561,34276,35588,37159,39472,21895,25078,63835,30313,32645,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,34367,34746,35064,37007,63836,27931,28889,29662,32097,33853,63837,37226,39409,63838,20098,21365,27396,27410,28734,29211,34349,40478,21068,36771,23888,25829,25900,27414,28651,31811,32412,34253,35172,35261,25289,33240,34847,24266,26391,28010,29436,29701,29807,34690,37086,20358,23821,24480,33802,20919,25504,30053,20142,20486,20841,20937,26753,27153,31918,31921,31975,33391,35538,36635,37327,20406,20791,21237,21570,24300,24942,25150,26053,27354,28670,31018,34268,34851,38317,39522,39530,40599,40654,21147,26310,27511,28701,31019,36706,38722,24976,25088,25891,28451,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,29001,29833,32244,32879,34030,36646,36899,37706,20925,21015,21155,27916,28872,35010,24265,25986,27566,28610,31806,29557,20196,20278,22265,63839,23738,23994,24604,29618,31533,32666,32718,32838,36894,37428,38646,38728,38936,40801,20363,28583,31150,37300,38583,21214,63840,25736,25796,27347,28510,28696,29200,30439,32769,34310,34396,36335,36613,38706,39791,40442,40565,30860,31103,32160,33737,37636,40575,40595,35542,22751,24324,26407,28711,29903,31840,32894,20769,28712,29282,30922,36034,36058,36084,38647,20102,20698,23534,24278,26009,29134,30274,30637,32842,34044,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,36988,39719,40845,22744,23105,23650,27155,28122,28431,30267,32047,32311,34078,35128,37860,38475,21129,26066,26611,27060,27969,28316,28687,29705,29792,30041,30244,30827,35628,39006,20845,25134,38520,20374,20523,23833,28138,32184,36650,24459,24900,26647,63841,38534,21202,32907,20956,20940,26974,31260,32190,33777,38517,20442,21033,21400,21519,21774,23653,24743,26446,26792,28012,29313,29432,29702,29827,63842,30178,31852,32633,32696,33673,35023,35041,37324,37328,38626,39881,21533,28542,29136,29848,34298,36522,38563,40023,40607,26519,28107,29747,33256,38678,30764,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,31435,31520,31890,25705,29802,30194,30908,30952,39340,39764,40635,23518,24149,28448,33180,33707,37e3,19975,21325,23081,24018,24398,24930,25405,26217,26364,28415,28459,28771,30622,33836,34067,34875,36627,39237,39995,21788,25273,26411,27819,33545,35178,38778,20129,22916,24536,24537,26395,32178,32596,33426,33579,33725,36638,37017,22475,22969,23186,23504,26151,26522,26757,27599,29028,32629,36023,36067,36993,39749,33032,35978,38476,39488,40613,23391,27667,29467,30450,30431,33804,20906,35219,20813,20885,21193,26825,27796,30468,30496,32191,32236,38754,40629,28357,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,34065,20901,21517,21629,26126,26269,26919,28319,30399,30609,33559,33986,34719,37225,37528,40180,34946,20398,20882,21215,22982,24125,24917,25720,25721,26286,26576,27169,27597,27611,29279,29281,29761,30520,30683,32791,33468,33541,35584,35624,35980,26408,27792,29287,30446,30566,31302,40361,27519,27794,22818,26406,33945,21359,22675,22937,24287,25551,26164,26483,28218,29483,31447,33495,37672,21209,24043,25006,25035,25098,25287,25771,26080,26969,27494,27595,28961,29687,30045,32326,33310,33538,34154,35491,36031,38695,40289,22696,40664,20497,21006,21563,21839,25991,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,27766,32010,32011,32862,34442,38272,38639,21247,27797,29289,21619,23194,23614,23883,24396,24494,26410,26806,26979,28220,28228,30473,31859,32654,34183,35598,36855,38753,40692,23735,24758,24845,25003,25935,26107,26108,27665,27887,29599,29641,32225,38292,23494,34588,35600,21085,21338,25293,25615,25778,26420,27192,27850,29632,29854,31636,31893,32283,33162,33334,34180,36843,38649,39361,20276,21322,21453,21467,25292,25644,25856,26001,27075,27886,28504,29677,30036,30242,30436,30460,30928,30971,31020,32070,33324,34784,36820,38930,39151,21187,25300,25765,28196,28497,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,30332,36299,37297,37474,39662,39747,20515,20621,22346,22952,23592,24135,24439,25151,25918,26041,26049,26121,26507,27036,28354,30917,32033,32938,33152,33323,33459,33953,34444,35370,35607,37030,38450,40848,20493,20467,63843,22521,24472,25308,25490,26479,28227,28953,30403,32972,32986,35060,35061,35097,36064,36649,37197,38506,20271,20336,24091,26575,26658,30333,30334,39748,24161,27146,29033,29140,30058,63844,32321,34115,34281,39132,20240,31567,32624,38309,20961,24070,26805,27710,27726,27867,29359,31684,33539,27861,29754,20731,21128,22721,25816,27287,29863,30294,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,30887,34327,38370,38713,63845,21342,24321,35722,36776,36783,37002,21029,30629,40009,40712,19993,20482,20853,23643,24183,26142,26170,26564,26821,28851,29953,30149,31177,31453,36647,39200,39432,20445,22561,22577,23542,26222,27493,27921,28282,28541,29668,29995,33769,35036,35091,35676,36628,20239,20693,21264,21340,23443,24489,26381,31119,33145,33583,34068,35079,35206,36665,36667,39333,39954,26412,20086,20472,22857,23553,23791,23792,25447,26834,28925,29090,29739,32299,34028,34562,36898,37586,40179,19981,20184,20463,20613,21078,21103,21542,21648,22496,22827,23142,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,23386,23413,23500,24220,63846,25206,25975,26023,28014,28325,29238,31526,31807,32566,33104,33105,33178,33344,33433,33705,35331,36e3,36070,36091,36212,36282,37096,37340,38428,38468,39385,40167,21271,20998,21545,22132,22707,22868,22894,24575,24996,25198,26128,27774,28954,30406,31881,31966,32027,33452,36033,38640,63847,20315,24343,24447,25282,23849,26379,26842,30844,32323,40300,19989,20633,21269,21290,21329,22915,23138,24199,24754,24970,25161,25209,26e3,26503,27047,27604,27606,27607,27608,27832,63848,29749,30202,30738,30865,31189,31192,31875,32203,32737,32933,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,33086,33218,33778,34586,35048,35513,35692,36027,37145,38750,39131,40763,22188,23338,24428,25996,27315,27567,27996,28657,28693,29277,29613,36007,36051,38971,24977,27703,32856,39425,20045,20107,20123,20181,20282,20284,20351,20447,20735,21490,21496,21766,21987,22235,22763,22882,23057,23531,23546,23556,24051,24107,24473,24605,25448,26012,26031,26614,26619,26797,27515,27801,27863,28195,28681,29509,30722,31038,31040,31072,31169,31721,32023,32114,32902,33293,33678,34001,34503,35039,35408,35422,35613,36060,36198,36781,37034,39164,39391,40605,21066,63849,26388,63850,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,20632,21034,23665,25955,27733,29642,29987,30109,31639,33948,37240,38704,20087,25746,27578,29022,34217,19977,63851,26441,26862,28183,33439,34072,34923,25591,28545,37394,39087,19978,20663,20687,20767,21830,21930,22039,23360,23577,23776,24120,24202,24224,24258,24819,26705,27233,28248,29245,29248,29376,30456,31077,31665,32724,35059,35316,35443,35937,36062,38684,22622,29885,36093,21959,63852,31329,32034,33394,29298,29983,29989,63853,31513,22661,22779,23996,24207,24246,24464,24661,25234,25471,25933,26257,26329,26360,26646,26866,29312,29790,31598,32110,32214,32626,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,32997,33298,34223,35199,35475,36893,37604,40653,40736,22805,22893,24109,24796,26132,26227,26512,27728,28101,28511,30707,30889,33990,37323,37675,20185,20682,20808,21892,23307,23459,25159,25982,26059,28210,29053,29697,29764,29831,29887,30316,31146,32218,32341,32680,33146,33203,33337,34330,34796,35445,36323,36984,37521,37925,39245,39854,21352,23633,26964,27844,27945,28203,33292,34203,35131,35373,35498,38634,40807,21089,26297,27570,32406,34814,36109,38275,38493,25885,28041,29166,63854,22478,22995,23468,24615,24826,25104,26143,26207,29481,29689,30427,30465,31596,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,32854,32882,33125,35488,37266,19990,21218,27506,27927,31237,31545,32048,63855,36016,21484,22063,22609,23477,23567,23569,24034,25152,25475,25620,26157,26803,27836,28040,28335,28703,28836,29138,29990,30095,30094,30233,31505,31712,31787,32032,32057,34092,34157,34311,35380,36877,36961,37045,37559,38902,39479,20439,23660,26463,28049,31903,32396,35606,36118,36895,23403,24061,25613,33984,36956,39137,29575,23435,24730,26494,28126,35359,35494,36865,38924,21047,63856,28753,30862,37782,34928,37335,20462,21463,22013,22234,22402,22781,23234,23432,23723,23744,24101,24833,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,25101,25163,25480,25628,25910,25976,27193,27530,27700,27929,28465,29159,29417,29560,29703,29874,30246,30561,31168,31319,31466,31929,32143,32172,32353,32670,33065,33585,33936,34010,34282,34966,35504,35728,36664,36930,36995,37228,37526,37561,38539,38567,38568,38614,38656,38920,39318,39635,39706,21460,22654,22809,23408,23487,28113,28506,29087,29729,29881,32901,33789,24033,24455,24490,24642,26092,26642,26991,27219,27529,27957,28147,29667,30462,30636,31565,32020,33059,33308,33600,34036,34147,35426,35524,37255,37662,38918,39348,25100,34899,36848,37477,23815,23847,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,23913,29791,33181,34664,28629,25342,32722,35126,35186,19998,20056,20711,21213,21319,25215,26119,32361,34821,38494,20365,21273,22070,22987,23204,23608,23630,23629,24066,24337,24643,26045,26159,26178,26558,26612,29468,30690,31034,32709,33940,33997,35222,35430,35433,35553,35925,35962,22516,23508,24335,24687,25325,26893,27542,28252,29060,31698,34645,35672,36606,39135,39166,20280,20353,20449,21627,23072,23480,24892,26032,26216,29180,30003,31070,32051,33102,33251,33688,34218,34254,34563,35338,36523,36763,63857,36805,22833,23460,23526,24713,23529,23563,24515,27777,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,63858,28145,28683,29978,33455,35574,20160,21313,63859,38617,27663,20126,20420,20818,21854,23077,23784,25105,29273,33469,33706,34558,34905,35357,38463,38597,39187,40201,40285,22538,23731,23997,24132,24801,24853,25569,27138,28197,37122,37716,38990,39952,40823,23433,23736,25353,26191,26696,30524,38593,38797,38996,39839,26017,35585,36555,38332,21813,23721,24022,24245,26263,30284,33780,38343,22739,25276,29390,40232,20208,22830,24591,26171,27523,31207,40230,21395,21696,22467,23830,24859,26326,28079,30861,33406,38552,38724,21380,25212,25494,28082,32266,33099,38989,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,27387,32588,40367,40474,20063,20539,20918,22812,24825,25590,26928,29242,32822,63860,37326,24369,63861,63862,32004,33509,33903,33979,34277,36493,63863,20335,63864,63865,22756,23363,24665,25562,25880,25965,26264,63866,26954,27171,27915,28673,29036,30162,30221,31155,31344,63867,32650,63868,35140,63869,35731,37312,38525,63870,39178,22276,24481,26044,28417,30208,31142,35486,39341,39770,40812,20740,25014,25233,27277,33222,20547,22576,24422,28937,35328,35578,23420,34326,20474,20796,22196,22852,25513,28153,23978,26989,20870,20104,20313,63871,63872,63873,22914,63874,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,63875,27487,27741,63876,29877,30998,63877,33287,33349,33593,36671,36701,63878,39192,63879,63880,63881,20134,63882,22495,24441,26131,63883,63884,30123,32377,35695,63885,36870,39515,22181,22567,23032,23071,23476,63886,24310,63887,63888,25424,25403,63889,26941,27783,27839,28046,28051,28149,28436,63890,28895,28982,29017,63891,29123,29141,63892,30799,30831,63893,31605,32227,63894,32303,63895,34893,36575,63896,63897,63898,37467,63899,40182,63900,63901,63902,24709,28037,63903,29105,63904,63905,38321,21421,63906,63907,63908,26579,63909,28814,28976,29744,33398,33490,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,63910,38331,39653,40573,26308,63911,29121,33865,63912,63913,22603,63914,63915,23992,24433,63916,26144,26254,27001,27054,27704,27891,28214,28481,28634,28699,28719,29008,29151,29552,63917,29787,63918,29908,30408,31310,32403,63919,63920,33521,35424,36814,63921,37704,63922,38681,63923,63924,20034,20522,63925,21e3,21473,26355,27757,28618,29450,30591,31330,33454,34269,34306,63926,35028,35427,35709,35947,63927,37555,63928,38675,38928,20116,20237,20425,20658,21320,21566,21555,21978,22626,22714,22887,23067,23524,24735,63929,25034,25942,26111,26212,26791,27738,28595,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,28879,29100,29522,31613,34568,35492,39986,40711,23627,27779,29508,29577,37434,28331,29797,30239,31337,32277,34314,20800,22725,25793,29934,29973,30320,32705,37013,38605,39252,28198,29926,31401,31402,33253,34521,34680,35355,23113,23436,23451,26785,26880,28003,29609,29715,29740,30871,32233,32747,33048,33109,33694,35916,38446,38929,26352,24448,26106,26505,27754,29579,20525,23043,27498,30702,22806,23916,24013,29477,30031,63930,63931,20709,20985,22575,22829,22934,23002,23525,63932,63933,23970,25303,25622,25747,25854,63934,26332,63935,27208,63936,29183,29796,63937,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,31368,31407,32327,32350,32768,33136,63938,34799,35201,35616,36953,63939,36992,39250,24958,27442,28020,32287,35109,36785,20433,20653,20887,21191,22471,22665,23481,24248,24898,27029,28044,28263,28342,29076,29794,29992,29996,32883,33592,33993,36362,37780,37854,63940,20110,20305,20598,20778,21448,21451,21491,23431,23507,23588,24858,24962,26100,29275,29591,29760,30402,31056,31121,31161,32006,32701,33419,34261,34398,36802,36935,37109,37354,38533,38632,38633,21206,24423,26093,26161,26671,29020,31286,37057,38922,20113,63941,27218,27550,28560,29065,32792,33464,34131,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,36939,38549,38642,38907,34074,39729,20112,29066,38596,20803,21407,21729,22291,22290,22435,23195,23236,23491,24616,24895,25588,27781,27961,28274,28304,29232,29503,29783,33489,34945,36677,36960,63942,38498,39e3,40219,26376,36234,37470,20301,20553,20702,21361,22285,22996,23041,23561,24944,26256,28205,29234,29771,32239,32963,33806,33894,34111,34655,34907,35096,35586,36949,38859,39759,20083,20369,20754,20842,63943,21807,21929,23418,23461,24188,24189,24254,24736,24799,24840,24841,25540,25912,26377,63944,26580,26586,63945,26977,26978,27833,27943,63946,28216,63947,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,28641,29494,29495,63948,29788,30001,63949,30290,63950,63951,32173,33278,33848,35029,35480,35547,35565,36400,36418,36938,36926,36986,37193,37321,37742,63952,63953,22537,63954,27603,32905,32946,63955,63956,20801,22891,23609,63957,63958,28516,29607,32996,36103,63959,37399,38287,63960,63961,63962,63963,32895,25102,28700,32104,34701,63964,22432,24681,24903,27575,35518,37504,38577,20057,21535,28139,34093,38512,38899,39150,25558,27875,37009,20957,25033,33210,40441,20381,20506,20736,23452,24847,25087,25836,26885,27589,30097,30691,32681,33380,34191,34811,34915,35516,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,35696,37291,20108,20197,20234,63965,63966,22839,23016,63967,24050,24347,24411,24609,63968,63969,63970,63971,29246,29669,63972,30064,30157,63973,31227,63974,32780,32819,32900,33505,33617,63975,63976,36029,36019,36999,63977,63978,39156,39180,63979,63980,28727,30410,32714,32716,32764,35610,20154,20161,20995,21360,63981,21693,22240,23035,23493,24341,24525,28270,63982,63983,32106,33589,63984,34451,35469,63985,38765,38775,63986,63987,19968,20314,20350,22777,26085,28322,36920,37808,39353,20219,22764,22922,23001,24641,63988,63989,31252,63990,33615,36035,20837,21316,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,63991,63992,63993,20173,21097,23381,33471,20180,21050,21672,22985,23039,23376,23383,23388,24675,24904,28363,28825,29038,29574,29943,30133,30913,32043,32773,33258,33576,34071,34249,35566,36039,38604,20316,21242,22204,26027,26152,28796,28856,29237,32189,33421,37196,38592,40306,23409,26855,27544,28538,30430,23697,26283,28507,31668,31786,34870,38620,19976,20183,21280,22580,22715,22767,22892,23559,24115,24196,24373,25484,26290,26454,27167,27299,27404,28479,29254,63994,29520,29835,31456,31911,33144,33247,33255,33674,33900,34083,34196,34255,35037,36115,37292,38263,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,38556,20877,21705,22312,23472,25165,26448,26685,26771,28221,28371,28797,32289,35009,36001,36617,40779,40782,29229,31631,35533,37658,20295,20302,20786,21632,22992,24213,25269,26485,26990,27159,27822,28186,29401,29482,30141,31672,32053,33511,33785,33879,34295,35419,36015,36487,36889,37048,38606,40799,21219,21514,23265,23490,25688,25973,28404,29380,63995,30340,31309,31515,31821,32318,32735,33659,35627,36042,36196,36321,36447,36842,36857,36969,37841,20291,20346,20659,20840,20856,21069,21098,22625,22652,22880,23560,23637,24283,24731,25136,26643,27583,27656,28593,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,29006,29728,3e4,30008,30033,30322,31564,31627,31661,31686,32399,35438,36670,36681,37439,37523,37666,37931,38651,39002,39019,39198,20999,25130,25240,27993,30308,31434,31680,32118,21344,23742,24215,28472,28857,31896,38673,39822,40670,25509,25722,34678,19969,20117,20141,20572,20597,21576,22979,23450,24128,24237,24311,24449,24773,25402,25919,25972,26060,26230,26232,26622,26984,27273,27491,27712,28096,28136,28191,28254,28702,28833,29582,29693,30010,30555,30855,31118,31243,31357,31934,32142,33351,35330,35562,35998,37165,37194,37336,37478,37580,37664,38662,38742,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,38748,38914,40718,21046,21137,21884,22564,24093,24351,24716,25552,26799,28639,31085,31532,33229,34234,35069,35576,36420,37261,38500,38555,38717,38988,40778,20430,20806,20939,21161,22066,24340,24427,25514,25805,26089,26177,26362,26361,26397,26781,26839,27133,28437,28526,29031,29157,29226,29866,30522,31062,31066,31199,31264,31381,31895,31967,32068,32368,32903,34299,34468,35412,35519,36249,36481,36896,36973,37347,38459,38613,40165,26063,31751,36275,37827,23384,23562,21330,25305,29469,20519,23447,24478,24752,24939,26837,28121,29742,31278,32066,32156,32305,33131,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,36394,36405,37758,37912,20304,22352,24038,24231,25387,32618,20027,20303,20367,20570,23005,32964,21610,21608,22014,22863,23449,24030,24282,26205,26417,26609,26666,27880,27954,28234,28557,28855,29664,30087,31820,32002,32044,32162,33311,34523,35387,35461,36208,36490,36659,36913,37198,37202,37956,39376,31481,31909,20426,20737,20934,22472,23535,23803,26201,27197,27994,28310,28652,28940,30063,31459,34850,36897,36981,38603,39423,33537,20013,20210,34886,37325,21373,27355,26987,27713,33914,22686,24974,26366,25327,28893,29969,30151,32338,33976,35657,36104,20043,21482,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,21675,22320,22336,24535,25345,25351,25711,25903,26088,26234,26525,26547,27490,27744,27802,28460,30693,30757,31049,31063,32025,32930,33026,33267,33437,33463,34584,35468,63996,36100,36286,36978,30452,31257,31287,32340,32887,21767,21972,22645,25391,25634,26185,26187,26733,27035,27524,27941,28337,29645,29800,29857,30043,30137,30433,30494,30603,31206,32265,32285,33275,34095,34967,35386,36049,36587,36784,36914,37805,38499,38515,38663,20356,21489,23018,23241,24089,26702,29894,30142,31209,31378,33187,34541,36074,36300,36845,26015,26389,63997,22519,28503,32221,36655,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,37878,38598,24501,25074,28548,19988,20376,20511,21449,21983,23919,24046,27425,27492,30923,31642,63998,36425,36554,36974,25417,25662,30528,31364,37679,38015,40810,25776,28591,29158,29864,29914,31428,31762,32386,31922,32408,35738,36106,38013,39184,39244,21049,23519,25830,26413,32046,20717,21443,22649,24920,24921,25082,26028,31449,35730,35734,20489,20513,21109,21809,23100,24288,24432,24884,25950,26124,26166,26274,27085,28356,28466,29462,30241,31379,33081,33369,33750,33980,20661,22512,23488,23528,24425,25505,30758,32181,33756,34081,37319,37365,20874,26613,31574,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,36012,20932,22971,24765,34389,20508,63999,21076,23610,24957,25114,25299,25842,26021,28364,30240,33034,36448,38495,38587,20191,21315,21912,22825,24029,25797,27849,28154,29588,31359,33307,34214,36068,36368,36983,37351,38369,38433,38854,20984,21746,21894,24505,25764,28552,32180,36639,36685,37941,20681,23574,27838,28155,29979,30651,31805,31844,35449,35522,22558,22974,24086,25463,29266,30090,30571,35548,36028,36626,24307,26228,28152,32893,33729,35531,38737,39894,64e3,21059,26367,28053,28399,32224,35558,36910,36958,39636,21021,21119,21736,24980,25220,25307,26786,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,26898,26970,27189,28818,28966,30813,30977,30990,31186,31245,32918,33400,33493,33609,34121,35970,36229,37218,37259,37294,20419,22225,29165,30679,34560,35320,23544,24534,26449,37032,21474,22618,23541,24740,24961,25696,32317,32880,34085,37507,25774,20652,23828,26368,22684,25277,25512,26894,27e3,27166,28267,30394,31179,33467,33833,35535,36264,36861,37138,37195,37276,37648,37656,37786,38619,39478,39949,19985,30044,31069,31482,31569,31689,32302,33988,36441,36468,36600,36880,26149,26943,29763,20986,26414,40668,20805,24544,27798,34802,34909,34935,24756,33205,33795,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,36101,21462,21561,22068,23094,23601,28810,32736,32858,33030,33261,36259,37257,39519,40434,20596,20164,21408,24827,28204,23652,20360,20516,21988,23769,24159,24677,26772,27835,28100,29118,30164,30196,30305,31258,31305,32199,32251,32622,33268,34473,36636,38601,39347,40786,21063,21189,39149,35242,19971,26578,28422,20405,23522,26517,27784,28024,29723,30759,37341,37756,34756,31204,31281,24555,20182,21668,21822,22702,22949,24816,25171,25302,26422,26965,33333,38464,39345,39389,20524,21331,21828,22396,64001,25176,64002,25826,26219,26589,28609,28655,29730,29752,35351,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,37944,21585,22022,22374,24392,24986,27470,28760,28845,32187,35477,22890,33067,25506,30472,32829,36010,22612,25645,27067,23445,24081,28271,64003,34153,20812,21488,22826,24608,24907,27526,27760,27888,31518,32974,33492,36294,37040,39089,64004,25799,28580,25745,25860,20814,21520,22303,35342,24927,26742,64005,30171,31570,32113,36890,22534,27084,33151,35114,36864,38969,20600,22871,22956,25237,36879,39722,24925,29305,38358,22369,23110,24052,25226,25773,25850,26487,27874,27966,29228,29750,30772,32631,33453,36315,38935,21028,22338,26495,29256,29923,36009,36774,37393,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,38442,20843,21485,25420,20329,21764,24726,25943,27803,28031,29260,29437,31255,35207,35997,24429,28558,28921,33192,24846,20415,20559,25153,29255,31687,32232,32745,36941,38829,39449,36022,22378,24179,26544,33805,35413,21536,23318,24163,24290,24330,25987,32954,34109,38281,38491,20296,21253,21261,21263,21638,21754,22275,24067,24598,25243,25265,25429,64006,27873,28006,30129,30770,32990,33071,33502,33889,33970,34957,35090,36875,37610,39165,39825,24133,26292,26333,28689,29190,64007,20469,21117,24426,24915,26451,27161,28418,29922,31080,34920,35961,39111,39108,39491,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,21697,31263,26963,35575,35914,39080,39342,24444,25259,30130,30382,34987,36991,38466,21305,24380,24517,27852,29644,30050,30091,31558,33534,39325,20047,36924,19979,20309,21414,22799,24264,26160,27827,29781,33655,34662,36032,36944,38686,39957,22737,23416,34384,35604,40372,23506,24680,24717,26097,27735,28450,28579,28698,32597,32752,38289,38290,38480,38867,21106,36676,20989,21547,21688,21859,21898,27323,28085,32216,33382,37532,38519,40569,21512,21704,30418,34532,38308,38356,38492,20130,20233,23022,23270,24055,24658,25239,26477,26689,27782,28207,32568,32923,33322,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,64008,64009,38917,20133,20565,21683,22419,22874,23401,23475,25032,26999,28023,28707,34809,35299,35442,35559,36994,39405,39608,21182,26680,20502,24184,26447,33607,34892,20139,21521,22190,29670,37141,38911,39177,39255,39321,22099,22687,34395,35377,25010,27382,29563,36562,27463,38570,39511,22869,29184,36203,38761,20436,23796,24358,25080,26203,27883,28843,29572,29625,29694,30505,30541,32067,32098,32291,33335,34898,64010,36066,37449,39023,23377,31348,34880,38913,23244,20448,21332,22846,23805,25406,28025,29433,33029,33031,33698,37583,38960,20136,20804,21009,22411,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,24418,27842,28366,28677,28752,28847,29074,29673,29801,33610,34722,34913,36872,37026,37795,39336,20846,24407,24800,24935,26291,34137,36426,37295,38795,20046,20114,21628,22741,22778,22909,23733,24359,25142,25160,26122,26215,27627,28009,28111,28246,28408,28564,28640,28649,28765,29392,29733,29786,29920,30355,31068,31946,32286,32993,33446,33899,33983,34382,34399,34676,35703,35946,37804,38912,39013,24785,25110,37239,23130,26127,28151,28222,29759,39746,24573,24794,31503,21700,24344,27742,27859,27946,28888,32005,34425,35340,40251,21270,21644,23301,27194,28779,30069,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,31117,31166,33457,33775,35441,35649,36008,38772,64011,25844,25899,30906,30907,31339,20024,21914,22864,23462,24187,24739,25563,27489,26213,26707,28185,29029,29872,32008,36996,39529,39973,27963,28369,29502,35905,38346,20976,24140,24488,24653,24822,24880,24908,26179,26180,27045,27841,28255,28361,28514,29004,29852,30343,31681,31783,33618,34647,36945,38541,40643,21295,22238,24315,24458,24674,24724,25079,26214,26371,27292,28142,28590,28784,29546,32362,33214,33588,34516,35496,36036,21123,29554,23446,27243,37892,21742,22150,23389,25928,25989,26313,26783,28045,28102,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,29243,32948,37237,39501,20399,20505,21402,21518,21564,21897,21957,24127,24460,26429,29030,29661,36869,21211,21235,22628,22734,28932,29071,29179,34224,35347,26248,34216,21927,26244,29002,33841,21321,21913,27585,24409,24509,25582,26249,28999,35569,36637,40638,20241,25658,28875,30054,34407,24676,35662,40440,20807,20982,21256,27958,33016,40657,26133,27427,28824,30165,21507,23673,32007,35350,27424,27453,27462,21560,24688,27965,32725,33288,20694,20958,21916,22123,22221,23020,23305,24076,24985,24984,25137,26206,26342,29081,29113,29114,29351,31143,31232,32690,35440,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],
gb18030:[19970,19972,19973,19974,19983,19986,19991,19999,2e4,20001,20003,20006,20009,20014,20015,20017,20019,20021,20023,20028,20032,20033,20034,20036,20038,20042,20049,20053,20055,20058,20059,20066,20067,20068,20069,20071,20072,20074,20075,20076,20077,20078,20079,20082,20084,20085,20086,20087,20088,20089,20090,20091,20092,20093,20095,20096,20097,20098,20099,20100,20101,20103,20106,20112,20118,20119,20121,20124,20125,20126,20131,20138,20143,20144,20145,20148,20150,20151,20152,20153,20156,20157,20158,20168,20172,20175,20176,20178,20186,20187,20188,20192,20194,20198,20199,20201,20205,20206,20207,20209,20212,20216,20217,20218,20220,20222,20224,20226,20227,20228,20229,20230,20231,20232,20235,20236,20242,20243,20244,20245,20246,20252,20253,20257,20259,20264,20265,20268,20269,20270,20273,20275,20277,20279,20281,20283,20286,20287,20288,20289,20290,20292,20293,20295,20296,20297,20298,20299,20300,20306,20308,20310,20321,20322,20326,20328,20330,20331,20333,20334,20337,20338,20341,20343,20344,20345,20346,20349,20352,20353,20354,20357,20358,20359,20362,20364,20366,20368,20370,20371,20373,20374,20376,20377,20378,20380,20382,20383,20385,20386,20388,20395,20397,20400,20401,20402,20403,20404,20406,20407,20408,20409,20410,20411,20412,20413,20414,20416,20417,20418,20422,20423,20424,20425,20427,20428,20429,20434,20435,20436,20437,20438,20441,20443,20448,20450,20452,20453,20455,20459,20460,20464,20466,20468,20469,20470,20471,20473,20475,20476,20477,20479,20480,20481,20482,20483,20484,20485,20486,20487,20488,20489,20490,20491,20494,20496,20497,20499,20501,20502,20503,20507,20509,20510,20512,20514,20515,20516,20519,20523,20527,20528,20529,20530,20531,20532,20533,20534,20535,20536,20537,20539,20541,20543,20544,20545,20546,20548,20549,20550,20553,20554,20555,20557,20560,20561,20562,20563,20564,20566,20567,20568,20569,20571,20573,20574,20575,20576,20577,20578,20579,20580,20582,20583,20584,20585,20586,20587,20589,20590,20591,20592,20593,20594,20595,20596,20597,20600,20601,20602,20604,20605,20609,20610,20611,20612,20614,20615,20617,20618,20619,20620,20622,20623,20624,20625,20626,20627,20628,20629,20630,20631,20632,20633,20634,20635,20636,20637,20638,20639,20640,20641,20642,20644,20646,20650,20651,20653,20654,20655,20656,20657,20659,20660,20661,20662,20663,20664,20665,20668,20669,20670,20671,20672,20673,20674,20675,20676,20677,20678,20679,20680,20681,20682,20683,20684,20685,20686,20688,20689,20690,20691,20692,20693,20695,20696,20697,20699,20700,20701,20702,20703,20704,20705,20706,20707,20708,20709,20712,20713,20714,20715,20719,20720,20721,20722,20724,20726,20727,20728,20729,20730,20732,20733,20734,20735,20736,20737,20738,20739,20740,20741,20744,20745,20746,20748,20749,20750,20751,20752,20753,20755,20756,20757,20758,20759,20760,20761,20762,20763,20764,20765,20766,20767,20768,20770,20771,20772,20773,20774,20775,20776,20777,20778,20779,20780,20781,20782,20783,20784,20785,20786,20787,20788,20789,20790,20791,20792,20793,20794,20795,20796,20797,20798,20802,20807,20810,20812,20814,20815,20816,20818,20819,20823,20824,20825,20827,20829,20830,20831,20832,20833,20835,20836,20838,20839,20841,20842,20847,20850,20858,20862,20863,20867,20868,20870,20871,20874,20875,20878,20879,20880,20881,20883,20884,20888,20890,20893,20894,20895,20897,20899,20902,20903,20904,20905,20906,20909,20910,20916,20920,20921,20922,20926,20927,20929,20930,20931,20933,20936,20938,20941,20942,20944,20946,20947,20948,20949,20950,20951,20952,20953,20954,20956,20958,20959,20962,20963,20965,20966,20967,20968,20969,20970,20972,20974,20977,20978,20980,20983,20990,20996,20997,21001,21003,21004,21007,21008,21011,21012,21013,21020,21022,21023,21025,21026,21027,21029,21030,21031,21034,21036,21039,21041,21042,21044,21045,21052,21054,21060,21061,21062,21063,21064,21065,21067,21070,21071,21074,21075,21077,21079,21080,21081,21082,21083,21085,21087,21088,21090,21091,21092,21094,21096,21099,21100,21101,21102,21104,21105,21107,21108,21109,21110,21111,21112,21113,21114,21115,21116,21118,21120,21123,21124,21125,21126,21127,21129,21130,21131,21132,21133,21134,21135,21137,21138,21140,21141,21142,21143,21144,21145,21146,21148,21156,21157,21158,21159,21166,21167,21168,21172,21173,21174,21175,21176,21177,21178,21179,21180,21181,21184,21185,21186,21188,21189,21190,21192,21194,21196,21197,21198,21199,21201,21203,21204,21205,21207,21209,21210,21211,21212,21213,21214,21216,21217,21218,21219,21221,21222,21223,21224,21225,21226,21227,21228,21229,21230,21231,21233,21234,21235,21236,21237,21238,21239,21240,21243,21244,21245,21249,21250,21251,21252,21255,21257,21258,21259,21260,21262,21265,21266,21267,21268,21272,21275,21276,21278,21279,21282,21284,21285,21287,21288,21289,21291,21292,21293,21295,21296,21297,21298,21299,21300,21301,21302,21303,21304,21308,21309,21312,21314,21316,21318,21323,21324,21325,21328,21332,21336,21337,21339,21341,21349,21352,21354,21356,21357,21362,21366,21369,21371,21372,21373,21374,21376,21377,21379,21383,21384,21386,21390,21391,21392,21393,21394,21395,21396,21398,21399,21401,21403,21404,21406,21408,21409,21412,21415,21418,21419,21420,21421,21423,21424,21425,21426,21427,21428,21429,21431,21432,21433,21434,21436,21437,21438,21440,21443,21444,21445,21446,21447,21454,21455,21456,21458,21459,21461,21466,21468,21469,21470,21473,21474,21479,21492,21498,21502,21503,21504,21506,21509,21511,21515,21524,21528,21529,21530,21532,21538,21540,21541,21546,21552,21555,21558,21559,21562,21565,21567,21569,21570,21572,21573,21575,21577,21580,21581,21582,21583,21585,21594,21597,21598,21599,21600,21601,21603,21605,21607,21609,21610,21611,21612,21613,21614,21615,21616,21620,21625,21626,21630,21631,21633,21635,21637,21639,21640,21641,21642,21645,21649,21651,21655,21656,21660,21662,21663,21664,21665,21666,21669,21678,21680,21682,21685,21686,21687,21689,21690,21692,21694,21699,21701,21706,21707,21718,21720,21723,21728,21729,21730,21731,21732,21739,21740,21743,21744,21745,21748,21749,21750,21751,21752,21753,21755,21758,21760,21762,21763,21764,21765,21768,21770,21771,21772,21773,21774,21778,21779,21781,21782,21783,21784,21785,21786,21788,21789,21790,21791,21793,21797,21798,21800,21801,21803,21805,21810,21812,21813,21814,21816,21817,21818,21819,21821,21824,21826,21829,21831,21832,21835,21836,21837,21838,21839,21841,21842,21843,21844,21847,21848,21849,21850,21851,21853,21854,21855,21856,21858,21859,21864,21865,21867,21871,21872,21873,21874,21875,21876,21881,21882,21885,21887,21893,21894,21900,21901,21902,21904,21906,21907,21909,21910,21911,21914,21915,21918,21920,21921,21922,21923,21924,21925,21926,21928,21929,21930,21931,21932,21933,21934,21935,21936,21938,21940,21942,21944,21946,21948,21951,21952,21953,21954,21955,21958,21959,21960,21962,21963,21966,21967,21968,21973,21975,21976,21977,21978,21979,21982,21984,21986,21991,21993,21997,21998,22e3,22001,22004,22006,22008,22009,22010,22011,22012,22015,22018,22019,22020,22021,22022,22023,22026,22027,22029,22032,22033,22034,22035,22036,22037,22038,22039,22041,22042,22044,22045,22048,22049,22050,22053,22054,22056,22057,22058,22059,22062,22063,22064,22067,22069,22071,22072,22074,22076,22077,22078,22080,22081,22082,22083,22084,22085,22086,22087,22088,22089,22090,22091,22095,22096,22097,22098,22099,22101,22102,22106,22107,22109,22110,22111,22112,22113,22115,22117,22118,22119,22125,22126,22127,22128,22130,22131,22132,22133,22135,22136,22137,22138,22141,22142,22143,22144,22145,22146,22147,22148,22151,22152,22153,22154,22155,22156,22157,22160,22161,22162,22164,22165,22166,22167,22168,22169,22170,22171,22172,22173,22174,22175,22176,22177,22178,22180,22181,22182,22183,22184,22185,22186,22187,22188,22189,22190,22192,22193,22194,22195,22196,22197,22198,22200,22201,22202,22203,22205,22206,22207,22208,22209,22210,22211,22212,22213,22214,22215,22216,22217,22219,22220,22221,22222,22223,22224,22225,22226,22227,22229,22230,22232,22233,22236,22243,22245,22246,22247,22248,22249,22250,22252,22254,22255,22258,22259,22262,22263,22264,22267,22268,22272,22273,22274,22277,22279,22283,22284,22285,22286,22287,22288,22289,22290,22291,22292,22293,22294,22295,22296,22297,22298,22299,22301,22302,22304,22305,22306,22308,22309,22310,22311,22315,22321,22322,22324,22325,22326,22327,22328,22332,22333,22335,22337,22339,22340,22341,22342,22344,22345,22347,22354,22355,22356,22357,22358,22360,22361,22370,22371,22373,22375,22380,22382,22384,22385,22386,22388,22389,22392,22393,22394,22397,22398,22399,22400,22401,22407,22408,22409,22410,22413,22414,22415,22416,22417,22420,22421,22422,22423,22424,22425,22426,22428,22429,22430,22431,22437,22440,22442,22444,22447,22448,22449,22451,22453,22454,22455,22457,22458,22459,22460,22461,22462,22463,22464,22465,22468,22469,22470,22471,22472,22473,22474,22476,22477,22480,22481,22483,22486,22487,22491,22492,22494,22497,22498,22499,22501,22502,22503,22504,22505,22506,22507,22508,22510,22512,22513,22514,22515,22517,22518,22519,22523,22524,22526,22527,22529,22531,22532,22533,22536,22537,22538,22540,22542,22543,22544,22546,22547,22548,22550,22551,22552,22554,22555,22556,22557,22559,22562,22563,22565,22566,22567,22568,22569,22571,22572,22573,22574,22575,22577,22578,22579,22580,22582,22583,22584,22585,22586,22587,22588,22589,22590,22591,22592,22593,22594,22595,22597,22598,22599,22600,22601,22602,22603,22606,22607,22608,22610,22611,22613,22614,22615,22617,22618,22619,22620,22621,22623,22624,22625,22626,22627,22628,22630,22631,22632,22633,22634,22637,22638,22639,22640,22641,22642,22643,22644,22645,22646,22647,22648,22649,22650,22651,22652,22653,22655,22658,22660,22662,22663,22664,22666,22667,22668,22669,22670,22671,22672,22673,22676,22677,22678,22679,22680,22683,22684,22685,22688,22689,22690,22691,22692,22693,22694,22695,22698,22699,22700,22701,22702,22703,22704,22705,22706,22707,22708,22709,22710,22711,22712,22713,22714,22715,22717,22718,22719,22720,22722,22723,22724,22726,22727,22728,22729,22730,22731,22732,22733,22734,22735,22736,22738,22739,22740,22742,22743,22744,22745,22746,22747,22748,22749,22750,22751,22752,22753,22754,22755,22757,22758,22759,22760,22761,22762,22765,22767,22769,22770,22772,22773,22775,22776,22778,22779,22780,22781,22782,22783,22784,22785,22787,22789,22790,22792,22793,22794,22795,22796,22798,22800,22801,22802,22803,22807,22808,22811,22813,22814,22816,22817,22818,22819,22822,22824,22828,22832,22834,22835,22837,22838,22843,22845,22846,22847,22848,22851,22853,22854,22858,22860,22861,22864,22866,22867,22873,22875,22876,22877,22878,22879,22881,22883,22884,22886,22887,22888,22889,22890,22891,22892,22893,22894,22895,22896,22897,22898,22901,22903,22906,22907,22908,22910,22911,22912,22917,22921,22923,22924,22926,22927,22928,22929,22932,22933,22936,22938,22939,22940,22941,22943,22944,22945,22946,22950,22951,22956,22957,22960,22961,22963,22964,22965,22966,22967,22968,22970,22972,22973,22975,22976,22977,22978,22979,22980,22981,22983,22984,22985,22988,22989,22990,22991,22997,22998,23001,23003,23006,23007,23008,23009,23010,23012,23014,23015,23017,23018,23019,23021,23022,23023,23024,23025,23026,23027,23028,23029,23030,23031,23032,23034,23036,23037,23038,23040,23042,23050,23051,23053,23054,23055,23056,23058,23060,23061,23062,23063,23065,23066,23067,23069,23070,23073,23074,23076,23078,23079,23080,23082,23083,23084,23085,23086,23087,23088,23091,23093,23095,23096,23097,23098,23099,23101,23102,23103,23105,23106,23107,23108,23109,23111,23112,23115,23116,23117,23118,23119,23120,23121,23122,23123,23124,23126,23127,23128,23129,23131,23132,23133,23134,23135,23136,23137,23139,23140,23141,23142,23144,23145,23147,23148,23149,23150,23151,23152,23153,23154,23155,23160,23161,23163,23164,23165,23166,23168,23169,23170,23171,23172,23173,23174,23175,23176,23177,23178,23179,23180,23181,23182,23183,23184,23185,23187,23188,23189,23190,23191,23192,23193,23196,23197,23198,23199,23200,23201,23202,23203,23204,23205,23206,23207,23208,23209,23211,23212,23213,23214,23215,23216,23217,23220,23222,23223,23225,23226,23227,23228,23229,23231,23232,23235,23236,23237,23238,23239,23240,23242,23243,23245,23246,23247,23248,23249,23251,23253,23255,23257,23258,23259,23261,23262,23263,23266,23268,23269,23271,23272,23274,23276,23277,23278,23279,23280,23282,23283,23284,23285,23286,23287,23288,23289,23290,23291,23292,23293,23294,23295,23296,23297,23298,23299,23300,23301,23302,23303,23304,23306,23307,23308,23309,23310,23311,23312,23313,23314,23315,23316,23317,23320,23321,23322,23323,23324,23325,23326,23327,23328,23329,23330,23331,23332,23333,23334,23335,23336,23337,23338,23339,23340,23341,23342,23343,23344,23345,23347,23349,23350,23352,23353,23354,23355,23356,23357,23358,23359,23361,23362,23363,23364,23365,23366,23367,23368,23369,23370,23371,23372,23373,23374,23375,23378,23382,23390,23392,23393,23399,23400,23403,23405,23406,23407,23410,23412,23414,23415,23416,23417,23419,23420,23422,23423,23426,23430,23434,23437,23438,23440,23441,23442,23444,23446,23455,23463,23464,23465,23468,23469,23470,23471,23473,23474,23479,23482,23483,23484,23488,23489,23491,23496,23497,23498,23499,23501,23502,23503,23505,23508,23509,23510,23511,23512,23513,23514,23515,23516,23520,23522,23523,23526,23527,23529,23530,23531,23532,23533,23535,23537,23538,23539,23540,23541,23542,23543,23549,23550,23552,23554,23555,23557,23559,23560,23563,23564,23565,23566,23568,23570,23571,23575,23577,23579,23582,23583,23584,23585,23587,23590,23592,23593,23594,23595,23597,23598,23599,23600,23602,23603,23605,23606,23607,23619,23620,23622,23623,23628,23629,23634,23635,23636,23638,23639,23640,23642,23643,23644,23645,23647,23650,23652,23655,23656,23657,23658,23659,23660,23661,23664,23666,23667,23668,23669,23670,23671,23672,23675,23676,23677,23678,23680,23683,23684,23685,23686,23687,23689,23690,23691,23694,23695,23698,23699,23701,23709,23710,23711,23712,23713,23716,23717,23718,23719,23720,23722,23726,23727,23728,23730,23732,23734,23737,23738,23739,23740,23742,23744,23746,23747,23749,23750,23751,23752,23753,23754,23756,23757,23758,23759,23760,23761,23763,23764,23765,23766,23767,23768,23770,23771,23772,23773,23774,23775,23776,23778,23779,23783,23785,23787,23788,23790,23791,23793,23794,23795,23796,23797,23798,23799,23800,23801,23802,23804,23805,23806,23807,23808,23809,23812,23813,23816,23817,23818,23819,23820,23821,23823,23824,23825,23826,23827,23829,23831,23832,23833,23834,23836,23837,23839,23840,23841,23842,23843,23845,23848,23850,23851,23852,23855,23856,23857,23858,23859,23861,23862,23863,23864,23865,23866,23867,23868,23871,23872,23873,23874,23875,23876,23877,23878,23880,23881,23885,23886,23887,23888,23889,23890,23891,23892,23893,23894,23895,23897,23898,23900,23902,23903,23904,23905,23906,23907,23908,23909,23910,23911,23912,23914,23917,23918,23920,23921,23922,23923,23925,23926,23927,23928,23929,23930,23931,23932,23933,23934,23935,23936,23937,23939,23940,23941,23942,23943,23944,23945,23946,23947,23948,23949,23950,23951,23952,23953,23954,23955,23956,23957,23958,23959,23960,23962,23963,23964,23966,23967,23968,23969,23970,23971,23972,23973,23974,23975,23976,23977,23978,23979,23980,23981,23982,23983,23984,23985,23986,23987,23988,23989,23990,23992,23993,23994,23995,23996,23997,23998,23999,24e3,24001,24002,24003,24004,24006,24007,24008,24009,24010,24011,24012,24014,24015,24016,24017,24018,24019,24020,24021,24022,24023,24024,24025,24026,24028,24031,24032,24035,24036,24042,24044,24045,24048,24053,24054,24056,24057,24058,24059,24060,24063,24064,24068,24071,24073,24074,24075,24077,24078,24082,24083,24087,24094,24095,24096,24097,24098,24099,24100,24101,24104,24105,24106,24107,24108,24111,24112,24114,24115,24116,24117,24118,24121,24122,24126,24127,24128,24129,24131,24134,24135,24136,24137,24138,24139,24141,24142,24143,24144,24145,24146,24147,24150,24151,24152,24153,24154,24156,24157,24159,24160,24163,24164,24165,24166,24167,24168,24169,24170,24171,24172,24173,24174,24175,24176,24177,24181,24183,24185,24190,24193,24194,24195,24197,24200,24201,24204,24205,24206,24210,24216,24219,24221,24225,24226,24227,24228,24232,24233,24234,24235,24236,24238,24239,24240,24241,24242,24244,24250,24251,24252,24253,24255,24256,24257,24258,24259,24260,24261,24262,24263,24264,24267,24268,24269,24270,24271,24272,24276,24277,24279,24280,24281,24282,24284,24285,24286,24287,24288,24289,24290,24291,24292,24293,24294,24295,24297,24299,24300,24301,24302,24303,24304,24305,24306,24307,24309,24312,24313,24315,24316,24317,24325,24326,24327,24329,24332,24333,24334,24336,24338,24340,24342,24345,24346,24348,24349,24350,24353,24354,24355,24356,24360,24363,24364,24366,24368,24370,24371,24372,24373,24374,24375,24376,24379,24381,24382,24383,24385,24386,24387,24388,24389,24390,24391,24392,24393,24394,24395,24396,24397,24398,24399,24401,24404,24409,24410,24411,24412,24414,24415,24416,24419,24421,24423,24424,24427,24430,24431,24434,24436,24437,24438,24440,24442,24445,24446,24447,24451,24454,24461,24462,24463,24465,24467,24468,24470,24474,24475,24477,24478,24479,24480,24482,24483,24484,24485,24486,24487,24489,24491,24492,24495,24496,24497,24498,24499,24500,24502,24504,24505,24506,24507,24510,24511,24512,24513,24514,24519,24520,24522,24523,24526,24531,24532,24533,24538,24539,24540,24542,24543,24546,24547,24549,24550,24552,24553,24556,24559,24560,24562,24563,24564,24566,24567,24569,24570,24572,24583,24584,24585,24587,24588,24592,24593,24595,24599,24600,24602,24606,24607,24610,24611,24612,24620,24621,24622,24624,24625,24626,24627,24628,24630,24631,24632,24633,24634,24637,24638,24640,24644,24645,24646,24647,24648,24649,24650,24652,24654,24655,24657,24659,24660,24662,24663,24664,24667,24668,24670,24671,24672,24673,24677,24678,24686,24689,24690,24692,24693,24695,24702,24704,24705,24706,24709,24710,24711,24712,24714,24715,24718,24719,24720,24721,24723,24725,24727,24728,24729,24732,24734,24737,24738,24740,24741,24743,24745,24746,24750,24752,24755,24757,24758,24759,24761,24762,24765,24766,24767,24768,24769,24770,24771,24772,24775,24776,24777,24780,24781,24782,24783,24784,24786,24787,24788,24790,24791,24793,24795,24798,24801,24802,24803,24804,24805,24810,24817,24818,24821,24823,24824,24827,24828,24829,24830,24831,24834,24835,24836,24837,24839,24842,24843,24844,24848,24849,24850,24851,24852,24854,24855,24856,24857,24859,24860,24861,24862,24865,24866,24869,24872,24873,24874,24876,24877,24878,24879,24880,24881,24882,24883,24884,24885,24886,24887,24888,24889,24890,24891,24892,24893,24894,24896,24897,24898,24899,24900,24901,24902,24903,24905,24907,24909,24911,24912,24914,24915,24916,24918,24919,24920,24921,24922,24923,24924,24926,24927,24928,24929,24931,24932,24933,24934,24937,24938,24939,24940,24941,24942,24943,24945,24946,24947,24948,24950,24952,24953,24954,24955,24956,24957,24958,24959,24960,24961,24962,24963,24964,24965,24966,24967,24968,24969,24970,24972,24973,24975,24976,24977,24978,24979,24981,24982,24983,24984,24985,24986,24987,24988,24990,24991,24992,24993,24994,24995,24996,24997,24998,25002,25003,25005,25006,25007,25008,25009,25010,25011,25012,25013,25014,25016,25017,25018,25019,25020,25021,25023,25024,25025,25027,25028,25029,25030,25031,25033,25036,25037,25038,25039,25040,25043,25045,25046,25047,25048,25049,25050,25051,25052,25053,25054,25055,25056,25057,25058,25059,25060,25061,25063,25064,25065,25066,25067,25068,25069,25070,25071,25072,25073,25074,25075,25076,25078,25079,25080,25081,25082,25083,25084,25085,25086,25088,25089,25090,25091,25092,25093,25095,25097,25107,25108,25113,25116,25117,25118,25120,25123,25126,25127,25128,25129,25131,25133,25135,25136,25137,25138,25141,25142,25144,25145,25146,25147,25148,25154,25156,25157,25158,25162,25167,25168,25173,25174,25175,25177,25178,25180,25181,25182,25183,25184,25185,25186,25188,25189,25192,25201,25202,25204,25205,25207,25208,25210,25211,25213,25217,25218,25219,25221,25222,25223,25224,25227,25228,25229,25230,25231,25232,25236,25241,25244,25245,25246,25251,25254,25255,25257,25258,25261,25262,25263,25264,25266,25267,25268,25270,25271,25272,25274,25278,25280,25281,25283,25291,25295,25297,25301,25309,25310,25312,25313,25316,25322,25323,25328,25330,25333,25336,25337,25338,25339,25344,25347,25348,25349,25350,25354,25355,25356,25357,25359,25360,25362,25363,25364,25365,25367,25368,25369,25372,25382,25383,25385,25388,25389,25390,25392,25393,25395,25396,25397,25398,25399,25400,25403,25404,25406,25407,25408,25409,25412,25415,25416,25418,25425,25426,25427,25428,25430,25431,25432,25433,25434,25435,25436,25437,25440,25444,25445,25446,25448,25450,25451,25452,25455,25456,25458,25459,25460,25461,25464,25465,25468,25469,25470,25471,25473,25475,25476,25477,25478,25483,25485,25489,25491,25492,25493,25495,25497,25498,25499,25500,25501,25502,25503,25505,25508,25510,25515,25519,25521,25522,25525,25526,25529,25531,25533,25535,25536,25537,25538,25539,25541,25543,25544,25546,25547,25548,25553,25555,25556,25557,25559,25560,25561,25562,25563,25564,25565,25567,25570,25572,25573,25574,25575,25576,25579,25580,25582,25583,25584,25585,25587,25589,25591,25593,25594,25595,25596,25598,25603,25604,25606,25607,25608,25609,25610,25613,25614,25617,25618,25621,25622,25623,25624,25625,25626,25629,25631,25634,25635,25636,25637,25639,25640,25641,25643,25646,25647,25648,25649,25650,25651,25653,25654,25655,25656,25657,25659,25660,25662,25664,25666,25667,25673,25675,25676,25677,25678,25679,25680,25681,25683,25685,25686,25687,25689,25690,25691,25692,25693,25695,25696,25697,25698,25699,25700,25701,25702,25704,25706,25707,25708,25710,25711,25712,25713,25714,25715,25716,25717,25718,25719,25723,25724,25725,25726,25727,25728,25729,25731,25734,25736,25737,25738,25739,25740,25741,25742,25743,25744,25747,25748,25751,25752,25754,25755,25756,25757,25759,25760,25761,25762,25763,25765,25766,25767,25768,25770,25771,25775,25777,25778,25779,25780,25782,25785,25787,25789,25790,25791,25793,25795,25796,25798,25799,25800,25801,25802,25803,25804,25807,25809,25811,25812,25813,25814,25817,25818,25819,25820,25821,25823,25824,25825,25827,25829,25831,25832,25833,25834,25835,25836,25837,25838,25839,25840,25841,25842,25843,25844,25845,25846,25847,25848,25849,25850,25851,25852,25853,25854,25855,25857,25858,25859,25860,25861,25862,25863,25864,25866,25867,25868,25869,25870,25871,25872,25873,25875,25876,25877,25878,25879,25881,25882,25883,25884,25885,25886,25887,25888,25889,25890,25891,25892,25894,25895,25896,25897,25898,25900,25901,25904,25905,25906,25907,25911,25914,25916,25917,25920,25921,25922,25923,25924,25926,25927,25930,25931,25933,25934,25936,25938,25939,25940,25943,25944,25946,25948,25951,25952,25953,25956,25957,25959,25960,25961,25962,25965,25966,25967,25969,25971,25973,25974,25976,25977,25978,25979,25980,25981,25982,25983,25984,25985,25986,25987,25988,25989,25990,25992,25993,25994,25997,25998,25999,26002,26004,26005,26006,26008,26010,26013,26014,26016,26018,26019,26022,26024,26026,26028,26030,26033,26034,26035,26036,26037,26038,26039,26040,26042,26043,26046,26047,26048,26050,26055,26056,26057,26058,26061,26064,26065,26067,26068,26069,26072,26073,26074,26075,26076,26077,26078,26079,26081,26083,26084,26090,26091,26098,26099,26100,26101,26104,26105,26107,26108,26109,26110,26111,26113,26116,26117,26119,26120,26121,26123,26125,26128,26129,26130,26134,26135,26136,26138,26139,26140,26142,26145,26146,26147,26148,26150,26153,26154,26155,26156,26158,26160,26162,26163,26167,26168,26169,26170,26171,26173,26175,26176,26178,26180,26181,26182,26183,26184,26185,26186,26189,26190,26192,26193,26200,26201,26203,26204,26205,26206,26208,26210,26211,26213,26215,26217,26218,26219,26220,26221,26225,26226,26227,26229,26232,26233,26235,26236,26237,26239,26240,26241,26243,26245,26246,26248,26249,26250,26251,26253,26254,26255,26256,26258,26259,26260,26261,26264,26265,26266,26267,26268,26270,26271,26272,26273,26274,26275,26276,26277,26278,26281,26282,26283,26284,26285,26287,26288,26289,26290,26291,26293,26294,26295,26296,26298,26299,26300,26301,26303,26304,26305,26306,26307,26308,26309,26310,26311,26312,26313,26314,26315,26316,26317,26318,26319,26320,26321,26322,26323,26324,26325,26326,26327,26328,26330,26334,26335,26336,26337,26338,26339,26340,26341,26343,26344,26346,26347,26348,26349,26350,26351,26353,26357,26358,26360,26362,26363,26365,26369,26370,26371,26372,26373,26374,26375,26380,26382,26383,26385,26386,26387,26390,26392,26393,26394,26396,26398,26400,26401,26402,26403,26404,26405,26407,26409,26414,26416,26418,26419,26422,26423,26424,26425,26427,26428,26430,26431,26433,26436,26437,26439,26442,26443,26445,26450,26452,26453,26455,26456,26457,26458,26459,26461,26466,26467,26468,26470,26471,26475,26476,26478,26481,26484,26486,26488,26489,26490,26491,26493,26496,26498,26499,26501,26502,26504,26506,26508,26509,26510,26511,26513,26514,26515,26516,26518,26521,26523,26527,26528,26529,26532,26534,26537,26540,26542,26545,26546,26548,26553,26554,26555,26556,26557,26558,26559,26560,26562,26565,26566,26567,26568,26569,26570,26571,26572,26573,26574,26581,26582,26583,26587,26591,26593,26595,26596,26598,26599,26600,26602,26603,26605,26606,26610,26613,26614,26615,26616,26617,26618,26619,26620,26622,26625,26626,26627,26628,26630,26637,26640,26642,26644,26645,26648,26649,26650,26651,26652,26654,26655,26656,26658,26659,26660,26661,26662,26663,26664,26667,26668,26669,26670,26671,26672,26673,26676,26677,26678,26682,26683,26687,26695,26699,26701,26703,26706,26710,26711,26712,26713,26714,26715,26716,26717,26718,26719,26730,26732,26733,26734,26735,26736,26737,26738,26739,26741,26744,26745,26746,26747,26748,26749,26750,26751,26752,26754,26756,26759,26760,26761,26762,26763,26764,26765,26766,26768,26769,26770,26772,26773,26774,26776,26777,26778,26779,26780,26781,26782,26783,26784,26785,26787,26788,26789,26793,26794,26795,26796,26798,26801,26802,26804,26806,26807,26808,26809,26810,26811,26812,26813,26814,26815,26817,26819,26820,26821,26822,26823,26824,26826,26828,26830,26831,26832,26833,26835,26836,26838,26839,26841,26843,26844,26845,26846,26847,26849,26850,26852,26853,26854,26855,26856,26857,26858,26859,26860,26861,26863,26866,26867,26868,26870,26871,26872,26875,26877,26878,26879,26880,26882,26883,26884,26886,26887,26888,26889,26890,26892,26895,26897,26899,26900,26901,26902,26903,26904,26905,26906,26907,26908,26909,26910,26913,26914,26915,26917,26918,26919,26920,26921,26922,26923,26924,26926,26927,26929,26930,26931,26933,26934,26935,26936,26938,26939,26940,26942,26944,26945,26947,26948,26949,26950,26951,26952,26953,26954,26955,26956,26957,26958,26959,26960,26961,26962,26963,26965,26966,26968,26969,26971,26972,26975,26977,26978,26980,26981,26983,26984,26985,26986,26988,26989,26991,26992,26994,26995,26996,26997,26998,27002,27003,27005,27006,27007,27009,27011,27013,27018,27019,27020,27022,27023,27024,27025,27026,27027,27030,27031,27033,27034,27037,27038,27039,27040,27041,27042,27043,27044,27045,27046,27049,27050,27052,27054,27055,27056,27058,27059,27061,27062,27064,27065,27066,27068,27069,27070,27071,27072,27074,27075,27076,27077,27078,27079,27080,27081,27083,27085,27087,27089,27090,27091,27093,27094,27095,27096,27097,27098,27100,27101,27102,27105,27106,27107,27108,27109,27110,27111,27112,27113,27114,27115,27116,27118,27119,27120,27121,27123,27124,27125,27126,27127,27128,27129,27130,27131,27132,27134,27136,27137,27138,27139,27140,27141,27142,27143,27144,27145,27147,27148,27149,27150,27151,27152,27153,27154,27155,27156,27157,27158,27161,27162,27163,27164,27165,27166,27168,27170,27171,27172,27173,27174,27175,27177,27179,27180,27181,27182,27184,27186,27187,27188,27190,27191,27192,27193,27194,27195,27196,27199,27200,27201,27202,27203,27205,27206,27208,27209,27210,27211,27212,27213,27214,27215,27217,27218,27219,27220,27221,27222,27223,27226,27228,27229,27230,27231,27232,27234,27235,27236,27238,27239,27240,27241,27242,27243,27244,27245,27246,27247,27248,27250,27251,27252,27253,27254,27255,27256,27258,27259,27261,27262,27263,27265,27266,27267,27269,27270,27271,27272,27273,27274,27275,27276,27277,27279,27282,27283,27284,27285,27286,27288,27289,27290,27291,27292,27293,27294,27295,27297,27298,27299,27300,27301,27302,27303,27304,27306,27309,27310,27311,27312,27313,27314,27315,27316,27317,27318,27319,27320,27321,27322,27323,27324,27325,27326,27327,27328,27329,27330,27331,27332,27333,27334,27335,27336,27337,27338,27339,27340,27341,27342,27343,27344,27345,27346,27347,27348,27349,27350,27351,27352,27353,27354,27355,27356,27357,27358,27359,27360,27361,27362,27363,27364,27365,27366,27367,27368,27369,27370,27371,27372,27373,27374,27375,27376,27377,27378,27379,27380,27381,27382,27383,27384,27385,27386,27387,27388,27389,27390,27391,27392,27393,27394,27395,27396,27397,27398,27399,27400,27401,27402,27403,27404,27405,27406,27407,27408,27409,27410,27411,27412,27413,27414,27415,27416,27417,27418,27419,27420,27421,27422,27423,27429,27430,27432,27433,27434,27435,27436,27437,27438,27439,27440,27441,27443,27444,27445,27446,27448,27451,27452,27453,27455,27456,27457,27458,27460,27461,27464,27466,27467,27469,27470,27471,27472,27473,27474,27475,27476,27477,27478,27479,27480,27482,27483,27484,27485,27486,27487,27488,27489,27496,27497,27499,27500,27501,27502,27503,27504,27505,27506,27507,27508,27509,27510,27511,27512,27514,27517,27518,27519,27520,27525,27528,27532,27534,27535,27536,27537,27540,27541,27543,27544,27545,27548,27549,27550,27551,27552,27554,27555,27556,27557,27558,27559,27560,27561,27563,27564,27565,27566,27567,27568,27569,27570,27574,27576,27577,27578,27579,27580,27581,27582,27584,27587,27588,27590,27591,27592,27593,27594,27596,27598,27600,27601,27608,27610,27612,27613,27614,27615,27616,27618,27619,27620,27621,27622,27623,27624,27625,27628,27629,27630,27632,27633,27634,27636,27638,27639,27640,27642,27643,27644,27646,27647,27648,27649,27650,27651,27652,27656,27657,27658,27659,27660,27662,27666,27671,27676,27677,27678,27680,27683,27685,27691,27692,27693,27697,27699,27702,27703,27705,27706,27707,27708,27710,27711,27715,27716,27717,27720,27723,27724,27725,27726,27727,27729,27730,27731,27734,27736,27737,27738,27746,27747,27749,27750,27751,27755,27756,27757,27758,27759,27761,27763,27765,27767,27768,27770,27771,27772,27775,27776,27780,27783,27786,27787,27789,27790,27793,27794,27797,27798,27799,27800,27802,27804,27805,27806,27808,27810,27816,27820,27823,27824,27828,27829,27830,27831,27834,27840,27841,27842,27843,27846,27847,27848,27851,27853,27854,27855,27857,27858,27864,27865,27866,27868,27869,27871,27876,27878,27879,27881,27884,27885,27890,27892,27897,27903,27904,27906,27907,27909,27910,27912,27913,27914,27917,27919,27920,27921,27923,27924,27925,27926,27928,27932,27933,27935,27936,27937,27938,27939,27940,27942,27944,27945,27948,27949,27951,27952,27956,27958,27959,27960,27962,27967,27968,27970,27972,27977,27980,27984,27989,27990,27991,27992,27995,27997,27999,28001,28002,28004,28005,28007,28008,28011,28012,28013,28016,28017,28018,28019,28021,28022,28025,28026,28027,28029,28030,28031,28032,28033,28035,28036,28038,28039,28042,28043,28045,28047,28048,28050,28054,28055,28056,28057,28058,28060,28066,28069,28076,28077,28080,28081,28083,28084,28086,28087,28089,28090,28091,28092,28093,28094,28097,28098,28099,28104,28105,28106,28109,28110,28111,28112,28114,28115,28116,28117,28119,28122,28123,28124,28127,28130,28131,28133,28135,28136,28137,28138,28141,28143,28144,28146,28148,28149,28150,28152,28154,28157,28158,28159,28160,28161,28162,28163,28164,28166,28167,28168,28169,28171,28175,28178,28179,28181,28184,28185,28187,28188,28190,28191,28194,28198,28199,28200,28202,28204,28206,28208,28209,28211,28213,28214,28215,28217,28219,28220,28221,28222,28223,28224,28225,28226,28229,28230,28231,28232,28233,28234,28235,28236,28239,28240,28241,28242,28245,28247,28249,28250,28252,28253,28254,28256,28257,28258,28259,28260,28261,28262,28263,28264,28265,28266,28268,28269,28271,28272,28273,28274,28275,28276,28277,28278,28279,28280,28281,28282,28283,28284,28285,28288,28289,28290,28292,28295,28296,28298,28299,28300,28301,28302,28305,28306,28307,28308,28309,28310,28311,28313,28314,28315,28317,28318,28320,28321,28323,28324,28326,28328,28329,28331,28332,28333,28334,28336,28339,28341,28344,28345,28348,28350,28351,28352,28355,28356,28357,28358,28360,28361,28362,28364,28365,28366,28368,28370,28374,28376,28377,28379,28380,28381,28387,28391,28394,28395,28396,28397,28398,28399,28400,28401,28402,28403,28405,28406,28407,28408,28410,28411,28412,28413,28414,28415,28416,28417,28419,28420,28421,28423,28424,28426,28427,28428,28429,28430,28432,28433,28434,28438,28439,28440,28441,28442,28443,28444,28445,28446,28447,28449,28450,28451,28453,28454,28455,28456,28460,28462,28464,28466,28468,28469,28471,28472,28473,28474,28475,28476,28477,28479,28480,28481,28482,28483,28484,28485,28488,28489,28490,28492,28494,28495,28496,28497,28498,28499,28500,28501,28502,28503,28505,28506,28507,28509,28511,28512,28513,28515,28516,28517,28519,28520,28521,28522,28523,28524,28527,28528,28529,28531,28533,28534,28535,28537,28539,28541,28542,28543,28544,28545,28546,28547,28549,28550,28551,28554,28555,28559,28560,28561,28562,28563,28564,28565,28566,28567,28568,28569,28570,28571,28573,28574,28575,28576,28578,28579,28580,28581,28582,28584,28585,28586,28587,28588,28589,28590,28591,28592,28593,28594,28596,28597,28599,28600,28602,28603,28604,28605,28606,28607,28609,28611,28612,28613,28614,28615,28616,28618,28619,28620,28621,28622,28623,28624,28627,28628,28629,28630,28631,28632,28633,28634,28635,28636,28637,28639,28642,28643,28644,28645,28646,28647,28648,28649,28650,28651,28652,28653,28656,28657,28658,28659,28660,28661,28662,28663,28664,28665,28666,28667,28668,28669,28670,28671,28672,28673,28674,28675,28676,28677,28678,28679,28680,28681,28682,28683,28684,28685,28686,28687,28688,28690,28691,28692,28693,28694,28695,28696,28697,28700,28701,28702,28703,28704,28705,28706,28708,28709,28710,28711,28712,28713,28714,28715,28716,28717,28718,28719,28720,28721,28722,28723,28724,28726,28727,28728,28730,28731,28732,28733,28734,28735,28736,28737,28738,28739,28740,28741,28742,28743,28744,28745,28746,28747,28749,28750,28752,28753,28754,28755,28756,28757,28758,28759,28760,28761,28762,28763,28764,28765,28767,28768,28769,28770,28771,28772,28773,28774,28775,28776,28777,28778,28782,28785,28786,28787,28788,28791,28793,28794,28795,28797,28801,28802,28803,28804,28806,28807,28808,28811,28812,28813,28815,28816,28817,28819,28823,28824,28826,28827,28830,28831,28832,28833,28834,28835,28836,28837,28838,28839,28840,28841,28842,28848,28850,28852,28853,28854,28858,28862,28863,28868,28869,28870,28871,28873,28875,28876,28877,28878,28879,28880,28881,28882,28883,28884,28885,28886,28887,28890,28892,28893,28894,28896,28897,28898,28899,28901,28906,28910,28912,28913,28914,28915,28916,28917,28918,28920,28922,28923,28924,28926,28927,28928,28929,28930,28931,28932,28933,28934,28935,28936,28939,28940,28941,28942,28943,28945,28946,28948,28951,28955,28956,28957,28958,28959,28960,28961,28962,28963,28964,28965,28967,28968,28969,28970,28971,28972,28973,28974,28978,28979,28980,28981,28983,28984,28985,28986,28987,28988,28989,28990,28991,28992,28993,28994,28995,28996,28998,28999,29e3,29001,29003,29005,29007,29008,29009,29010,29011,29012,29013,29014,29015,29016,29017,29018,29019,29021,29023,29024,29025,29026,29027,29029,29033,29034,29035,29036,29037,29039,29040,29041,29044,29045,29046,29047,29049,29051,29052,29054,29055,29056,29057,29058,29059,29061,29062,29063,29064,29065,29067,29068,29069,29070,29072,29073,29074,29075,29077,29078,29079,29082,29083,29084,29085,29086,29089,29090,29091,29092,29093,29094,29095,29097,29098,29099,29101,29102,29103,29104,29105,29106,29108,29110,29111,29112,29114,29115,29116,29117,29118,29119,29120,29121,29122,29124,29125,29126,29127,29128,29129,29130,29131,29132,29133,29135,29136,29137,29138,29139,29142,29143,29144,29145,29146,29147,29148,29149,29150,29151,29153,29154,29155,29156,29158,29160,29161,29162,29163,29164,29165,29167,29168,29169,29170,29171,29172,29173,29174,29175,29176,29178,29179,29180,29181,29182,29183,29184,29185,29186,29187,29188,29189,29191,29192,29193,29194,29195,29196,29197,29198,29199,29200,29201,29202,29203,29204,29205,29206,29207,29208,29209,29210,29211,29212,29214,29215,29216,29217,29218,29219,29220,29221,29222,29223,29225,29227,29229,29230,29231,29234,29235,29236,29242,29244,29246,29248,29249,29250,29251,29252,29253,29254,29257,29258,29259,29262,29263,29264,29265,29267,29268,29269,29271,29272,29274,29276,29278,29280,29283,29284,29285,29288,29290,29291,29292,29293,29296,29297,29299,29300,29302,29303,29304,29307,29308,29309,29314,29315,29317,29318,29319,29320,29321,29324,29326,29328,29329,29331,29332,29333,29334,29335,29336,29337,29338,29339,29340,29341,29342,29344,29345,29346,29347,29348,29349,29350,29351,29352,29353,29354,29355,29358,29361,29362,29363,29365,29370,29371,29372,29373,29374,29375,29376,29381,29382,29383,29385,29386,29387,29388,29391,29393,29395,29396,29397,29398,29400,29402,29403,58566,58567,58568,58569,58570,58571,58572,58573,58574,58575,58576,58577,58578,58579,58580,58581,58582,58583,58584,58585,58586,58587,58588,58589,58590,58591,58592,58593,58594,58595,58596,58597,58598,58599,58600,58601,58602,58603,58604,58605,58606,58607,58608,58609,58610,58611,58612,58613,58614,58615,58616,58617,58618,58619,58620,58621,58622,58623,58624,58625,58626,58627,58628,58629,58630,58631,58632,58633,58634,58635,58636,58637,58638,58639,58640,58641,58642,58643,58644,58645,58646,58647,58648,58649,58650,58651,58652,58653,58654,58655,58656,58657,58658,58659,58660,58661,12288,12289,12290,183,713,711,168,12291,12293,8212,65374,8214,8230,8216,8217,8220,8221,12308,12309,12296,12297,12298,12299,12300,12301,12302,12303,12310,12311,12304,12305,177,215,247,8758,8743,8744,8721,8719,8746,8745,8712,8759,8730,8869,8741,8736,8978,8857,8747,8750,8801,8780,8776,8765,8733,8800,8814,8815,8804,8805,8734,8757,8756,9794,9792,176,8242,8243,8451,65284,164,65504,65505,8240,167,8470,9734,9733,9675,9679,9678,9671,9670,9633,9632,9651,9650,8251,8594,8592,8593,8595,12307,58662,58663,58664,58665,58666,58667,58668,58669,58670,58671,58672,58673,58674,58675,58676,58677,58678,58679,58680,58681,58682,58683,58684,58685,58686,58687,58688,58689,58690,58691,58692,58693,58694,58695,58696,58697,58698,58699,58700,58701,58702,58703,58704,58705,58706,58707,58708,58709,58710,58711,58712,58713,58714,58715,58716,58717,58718,58719,58720,58721,58722,58723,58724,58725,58726,58727,58728,58729,58730,58731,58732,58733,58734,58735,58736,58737,58738,58739,58740,58741,58742,58743,58744,58745,58746,58747,58748,58749,58750,58751,58752,58753,58754,58755,58756,58757,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,59238,59239,59240,59241,59242,59243,9352,9353,9354,9355,9356,9357,9358,9359,9360,9361,9362,9363,9364,9365,9366,9367,9368,9369,9370,9371,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,9347,9348,9349,9350,9351,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,8364,59245,12832,12833,12834,12835,12836,12837,12838,12839,12840,12841,59246,59247,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,8554,8555,59248,59249,58758,58759,58760,58761,58762,58763,58764,58765,58766,58767,58768,58769,58770,58771,58772,58773,58774,58775,58776,58777,58778,58779,58780,58781,58782,58783,58784,58785,58786,58787,58788,58789,58790,58791,58792,58793,58794,58795,58796,58797,58798,58799,58800,58801,58802,58803,58804,58805,58806,58807,58808,58809,58810,58811,58812,58813,58814,58815,58816,58817,58818,58819,58820,58821,58822,58823,58824,58825,58826,58827,58828,58829,58830,58831,58832,58833,58834,58835,58836,58837,58838,58839,58840,58841,58842,58843,58844,58845,58846,58847,58848,58849,58850,58851,58852,12288,65281,65282,65283,65509,65285,65286,65287,65288,65289,65290,65291,65292,65293,65294,65295,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,65306,65307,65308,65309,65310,65311,65312,65313,65314,65315,65316,65317,65318,65319,65320,65321,65322,65323,65324,65325,65326,65327,65328,65329,65330,65331,65332,65333,65334,65335,65336,65337,65338,65339,65340,65341,65342,65343,65344,65345,65346,65347,65348,65349,65350,65351,65352,65353,65354,65355,65356,65357,65358,65359,65360,65361,65362,65363,65364,65365,65366,65367,65368,65369,65370,65371,65372,65373,65507,58854,58855,58856,58857,58858,58859,58860,58861,58862,58863,58864,58865,58866,58867,58868,58869,58870,58871,58872,58873,58874,58875,58876,58877,58878,58879,58880,58881,58882,58883,58884,58885,58886,58887,58888,58889,58890,58891,58892,58893,58894,58895,58896,58897,58898,58899,58900,58901,58902,58903,58904,58905,58906,58907,58908,58909,58910,58911,58912,58913,58914,58915,58916,58917,58918,58919,58920,58921,58922,58923,58924,58925,58926,58927,58928,58929,58930,58931,58932,58933,58934,58935,58936,58937,58938,58939,58940,58941,58942,58943,58944,58945,58946,58947,58948,58949,12353,12354,12355,12356,12357,12358,12359,12360,12361,12362,12363,12364,12365,12366,12367,12368,12369,12370,12371,12372,12373,12374,12375,12376,12377,12378,12379,12380,12381,12382,12383,12384,12385,12386,12387,12388,12389,12390,12391,12392,12393,12394,12395,12396,12397,12398,12399,12400,12401,12402,12403,12404,12405,12406,12407,12408,12409,12410,12411,12412,12413,12414,12415,12416,12417,12418,12419,12420,12421,12422,12423,12424,12425,12426,12427,12428,12429,12430,12431,12432,12433,12434,12435,59250,59251,59252,59253,59254,59255,59256,59257,59258,59259,59260,58950,58951,58952,58953,58954,58955,58956,58957,58958,58959,58960,58961,58962,58963,58964,58965,58966,58967,58968,58969,58970,58971,58972,58973,58974,58975,58976,58977,58978,58979,58980,58981,58982,58983,58984,58985,58986,58987,58988,58989,58990,58991,58992,58993,58994,58995,58996,58997,58998,58999,59e3,59001,59002,59003,59004,59005,59006,59007,59008,59009,59010,59011,59012,59013,59014,59015,59016,59017,59018,59019,59020,59021,59022,59023,59024,59025,59026,59027,59028,59029,59030,59031,59032,59033,59034,59035,59036,59037,59038,59039,59040,59041,59042,59043,59044,59045,12449,12450,12451,12452,12453,12454,12455,12456,12457,12458,12459,12460,12461,12462,12463,12464,12465,12466,12467,12468,12469,12470,12471,12472,12473,12474,12475,12476,12477,12478,12479,12480,12481,12482,12483,12484,12485,12486,12487,12488,12489,12490,12491,12492,12493,12494,12495,12496,12497,12498,12499,12500,12501,12502,12503,12504,12505,12506,12507,12508,12509,12510,12511,12512,12513,12514,12515,12516,12517,12518,12519,12520,12521,12522,12523,12524,12525,12526,12527,12528,12529,12530,12531,12532,12533,12534,59261,59262,59263,59264,59265,59266,59267,59268,59046,59047,59048,59049,59050,59051,59052,59053,59054,59055,59056,59057,59058,59059,59060,59061,59062,59063,59064,59065,59066,59067,59068,59069,59070,59071,59072,59073,59074,59075,59076,59077,59078,59079,59080,59081,59082,59083,59084,59085,59086,59087,59088,59089,59090,59091,59092,59093,59094,59095,59096,59097,59098,59099,59100,59101,59102,59103,59104,59105,59106,59107,59108,59109,59110,59111,59112,59113,59114,59115,59116,59117,59118,59119,59120,59121,59122,59123,59124,59125,59126,59127,59128,59129,59130,59131,59132,59133,59134,59135,59136,59137,59138,59139,59140,59141,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,59269,59270,59271,59272,59273,59274,59275,59276,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,59277,59278,59279,59280,59281,59282,59283,65077,65078,65081,65082,65087,65088,65085,65086,65089,65090,65091,65092,59284,59285,65083,65084,65079,65080,65073,59286,65075,65076,59287,59288,59289,59290,59291,59292,59293,59294,59295,59142,59143,59144,59145,59146,59147,59148,59149,59150,59151,59152,59153,59154,59155,59156,59157,59158,59159,59160,59161,59162,59163,59164,59165,59166,59167,59168,59169,59170,59171,59172,59173,59174,59175,59176,59177,59178,59179,59180,59181,59182,59183,59184,59185,59186,59187,59188,59189,59190,59191,59192,59193,59194,59195,59196,59197,59198,59199,59200,59201,59202,59203,59204,59205,59206,59207,59208,59209,59210,59211,59212,59213,59214,59215,59216,59217,59218,59219,59220,59221,59222,59223,59224,59225,59226,59227,59228,59229,59230,59231,59232,59233,59234,59235,59236,59237,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,59296,59297,59298,59299,59300,59301,59302,59303,59304,59305,59306,59307,59308,59309,59310,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,59311,59312,59313,59314,59315,59316,59317,59318,59319,59320,59321,59322,59323,714,715,729,8211,8213,8229,8245,8453,8457,8598,8599,8600,8601,8725,8735,8739,8786,8806,8807,8895,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9581,9582,9583,9584,9585,9586,9587,9601,9602,9603,9604,9605,9606,9607,9608,9609,9610,9611,9612,9613,9614,9615,9619,9620,9621,9660,9661,9698,9699,9700,9701,9737,8853,12306,12317,12318,59324,59325,59326,59327,59328,59329,59330,59331,59332,59333,59334,257,225,462,224,275,233,283,232,299,237,464,236,333,243,466,242,363,250,468,249,470,472,474,476,252,234,593,7743,324,328,505,609,59337,59338,59339,59340,12549,12550,12551,12552,12553,12554,12555,12556,12557,12558,12559,12560,12561,12562,12563,12564,12565,12566,12567,12568,12569,12570,12571,12572,12573,12574,12575,12576,12577,12578,12579,12580,12581,12582,12583,12584,12585,59341,59342,59343,59344,59345,59346,59347,59348,59349,59350,59351,59352,59353,59354,59355,59356,59357,59358,59359,59360,59361,12321,12322,12323,12324,12325,12326,12327,12328,12329,12963,13198,13199,13212,13213,13214,13217,13252,13262,13265,13266,13269,65072,65506,65508,59362,8481,12849,59363,8208,59364,59365,59366,12540,12443,12444,12541,12542,12294,12445,12446,65097,65098,65099,65100,65101,65102,65103,65104,65105,65106,65108,65109,65110,65111,65113,65114,65115,65116,65117,65118,65119,65120,65121,65122,65123,65124,65125,65126,65128,65129,65130,65131,12350,12272,12273,12274,12275,12276,12277,12278,12279,12280,12281,12282,12283,12295,59380,59381,59382,59383,59384,59385,59386,59387,59388,59389,59390,59391,59392,9472,9473,9474,9475,9476,9477,9478,9479,9480,9481,9482,9483,9484,9485,9486,9487,9488,9489,9490,9491,9492,9493,9494,9495,9496,9497,9498,9499,9500,9501,9502,9503,9504,9505,9506,9507,9508,9509,9510,9511,9512,9513,9514,9515,9516,9517,9518,9519,9520,9521,9522,9523,9524,9525,9526,9527,9528,9529,9530,9531,9532,9533,9534,9535,9536,9537,9538,9539,9540,9541,9542,9543,9544,9545,9546,9547,59393,59394,59395,59396,59397,59398,59399,59400,59401,59402,59403,59404,59405,59406,59407,29404,29405,29407,29410,29411,29412,29413,29414,29415,29418,29419,29429,29430,29433,29437,29438,29439,29440,29442,29444,29445,29446,29447,29448,29449,29451,29452,29453,29455,29456,29457,29458,29460,29464,29465,29466,29471,29472,29475,29476,29478,29479,29480,29485,29487,29488,29490,29491,29493,29494,29498,29499,29500,29501,29504,29505,29506,29507,29508,29509,29510,29511,29512,29513,29514,29515,29516,29518,29519,29521,29523,29524,29525,29526,29528,29529,29530,29531,29532,29533,29534,29535,29537,29538,29539,29540,29541,29542,29543,29544,29545,29546,29547,29550,29552,29553,57344,57345,57346,57347,57348,57349,57350,57351,57352,57353,57354,57355,57356,57357,57358,57359,57360,57361,57362,57363,57364,57365,57366,57367,57368,57369,57370,57371,57372,57373,57374,57375,57376,57377,57378,57379,57380,57381,57382,57383,57384,57385,57386,57387,57388,57389,57390,57391,57392,57393,57394,57395,57396,57397,57398,57399,57400,57401,57402,57403,57404,57405,57406,57407,57408,57409,57410,57411,57412,57413,57414,57415,57416,57417,57418,57419,57420,57421,57422,57423,57424,57425,57426,57427,57428,57429,57430,57431,57432,57433,57434,57435,57436,57437,29554,29555,29556,29557,29558,29559,29560,29561,29562,29563,29564,29565,29567,29568,29569,29570,29571,29573,29574,29576,29578,29580,29581,29583,29584,29586,29587,29588,29589,29591,29592,29593,29594,29596,29597,29598,29600,29601,29603,29604,29605,29606,29607,29608,29610,29612,29613,29617,29620,29621,29622,29624,29625,29628,29629,29630,29631,29633,29635,29636,29637,29638,29639,29643,29644,29646,29650,29651,29652,29653,29654,29655,29656,29658,29659,29660,29661,29663,29665,29666,29667,29668,29670,29672,29674,29675,29676,29678,29679,29680,29681,29683,29684,29685,29686,29687,57438,57439,57440,57441,57442,57443,57444,57445,57446,57447,57448,57449,57450,57451,57452,57453,57454,57455,57456,57457,57458,57459,57460,57461,57462,57463,57464,57465,57466,57467,57468,57469,57470,57471,57472,57473,57474,57475,57476,57477,57478,57479,57480,57481,57482,57483,57484,57485,57486,57487,57488,57489,57490,57491,57492,57493,57494,57495,57496,57497,57498,57499,57500,57501,57502,57503,57504,57505,57506,57507,57508,57509,57510,57511,57512,57513,57514,57515,57516,57517,57518,57519,57520,57521,57522,57523,57524,57525,57526,57527,57528,57529,57530,57531,29688,29689,29690,29691,29692,29693,29694,29695,29696,29697,29698,29700,29703,29704,29707,29708,29709,29710,29713,29714,29715,29716,29717,29718,29719,29720,29721,29724,29725,29726,29727,29728,29729,29731,29732,29735,29737,29739,29741,29743,29745,29746,29751,29752,29753,29754,29755,29757,29758,29759,29760,29762,29763,29764,29765,29766,29767,29768,29769,29770,29771,29772,29773,29774,29775,29776,29777,29778,29779,29780,29782,29784,29789,29792,29793,29794,29795,29796,29797,29798,29799,29800,29801,29802,29803,29804,29806,29807,29809,29810,29811,29812,29813,29816,29817,29818,57532,57533,57534,57535,57536,57537,57538,57539,57540,57541,57542,57543,57544,57545,57546,57547,57548,57549,57550,57551,57552,57553,57554,57555,57556,57557,57558,57559,57560,57561,57562,57563,57564,57565,57566,57567,57568,57569,57570,57571,57572,57573,57574,57575,57576,57577,57578,57579,57580,57581,57582,57583,57584,57585,57586,57587,57588,57589,57590,57591,57592,57593,57594,57595,57596,57597,57598,57599,57600,57601,57602,57603,57604,57605,57606,57607,57608,57609,57610,57611,57612,57613,57614,57615,57616,57617,57618,57619,57620,57621,57622,57623,57624,57625,29819,29820,29821,29823,29826,29828,29829,29830,29832,29833,29834,29836,29837,29839,29841,29842,29843,29844,29845,29846,29847,29848,29849,29850,29851,29853,29855,29856,29857,29858,29859,29860,29861,29862,29866,29867,29868,29869,29870,29871,29872,29873,29874,29875,29876,29877,29878,29879,29880,29881,29883,29884,29885,29886,29887,29888,29889,29890,29891,29892,29893,29894,29895,29896,29897,29898,29899,29900,29901,29902,29903,29904,29905,29907,29908,29909,29910,29911,29912,29913,29914,29915,29917,29919,29921,29925,29927,29928,29929,29930,29931,29932,29933,29936,29937,29938,57626,57627,57628,57629,57630,57631,57632,57633,57634,57635,57636,57637,57638,57639,57640,57641,57642,57643,57644,57645,57646,57647,57648,57649,57650,57651,57652,57653,57654,57655,57656,57657,57658,57659,57660,57661,57662,57663,57664,57665,57666,57667,57668,57669,57670,57671,57672,57673,57674,57675,57676,57677,57678,57679,57680,57681,57682,57683,57684,57685,57686,57687,57688,57689,57690,57691,57692,57693,57694,57695,57696,57697,57698,57699,57700,57701,57702,57703,57704,57705,57706,57707,57708,57709,57710,57711,57712,57713,57714,57715,57716,57717,57718,57719,29939,29941,29944,29945,29946,29947,29948,29949,29950,29952,29953,29954,29955,29957,29958,29959,29960,29961,29962,29963,29964,29966,29968,29970,29972,29973,29974,29975,29979,29981,29982,29984,29985,29986,29987,29988,29990,29991,29994,29998,30004,30006,30009,30012,30013,30015,30017,30018,30019,30020,30022,30023,30025,30026,30029,30032,30033,30034,30035,30037,30038,30039,30040,30045,30046,30047,30048,30049,30050,30051,30052,30055,30056,30057,30059,30060,30061,30062,30063,30064,30065,30067,30069,30070,30071,30074,30075,30076,30077,30078,30080,30081,30082,30084,30085,30087,57720,57721,57722,57723,57724,57725,57726,57727,57728,57729,57730,57731,57732,57733,57734,57735,57736,57737,57738,57739,57740,57741,57742,57743,57744,57745,57746,57747,57748,57749,57750,57751,57752,57753,57754,57755,57756,57757,57758,57759,57760,57761,57762,57763,57764,57765,57766,57767,57768,57769,57770,57771,57772,57773,57774,57775,57776,57777,57778,57779,57780,57781,57782,57783,57784,57785,57786,57787,57788,57789,57790,57791,57792,57793,57794,57795,57796,57797,57798,57799,57800,57801,57802,57803,57804,57805,57806,57807,57808,57809,57810,57811,57812,57813,30088,30089,30090,30092,30093,30094,30096,30099,30101,30104,30107,30108,30110,30114,30118,30119,30120,30121,30122,30125,30134,30135,30138,30139,30143,30144,30145,30150,30155,30156,30158,30159,30160,30161,30163,30167,30169,30170,30172,30173,30175,30176,30177,30181,30185,30188,30189,30190,30191,30194,30195,30197,30198,30199,30200,30202,30203,30205,30206,30210,30212,30214,30215,30216,30217,30219,30221,30222,30223,30225,30226,30227,30228,30230,30234,30236,30237,30238,30241,30243,30247,30248,30252,30254,30255,30257,30258,30262,30263,30265,30266,30267,30269,30273,30274,30276,57814,57815,57816,57817,57818,57819,57820,57821,57822,57823,57824,57825,57826,57827,57828,57829,57830,57831,57832,57833,57834,57835,57836,57837,57838,57839,57840,57841,57842,57843,57844,57845,57846,57847,57848,57849,57850,57851,57852,57853,57854,57855,57856,57857,57858,57859,57860,57861,57862,57863,57864,57865,57866,57867,57868,57869,57870,57871,57872,57873,57874,57875,57876,57877,57878,57879,57880,57881,57882,57883,57884,57885,57886,57887,57888,57889,57890,57891,57892,57893,57894,57895,57896,57897,57898,57899,57900,57901,57902,57903,57904,57905,57906,57907,30277,30278,30279,30280,30281,30282,30283,30286,30287,30288,30289,30290,30291,30293,30295,30296,30297,30298,30299,30301,30303,30304,30305,30306,30308,30309,30310,30311,30312,30313,30314,30316,30317,30318,30320,30321,30322,30323,30324,30325,30326,30327,30329,30330,30332,30335,30336,30337,30339,30341,30345,30346,30348,30349,30351,30352,30354,30356,30357,30359,30360,30362,30363,30364,30365,30366,30367,30368,30369,30370,30371,30373,30374,30375,30376,30377,30378,30379,30380,30381,30383,30384,30387,30389,30390,30391,30392,30393,30394,30395,30396,30397,30398,30400,30401,30403,21834,38463,22467,25384,21710,21769,21696,30353,30284,34108,30702,33406,30861,29233,38552,38797,27688,23433,20474,25353,26263,23736,33018,26696,32942,26114,30414,20985,25942,29100,32753,34948,20658,22885,25034,28595,33453,25420,25170,21485,21543,31494,20843,30116,24052,25300,36299,38774,25226,32793,22365,38712,32610,29240,30333,26575,30334,25670,20336,36133,25308,31255,26001,29677,25644,25203,33324,39041,26495,29256,25198,25292,20276,29923,21322,21150,32458,37030,24110,26758,27036,33152,32465,26834,30917,34444,38225,20621,35876,33502,32990,21253,35090,21093,30404,30407,30409,30411,30412,30419,30421,30425,30426,30428,30429,30430,30432,30433,30434,30435,30436,30438,30439,30440,30441,30442,30443,30444,30445,30448,30451,30453,30454,30455,30458,30459,30461,30463,30464,30466,30467,30469,30470,30474,30476,30478,30479,30480,30481,30482,30483,30484,30485,30486,30487,30488,30491,30492,30493,30494,30497,30499,30500,30501,30503,30506,30507,30508,30510,30512,30513,30514,30515,30516,30521,30523,30525,30526,30527,30530,30532,30533,30534,30536,30537,30538,30539,30540,30541,30542,30543,30546,30547,30548,30549,30550,30551,30552,30553,30556,34180,38649,20445,22561,39281,23453,25265,25253,26292,35961,40077,29190,26479,30865,24754,21329,21271,36744,32972,36125,38049,20493,29384,22791,24811,28953,34987,22868,33519,26412,31528,23849,32503,29997,27893,36454,36856,36924,40763,27604,37145,31508,24444,30887,34006,34109,27605,27609,27606,24065,24199,30201,38381,25949,24330,24517,36767,22721,33218,36991,38491,38829,36793,32534,36140,25153,20415,21464,21342,36776,36777,36779,36941,26631,24426,33176,34920,40150,24971,21035,30250,24428,25996,28626,28392,23486,25672,20853,20912,26564,19993,31177,39292,28851,30557,30558,30559,30560,30564,30567,30569,30570,30573,30574,30575,30576,30577,30578,30579,30580,30581,30582,30583,30584,30586,30587,30588,30593,30594,30595,30598,30599,30600,30601,30602,30603,30607,30608,30611,30612,30613,30614,30615,30616,30617,30618,30619,30620,30621,30622,30625,30627,30628,30630,30632,30635,30637,30638,30639,30641,30642,30644,30646,30647,30648,30649,30650,30652,30654,30656,30657,30658,30659,30660,30661,30662,30663,30664,30665,30666,30667,30668,30670,30671,30672,30673,30674,30675,30676,30677,30678,30680,30681,30682,30685,30686,30687,30688,30689,30692,30149,24182,29627,33760,25773,25320,38069,27874,21338,21187,25615,38082,31636,20271,24091,33334,33046,33162,28196,27850,39539,25429,21340,21754,34917,22496,19981,24067,27493,31807,37096,24598,25830,29468,35009,26448,25165,36130,30572,36393,37319,24425,33756,34081,39184,21442,34453,27531,24813,24808,28799,33485,33329,20179,27815,34255,25805,31961,27133,26361,33609,21397,31574,20391,20876,27979,23618,36461,25554,21449,33580,33590,26597,30900,25661,23519,23700,24046,35815,25286,26612,35962,25600,25530,34633,39307,35863,32544,38130,20135,38416,39076,26124,29462,30694,30696,30698,30703,30704,30705,30706,30708,30709,30711,30713,30714,30715,30716,30723,30724,30725,30726,30727,30728,30730,30731,30734,30735,30736,30739,30741,30745,30747,30750,30752,30753,30754,30756,30760,30762,30763,30766,30767,30769,30770,30771,30773,30774,30781,30783,30785,30786,30787,30788,30790,30792,30793,30794,30795,30797,30799,30801,30803,30804,30808,30809,30810,30811,30812,30814,30815,30816,30817,30818,30819,30820,30821,30822,30823,30824,30825,30831,30832,30833,30834,30835,30836,30837,30838,30840,30841,30842,30843,30845,30846,30847,30848,30849,30850,30851,22330,23581,24120,38271,20607,32928,21378,25950,30021,21809,20513,36229,25220,38046,26397,22066,28526,24034,21557,28818,36710,25199,25764,25507,24443,28552,37108,33251,36784,23576,26216,24561,27785,38472,36225,34924,25745,31216,22478,27225,25104,21576,20056,31243,24809,28548,35802,25215,36894,39563,31204,21507,30196,25345,21273,27744,36831,24347,39536,32827,40831,20360,23610,36196,32709,26021,28861,20805,20914,34411,23815,23456,25277,37228,30068,36364,31264,24833,31609,20167,32504,30597,19985,33261,21021,20986,27249,21416,36487,38148,38607,28353,38500,26970,30852,30853,30854,30856,30858,30859,30863,30864,30866,30868,30869,30870,30873,30877,30878,30880,30882,30884,30886,30888,30889,30890,30891,30892,30893,30894,30895,30901,30902,30903,30904,30906,30907,30908,30909,30911,30912,30914,30915,30916,30918,30919,30920,30924,30925,30926,30927,30929,30930,30931,30934,30935,30936,30938,30939,30940,30941,30942,30943,30944,30945,30946,30947,30948,30949,30950,30951,30953,30954,30955,30957,30958,30959,30960,30961,30963,30965,30966,30968,30969,30971,30972,30973,30974,30975,30976,30978,30979,30980,30982,30983,30984,30985,30986,30987,30988,30784,20648,30679,25616,35302,22788,25571,24029,31359,26941,20256,33337,21912,20018,30126,31383,24162,24202,38383,21019,21561,28810,25462,38180,22402,26149,26943,37255,21767,28147,32431,34850,25139,32496,30133,33576,30913,38604,36766,24904,29943,35789,27492,21050,36176,27425,32874,33905,22257,21254,20174,19995,20945,31895,37259,31751,20419,36479,31713,31388,25703,23828,20652,33030,30209,31929,28140,32736,26449,23384,23544,30923,25774,25619,25514,25387,38169,25645,36798,31572,30249,25171,22823,21574,27513,20643,25140,24102,27526,20195,36151,34955,24453,36910,30989,30990,30991,30992,30993,30994,30996,30997,30998,30999,31e3,31001,31002,31003,31004,31005,31007,31008,31009,31010,31011,31013,31014,31015,31016,31017,31018,31019,31020,31021,31022,31023,31024,31025,31026,31027,31029,31030,31031,31032,31033,31037,31039,31042,31043,31044,31045,31047,31050,31051,31052,31053,31054,31055,31056,31057,31058,31060,31061,31064,31065,31073,31075,31076,31078,31081,31082,31083,31084,31086,31088,31089,31090,31091,31092,31093,31094,31097,31099,31100,31101,31102,31103,31106,31107,31110,31111,31112,31113,31115,31116,31117,31118,31120,31121,31122,24608,32829,25285,20025,21333,37112,25528,32966,26086,27694,20294,24814,28129,35806,24377,34507,24403,25377,20826,33633,26723,20992,25443,36424,20498,23707,31095,23548,21040,31291,24764,36947,30423,24503,24471,30340,36460,28783,30331,31561,30634,20979,37011,22564,20302,28404,36842,25932,31515,29380,28068,32735,23265,25269,24213,22320,33922,31532,24093,24351,36882,32532,39072,25474,28359,30872,28857,20856,38747,22443,30005,20291,30008,24215,24806,22880,28096,27583,30857,21500,38613,20939,20993,25481,21514,38035,35843,36300,29241,30879,34678,36845,35853,21472,31123,31124,31125,31126,31127,31128,31129,31131,31132,31133,31134,31135,31136,31137,31138,31139,31140,31141,31142,31144,31145,31146,31147,31148,31149,31150,31151,31152,31153,31154,31156,31157,31158,31159,31160,31164,31167,31170,31172,31173,31175,31176,31178,31180,31182,31183,31184,31187,31188,31190,31191,31193,31194,31195,31196,31197,31198,31200,31201,31202,31205,31208,31210,31212,31214,31217,31218,31219,31220,31221,31222,31223,31225,31226,31228,31230,31231,31233,31236,31237,31239,31240,31241,31242,31244,31247,31248,31249,31250,31251,31253,31254,31256,31257,31259,31260,19969,30447,21486,38025,39030,40718,38189,23450,35746,20002,19996,20908,33891,25026,21160,26635,20375,24683,20923,27934,20828,25238,26007,38497,35910,36887,30168,37117,30563,27602,29322,29420,35835,22581,30585,36172,26460,38208,32922,24230,28193,22930,31471,30701,38203,27573,26029,32526,22534,20817,38431,23545,22697,21544,36466,25958,39039,22244,38045,30462,36929,25479,21702,22810,22842,22427,36530,26421,36346,33333,21057,24816,22549,34558,23784,40517,20420,39069,35769,23077,24694,21380,25212,36943,37122,39295,24681,32780,20799,32819,23572,39285,27953,20108,31261,31263,31265,31266,31268,31269,31270,31271,31272,31273,31274,31275,31276,31277,31278,31279,31280,31281,31282,31284,31285,31286,31288,31290,31294,31296,31297,31298,31299,31300,31301,31303,31304,31305,31306,31307,31308,31309,31310,31311,31312,31314,31315,31316,31317,31318,31320,31321,31322,31323,31324,31325,31326,31327,31328,31329,31330,31331,31332,31333,31334,31335,31336,31337,31338,31339,31340,31341,31342,31343,31345,31346,31347,31349,31355,31356,31357,31358,31362,31365,31367,31369,31370,31371,31372,31374,31375,31376,31379,31380,31385,31386,31387,31390,31393,31394,36144,21457,32602,31567,20240,20047,38400,27861,29648,34281,24070,30058,32763,27146,30718,38034,32321,20961,28902,21453,36820,33539,36137,29359,39277,27867,22346,33459,26041,32938,25151,38450,22952,20223,35775,32442,25918,33778,38750,21857,39134,32933,21290,35837,21536,32954,24223,27832,36153,33452,37210,21545,27675,20998,32439,22367,28954,27774,31881,22859,20221,24575,24868,31914,20016,23553,26539,34562,23792,38155,39118,30127,28925,36898,20911,32541,35773,22857,20964,20315,21542,22827,25975,32932,23413,25206,25282,36752,24133,27679,31526,20239,20440,26381,31395,31396,31399,31401,31402,31403,31406,31407,31408,31409,31410,31412,31413,31414,31415,31416,31417,31418,31419,31420,31421,31422,31424,31425,31426,31427,31428,31429,31430,31431,31432,31433,31434,31436,31437,31438,31439,31440,31441,31442,31443,31444,31445,31447,31448,31450,31451,31452,31453,31457,31458,31460,31463,31464,31465,31466,31467,31468,31470,31472,31473,31474,31475,31476,31477,31478,31479,31480,31483,31484,31486,31488,31489,31490,31493,31495,31497,31500,31501,31502,31504,31506,31507,31510,31511,31512,31514,31516,31517,31519,31521,31522,31523,31527,31529,31533,28014,28074,31119,34993,24343,29995,25242,36741,20463,37340,26023,33071,33105,24220,33104,36212,21103,35206,36171,22797,20613,20184,38428,29238,33145,36127,23500,35747,38468,22919,32538,21648,22134,22030,35813,25913,27010,38041,30422,28297,24178,29976,26438,26577,31487,32925,36214,24863,31174,25954,36195,20872,21018,38050,32568,32923,32434,23703,28207,26464,31705,30347,39640,33167,32660,31957,25630,38224,31295,21578,21733,27468,25601,25096,40509,33011,30105,21106,38761,33883,26684,34532,38401,38548,38124,20010,21508,32473,26681,36319,32789,26356,24218,32697,31535,31536,31538,31540,31541,31542,31543,31545,31547,31549,31551,31552,31553,31554,31555,31556,31558,31560,31562,31565,31566,31571,31573,31575,31577,31580,31582,31583,31585,31587,31588,31589,31590,31591,31592,31593,31594,31595,31596,31597,31599,31600,31603,31604,31606,31608,31610,31612,31613,31615,31617,31618,31619,31620,31622,31623,31624,31625,31626,31627,31628,31630,31631,31633,31634,31635,31638,31640,31641,31642,31643,31646,31647,31648,31651,31652,31653,31662,31663,31664,31666,31667,31669,31670,31671,31673,31674,31675,31676,31677,31678,31679,31680,31682,31683,31684,22466,32831,26775,24037,25915,21151,24685,40858,20379,36524,20844,23467,24339,24041,27742,25329,36129,20849,38057,21246,27807,33503,29399,22434,26500,36141,22815,36764,33735,21653,31629,20272,27837,23396,22993,40723,21476,34506,39592,35895,32929,25925,39038,22266,38599,21038,29916,21072,23521,25346,35074,20054,25296,24618,26874,20851,23448,20896,35266,31649,39302,32592,24815,28748,36143,20809,24191,36891,29808,35268,22317,30789,24402,40863,38394,36712,39740,35809,30328,26690,26588,36330,36149,21053,36746,28378,26829,38149,37101,22269,26524,35065,36807,21704,31685,31688,31689,31690,31691,31693,31694,31695,31696,31698,31700,31701,31702,31703,31704,31707,31708,31710,31711,31712,31714,31715,31716,31719,31720,31721,31723,31724,31725,31727,31728,31730,31731,31732,31733,31734,31736,31737,31738,31739,31741,31743,31744,31745,31746,31747,31748,31749,31750,31752,31753,31754,31757,31758,31760,31761,31762,31763,31764,31765,31767,31768,31769,31770,31771,31772,31773,31774,31776,31777,31778,31779,31780,31781,31784,31785,31787,31788,31789,31790,31791,31792,31793,31794,31795,31796,31797,31798,31799,31801,31802,31803,31804,31805,31806,31810,39608,23401,28023,27686,20133,23475,39559,37219,25e3,37039,38889,21547,28085,23506,20989,21898,32597,32752,25788,25421,26097,25022,24717,28938,27735,27721,22831,26477,33322,22741,22158,35946,27627,37085,22909,32791,21495,28009,21621,21917,33655,33743,26680,31166,21644,20309,21512,30418,35977,38402,27827,28088,36203,35088,40548,36154,22079,40657,30165,24456,29408,24680,21756,20136,27178,34913,24658,36720,21700,28888,34425,40511,27946,23439,24344,32418,21897,20399,29492,21564,21402,20505,21518,21628,20046,24573,29786,22774,33899,32993,34676,29392,31946,28246,31811,31812,31813,31814,31815,31816,31817,31818,31819,31820,31822,31823,31824,31825,31826,31827,31828,31829,31830,31831,31832,31833,31834,31835,31836,31837,31838,31839,31840,31841,31842,31843,31844,31845,31846,31847,31848,31849,31850,31851,31852,31853,31854,31855,31856,31857,31858,31861,31862,31863,31864,31865,31866,31870,31871,31872,31873,31874,31875,31876,31877,31878,31879,31880,31882,31883,31884,31885,31886,31887,31888,31891,31892,31894,31897,31898,31899,31904,31905,31907,31910,31911,31912,31913,31915,31916,31917,31919,31920,31924,31925,31926,31927,31928,31930,31931,24359,34382,21804,25252,20114,27818,25143,33457,21719,21326,29502,28369,30011,21010,21270,35805,27088,24458,24576,28142,22351,27426,29615,26707,36824,32531,25442,24739,21796,30186,35938,28949,28067,23462,24187,33618,24908,40644,30970,34647,31783,30343,20976,24822,29004,26179,24140,24653,35854,28784,25381,36745,24509,24674,34516,22238,27585,24724,24935,21321,24800,26214,36159,31229,20250,28905,27719,35763,35826,32472,33636,26127,23130,39746,27985,28151,35905,27963,20249,28779,33719,25110,24785,38669,36135,31096,20987,22334,22522,26426,30072,31293,31215,31637,31935,31936,31938,31939,31940,31942,31945,31947,31950,31951,31952,31953,31954,31955,31956,31960,31962,31963,31965,31966,31969,31970,31971,31972,31973,31974,31975,31977,31978,31979,31980,31981,31982,31984,31985,31986,31987,31988,31989,31990,31991,31993,31994,31996,31997,31998,31999,32e3,32001,32002,32003,32004,32005,32006,32007,32008,32009,32011,32012,32013,32014,32015,32016,32017,32018,32019,32020,32021,32022,32023,32024,32025,32026,32027,32028,32029,32030,32031,32033,32035,32036,32037,32038,32040,32041,32042,32044,32045,32046,32048,32049,32050,32051,32052,32053,32054,32908,39269,36857,28608,35749,40481,23020,32489,32521,21513,26497,26840,36753,31821,38598,21450,24613,30142,27762,21363,23241,32423,25380,20960,33034,24049,34015,25216,20864,23395,20238,31085,21058,24760,27982,23492,23490,35745,35760,26082,24524,38469,22931,32487,32426,22025,26551,22841,20339,23478,21152,33626,39050,36158,30002,38078,20551,31292,20215,26550,39550,23233,27516,30417,22362,23574,31546,38388,29006,20860,32937,33392,22904,32516,33575,26816,26604,30897,30839,25315,25441,31616,20461,21098,20943,33616,27099,37492,36341,36145,35265,38190,31661,20214,32055,32056,32057,32058,32059,32060,32061,32062,32063,32064,32065,32066,32067,32068,32069,32070,32071,32072,32073,32074,32075,32076,32077,32078,32079,32080,32081,32082,32083,32084,32085,32086,32087,32088,32089,32090,32091,32092,32093,32094,32095,32096,32097,32098,32099,32100,32101,32102,32103,32104,32105,32106,32107,32108,32109,32111,32112,32113,32114,32115,32116,32117,32118,32120,32121,32122,32123,32124,32125,32126,32127,32128,32129,32130,32131,32132,32133,32134,32135,32136,32137,32138,32139,32140,32141,32142,32143,32144,32145,32146,32147,32148,32149,32150,32151,32152,20581,33328,21073,39279,28176,28293,28071,24314,20725,23004,23558,27974,27743,30086,33931,26728,22870,35762,21280,37233,38477,34121,26898,30977,28966,33014,20132,37066,27975,39556,23047,22204,25605,38128,30699,20389,33050,29409,35282,39290,32564,32478,21119,25945,37237,36735,36739,21483,31382,25581,25509,30342,31224,34903,38454,25130,21163,33410,26708,26480,25463,30571,31469,27905,32467,35299,22992,25106,34249,33445,30028,20511,20171,30117,35819,23626,24062,31563,26020,37329,20170,27941,35167,32039,38182,20165,35880,36827,38771,26187,31105,36817,28908,28024,32153,32154,32155,32156,32157,32158,32159,32160,32161,32162,32163,32164,32165,32167,32168,32169,32170,32171,32172,32173,32175,32176,32177,32178,32179,32180,32181,32182,32183,32184,32185,32186,32187,32188,32189,32190,32191,32192,32193,32194,32195,32196,32197,32198,32199,32200,32201,32202,32203,32204,32205,32206,32207,32208,32209,32210,32211,32212,32213,32214,32215,32216,32217,32218,32219,32220,32221,32222,32223,32224,32225,32226,32227,32228,32229,32230,32231,32232,32233,32234,32235,32236,32237,32238,32239,32240,32241,32242,32243,32244,32245,32246,32247,32248,32249,32250,23613,21170,33606,20834,33550,30555,26230,40120,20140,24778,31934,31923,32463,20117,35686,26223,39048,38745,22659,25964,38236,24452,30153,38742,31455,31454,20928,28847,31384,25578,31350,32416,29590,38893,20037,28792,20061,37202,21417,25937,26087,33276,33285,21646,23601,30106,38816,25304,29401,30141,23621,39545,33738,23616,21632,30697,20030,27822,32858,25298,25454,24040,20855,36317,36382,38191,20465,21477,24807,28844,21095,25424,40515,23071,20518,30519,21367,32482,25733,25899,25225,25496,20500,29237,35273,20915,35776,32477,22343,33740,38055,20891,21531,23803,32251,32252,32253,32254,32255,32256,32257,32258,32259,32260,32261,32262,32263,32264,32265,32266,32267,32268,32269,32270,32271,32272,32273,32274,32275,32276,32277,32278,32279,32280,32281,32282,32283,32284,32285,32286,32287,32288,32289,32290,32291,32292,32293,32294,32295,32296,32297,32298,32299,32300,32301,32302,32303,32304,32305,32306,32307,32308,32309,32310,32311,32312,32313,32314,32316,32317,32318,32319,32320,32322,32323,32324,32325,32326,32328,32329,32330,32331,32332,32333,32334,32335,32336,32337,32338,32339,32340,32341,32342,32343,32344,32345,32346,32347,32348,32349,20426,31459,27994,37089,39567,21888,21654,21345,21679,24320,25577,26999,20975,24936,21002,22570,21208,22350,30733,30475,24247,24951,31968,25179,25239,20130,28821,32771,25335,28900,38752,22391,33499,26607,26869,30933,39063,31185,22771,21683,21487,28212,20811,21051,23458,35838,32943,21827,22438,24691,22353,21549,31354,24656,23380,25511,25248,21475,25187,23495,26543,21741,31391,33510,37239,24211,35044,22840,22446,25358,36328,33007,22359,31607,20393,24555,23485,27454,21281,31568,29378,26694,30719,30518,26103,20917,20111,30420,23743,31397,33909,22862,39745,20608,32350,32351,32352,32353,32354,32355,32356,32357,32358,32359,32360,32361,32362,32363,32364,32365,32366,32367,32368,32369,32370,32371,32372,32373,32374,32375,32376,32377,32378,32379,32380,32381,32382,32383,32384,32385,32387,32388,32389,32390,32391,32392,32393,32394,32395,32396,32397,32398,32399,32400,32401,32402,32403,32404,32405,32406,32407,32408,32409,32410,32412,32413,32414,32430,32436,32443,32444,32470,32484,32492,32505,32522,32528,32542,32567,32569,32571,32572,32573,32574,32575,32576,32577,32579,32582,32583,32584,32585,32586,32587,32588,32589,32590,32591,32594,32595,39304,24871,28291,22372,26118,25414,22256,25324,25193,24275,38420,22403,25289,21895,34593,33098,36771,21862,33713,26469,36182,34013,23146,26639,25318,31726,38417,20848,28572,35888,25597,35272,25042,32518,28866,28389,29701,27028,29436,24266,37070,26391,28010,25438,21171,29282,32769,20332,23013,37226,28889,28061,21202,20048,38647,38253,34174,30922,32047,20769,22418,25794,32907,31867,27882,26865,26974,20919,21400,26792,29313,40654,31729,29432,31163,28435,29702,26446,37324,40100,31036,33673,33620,21519,26647,20029,21385,21169,30782,21382,21033,20616,20363,20432,32598,32601,32603,32604,32605,32606,32608,32611,32612,32613,32614,32615,32619,32620,32621,32623,32624,32627,32629,32630,32631,32632,32634,32635,32636,32637,32639,32640,32642,32643,32644,32645,32646,32647,32648,32649,32651,32653,32655,32656,32657,32658,32659,32661,32662,32663,32664,32665,32667,32668,32672,32674,32675,32677,32678,32680,32681,32682,32683,32684,32685,32686,32689,32691,32692,32693,32694,32695,32698,32699,32702,32704,32706,32707,32708,32710,32711,32712,32713,32715,32717,32719,32720,32721,32722,32723,32726,32727,32729,32730,32731,32732,32733,32734,32738,32739,30178,31435,31890,27813,38582,21147,29827,21737,20457,32852,33714,36830,38256,24265,24604,28063,24088,25947,33080,38142,24651,28860,32451,31918,20937,26753,31921,33391,20004,36742,37327,26238,20142,35845,25769,32842,20698,30103,29134,23525,36797,28518,20102,25730,38243,24278,26009,21015,35010,28872,21155,29454,29747,26519,30967,38678,20020,37051,40158,28107,20955,36161,21533,25294,29618,33777,38646,40836,38083,20278,32666,20940,28789,38517,23725,39046,21478,20196,28316,29705,27060,30827,39311,30041,21016,30244,27969,26611,20845,40857,32843,21657,31548,31423,32740,32743,32744,32746,32747,32748,32749,32751,32754,32756,32757,32758,32759,32760,32761,32762,32765,32766,32767,32770,32775,32776,32777,32778,32782,32783,32785,32787,32794,32795,32797,32798,32799,32801,32803,32804,32811,32812,32813,32814,32815,32816,32818,32820,32825,32826,32828,32830,32832,32833,32836,32837,32839,32840,32841,32846,32847,32848,32849,32851,32853,32854,32855,32857,32859,32860,32861,32862,32863,32864,32865,32866,32867,32868,32869,32870,32871,32872,32875,32876,32877,32878,32879,32880,32882,32883,32884,32885,32886,32887,32888,32889,32890,32891,32892,32893,38534,22404,25314,38471,27004,23044,25602,31699,28431,38475,33446,21346,39045,24208,28809,25523,21348,34383,40065,40595,30860,38706,36335,36162,40575,28510,31108,24405,38470,25134,39540,21525,38109,20387,26053,23653,23649,32533,34385,27695,24459,29575,28388,32511,23782,25371,23402,28390,21365,20081,25504,30053,25249,36718,20262,20177,27814,32438,35770,33821,34746,32599,36923,38179,31657,39585,35064,33853,27931,39558,32476,22920,40635,29595,30721,34434,39532,39554,22043,21527,22475,20080,40614,21334,36808,33033,30610,39314,34542,28385,34067,26364,24930,28459,32894,32897,32898,32901,32904,32906,32909,32910,32911,32912,32913,32914,32916,32917,32919,32921,32926,32931,32934,32935,32936,32940,32944,32947,32949,32950,32952,32953,32955,32965,32967,32968,32969,32970,32971,32975,32976,32977,32978,32979,32980,32981,32984,32991,32992,32994,32995,32998,33006,33013,33015,33017,33019,33022,33023,33024,33025,33027,33028,33029,33031,33032,33035,33036,33045,33047,33049,33051,33052,33053,33055,33056,33057,33058,33059,33060,33061,33062,33063,33064,33065,33066,33067,33069,33070,33072,33075,33076,33077,33079,33081,33082,33083,33084,33085,33087,35881,33426,33579,30450,27667,24537,33725,29483,33541,38170,27611,30683,38086,21359,33538,20882,24125,35980,36152,20040,29611,26522,26757,37238,38665,29028,27809,30473,23186,38209,27599,32654,26151,23504,22969,23194,38376,38391,20204,33804,33945,27308,30431,38192,29467,26790,23391,30511,37274,38753,31964,36855,35868,24357,31859,31192,35269,27852,34588,23494,24130,26825,30496,32501,20885,20813,21193,23081,32517,38754,33495,25551,30596,34256,31186,28218,24217,22937,34065,28781,27665,25279,30399,25935,24751,38397,26126,34719,40483,38125,21517,21629,35884,25720,33088,33089,33090,33091,33092,33093,33095,33097,33101,33102,33103,33106,33110,33111,33112,33115,33116,33117,33118,33119,33121,33122,33123,33124,33126,33128,33130,33131,33132,33135,33138,33139,33141,33142,33143,33144,33153,33155,33156,33157,33158,33159,33161,33163,33164,33165,33166,33168,33170,33171,33172,33173,33174,33175,33177,33178,33182,33183,33184,33185,33186,33188,33189,33191,33193,33195,33196,33197,33198,33199,33200,33201,33202,33204,33205,33206,33207,33208,33209,33212,33213,33214,33215,33220,33221,33223,33224,33225,33227,33229,33230,33231,33232,33233,33234,33235,25721,34321,27169,33180,30952,25705,39764,25273,26411,33707,22696,40664,27819,28448,23518,38476,35851,29279,26576,25287,29281,20137,22982,27597,22675,26286,24149,21215,24917,26408,30446,30566,29287,31302,25343,21738,21584,38048,37027,23068,32435,27670,20035,22902,32784,22856,21335,30007,38590,22218,25376,33041,24700,38393,28118,21602,39297,20869,23273,33021,22958,38675,20522,27877,23612,25311,20320,21311,33147,36870,28346,34091,25288,24180,30910,25781,25467,24565,23064,37247,40479,23615,25423,32834,23421,21870,38218,38221,28037,24744,26592,29406,20957,23425,33236,33237,33238,33239,33240,33241,33242,33243,33244,33245,33246,33247,33248,33249,33250,33252,33253,33254,33256,33257,33259,33262,33263,33264,33265,33266,33269,33270,33271,33272,33273,33274,33277,33279,33283,33287,33288,33289,33290,33291,33294,33295,33297,33299,33301,33302,33303,33304,33305,33306,33309,33312,33316,33317,33318,33319,33321,33326,33330,33338,33340,33341,33343,33344,33345,33346,33347,33349,33350,33352,33354,33356,33357,33358,33360,33361,33362,33363,33364,33365,33366,33367,33369,33371,33372,33373,33374,33376,33377,33378,33379,33380,33381,33382,33383,33385,25319,27870,29275,25197,38062,32445,33043,27987,20892,24324,22900,21162,24594,22899,26262,34384,30111,25386,25062,31983,35834,21734,27431,40485,27572,34261,21589,20598,27812,21866,36276,29228,24085,24597,29750,25293,25490,29260,24472,28227,27966,25856,28504,30424,30928,30460,30036,21028,21467,20051,24222,26049,32810,32982,25243,21638,21032,28846,34957,36305,27873,21624,32986,22521,35060,36180,38506,37197,20329,27803,21943,30406,30768,25256,28921,28558,24429,34028,26842,30844,31735,33192,26379,40527,25447,30896,22383,30738,38713,25209,25259,21128,29749,27607,33386,33387,33388,33389,33393,33397,33398,33399,33400,33403,33404,33408,33409,33411,33413,33414,33415,33417,33420,33424,33427,33428,33429,33430,33434,33435,33438,33440,33442,33443,33447,33458,33461,33462,33466,33467,33468,33471,33472,33474,33475,33477,33478,33481,33488,33494,33497,33498,33501,33506,33511,33512,33513,33514,33516,33517,33518,33520,33522,33523,33525,33526,33528,33530,33532,33533,33534,33535,33536,33546,33547,33549,33552,33554,33555,33558,33560,33561,33565,33566,33567,33568,33569,33570,33571,33572,33573,33574,33577,33578,33582,33584,33586,33591,33595,33597,21860,33086,30130,30382,21305,30174,20731,23617,35692,31687,20559,29255,39575,39128,28418,29922,31080,25735,30629,25340,39057,36139,21697,32856,20050,22378,33529,33805,24179,20973,29942,35780,23631,22369,27900,39047,23110,30772,39748,36843,31893,21078,25169,38138,20166,33670,33889,33769,33970,22484,26420,22275,26222,28006,35889,26333,28689,26399,27450,26646,25114,22971,19971,20932,28422,26578,27791,20854,26827,22855,27495,30054,23822,33040,40784,26071,31048,31041,39569,36215,23682,20062,20225,21551,22865,30732,22120,27668,36804,24323,27773,27875,35755,25488,33598,33599,33601,33602,33604,33605,33608,33610,33611,33612,33613,33614,33619,33621,33622,33623,33624,33625,33629,33634,33648,33649,33650,33651,33652,33653,33654,33657,33658,33662,33663,33664,33665,33666,33667,33668,33671,33672,33674,33675,33676,33677,33679,33680,33681,33684,33685,33686,33687,33689,33690,33693,33695,33697,33698,33699,33700,33701,33702,33703,33708,33709,33710,33711,33717,33723,33726,33727,33730,33731,33732,33734,33736,33737,33739,33741,33742,33744,33745,33746,33747,33749,33751,33753,33754,33755,33758,33762,33763,33764,33766,33767,33768,33771,33772,33773,24688,27965,29301,25190,38030,38085,21315,36801,31614,20191,35878,20094,40660,38065,38067,21069,28508,36963,27973,35892,22545,23884,27424,27465,26538,21595,33108,32652,22681,34103,24378,25250,27207,38201,25970,24708,26725,30631,20052,20392,24039,38808,25772,32728,23789,20431,31373,20999,33540,19988,24623,31363,38054,20405,20146,31206,29748,21220,33465,25810,31165,23517,27777,38738,36731,27682,20542,21375,28165,25806,26228,27696,24773,39031,35831,24198,29756,31351,31179,19992,37041,29699,27714,22234,37195,27845,36235,21306,34502,26354,36527,23624,39537,28192,33774,33775,33779,33780,33781,33782,33783,33786,33787,33788,33790,33791,33792,33794,33797,33799,33800,33801,33802,33808,33810,33811,33812,33813,33814,33815,33817,33818,33819,33822,33823,33824,33825,33826,33827,33833,33834,33835,33836,33837,33838,33839,33840,33842,33843,33844,33845,33846,33847,33849,33850,33851,33854,33855,33856,33857,33858,33859,33860,33861,33863,33864,33865,33866,33867,33868,33869,33870,33871,33872,33874,33875,33876,33877,33878,33880,33885,33886,33887,33888,33890,33892,33893,33894,33895,33896,33898,33902,33903,33904,33906,33908,33911,33913,33915,33916,21462,23094,40843,36259,21435,22280,39079,26435,37275,27849,20840,30154,25331,29356,21048,21149,32570,28820,30264,21364,40522,27063,30830,38592,35033,32676,28982,29123,20873,26579,29924,22756,25880,22199,35753,39286,25200,32469,24825,28909,22764,20161,20154,24525,38887,20219,35748,20995,22922,32427,25172,20173,26085,25102,33592,33993,33635,34701,29076,28342,23481,32466,20887,25545,26580,32905,33593,34837,20754,23418,22914,36785,20083,27741,20837,35109,36719,38446,34122,29790,38160,38384,28070,33509,24369,25746,27922,33832,33134,40131,22622,36187,19977,21441,33917,33918,33919,33920,33921,33923,33924,33925,33926,33930,33933,33935,33936,33937,33938,33939,33940,33941,33942,33944,33946,33947,33949,33950,33951,33952,33954,33955,33956,33957,33958,33959,33960,33961,33962,33963,33964,33965,33966,33968,33969,33971,33973,33974,33975,33979,33980,33982,33984,33986,33987,33989,33990,33991,33992,33995,33996,33998,33999,34002,34004,34005,34007,34008,34009,34010,34011,34012,34014,34017,34018,34020,34023,34024,34025,34026,34027,34029,34030,34031,34033,34034,34035,34036,34037,34038,34039,34040,34041,34042,34043,34045,34046,34048,34049,34050,20254,25955,26705,21971,20007,25620,39578,25195,23234,29791,33394,28073,26862,20711,33678,30722,26432,21049,27801,32433,20667,21861,29022,31579,26194,29642,33515,26441,23665,21024,29053,34923,38378,38485,25797,36193,33203,21892,27733,25159,32558,22674,20260,21830,36175,26188,19978,23578,35059,26786,25422,31245,28903,33421,21242,38902,23569,21736,37045,32461,22882,36170,34503,33292,33293,36198,25668,23556,24913,28041,31038,35774,30775,30003,21627,20280,36523,28145,23072,32453,31070,27784,23457,23158,29978,32958,24910,28183,22768,29983,29989,29298,21319,32499,34051,34052,34053,34054,34055,34056,34057,34058,34059,34061,34062,34063,34064,34066,34068,34069,34070,34072,34073,34075,34076,34077,34078,34080,34082,34083,34084,34085,34086,34087,34088,34089,34090,34093,34094,34095,34096,34097,34098,34099,34100,34101,34102,34110,34111,34112,34113,34114,34116,34117,34118,34119,34123,34124,34125,34126,34127,34128,34129,34130,34131,34132,34133,34135,34136,34138,34139,34140,34141,34143,34144,34145,34146,34147,34149,34150,34151,34153,34154,34155,34156,34157,34158,34159,34160,34161,34163,34165,34166,34167,34168,34172,34173,34175,34176,34177,30465,30427,21097,32988,22307,24072,22833,29422,26045,28287,35799,23608,34417,21313,30707,25342,26102,20160,39135,34432,23454,35782,21490,30690,20351,23630,39542,22987,24335,31034,22763,19990,26623,20107,25325,35475,36893,21183,26159,21980,22124,36866,20181,20365,37322,39280,27663,24066,24643,23460,35270,35797,25910,25163,39318,23432,23551,25480,21806,21463,30246,20861,34092,26530,26803,27530,25234,36755,21460,33298,28113,30095,20070,36174,23408,29087,34223,26257,26329,32626,34560,40653,40736,23646,26415,36848,26641,26463,25101,31446,22661,24246,25968,28465,34178,34179,34182,34184,34185,34186,34187,34188,34189,34190,34192,34193,34194,34195,34196,34197,34198,34199,34200,34201,34202,34205,34206,34207,34208,34209,34210,34211,34213,34214,34215,34217,34219,34220,34221,34225,34226,34227,34228,34229,34230,34232,34234,34235,34236,34237,34238,34239,34240,34242,34243,34244,34245,34246,34247,34248,34250,34251,34252,34253,34254,34257,34258,34260,34262,34263,34264,34265,34266,34267,34269,34270,34271,34272,34273,34274,34275,34277,34278,34279,34280,34282,34283,34284,34285,34286,34287,34288,34289,34290,34291,34292,34293,34294,34295,34296,24661,21047,32781,25684,34928,29993,24069,26643,25332,38684,21452,29245,35841,27700,30561,31246,21550,30636,39034,33308,35828,30805,26388,28865,26031,25749,22070,24605,31169,21496,19997,27515,32902,23546,21987,22235,20282,20284,39282,24051,26494,32824,24578,39042,36865,23435,35772,35829,25628,33368,25822,22013,33487,37221,20439,32032,36895,31903,20723,22609,28335,23487,35785,32899,37240,33948,31639,34429,38539,38543,32485,39635,30862,23681,31319,36930,38567,31071,23385,25439,31499,34001,26797,21766,32553,29712,32034,38145,25152,22604,20182,23427,22905,22612,34297,34298,34300,34301,34302,34304,34305,34306,34307,34308,34310,34311,34312,34313,34314,34315,34316,34317,34318,34319,34320,34322,34323,34324,34325,34327,34328,34329,34330,34331,34332,34333,34334,34335,34336,34337,34338,34339,34340,34341,34342,34344,34346,34347,34348,34349,34350,34351,34352,34353,34354,34355,34356,34357,34358,34359,34361,34362,34363,34365,34366,34367,34368,34369,34370,34371,34372,34373,34374,34375,34376,34377,34378,34379,34380,34386,34387,34389,34390,34391,34392,34393,34395,34396,34397,34399,34400,34401,34403,34404,34405,34406,34407,34408,34409,34410,29549,25374,36427,36367,32974,33492,25260,21488,27888,37214,22826,24577,27760,22349,25674,36138,30251,28393,22363,27264,30192,28525,35885,35848,22374,27631,34962,30899,25506,21497,28845,27748,22616,25642,22530,26848,33179,21776,31958,20504,36538,28108,36255,28907,25487,28059,28372,32486,33796,26691,36867,28120,38518,35752,22871,29305,34276,33150,30140,35466,26799,21076,36386,38161,25552,39064,36420,21884,20307,26367,22159,24789,28053,21059,23625,22825,28155,22635,3e4,29980,24684,33300,33094,25361,26465,36834,30522,36339,36148,38081,24086,21381,21548,28867,34413,34415,34416,34418,34419,34420,34421,34422,34423,34424,34435,34436,34437,34438,34439,34440,34441,34446,34447,34448,34449,34450,34452,34454,34455,34456,34457,34458,34459,34462,34463,34464,34465,34466,34469,34470,34475,34477,34478,34482,34483,34487,34488,34489,34491,34492,34493,34494,34495,34497,34498,34499,34501,34504,34508,34509,34514,34515,34517,34518,34519,34522,34524,34525,34528,34529,34530,34531,34533,34534,34535,34536,34538,34539,34540,34543,34549,34550,34551,34554,34555,34556,34557,34559,34561,34564,34565,34566,34571,34572,34574,34575,34576,34577,34580,34582,27712,24311,20572,20141,24237,25402,33351,36890,26704,37230,30643,21516,38108,24420,31461,26742,25413,31570,32479,30171,20599,25237,22836,36879,20984,31171,31361,22270,24466,36884,28034,23648,22303,21520,20820,28237,22242,25512,39059,33151,34581,35114,36864,21534,23663,33216,25302,25176,33073,40501,38464,39534,39548,26925,22949,25299,21822,25366,21703,34521,27964,23043,29926,34972,27498,22806,35916,24367,28286,29609,39037,20024,28919,23436,30871,25405,26202,30358,24779,23451,23113,19975,33109,27754,29579,20129,26505,32593,24448,26106,26395,24536,22916,23041,34585,34587,34589,34591,34592,34596,34598,34599,34600,34602,34603,34604,34605,34607,34608,34610,34611,34613,34614,34616,34617,34618,34620,34621,34624,34625,34626,34627,34628,34629,34630,34634,34635,34637,34639,34640,34641,34642,34644,34645,34646,34648,34650,34651,34652,34653,34654,34655,34657,34658,34662,34663,34664,34665,34666,34667,34668,34669,34671,34673,34674,34675,34677,34679,34680,34681,34682,34687,34688,34689,34692,34694,34695,34697,34698,34700,34702,34703,34704,34705,34706,34708,34709,34710,34712,34713,34714,34715,34716,34717,34718,34720,34721,34722,34723,34724,24013,24494,21361,38886,36829,26693,22260,21807,24799,20026,28493,32500,33479,33806,22996,20255,20266,23614,32428,26410,34074,21619,30031,32963,21890,39759,20301,28205,35859,23561,24944,21355,30239,28201,34442,25991,38395,32441,21563,31283,32010,38382,21985,32705,29934,25373,34583,28065,31389,25105,26017,21351,25569,27779,24043,21596,38056,20044,27745,35820,23627,26080,33436,26791,21566,21556,27595,27494,20116,25410,21320,33310,20237,20398,22366,25098,38654,26212,29289,21247,21153,24735,35823,26132,29081,26512,35199,30802,30717,26224,22075,21560,38177,29306,34725,34726,34727,34729,34730,34734,34736,34737,34738,34740,34742,34743,34744,34745,34747,34748,34750,34751,34753,34754,34755,34756,34757,34759,34760,34761,34764,34765,34766,34767,34768,34772,34773,34774,34775,34776,34777,34778,34780,34781,34782,34783,34785,34786,34787,34788,34790,34791,34792,34793,34795,34796,34797,34799,34800,34801,34802,34803,34804,34805,34806,34807,34808,34810,34811,34812,34813,34815,34816,34817,34818,34820,34821,34822,34823,34824,34825,34827,34828,34829,34830,34831,34832,34833,34834,34836,34839,34840,34841,34842,34844,34845,34846,34847,34848,34851,31232,24687,24076,24713,33181,22805,24796,29060,28911,28330,27728,29312,27268,34989,24109,20064,23219,21916,38115,27927,31995,38553,25103,32454,30606,34430,21283,38686,36758,26247,23777,20384,29421,19979,21414,22799,21523,25472,38184,20808,20185,40092,32420,21688,36132,34900,33335,38386,28046,24358,23244,26174,38505,29616,29486,21439,33146,39301,32673,23466,38519,38480,32447,30456,21410,38262,39321,31665,35140,28248,20065,32724,31077,35814,24819,21709,20139,39033,24055,27233,20687,21521,35937,33831,30813,38660,21066,21742,22179,38144,28040,23477,28102,26195,34852,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34867,34868,34869,34870,34871,34872,34874,34875,34877,34878,34879,34881,34882,34883,34886,34887,34888,34889,34890,34891,34894,34895,34896,34897,34898,34899,34901,34902,34904,34906,34907,34908,34909,34910,34911,34912,34918,34919,34922,34925,34927,34929,34931,34932,34933,34934,34936,34937,34938,34939,34940,34944,34947,34950,34951,34953,34954,34956,34958,34959,34960,34961,34963,34964,34965,34967,34968,34969,34970,34971,34973,34974,34975,34976,34977,34979,34981,34982,34983,34984,34985,34986,23567,23389,26657,32918,21880,31505,25928,26964,20123,27463,34638,38795,21327,25375,25658,37034,26012,32961,35856,20889,26800,21368,34809,25032,27844,27899,35874,23633,34218,33455,38156,27427,36763,26032,24571,24515,20449,34885,26143,33125,29481,24826,20852,21009,22411,24418,37026,34892,37266,24184,26447,24615,22995,20804,20982,33016,21256,27769,38596,29066,20241,20462,32670,26429,21957,38152,31168,34966,32483,22687,25100,38656,34394,22040,39035,24464,35768,33988,37207,21465,26093,24207,30044,24676,32110,23167,32490,32493,36713,21927,23459,24748,26059,29572,34988,34990,34991,34992,34994,34995,34996,34997,34998,35e3,35001,35002,35003,35005,35006,35007,35008,35011,35012,35015,35016,35018,35019,35020,35021,35023,35024,35025,35027,35030,35031,35034,35035,35036,35037,35038,35040,35041,35046,35047,35049,35050,35051,35052,35053,35054,35055,35058,35061,35062,35063,35066,35067,35069,35071,35072,35073,35075,35076,35077,35078,35079,35080,35081,35083,35084,35085,35086,35087,35089,35092,35093,35094,35095,35096,35100,35101,35102,35103,35104,35106,35107,35108,35110,35111,35112,35113,35116,35117,35118,35119,35121,35122,35123,35125,35127,36873,30307,30505,32474,38772,34203,23398,31348,38634,34880,21195,29071,24490,26092,35810,23547,39535,24033,27529,27739,35757,35759,36874,36805,21387,25276,40486,40493,21568,20011,33469,29273,34460,23830,34905,28079,38597,21713,20122,35766,28937,21693,38409,28895,28153,30416,20005,30740,34578,23721,24310,35328,39068,38414,28814,27839,22852,25513,30524,34893,28436,33395,22576,29141,21388,30746,38593,21761,24422,28976,23476,35866,39564,27523,22830,40495,31207,26472,25196,20335,30113,32650,27915,38451,27687,20208,30162,20859,26679,28478,36992,33136,22934,29814,35128,35129,35130,35131,35132,35133,35134,35135,35136,35138,35139,35141,35142,35143,35144,35145,35146,35147,35148,35149,35150,35151,35152,35153,35154,35155,35156,35157,35158,35159,35160,35161,35162,35163,35164,35165,35168,35169,35170,35171,35172,35173,35175,35176,35177,35178,35179,35180,35181,35182,35183,35184,35185,35186,35187,35188,35189,35190,35191,35192,35193,35194,35196,35197,35198,35200,35202,35204,35205,35207,35208,35209,35210,35211,35212,35213,35214,35215,35216,35217,35218,35219,35220,35221,35222,35223,35224,35225,35226,35227,35228,35229,35230,35231,35232,35233,25671,23591,36965,31377,35875,23002,21676,33280,33647,35201,32768,26928,22094,32822,29239,37326,20918,20063,39029,25494,19994,21494,26355,33099,22812,28082,19968,22777,21307,25558,38129,20381,20234,34915,39056,22839,36951,31227,20202,33008,30097,27778,23452,23016,24413,26885,34433,20506,24050,20057,30691,20197,33402,25233,26131,37009,23673,20159,24441,33222,36920,32900,30123,20134,35028,24847,27589,24518,20041,30410,28322,35811,35758,35850,35793,24322,32764,32716,32462,33589,33643,22240,27575,38899,38452,23035,21535,38134,28139,23493,39278,23609,24341,38544,35234,35235,35236,35237,35238,35239,35240,35241,35242,35243,35244,35245,35246,35247,35248,35249,35250,35251,35252,35253,35254,35255,35256,35257,35258,35259,35260,35261,35262,35263,35264,35267,35277,35283,35284,35285,35287,35288,35289,35291,35293,35295,35296,35297,35298,35300,35303,35304,35305,35306,35308,35309,35310,35312,35313,35314,35316,35317,35318,35319,35320,35321,35322,35323,35324,35325,35326,35327,35329,35330,35331,35332,35333,35334,35336,35337,35338,35339,35340,35341,35342,35343,35344,35345,35346,35347,35348,35349,35350,35351,35352,35353,35354,35355,35356,35357,21360,33521,27185,23156,40560,24212,32552,33721,33828,33829,33639,34631,36814,36194,30408,24433,39062,30828,26144,21727,25317,20323,33219,30152,24248,38605,36362,34553,21647,27891,28044,27704,24703,21191,29992,24189,20248,24736,24551,23588,30001,37038,38080,29369,27833,28216,37193,26377,21451,21491,20305,37321,35825,21448,24188,36802,28132,20110,30402,27014,34398,24858,33286,20313,20446,36926,40060,24841,28189,28180,38533,20104,23089,38632,19982,23679,31161,23431,35821,32701,29577,22495,33419,37057,21505,36935,21947,23786,24481,24840,27442,29425,32946,35465,35358,35359,35360,35361,35362,35363,35364,35365,35366,35367,35368,35369,35370,35371,35372,35373,35374,35375,35376,35377,35378,35379,35380,35381,35382,35383,35384,35385,35386,35387,35388,35389,35391,35392,35393,35394,35395,35396,35397,35398,35399,35401,35402,35403,35404,35405,35406,35407,35408,35409,35410,35411,35412,35413,35414,35415,35416,35417,35418,35419,35420,35421,35422,35423,35424,35425,35426,35427,35428,35429,35430,35431,35432,35433,35434,35435,35436,35437,35438,35439,35440,35441,35442,35443,35444,35445,35446,35447,35448,35450,35451,35452,35453,35454,35455,35456,28020,23507,35029,39044,35947,39533,40499,28170,20900,20803,22435,34945,21407,25588,36757,22253,21592,22278,29503,28304,32536,36828,33489,24895,24616,38498,26352,32422,36234,36291,38053,23731,31908,26376,24742,38405,32792,20113,37095,21248,38504,20801,36816,34164,37213,26197,38901,23381,21277,30776,26434,26685,21705,28798,23472,36733,20877,22312,21681,25874,26242,36190,36163,33039,33900,36973,31967,20991,34299,26531,26089,28577,34468,36481,22122,36896,30338,28790,29157,36131,25321,21017,27901,36156,24590,22686,24974,26366,36192,25166,21939,28195,26413,36711,35457,35458,35459,35460,35461,35462,35463,35464,35467,35468,35469,35470,35471,35472,35473,35474,35476,35477,35478,35479,35480,35481,35482,35483,35484,35485,35486,35487,35488,35489,35490,35491,35492,35493,35494,35495,35496,35497,35498,35499,35500,35501,35502,35503,35504,35505,35506,35507,35508,35509,35510,35511,35512,35513,35514,35515,35516,35517,35518,35519,35520,35521,35522,35523,35524,35525,35526,35527,35528,35529,35530,35531,35532,35533,35534,35535,35536,35537,35538,35539,35540,35541,35542,35543,35544,35545,35546,35547,35548,35549,35550,35551,35552,35553,35554,35555,38113,38392,30504,26629,27048,21643,20045,28856,35784,25688,25995,23429,31364,20538,23528,30651,27617,35449,31896,27838,30415,26025,36759,23853,23637,34360,26632,21344,25112,31449,28251,32509,27167,31456,24432,28467,24352,25484,28072,26454,19976,24080,36134,20183,32960,30260,38556,25307,26157,25214,27836,36213,29031,32617,20806,32903,21484,36974,25240,21746,34544,36761,32773,38167,34071,36825,27993,29645,26015,30495,29956,30759,33275,36126,38024,20390,26517,30137,35786,38663,25391,38215,38453,33976,25379,30529,24449,29424,20105,24596,25972,25327,27491,25919,35556,35557,35558,35559,35560,35561,35562,35563,35564,35565,35566,35567,35568,35569,35570,35571,35572,35573,35574,35575,35576,35577,35578,35579,35580,35581,35582,35583,35584,35585,35586,35587,35588,35589,35590,35592,35593,35594,35595,35596,35597,35598,35599,35600,35601,35602,35603,35604,35605,35606,35607,35608,35609,35610,35611,35612,35613,35614,35615,35616,35617,35618,35619,35620,35621,35623,35624,35625,35626,35627,35628,35629,35630,35631,35632,35633,35634,35635,35636,35637,35638,35639,35640,35641,35642,35643,35644,35645,35646,35647,35648,35649,35650,35651,35652,35653,24103,30151,37073,35777,33437,26525,25903,21553,34584,30693,32930,33026,27713,20043,32455,32844,30452,26893,27542,25191,20540,20356,22336,25351,27490,36286,21482,26088,32440,24535,25370,25527,33267,33268,32622,24092,23769,21046,26234,31209,31258,36136,28825,30164,28382,27835,31378,20013,30405,24544,38047,34935,32456,31181,32959,37325,20210,20247,33311,21608,24030,27954,35788,31909,36724,32920,24090,21650,30385,23449,26172,39588,29664,26666,34523,26417,29482,35832,35803,36880,31481,28891,29038,25284,30633,22065,20027,33879,26609,21161,34496,36142,38136,31569,35654,35655,35656,35657,35658,35659,35660,35661,35662,35663,35664,35665,35666,35667,35668,35669,35670,35671,35672,35673,35674,35675,35676,35677,35678,35679,35680,35681,35682,35683,35684,35685,35687,35688,35689,35690,35691,35693,35694,35695,35696,35697,35698,35699,35700,35701,35702,35703,35704,35705,35706,35707,35708,35709,35710,35711,35712,35713,35714,35715,35716,35717,35718,35719,35720,35721,35722,35723,35724,35725,35726,35727,35728,35729,35730,35731,35732,35733,35734,35735,35736,35737,35738,35739,35740,35741,35742,35743,35756,35761,35771,35783,35792,35818,35849,35870,20303,27880,31069,39547,25235,29226,25341,19987,30742,36716,25776,36186,31686,26729,24196,35013,22918,25758,22766,29366,26894,38181,36861,36184,22368,32512,35846,20934,25417,25305,21331,26700,29730,33537,37196,21828,30528,28796,27978,20857,21672,36164,23039,28363,28100,23388,32043,20180,31869,28371,23376,33258,28173,23383,39683,26837,36394,23447,32508,24635,32437,37049,36208,22863,25549,31199,36275,21330,26063,31062,35781,38459,32452,38075,32386,22068,37257,26368,32618,23562,36981,26152,24038,20304,26590,20570,20316,22352,24231,59408,59409,59410,59411,59412,35896,35897,35898,35899,35900,35901,35902,35903,35904,35906,35907,35908,35909,35912,35914,35915,35917,35918,35919,35920,35921,35922,35923,35924,35926,35927,35928,35929,35931,35932,35933,35934,35935,35936,35939,35940,35941,35942,35943,35944,35945,35948,35949,35950,35951,35952,35953,35954,35956,35957,35958,35959,35963,35964,35965,35966,35967,35968,35969,35971,35972,35974,35975,35976,35979,35981,35982,35983,35984,35985,35986,35987,35989,35990,35991,35993,35994,35995,35996,35997,35998,35999,36e3,36001,36002,36003,36004,36005,36006,36007,36008,36009,36010,36011,36012,36013,20109,19980,20800,19984,24319,21317,19989,20120,19998,39730,23404,22121,20008,31162,20031,21269,20039,22829,29243,21358,27664,22239,32996,39319,27603,30590,40727,20022,20127,40720,20060,20073,20115,33416,23387,21868,22031,20164,21389,21405,21411,21413,21422,38757,36189,21274,21493,21286,21294,21310,36188,21350,21347,20994,21e3,21006,21037,21043,21055,21056,21068,21086,21089,21084,33967,21117,21122,21121,21136,21139,20866,32596,20155,20163,20169,20162,20200,20193,20203,20190,20251,20211,20258,20324,20213,20261,20263,20233,20267,20318,20327,25912,20314,20317,36014,36015,36016,36017,36018,36019,36020,36021,36022,36023,36024,36025,36026,36027,36028,36029,36030,36031,36032,36033,36034,36035,36036,36037,36038,36039,36040,36041,36042,36043,36044,36045,36046,36047,36048,36049,36050,36051,36052,36053,36054,36055,36056,36057,36058,36059,36060,36061,36062,36063,36064,36065,36066,36067,36068,36069,36070,36071,36072,36073,36074,36075,36076,36077,36078,36079,36080,36081,36082,36083,36084,36085,36086,36087,36088,36089,36090,36091,36092,36093,36094,36095,36096,36097,36098,36099,36100,36101,36102,36103,36104,36105,36106,36107,36108,36109,20319,20311,20274,20285,20342,20340,20369,20361,20355,20367,20350,20347,20394,20348,20396,20372,20454,20456,20458,20421,20442,20451,20444,20433,20447,20472,20521,20556,20467,20524,20495,20526,20525,20478,20508,20492,20517,20520,20606,20547,20565,20552,20558,20588,20603,20645,20647,20649,20666,20694,20742,20717,20716,20710,20718,20743,20747,20189,27709,20312,20325,20430,40864,27718,31860,20846,24061,40649,39320,20865,22804,21241,21261,35335,21264,20971,22809,20821,20128,20822,20147,34926,34980,20149,33044,35026,31104,23348,34819,32696,20907,20913,20925,20924,36110,36111,36112,36113,36114,36115,36116,36117,36118,36119,36120,36121,36122,36123,36124,36128,36177,36178,36183,36191,36197,36200,36201,36202,36204,36206,36207,36209,36210,36216,36217,36218,36219,36220,36221,36222,36223,36224,36226,36227,36230,36231,36232,36233,36236,36237,36238,36239,36240,36242,36243,36245,36246,36247,36248,36249,36250,36251,36252,36253,36254,36256,36257,36258,36260,36261,36262,36263,36264,36265,36266,36267,36268,36269,36270,36271,36272,36274,36278,36279,36281,36283,36285,36288,36289,36290,36293,36295,36296,36297,36298,36301,36304,36306,36307,36308,20935,20886,20898,20901,35744,35750,35751,35754,35764,35765,35767,35778,35779,35787,35791,35790,35794,35795,35796,35798,35800,35801,35804,35807,35808,35812,35816,35817,35822,35824,35827,35830,35833,35836,35839,35840,35842,35844,35847,35852,35855,35857,35858,35860,35861,35862,35865,35867,35864,35869,35871,35872,35873,35877,35879,35882,35883,35886,35887,35890,35891,35893,35894,21353,21370,38429,38434,38433,38449,38442,38461,38460,38466,38473,38484,38495,38503,38508,38514,38516,38536,38541,38551,38576,37015,37019,37021,37017,37036,37025,37044,37043,37046,37050,36309,36312,36313,36316,36320,36321,36322,36325,36326,36327,36329,36333,36334,36336,36337,36338,36340,36342,36348,36350,36351,36352,36353,36354,36355,36356,36358,36359,36360,36363,36365,36366,36368,36369,36370,36371,36373,36374,36375,36376,36377,36378,36379,36380,36384,36385,36388,36389,36390,36391,36392,36395,36397,36400,36402,36403,36404,36406,36407,36408,36411,36412,36414,36415,36419,36421,36422,36428,36429,36430,36431,36432,36435,36436,36437,36438,36439,36440,36442,36443,36444,36445,36446,36447,36448,36449,36450,36451,36452,36453,36455,36456,36458,36459,36462,36465,37048,37040,37071,37061,37054,37072,37060,37063,37075,37094,37090,37084,37079,37083,37099,37103,37118,37124,37154,37150,37155,37169,37167,37177,37187,37190,21005,22850,21154,21164,21165,21182,21759,21200,21206,21232,21471,29166,30669,24308,20981,20988,39727,21430,24321,30042,24047,22348,22441,22433,22654,22716,22725,22737,22313,22316,22314,22323,22329,22318,22319,22364,22331,22338,22377,22405,22379,22406,22396,22395,22376,22381,22390,22387,22445,22436,22412,22450,22479,22439,22452,22419,22432,22485,22488,22490,22489,22482,22456,22516,22511,22520,22500,22493,36467,36469,36471,36472,36473,36474,36475,36477,36478,36480,36482,36483,36484,36486,36488,36489,36490,36491,36492,36493,36494,36497,36498,36499,36501,36502,36503,36504,36505,36506,36507,36509,36511,36512,36513,36514,36515,36516,36517,36518,36519,36520,36521,36522,36525,36526,36528,36529,36531,36532,36533,36534,36535,36536,36537,36539,36540,36541,36542,36543,36544,36545,36546,36547,36548,36549,36550,36551,36552,36553,36554,36555,36556,36557,36559,36560,36561,36562,36563,36564,36565,36566,36567,36568,36569,36570,36571,36572,36573,36574,36575,36576,36577,36578,36579,36580,22539,22541,22525,22509,22528,22558,22553,22596,22560,22629,22636,22657,22665,22682,22656,39336,40729,25087,33401,33405,33407,33423,33418,33448,33412,33422,33425,33431,33433,33451,33464,33470,33456,33480,33482,33507,33432,33463,33454,33483,33484,33473,33449,33460,33441,33450,33439,33476,33486,33444,33505,33545,33527,33508,33551,33543,33500,33524,33490,33496,33548,33531,33491,33553,33562,33542,33556,33557,33504,33493,33564,33617,33627,33628,33544,33682,33596,33588,33585,33691,33630,33583,33615,33607,33603,33631,33600,33559,33632,33581,33594,33587,33638,33637,36581,36582,36583,36584,36585,36586,36587,36588,36589,36590,36591,36592,36593,36594,36595,36596,36597,36598,36599,36600,36601,36602,36603,36604,36605,36606,36607,36608,36609,36610,36611,36612,36613,36614,36615,36616,36617,36618,36619,36620,36621,36622,36623,36624,36625,36626,36627,36628,36629,36630,36631,36632,36633,36634,36635,36636,36637,36638,36639,36640,36641,36642,36643,36644,36645,36646,36647,36648,36649,36650,36651,36652,36653,36654,36655,36656,36657,36658,36659,36660,36661,36662,36663,36664,36665,36666,36667,36668,36669,36670,36671,36672,36673,36674,36675,36676,33640,33563,33641,33644,33642,33645,33646,33712,33656,33715,33716,33696,33706,33683,33692,33669,33660,33718,33705,33661,33720,33659,33688,33694,33704,33722,33724,33729,33793,33765,33752,22535,33816,33803,33757,33789,33750,33820,33848,33809,33798,33748,33759,33807,33795,33784,33785,33770,33733,33728,33830,33776,33761,33884,33873,33882,33881,33907,33927,33928,33914,33929,33912,33852,33862,33897,33910,33932,33934,33841,33901,33985,33997,34e3,34022,33981,34003,33994,33983,33978,34016,33953,33977,33972,33943,34021,34019,34060,29965,34104,34032,34105,34079,34106,36677,36678,36679,36680,36681,36682,36683,36684,36685,36686,36687,36688,36689,36690,36691,36692,36693,36694,36695,36696,36697,36698,36699,36700,36701,36702,36703,36704,36705,36706,36707,36708,36709,36714,36736,36748,36754,36765,36768,36769,36770,36772,36773,36774,36775,36778,36780,36781,36782,36783,36786,36787,36788,36789,36791,36792,36794,36795,36796,36799,36800,36803,36806,36809,36810,36811,36812,36813,36815,36818,36822,36823,36826,36832,36833,36835,36839,36844,36847,36849,36850,36852,36853,36854,36858,36859,36860,36862,36863,36871,36872,36876,36878,36883,36885,36888,34134,34107,34047,34044,34137,34120,34152,34148,34142,34170,30626,34115,34162,34171,34212,34216,34183,34191,34169,34222,34204,34181,34233,34231,34224,34259,34241,34268,34303,34343,34309,34345,34326,34364,24318,24328,22844,22849,32823,22869,22874,22872,21263,23586,23589,23596,23604,25164,25194,25247,25275,25290,25306,25303,25326,25378,25334,25401,25419,25411,25517,25590,25457,25466,25486,25524,25453,25516,25482,25449,25518,25532,25586,25592,25568,25599,25540,25566,25550,25682,25542,25534,25669,25665,25611,25627,25632,25612,25638,25633,25694,25732,25709,25750,36889,36892,36899,36900,36901,36903,36904,36905,36906,36907,36908,36912,36913,36914,36915,36916,36919,36921,36922,36925,36927,36928,36931,36933,36934,36936,36937,36938,36939,36940,36942,36948,36949,36950,36953,36954,36956,36957,36958,36959,36960,36961,36964,36966,36967,36969,36970,36971,36972,36975,36976,36977,36978,36979,36982,36983,36984,36985,36986,36987,36988,36990,36993,36996,36997,36998,36999,37001,37002,37004,37005,37006,37007,37008,37010,37012,37014,37016,37018,37020,37022,37023,37024,37028,37029,37031,37032,37033,37035,37037,37042,37047,37052,37053,37055,37056,25722,25783,25784,25753,25786,25792,25808,25815,25828,25826,25865,25893,25902,24331,24530,29977,24337,21343,21489,21501,21481,21480,21499,21522,21526,21510,21579,21586,21587,21588,21590,21571,21537,21591,21593,21539,21554,21634,21652,21623,21617,21604,21658,21659,21636,21622,21606,21661,21712,21677,21698,21684,21714,21671,21670,21715,21716,21618,21667,21717,21691,21695,21708,21721,21722,21724,21673,21674,21668,21725,21711,21726,21787,21735,21792,21757,21780,21747,21794,21795,21775,21777,21799,21802,21863,21903,21941,21833,21869,21825,21845,21823,21840,21820,37058,37059,37062,37064,37065,37067,37068,37069,37074,37076,37077,37078,37080,37081,37082,37086,37087,37088,37091,37092,37093,37097,37098,37100,37102,37104,37105,37106,37107,37109,37110,37111,37113,37114,37115,37116,37119,37120,37121,37123,37125,37126,37127,37128,37129,37130,37131,37132,37133,37134,37135,37136,37137,37138,37139,37140,37141,37142,37143,37144,37146,37147,37148,37149,37151,37152,37153,37156,37157,37158,37159,37160,37161,37162,37163,37164,37165,37166,37168,37170,37171,37172,37173,37174,37175,37176,37178,37179,37180,37181,37182,37183,37184,37185,37186,37188,21815,21846,21877,21878,21879,21811,21808,21852,21899,21970,21891,21937,21945,21896,21889,21919,21886,21974,21905,21883,21983,21949,21950,21908,21913,21994,22007,21961,22047,21969,21995,21996,21972,21990,21981,21956,21999,21989,22002,22003,21964,21965,21992,22005,21988,36756,22046,22024,22028,22017,22052,22051,22014,22016,22055,22061,22104,22073,22103,22060,22093,22114,22105,22108,22092,22100,22150,22116,22129,22123,22139,22140,22149,22163,22191,22228,22231,22237,22241,22261,22251,22265,22271,22276,22282,22281,22300,24079,24089,24084,24081,24113,24123,24124,37189,37191,37192,37201,37203,37204,37205,37206,37208,37209,37211,37212,37215,37216,37222,37223,37224,37227,37229,37235,37242,37243,37244,37248,37249,37250,37251,37252,37254,37256,37258,37262,37263,37267,37268,37269,37270,37271,37272,37273,37276,37277,37278,37279,37280,37281,37284,37285,37286,37287,37288,37289,37291,37292,37296,37297,37298,37299,37302,37303,37304,37305,37307,37308,37309,37310,37311,37312,37313,37314,37315,37316,37317,37318,37320,37323,37328,37330,37331,37332,37333,37334,37335,37336,37337,37338,37339,37341,37342,37343,37344,37345,37346,37347,37348,37349,24119,24132,24148,24155,24158,24161,23692,23674,23693,23696,23702,23688,23704,23705,23697,23706,23708,23733,23714,23741,23724,23723,23729,23715,23745,23735,23748,23762,23780,23755,23781,23810,23811,23847,23846,23854,23844,23838,23814,23835,23896,23870,23860,23869,23916,23899,23919,23901,23915,23883,23882,23913,23924,23938,23961,23965,35955,23991,24005,24435,24439,24450,24455,24457,24460,24469,24473,24476,24488,24493,24501,24508,34914,24417,29357,29360,29364,29367,29368,29379,29377,29390,29389,29394,29416,29423,29417,29426,29428,29431,29441,29427,29443,29434,37350,37351,37352,37353,37354,37355,37356,37357,37358,37359,37360,37361,37362,37363,37364,37365,37366,37367,37368,37369,37370,37371,37372,37373,37374,37375,37376,37377,37378,37379,37380,37381,37382,37383,37384,37385,37386,37387,37388,37389,37390,37391,37392,37393,37394,37395,37396,37397,37398,37399,37400,37401,37402,37403,37404,37405,37406,37407,37408,37409,37410,37411,37412,37413,37414,37415,37416,37417,37418,37419,37420,37421,37422,37423,37424,37425,37426,37427,37428,37429,37430,37431,37432,37433,37434,37435,37436,37437,37438,37439,37440,37441,37442,37443,37444,37445,29435,29463,29459,29473,29450,29470,29469,29461,29474,29497,29477,29484,29496,29489,29520,29517,29527,29536,29548,29551,29566,33307,22821,39143,22820,22786,39267,39271,39272,39273,39274,39275,39276,39284,39287,39293,39296,39300,39303,39306,39309,39312,39313,39315,39316,39317,24192,24209,24203,24214,24229,24224,24249,24245,24254,24243,36179,24274,24273,24283,24296,24298,33210,24516,24521,24534,24527,24579,24558,24580,24545,24548,24574,24581,24582,24554,24557,24568,24601,24629,24614,24603,24591,24589,24617,24619,24586,24639,24609,24696,24697,24699,24698,24642,37446,37447,37448,37449,37450,37451,37452,37453,37454,37455,37456,37457,37458,37459,37460,37461,37462,37463,37464,37465,37466,37467,37468,37469,37470,37471,37472,37473,37474,37475,37476,37477,37478,37479,37480,37481,37482,37483,37484,37485,37486,37487,37488,37489,37490,37491,37493,37494,37495,37496,37497,37498,37499,37500,37501,37502,37503,37504,37505,37506,37507,37508,37509,37510,37511,37512,37513,37514,37515,37516,37517,37519,37520,37521,37522,37523,37524,37525,37526,37527,37528,37529,37530,37531,37532,37533,37534,37535,37536,37537,37538,37539,37540,37541,37542,37543,24682,24701,24726,24730,24749,24733,24707,24722,24716,24731,24812,24763,24753,24797,24792,24774,24794,24756,24864,24870,24853,24867,24820,24832,24846,24875,24906,24949,25004,24980,24999,25015,25044,25077,24541,38579,38377,38379,38385,38387,38389,38390,38396,38398,38403,38404,38406,38408,38410,38411,38412,38413,38415,38418,38421,38422,38423,38425,38426,20012,29247,25109,27701,27732,27740,27722,27811,27781,27792,27796,27788,27752,27753,27764,27766,27782,27817,27856,27860,27821,27895,27896,27889,27863,27826,27872,27862,27898,27883,27886,27825,27859,27887,27902,37544,37545,37546,37547,37548,37549,37551,37552,37553,37554,37555,37556,37557,37558,37559,37560,37561,37562,37563,37564,37565,37566,37567,37568,37569,37570,37571,37572,37573,37574,37575,37577,37578,37579,37580,37581,37582,37583,37584,37585,37586,37587,37588,37589,37590,37591,37592,37593,37594,37595,37596,37597,37598,37599,37600,37601,37602,37603,37604,37605,37606,37607,37608,37609,37610,37611,37612,37613,37614,37615,37616,37617,37618,37619,37620,37621,37622,37623,37624,37625,37626,37627,37628,37629,37630,37631,37632,37633,37634,37635,37636,37637,37638,37639,37640,37641,27961,27943,27916,27971,27976,27911,27908,27929,27918,27947,27981,27950,27957,27930,27983,27986,27988,27955,28049,28015,28062,28064,27998,28051,28052,27996,28e3,28028,28003,28186,28103,28101,28126,28174,28095,28128,28177,28134,28125,28121,28182,28075,28172,28078,28203,28270,28238,28267,28338,28255,28294,28243,28244,28210,28197,28228,28383,28337,28312,28384,28461,28386,28325,28327,28349,28347,28343,28375,28340,28367,28303,28354,28319,28514,28486,28487,28452,28437,28409,28463,28470,28491,28532,28458,28425,28457,28553,28557,28556,28536,28530,28540,28538,28625,37642,37643,37644,37645,37646,37647,37648,37649,37650,37651,37652,37653,37654,37655,37656,37657,37658,37659,37660,37661,37662,37663,37664,37665,37666,37667,37668,37669,37670,37671,37672,37673,37674,37675,37676,37677,37678,37679,37680,37681,37682,37683,37684,37685,37686,37687,37688,37689,37690,37691,37692,37693,37695,37696,37697,37698,37699,37700,37701,37702,37703,37704,37705,37706,37707,37708,37709,37710,37711,37712,37713,37714,37715,37716,37717,37718,37719,37720,37721,37722,37723,37724,37725,37726,37727,37728,37729,37730,37731,37732,37733,37734,37735,37736,37737,37739,28617,28583,28601,28598,28610,28641,28654,28638,28640,28655,28698,28707,28699,28729,28725,28751,28766,23424,23428,23445,23443,23461,23480,29999,39582,25652,23524,23534,35120,23536,36423,35591,36790,36819,36821,36837,36846,36836,36841,36838,36851,36840,36869,36868,36875,36902,36881,36877,36886,36897,36917,36918,36909,36911,36932,36945,36946,36944,36968,36952,36962,36955,26297,36980,36989,36994,37e3,36995,37003,24400,24407,24406,24408,23611,21675,23632,23641,23409,23651,23654,32700,24362,24361,24365,33396,24380,39739,23662,22913,22915,22925,22953,22954,22947,37740,37741,37742,37743,37744,37745,37746,37747,37748,37749,37750,37751,37752,37753,37754,37755,37756,37757,37758,37759,37760,37761,37762,37763,37764,37765,37766,37767,37768,37769,37770,37771,37772,37773,37774,37776,37777,37778,37779,37780,37781,37782,37783,37784,37785,37786,37787,37788,37789,37790,37791,37792,37793,37794,37795,37796,37797,37798,37799,37800,37801,37802,37803,37804,37805,37806,37807,37808,37809,37810,37811,37812,37813,37814,37815,37816,37817,37818,37819,37820,37821,37822,37823,37824,37825,37826,37827,37828,37829,37830,37831,37832,37833,37835,37836,37837,22935,22986,22955,22942,22948,22994,22962,22959,22999,22974,23045,23046,23005,23048,23011,23e3,23033,23052,23049,23090,23092,23057,23075,23059,23104,23143,23114,23125,23100,23138,23157,33004,23210,23195,23159,23162,23230,23275,23218,23250,23252,23224,23264,23267,23281,23254,23270,23256,23260,23305,23319,23318,23346,23351,23360,23573,23580,23386,23397,23411,23377,23379,23394,39541,39543,39544,39546,39551,39549,39552,39553,39557,39560,39562,39568,39570,39571,39574,39576,39579,39580,39581,39583,39584,39586,39587,39589,39591,32415,32417,32419,32421,32424,32425,37838,37839,37840,37841,37842,37843,37844,37845,37847,37848,37849,37850,37851,37852,37853,37854,37855,37856,37857,37858,37859,37860,37861,37862,37863,37864,37865,37866,37867,37868,37869,37870,37871,37872,37873,37874,37875,37876,37877,37878,37879,37880,37881,37882,37883,37884,37885,37886,37887,37888,37889,37890,37891,37892,37893,37894,37895,37896,37897,37898,37899,37900,37901,37902,37903,37904,37905,37906,37907,37908,37909,37910,37911,37912,37913,37914,37915,37916,37917,37918,37919,37920,37921,37922,37923,37924,37925,37926,37927,37928,37929,37930,37931,37932,37933,37934,32429,32432,32446,32448,32449,32450,32457,32459,32460,32464,32468,32471,32475,32480,32481,32488,32491,32494,32495,32497,32498,32525,32502,32506,32507,32510,32513,32514,32515,32519,32520,32523,32524,32527,32529,32530,32535,32537,32540,32539,32543,32545,32546,32547,32548,32549,32550,32551,32554,32555,32556,32557,32559,32560,32561,32562,32563,32565,24186,30079,24027,30014,37013,29582,29585,29614,29602,29599,29647,29634,29649,29623,29619,29632,29641,29640,29669,29657,39036,29706,29673,29671,29662,29626,29682,29711,29738,29787,29734,29733,29736,29744,29742,29740,37935,37936,37937,37938,37939,37940,37941,37942,37943,37944,37945,37946,37947,37948,37949,37951,37952,37953,37954,37955,37956,37957,37958,37959,37960,37961,37962,37963,37964,37965,37966,37967,37968,37969,37970,37971,37972,37973,37974,37975,37976,37977,37978,37979,37980,37981,37982,37983,37984,37985,37986,37987,37988,37989,37990,37991,37992,37993,37994,37996,37997,37998,37999,38e3,38001,38002,38003,38004,38005,38006,38007,38008,38009,38010,38011,38012,38013,38014,38015,38016,38017,38018,38019,38020,38033,38038,38040,38087,38095,38099,38100,38106,38118,38139,38172,38176,29723,29722,29761,29788,29783,29781,29785,29815,29805,29822,29852,29838,29824,29825,29831,29835,29854,29864,29865,29840,29863,29906,29882,38890,38891,38892,26444,26451,26462,26440,26473,26533,26503,26474,26483,26520,26535,26485,26536,26526,26541,26507,26487,26492,26608,26633,26584,26634,26601,26544,26636,26585,26549,26586,26547,26589,26624,26563,26552,26594,26638,26561,26621,26674,26675,26720,26721,26702,26722,26692,26724,26755,26653,26709,26726,26689,26727,26688,26686,26698,26697,26665,26805,26767,26740,26743,26771,26731,26818,26990,26876,26911,26912,26873,38183,38195,38205,38211,38216,38219,38229,38234,38240,38254,38260,38261,38263,38264,38265,38266,38267,38268,38269,38270,38272,38273,38274,38275,38276,38277,38278,38279,38280,38281,38282,38283,38284,38285,38286,38287,38288,38289,38290,38291,38292,38293,38294,38295,38296,38297,38298,38299,38300,38301,38302,38303,38304,38305,38306,38307,38308,38309,38310,38311,38312,38313,38314,38315,38316,38317,38318,38319,38320,38321,38322,38323,38324,38325,38326,38327,38328,38329,38330,38331,38332,38333,38334,38335,38336,38337,38338,38339,38340,38341,38342,38343,38344,38345,38346,38347,26916,26864,26891,26881,26967,26851,26896,26993,26937,26976,26946,26973,27012,26987,27008,27032,27e3,26932,27084,27015,27016,27086,27017,26982,26979,27001,27035,27047,27067,27051,27053,27092,27057,27073,27082,27103,27029,27104,27021,27135,27183,27117,27159,27160,27237,27122,27204,27198,27296,27216,27227,27189,27278,27257,27197,27176,27224,27260,27281,27280,27305,27287,27307,29495,29522,27521,27522,27527,27524,27538,27539,27533,27546,27547,27553,27562,36715,36717,36721,36722,36723,36725,36726,36728,36727,36729,36730,36732,36734,36737,36738,36740,36743,36747,38348,38349,38350,38351,38352,38353,38354,38355,38356,38357,38358,38359,38360,38361,38362,38363,38364,38365,38366,38367,38368,38369,38370,38371,38372,38373,38374,38375,38380,38399,38407,38419,38424,38427,38430,38432,38435,38436,38437,38438,38439,38440,38441,38443,38444,38445,38447,38448,38455,38456,38457,38458,38462,38465,38467,38474,38478,38479,38481,38482,38483,38486,38487,38488,38489,38490,38492,38493,38494,38496,38499,38501,38502,38507,38509,38510,38511,38512,38513,38515,38520,38521,38522,38523,38524,38525,38526,38527,38528,38529,38530,38531,38532,38535,38537,38538,36749,36750,36751,36760,36762,36558,25099,25111,25115,25119,25122,25121,25125,25124,25132,33255,29935,29940,29951,29967,29969,29971,25908,26094,26095,26096,26122,26137,26482,26115,26133,26112,28805,26359,26141,26164,26161,26166,26165,32774,26207,26196,26177,26191,26198,26209,26199,26231,26244,26252,26279,26269,26302,26331,26332,26342,26345,36146,36147,36150,36155,36157,36160,36165,36166,36168,36169,36167,36173,36181,36185,35271,35274,35275,35276,35278,35279,35280,35281,29294,29343,29277,29286,29295,29310,29311,29316,29323,29325,29327,29330,25352,25394,25520,38540,38542,38545,38546,38547,38549,38550,38554,38555,38557,38558,38559,38560,38561,38562,38563,38564,38565,38566,38568,38569,38570,38571,38572,38573,38574,38575,38577,38578,38580,38581,38583,38584,38586,38587,38591,38594,38595,38600,38602,38603,38608,38609,38611,38612,38614,38615,38616,38617,38618,38619,38620,38621,38622,38623,38625,38626,38627,38628,38629,38630,38631,38635,38636,38637,38638,38640,38641,38642,38644,38645,38648,38650,38651,38652,38653,38655,38658,38659,38661,38666,38667,38668,38672,38673,38674,38676,38677,38679,38680,38681,38682,38683,38685,38687,38688,25663,25816,32772,27626,27635,27645,27637,27641,27653,27655,27654,27661,27669,27672,27673,27674,27681,27689,27684,27690,27698,25909,25941,25963,29261,29266,29270,29232,34402,21014,32927,32924,32915,32956,26378,32957,32945,32939,32941,32948,32951,32999,33e3,33001,33002,32987,32962,32964,32985,32973,32983,26384,32989,33003,33009,33012,33005,33037,33038,33010,33020,26389,33042,35930,33078,33054,33068,33048,33074,33096,33100,33107,33140,33113,33114,33137,33120,33129,33148,33149,33133,33127,22605,23221,33160,33154,33169,28373,33187,33194,33228,26406,33226,33211,38689,38690,38691,38692,38693,38694,38695,38696,38697,38699,38700,38702,38703,38705,38707,38708,38709,38710,38711,38714,38715,38716,38717,38719,38720,38721,38722,38723,38724,38725,38726,38727,38728,38729,38730,38731,38732,38733,38734,38735,38736,38737,38740,38741,38743,38744,38746,38748,38749,38751,38755,38756,38758,38759,38760,38762,38763,38764,38765,38766,38767,38768,38769,38770,38773,38775,38776,38777,38778,38779,38781,38782,38783,38784,38785,38786,38787,38788,38790,38791,38792,38793,38794,38796,38798,38799,38800,38803,38805,38806,38807,38809,38810,38811,38812,38813,33217,33190,27428,27447,27449,27459,27462,27481,39121,39122,39123,39125,39129,39130,27571,24384,27586,35315,26e3,40785,26003,26044,26054,26052,26051,26060,26062,26066,26070,28800,28828,28822,28829,28859,28864,28855,28843,28849,28904,28874,28944,28947,28950,28975,28977,29043,29020,29032,28997,29042,29002,29048,29050,29080,29107,29109,29096,29088,29152,29140,29159,29177,29213,29224,28780,28952,29030,29113,25150,25149,25155,25160,25161,31035,31040,31046,31049,31067,31068,31059,31066,31074,31063,31072,31087,31079,31098,31109,31114,31130,31143,31155,24529,24528,38814,38815,38817,38818,38820,38821,38822,38823,38824,38825,38826,38828,38830,38832,38833,38835,38837,38838,38839,38840,38841,38842,38843,38844,38845,38846,38847,38848,38849,38850,38851,38852,38853,38854,38855,38856,38857,38858,38859,38860,38861,38862,38863,38864,38865,38866,38867,38868,38869,38870,38871,38872,38873,38874,38875,38876,38877,38878,38879,38880,38881,38882,38883,38884,38885,38888,38894,38895,38896,38897,38898,38900,38903,38904,38905,38906,38907,38908,38909,38910,38911,38912,38913,38914,38915,38916,38917,38918,38919,38920,38921,38922,38923,38924,38925,38926,24636,24669,24666,24679,24641,24665,24675,24747,24838,24845,24925,25001,24989,25035,25041,25094,32896,32895,27795,27894,28156,30710,30712,30720,30729,30743,30744,30737,26027,30765,30748,30749,30777,30778,30779,30751,30780,30757,30764,30755,30761,30798,30829,30806,30807,30758,30800,30791,30796,30826,30875,30867,30874,30855,30876,30881,30883,30898,30905,30885,30932,30937,30921,30956,30962,30981,30964,30995,31012,31006,31028,40859,40697,40699,40700,30449,30468,30477,30457,30471,30472,30490,30498,30489,30509,30502,30517,30520,30544,30545,30535,30531,30554,30568,38927,38928,38929,38930,38931,38932,38933,38934,38935,38936,38937,38938,38939,38940,38941,38942,38943,38944,38945,38946,38947,38948,38949,38950,38951,38952,38953,38954,38955,38956,38957,38958,38959,38960,38961,38962,38963,38964,38965,38966,38967,38968,38969,38970,38971,38972,38973,38974,38975,38976,38977,38978,38979,38980,38981,38982,38983,38984,38985,38986,38987,38988,38989,38990,38991,38992,38993,38994,38995,38996,38997,38998,38999,39e3,39001,39002,39003,39004,39005,39006,39007,39008,39009,39010,39011,39012,39013,39014,39015,39016,39017,39018,39019,39020,39021,39022,30562,30565,30591,30605,30589,30592,30604,30609,30623,30624,30640,30645,30653,30010,30016,30030,30027,30024,30043,30066,30073,30083,32600,32609,32607,35400,32616,32628,32625,32633,32641,32638,30413,30437,34866,38021,38022,38023,38027,38026,38028,38029,38031,38032,38036,38039,38037,38042,38043,38044,38051,38052,38059,38058,38061,38060,38063,38064,38066,38068,38070,38071,38072,38073,38074,38076,38077,38079,38084,38088,38089,38090,38091,38092,38093,38094,38096,38097,38098,38101,38102,38103,38105,38104,38107,38110,38111,38112,38114,38116,38117,38119,38120,38122,39023,39024,39025,39026,39027,39028,39051,39054,39058,39061,39065,39075,39080,39081,39082,39083,39084,39085,39086,39087,39088,39089,39090,39091,39092,39093,39094,39095,39096,39097,39098,39099,39100,39101,39102,39103,39104,39105,39106,39107,39108,39109,39110,39111,39112,39113,39114,39115,39116,39117,39119,39120,39124,39126,39127,39131,39132,39133,39136,39137,39138,39139,39140,39141,39142,39145,39146,39147,39148,39149,39150,39151,39152,39153,39154,39155,39156,39157,39158,39159,39160,39161,39162,39163,39164,39165,39166,39167,39168,39169,39170,39171,39172,39173,39174,39175,38121,38123,38126,38127,38131,38132,38133,38135,38137,38140,38141,38143,38147,38146,38150,38151,38153,38154,38157,38158,38159,38162,38163,38164,38165,38166,38168,38171,38173,38174,38175,38178,38186,38187,38185,38188,38193,38194,38196,38198,38199,38200,38204,38206,38207,38210,38197,38212,38213,38214,38217,38220,38222,38223,38226,38227,38228,38230,38231,38232,38233,38235,38238,38239,38237,38241,38242,38244,38245,38246,38247,38248,38249,38250,38251,38252,38255,38257,38258,38259,38202,30695,30700,38601,31189,31213,31203,31211,31238,23879,31235,31234,31262,31252,39176,39177,39178,39179,39180,39182,39183,39185,39186,39187,39188,39189,39190,39191,39192,39193,39194,39195,39196,39197,39198,39199,39200,39201,39202,39203,39204,39205,39206,39207,39208,39209,39210,39211,39212,39213,39215,39216,39217,39218,39219,39220,39221,39222,39223,39224,39225,39226,39227,39228,39229,39230,39231,39232,39233,39234,39235,39236,39237,39238,39239,39240,39241,39242,39243,39244,39245,39246,39247,39248,39249,39250,39251,39254,39255,39256,39257,39258,39259,39260,39261,39262,39263,39264,39265,39266,39268,39270,39283,39288,39289,39291,39294,39298,39299,39305,31289,31287,31313,40655,39333,31344,30344,30350,30355,30361,30372,29918,29920,29996,40480,40482,40488,40489,40490,40491,40492,40498,40497,40502,40504,40503,40505,40506,40510,40513,40514,40516,40518,40519,40520,40521,40523,40524,40526,40529,40533,40535,40538,40539,40540,40542,40547,40550,40551,40552,40553,40554,40555,40556,40561,40557,40563,30098,30100,30102,30112,30109,30124,30115,30131,30132,30136,30148,30129,30128,30147,30146,30166,30157,30179,30184,30182,30180,30187,30183,30211,30193,30204,30207,30224,30208,30213,30220,30231,30218,30245,30232,30229,30233,39308,39310,39322,39323,39324,39325,39326,39327,39328,39329,39330,39331,39332,39334,39335,39337,39338,39339,39340,39341,39342,39343,39344,39345,39346,39347,39348,39349,39350,39351,39352,39353,39354,39355,39356,39357,39358,39359,39360,39361,39362,39363,39364,39365,39366,39367,39368,39369,39370,39371,39372,39373,39374,39375,39376,39377,39378,39379,39380,39381,39382,39383,39384,39385,39386,39387,39388,39389,39390,39391,39392,39393,39394,39395,39396,39397,39398,39399,39400,39401,39402,39403,39404,39405,39406,39407,39408,39409,39410,39411,39412,39413,39414,39415,39416,39417,30235,30268,30242,30240,30272,30253,30256,30271,30261,30275,30270,30259,30285,30302,30292,30300,30294,30315,30319,32714,31462,31352,31353,31360,31366,31368,31381,31398,31392,31404,31400,31405,31411,34916,34921,34930,34941,34943,34946,34978,35014,34999,35004,35017,35042,35022,35043,35045,35057,35098,35068,35048,35070,35056,35105,35097,35091,35099,35082,35124,35115,35126,35137,35174,35195,30091,32997,30386,30388,30684,32786,32788,32790,32796,32800,32802,32805,32806,32807,32809,32808,32817,32779,32821,32835,32838,32845,32850,32873,32881,35203,39032,39040,39043,39418,39419,39420,39421,39422,39423,39424,39425,39426,39427,39428,39429,39430,39431,39432,39433,39434,39435,39436,39437,39438,39439,39440,39441,39442,39443,39444,39445,39446,39447,39448,39449,39450,39451,39452,39453,39454,39455,39456,39457,39458,39459,39460,39461,39462,39463,39464,39465,39466,39467,39468,39469,39470,39471,39472,39473,39474,39475,39476,39477,39478,39479,39480,39481,39482,39483,39484,39485,39486,39487,39488,39489,39490,39491,39492,39493,39494,39495,39496,39497,39498,39499,39500,39501,39502,39503,39504,39505,39506,39507,39508,39509,39510,39511,39512,39513,39049,39052,39053,39055,39060,39066,39067,39070,39071,39073,39074,39077,39078,34381,34388,34412,34414,34431,34426,34428,34427,34472,34445,34443,34476,34461,34471,34467,34474,34451,34473,34486,34500,34485,34510,34480,34490,34481,34479,34505,34511,34484,34537,34545,34546,34541,34547,34512,34579,34526,34548,34527,34520,34513,34563,34567,34552,34568,34570,34573,34569,34595,34619,34590,34597,34606,34586,34622,34632,34612,34609,34601,34615,34623,34690,34594,34685,34686,34683,34656,34672,34636,34670,34699,34643,34659,34684,34660,34649,34661,34707,34735,34728,34770,39514,39515,39516,39517,39518,39519,39520,39521,39522,39523,39524,39525,39526,39527,39528,39529,39530,39531,39538,39555,39561,39565,39566,39572,39573,39577,39590,39593,39594,39595,39596,39597,39598,39599,39602,39603,39604,39605,39609,39611,39613,39614,39615,39619,39620,39622,39623,39624,39625,39626,39629,39630,39631,39632,39634,39636,39637,39638,39639,39641,39642,39643,39644,39645,39646,39648,39650,39651,39652,39653,39655,39656,39657,39658,39660,39662,39664,39665,39666,39667,39668,39669,39670,39671,39672,39674,39676,39677,39678,39679,39680,39681,39682,39684,39685,39686,34758,34696,34693,34733,34711,34691,34731,34789,34732,34741,34739,34763,34771,34749,34769,34752,34762,34779,34794,34784,34798,34838,34835,34814,34826,34843,34849,34873,34876,32566,32578,32580,32581,33296,31482,31485,31496,31491,31492,31509,31498,31531,31503,31559,31544,31530,31513,31534,31537,31520,31525,31524,31539,31550,31518,31576,31578,31557,31605,31564,31581,31584,31598,31611,31586,31602,31601,31632,31654,31655,31672,31660,31645,31656,31621,31658,31644,31650,31659,31668,31697,31681,31692,31709,31706,31717,31718,31722,31756,31742,31740,31759,31766,31755,39687,39689,39690,39691,39692,39693,39694,39696,39697,39698,39700,39701,39702,39703,39704,39705,39706,39707,39708,39709,39710,39712,39713,39714,39716,39717,39718,39719,39720,39721,39722,39723,39724,39725,39726,39728,39729,39731,39732,39733,39734,39735,39736,39737,39738,39741,39742,39743,39744,39750,39754,39755,39756,39758,39760,39762,39763,39765,39766,39767,39768,39769,39770,39771,39772,39773,39774,39775,39776,39777,39778,39779,39780,39781,39782,39783,39784,39785,39786,39787,39788,39789,39790,39791,39792,39793,39794,39795,39796,39797,39798,39799,39800,39801,39802,39803,31775,31786,31782,31800,31809,31808,33278,33281,33282,33284,33260,34884,33313,33314,33315,33325,33327,33320,33323,33336,33339,33331,33332,33342,33348,33353,33355,33359,33370,33375,33384,34942,34949,34952,35032,35039,35166,32669,32671,32679,32687,32688,32690,31868,25929,31889,31901,31900,31902,31906,31922,31932,31933,31937,31943,31948,31949,31944,31941,31959,31976,33390,26280,32703,32718,32725,32741,32737,32742,32745,32750,32755,31992,32119,32166,32174,32327,32411,40632,40628,36211,36228,36244,36241,36273,36199,36205,35911,35913,37194,37200,37198,37199,37220,39804,39805,39806,39807,39808,39809,39810,39811,39812,39813,39814,39815,39816,39817,39818,39819,39820,39821,39822,39823,39824,39825,39826,39827,39828,39829,39830,39831,39832,39833,39834,39835,39836,39837,39838,39839,39840,39841,39842,39843,39844,39845,39846,39847,39848,39849,39850,39851,39852,39853,39854,39855,39856,39857,39858,39859,39860,39861,39862,39863,39864,39865,39866,39867,39868,39869,39870,39871,39872,39873,39874,39875,39876,39877,39878,39879,39880,39881,39882,39883,39884,39885,39886,39887,39888,39889,39890,39891,39892,39893,39894,39895,39896,39897,39898,39899,37218,37217,37232,37225,37231,37245,37246,37234,37236,37241,37260,37253,37264,37261,37265,37282,37283,37290,37293,37294,37295,37301,37300,37306,35925,40574,36280,36331,36357,36441,36457,36277,36287,36284,36282,36292,36310,36311,36314,36318,36302,36303,36315,36294,36332,36343,36344,36323,36345,36347,36324,36361,36349,36372,36381,36383,36396,36398,36387,36399,36410,36416,36409,36405,36413,36401,36425,36417,36418,36433,36434,36426,36464,36470,36476,36463,36468,36485,36495,36500,36496,36508,36510,35960,35970,35978,35973,35992,35988,26011,35286,35294,35290,35292,39900,39901,39902,39903,39904,39905,39906,39907,39908,39909,39910,39911,39912,39913,39914,39915,39916,39917,39918,39919,39920,39921,39922,39923,39924,39925,39926,39927,39928,39929,39930,39931,39932,39933,39934,39935,39936,39937,39938,39939,39940,39941,39942,39943,39944,39945,39946,39947,39948,39949,39950,39951,39952,39953,39954,39955,39956,39957,39958,39959,39960,39961,39962,39963,39964,39965,39966,39967,39968,39969,39970,39971,39972,39973,39974,39975,39976,39977,39978,39979,39980,39981,39982,39983,39984,39985,39986,39987,39988,39989,39990,39991,39992,39993,39994,39995,35301,35307,35311,35390,35622,38739,38633,38643,38639,38662,38657,38664,38671,38670,38698,38701,38704,38718,40832,40835,40837,40838,40839,40840,40841,40842,40844,40702,40715,40717,38585,38588,38589,38606,38610,30655,38624,37518,37550,37576,37694,37738,37834,37775,37950,37995,40063,40066,40069,40070,40071,40072,31267,40075,40078,40080,40081,40082,40084,40085,40090,40091,40094,40095,40096,40097,40098,40099,40101,40102,40103,40104,40105,40107,40109,40110,40112,40113,40114,40115,40116,40117,40118,40119,40122,40123,40124,40125,40132,40133,40134,40135,40138,40139,39996,39997,39998,39999,4e4,40001,40002,40003,40004,40005,40006,40007,40008,40009,40010,40011,40012,40013,40014,40015,40016,40017,40018,40019,40020,40021,40022,40023,40024,40025,40026,40027,40028,40029,40030,40031,40032,40033,40034,40035,40036,40037,40038,40039,40040,40041,40042,40043,40044,40045,40046,40047,40048,40049,40050,40051,40052,40053,40054,40055,40056,40057,40058,40059,40061,40062,40064,40067,40068,40073,40074,40076,40079,40083,40086,40087,40088,40089,40093,40106,40108,40111,40121,40126,40127,40128,40129,40130,40136,40137,40145,40146,40154,40155,40160,40161,40140,40141,40142,40143,40144,40147,40148,40149,40151,40152,40153,40156,40157,40159,40162,38780,38789,38801,38802,38804,38831,38827,38819,38834,38836,39601,39600,39607,40536,39606,39610,39612,39617,39616,39621,39618,39627,39628,39633,39749,39747,39751,39753,39752,39757,39761,39144,39181,39214,39253,39252,39647,39649,39654,39663,39659,39675,39661,39673,39688,39695,39699,39711,39715,40637,40638,32315,40578,40583,40584,40587,40594,37846,40605,40607,40667,40668,40669,40672,40671,40674,40681,40679,40677,40682,40687,40738,40748,40751,40761,40759,40765,40766,40772,40163,40164,40165,40166,40167,40168,40169,40170,40171,40172,40173,40174,40175,40176,40177,40178,40179,40180,40181,40182,40183,40184,40185,40186,40187,40188,40189,40190,40191,40192,40193,40194,40195,40196,40197,40198,40199,40200,40201,40202,40203,40204,40205,40206,40207,40208,40209,40210,40211,40212,40213,40214,40215,40216,40217,40218,40219,40220,40221,40222,40223,40224,40225,40226,40227,40228,40229,40230,40231,40232,40233,40234,40235,40236,40237,40238,40239,40240,40241,40242,40243,40244,40245,40246,40247,40248,40249,40250,40251,40252,40253,40254,40255,40256,40257,40258,57908,57909,57910,57911,57912,57913,57914,57915,57916,57917,57918,57919,57920,57921,57922,57923,57924,57925,57926,57927,57928,57929,57930,57931,57932,57933,57934,57935,57936,57937,57938,57939,57940,57941,57942,57943,57944,57945,57946,57947,57948,57949,57950,57951,57952,57953,57954,57955,57956,57957,57958,57959,57960,57961,57962,57963,57964,57965,57966,57967,57968,57969,57970,57971,57972,57973,57974,57975,57976,57977,57978,57979,57980,57981,57982,57983,57984,57985,57986,57987,57988,57989,57990,57991,57992,57993,57994,57995,57996,57997,57998,57999,58e3,58001,40259,40260,40261,40262,40263,40264,40265,40266,40267,40268,40269,40270,40271,40272,40273,40274,40275,40276,40277,40278,40279,40280,40281,40282,40283,40284,40285,40286,40287,40288,40289,40290,40291,40292,40293,40294,40295,40296,40297,40298,40299,40300,40301,40302,40303,40304,40305,40306,40307,40308,40309,40310,40311,40312,40313,40314,40315,40316,40317,40318,40319,40320,40321,40322,40323,40324,40325,40326,40327,40328,40329,40330,40331,40332,40333,40334,40335,40336,40337,40338,40339,40340,40341,40342,40343,40344,40345,40346,40347,40348,40349,40350,40351,40352,40353,40354,58002,58003,58004,58005,58006,58007,58008,58009,58010,58011,58012,58013,58014,58015,58016,58017,58018,58019,58020,58021,58022,58023,58024,58025,58026,58027,58028,58029,58030,58031,58032,58033,58034,58035,58036,58037,58038,58039,58040,58041,58042,58043,58044,58045,58046,58047,58048,58049,58050,58051,58052,58053,58054,58055,58056,58057,58058,58059,58060,58061,58062,58063,58064,58065,58066,58067,58068,58069,58070,58071,58072,58073,58074,58075,58076,58077,58078,58079,58080,58081,58082,58083,58084,58085,58086,58087,58088,58089,58090,58091,58092,58093,58094,58095,40355,40356,40357,40358,40359,40360,40361,40362,40363,40364,40365,40366,40367,40368,40369,40370,40371,40372,40373,40374,40375,40376,40377,40378,40379,40380,40381,40382,40383,40384,40385,40386,40387,40388,40389,40390,40391,40392,40393,40394,40395,40396,40397,40398,40399,40400,40401,40402,40403,40404,40405,40406,40407,40408,40409,40410,40411,40412,40413,40414,40415,40416,40417,40418,40419,40420,40421,40422,40423,40424,40425,40426,40427,40428,40429,40430,40431,40432,40433,40434,40435,40436,40437,40438,40439,40440,40441,40442,40443,40444,40445,40446,40447,40448,40449,40450,58096,58097,58098,58099,58100,58101,58102,58103,58104,58105,58106,58107,58108,58109,58110,58111,58112,58113,58114,58115,58116,58117,58118,58119,58120,58121,58122,58123,58124,58125,58126,58127,58128,58129,58130,58131,58132,58133,58134,58135,58136,58137,58138,58139,58140,58141,58142,58143,58144,58145,58146,58147,58148,58149,58150,58151,58152,58153,58154,58155,58156,58157,58158,58159,58160,58161,58162,58163,58164,58165,58166,58167,58168,58169,58170,58171,58172,58173,58174,58175,58176,58177,58178,58179,58180,58181,58182,58183,58184,58185,58186,58187,58188,58189,40451,40452,40453,40454,40455,40456,40457,40458,40459,40460,40461,40462,40463,40464,40465,40466,40467,40468,40469,40470,40471,40472,40473,40474,40475,40476,40477,40478,40484,40487,40494,40496,40500,40507,40508,40512,40525,40528,40530,40531,40532,40534,40537,40541,40543,40544,40545,40546,40549,40558,40559,40562,40564,40565,40566,40567,40568,40569,40570,40571,40572,40573,40576,40577,40579,40580,40581,40582,40585,40586,40588,40589,40590,40591,40592,40593,40596,40597,40598,40599,40600,40601,40602,40603,40604,40606,40608,40609,40610,40611,40612,40613,40615,40616,40617,40618,58190,58191,58192,58193,58194,58195,58196,58197,58198,58199,58200,58201,58202,58203,58204,58205,58206,58207,58208,58209,58210,58211,58212,58213,58214,58215,58216,58217,58218,58219,58220,58221,58222,58223,58224,58225,58226,58227,58228,58229,58230,58231,58232,58233,58234,58235,58236,58237,58238,58239,58240,58241,58242,58243,58244,58245,58246,58247,58248,58249,58250,58251,58252,58253,58254,58255,58256,58257,58258,58259,58260,58261,58262,58263,58264,58265,58266,58267,58268,58269,58270,58271,58272,58273,58274,58275,58276,58277,58278,58279,58280,58281,58282,58283,40619,40620,40621,40622,40623,40624,40625,40626,40627,40629,40630,40631,40633,40634,40636,40639,40640,40641,40642,40643,40645,40646,40647,40648,40650,40651,40652,40656,40658,40659,40661,40662,40663,40665,40666,40670,40673,40675,40676,40678,40680,40683,40684,40685,40686,40688,40689,40690,40691,40692,40693,40694,40695,40696,40698,40701,40703,40704,40705,40706,40707,40708,40709,40710,40711,40712,40713,40714,40716,40719,40721,40722,40724,40725,40726,40728,40730,40731,40732,40733,40734,40735,40737,40739,40740,40741,40742,40743,40744,40745,40746,40747,40749,40750,40752,40753,58284,58285,58286,58287,58288,58289,58290,58291,58292,58293,58294,58295,58296,58297,58298,58299,58300,58301,58302,58303,58304,58305,58306,58307,58308,58309,58310,58311,58312,58313,58314,58315,58316,58317,58318,58319,58320,58321,58322,58323,58324,58325,58326,58327,58328,58329,58330,58331,58332,58333,58334,58335,58336,58337,58338,58339,58340,58341,58342,58343,58344,58345,58346,58347,58348,58349,58350,58351,58352,58353,58354,58355,58356,58357,58358,58359,58360,58361,58362,58363,58364,58365,58366,58367,58368,58369,58370,58371,58372,58373,58374,58375,58376,58377,40754,40755,40756,40757,40758,40760,40762,40764,40767,40768,40769,40770,40771,40773,40774,40775,40776,40777,40778,40779,40780,40781,40782,40783,40786,40787,40788,40789,40790,40791,40792,40793,40794,40795,40796,40797,40798,40799,40800,40801,40802,40803,40804,40805,40806,40807,40808,40809,40810,40811,40812,40813,40814,40815,40816,40817,40818,40819,40820,40821,40822,40823,40824,40825,40826,40827,40828,40829,40830,40833,40834,40845,40846,40847,40848,40849,40850,40851,40852,40853,40854,40855,40856,40860,40861,40862,40865,40866,40867,40868,40869,63788,63865,63893,63975,63985,58378,58379,58380,58381,58382,58383,58384,58385,58386,58387,58388,58389,58390,58391,58392,58393,58394,58395,58396,58397,58398,58399,58400,58401,58402,58403,58404,58405,58406,58407,58408,58409,58410,58411,58412,58413,58414,58415,58416,58417,58418,58419,58420,58421,58422,58423,58424,58425,58426,58427,58428,58429,58430,58431,58432,58433,58434,58435,58436,58437,58438,58439,58440,58441,58442,58443,58444,58445,58446,58447,58448,58449,58450,58451,58452,58453,58454,58455,58456,58457,58458,58459,58460,58461,58462,58463,58464,58465,58466,58467,58468,58469,58470,58471,64012,64013,64014,64015,64017,64019,64020,64024,64031,64032,64033,64035,64036,64039,64040,64041,11905,59414,59415,59416,11908,13427,13383,11912,11915,59422,13726,13850,13838,11916,11927,14702,14616,59430,14799,14815,14963,14800,59435,59436,15182,15470,15584,11943,59441,59442,11946,16470,16735,11950,17207,11955,11958,11959,59451,17329,17324,11963,17373,17622,18017,17996,59459,18211,18217,18300,18317,11978,18759,18810,18813,18818,18819,18821,18822,18847,18843,18871,18870,59476,59477,19619,19615,19616,19617,19575,19618,19731,19732,19733,19734,19735,19736,19737,19886,59492,58472,58473,58474,58475,58476,58477,58478,58479,58480,58481,58482,58483,58484,58485,58486,58487,58488,58489,58490,58491,58492,58493,58494,58495,58496,58497,58498,58499,58500,58501,58502,58503,58504,58505,58506,58507,58508,58509,58510,58511,58512,58513,58514,58515,58516,58517,58518,58519,58520,58521,58522,58523,58524,58525,58526,58527,58528,58529,58530,58531,58532,58533,58534,58535,58536,58537,58538,58539,58540,58541,58542,58543,58544,58545,58546,58547,58548,58549,58550,58551,58552,58553,58554,58555,58556,58557,58558,58559,58560,58561,58562,58563,58564,58565],
"gb18030-ranges":[[0,128],[36,165],[38,169],[45,178],[50,184],[81,216],[89,226],[95,235],[96,238],[100,244],[103,248],[104,251],[105,253],[109,258],[126,276],[133,284],[148,300],[172,325],[175,329],[179,334],[208,364],[306,463],[307,465],[308,467],[309,469],[310,471],[311,473],[312,475],[313,477],[341,506],[428,594],[443,610],[544,712],[545,716],[558,730],[741,930],[742,938],[749,962],[750,970],[805,1026],[819,1104],[820,1106],[7922,8209],[7924,8215],[7925,8218],[7927,8222],[7934,8231],[7943,8241],[7944,8244],[7945,8246],[7950,8252],[8062,8365],[8148,8452],[8149,8454],[8152,8458],[8164,8471],[8174,8482],[8236,8556],[8240,8570],[8262,8596],[8264,8602],[8374,8713],[8380,8720],[8381,8722],[8384,8726],[8388,8731],[8390,8737],[8392,8740],[8393,8742],[8394,8748],[8396,8751],[8401,8760],[8406,8766],[8416,8777],[8419,8781],[8424,8787],[8437,8802],[8439,8808],[8445,8816],[8482,8854],[8485,8858],[8496,8870],[8521,8896],[8603,8979],[8936,9322],[8946,9372],[9046,9548],[9050,9588],[9063,9616],[9066,9622],[9076,9634],[9092,9652],[9100,9662],[9108,9672],[9111,9676],[9113,9680],[9131,9702],[9162,9735],[9164,9738],[9218,9793],[9219,9795],[11329,11906],[11331,11909],[11334,11913],[11336,11917],[11346,11928],[11361,11944],[11363,11947],[11366,11951],[11370,11956],[11372,11960],[11375,11964],[11389,11979],[11682,12284],[11686,12292],[11687,12312],[11692,12319],[11694,12330],[11714,12351],[11716,12436],[11723,12447],[11725,12535],[11730,12543],[11736,12586],[11982,12842],[11989,12850],[12102,12964],[12336,13200],[12348,13215],[12350,13218],[12384,13253],[12393,13263],[12395,13267],[12397,13270],[12510,13384],[12553,13428],[12851,13727],[12962,13839],[12973,13851],[13738,14617],[13823,14703],[13919,14801],[13933,14816],[14080,14964],[14298,15183],[14585,15471],[14698,15585],[15583,16471],[15847,16736],[16318,17208],[16434,17325],[16438,17330],[16481,17374],[16729,17623],[17102,17997],[17122,18018],[17315,18212],[17320,18218],[17402,18301],[17418,18318],[17859,18760],[17909,18811],[17911,18814],[17915,18820],[17916,18823],[17936,18844],[17939,18848],[17961,18872],[18664,19576],[18703,19620],[18814,19738],[18962,19887],[19043,40870],[33469,59244],[33470,59336],[33471,59367],[33484,59413],[33485,59417],[33490,59423],[33497,59431],[33501,59437],[33505,59443],[33513,59452],[33520,59460],[33536,59478],[33550,59493],[37845,63789],[37921,63866],[37948,63894],[38029,63976],[38038,63986],[38064,64016],[38065,64018],[38066,64021],[38069,64025],[38075,64034],[38076,64037],[38078,64042],[39108,65074],[39109,65093],[39113,65107],[39114,65112],[39115,65127],[39116,65132],[39265,65375],[39394,65510],[189e3,65536]],jis0208:[12288,12289,12290,65292,65294,12539,65306,65307,65311,65281,12443,12444,180,65344,168,65342,65507,65343,12541,12542,12445,12446,12291,20189,12293,12294,12295,12540,8213,8208,65295,65340,65374,8741,65372,8230,8229,8216,8217,8220,8221,65288,65289,12308,12309,65339,65341,65371,65373,12296,12297,12298,12299,12300,12301,12302,12303,12304,12305,65291,65293,177,215,247,65309,8800,65308,65310,8806,8807,8734,8756,9794,9792,176,8242,8243,8451,65509,65284,65504,65505,65285,65283,65286,65290,65312,167,9734,9733,9675,9679,9678,9671,9670,9633,9632,9651,9650,9661,9660,8251,12306,8594,8592,8593,8595,12307,null,null,null,null,null,null,null,null,null,null,null,8712,8715,8838,8839,8834,8835,8746,8745,null,null,null,null,null,null,null,null,8743,8744,65506,8658,8660,8704,8707,null,null,null,null,null,null,null,null,null,null,null,8736,8869,8978,8706,8711,8801,8786,8810,8811,8730,8765,8733,8757,8747,8748,null,null,null,null,null,null,null,8491,8240,9839,9837,9834,8224,8225,182,null,null,null,null,9711,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,null,null,null,null,null,null,null,65313,65314,65315,65316,65317,65318,65319,65320,65321,65322,65323,65324,65325,65326,65327,65328,65329,65330,65331,65332,65333,65334,65335,65336,65337,65338,null,null,null,null,null,null,65345,65346,65347,65348,65349,65350,65351,65352,65353,65354,65355,65356,65357,65358,65359,65360,65361,65362,65363,65364,65365,65366,65367,65368,65369,65370,null,null,null,null,12353,12354,12355,12356,12357,12358,12359,12360,12361,12362,12363,12364,12365,12366,12367,12368,12369,12370,12371,12372,12373,12374,12375,12376,12377,12378,12379,12380,12381,12382,12383,12384,12385,12386,12387,12388,12389,12390,12391,12392,12393,12394,12395,12396,12397,12398,12399,12400,12401,12402,12403,12404,12405,12406,12407,12408,12409,12410,12411,12412,12413,12414,12415,12416,12417,12418,12419,12420,12421,12422,12423,12424,12425,12426,12427,12428,12429,12430,12431,12432,12433,12434,12435,null,null,null,null,null,null,null,null,null,null,null,12449,12450,12451,12452,12453,12454,12455,12456,12457,12458,12459,12460,12461,12462,12463,12464,12465,12466,12467,12468,12469,12470,12471,12472,12473,12474,12475,12476,12477,12478,12479,12480,12481,12482,12483,12484,12485,12486,12487,12488,12489,12490,12491,12492,12493,12494,12495,12496,12497,12498,12499,12500,12501,12502,12503,12504,12505,12506,12507,12508,12509,12510,12511,12512,12513,12514,12515,12516,12517,12518,12519,12520,12521,12522,12523,12524,12525,12526,12527,12528,12529,12530,12531,12532,12533,12534,null,null,null,null,null,null,null,null,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,null,null,null,null,null,null,null,null,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,null,null,null,null,null,null,null,null,null,null,null,null,null,9472,9474,9484,9488,9496,9492,9500,9516,9508,9524,9532,9473,9475,9487,9491,9499,9495,9507,9523,9515,9531,9547,9504,9519,9512,9527,9535,9501,9520,9509,9528,9538,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,9322,9323,9324,9325,9326,9327,9328,9329,9330,9331,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,null,13129,13076,13090,13133,13080,13095,13059,13110,13137,13143,13069,13094,13091,13099,13130,13115,13212,13213,13214,13198,13199,13252,13217,null,null,null,null,null,null,null,null,13179,12317,12319,8470,13261,8481,12964,12965,12966,12967,12968,12849,12850,12857,13182,13181,13180,8786,8801,8747,8750,8721,8730,8869,8736,8735,8895,8757,8745,8746,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,20124,21782,23043,38463,21696,24859,25384,23030,36898,33909,33564,31312,24746,25569,28197,26093,33894,33446,39925,26771,22311,26017,25201,23451,22992,34427,39156,32098,32190,39822,25110,31903,34999,23433,24245,25353,26263,26696,38343,38797,26447,20197,20234,20301,20381,20553,22258,22839,22996,23041,23561,24799,24847,24944,26131,26885,28858,30031,30064,31227,32173,32239,32963,33806,34915,35586,36949,36986,21307,20117,20133,22495,32946,37057,30959,19968,22769,28322,36920,31282,33576,33419,39983,20801,21360,21693,21729,22240,23035,24341,39154,28139,32996,34093,38498,38512,38560,38907,21515,21491,23431,28879,32701,36802,38632,21359,40284,31418,19985,30867,33276,28198,22040,21764,27421,34074,39995,23013,21417,28006,29916,38287,22082,20113,36939,38642,33615,39180,21473,21942,23344,24433,26144,26355,26628,27704,27891,27945,29787,30408,31310,38964,33521,34907,35424,37613,28082,30123,30410,39365,24742,35585,36234,38322,27022,21421,20870,22290,22576,22852,23476,24310,24616,25513,25588,27839,28436,28814,28948,29017,29141,29503,32257,33398,33489,34199,36960,37467,40219,22633,26044,27738,29989,20985,22830,22885,24448,24540,25276,26106,27178,27431,27572,29579,32705,35158,40236,40206,40644,23713,27798,33659,20740,23627,25014,33222,26742,29281,20057,20474,21368,24681,28201,31311,38899,19979,21270,20206,20309,20285,20385,20339,21152,21487,22025,22799,23233,23478,23521,31185,26247,26524,26550,27468,27827,28779,29634,31117,31166,31292,31623,33457,33499,33540,33655,33775,33747,34662,35506,22057,36008,36838,36942,38686,34442,20420,23784,25105,29273,30011,33253,33469,34558,36032,38597,39187,39381,20171,20250,35299,22238,22602,22730,24315,24555,24618,24724,24674,25040,25106,25296,25913,39745,26214,26800,28023,28784,30028,30342,32117,33445,34809,38283,38542,35997,20977,21182,22806,21683,23475,23830,24936,27010,28079,30861,33995,34903,35442,37799,39608,28012,39336,34521,22435,26623,34510,37390,21123,22151,21508,24275,25313,25785,26684,26680,27579,29554,30906,31339,35226,35282,36203,36611,37101,38307,38548,38761,23398,23731,27005,38989,38990,25499,31520,27179,27263,26806,39949,28511,21106,21917,24688,25324,27963,28167,28369,33883,35088,36676,19988,39993,21494,26907,27194,38788,26666,20828,31427,33970,37340,37772,22107,40232,26658,33541,33841,31909,21e3,33477,29926,20094,20355,20896,23506,21002,21208,21223,24059,21914,22570,23014,23436,23448,23515,24178,24185,24739,24863,24931,25022,25563,25954,26577,26707,26874,27454,27475,27735,28450,28567,28485,29872,29976,30435,30475,31487,31649,31777,32233,32566,32752,32925,33382,33694,35251,35532,36011,36996,37969,38291,38289,38306,38501,38867,39208,33304,20024,21547,23736,24012,29609,30284,30524,23721,32747,36107,38593,38929,38996,39e3,20225,20238,21361,21916,22120,22522,22855,23305,23492,23696,24076,24190,24524,25582,26426,26071,26082,26399,26827,26820,27231,24112,27589,27671,27773,30079,31048,23395,31232,32e3,24509,35215,35352,36020,36215,36556,36637,39138,39438,39740,20096,20605,20736,22931,23452,25135,25216,25836,27450,29344,30097,31047,32681,34811,35516,35696,25516,33738,38816,21513,21507,21931,26708,27224,35440,30759,26485,40653,21364,23458,33050,34384,36870,19992,20037,20167,20241,21450,21560,23470,24339,24613,25937,26429,27714,27762,27875,28792,29699,31350,31406,31496,32026,31998,32102,26087,29275,21435,23621,24040,25298,25312,25369,28192,34394,35377,36317,37624,28417,31142,39770,20136,20139,20140,20379,20384,20689,20807,31478,20849,20982,21332,21281,21375,21483,21932,22659,23777,24375,24394,24623,24656,24685,25375,25945,27211,27841,29378,29421,30703,33016,33029,33288,34126,37111,37857,38911,39255,39514,20208,20957,23597,26241,26989,23616,26354,26997,29577,26704,31873,20677,21220,22343,24062,37670,26020,27427,27453,29748,31105,31165,31563,32202,33465,33740,34943,35167,35641,36817,37329,21535,37504,20061,20534,21477,21306,29399,29590,30697,33510,36527,39366,39368,39378,20855,24858,34398,21936,31354,20598,23507,36935,38533,20018,27355,37351,23633,23624,25496,31391,27795,38772,36705,31402,29066,38536,31874,26647,32368,26705,37740,21234,21531,34219,35347,32676,36557,37089,21350,34952,31041,20418,20670,21009,20804,21843,22317,29674,22411,22865,24418,24452,24693,24950,24935,25001,25522,25658,25964,26223,26690,28179,30054,31293,31995,32076,32153,32331,32619,33550,33610,34509,35336,35427,35686,36605,38938,40335,33464,36814,39912,21127,25119,25731,28608,38553,26689,20625,27424,27770,28500,31348,32080,34880,35363,26376,20214,20537,20518,20581,20860,21048,21091,21927,22287,22533,23244,24314,25010,25080,25331,25458,26908,27177,29309,29356,29486,30740,30831,32121,30476,32937,35211,35609,36066,36562,36963,37749,38522,38997,39443,40568,20803,21407,21427,24187,24358,28187,28304,29572,29694,32067,33335,35328,35578,38480,20046,20491,21476,21628,22266,22993,23396,24049,24235,24359,25144,25925,26543,28246,29392,31946,34996,32929,32993,33776,34382,35463,36328,37431,38599,39015,40723,20116,20114,20237,21320,21577,21566,23087,24460,24481,24735,26791,27278,29786,30849,35486,35492,35703,37264,20062,39881,20132,20348,20399,20505,20502,20809,20844,21151,21177,21246,21402,21475,21521,21518,21897,22353,22434,22909,23380,23389,23439,24037,24039,24055,24184,24195,24218,24247,24344,24658,24908,25239,25304,25511,25915,26114,26179,26356,26477,26657,26775,27083,27743,27946,28009,28207,28317,30002,30343,30828,31295,31968,32005,32024,32094,32177,32789,32771,32943,32945,33108,33167,33322,33618,34892,34913,35611,36002,36092,37066,37237,37489,30783,37628,38308,38477,38917,39321,39640,40251,21083,21163,21495,21512,22741,25335,28640,35946,36703,40633,20811,21051,21578,22269,31296,37239,40288,40658,29508,28425,33136,29969,24573,24794,39592,29403,36796,27492,38915,20170,22256,22372,22718,23130,24680,25031,26127,26118,26681,26801,28151,30165,32058,33390,39746,20123,20304,21449,21766,23919,24038,24046,26619,27801,29811,30722,35408,37782,35039,22352,24231,25387,20661,20652,20877,26368,21705,22622,22971,23472,24425,25165,25505,26685,27507,28168,28797,37319,29312,30741,30758,31085,25998,32048,33756,35009,36617,38555,21092,22312,26448,32618,36001,20916,22338,38442,22586,27018,32948,21682,23822,22524,30869,40442,20316,21066,21643,25662,26152,26388,26613,31364,31574,32034,37679,26716,39853,31545,21273,20874,21047,23519,25334,25774,25830,26413,27578,34217,38609,30352,39894,25420,37638,39851,30399,26194,19977,20632,21442,23665,24808,25746,25955,26719,29158,29642,29987,31639,32386,34453,35715,36059,37240,39184,26028,26283,27531,20181,20180,20282,20351,21050,21496,21490,21987,22235,22763,22987,22985,23039,23376,23629,24066,24107,24535,24605,25351,25903,23388,26031,26045,26088,26525,27490,27515,27663,29509,31049,31169,31992,32025,32043,32930,33026,33267,35222,35422,35433,35430,35468,35566,36039,36060,38604,39164,27503,20107,20284,20365,20816,23383,23546,24904,25345,26178,27425,28363,27835,29246,29885,30164,30913,31034,32780,32819,33258,33940,36766,27728,40575,24335,35672,40235,31482,36600,23437,38635,19971,21489,22519,22833,23241,23460,24713,28287,28422,30142,36074,23455,34048,31712,20594,26612,33437,23649,34122,32286,33294,20889,23556,25448,36198,26012,29038,31038,32023,32773,35613,36554,36974,34503,37034,20511,21242,23610,26451,28796,29237,37196,37320,37675,33509,23490,24369,24825,20027,21462,23432,25163,26417,27530,29417,29664,31278,33131,36259,37202,39318,20754,21463,21610,23551,25480,27193,32172,38656,22234,21454,21608,23447,23601,24030,20462,24833,25342,27954,31168,31179,32066,32333,32722,33261,33311,33936,34886,35186,35728,36468,36655,36913,37195,37228,38598,37276,20160,20303,20805,21313,24467,25102,26580,27713,28171,29539,32294,37325,37507,21460,22809,23487,28113,31069,32302,31899,22654,29087,20986,34899,36848,20426,23803,26149,30636,31459,33308,39423,20934,24490,26092,26991,27529,28147,28310,28516,30462,32020,24033,36981,37255,38918,20966,21021,25152,26257,26329,28186,24246,32210,32626,26360,34223,34295,35576,21161,21465,22899,24207,24464,24661,37604,38500,20663,20767,21213,21280,21319,21484,21736,21830,21809,22039,22888,22974,23100,23477,23558,23567,23569,23578,24196,24202,24288,24432,25215,25220,25307,25484,25463,26119,26124,26157,26230,26494,26786,27167,27189,27836,28040,28169,28248,28988,28966,29031,30151,30465,30813,30977,31077,31216,31456,31505,31911,32057,32918,33750,33931,34121,34909,35059,35359,35388,35412,35443,35937,36062,37284,37478,37758,37912,38556,38808,19978,19976,19998,20055,20887,21104,22478,22580,22732,23330,24120,24773,25854,26465,26454,27972,29366,30067,31331,33976,35698,37304,37664,22065,22516,39166,25325,26893,27542,29165,32340,32887,33394,35302,39135,34645,36785,23611,20280,20449,20405,21767,23072,23517,23529,24515,24910,25391,26032,26187,26862,27035,28024,28145,30003,30137,30495,31070,31206,32051,33251,33455,34218,35242,35386,36523,36763,36914,37341,38663,20154,20161,20995,22645,22764,23563,29978,23613,33102,35338,36805,38499,38765,31525,35535,38920,37218,22259,21416,36887,21561,22402,24101,25512,27700,28810,30561,31883,32736,34928,36930,37204,37648,37656,38543,29790,39620,23815,23913,25968,26530,36264,38619,25454,26441,26905,33733,38935,38592,35070,28548,25722,23544,19990,28716,30045,26159,20932,21046,21218,22995,24449,24615,25104,25919,25972,26143,26228,26866,26646,27491,28165,29298,29983,30427,31934,32854,22768,35069,35199,35488,35475,35531,36893,37266,38738,38745,25993,31246,33030,38587,24109,24796,25114,26021,26132,26512,30707,31309,31821,32318,33034,36012,36196,36321,36447,30889,20999,25305,25509,25666,25240,35373,31363,31680,35500,38634,32118,33292,34633,20185,20808,21315,21344,23459,23554,23574,24029,25126,25159,25776,26643,26676,27849,27973,27927,26579,28508,29006,29053,26059,31359,31661,32218,32330,32680,33146,33307,33337,34214,35438,36046,36341,36984,36983,37549,37521,38275,39854,21069,21892,28472,28982,20840,31109,32341,33203,31950,22092,22609,23720,25514,26366,26365,26970,29401,30095,30094,30990,31062,31199,31895,32032,32068,34311,35380,38459,36961,40736,20711,21109,21452,21474,20489,21930,22766,22863,29245,23435,23652,21277,24803,24819,25436,25475,25407,25531,25805,26089,26361,24035,27085,27133,28437,29157,20105,30185,30456,31379,31967,32207,32156,32865,33609,33624,33900,33980,34299,35013,36208,36865,36973,37783,38684,39442,20687,22679,24974,33235,34101,36104,36896,20419,20596,21063,21363,24687,25417,26463,28204,36275,36895,20439,23646,36042,26063,32154,21330,34966,20854,25539,23384,23403,23562,25613,26449,36956,20182,22810,22826,27760,35409,21822,22549,22949,24816,25171,26561,33333,26965,38464,39364,39464,20307,22534,23550,32784,23729,24111,24453,24608,24907,25140,26367,27888,28382,32974,33151,33492,34955,36024,36864,36910,38538,40667,39899,20195,21488,22823,31532,37261,38988,40441,28381,28711,21331,21828,23429,25176,25246,25299,27810,28655,29730,35351,37944,28609,35582,33592,20967,34552,21482,21481,20294,36948,36784,22890,33073,24061,31466,36799,26842,35895,29432,40008,27197,35504,20025,21336,22022,22374,25285,25506,26086,27470,28129,28251,28845,30701,31471,31658,32187,32829,32966,34507,35477,37723,22243,22727,24382,26029,26262,27264,27573,30007,35527,20516,30693,22320,24347,24677,26234,27744,30196,31258,32622,33268,34584,36933,39347,31689,30044,31481,31569,33988,36880,31209,31378,33590,23265,30528,20013,20210,23449,24544,25277,26172,26609,27880,34411,34935,35387,37198,37619,39376,27159,28710,29482,33511,33879,36015,19969,20806,20939,21899,23541,24086,24115,24193,24340,24373,24427,24500,25074,25361,26274,26397,28526,29266,30010,30522,32884,33081,33144,34678,35519,35548,36229,36339,37530,38263,38914,40165,21189,25431,30452,26389,27784,29645,36035,37806,38515,27941,22684,26894,27084,36861,37786,30171,36890,22618,26626,25524,27131,20291,28460,26584,36795,34086,32180,37716,26943,28528,22378,22775,23340,32044,29226,21514,37347,40372,20141,20302,20572,20597,21059,35998,21576,22564,23450,24093,24213,24237,24311,24351,24716,25269,25402,25552,26799,27712,30855,31118,31243,32224,33351,35330,35558,36420,36883,37048,37165,37336,40718,27877,25688,25826,25973,28404,30340,31515,36969,37841,28346,21746,24505,25764,36685,36845,37444,20856,22635,22825,23637,24215,28155,32399,29980,36028,36578,39003,28857,20253,27583,28593,3e4,38651,20814,21520,22581,22615,22956,23648,24466,26007,26460,28193,30331,33759,36077,36884,37117,37709,30757,30778,21162,24230,22303,22900,24594,20498,20826,20908,20941,20992,21776,22612,22616,22871,23445,23798,23947,24764,25237,25645,26481,26691,26812,26847,30423,28120,28271,28059,28783,29128,24403,30168,31095,31561,31572,31570,31958,32113,21040,33891,34153,34276,35342,35588,35910,36367,36867,36879,37913,38518,38957,39472,38360,20685,21205,21516,22530,23566,24999,25758,27934,30643,31461,33012,33796,36947,37509,23776,40199,21311,24471,24499,28060,29305,30563,31167,31716,27602,29420,35501,26627,27233,20984,31361,26932,23626,40182,33515,23493,37193,28702,22136,23663,24775,25958,27788,35930,36929,38931,21585,26311,37389,22856,37027,20869,20045,20970,34201,35598,28760,25466,37707,26978,39348,32260,30071,21335,26976,36575,38627,27741,20108,23612,24336,36841,21250,36049,32905,34425,24319,26085,20083,20837,22914,23615,38894,20219,22922,24525,35469,28641,31152,31074,23527,33905,29483,29105,24180,24565,25467,25754,29123,31896,20035,24316,20043,22492,22178,24745,28611,32013,33021,33075,33215,36786,35223,34468,24052,25226,25773,35207,26487,27874,27966,29750,30772,23110,32629,33453,39340,20467,24259,25309,25490,25943,26479,30403,29260,32972,32954,36649,37197,20493,22521,23186,26757,26995,29028,29437,36023,22770,36064,38506,36889,34687,31204,30695,33833,20271,21093,21338,25293,26575,27850,30333,31636,31893,33334,34180,36843,26333,28448,29190,32283,33707,39361,40614,20989,31665,30834,31672,32903,31560,27368,24161,32908,30033,30048,20843,37474,28300,30330,37271,39658,20240,32624,25244,31567,38309,40169,22138,22617,34532,38588,20276,21028,21322,21453,21467,24070,25644,26001,26495,27710,27726,29256,29359,29677,30036,32321,33324,34281,36009,31684,37318,29033,38930,39151,25405,26217,30058,30436,30928,34115,34542,21290,21329,21542,22915,24199,24444,24754,25161,25209,25259,26e3,27604,27852,30130,30382,30865,31192,32203,32631,32933,34987,35513,36027,36991,38750,39131,27147,31800,20633,23614,24494,26503,27608,29749,30473,32654,40763,26570,31255,21305,30091,39661,24422,33181,33777,32920,24380,24517,30050,31558,36924,26727,23019,23195,32016,30334,35628,20469,24426,27161,27703,28418,29922,31080,34920,35413,35961,24287,25551,30149,31186,33495,37672,37618,33948,34541,39981,21697,24428,25996,27996,28693,36007,36051,38971,25935,29942,19981,20184,22496,22827,23142,23500,20904,24067,24220,24598,25206,25975,26023,26222,28014,29238,31526,33104,33178,33433,35676,36e3,36070,36212,38428,38468,20398,25771,27494,33310,33889,34154,37096,23553,26963,39080,33914,34135,20239,21103,24489,24133,26381,31119,33145,35079,35206,28149,24343,25173,27832,20175,29289,39826,20998,21563,22132,22707,24996,25198,28954,22894,31881,31966,32027,38640,25991,32862,19993,20341,20853,22592,24163,24179,24330,26564,20006,34109,38281,38491,31859,38913,20731,22721,30294,30887,21029,30629,34065,31622,20559,22793,29255,31687,32232,36794,36820,36941,20415,21193,23081,24321,38829,20445,33303,37610,22275,25429,27497,29995,35036,36628,31298,21215,22675,24917,25098,26286,27597,31807,33769,20515,20472,21253,21574,22577,22857,23453,23792,23791,23849,24214,25265,25447,25918,26041,26379,27861,27873,28921,30770,32299,32990,33459,33804,34028,34562,35090,35370,35914,37030,37586,39165,40179,40300,20047,20129,20621,21078,22346,22952,24125,24536,24537,25151,26292,26395,26576,26834,20882,32033,32938,33192,35584,35980,36031,37502,38450,21536,38956,21271,20693,21340,22696,25778,26420,29287,30566,31302,37350,21187,27809,27526,22528,24140,22868,26412,32763,20961,30406,25705,30952,39764,40635,22475,22969,26151,26522,27598,21737,27097,24149,33180,26517,39850,26622,40018,26717,20134,20451,21448,25273,26411,27819,36804,20397,32365,40639,19975,24930,28288,28459,34067,21619,26410,39749,24051,31637,23724,23494,34588,28234,34001,31252,33032,22937,31885,27665,30496,21209,22818,28961,29279,30683,38695,40289,26891,23167,23064,20901,21517,21629,26126,30431,36855,37528,40180,23018,29277,28357,20813,26825,32191,32236,38754,40634,25720,27169,33538,22916,23391,27611,29467,30450,32178,32791,33945,20786,26408,40665,30446,26466,21247,39173,23588,25147,31870,36016,21839,24758,32011,38272,21249,20063,20918,22812,29242,32822,37326,24357,30690,21380,24441,32004,34220,35379,36493,38742,26611,34222,37971,24841,24840,27833,30290,35565,36664,21807,20305,20778,21191,21451,23461,24189,24736,24962,25558,26377,26586,28263,28044,29494,29495,30001,31056,35029,35480,36938,37009,37109,38596,34701,22805,20104,20313,19982,35465,36671,38928,20653,24188,22934,23481,24248,25562,25594,25793,26332,26954,27096,27915,28342,29076,29992,31407,32650,32768,33865,33993,35201,35617,36362,36965,38525,39178,24958,25233,27442,27779,28020,32716,32764,28096,32645,34746,35064,26469,33713,38972,38647,27931,32097,33853,37226,20081,21365,23888,27396,28651,34253,34349,35239,21033,21519,23653,26446,26792,29702,29827,30178,35023,35041,37324,38626,38520,24459,29575,31435,33870,25504,30053,21129,27969,28316,29705,30041,30827,31890,38534,31452,40845,20406,24942,26053,34396,20102,20142,20698,20001,20940,23534,26009,26753,28092,29471,30274,30637,31260,31975,33391,35538,36988,37327,38517,38936,21147,32209,20523,21400,26519,28107,29136,29747,33256,36650,38563,40023,40607,29792,22593,28057,32047,39006,20196,20278,20363,20919,21169,23994,24604,29618,31036,33491,37428,38583,38646,38666,40599,40802,26278,27508,21015,21155,28872,35010,24265,24651,24976,28451,29001,31806,32244,32879,34030,36899,37676,21570,39791,27347,28809,36034,36335,38706,21172,23105,24266,24324,26391,27004,27028,28010,28431,29282,29436,31725,32769,32894,34635,37070,20845,40595,31108,32907,37682,35542,20525,21644,35441,27498,36036,33031,24785,26528,40434,20121,20120,39952,35435,34241,34152,26880,28286,30871,33109,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,24332,19984,19989,20010,20017,20022,20028,20031,20034,20054,20056,20098,20101,35947,20106,33298,24333,20110,20126,20127,20128,20130,20144,20147,20150,20174,20173,20164,20166,20162,20183,20190,20205,20191,20215,20233,20314,20272,20315,20317,20311,20295,20342,20360,20367,20376,20347,20329,20336,20369,20335,20358,20374,20760,20436,20447,20430,20440,20443,20433,20442,20432,20452,20453,20506,20520,20500,20522,20517,20485,20252,20470,20513,20521,20524,20478,20463,20497,20486,20547,20551,26371,20565,20560,20552,20570,20566,20588,20600,20608,20634,20613,20660,20658,20681,20682,20659,20674,20694,20702,20709,20717,20707,20718,20729,20725,20745,20737,20738,20758,20757,20756,20762,20769,20794,20791,20796,20795,20799,20800,20818,20812,20820,20834,31480,20841,20842,20846,20864,20866,22232,20876,20873,20879,20881,20883,20885,20886,20900,20902,20898,20905,20906,20907,20915,20913,20914,20912,20917,20925,20933,20937,20955,20960,34389,20969,20973,20976,20981,20990,20996,21003,21012,21006,21031,21034,21038,21043,21049,21071,21060,21067,21068,21086,21076,21098,21108,21097,21107,21119,21117,21133,21140,21138,21105,21128,21137,36776,36775,21164,21165,21180,21173,21185,21197,21207,21214,21219,21222,39149,21216,21235,21237,21240,21241,21254,21256,30008,21261,21264,21263,21269,21274,21283,21295,21297,21299,21304,21312,21318,21317,19991,21321,21325,20950,21342,21353,21358,22808,21371,21367,21378,21398,21408,21414,21413,21422,21424,21430,21443,31762,38617,21471,26364,29166,21486,21480,21485,21498,21505,21565,21568,21548,21549,21564,21550,21558,21545,21533,21582,21647,21621,21646,21599,21617,21623,21616,21650,21627,21632,21622,21636,21648,21638,21703,21666,21688,21669,21676,21700,21704,21672,21675,21698,21668,21694,21692,21720,21733,21734,21775,21780,21757,21742,21741,21754,21730,21817,21824,21859,21836,21806,21852,21829,21846,21847,21816,21811,21853,21913,21888,21679,21898,21919,21883,21886,21912,21918,21934,21884,21891,21929,21895,21928,21978,21957,21983,21956,21980,21988,21972,22036,22007,22038,22014,22013,22043,22009,22094,22096,29151,22068,22070,22066,22072,22123,22116,22063,22124,22122,22150,22144,22154,22176,22164,22159,22181,22190,22198,22196,22210,22204,22209,22211,22208,22216,22222,22225,22227,22231,22254,22265,22272,22271,22276,22281,22280,22283,22285,22291,22296,22294,21959,22300,22310,22327,22328,22350,22331,22336,22351,22377,22464,22408,22369,22399,22409,22419,22432,22451,22436,22442,22448,22467,22470,22484,22482,22483,22538,22486,22499,22539,22553,22557,22642,22561,22626,22603,22640,27584,22610,22589,22649,22661,22713,22687,22699,22714,22750,22715,22712,22702,22725,22739,22737,22743,22745,22744,22757,22748,22756,22751,22767,22778,22777,22779,22780,22781,22786,22794,22800,22811,26790,22821,22828,22829,22834,22840,22846,31442,22869,22864,22862,22874,22872,22882,22880,22887,22892,22889,22904,22913,22941,20318,20395,22947,22962,22982,23016,23004,22925,23001,23002,23077,23071,23057,23068,23049,23066,23104,23148,23113,23093,23094,23138,23146,23194,23228,23230,23243,23234,23229,23267,23255,23270,23273,23254,23290,23291,23308,23307,23318,23346,23248,23338,23350,23358,23363,23365,23360,23377,23381,23386,23387,23397,23401,23408,23411,23413,23416,25992,23418,23424,23427,23462,23480,23491,23495,23497,23508,23504,23524,23526,23522,23518,23525,23531,23536,23542,23539,23557,23559,23560,23565,23571,23584,23586,23592,23608,23609,23617,23622,23630,23635,23632,23631,23409,23660,23662,20066,23670,23673,23692,23697,23700,22939,23723,23739,23734,23740,23735,23749,23742,23751,23769,23785,23805,23802,23789,23948,23786,23819,23829,23831,23900,23839,23835,23825,23828,23842,23834,23833,23832,23884,23890,23886,23883,23916,23923,23926,23943,23940,23938,23970,23965,23980,23982,23997,23952,23991,23996,24009,24013,24019,24018,24022,24027,24043,24050,24053,24075,24090,24089,24081,24091,24118,24119,24132,24131,24128,24142,24151,24148,24159,24162,24164,24135,24181,24182,24186,40636,24191,24224,24257,24258,24264,24272,24271,24278,24291,24285,24282,24283,24290,24289,24296,24297,24300,24305,24307,24304,24308,24312,24318,24323,24329,24413,24412,24331,24337,24342,24361,24365,24376,24385,24392,24396,24398,24367,24401,24406,24407,24409,24417,24429,24435,24439,24451,24450,24447,24458,24456,24465,24455,24478,24473,24472,24480,24488,24493,24508,24534,24571,24548,24568,24561,24541,24755,24575,24609,24672,24601,24592,24617,24590,24625,24603,24597,24619,24614,24591,24634,24666,24641,24682,24695,24671,24650,24646,24653,24675,24643,24676,24642,24684,24683,24665,24705,24717,24807,24707,24730,24708,24731,24726,24727,24722,24743,24715,24801,24760,24800,24787,24756,24560,24765,24774,24757,24792,24909,24853,24838,24822,24823,24832,24820,24826,24835,24865,24827,24817,24845,24846,24903,24894,24872,24871,24906,24895,24892,24876,24884,24893,24898,24900,24947,24951,24920,24921,24922,24939,24948,24943,24933,24945,24927,24925,24915,24949,24985,24982,24967,25004,24980,24986,24970,24977,25003,25006,25036,25034,25033,25079,25032,25027,25030,25018,25035,32633,25037,25062,25059,25078,25082,25076,25087,25085,25084,25086,25088,25096,25097,25101,25100,25108,25115,25118,25121,25130,25134,25136,25138,25139,25153,25166,25182,25187,25179,25184,25192,25212,25218,25225,25214,25234,25235,25238,25300,25219,25236,25303,25297,25275,25295,25343,25286,25812,25288,25308,25292,25290,25282,25287,25243,25289,25356,25326,25329,25383,25346,25352,25327,25333,25424,25406,25421,25628,25423,25494,25486,25472,25515,25462,25507,25487,25481,25503,25525,25451,25449,25534,25577,25536,25542,25571,25545,25554,25590,25540,25622,25652,25606,25619,25638,25654,25885,25623,25640,25615,25703,25711,25718,25678,25898,25749,25747,25765,25769,25736,25788,25818,25810,25797,25799,25787,25816,25794,25841,25831,33289,25824,25825,25260,25827,25839,25900,25846,25844,25842,25850,25856,25853,25880,25884,25861,25892,25891,25899,25908,25909,25911,25910,25912,30027,25928,25942,25941,25933,25944,25950,25949,25970,25976,25986,25987,35722,26011,26015,26027,26039,26051,26054,26049,26052,26060,26066,26075,26073,26080,26081,26097,26482,26122,26115,26107,26483,26165,26166,26164,26140,26191,26180,26185,26177,26206,26205,26212,26215,26216,26207,26210,26224,26243,26248,26254,26249,26244,26264,26269,26305,26297,26313,26302,26300,26308,26296,26326,26330,26336,26175,26342,26345,26352,26357,26359,26383,26390,26398,26406,26407,38712,26414,26431,26422,26433,26424,26423,26438,26462,26464,26457,26467,26468,26505,26480,26537,26492,26474,26508,26507,26534,26529,26501,26551,26607,26548,26604,26547,26601,26552,26596,26590,26589,26594,26606,26553,26574,26566,26599,27292,26654,26694,26665,26688,26701,26674,26702,26803,26667,26713,26723,26743,26751,26783,26767,26797,26772,26781,26779,26755,27310,26809,26740,26805,26784,26810,26895,26765,26750,26881,26826,26888,26840,26914,26918,26849,26892,26829,26836,26855,26837,26934,26898,26884,26839,26851,26917,26873,26848,26863,26920,26922,26906,26915,26913,26822,27001,26999,26972,27e3,26987,26964,27006,26990,26937,26996,26941,26969,26928,26977,26974,26973,27009,26986,27058,27054,27088,27071,27073,27091,27070,27086,23528,27082,27101,27067,27075,27047,27182,27025,27040,27036,27029,27060,27102,27112,27138,27163,27135,27402,27129,27122,27111,27141,27057,27166,27117,27156,27115,27146,27154,27329,27171,27155,27204,27148,27250,27190,27256,27207,27234,27225,27238,27208,27192,27170,27280,27277,27296,27268,27298,27299,27287,34327,27323,27331,27330,27320,27315,27308,27358,27345,27359,27306,27354,27370,27387,27397,34326,27386,27410,27414,39729,27423,27448,27447,30428,27449,39150,27463,27459,27465,27472,27481,27476,27483,27487,27489,27512,27513,27519,27520,27524,27523,27533,27544,27541,27550,27556,27562,27563,27567,27570,27569,27571,27575,27580,27590,27595,27603,27615,27628,27627,27635,27631,40638,27656,27667,27668,27675,27684,27683,27742,27733,27746,27754,27778,27789,27802,27777,27803,27774,27752,27763,27794,27792,27844,27889,27859,27837,27863,27845,27869,27822,27825,27838,27834,27867,27887,27865,27882,27935,34893,27958,27947,27965,27960,27929,27957,27955,27922,27916,28003,28051,28004,27994,28025,27993,28046,28053,28644,28037,28153,28181,28170,28085,28103,28134,28088,28102,28140,28126,28108,28136,28114,28101,28154,28121,28132,28117,28138,28142,28205,28270,28206,28185,28274,28255,28222,28195,28267,28203,28278,28237,28191,28227,28218,28238,28196,28415,28189,28216,28290,28330,28312,28361,28343,28371,28349,28335,28356,28338,28372,28373,28303,28325,28354,28319,28481,28433,28748,28396,28408,28414,28479,28402,28465,28399,28466,28364,28478,28435,28407,28550,28538,28536,28545,28544,28527,28507,28659,28525,28546,28540,28504,28558,28561,28610,28518,28595,28579,28577,28580,28601,28614,28586,28639,28629,28652,28628,28632,28657,28654,28635,28681,28683,28666,28689,28673,28687,28670,28699,28698,28532,28701,28696,28703,28720,28734,28722,28753,28771,28825,28818,28847,28913,28844,28856,28851,28846,28895,28875,28893,28889,28937,28925,28956,28953,29029,29013,29064,29030,29026,29004,29014,29036,29071,29179,29060,29077,29096,29100,29143,29113,29118,29138,29129,29140,29134,29152,29164,29159,29173,29180,29177,29183,29197,29200,29211,29224,29229,29228,29232,29234,29243,29244,29247,29248,29254,29259,29272,29300,29310,29314,29313,29319,29330,29334,29346,29351,29369,29362,29379,29382,29380,29390,29394,29410,29408,29409,29433,29431,20495,29463,29450,29468,29462,29469,29492,29487,29481,29477,29502,29518,29519,40664,29527,29546,29544,29552,29560,29557,29563,29562,29640,29619,29646,29627,29632,29669,29678,29662,29858,29701,29807,29733,29688,29746,29754,29781,29759,29791,29785,29761,29788,29801,29808,29795,29802,29814,29822,29835,29854,29863,29898,29903,29908,29681,29920,29923,29927,29929,29934,29938,29936,29937,29944,29943,29956,29955,29957,29964,29966,29965,29973,29971,29982,29990,29996,30012,30020,30029,30026,30025,30043,30022,30042,30057,30052,30055,30059,30061,30072,30070,30086,30087,30068,30090,30089,30082,30100,30106,30109,30117,30115,30146,30131,30147,30133,30141,30136,30140,30129,30157,30154,30162,30169,30179,30174,30206,30207,30204,30209,30192,30202,30194,30195,30219,30221,30217,30239,30247,30240,30241,30242,30244,30260,30256,30267,30279,30280,30278,30300,30296,30305,30306,30312,30313,30314,30311,30316,30320,30322,30326,30328,30332,30336,30339,30344,30347,30350,30358,30355,30361,30362,30384,30388,30392,30393,30394,30402,30413,30422,30418,30430,30433,30437,30439,30442,34351,30459,30472,30471,30468,30505,30500,30494,30501,30502,30491,30519,30520,30535,30554,30568,30571,30555,30565,30591,30590,30585,30606,30603,30609,30624,30622,30640,30646,30649,30655,30652,30653,30651,30663,30669,30679,30682,30684,30691,30702,30716,30732,30738,31014,30752,31018,30789,30862,30836,30854,30844,30874,30860,30883,30901,30890,30895,30929,30918,30923,30932,30910,30908,30917,30922,30956,30951,30938,30973,30964,30983,30994,30993,31001,31020,31019,31040,31072,31063,31071,31066,31061,31059,31098,31103,31114,31133,31143,40779,31146,31150,31155,31161,31162,31177,31189,31207,31212,31201,31203,31240,31245,31256,31257,31264,31263,31104,31281,31291,31294,31287,31299,31319,31305,31329,31330,31337,40861,31344,31353,31357,31368,31383,31381,31384,31382,31401,31432,31408,31414,31429,31428,31423,36995,31431,31434,31437,31439,31445,31443,31449,31450,31453,31457,31458,31462,31469,31472,31490,31503,31498,31494,31539,31512,31513,31518,31541,31528,31542,31568,31610,31492,31565,31499,31564,31557,31605,31589,31604,31591,31600,31601,31596,31598,31645,31640,31647,31629,31644,31642,31627,31634,31631,31581,31641,31691,31681,31692,31695,31668,31686,31709,31721,31761,31764,31718,31717,31840,31744,31751,31763,31731,31735,31767,31757,31734,31779,31783,31786,31775,31799,31787,31805,31820,31811,31828,31823,31808,31824,31832,31839,31844,31830,31845,31852,31861,31875,31888,31908,31917,31906,31915,31905,31912,31923,31922,31921,31918,31929,31933,31936,31941,31938,31960,31954,31964,31970,39739,31983,31986,31988,31990,31994,32006,32002,32028,32021,32010,32069,32075,32046,32050,32063,32053,32070,32115,32086,32078,32114,32104,32110,32079,32099,32147,32137,32091,32143,32125,32155,32186,32174,32163,32181,32199,32189,32171,32317,32162,32175,32220,32184,32159,32176,32216,32221,32228,32222,32251,32242,32225,32261,32266,32291,32289,32274,32305,32287,32265,32267,32290,32326,32358,32315,32309,32313,32323,32311,32306,32314,32359,32349,32342,32350,32345,32346,32377,32362,32361,32380,32379,32387,32213,32381,36782,32383,32392,32393,32396,32402,32400,32403,32404,32406,32398,32411,32412,32568,32570,32581,32588,32589,32590,32592,32593,32597,32596,32600,32607,32608,32616,32617,32615,32632,32642,32646,32643,32648,32647,32652,32660,32670,32669,32666,32675,32687,32690,32697,32686,32694,32696,35697,32709,32710,32714,32725,32724,32737,32742,32745,32755,32761,39132,32774,32772,32779,32786,32792,32793,32796,32801,32808,32831,32827,32842,32838,32850,32856,32858,32863,32866,32872,32883,32882,32880,32886,32889,32893,32895,32900,32902,32901,32923,32915,32922,32941,20880,32940,32987,32997,32985,32989,32964,32986,32982,33033,33007,33009,33051,33065,33059,33071,33099,38539,33094,33086,33107,33105,33020,33137,33134,33125,33126,33140,33155,33160,33162,33152,33154,33184,33173,33188,33187,33119,33171,33193,33200,33205,33214,33208,33213,33216,33218,33210,33225,33229,33233,33241,33240,33224,33242,33247,33248,33255,33274,33275,33278,33281,33282,33285,33287,33290,33293,33296,33302,33321,33323,33336,33331,33344,33369,33368,33373,33370,33375,33380,33378,33384,33386,33387,33326,33393,33399,33400,33406,33421,33426,33451,33439,33467,33452,33505,33507,33503,33490,33524,33523,33530,33683,33539,33531,33529,33502,33542,33500,33545,33497,33589,33588,33558,33586,33585,33600,33593,33616,33605,33583,33579,33559,33560,33669,33690,33706,33695,33698,33686,33571,33678,33671,33674,33660,33717,33651,33653,33696,33673,33704,33780,33811,33771,33742,33789,33795,33752,33803,33729,33783,33799,33760,33778,33805,33826,33824,33725,33848,34054,33787,33901,33834,33852,34138,33924,33911,33899,33965,33902,33922,33897,33862,33836,33903,33913,33845,33994,33890,33977,33983,33951,34009,33997,33979,34010,34e3,33985,33990,34006,33953,34081,34047,34036,34071,34072,34092,34079,34069,34068,34044,34112,34147,34136,34120,34113,34306,34123,34133,34176,34212,34184,34193,34186,34216,34157,34196,34203,34282,34183,34204,34167,34174,34192,34249,34234,34255,34233,34256,34261,34269,34277,34268,34297,34314,34323,34315,34302,34298,34310,34338,34330,34352,34367,34381,20053,34388,34399,34407,34417,34451,34467,34473,34474,34443,34444,34486,34479,34500,34502,34480,34505,34851,34475,34516,34526,34537,34540,34527,34523,34543,34578,34566,34568,34560,34563,34555,34577,34569,34573,34553,34570,34612,34623,34615,34619,34597,34601,34586,34656,34655,34680,34636,34638,34676,34647,34664,34670,34649,34643,34659,34666,34821,34722,34719,34690,34735,34763,34749,34752,34768,38614,34731,34756,34739,34759,34758,34747,34799,34802,34784,34831,34829,34814,34806,34807,34830,34770,34833,34838,34837,34850,34849,34865,34870,34873,34855,34875,34884,34882,34898,34905,34910,34914,34923,34945,34942,34974,34933,34941,34997,34930,34946,34967,34962,34990,34969,34978,34957,34980,34992,35007,34993,35011,35012,35028,35032,35033,35037,35065,35074,35068,35060,35048,35058,35076,35084,35082,35091,35139,35102,35109,35114,35115,35137,35140,35131,35126,35128,35148,35101,35168,35166,35174,35172,35181,35178,35183,35188,35191,35198,35203,35208,35210,35219,35224,35233,35241,35238,35244,35247,35250,35258,35261,35263,35264,35290,35292,35293,35303,35316,35320,35331,35350,35344,35340,35355,35357,35365,35382,35393,35419,35410,35398,35400,35452,35437,35436,35426,35461,35458,35460,35496,35489,35473,35493,35494,35482,35491,35524,35533,35522,35546,35563,35571,35559,35556,35569,35604,35552,35554,35575,35550,35547,35596,35591,35610,35553,35606,35600,35607,35616,35635,38827,35622,35627,35646,35624,35649,35660,35663,35662,35657,35670,35675,35674,35691,35679,35692,35695,35700,35709,35712,35724,35726,35730,35731,35734,35737,35738,35898,35905,35903,35912,35916,35918,35920,35925,35938,35948,35960,35962,35970,35977,35973,35978,35981,35982,35988,35964,35992,25117,36013,36010,36029,36018,36019,36014,36022,36040,36033,36068,36067,36058,36093,36090,36091,36100,36101,36106,36103,36111,36109,36112,40782,36115,36045,36116,36118,36199,36205,36209,36211,36225,36249,36290,36286,36282,36303,36314,36310,36300,36315,36299,36330,36331,36319,36323,36348,36360,36361,36351,36381,36382,36368,36383,36418,36405,36400,36404,36426,36423,36425,36428,36432,36424,36441,36452,36448,36394,36451,36437,36470,36466,36476,36481,36487,36485,36484,36491,36490,36499,36497,36500,36505,36522,36513,36524,36528,36550,36529,36542,36549,36552,36555,36571,36579,36604,36603,36587,36606,36618,36613,36629,36626,36633,36627,36636,36639,36635,36620,36646,36659,36667,36665,36677,36674,36670,36684,36681,36678,36686,36695,36700,36706,36707,36708,36764,36767,36771,36781,36783,36791,36826,36837,36834,36842,36847,36999,36852,36869,36857,36858,36881,36885,36897,36877,36894,36886,36875,36903,36918,36917,36921,36856,36943,36944,36945,36946,36878,36937,36926,36950,36952,36958,36968,36975,36982,38568,36978,36994,36989,36993,36992,37002,37001,37007,37032,37039,37041,37045,37090,37092,25160,37083,37122,37138,37145,37170,37168,37194,37206,37208,37219,37221,37225,37235,37234,37259,37257,37250,37282,37291,37295,37290,37301,37300,37306,37312,37313,37321,37323,37328,37334,37343,37345,37339,37372,37365,37366,37406,37375,37396,37420,37397,37393,37470,37463,37445,37449,37476,37448,37525,37439,37451,37456,37532,37526,37523,37531,37466,37583,37561,37559,37609,37647,37626,37700,37678,37657,37666,37658,37667,37690,37685,37691,37724,37728,37756,37742,37718,37808,37804,37805,37780,37817,37846,37847,37864,37861,37848,37827,37853,37840,37832,37860,37914,37908,37907,37891,37895,37904,37942,37931,37941,37921,37946,37953,37970,37956,37979,37984,37986,37982,37994,37417,38e3,38005,38007,38013,37978,38012,38014,38017,38015,38274,38279,38282,38292,38294,38296,38297,38304,38312,38311,38317,38332,38331,38329,38334,38346,28662,38339,38349,38348,38357,38356,38358,38364,38369,38373,38370,38433,38440,38446,38447,38466,38476,38479,38475,38519,38492,38494,38493,38495,38502,38514,38508,38541,38552,38549,38551,38570,38567,38577,38578,38576,38580,38582,38584,38585,38606,38603,38601,38605,35149,38620,38669,38613,38649,38660,38662,38664,38675,38670,38673,38671,38678,38681,38692,38698,38704,38713,38717,38718,38724,38726,38728,38722,38729,38748,38752,38756,38758,38760,21202,38763,38769,38777,38789,38780,38785,38778,38790,38795,38799,38800,38812,38824,38822,38819,38835,38836,38851,38854,38856,38859,38876,38893,40783,38898,31455,38902,38901,38927,38924,38968,38948,38945,38967,38973,38982,38991,38987,39019,39023,39024,39025,39028,39027,39082,39087,39089,39094,39108,39107,39110,39145,39147,39171,39177,39186,39188,39192,39201,39197,39198,39204,39200,39212,39214,39229,39230,39234,39241,39237,39248,39243,39249,39250,39244,39253,39319,39320,39333,39341,39342,39356,39391,39387,39389,39384,39377,39405,39406,39409,39410,39419,39416,39425,39439,39429,39394,39449,39467,39479,39493,39490,39488,39491,39486,39509,39501,39515,39511,39519,39522,39525,39524,39529,39531,39530,39597,39600,39612,39616,39631,39633,39635,39636,39646,39647,39650,39651,39654,39663,39659,39662,39668,39665,39671,39675,39686,39704,39706,39711,39714,39715,39717,39719,39720,39721,39722,39726,39727,39730,39748,39747,39759,39757,39758,39761,39768,39796,39827,39811,39825,39830,39831,39839,39840,39848,39860,39872,39882,39865,39878,39887,39889,39890,39907,39906,39908,39892,39905,39994,39922,39921,39920,39957,39956,39945,39955,39948,39942,39944,39954,39946,39940,39982,39963,39973,39972,39969,39984,40007,39986,40006,39998,40026,40032,40039,40054,40056,40167,40172,40176,40201,40200,40171,40195,40198,40234,40230,40367,40227,40223,40260,40213,40210,40257,40255,40254,40262,40264,40285,40286,40292,40273,40272,40281,40306,40329,40327,40363,40303,40314,40346,40356,40361,40370,40388,40385,40379,40376,40378,40390,40399,40386,40409,40403,40440,40422,40429,40431,40445,40474,40475,40478,40565,40569,40573,40577,40584,40587,40588,40594,40597,40593,40605,40613,40617,40632,40618,40621,38753,40652,40654,40655,40656,40660,40668,40670,40669,40672,40677,40680,40687,40692,40694,40695,40697,40699,40700,40701,40711,40712,30391,40725,40737,40748,40766,40778,40786,40788,40803,40799,40800,40801,40806,40807,40812,40810,40823,40818,40822,40853,40860,40864,22575,27079,36953,29796,20956,29081,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,32394,35100,37704,37512,34012,20425,28859,26161,26824,37625,26363,24389,20008,20193,20220,20224,20227,20281,20310,20370,20362,20378,20372,20429,20544,20514,20479,20510,20550,20592,20546,20628,20724,20696,20810,20836,20893,20926,20972,21013,21148,21158,21184,21211,21248,21255,21284,21362,21395,21426,21469,64014,21660,21642,21673,21759,21894,22361,22373,22444,22472,22471,64015,64016,22686,22706,22795,22867,22875,22877,22883,22948,22970,23382,23488,29999,23512,23532,23582,23718,23738,23797,23847,23891,64017,23874,23917,23992,23993,24016,24353,24372,24423,24503,24542,24669,24709,24714,24798,24789,24864,24818,24849,24887,24880,24984,25107,25254,25589,25696,25757,25806,25934,26112,26133,26171,26121,26158,26142,26148,26213,26199,26201,64018,26227,26265,26272,26290,26303,26362,26382,63785,26470,26555,26706,26560,26625,26692,26831,64019,26984,64020,27032,27106,27184,27243,27206,27251,27262,27362,27364,27606,27711,27740,27782,27759,27866,27908,28039,28015,28054,28076,28111,28152,28146,28156,28217,28252,28199,28220,28351,28552,28597,28661,28677,28679,28712,28805,28843,28943,28932,29020,28998,28999,64021,29121,29182,29361,29374,29476,64022,29559,29629,29641,29654,29667,29650,29703,29685,29734,29738,29737,29742,29794,29833,29855,29953,30063,30338,30364,30366,30363,30374,64023,30534,21167,30753,30798,30820,30842,31024,64024,64025,64026,31124,64027,31131,31441,31463,64028,31467,31646,64029,32072,32092,32183,32160,32214,32338,32583,32673,64030,33537,33634,33663,33735,33782,33864,33972,34131,34137,34155,64031,34224,64032,64033,34823,35061,35346,35383,35449,35495,35518,35551,64034,35574,35667,35711,36080,36084,36114,36214,64035,36559,64036,64037,36967,37086,64038,37141,37159,37338,37335,37342,37357,37358,37348,37349,37382,37392,37386,37434,37440,37436,37454,37465,37457,37433,37479,37543,37495,37496,37607,37591,37593,37584,64039,37589,37600,37587,37669,37665,37627,64040,37662,37631,37661,37634,37744,37719,37796,37830,37854,37880,37937,37957,37960,38290,63964,64041,38557,38575,38707,38715,38723,38733,38735,38737,38741,38999,39013,64042,64043,39207,64044,39326,39502,39641,39644,39797,39794,39823,39857,39867,39936,40304,40299,64045,40473,40657,null,null,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,65506,65508,65287,65282,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,65506,65508,65287,65282,12849,8470,8481,8757,32394,35100,37704,37512,34012,20425,28859,26161,26824,37625,26363,24389,20008,20193,20220,20224,20227,20281,20310,20370,20362,20378,20372,20429,20544,20514,20479,20510,20550,20592,20546,20628,20724,20696,20810,20836,20893,20926,20972,21013,21148,21158,21184,21211,21248,21255,21284,21362,21395,21426,21469,64014,21660,21642,21673,21759,21894,22361,22373,22444,22472,22471,64015,64016,22686,22706,22795,22867,22875,22877,22883,22948,22970,23382,23488,29999,23512,23532,23582,23718,23738,23797,23847,23891,64017,23874,23917,23992,23993,24016,24353,24372,24423,24503,24542,24669,24709,24714,24798,24789,24864,24818,24849,24887,24880,24984,25107,25254,25589,25696,25757,25806,25934,26112,26133,26171,26121,26158,26142,26148,26213,26199,26201,64018,26227,26265,26272,26290,26303,26362,26382,63785,26470,26555,26706,26560,26625,26692,26831,64019,26984,64020,27032,27106,27184,27243,27206,27251,27262,27362,27364,27606,27711,27740,27782,27759,27866,27908,28039,28015,28054,28076,28111,28152,28146,28156,28217,28252,28199,28220,28351,28552,28597,28661,28677,28679,28712,28805,28843,28943,28932,29020,28998,28999,64021,29121,29182,29361,29374,29476,64022,29559,29629,29641,29654,29667,29650,29703,29685,29734,29738,29737,29742,29794,29833,29855,29953,30063,30338,30364,30366,30363,30374,64023,30534,21167,30753,30798,30820,30842,31024,64024,64025,64026,31124,64027,31131,31441,31463,64028,31467,31646,64029,32072,32092,32183,32160,32214,32338,32583,32673,64030,33537,33634,33663,33735,33782,33864,33972,34131,34137,34155,64031,34224,64032,64033,34823,35061,35346,35383,35449,35495,35518,35551,64034,35574,35667,35711,36080,36084,36114,36214,64035,36559,64036,64037,36967,37086,64038,37141,37159,37338,37335,37342,37357,37358,37348,37349,37382,37392,37386,37434,37440,37436,37454,37465,37457,37433,37479,37543,37495,37496,37607,37591,37593,37584,64039,37589,37600,37587,37669,37665,37627,64040,37662,37631,37661,37634,37744,37719,37796,37830,37854,37880,37937,37957,37960,38290,63964,64041,38557,38575,38707,38715,38723,38733,38735,38737,38741,38999,39013,64042,64043,39207,64044,39326,39502,39641,39644,39797,39794,39823,39857,39867,39936,40304,40299,64045,40473,40657,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],
jis0212:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,728,711,184,729,733,175,731,730,65374,900,901,null,null,null,null,null,null,null,null,161,166,191,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,186,170,169,174,8482,164,8470,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,902,904,905,906,938,null,908,null,910,939,null,911,null,null,null,null,940,941,942,943,970,912,972,962,973,971,944,974,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1038,1039,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1118,1119,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,198,272,null,294,null,306,null,321,319,null,330,216,338,null,358,222,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,230,273,240,295,305,307,312,322,320,329,331,248,339,223,359,254,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,193,192,196,194,258,461,256,260,197,195,262,264,268,199,266,270,201,200,203,202,282,278,274,280,null,284,286,290,288,292,205,204,207,206,463,304,298,302,296,308,310,313,317,315,323,327,325,209,211,210,214,212,465,336,332,213,340,344,342,346,348,352,350,356,354,218,217,220,219,364,467,368,362,370,366,360,471,475,473,469,372,221,376,374,377,381,379,null,null,null,null,null,null,null,225,224,228,226,259,462,257,261,229,227,263,265,269,231,267,271,233,232,235,234,283,279,275,281,501,285,287,null,289,293,237,236,239,238,464,null,299,303,297,309,311,314,318,316,324,328,326,241,243,242,246,244,466,337,333,245,341,345,343,347,349,353,351,357,355,250,249,252,251,365,468,369,363,371,367,361,472,476,474,470,373,253,255,375,378,382,380,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,19970,19972,19973,19980,19986,19999,20003,20004,20008,20011,20014,20015,20016,20021,20032,20033,20036,20039,20049,20058,20060,20067,20072,20073,20084,20085,20089,20095,20109,20118,20119,20125,20143,20153,20163,20176,20186,20187,20192,20193,20194,20200,20207,20209,20211,20213,20221,20222,20223,20224,20226,20227,20232,20235,20236,20242,20245,20246,20247,20249,20270,20273,20320,20275,20277,20279,20281,20283,20286,20288,20290,20296,20297,20299,20300,20306,20308,20310,20312,20319,20323,20330,20332,20334,20337,20343,20344,20345,20346,20349,20350,20353,20354,20356,20357,20361,20362,20364,20366,20368,20370,20371,20372,20375,20377,20378,20382,20383,20402,20407,20409,20411,20412,20413,20414,20416,20417,20421,20422,20424,20425,20427,20428,20429,20431,20434,20444,20448,20450,20464,20466,20476,20477,20479,20480,20481,20484,20487,20490,20492,20494,20496,20499,20503,20504,20507,20508,20509,20510,20514,20519,20526,20528,20530,20531,20533,20544,20545,20546,20549,20550,20554,20556,20558,20561,20562,20563,20567,20569,20575,20576,20578,20579,20582,20583,20586,20589,20592,20593,20539,20609,20611,20612,20614,20618,20622,20623,20624,20626,20627,20628,20630,20635,20636,20638,20639,20640,20641,20642,20650,20655,20656,20665,20666,20669,20672,20675,20676,20679,20684,20686,20688,20691,20692,20696,20700,20701,20703,20706,20708,20710,20712,20713,20719,20721,20726,20730,20734,20739,20742,20743,20744,20747,20748,20749,20750,20722,20752,20759,20761,20763,20764,20765,20766,20771,20775,20776,20780,20781,20783,20785,20787,20788,20789,20792,20793,20802,20810,20815,20819,20821,20823,20824,20831,20836,20838,20862,20867,20868,20875,20878,20888,20893,20897,20899,20909,20920,20922,20924,20926,20927,20930,20936,20943,20945,20946,20947,20949,20952,20958,20962,20965,20974,20978,20979,20980,20983,20993,20994,20997,21010,21011,21013,21014,21016,21026,21032,21041,21042,21045,21052,21061,21065,21077,21079,21080,21082,21084,21087,21088,21089,21094,21102,21111,21112,21113,21120,21122,21125,21130,21132,21139,21141,21142,21143,21144,21146,21148,21156,21157,21158,21159,21167,21168,21174,21175,21176,21178,21179,21181,21184,21188,21190,21192,21196,21199,21201,21204,21206,21211,21212,21217,21221,21224,21225,21226,21228,21232,21233,21236,21238,21239,21248,21251,21258,21259,21260,21265,21267,21272,21275,21276,21278,21279,21285,21287,21288,21289,21291,21292,21293,21296,21298,21301,21308,21309,21310,21314,21324,21323,21337,21339,21345,21347,21349,21356,21357,21362,21369,21374,21379,21383,21384,21390,21395,21396,21401,21405,21409,21412,21418,21419,21423,21426,21428,21429,21431,21432,21434,21437,21440,21445,21455,21458,21459,21461,21466,21469,21470,21472,21478,21479,21493,21506,21523,21530,21537,21543,21544,21546,21551,21553,21556,21557,21571,21572,21575,21581,21583,21598,21602,21604,21606,21607,21609,21611,21613,21614,21620,21631,21633,21635,21637,21640,21641,21645,21649,21653,21654,21660,21663,21665,21670,21671,21673,21674,21677,21678,21681,21687,21689,21690,21691,21695,21702,21706,21709,21710,21728,21738,21740,21743,21750,21756,21758,21759,21760,21761,21765,21768,21769,21772,21773,21774,21781,21802,21803,21810,21813,21814,21819,21820,21821,21825,21831,21833,21834,21837,21840,21841,21848,21850,21851,21854,21856,21857,21860,21862,21887,21889,21890,21894,21896,21902,21903,21905,21906,21907,21908,21911,21923,21924,21933,21938,21951,21953,21955,21958,21961,21963,21964,21966,21969,21970,21971,21975,21976,21979,21982,21986,21993,22006,22015,22021,22024,22026,22029,22030,22031,22032,22033,22034,22041,22060,22064,22067,22069,22071,22073,22075,22076,22077,22079,22080,22081,22083,22084,22086,22089,22091,22093,22095,22100,22110,22112,22113,22114,22115,22118,22121,22125,22127,22129,22130,22133,22148,22149,22152,22155,22156,22165,22169,22170,22173,22174,22175,22182,22183,22184,22185,22187,22188,22189,22193,22195,22199,22206,22213,22217,22218,22219,22223,22224,22220,22221,22233,22236,22237,22239,22241,22244,22245,22246,22247,22248,22257,22251,22253,22262,22263,22273,22274,22279,22282,22284,22289,22293,22298,22299,22301,22304,22306,22307,22308,22309,22313,22314,22316,22318,22319,22323,22324,22333,22334,22335,22341,22342,22348,22349,22354,22370,22373,22375,22376,22379,22381,22382,22383,22384,22385,22387,22388,22389,22391,22393,22394,22395,22396,22398,22401,22403,22412,22420,22423,22425,22426,22428,22429,22430,22431,22433,22421,22439,22440,22441,22444,22456,22461,22471,22472,22476,22479,22485,22493,22494,22500,22502,22503,22505,22509,22512,22517,22518,22520,22525,22526,22527,22531,22532,22536,22537,22497,22540,22541,22555,22558,22559,22560,22566,22567,22573,22578,22585,22591,22601,22604,22605,22607,22608,22613,22623,22625,22628,22631,22632,22648,22652,22655,22656,22657,22663,22664,22665,22666,22668,22669,22671,22672,22676,22678,22685,22688,22689,22690,22694,22697,22705,22706,22724,22716,22722,22728,22733,22734,22736,22738,22740,22742,22746,22749,22753,22754,22761,22771,22789,22790,22795,22796,22802,22803,22804,34369,22813,22817,22819,22820,22824,22831,22832,22835,22837,22838,22847,22851,22854,22866,22867,22873,22875,22877,22878,22879,22881,22883,22891,22893,22895,22898,22901,22902,22905,22907,22908,22923,22924,22926,22930,22933,22935,22943,22948,22951,22957,22958,22959,22960,22963,22967,22970,22972,22977,22979,22980,22984,22986,22989,22994,23005,23006,23007,23011,23012,23015,23022,23023,23025,23026,23028,23031,23040,23044,23052,23053,23054,23058,23059,23070,23075,23076,23079,23080,23082,23085,23088,23108,23109,23111,23112,23116,23120,23125,23134,23139,23141,23143,23149,23159,23162,23163,23166,23179,23184,23187,23190,23193,23196,23198,23199,23200,23202,23207,23212,23217,23218,23219,23221,23224,23226,23227,23231,23236,23238,23240,23247,23258,23260,23264,23269,23274,23278,23285,23286,23293,23296,23297,23304,23319,23348,23321,23323,23325,23329,23333,23341,23352,23361,23371,23372,23378,23382,23390,23400,23406,23407,23420,23421,23422,23423,23425,23428,23430,23434,23438,23440,23441,23443,23444,23446,23464,23465,23468,23469,23471,23473,23474,23479,23482,23484,23488,23489,23501,23503,23510,23511,23512,23513,23514,23520,23535,23537,23540,23549,23564,23575,23582,23583,23587,23590,23593,23595,23596,23598,23600,23602,23605,23606,23641,23642,23644,23650,23651,23655,23656,23657,23661,23664,23668,23669,23674,23675,23676,23677,23687,23688,23690,23695,23698,23709,23711,23712,23714,23715,23718,23722,23730,23732,23733,23738,23753,23755,23762,23773,23767,23790,23793,23794,23796,23809,23814,23821,23826,23851,23843,23844,23846,23847,23857,23860,23865,23869,23871,23874,23875,23878,23880,23893,23889,23897,23882,23903,23904,23905,23906,23908,23914,23917,23920,23929,23930,23934,23935,23937,23939,23944,23946,23954,23955,23956,23957,23961,23963,23967,23968,23975,23979,23984,23988,23992,23993,24003,24007,24011,24016,24014,24024,24025,24032,24036,24041,24056,24057,24064,24071,24077,24082,24084,24085,24088,24095,24096,24110,24104,24114,24117,24126,24139,24144,24137,24145,24150,24152,24155,24156,24158,24168,24170,24171,24172,24173,24174,24176,24192,24203,24206,24226,24228,24229,24232,24234,24236,24241,24243,24253,24254,24255,24262,24268,24267,24270,24273,24274,24276,24277,24284,24286,24293,24299,24322,24326,24327,24328,24334,24345,24348,24349,24353,24354,24355,24356,24360,24363,24364,24366,24368,24372,24374,24379,24381,24383,24384,24388,24389,24391,24397,24400,24404,24408,24411,24416,24419,24420,24423,24431,24434,24436,24437,24440,24442,24445,24446,24457,24461,24463,24470,24476,24477,24482,24487,24491,24484,24492,24495,24496,24497,24504,24516,24519,24520,24521,24523,24528,24529,24530,24531,24532,24542,24545,24546,24552,24553,24554,24556,24557,24558,24559,24562,24563,24566,24570,24572,24583,24586,24589,24595,24596,24599,24600,24602,24607,24612,24621,24627,24629,24640,24647,24648,24649,24652,24657,24660,24662,24663,24669,24673,24679,24689,24702,24703,24706,24710,24712,24714,24718,24721,24723,24725,24728,24733,24734,24738,24740,24741,24744,24752,24753,24759,24763,24766,24770,24772,24776,24777,24778,24779,24782,24783,24788,24789,24793,24795,24797,24798,24802,24805,24818,24821,24824,24828,24829,24834,24839,24842,24844,24848,24849,24850,24851,24852,24854,24855,24857,24860,24862,24866,24874,24875,24880,24881,24885,24886,24887,24889,24897,24901,24902,24905,24926,24928,24940,24946,24952,24955,24956,24959,24960,24961,24963,24964,24971,24973,24978,24979,24983,24984,24988,24989,24991,24992,24997,25e3,25002,25005,25016,25017,25020,25024,25025,25026,25038,25039,25045,25052,25053,25054,25055,25057,25058,25063,25065,25061,25068,25069,25071,25089,25091,25092,25095,25107,25109,25116,25120,25122,25123,25127,25129,25131,25145,25149,25154,25155,25156,25158,25164,25168,25169,25170,25172,25174,25178,25180,25188,25197,25199,25203,25210,25213,25229,25230,25231,25232,25254,25256,25267,25270,25271,25274,25278,25279,25284,25294,25301,25302,25306,25322,25330,25332,25340,25341,25347,25348,25354,25355,25357,25360,25363,25366,25368,25385,25386,25389,25397,25398,25401,25404,25409,25410,25411,25412,25414,25418,25419,25422,25426,25427,25428,25432,25435,25445,25446,25452,25453,25457,25460,25461,25464,25468,25469,25471,25474,25476,25479,25482,25488,25492,25493,25497,25498,25502,25508,25510,25517,25518,25519,25533,25537,25541,25544,25550,25553,25555,25556,25557,25564,25568,25573,25578,25580,25586,25587,25589,25592,25593,25609,25610,25616,25618,25620,25624,25630,25632,25634,25636,25637,25641,25642,25647,25648,25653,25661,25663,25675,25679,25681,25682,25683,25684,25690,25691,25692,25693,25695,25696,25697,25699,25709,25715,25716,25723,25725,25733,25735,25743,25744,25745,25752,25753,25755,25757,25759,25761,25763,25766,25768,25772,25779,25789,25790,25791,25796,25801,25802,25803,25804,25806,25808,25809,25813,25815,25828,25829,25833,25834,25837,25840,25845,25847,25851,25855,25857,25860,25864,25865,25866,25871,25875,25876,25878,25881,25883,25886,25887,25890,25894,25897,25902,25905,25914,25916,25917,25923,25927,25929,25936,25938,25940,25951,25952,25959,25963,25978,25981,25985,25989,25994,26002,26005,26008,26013,26016,26019,26022,26030,26034,26035,26036,26047,26050,26056,26057,26062,26064,26068,26070,26072,26079,26096,26098,26100,26101,26105,26110,26111,26112,26116,26120,26121,26125,26129,26130,26133,26134,26141,26142,26145,26146,26147,26148,26150,26153,26154,26155,26156,26158,26160,26161,26163,26169,26167,26176,26181,26182,26186,26188,26193,26190,26199,26200,26201,26203,26204,26208,26209,26363,26218,26219,26220,26238,26227,26229,26239,26231,26232,26233,26235,26240,26236,26251,26252,26253,26256,26258,26265,26266,26267,26268,26271,26272,26276,26285,26289,26290,26293,26299,26303,26304,26306,26307,26312,26316,26318,26319,26324,26331,26335,26344,26347,26348,26350,26362,26373,26375,26382,26387,26393,26396,26400,26402,26419,26430,26437,26439,26440,26444,26452,26453,26461,26470,26476,26478,26484,26486,26491,26497,26500,26510,26511,26513,26515,26518,26520,26521,26523,26544,26545,26546,26549,26555,26556,26557,26617,26560,26562,26563,26565,26568,26569,26578,26583,26585,26588,26593,26598,26608,26610,26614,26615,26706,26644,26649,26653,26655,26664,26663,26668,26669,26671,26672,26673,26675,26683,26687,26692,26693,26698,26700,26709,26711,26712,26715,26731,26734,26735,26736,26737,26738,26741,26745,26746,26747,26748,26754,26756,26758,26760,26774,26776,26778,26780,26785,26787,26789,26793,26794,26798,26802,26811,26821,26824,26828,26831,26832,26833,26835,26838,26841,26844,26845,26853,26856,26858,26859,26860,26861,26864,26865,26869,26870,26875,26876,26877,26886,26889,26890,26896,26897,26899,26902,26903,26929,26931,26933,26936,26939,26946,26949,26953,26958,26967,26971,26979,26980,26981,26982,26984,26985,26988,26992,26993,26994,27002,27003,27007,27008,27021,27026,27030,27032,27041,27045,27046,27048,27051,27053,27055,27063,27064,27066,27068,27077,27080,27089,27094,27095,27106,27109,27118,27119,27121,27123,27125,27134,27136,27137,27139,27151,27153,27157,27162,27165,27168,27172,27176,27184,27186,27188,27191,27195,27198,27199,27205,27206,27209,27210,27214,27216,27217,27218,27221,27222,27227,27236,27239,27242,27249,27251,27262,27265,27267,27270,27271,27273,27275,27281,27291,27293,27294,27295,27301,27307,27311,27312,27313,27316,27325,27326,27327,27334,27337,27336,27340,27344,27348,27349,27350,27356,27357,27364,27367,27372,27376,27377,27378,27388,27389,27394,27395,27398,27399,27401,27407,27408,27409,27415,27419,27422,27428,27432,27435,27436,27439,27445,27446,27451,27455,27462,27466,27469,27474,27478,27480,27485,27488,27495,27499,27502,27504,27509,27517,27518,27522,27525,27543,27547,27551,27552,27554,27555,27560,27561,27564,27565,27566,27568,27576,27577,27581,27582,27587,27588,27593,27596,27606,27610,27617,27619,27622,27623,27630,27633,27639,27641,27647,27650,27652,27653,27657,27661,27662,27664,27666,27673,27679,27686,27687,27688,27692,27694,27699,27701,27702,27706,27707,27711,27722,27723,27725,27727,27730,27732,27737,27739,27740,27755,27757,27759,27764,27766,27768,27769,27771,27781,27782,27783,27785,27796,27797,27799,27800,27804,27807,27824,27826,27828,27842,27846,27853,27855,27856,27857,27858,27860,27862,27866,27868,27872,27879,27881,27883,27884,27886,27890,27892,27908,27911,27914,27918,27919,27921,27923,27930,27942,27943,27944,27751,27950,27951,27953,27961,27964,27967,27991,27998,27999,28001,28005,28007,28015,28016,28028,28034,28039,28049,28050,28052,28054,28055,28056,28074,28076,28084,28087,28089,28093,28095,28100,28104,28106,28110,28111,28118,28123,28125,28127,28128,28130,28133,28137,28143,28144,28148,28150,28156,28160,28164,28190,28194,28199,28210,28214,28217,28219,28220,28228,28229,28232,28233,28235,28239,28241,28242,28243,28244,28247,28252,28253,28254,28258,28259,28264,28275,28283,28285,28301,28307,28313,28320,28327,28333,28334,28337,28339,28347,28351,28352,28353,28355,28359,28360,28362,28365,28366,28367,28395,28397,28398,28409,28411,28413,28420,28424,28426,28428,28429,28438,28440,28442,28443,28454,28457,28458,28463,28464,28467,28470,28475,28476,28461,28495,28497,28498,28499,28503,28505,28506,28509,28510,28513,28514,28520,28524,28541,28542,28547,28551,28552,28555,28556,28557,28560,28562,28563,28564,28566,28570,28575,28576,28581,28582,28583,28584,28590,28591,28592,28597,28598,28604,28613,28615,28616,28618,28634,28638,28648,28649,28656,28661,28665,28668,28669,28672,28677,28678,28679,28685,28695,28704,28707,28719,28724,28727,28729,28732,28739,28740,28744,28745,28746,28747,28756,28757,28765,28766,28750,28772,28773,28780,28782,28789,28790,28798,28801,28805,28806,28820,28821,28822,28823,28824,28827,28836,28843,28848,28849,28852,28855,28874,28881,28883,28884,28885,28886,28888,28892,28900,28922,28931,28932,28933,28934,28935,28939,28940,28943,28958,28960,28971,28973,28975,28976,28977,28984,28993,28997,28998,28999,29002,29003,29008,29010,29015,29018,29020,29022,29024,29032,29049,29056,29061,29063,29068,29074,29082,29083,29088,29090,29103,29104,29106,29107,29114,29119,29120,29121,29124,29131,29132,29139,29142,29145,29146,29148,29176,29182,29184,29191,29192,29193,29203,29207,29210,29213,29215,29220,29227,29231,29236,29240,29241,29249,29250,29251,29253,29262,29263,29264,29267,29269,29270,29274,29276,29278,29280,29283,29288,29291,29294,29295,29297,29303,29304,29307,29308,29311,29316,29321,29325,29326,29331,29339,29352,29357,29358,29361,29364,29374,29377,29383,29385,29388,29397,29398,29400,29407,29413,29427,29428,29434,29435,29438,29442,29444,29445,29447,29451,29453,29458,29459,29464,29465,29470,29474,29476,29479,29480,29484,29489,29490,29493,29498,29499,29501,29507,29517,29520,29522,29526,29528,29533,29534,29535,29536,29542,29543,29545,29547,29548,29550,29551,29553,29559,29561,29564,29568,29569,29571,29573,29574,29582,29584,29587,29589,29591,29592,29596,29598,29599,29600,29602,29605,29606,29610,29611,29613,29621,29623,29625,29628,29629,29631,29637,29638,29641,29643,29644,29647,29650,29651,29654,29657,29661,29665,29667,29670,29671,29673,29684,29685,29687,29689,29690,29691,29693,29695,29696,29697,29700,29703,29706,29713,29722,29723,29732,29734,29736,29737,29738,29739,29740,29741,29742,29743,29744,29745,29753,29760,29763,29764,29766,29767,29771,29773,29777,29778,29783,29789,29794,29798,29799,29800,29803,29805,29806,29809,29810,29824,29825,29829,29830,29831,29833,29839,29840,29841,29842,29848,29849,29850,29852,29855,29856,29857,29859,29862,29864,29865,29866,29867,29870,29871,29873,29874,29877,29881,29883,29887,29896,29897,29900,29904,29907,29912,29914,29915,29918,29919,29924,29928,29930,29931,29935,29940,29946,29947,29948,29951,29958,29970,29974,29975,29984,29985,29988,29991,29993,29994,29999,30006,30009,30013,30014,30015,30016,30019,30023,30024,30030,30032,30034,30039,30046,30047,30049,30063,30065,30073,30074,30075,30076,30077,30078,30081,30085,30096,30098,30099,30101,30105,30108,30114,30116,30132,30138,30143,30144,30145,30148,30150,30156,30158,30159,30167,30172,30175,30176,30177,30180,30183,30188,30190,30191,30193,30201,30208,30210,30211,30212,30215,30216,30218,30220,30223,30226,30227,30229,30230,30233,30235,30236,30237,30238,30243,30245,30246,30249,30253,30258,30259,30261,30264,30265,30266,30268,30282,30272,30273,30275,30276,30277,30281,30283,30293,30297,30303,30308,30309,30317,30318,30319,30321,30324,30337,30341,30348,30349,30357,30363,30364,30365,30367,30368,30370,30371,30372,30373,30374,30375,30376,30378,30381,30397,30401,30405,30409,30411,30412,30414,30420,30425,30432,30438,30440,30444,30448,30449,30454,30457,30460,30464,30470,30474,30478,30482,30484,30485,30487,30489,30490,30492,30498,30504,30509,30510,30511,30516,30517,30518,30521,30525,30526,30530,30533,30534,30538,30541,30542,30543,30546,30550,30551,30556,30558,30559,30560,30562,30564,30567,30570,30572,30576,30578,30579,30580,30586,30589,30592,30596,30604,30605,30612,30613,30614,30618,30623,30626,30631,30634,30638,30639,30641,30645,30654,30659,30665,30673,30674,30677,30681,30686,30687,30688,30692,30694,30698,30700,30704,30705,30708,30712,30715,30725,30726,30729,30733,30734,30737,30749,30753,30754,30755,30765,30766,30768,30773,30775,30787,30788,30791,30792,30796,30798,30802,30812,30814,30816,30817,30819,30820,30824,30826,30830,30842,30846,30858,30863,30868,30872,30881,30877,30878,30879,30884,30888,30892,30893,30896,30897,30898,30899,30907,30909,30911,30919,30920,30921,30924,30926,30930,30931,30933,30934,30948,30939,30943,30944,30945,30950,30954,30962,30963,30976,30966,30967,30970,30971,30975,30982,30988,30992,31002,31004,31006,31007,31008,31013,31015,31017,31021,31025,31028,31029,31035,31037,31039,31044,31045,31046,31050,31051,31055,31057,31060,31064,31067,31068,31079,31081,31083,31090,31097,31099,31100,31102,31115,31116,31121,31123,31124,31125,31126,31128,31131,31132,31137,31144,31145,31147,31151,31153,31156,31160,31163,31170,31172,31175,31176,31178,31183,31188,31190,31194,31197,31198,31200,31202,31205,31210,31211,31213,31217,31224,31228,31234,31235,31239,31241,31242,31244,31249,31253,31259,31262,31265,31271,31275,31277,31279,31280,31284,31285,31288,31289,31290,31300,31301,31303,31304,31308,31317,31318,31321,31324,31325,31327,31328,31333,31335,31338,31341,31349,31352,31358,31360,31362,31365,31366,31370,31371,31376,31377,31380,31390,31392,31395,31404,31411,31413,31417,31419,31420,31430,31433,31436,31438,31441,31451,31464,31465,31467,31468,31473,31476,31483,31485,31486,31495,31508,31519,31523,31527,31529,31530,31531,31533,31534,31535,31536,31537,31540,31549,31551,31552,31553,31559,31566,31573,31584,31588,31590,31593,31594,31597,31599,31602,31603,31607,31620,31625,31630,31632,31633,31638,31643,31646,31648,31653,31660,31663,31664,31666,31669,31670,31674,31675,31676,31677,31682,31685,31688,31690,31700,31702,31703,31705,31706,31707,31720,31722,31730,31732,31733,31736,31737,31738,31740,31742,31745,31746,31747,31748,31750,31753,31755,31756,31758,31759,31769,31771,31776,31781,31782,31784,31788,31793,31795,31796,31798,31801,31802,31814,31818,31829,31825,31826,31827,31833,31834,31835,31836,31837,31838,31841,31843,31847,31849,31853,31854,31856,31858,31865,31868,31869,31878,31879,31887,31892,31902,31904,31910,31920,31926,31927,31930,31931,31932,31935,31940,31943,31944,31945,31949,31951,31955,31956,31957,31959,31961,31962,31965,31974,31977,31979,31989,32003,32007,32008,32009,32015,32017,32018,32019,32022,32029,32030,32035,32038,32042,32045,32049,32060,32061,32062,32064,32065,32071,32072,32077,32081,32083,32087,32089,32090,32092,32093,32101,32103,32106,32112,32120,32122,32123,32127,32129,32130,32131,32133,32134,32136,32139,32140,32141,32145,32150,32151,32157,32158,32166,32167,32170,32179,32182,32183,32185,32194,32195,32196,32197,32198,32204,32205,32206,32215,32217,32256,32226,32229,32230,32234,32235,32237,32241,32245,32246,32249,32250,32264,32272,32273,32277,32279,32284,32285,32288,32295,32296,32300,32301,32303,32307,32310,32319,32324,32325,32327,32334,32336,32338,32344,32351,32353,32354,32357,32363,32366,32367,32371,32376,32382,32385,32390,32391,32394,32397,32401,32405,32408,32410,32413,32414,32572,32571,32573,32574,32575,32579,32580,32583,32591,32594,32595,32603,32604,32605,32609,32611,32612,32613,32614,32621,32625,32637,32638,32639,32640,32651,32653,32655,32656,32657,32662,32663,32668,32673,32674,32678,32682,32685,32692,32700,32703,32704,32707,32712,32718,32719,32731,32735,32739,32741,32744,32748,32750,32751,32754,32762,32765,32766,32767,32775,32776,32778,32781,32782,32783,32785,32787,32788,32790,32797,32798,32799,32800,32804,32806,32812,32814,32816,32820,32821,32823,32825,32826,32828,32830,32832,32836,32864,32868,32870,32877,32881,32885,32897,32904,32910,32924,32926,32934,32935,32939,32952,32953,32968,32973,32975,32978,32980,32981,32983,32984,32992,33005,33006,33008,33010,33011,33014,33017,33018,33022,33027,33035,33046,33047,33048,33052,33054,33056,33060,33063,33068,33072,33077,33082,33084,33093,33095,33098,33100,33106,33111,33120,33121,33127,33128,33129,33133,33135,33143,33153,33168,33156,33157,33158,33163,33166,33174,33176,33179,33182,33186,33198,33202,33204,33211,33227,33219,33221,33226,33230,33231,33237,33239,33243,33245,33246,33249,33252,33259,33260,33264,33265,33266,33269,33270,33272,33273,33277,33279,33280,33283,33295,33299,33300,33305,33306,33309,33313,33314,33320,33330,33332,33338,33347,33348,33349,33350,33355,33358,33359,33361,33366,33372,33376,33379,33383,33389,33396,33403,33405,33407,33408,33409,33411,33412,33415,33417,33418,33422,33425,33428,33430,33432,33434,33435,33440,33441,33443,33444,33447,33448,33449,33450,33454,33456,33458,33460,33463,33466,33468,33470,33471,33478,33488,33493,33498,33504,33506,33508,33512,33514,33517,33519,33526,33527,33533,33534,33536,33537,33543,33544,33546,33547,33620,33563,33565,33566,33567,33569,33570,33580,33581,33582,33584,33587,33591,33594,33596,33597,33602,33603,33604,33607,33613,33614,33617,33621,33622,33623,33648,33656,33661,33663,33664,33666,33668,33670,33677,33682,33684,33685,33688,33689,33691,33692,33693,33702,33703,33705,33708,33726,33727,33728,33735,33737,33743,33744,33745,33748,33757,33619,33768,33770,33782,33784,33785,33788,33793,33798,33802,33807,33809,33813,33817,33709,33839,33849,33861,33863,33864,33866,33869,33871,33873,33874,33878,33880,33881,33882,33884,33888,33892,33893,33895,33898,33904,33907,33908,33910,33912,33916,33917,33921,33925,33938,33939,33941,33950,33958,33960,33961,33962,33967,33969,33972,33978,33981,33982,33984,33986,33991,33992,33996,33999,34003,34012,34023,34026,34031,34032,34033,34034,34039,34098,34042,34043,34045,34050,34051,34055,34060,34062,34064,34076,34078,34082,34083,34084,34085,34087,34090,34091,34095,34099,34100,34102,34111,34118,34127,34128,34129,34130,34131,34134,34137,34140,34141,34142,34143,34144,34145,34146,34148,34155,34159,34169,34170,34171,34173,34175,34177,34181,34182,34185,34187,34188,34191,34195,34200,34205,34207,34208,34210,34213,34215,34228,34230,34231,34232,34236,34237,34238,34239,34242,34247,34250,34251,34254,34221,34264,34266,34271,34272,34278,34280,34285,34291,34294,34300,34303,34304,34308,34309,34317,34318,34320,34321,34322,34328,34329,34331,34334,34337,34343,34345,34358,34360,34362,34364,34365,34368,34370,34374,34386,34387,34390,34391,34392,34393,34397,34400,34401,34402,34403,34404,34409,34412,34415,34421,34422,34423,34426,34445,34449,34454,34456,34458,34460,34465,34470,34471,34472,34477,34481,34483,34484,34485,34487,34488,34489,34495,34496,34497,34499,34501,34513,34514,34517,34519,34522,34524,34528,34531,34533,34535,34440,34554,34556,34557,34564,34565,34567,34571,34574,34575,34576,34579,34580,34585,34590,34591,34593,34595,34600,34606,34607,34609,34610,34617,34618,34620,34621,34622,34624,34627,34629,34637,34648,34653,34657,34660,34661,34671,34673,34674,34683,34691,34692,34693,34694,34695,34696,34697,34699,34700,34704,34707,34709,34711,34712,34713,34718,34720,34723,34727,34732,34733,34734,34737,34741,34750,34751,34753,34760,34761,34762,34766,34773,34774,34777,34778,34780,34783,34786,34787,34788,34794,34795,34797,34801,34803,34808,34810,34815,34817,34819,34822,34825,34826,34827,34832,34841,34834,34835,34836,34840,34842,34843,34844,34846,34847,34856,34861,34862,34864,34866,34869,34874,34876,34881,34883,34885,34888,34889,34890,34891,34894,34897,34901,34902,34904,34906,34908,34911,34912,34916,34921,34929,34937,34939,34944,34968,34970,34971,34972,34975,34976,34984,34986,35002,35005,35006,35008,35018,35019,35020,35021,35022,35025,35026,35027,35035,35038,35047,35055,35056,35057,35061,35063,35073,35078,35085,35086,35087,35093,35094,35096,35097,35098,35100,35104,35110,35111,35112,35120,35121,35122,35125,35129,35130,35134,35136,35138,35141,35142,35145,35151,35154,35159,35162,35163,35164,35169,35170,35171,35179,35182,35184,35187,35189,35194,35195,35196,35197,35209,35213,35216,35220,35221,35227,35228,35231,35232,35237,35248,35252,35253,35254,35255,35260,35284,35285,35286,35287,35288,35301,35305,35307,35309,35313,35315,35318,35321,35325,35327,35332,35333,35335,35343,35345,35346,35348,35349,35358,35360,35362,35364,35366,35371,35372,35375,35381,35383,35389,35390,35392,35395,35397,35399,35401,35405,35406,35411,35414,35415,35416,35420,35421,35425,35429,35431,35445,35446,35447,35449,35450,35451,35454,35455,35456,35459,35462,35467,35471,35472,35474,35478,35479,35481,35487,35495,35497,35502,35503,35507,35510,35511,35515,35518,35523,35526,35528,35529,35530,35537,35539,35540,35541,35543,35549,35551,35564,35568,35572,35573,35574,35580,35583,35589,35590,35595,35601,35612,35614,35615,35594,35629,35632,35639,35644,35650,35651,35652,35653,35654,35656,35666,35667,35668,35673,35661,35678,35683,35693,35702,35704,35705,35708,35710,35713,35716,35717,35723,35725,35727,35732,35733,35740,35742,35743,35896,35897,35901,35902,35909,35911,35913,35915,35919,35921,35923,35924,35927,35928,35931,35933,35929,35939,35940,35942,35944,35945,35949,35955,35957,35958,35963,35966,35974,35975,35979,35984,35986,35987,35993,35995,35996,36004,36025,36026,36037,36038,36041,36043,36047,36054,36053,36057,36061,36065,36072,36076,36079,36080,36082,36085,36087,36088,36094,36095,36097,36099,36105,36114,36119,36123,36197,36201,36204,36206,36223,36226,36228,36232,36237,36240,36241,36245,36254,36255,36256,36262,36267,36268,36271,36274,36277,36279,36281,36283,36288,36293,36294,36295,36296,36298,36302,36305,36308,36309,36311,36313,36324,36325,36327,36332,36336,36284,36337,36338,36340,36349,36353,36356,36357,36358,36363,36369,36372,36374,36384,36385,36386,36387,36390,36391,36401,36403,36406,36407,36408,36409,36413,36416,36417,36427,36429,36430,36431,36436,36443,36444,36445,36446,36449,36450,36457,36460,36461,36463,36464,36465,36473,36474,36475,36482,36483,36489,36496,36498,36501,36506,36507,36509,36510,36514,36519,36521,36525,36526,36531,36533,36538,36539,36544,36545,36547,36548,36551,36559,36561,36564,36572,36584,36590,36592,36593,36599,36601,36602,36589,36608,36610,36615,36616,36623,36624,36630,36631,36632,36638,36640,36641,36643,36645,36647,36648,36652,36653,36654,36660,36661,36662,36663,36666,36672,36673,36675,36679,36687,36689,36690,36691,36692,36693,36696,36701,36702,36709,36765,36768,36769,36772,36773,36774,36789,36790,36792,36798,36800,36801,36806,36810,36811,36813,36816,36818,36819,36821,36832,36835,36836,36840,36846,36849,36853,36854,36859,36862,36866,36868,36872,36876,36888,36891,36904,36905,36911,36906,36908,36909,36915,36916,36919,36927,36931,36932,36940,36955,36957,36962,36966,36967,36972,36976,36980,36985,36997,37e3,37003,37004,37006,37008,37013,37015,37016,37017,37019,37024,37025,37026,37029,37040,37042,37043,37044,37046,37053,37068,37054,37059,37060,37061,37063,37064,37077,37079,37080,37081,37084,37085,37087,37093,37074,37110,37099,37103,37104,37108,37118,37119,37120,37124,37125,37126,37128,37133,37136,37140,37142,37143,37144,37146,37148,37150,37152,37157,37154,37155,37159,37161,37166,37167,37169,37172,37174,37175,37177,37178,37180,37181,37187,37191,37192,37199,37203,37207,37209,37210,37211,37217,37220,37223,37229,37236,37241,37242,37243,37249,37251,37253,37254,37258,37262,37265,37267,37268,37269,37272,37278,37281,37286,37288,37292,37293,37294,37296,37297,37298,37299,37302,37307,37308,37309,37311,37314,37315,37317,37331,37332,37335,37337,37338,37342,37348,37349,37353,37354,37356,37357,37358,37359,37360,37361,37367,37369,37371,37373,37376,37377,37380,37381,37382,37383,37385,37386,37388,37392,37394,37395,37398,37400,37404,37405,37411,37412,37413,37414,37416,37422,37423,37424,37427,37429,37430,37432,37433,37434,37436,37438,37440,37442,37443,37446,37447,37450,37453,37454,37455,37457,37464,37465,37468,37469,37472,37473,37477,37479,37480,37481,37486,37487,37488,37493,37494,37495,37496,37497,37499,37500,37501,37503,37512,37513,37514,37517,37518,37522,37527,37529,37535,37536,37540,37541,37543,37544,37547,37551,37554,37558,37560,37562,37563,37564,37565,37567,37568,37569,37570,37571,37573,37574,37575,37576,37579,37580,37581,37582,37584,37587,37589,37591,37592,37593,37596,37597,37599,37600,37601,37603,37605,37607,37608,37612,37614,37616,37625,37627,37631,37632,37634,37640,37645,37649,37652,37653,37660,37661,37662,37663,37665,37668,37669,37671,37673,37674,37683,37684,37686,37687,37703,37704,37705,37712,37713,37714,37717,37719,37720,37722,37726,37732,37733,37735,37737,37738,37741,37743,37744,37745,37747,37748,37750,37754,37757,37759,37760,37761,37762,37768,37770,37771,37773,37775,37778,37781,37784,37787,37790,37793,37795,37796,37798,37800,37803,37812,37813,37814,37818,37801,37825,37828,37829,37830,37831,37833,37834,37835,37836,37837,37843,37849,37852,37854,37855,37858,37862,37863,37881,37879,37880,37882,37883,37885,37889,37890,37892,37896,37897,37901,37902,37903,37909,37910,37911,37919,37934,37935,37937,37938,37939,37940,37947,37951,37949,37955,37957,37960,37962,37964,37973,37977,37980,37983,37985,37987,37992,37995,37997,37998,37999,38001,38002,38020,38019,38264,38265,38270,38276,38280,38284,38285,38286,38301,38302,38303,38305,38310,38313,38315,38316,38324,38326,38330,38333,38335,38342,38344,38345,38347,38352,38353,38354,38355,38361,38362,38365,38366,38367,38368,38372,38374,38429,38430,38434,38436,38437,38438,38444,38449,38451,38455,38456,38457,38458,38460,38461,38465,38482,38484,38486,38487,38488,38497,38510,38516,38523,38524,38526,38527,38529,38530,38531,38532,38537,38545,38550,38554,38557,38559,38564,38565,38566,38569,38574,38575,38579,38586,38602,38610,23986,38616,38618,38621,38622,38623,38633,38639,38641,38650,38658,38659,38661,38665,38682,38683,38685,38689,38690,38691,38696,38705,38707,38721,38723,38730,38734,38735,38741,38743,38744,38746,38747,38755,38759,38762,38766,38771,38774,38775,38776,38779,38781,38783,38784,38793,38805,38806,38807,38809,38810,38814,38815,38818,38828,38830,38833,38834,38837,38838,38840,38841,38842,38844,38846,38847,38849,38852,38853,38855,38857,38858,38860,38861,38862,38864,38865,38868,38871,38872,38873,38877,38878,38880,38875,38881,38884,38895,38897,38900,38903,38904,38906,38919,38922,38937,38925,38926,38932,38934,38940,38942,38944,38947,38950,38955,38958,38959,38960,38962,38963,38965,38949,38974,38980,38983,38986,38993,38994,38995,38998,38999,39001,39002,39010,39011,39013,39014,39018,39020,39083,39085,39086,39088,39092,39095,39096,39098,39099,39103,39106,39109,39112,39116,39137,39139,39141,39142,39143,39146,39155,39158,39170,39175,39176,39185,39189,39190,39191,39194,39195,39196,39199,39202,39206,39207,39211,39217,39218,39219,39220,39221,39225,39226,39227,39228,39232,39233,39238,39239,39240,39245,39246,39252,39256,39257,39259,39260,39262,39263,39264,39323,39325,39327,39334,39344,39345,39346,39349,39353,39354,39357,39359,39363,39369,39379,39380,39385,39386,39388,39390,39399,39402,39403,39404,39408,39412,39413,39417,39421,39422,39426,39427,39428,39435,39436,39440,39441,39446,39454,39456,39458,39459,39460,39463,39469,39470,39475,39477,39478,39480,39495,39489,39492,39498,39499,39500,39502,39505,39508,39510,39517,39594,39596,39598,39599,39602,39604,39605,39606,39609,39611,39614,39615,39617,39619,39622,39624,39630,39632,39634,39637,39638,39639,39643,39644,39648,39652,39653,39655,39657,39660,39666,39667,39669,39673,39674,39677,39679,39680,39681,39682,39683,39684,39685,39688,39689,39691,39692,39693,39694,39696,39698,39702,39705,39707,39708,39712,39718,39723,39725,39731,39732,39733,39735,39737,39738,39741,39752,39755,39756,39765,39766,39767,39771,39774,39777,39779,39781,39782,39784,39786,39787,39788,39789,39790,39795,39797,39799,39800,39801,39807,39808,39812,39813,39814,39815,39817,39818,39819,39821,39823,39824,39828,39834,39837,39838,39846,39847,39849,39852,39856,39857,39858,39863,39864,39867,39868,39870,39871,39873,39879,39880,39886,39888,39895,39896,39901,39903,39909,39911,39914,39915,39919,39923,39927,39928,39929,39930,39933,39935,39936,39938,39947,39951,39953,39958,39960,39961,39962,39964,39966,39970,39971,39974,39975,39976,39977,39978,39985,39989,39990,39991,39997,40001,40003,40004,40005,40009,40010,40014,40015,40016,40019,40020,40022,40024,40027,40029,40030,40031,40035,40041,40042,40028,40043,40040,40046,40048,40050,40053,40055,40059,40166,40178,40183,40185,40203,40194,40209,40215,40216,40220,40221,40222,40239,40240,40242,40243,40244,40250,40252,40261,40253,40258,40259,40263,40266,40275,40276,40287,40291,40290,40293,40297,40298,40299,40304,40310,40311,40315,40316,40318,40323,40324,40326,40330,40333,40334,40338,40339,40341,40342,40343,40344,40353,40362,40364,40366,40369,40373,40377,40380,40383,40387,40391,40393,40394,40404,40405,40406,40407,40410,40414,40415,40416,40421,40423,40425,40427,40430,40432,40435,40436,40446,40458,40450,40455,40462,40464,40465,40466,40469,40470,40473,40476,40477,40570,40571,40572,40576,40578,40579,40580,40581,40583,40590,40591,40598,40600,40603,40606,40612,40616,40620,40622,40623,40624,40627,40628,40629,40646,40648,40651,40661,40671,40676,40679,40684,40685,40686,40688,40689,40690,40693,40696,40703,40706,40707,40713,40719,40720,40721,40722,40724,40726,40727,40729,40730,40731,40735,40738,40742,40746,40747,40751,40753,40754,40756,40759,40761,40762,40764,40765,40767,40769,40771,40772,40773,40774,40775,40787,40789,40790,40791,40792,40794,40797,40798,40808,40809,40813,40814,40815,40816,40817,40819,40821,40826,40829,40847,40848,40849,40850,40852,40854,40855,40862,40865,40866,40867,40869,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],
ibm866:[1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,9617,9618,9619,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9561,9560,9554,9555,9579,9578,9496,9484,9608,9604,9612,9616,9600,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1025,1105,1028,1108,1031,1111,1038,1118,176,8729,183,8730,8470,164,9632,160],"iso-8859-2":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,728,321,164,317,346,167,168,352,350,356,377,173,381,379,176,261,731,322,180,318,347,711,184,353,351,357,378,733,382,380,340,193,194,258,196,313,262,199,268,201,280,203,282,205,206,270,272,323,327,211,212,336,214,215,344,366,218,368,220,221,354,223,341,225,226,259,228,314,263,231,269,233,281,235,283,237,238,271,273,324,328,243,244,337,246,247,345,367,250,369,252,253,355,729],"iso-8859-3":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,294,728,163,164,null,292,167,168,304,350,286,308,173,null,379,176,295,178,179,180,181,293,183,184,305,351,287,309,189,null,380,192,193,194,null,196,266,264,199,200,201,202,203,204,205,206,207,null,209,210,211,212,288,214,215,284,217,218,219,220,364,348,223,224,225,226,null,228,267,265,231,232,233,234,235,236,237,238,239,null,241,242,243,244,289,246,247,285,249,250,251,252,365,349,729],"iso-8859-4":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,312,342,164,296,315,167,168,352,274,290,358,173,381,175,176,261,731,343,180,297,316,711,184,353,275,291,359,330,382,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,298,272,325,332,310,212,213,214,215,216,370,218,219,220,360,362,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,299,273,326,333,311,244,245,246,247,248,371,250,251,252,361,363,729],"iso-8859-5":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,173,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,8470,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,167,1118,1119],"iso-8859-6":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,null,null,null,164,null,null,null,null,null,null,null,1548,173,null,null,null,null,null,null,null,null,null,null,null,null,null,1563,null,null,null,1567,null,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,null,null,null,null,null,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,null,null,null,null,null,null,null,null,null,null,null,null,null],"iso-8859-7":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8216,8217,163,8364,8367,166,167,168,169,890,171,172,173,null,8213,176,177,178,179,900,901,902,183,904,905,906,187,908,189,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,null,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,null],"iso-8859-8":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,null,162,163,164,165,166,167,168,169,215,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,247,187,188,189,190,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,8215,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,null,null,8206,8207,null],"iso-8859-10":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,274,290,298,296,310,167,315,272,352,358,381,173,362,330,176,261,275,291,299,297,311,183,316,273,353,359,382,8213,363,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,207,208,325,332,211,212,213,214,360,216,370,218,219,220,221,222,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,239,240,326,333,243,244,245,246,361,248,371,250,251,252,253,254,312],"iso-8859-13":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8221,162,163,164,8222,166,167,216,169,342,171,172,173,174,198,176,177,178,179,8220,181,182,183,248,185,343,187,188,189,190,230,260,302,256,262,196,197,280,274,268,201,377,278,290,310,298,315,352,323,325,211,332,213,214,215,370,321,346,362,220,379,381,223,261,303,257,263,228,229,281,275,269,233,378,279,291,311,299,316,353,324,326,243,333,245,246,247,371,322,347,363,252,380,382,8217],"iso-8859-14":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,7682,7683,163,266,267,7690,167,7808,169,7810,7691,7922,173,174,376,7710,7711,288,289,7744,7745,182,7766,7809,7767,7811,7776,7923,7812,7813,7777,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,372,209,210,211,212,213,214,7786,216,217,218,219,220,221,374,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,373,241,242,243,244,245,246,7787,248,249,250,251,252,253,375,255],"iso-8859-15":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,8364,165,352,167,353,169,170,171,172,173,174,175,176,177,178,179,381,181,182,183,382,185,186,187,338,339,376,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],"iso-8859-16":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,261,321,8364,8222,352,167,353,169,536,171,377,173,378,379,176,177,268,322,381,8221,182,183,382,269,537,187,338,339,376,380,192,193,194,258,196,262,198,199,200,201,202,203,204,205,206,207,272,323,210,211,212,336,214,346,368,217,218,219,220,280,538,223,224,225,226,259,228,263,230,231,232,233,234,235,236,237,238,239,273,324,242,243,244,337,246,347,369,249,250,251,252,281,539,255],"koi8-r":[9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9600,9604,9608,9612,9616,9617,9618,9619,8992,9632,8729,8730,8776,8804,8805,160,8993,176,178,183,247,9552,9553,9554,1105,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,1025,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,169,1102,1072,1073,1094,1076,1077,1092,1075,1093,1080,1081,1082,1083,1084,1085,1086,1087,1103,1088,1089,1090,1091,1078,1074,1100,1099,1079,1096,1101,1097,1095,1098,1070,1040,1041,1062,1044,1045,1060,1043,1061,1048,1049,1050,1051,1052,1053,1054,1055,1071,1056,1057,1058,1059,1046,1042,1068,1067,1047,1064,1069,1065,1063,1066],"koi8-u":[9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9600,9604,9608,9612,9616,9617,9618,9619,8992,9632,8729,8730,8776,8804,8805,160,8993,176,178,183,247,9552,9553,9554,1105,1108,9556,1110,1111,9559,9560,9561,9562,9563,1169,1118,9566,9567,9568,9569,1025,1028,9571,1030,1031,9574,9575,9576,9577,9578,1168,1038,169,1102,1072,1073,1094,1076,1077,1092,1075,1093,1080,1081,1082,1083,1084,1085,1086,1087,1103,1088,1089,1090,1091,1078,1074,1100,1099,1079,1096,1101,1097,1095,1098,1070,1040,1041,1062,1044,1045,1060,1043,1061,1048,1049,1050,1051,1052,1053,1054,1055,1071,1056,1057,1058,1059,1046,1042,1068,1067,1047,1064,1069,1065,1063,1066],macintosh:[196,197,199,201,209,214,220,225,224,226,228,227,229,231,233,232,234,235,237,236,238,239,241,243,242,244,246,245,250,249,251,252,8224,176,162,163,167,8226,182,223,174,169,8482,180,168,8800,198,216,8734,177,8804,8805,165,181,8706,8721,8719,960,8747,170,186,937,230,248,191,161,172,8730,402,8776,8710,171,187,8230,160,192,195,213,338,339,8211,8212,8220,8221,8216,8217,247,9674,255,376,8260,8364,8249,8250,64257,64258,8225,183,8218,8222,8240,194,202,193,203,200,205,206,207,204,211,212,63743,210,218,219,217,305,710,732,175,728,729,730,184,733,731,711],"windows-874":[8364,129,130,131,132,8230,134,135,136,137,138,139,140,141,142,143,144,8216,8217,8220,8221,8226,8211,8212,152,153,154,155,156,157,158,159,160,3585,3586,3587,3588,3589,3590,3591,3592,3593,3594,3595,3596,3597,3598,3599,3600,3601,3602,3603,3604,3605,3606,3607,3608,3609,3610,3611,3612,3613,3614,3615,3616,3617,3618,3619,3620,3621,3622,3623,3624,3625,3626,3627,3628,3629,3630,3631,3632,3633,3634,3635,3636,3637,3638,3639,3640,3641,3642,null,null,null,null,3647,3648,3649,3650,3651,3652,3653,3654,3655,3656,3657,3658,3659,3660,3661,3662,3663,3664,3665,3666,3667,3668,3669,3670,3671,3672,3673,3674,3675,null,null,null,null],"windows-1250":[8364,129,8218,131,8222,8230,8224,8225,136,8240,352,8249,346,356,381,377,144,8216,8217,8220,8221,8226,8211,8212,152,8482,353,8250,347,357,382,378,160,711,728,321,164,260,166,167,168,169,350,171,172,173,174,379,176,177,731,322,180,181,182,183,184,261,351,187,317,733,318,380,340,193,194,258,196,313,262,199,268,201,280,203,282,205,206,270,272,323,327,211,212,336,214,215,344,366,218,368,220,221,354,223,341,225,226,259,228,314,263,231,269,233,281,235,283,237,238,271,273,324,328,243,244,337,246,247,345,367,250,369,252,253,355,729],"windows-1251":[1026,1027,8218,1107,8222,8230,8224,8225,8364,8240,1033,8249,1034,1036,1035,1039,1106,8216,8217,8220,8221,8226,8211,8212,152,8482,1113,8250,1114,1116,1115,1119,160,1038,1118,1032,164,1168,166,167,1025,169,1028,171,172,173,174,1031,176,177,1030,1110,1169,181,182,183,1105,8470,1108,187,1112,1029,1109,1111,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103],"windows-1252":[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],"windows-1253":[8364,129,8218,402,8222,8230,8224,8225,136,8240,138,8249,140,141,142,143,144,8216,8217,8220,8221,8226,8211,8212,152,8482,154,8250,156,157,158,159,160,901,902,163,164,165,166,167,168,169,null,171,172,173,174,8213,176,177,178,179,900,181,182,183,904,905,906,187,908,189,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,null,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,null],"windows-1254":[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,142,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,158,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,286,209,210,211,212,213,214,215,216,217,218,219,220,304,350,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,287,241,242,243,244,245,246,247,248,249,250,251,252,305,351,255],"windows-1255":[8364,129,8218,402,8222,8230,8224,8225,710,8240,138,8249,140,141,142,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,154,8250,156,157,158,159,160,161,162,163,8362,165,166,167,168,169,215,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,247,187,188,189,190,191,1456,1457,1458,1459,1460,1461,1462,1463,1464,1465,null,1467,1468,1469,1470,1471,1472,1473,1474,1475,1520,1521,1522,1523,1524,null,null,null,null,null,null,null,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,null,null,8206,8207,null],"windows-1256":[8364,1662,8218,402,8222,8230,8224,8225,710,8240,1657,8249,338,1670,1688,1672,1711,8216,8217,8220,8221,8226,8211,8212,1705,8482,1681,8250,339,8204,8205,1722,160,1548,162,163,164,165,166,167,168,169,1726,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,1563,187,188,189,190,1567,1729,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,215,1591,1592,1593,1594,1600,1601,1602,1603,224,1604,226,1605,1606,1607,1608,231,232,233,234,235,1609,1610,238,239,1611,1612,1613,1614,244,1615,1616,247,1617,249,1618,251,252,8206,8207,1746],"windows-1257":[8364,129,8218,131,8222,8230,8224,8225,136,8240,138,8249,140,168,711,184,144,8216,8217,8220,8221,8226,8211,8212,152,8482,154,8250,156,175,731,159,160,null,162,163,164,null,166,167,216,169,342,171,172,173,174,198,176,177,178,179,180,181,182,183,248,185,343,187,188,189,190,230,260,302,256,262,196,197,280,274,268,201,377,278,290,310,298,315,352,323,325,211,332,213,214,215,370,321,346,362,220,379,381,223,261,303,257,263,228,229,281,275,269,233,378,279,291,311,299,316,353,324,326,243,333,245,246,247,371,322,347,363,252,380,382,729],"windows-1258":[8364,129,8218,402,8222,8230,8224,8225,710,8240,138,8249,338,141,142,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,154,8250,339,157,158,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,258,196,197,198,199,200,201,202,203,768,205,206,207,272,209,777,211,212,416,214,215,216,217,218,219,220,431,771,223,224,225,226,259,228,229,230,231,232,233,234,235,769,237,238,239,273,241,803,243,244,417,246,247,248,249,250,251,252,432,8363,255],"x-mac-cyrillic":[1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,8224,176,1168,163,167,8226,182,1030,174,169,8482,1026,1106,8800,1027,1107,8734,177,8804,8805,1110,181,1169,1032,1028,1108,1031,1111,1033,1113,1034,1114,1112,1029,172,8730,402,8776,8710,171,187,8230,160,1035,1115,1036,1116,1109,8211,8212,8220,8221,8216,8217,247,8222,1038,1118,1039,1119,8470,1025,1105,1103,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,8364]}}(this);

},{}],751:[function(require,module,exports){
"undefined"!=typeof module&&module.exports&&(this["encoding-indexes"]=require("./encoding-indexes.js")["encoding-indexes"]),function(e){"use strict";function n(e,n,r){return n<=e&&e<=r}function r(e,n){return e.indexOf(n)!==-1}function t(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function o(e){for(var n=String(e),r=n.length,t=0,o=[];t<r;){var i=n.charCodeAt(t);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(t===r-1)o.push(65533);else{var a=e.charCodeAt(t+1);if(56320<=a&&a<=57343){var s=1023&i,f=1023&a;o.push(65536+(s<<10)+f),t+=1}else o.push(65533)}t+=1}return o}function i(e){for(var n="",r=0;r<e.length;++r){var t=e[r];t<=65535?n+=String.fromCharCode(t):(t-=65536,n+=String.fromCharCode((t>>10)+55296,(1023&t)+56320))}return n}function a(e){this.tokens=[].slice.call(e),this.tokens.reverse()}function s(e,n){if(e)throw TypeError("Decoder error");return n||65533}function f(){}function d(){}function u(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(m,e)?m[e]:null}function c(e,n){if(!(this instanceof c))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):O,n=t(n),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var r=u(e);if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+e);if(!w[r.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js?");var o=this;return o._encoding=r,Boolean(n.fatal)&&(o._error_mode="fatal"),Boolean(n.ignoreBOM)&&(o._ignoreBOM=!0),Object.defineProperty||(this.encoding=o._encoding.name.toLowerCase(),this.fatal="fatal"===o._error_mode,this.ignoreBOM=o._ignoreBOM),o}function h(n,r){if(!(this instanceof h))throw TypeError("Called as a function. Did you forget 'new'?");r=t(r),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(r.fatal)?"fatal":"replacement";var o=this;if(Boolean(r.NONSTANDARD_allowLegacyEncoding)){n=void 0!==n?String(n):O;var i=u(n);if(null===i||"replacement"===i.name)throw RangeError("Unknown encoding: "+n);if(!v[i.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js?");o._encoding=i}else o._encoding=u("utf-8"),void 0!==n&&"console"in e&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=o._encoding.name.toLowerCase()),o}function l(e){var r=e.fatal,t=0,o=0,i=0,a=128,f=191;this.handler=function(e,d){if(d===_&&0!==i)return i=0,s(r);if(d===_)return g;if(0===i){if(n(d,0,127))return d;if(n(d,194,223))i=1,t=31&d;else if(n(d,224,239))224===d&&(a=160),237===d&&(f=159),i=2,t=15&d;else{if(!n(d,240,244))return s(r);240===d&&(a=144),244===d&&(f=143),i=3,t=7&d}return null}if(!n(d,a,f))return t=i=o=0,a=128,f=191,e.prepend(d),s(r);if(a=128,f=191,t=t<<6|63&d,o+=1,o!==i)return null;var u=t;return t=i=o=0,u}}function p(e){e.fatal;this.handler=function(e,r){if(r===_)return g;if(n(r,0,127))return r;var t,o;n(r,128,2047)?(t=1,o=192):n(r,2048,65535)?(t=2,o=224):n(r,65536,1114111)&&(t=3,o=240);for(var i=[(r>>6*t)+o];t>0;){var a=r>>6*(t-1);i.push(128|63&a),t-=1}return i}}var _=(Math.floor,-1);a.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():_},prepend:function(e){if(Array.isArray(e))for(var n=e;n.length;)this.tokens.push(n.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var n=e;n.length;)this.tokens.unshift(n.shift());else this.tokens.unshift(e)}};var g=-1;f.prototype={handler:function(e,n){}},d.prototype={handler:function(e,n){}};var y=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"}],m={};y.forEach(function(e){e.encodings.forEach(function(e){e.labels.forEach(function(n){m[n]=e})})});var v={},w={},O="utf-8";Object.defineProperty&&(Object.defineProperty(c.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(c.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(c.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),c.prototype.decode=function(e,n){function o(e){return!r(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),i(e)}var s;s="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),n=t(n),this._do_not_flush||(this._decoder=w[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(n.stream);for(var f,d=new a(s),u=[];;){var c=d.read();if(c===_)break;if(f=this._decoder.handler(d,c),f===g)break;null!==f&&(Array.isArray(f)?u.push.apply(u,f):u.push(f))}if(!this._do_not_flush){do{if(f=this._decoder.handler(d,d.read()),f===g)break;null!==f&&(Array.isArray(f)?u.push.apply(u,f):u.push(f))}while(!d.endOfStream());this._decoder=null}return o.call(this,u)},Object.defineProperty&&Object.defineProperty(h.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),h.prototype.encode=function(e,n){e=e?String(e):"",n=t(n),this._do_not_flush||(this._encoder=v[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(n.stream);for(var r,i=new a(o(e)),s=[];;){var f=i.read();if(f===_)break;if(r=this._encoder.handler(i,f),r===g)break;Array.isArray(r)?s.push.apply(s,r):s.push(r)}if(!this._do_not_flush){for(;;){if(r=this._encoder.handler(i,i.read()),r===g)break;Array.isArray(r)?s.push.apply(s,r):s.push(r)}this._encoder=null}return new Uint8Array(s)},v["UTF-8"]=function(e){return new p(e)},w["UTF-8"]=function(e){return new l(e)},e.TextEncoder||(e.TextEncoder=h),e.TextDecoder||(e.TextDecoder=c),"undefined"!=typeof module&&module.exports&&(module.exports={TextEncoder:e.TextEncoder,TextDecoder:e.TextDecoder,EncodingIndexes:e["encoding-indexes"]})}(this);

},{"./encoding-indexes.js":750}],752:[function(require,module,exports){
module.exports={hostWindow:require("./window/hostWindow"),ClientWindow:require("./window/clientWindow")};
},{"./window/clientWindow":757,"./window/hostWindow":759}],753:[function(require,module,exports){
function PushMsg(s,t){this.window=s,this.source=t.source,this.topic=t.topic,this.body=t.body,this.type=t.type,this.msgId=t.msgId}var msgType=require("./msgType.js");PushMsg.prototype.ack=function(s,t){this.window.postMessage(this.source,{body:s,topic:this.topic,type:msgType.ACK,msgId:this.msgId,code:t})},module.exports=PushMsg;

},{"./msgType.js":756}],754:[function(require,module,exports){
function Request(e,t,s){this.service=t,this.source=e,this.queryOption=s,this.msgId=genMsgId(),this.type=msgType.REQUEST,this._defer={},this._defer.promise=new Promise(function(e,t){this._defer.resolve=e,this._defer.reject=t}.bind(this)),this.result=this._defer.promise}var genMsgId=function(){return(new Date).getTime()+Math.ceil(1e3*Math.random())},msgType=require("./msgType.js");Request.prototype.getPayload=function(){return{service:this.service,source:this.source.name,queryOption:this.queryOption,msgId:this.msgId,type:this.type}},Request.prototype.receiveResponse=function(e){200===e.code?this._defer.resolve(e.body):this._defer.reject(e.body)},module.exports=Request;

},{"./msgType.js":756}],755:[function(require,module,exports){
function Response(s,e,t){this.window=s,this.queryOption=e.queryOption,this.sourceWindow=e.source,this.type=msgType.RESPONSE,this.msgId=e.msgId,this.syncResult=t}var msgType=require("./msgType.js");Response.prototype.respond=function(s,e){this.window.postMessage(this.sourceWindow,{body:s,code:e,type:this.type,msgId:this.msgId})},Response.prototype.respondSync=function(s){this.syncResult.returnValue=s},module.exports=Response;
},{"./msgType.js":756}],756:[function(require,module,exports){
var msgType={ACK:"ack",REQUEST:"request",RESPONSE:"response",PUSH:"push"};module.exports=msgType;

},{}],757:[function(require,module,exports){
function ClientWindow(s){ddWindow.call(this,s),this.initMsgSubscribe(),this.requests={},this.subscribes={}}var ddWindow=require("./ddWindow.js"),util=require("util"),Request=require("../msg/Request.js"),PushMsg=require("../msg/PushMsg.js"),msgType=require("../msg/msgType.js");util.inherits(ClientWindow,ddWindow),ClientWindow.prototype.initMsgSubscribe=function(){this.on(this.EVENTS.WINDOW_MESSAGE,function(s){switch(s.type){case msgType.RESPONSE:this.requests[s.msgId]&&this.requests[s.msgId].receiveResponse(s);break;case msgType.PUSH:var e=new PushMsg(this,s);this.subscribes[s.topic]&&this.subscribes[s.topic](e.body,e.ack.bind(e))}})},ClientWindow.prototype.invokeHostAPI=function(s,e){var i=new Request(this,s,e);return this.requests[i.msgId]=i,this.postMessage("main",i.getPayload()),i},ClientWindow.prototype.invokeHostAPISync=function(s,e){var i=new Request(this,s,e);return this.requests[i.msgId]=i,this.postMessageSync("main",i.getPayload()).returnValue},ClientWindow.prototype.subscribe=function(s,e){this.subscribes[s]=e},ClientWindow.prototype.unsubscribe=function(s){this.subscribes[s]=null},ClientWindow.prototype.unsubscribeAll=function(){this.subscribes={}},module.exports=ClientWindow;

},{"../msg/PushMsg.js":753,"../msg/Request.js":754,"../msg/msgType.js":756,"./ddWindow.js":758,"util":16}],758:[function(require,module,exports){
(function (global){
function ddWindow(i){this.name=i,isMojo||this.registerWindow(),this.EVENTS={WINDOW_MESSAGE:"windowMessage"},isMojo&&window.dingtalkWindowsGlue.eventProxy.addListener("WindowMessage",function(i){this.emit(this.EVENTS.WINDOW_MESSAGE,i)}.bind(this))}var EventEmitter=require("events").EventEmitter,util=require("util"),isMojo="object"==typeof window.dingtalkWindowsGlue;util.inherits(ddWindow,EventEmitter),ddWindow.prototype.registerWindow=function(){var i=global.process;i._ddWindow||(i._ddWindow={}),i._ddWindow[this.name]=this},ddWindow.prototype.findWindowByName=function(i){var d=global.process;return d._ddWindow&&d._ddWindow[i]?d._ddWindow[i]:null},ddWindow.prototype.postMessage=function(i,d){if(isMojo)dingtalk.window.postMessage(i,JSON.stringify(d));else{var o=this.findWindowByName(i);o&&o.emit(this.EVENTS.WINDOW_MESSAGE,d)}},ddWindow.prototype.postMessageSync=function(i,d){var o=this.findWindowByName(i),n={};return o&&o.emit(this.EVENTS.WINDOW_MESSAGE,d,n),n},ddWindow.prototype.destroy=function(){if(!isMojo){var i=global.process;i._ddWindow&&(i._ddWindow[this.name]=null,delete i._ddWindow[this.name])}},module.exports=ddWindow;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"events":3,"util":16}],759:[function(require,module,exports){
var ddWindow=require("./ddWindow.js"),hostWindow=new ddWindow("main"),Response=require("../msg/Response.js"),msgType=require("../msg/msgType.js"),ackCaches={},callbackCache={},genMsgId=function(){return(new Date).getTime()+Math.ceil(1e3*Math.random())},errorCodes={API_NOT_EXITS:{msg:"api not exits",code:404}};hostWindow.on(hostWindow.EVENTS.WINDOW_MESSAGE,function(e,o){switch(e.type){case msgType.ACK:var s=ackCaches[e.msgId];200===e.code?s.resolve(e.body):s.reject(e.body);break;case msgType.REQUEST:var r=new Response(hostWindow,e,o);callbackCache[e.service]?callbackCache[e.service](r):(r.respond(new Error(errorCodes.API_NOT_EXITS.msg),errorCodes.API_NOT_EXITS.code),o&&r.respondSync(new Error(errorCodes.API_NOT_EXITS.msg)))}}),hostWindow.register=function(e,o){callbackCache[e]=o},hostWindow.pushToClient=function(e,o,s){var r={type:msgType.PUSH,topic:o,body:s,source:"main",msgId:genMsgId()},n=ackCaches[r.msgId]={};return n.promise=new Promise(function(e,o){n.resolve=e,n.reject=o}),hostWindow.postMessage(e,r),n.promise},hostWindow.unregister=function(e){callbackCache[e]=null},hostWindow.unregisterAll=function(){callbackCache={}},module.exports=hostWindow;

},{"../msg/Response.js":755,"../msg/msgType.js":756,"./ddWindow.js":758}],760:[function(require,module,exports){
"use strict";function AliasI(e){var t={};return funcList.forEach(function(n){t[n]=function(){var t,r=Array.prototype.slice.apply(arguments,[]);return r.length>0?(t=r[r.length-1],"function"!=typeof t?t=function(){}:r.pop()):(r=[],t=function(){}),e.sendMsg("/r/"+serviceName+"/"+n,{},r,t)}}),t}var serviceName="AliasI",funcList=["update","getAliasModel","updateData","queryAll"];module.exports=AliasI;

},{}],761:[function(require,module,exports){
"use strict";function BlacklistI(t){var e={};return funcList.forEach(function(n){e[n]=function(){var e,c=Array.prototype.slice.apply(arguments,[]);return c.length>0?(e=c[c.length-1],"function"!=typeof e?e=function(){}:c.pop()):(c=[],e=function(){}),t.sendMsg("/r/"+serviceName+"/"+n,{},c,e)}}),e}var serviceName="BlacklistI",funcList=["listAll","getStatus","addToBlacklist","removeFromBlacklist"];module.exports=BlacklistI;

},{}],762:[function(require,module,exports){
"use strict";function ClientLogI(n){var t={};return funcList.forEach(function(e){t[e]=function(){var t,o=Array.prototype.slice.apply(arguments,[]);return o.length>0?(t=o[o.length-1],"function"!=typeof t?t=function(){}:o.pop()):(o=[],t=function(){}),n.sendMsg("/r/"+serviceName+"/"+e,{},o,t)}}),t}var serviceName="ClientLogI",funcList=["alarm","upload"];module.exports=ClientLogI;

},{}],763:[function(require,module,exports){
"use strict";function ColdBootI(o){var t={};return funcList.forEach(function(n){t[n]=function(){var t,e=Array.prototype.slice.apply(arguments,[]);return e.length>0?(t=e[e.length-1],"function"!=typeof t?t=function(){}:e.pop()):(e=[],t=function(){}),o.sendMsg("/r/"+serviceName+"/"+n,{},e,t)}}),t}var serviceName="ColdBootI",funcList=["sendColdBootNotice","login"];module.exports=ColdBootI;

},{}],764:[function(require,module,exports){
"use strict";function DAuthI(n){var t={};return funcList.forEach(function(e){t[e]=function(){var t,r=Array.prototype.slice.apply(arguments,[]);return r.length>0?(t=r[r.length-1],"function"!=typeof t?t=function(){}:r.pop()):(r=[],t=function(){}),n.sendMsg("/r/"+serviceName+"/"+e,{},r,t)}}),t}var serviceName="DAuthI",funcList=["login","refreshToken"];module.exports=DAuthI;

},{}],765:[function(require,module,exports){
"use strict";function FollowI(l){var o={};return funcList.forEach(function(t){o[t]=function(){var o,n=Array.prototype.slice.apply(arguments,[]);return n.length>0?(o=n[n.length-1],"function"!=typeof o?o=function(){}:n.pop()):(n=[],o=function(){}),l.sendMsg("/r/"+serviceName+"/"+t,{},n,o)}}),o}var serviceName="FollowI",funcList=["listFollowings","listBilateral","listFollowers","getStatus","listAll","follow","unfollow"];module.exports=FollowI;

},{}],766:[function(require,module,exports){
"use strict";function IDLConversation(e){var t={};return funcList.forEach(function(o){t[o]=function(){var t,i=Array.prototype.slice.apply(arguments,[]);return i.length>0?(t=i[i.length-1],"function"!=typeof t?t=function(){}:i.pop()):(i=[],t=function(){}),e.sendMsg("/r/"+serviceName+"/"+o,{},i,t)}}),t}var serviceName="IDLConversation",funcList=["listNewest","listConversations","listGroup","listAllGroup","listOwnGroup","getById","getByIdUnlimited","create","hide","listMembers","addMembers","addMemberAndRoles","addChildGroupMembers","removeMembers","updateTitle","updateIcon","updateTag","updateExtension","updateExtByKeys","updateMemberExtension","quit","quitSilent","updateNotificationOff","hides","updateInfo","setTop","updateStatus","getByIds","quits","disband","listRoles","listGroupByTags","getCode","verifyCode","hideAndClear","getCommonByIds","updateOwner","updateNotificationSound","updateAuthority","updateMemberLimit","updateSuperGroup","clear","clearUnreadPoint","getChildren","updateRole","active","getCommonByTags","inactive","updateGroupValidationInfo","updateGroupNick","updateShowHistoryType","genAutomaticIcon","getIcon","updateIconOption","updateBanWordsType","updateBanWordsWhitelist","updateBanWordsBlacklist","listUserBanModel"];module.exports=IDLConversation;

},{}],767:[function(require,module,exports){
"use strict";function IDLGroupValidation(n){var o={};return funcList.forEach(function(i){o[i]=function(){var o,t=Array.prototype.slice.apply(arguments,[]);return t.length>0?(o=t[t.length-1],"function"!=typeof o?o=function(){}:t.pop()):(t=[],o=function(){}),n.sendMsg("/r/"+serviceName+"/"+i,{},t,o)}}),o}var serviceName="IDLGroupValidation",funcList=["hasApplyJoinGroupRecently","applyJoinGroup","listJoinGroupValidation","auditJoinGroupStatus","cleanJoinGroupValidationByOwner"];module.exports=IDLGroupValidation;

},{}],768:[function(require,module,exports){
"use strict";function IDLMessage(e){var s={};return funcList.forEach(function(t){s[t]=function(){var s,r=Array.prototype.slice.apply(arguments,[]);return r.length>0?(s=r[r.length-1],"function"!=typeof s?s=function(){}:r.pop()):(r=[],s=function(){}),e.sendMsg("/r/"+serviceName+"/"+t,{},r,s)}}),s}var serviceName="IDLMessage",funcList=["listUnreachMessages","listMessagesForFireeye","listMessages","listUnreadMembers","remove","getMessageById","updateMemberTag","updateMemberExtension","listMemberStatusByMessageId","listMemberStatusByMessageIds","removes","updateMemberTagAndExt","listTopUsers","updateExtension","recallMessage","erase","erasePrivate","countSender","count","queryAckStatus"];module.exports=IDLMessage;

},{}],769:[function(require,module,exports){
"use strict";function IDLMessageStatus(t){var e={};return funcList.forEach(function(s){e[s]=function(){var e,a=Array.prototype.slice.apply(arguments,[]);return a.length>0?(e=a[a.length-1],"function"!=typeof e?e=function(){}:a.pop()):(a=[],e=function(){}),t.sendMsg("/r/"+serviceName+"/"+s,{},a,e)}}),e}var serviceName="IDLMessageStatus",funcList=["updateToRead","updatePDCStatus","updateToView"];module.exports=IDLMessageStatus;

},{}],770:[function(require,module,exports){
"use strict";function IDLSend(n){var e={};return funcList.forEach(function(r){e[r]=function(){var e,t=Array.prototype.slice.apply(arguments,[]);return t.length>0?(e=t[t.length-1],"function"!=typeof e?e=function(){}:t.pop()):(t=[],e=function(){}),n.sendMsg("/r/"+serviceName+"/"+r,{},t,e)}}),e}var serviceName="IDLSend",funcList=["send","forward","forwardBatch"];module.exports=IDLSend;

},{}],771:[function(require,module,exports){
"use strict";function IDLSystemSend(e){var n={};return funcList.forEach(function(t){n[t]=function(){var n,r=Array.prototype.slice.apply(arguments,[]);return r.length>0?(n=r[r.length-1],"function"!=typeof n?n=function(){}:r.pop()):(r=[],n=function(){}),e.sendMsg("/r/"+serviceName+"/"+t,{},r,n)}}),n}var serviceName="IDLSystemSend",funcList=["send"];module.exports=IDLSystemSend;

},{}],772:[function(require,module,exports){
"use strict";function Notification(i){var t={};return funcList.forEach(function(n){t[n]=function(){var t,e=Array.prototype.slice.apply(arguments,[]);return e.length>0?(t=e[e.length-1],"function"!=typeof t?t=function(){}:e.pop()):(e=[],t=function(){}),i.sendMsg("/r/"+serviceName+"/"+n,{},e,t)}}),t}var serviceName="Notification",funcList=["bindAnd","bindiOS","bindiOSWithPushKit","updateDeviceApnStatus","unbind","setBadge"];module.exports=Notification;

},{}],773:[function(require,module,exports){
"use strict";function OAuthI(n){var e={};return funcList.forEach(function(t){e[t]=function(){var e,o=Array.prototype.slice.apply(arguments,[]);return o.length>0?(e=o[o.length-1],"function"!=typeof e?e=function(){}:o.pop()):(o=[],e=function(){}),n.sendMsg("/r/"+serviceName+"/"+t,{},o,e)}}),e}var serviceName="OAuthI",funcList=["login","loginWithToken","refreshToken","sendLoginSms","loginBySms","kick","alogin"];module.exports=OAuthI;

},{}],774:[function(require,module,exports){
"use strict";function Sync(t){var e={};return funcList.forEach(function(n){e[n]=function(){var e,c=Array.prototype.slice.apply(arguments,[]);return c.length>0?(e=c[c.length-1],"function"!=typeof e?e=function(){}:c.pop()):(c=[],e=function(){}),t.sendMsg("/r/"+serviceName+"/"+n,{},c,e)}}),e}var serviceName="Sync",funcList=["getDiff","getState","ackDiff","getSwitchStatusForBatch","getSwitchStatus"];module.exports=Sync;

},{}],775:[function(require,module,exports){
"use strict";function Typing(n){var e={};return funcList.forEach(function(t){e[t]=function(){var e,r=Array.prototype.slice.apply(arguments,[]);return r.length>0?(e=r[r.length-1],"function"!=typeof e?e=function(){}:r.pop()):(r=[],e=function(){}),n.sendMsg("/r/"+serviceName+"/"+t,{},r,e)}}),e}var serviceName="Typing",funcList=["send"];module.exports=Typing;

},{}],776:[function(require,module,exports){
"use strict";function UserI(e){var r={};return funcList.forEach(function(t){r[t]=function(){var r,s=Array.prototype.slice.apply(arguments,[]);return s.length>0?(r=s[s.length-1],"function"!=typeof r?r=function(){}:s.pop()):(s=[],r=function(){}),e.sendMsg("/r/"+serviceName+"/"+t,{},s,r)}}),r}var serviceName="UserI",funcList=["getUserProfileByOpenId","getUserProfileByMobile","getUserProfilesByOpenIds","getUserProfilesByMobiles","updateUserProfile"];module.exports=UserI;

},{}],777:[function(require,module,exports){
"use strict";var keyPaddingGen=require("./keyPaddingGen");module.exports=function(e){var t={};return t.interface={},t.model={},t.interface.ColdBootI=require("./dist/ColdBootI")(e),t.interface.IDLConversation=require("./dist/IDLConversation")(e),t.interface.IDLMessage=require("./dist/IDLMessage")(e),t.interface.IDLMessageStatus=require("./dist/IDLMessageStatus")(e),t.interface.IDLSend=require("./dist/IDLSend")(e),t.interface.IDLSystemSend=require("./dist/IDLSystemSend")(e),t.interface.IDLGroupValidation=require("./dist/IDLGroupValidation")(e),t.interface.Sync=require("./dist/Sync")(e),t.interface.UserI=require("./dist/UserI")(e),t.interface.Typing=require("./dist/Typing")(e),t.interface.Notification=require("./dist/Notification")(e),t.interface.OAuthI=require("./dist/OAuthI")(e),t.interface.DAuthI=require("./dist/DAuthI")(e),t.interface.AliasI=require("./dist/AliasI")(e),t.interface.FollowI=require("./dist/FollowI")(e),t.interface.BlacklistI=require("./dist/BlacklistI")(e),t.interface.ClientLogI=require("./dist/ClientLogI")(e),t.model.coldBoot=keyPaddingGen({ColdBootTokenModel:{def:{domain:["1","string","domain","// * 域名称"],appKey:["2","string","appKey","// * 应用key"],openId:["3","string","openId","// * 用户ID"],signature:["4","string","signature","// * 签名"],timestamp:["5","int","timestamp","// * 时间戳"],nonce:["6","string","nonce","// * 随机数"]}}}),t.model.sync=keyPaddingGen({SyncInfoModel:{def:{pts:["1","int","pts","// * 低优先级数据同步点"],seq:["2","int","seq","// * 同步序列号"],timestamp:["3","int","timestamp","// * 同步时间戳"],highPts:["4","int","highPts","// * 高优先级数据同步点， 当前为IM业务"],tooLong2Tag:["5","string","tooLong2Tag","// 服务端强制tooLong2   "]},COMMENT:"// 同步三元组, 客户端reg的时候带上 seq和pts, timestamp"},SyncPushModel:{def:{syncPushPackage:["1","SyncPushPackageModel","syncPushPackage","// * push的数据"],syncExtraType:["2","SyncExtraTypeModel","syncExtraType","// * tooLong tooLong2"]},COMMENT:"//服务端下行接口, push topic:  /s/sync  推下行数据包"},SyncPushPackageModel:{def:{startSeq:["1","int","startSeq","// * 起始seq"],endSeq:["2","int","endSeq","// * 结束seq"],timestamp:["3","int","timestamp","// * 上一次同步时间点"],maxPts:["4","int","maxPts","// * 该数据包中包含的最大低优先级pts"],hasMore:["5","boolean","hasMore","// * hasMore=true表示还有数据，客户端后续需要继续拉取数据"],data:["6",["Array","SyncDataModel"],"data"],maxHighPts:["7","int","maxHighPts","// * 该数据包中包含的最大高优先级pts"]},COMMENT:"//服务端下行接口, push topic:  /s/sync  推下行数据包"},SyncDataModel:{def:{objectType:["1","int","objectType","// * 数据包model类型，用于解码"],data:["2","byte[]","data","// * 同步数据"]},COMMENT:"//服务端下行接口, push topic:  /s/sync  推下行数据包"},SyncExtraTypeModel:{def:{type:["1","int","type","// * type=1 TooLong、 type=2 TooLong2"]},COMMENT:"//服务端下行接口, push topic:  /s/sync  推下行数据包"}}),t.model.im=keyPaddingGen({SendMessageModel:{def:{uuid:["1","string","uuid","// * 客户端生成的id，绑定一个独立会话"],conversationId:["2","string","conversationId","// * 会话id"],type:["3","int","type","// * 默认为1-普通消息, 2-阅后即焚（暂时不启用）, 3-静默消息（该类消息不修改会话lastModify）"],creatorType:["4","int","creatorType","// * 消息创建者类型 1-SELF：表示用户自身产生消息 2-SYSTEM：表示系统自动生成消息 固定1"],content:["5","ContentModel","content","// * 附件(文本、图片，语音，文件或者组合类型等)"],tag:["6","int","tag","// * 业务自定义"],extension:["7",["Object","string","string"],"extension","// * msg扩展信息，业务自定义"],nickName:["8","string","nickName","// * 用户昵称"],receivers:["9",["Array","long"],"receivers","// * 接收者openId列表"],xpnModel:["10","XpnPushModel","xpnModel","// 服务端model。客户端请忽略"],msgPriority:["11","int","msgPriority","// 消息发送优先级 无/0代表——低优先级 1——高优先级 999——低优先级同步协议（临时）"],redPointPolicy:["12","int","redPointPolicy","// 消息flag, 0/无表示默认，1表示不增加红点数"]},COMMENT:"// 消息发送对象"},ForwardMessageModel:{def:{uuid:["1","string","uuid","// * 客户端生成的id，绑定一个独立会话"],messageId:["2","int","messageId","// * 转发的消息id"],toConversationId:["3","string","toConversationId","// * 转发的目标会话id"],nickName:["4","string","nickName","// * 用户昵称"],xpnModel:["5","XpnPushModel","xpnModel","// * xpn推送控制模型"]},COMMENT:"// 消息转发对象"},BaseMessageModel:{def:{messageId:["1","int","messageId","// * 消息id"],conversationId:["2","string","conversationId","// * 会话id"],openIdEx:["3","OpenIdExModel","openIdEx","// * openId和tag"],type:["4","int","type","// * 默认为1-普通消息, 2-阅后即焚"],creatorType:["5","int","creatorType","// * 消息创建者类型 1-SELF：表示用户自身产生消息 2-SYSTEM：表示系统自动生成消息"],createdAt:["6","int","createdAt","// * 消息的创建时间，单位：毫秒"],content:["7","ContentModel","content","// * 附件(文本、图片，语音等)"],tag:["8","int","tag","// * 业务自定义"],extension:["9",["Object","string","string"],"extension","// * msg扩展信息，业务自定义"],memberTag:["10","int","memberTag","// * 业务扩展，只影响当前用户的属性"],memberExtension:["11",["Object","string","string"],"memberExtension","// * msgInbox扩展信息，业务自定义，只影响当前用户的属性"],recallStatus:["12","int","recallStatus","// * 是否为撤回消息"],groupNickTag:["13","int","groupNickTag","// * 发送者群昵称tag"],compensateType:["14","int","compensateType","// * 正常消息(0) 补偿消息(1)"]},COMMENT:"// 基础的消息对象， 对应下行push topic：/s/msg"},MessageModel:{def:{baseMessage:["1","BaseMessageModel","baseMessage","// * 基础消息对象"],receiverMessageStatus:["2","ReceiverMessageStatusModel","receiverMessageStatus","// * 针对接收者的消息状态，已读和未读"],senderMessageStatus:["3","SenderMessageStatusModel","senderMessageStatus","// * 针对发送者的消息状态，未读人数和总人数"]},COMMENT:"// 带状态的消息对象, 对应同步协议type=1000"},ReceiverMessageStatusModel:{def:{readStatus:["1","int","readStatus","// * 接收者 是否已读这个消息 2-已读，其他-未读"]},COMMENT:"// 针对接收者的消息状态"},SenderMessageStatusModel:{def:{unReadCount:["1","int","unReadCount","// * 这条消息还有多少人未读"],totalCount:["2","int","totalCount","// * 消息发送到的总人数"]},COMMENT:"// 针对发送者的消息状态"},ContentModel:{def:{contentType:["1","int","contentType","// 其余组合类型使用attachments字段，contentType限制使用100以上"],textContent:["2","TextContentModel","textContent","// * 文本对象"],photoContent:["3","PhotoContentModel","photoContent","// * 图片对象"],audioContent:["4","AudioContentModel","audioContent","// * 语音对象"],fileContent:["5","FileContentModel","fileContent","// * 普通文件对象"],extension:["6",["Object","string","string"],"extension","// * @Deprecated"],attachments:["7",["Array","AttachmentModel"],"attachments","// * 组合类型字段"],atOpenIds:["8",["Object","string","string"],"atOpenIds","// * @功能的openId列表，key是openId（服务端不支持long类型），value是nick,"],videoContent:["9","VideoContentModel","videoContent","// 视频对象"],geoContent:["10","GeoContentModel","geoContent","// 地理位置"]},COMMENT:"// 发送的消息内容"},VideoContentModel:{def:{mediaId:["1","string","mediaId","// * mediaId"],fileName:["2","string","fileName","// * 文件名"],fileType:["3","string","fileType","// * 文件类型，取文件后缀"],fileSize:["4","int","fileSize","// * 文件大小"],duration:["5","int","duration","// 视频时长"],width:["6","int","width","// 视频宽度"],height:["7","int","height","// 视频高度"],bitrate:["8","int","bitrate","// 比特率"],picUrl:["9","string","picUrl","// 视频图片的url(mediaId)"]},COMMENT:"//视频"},TextContentModel:{def:{text:["1","string","text","// * 文本内容"],templateId:["2","string","templateId","// * 系统消息模板ID"],templateData:["3",["Array","string"],"templateData","// * 系统消息模板数据列表"]},COMMENT:"// 文本消息"},PhotoContentModel:{def:{mediaId:["1","string","mediaId","// * mediaId"],picSize:["2","int","picSize","// * 原始图片大小"],type:["3","int","type","// * 图片类型，自定义"],picBytes:["4","byte[]","picBytes","// * 缩略图数据，需要控制数据大小, 只是下行使用"],fileType:["5","int","fileType","// * 图片类型 1-webp, 2-png, 3-jpg, 4-gif, 目前只有webp，只是下行使用"],orientation:["6","int","orientation","// * 图片方向，1-normal, 2-flip_horizontal, 3-rotate_180, 4-flip_vertical, 5-transpose, 6-rotate_90, 7-transverse, 8-rotate_270"],extension:["7",["Object","string","string"],"extension","//第三方扩展"],filename:["8","string","filename","// 图片文件名"]},COMMENT:"// 文本消息"},AudioContentModel:{def:{mediaId:["1","string","mediaId","// * mediaId"],duration:["2","int","duration","// * 语音时长"],audioVolumns:["3",["Array","int"],"audioVolumns","// * 语音波形"],audioBytes:["4","byte[]","audioBytes","// * amr语音数据，需要控制数据大小, 只是下行使用"],opusAudioBytes:["5","byte[]","opusAudioBytes","// * opus语音数据，需要控制数据大小, 只是下行使用"]},COMMENT:"// 文本消息"},FileContentModel:{def:{mediaId:["1","string","mediaId","// * mediaId"],fileName:["2","string","fileName","// * 文件名"],fileType:["3","string","fileType","// * 文件类型，取文件后缀"],fileSize:["4","int","fileSize","// * 文件大小"]},COMMENT:"// 文本消息"},GeoContentModel:{def:{picMediaId:["1","string","picMediaId","// * 位置图片的mediaId"],latitude:["2","double","latitude","// * 维度"],longitude:["3","double","longitude","// * 经度"],locationName:["4","string","locationName","// * 地理位置名称"]},COMMENT:"// 地理位置"},OpenIdExModel:{def:{openId:["1","int","openId","// * 信息发送者id"],tag:["2","int","tag","// * 信息发送者的更新相关"]},COMMENT:"// openID扩展对象"},MemberRoleModel:{def:{openIdEx:["1","OpenIdExModel","openIdEx"],role:["2","int","role","// *1 群主，2管理员(现不用)，3普通用户"],groupNickModel:["3","GroupNickModel","groupNickModel","//群昵称信息"],extension:["4",["Object","string","string"],"extension","//业务自定义extension"]},COMMENT:"// openID扩展对象"},UnReadMemberModel:{def:{openIdEx:["1","OpenIdExModel","openIdEx","// * openId和tag"],status:["2","int","status","// 0-未送达，1-已送达，未读，2-已送达，已读"]},COMMENT:"// 未读成员对象"},MemberMessageStatusModel:{def:{openIdEx:["1","OpenIdExModel","openIdEx","// * openId和tag"],status:["2","int","status","// 消息是否已读状态，2-已读，其他 未读"],reachStatus:["3","int","reachStatus","// 消息是否已送达，0和1、未达，2、已达"],messageId:["4","int","messageId","// 消息id"]},COMMENT:"//成员消息对象--暂时与 UnReadMemberModel有重复"},SendResultModel:{def:{messageId:["1","int","messageId","// * 消息id"],createdAt:["2","int","createdAt","// * 消息创建时间，服务端时间"],model:["3","SenderMessageStatusModel","model","// 未读人数"],uuid:["4","string","uuid","// * 客户端生成的id，绑定一个独立会话"]},COMMENT:"// 消息发送结果对象（包括转发）"},CreateConversationModel:{def:{openIds:["1",["Array","long"],"openIds","// * 会话成员列表"],title:["2","string","title","// * 会话的标题"],icon:["3","string","icon","// * 会话显示的图片地址信息"],extension:["4",["Object","string","string"],"extension","// * 扩展字段"],tag:["5","int","tag","// * 业务tag"],type:["6","int","type","// * 会话类型：1单聊，2群聊"],memberLimit:["7","int","memberLimit","// * 会话支持的最大人数"],superGroup:["8","int","superGroup","// * 是否开启已读未读功能 0非大群，1大群，其他数字可做大群等级扩展使用"],parentId:["9","string","parentId","// * 父会话id，默认空。"],nodeType:["10","int","nodeType","// * 是否 父会话，0-否，默认；1-是父会话，只作为入口使用"],active:["11","int","active","// * 默认1表示已激活；0表示未激活(未激活的群不能发消息，建群也不发通知。只用做成员管理)"],members:["12",["Array","RoleModel"],"members","//创建带角色的群"],unique:["13","int","unique","// * 会话是否需要确保唯一性，0-否，默认；1-是唯一会话"],showHistoryType:["14","int","showHistoryType","// * 新入群成员能否看到消息历史"],iconOption:["15","IconOptionModel","iconOption","// * 群头像设置信息-----------------------新增字段"]},COMMENT:"// 创建会话对象"},IconOptionModel:{def:{type:["1","int","type","// 头像设置类型 1：自动生成 2：用户自定义"],automaticIcon:["2","AutomaticIconModel","automaticIcon","// * 自动生成信息"],customIcon:["3","CustomIconModel","customIcon","// * 用户自定义头像图片地址"]},COMMENT:"// 创建会话对象"},AutomaticIconModel:{def:{automaticIconMediaId:["1","string","automaticIconMediaId","// * 自动生成头像图片地址"],automaticIconTag:["2","int","automaticIconTag","// * 自动生成头像tag"]},COMMENT:"// 创建会话对象"},CustomIconModel:{def:{customIconMediaId:["1","string","customIconMediaId","// * 自定义头像地址"]},COMMENT:"// 创建会话对象"},CommonConversationModel:{def:{conversationId:["1","string","conversationId","// * 会话ID"],type:["2","int","type","// * 会话类型：1单聊，2群聊"],memberCount:["3","int","memberCount","// * 群聊人数"],title:["4","string","title","// * 会话的标题"],icon:["5","string","icon","// * 会话显示的图片地址信息"],tag:["6","int","tag","// * 业务tag"],extension:["7",["Object","string","string"],"extension","// 扩展字段"],authority:["8","int","authority","// * 群加人权限，0-默认，群成员都可以加人，1-只有群主可以加人"],ownerId:["9","int","ownerId","// * 群主openId"],memberLimit:["10","int","memberLimit","// * 会话支持的最大人数"],superGroup:["11","int","superGroup","// * 0非大群，1大群，其他数字可做大群等级扩展使用"],createdAt:["12","int","createdAt","// * 会话的创建时间，单位：毫秒"],active:["13","int","active","// * 激活状态，1已激活，0未激活"]},COMMENT:"// 会话公共属性对象，不包含用户私有的属性"},BaseConversationModel:{def:{conversationId:["1","string","conversationId","// * 会话ID"],type:["2","int","type","// * 会话类型：1单聊，2群聊"],memberCount:["3","int","memberCount","// * 群聊人数"],title:["4","string","title","// * 会话的标题"],icon:["5","string","icon","// * 会话显示的图片地址信息"],extension:["6",["Object","string","string"],"extension","// 扩展字段"],createAt:["7","int","createAt","// 创建时间"],memberExtension:["8",["Object","string","string"],"memberExtension","// * 扩展字段"],notificationOff:["9","int","notificationOff","// * 会话是否接受通知消息 0-接收通知，1-表示关闭通知，不接收消息"],tag:["10","int","tag","// * 业务tag"],sort:["11","int","sort","// * 会话排序字段sort，数值越大排序越靠前，针对设置的用户有效"],status:["12","int","status","// * 0-隐藏，1-可见"],notificationSound:["13","string","notificationSound","// * 通知提醒音，notificationOff为0时有效"],authority:["14","int","authority","// * 群加人权限，0-默认，群成员都可以加人，1-只有群主可以加人"],ownerId:["15","int","ownerId","// * 群主openId"],memberLimit:["16","int","memberLimit","// * 会话支持的最大人数"],superGroup:["17","int","superGroup","// * 0非大群，1大群，其他数字可做大群等级扩展使用"],unreadPoint:["18","int","unreadPoint","// * 红点数量标识"],parentId:["19","string","parentId",'// * 父会话id，默认"0"'],nodeType:["20","int","nodeType","// * 是否 父会话，0-否，默认；1-是父会话，只作为入口使用"],active:["21","int","active","// * 激活状态，1已激活，0未激活"],unique:["22","int","unique","// * 是否唯一会话，0-否，默认；1-是唯一会话"],openIds:["23",["Array","long"],"openIds","// * 会话成员列表，服务端使用，客户端建群使用CreateConversationModel中的字段"],groupValidationInfo:["24","GroupValidationInfoModel","groupValidationInfo","// * 会话进群验证信息"],showHistoryType:["25","int","showHistoryType","// * 新入群成员能否看到消息历史"],iconOption:["26","IconOptionModel","iconOption","// * 群头像设置信息-----------------------新增字段"],banWordsType:["27","int","banWordsType","// 群禁言 0:正常 1:禁言"],inBanWhite:["28","int","inBanWhite","// 0不在名单，1在名"],inBanBlack:["29","int","inBanBlack","// 0不在名单，1在名单"],banWordsTime:["30","int","banWordsTime","//禁言截止时间点(ms)"]},COMMENT:"// 基础会话对象"},ConversationModel:{def:{baseConversation:["1","BaseConversationModel","baseConversation","// * 基础会话对象"],lastMessages:["2",["Array","MessageModel"],"lastMessages","// * 最后N条消息"]},COMMENT:"// 基础会话对象"},ReconnectMessageModel:{def:{messageList:["1",["Array","MessageModel"],"messageList","// 消息列表"],readList:["2",["Array","DeliveryMessageStatusModel"],"readList","// 消息状态，针对消息发送者"],conversationList:["3",["Array","ConversationNotificationModel"],"conversationList","// 会话变更列表"],messageTagList:["4",["Array","MessageTagNoticeModel"],"messageTagList","// 消息tag变更列表"],readStatusList:["5",["Array","MessageReadStatusListModel"],"readStatusList","// * @Deprecated"],conversationPrivateList:["6",["Array","ConversationPrivateModel"],"conversationPrivateList","// 会话排序"],msgNoticeList:["8",["Array","MessageNoticeModel"],"msgNoticeList","// 消息变更通知"],pdcNoticeList:["9",["Array","PDCNoticeModel"],"pdcNoticeList"]},COMMENT:"// 客户端断线重连的推送消息，对应下行push topic：/s/reconn"},DeliveryMessageStatusModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],messageId:["2","int","messageId","// * 消息id"],status:["3","SenderMessageStatusModel","status","// * 未读人数"],uuid:["4","string","uuid","// * 发送消息的uuid"]},COMMENT:"// 推送消息状态对象，对应下行push topic：/s/status"},ConversationNotificationModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],memberCount:["2","int","memberCount","// * 群成员数"],title:["3","string","title","// * 群标题"],icon:["4","string","icon","// * 群icon"],isKicked:["5","boolean","isKicked","// * true 表示被踢"],tag:["6","int","tag","// * 业务tag"],extension:["7",["Object","string","string"],"extension","// * 扩展字段"],isQuit:["8","boolean","isQuit","// * true 主动退群"],isDisband:["9","boolean","isDisband","// * 是否解散群"],authority:["10","int","authority","// * 群加人权限，0-默认，群成员都可以加人，1-只有群主可以加人"],memberLimit:["11","int","memberLimit","// * 会话支持的最大人数"],superGroup:["12","int","superGroup","// * 是否开启已读未读功能 0非大群，1大群，其他数字可做大群等级扩展使用"],ownerId:["13","int","ownerId","// * 群主openId"],groupValidationInfo:["14","GroupValidationInfoModel","groupValidationInfo","// * 会话进群验证信息"],showHistoryType:["15","int","showHistoryType","// * 新入群成员能否看到历史消息"],iconOption:["16","IconOptionModel","iconOption","// * 头像信息更新"],banWordsType:["17","int","banWordsType","// * 群禁言 0:正常 1:禁言"]},COMMENT:"// 群聊成员、title和icon 变更推送，该消息只有推送通道，对应下行push topic：/s/convex"},MessageTagNoticeModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],messageId:["2","int","messageId","// * 消息id"],memberTag:["3","int","memberTag","// * 业务tag"],memberExtension:["4",["Object","string","string"],"memberExtension","// * 每个人自己的extension"]},COMMENT:"// 业务推送的privateTag or privateExtension变更对象，对应下行push topic：/s/msgTag"},MessageNoticeModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],messageId:["2","int","messageId","// * 消息id"],extension:["3",["Object","string","string"],"extension","// * extension"],recallStatus:["4","int","recallStatus","// * 是否为撤回消息"]},COMMENT:"// 业务推送的 extension变更对象, 对应下行push topic：/s/msgInfo, 对应同步协议type=1001"},MessageDeleteModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],messageId:["2","int","messageId","// * 消息id"]},COMMENT:"// 消息删除Model, 对应同步协议type=1002"},AttachmentModel:{def:{type:["1","int","type","// * 类型"],url:["2","string","url","// * 链接"],size:["3","int","size","// * 大小（文件大小, byte）"],data:["4","byte[]","data","// * 字节数据"],isPreload:["5","boolean","isPreload","// * 是否预加载url"],extension:["6",["Object","string","string"],"extension","// * 扩展字段"]},COMMENT:"// 附件，contentType > 100 解析该字段"},DeliveryMessageReadStatusModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],messageId:["2","int","messageId","// * 消息id"],status:["3","ReceiverMessageStatusModel","status","// * 针对接收者的消息状态，已读和未读"]},COMMENT:"// 消息已读状态对象，针对消息接受者，是为了同步web和客户端的read状态"},MessageReadStatusListModel:{def:{readStatusList:["1",["Array","DeliveryMessageReadStatusModel"],"readStatusList","// * 消息接受者的消息已读状态列表"]},COMMENT:"// 对应下行push topic：/s/readstatus"},XpnPushModel:{def:{sound:["1","string","sound","// * xpn声音字段"],action:["2","XpnActionModel","action","// * xpn统一跳转"],timeTolive:["3","int","timeTolive","// * xpn消息有效周期（ms）"],incrbadge:["4","int","incrbadge","// * xpn提示消息增量"],params:["5",["Object","string","string"],"params","// * xpn自定义参数"],alertContent:["6","string","alertContent","// * xpn推送消息内容"],isXpnOff:["7","int","isXpnOff","// * 是否关闭xpn"],templateId:["8","int","templateId","// * 模板ID"]},COMMENT:"// 服务端model。客户端请忽略"},XpnActionModel:{def:{templateKey:["1","string","templateKey","// * Action指定模板主键"],templateValue:["2","string","templateValue","// * Action指定模板替换值"]},COMMENT:"// 服务端model。客户端请忽略"},ConversationInfoModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],tag:["2","int","tag","// * 业务tag"],extension:["3",["Object","string","string"],"extension","// * 扩展字段"]},COMMENT:"// 会话信息更新model"},ConversationPrivateModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],sort:["2","int","sort","// * 会话排序字段sort，数值越大排序越靠前，针对设置的用户有效"],hide:["3","boolean","hide","// * 会话隐藏"],notificationOff:["4","int","notificationOff","// * 会话是否接受通知消息 0-接收通知，1-表示关闭通知，不接收消息"]},COMMENT:"// 会话排序model，对应下行push topic: /s/conp"},DevStatusModel:{def:{type:["1","int","type","// 1，事件通知（上下线动作），2，状态通知（在线状态）"],status:["2","int","status","// 1-上线（在线），2-下线（离线）"],time:["3","int","time","//推送产生时的时间戳"],deviceType:["4","int","deviceType","// 0-桌面版（目前包括：web、mac、win），1-web，2-android，3-iOS，4-MAC，5-WIN"]},COMMENT:"/**\n * //设备上下线和状态通知\n * topic: /s/devSts\n **/"},ConversationCardModel:{def:{baseConversation:["1","BaseConversationModel","baseConversation","// * 基础会话对象"],openId:["2","int","openId","// * 群二维码生成者的ID"],isMember:["3","boolean","isMember","// * 扫码人是否已经是群成员"]},COMMENT:"// 群名片信息，"},CodeModel:{def:{code:["1","string","code","// * 二维码内容"],expires:["2","int","expires","// * 二维码有效期（单位：秒）"]},COMMENT:"// 二维码信息"},BatchSendMessageModel:{def:{uuid:["1","string","uuid","// * 客户端生成的id，绑定一个独立会话"],type:["2","int","type","// * 默认为1-普通消息, 2-阅后即焚i,3-静默消息"],creatorType:["3","int","creatorType","// * 消息创建者类型 1-SELF：表示用户自身产生消息 2-SYSTEM：表示系统自动生成消息 固定1"],content:["4","ContentModel","content","// * 附件(文本、图片，语音等)"],tag:["5","int","tag","// * 业务自定义"],extension:["6",["Object","string","string"],"extension","// * msg扩展信息，业务自定义"],nickName:["7","string","nickName","// * 用户昵称"],xpnModel:["8","XpnPushModel","xpnModel","// 服务端model。客户端请忽略"]},COMMENT:"// 批量消息发送对象，TODO 服务端专用，客户端请忽略"},SingleChatPropertyModel:{def:{extension:["1",["Object","string","string"],"extension","// * 扩展字段"],tag:["2","int","tag","// * 业务tag"]},COMMENT:"// 创建单聊会话属性设置，TODO 服务端专用，客户端请忽略"},ConversationClearModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],hide:["2","boolean","hide","// * 会话隐藏, 如果调用conversation的clear, 则默认为false; 如果调用hideAndClear, 则为true"]},COMMENT:"// 会话清空消息\\清空并隐藏 Model"},MessageExtensionModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],messageId:["2","int","messageId","// * 消息id"],extension:["3",["Object","string","string"],"extension","// * extension"]},COMMENT:"// 消息extension变更对象"},MessageMemberTagModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],messageId:["2","int","messageId","// * 消息id"],memberTag:["3","int","memberTag","// * 业务tag"]},COMMENT:"// 消息 memberTag 变更对象"},MessageMemberExtensionModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],messageId:["2","int","messageId","// * 消息id"],memberExtension:["3",["Object","string","string"],"memberExtension","// * 每个人自己的extension"]},COMMENT:"// 消息 memberExtension变更对象"},MessageChangeModel:{def:{conversationId:["1","string","conversationId","// * 会话id"],messageId:["2","int","messageId","// * 消息id"],extension:["4",["Object","string","string"],"extension","// * 消息扩展信息，业务自定义"],privateTag:["5","int","privateTag","// * 用户私有tag，只影响当前用户的属性"],privateExtension:["6",["Object","string","string"],"privateExtension","// * 用户私有extension，只影响当前用户的属性"],receiverMessageStatus:["7","ReceiverMessageStatusModel","receiverMessageStatus","// * 针对接收者的消息状态，已读和未读"],senderMessageStatus:["8","SenderMessageStatusModel","senderMessageStatus","// * 针对消息发送者的未读人数"],recallStatus:["9","int","recallStatus","// * 是否为撤回消息, 0-正常, 1-已撤回"],deleted:["10","boolean","deleted","// * 是否为删除消息, 0-正常, 1-已删除"],viewStatus:["11","int","viewStatus","// * 接收者 是否已浏览这个消息 2-已浏览，其他-未浏览"],messageModel:["12","MessageModel","messageModel","// * 消息体"],uuid:["13","string","uuid","// * 消息的uuid"]},COMMENT:"// 1009-privateTag和privateExtension同时变更"},MessageChangeListModel:{def:{messageChangeList:["1",["Array","MessageChangeModel"],"messageChangeList"]},COMMENT:"// 1007-MessageChangeModel里面为receiverMessageStatus"},ConversationChangeModel:{def:{conversationId:["1","string","conversationId","// * 会话ID"],status:["2","int","status","// * 0-隐藏会话，1-可见"],modifyTime:["3","int","modifyTime","// 修改时间, 比如: 触发清空会话的动作触发时间"],convNoticeModel:["4","ConversationNotificationModel","convNoticeModel","// 会话信息通知"],sort:["5","int","sort","// * 会话排序字段sort，数值越大排序越靠前，针对设置的用户有效"],notificationOff:["6","int","notificationOff","// * 会话是否接受通知消息 0-接收通知，1-表示关闭通知，不接收消息"],inBanWhite:["7","int","inBanWhite","// 0不在名单，1在名"],inBanBlack:["8","int","inBanBlack","// 0不在名单，1在名单"],banWordsTime:["9","int","banWordsTime","//禁言截止时间点(ms)"]},COMMENT:"// 1018-禁言个人通知"},GroupNickChangeModel:{def:{conversationId:["1","string","conversationId","// * 会话ID"],openId:["2","int","openId"],groupNickModel:["3","GroupNickModel","groupNickModel","// * 群昵称变更"]},COMMENT:"// 同步协议会话昵称的变更对象 1017-昵称变更"},PDCNoticeModel:{def:{type:["1","int","type","// * PDC通知类型 1-PDCMessageModel"],pdcMessageModel:["2","PDCMessageModel","pdcMessageModel","// * 消息相关通知"]},COMMENT:"// 点对点消息通知"},PDCMessageModel:{def:{messageId:["1","int","messageId","// * 消息ID"],conversationId:["2","string","conversationId","// * 会话ID"],status:["3","int","status","// *状态"]},COMMENT:"// 点对点消息通知"},RoleModel:{def:{openId:["1","int","openId"],role:["2","int","role","// *1 群主，2管理员，3普通用户 101-200用户自定义"],extension:["3",["Object","string","string"],"extension","// 业务自定义extension"]},COMMENT:"// 点对点消息通知"},QueryAckStatusModel:{def:{messageId:["1","int","messageId","// 消息id"],openIds:["2",["Array","long"],"openIds","// 需要查询的openId列表"]},COMMENT:"// 点对点消息通知"},HasApplyJoinGroupRecentlyModel:{def:{conversationId:["1","string","conversationId"],code:["2","string","code"]},COMMENT:"// 24小时是否申请过"},HasApplyJoinGroupRecentlyResultModel:{def:{result:["1","int","result","//二维码 optional"]},COMMENT:"// 24小时是否申请过"},JoinGroupValidationModel:{def:{conversationId:["1","string","conversationId","// * 会话ID"],inviterId:["2","int","inviterId","// * 邀请人openId"],joinDescription:["3","string","joinDescription","// * 入群说明：小于50个汉字  NOTICE:是否是必选字段？"],origin:["4","int","origin"],code:["5","string","code","// 0:邀请 1:二维码;  默认是0"],applyerNickName:["6","string","applyerNickName","//二维码 optiona"]},COMMENT:"// 入群申请"},FetchJoinGroupValidationModel:{def:{conversationId:["1","string","conversationId","// * 会话ID"],inviterId:["2","int","inviterId","// * 邀请人openId"],applyId:["3","int","applyId","// * 申请人openId"],joinDescription:["4","string","joinDescription","// * 入群说明"],createdAt:["5","int","createdAt","// * 申请时间，单位：毫秒"],origin:["6","int","origin","//"],status:["7","int","status","// 0:邀请 1:二维码"],baseConversation:["8","BaseConversationModel","baseConversation","// 状态"]},COMMENT:"//拉取列表Model"},AuditJoinGroupStatusModel:{def:{conversationId:["1","string","conversationId","// 群信息,目前只填了title字段"],applyId:["2","int","applyId"],status:["3","int","status","//申请人"]},COMMENT:"//拉取列表Model"},GroupValidationInfoModel:{def:{type:["1","int","type","//1 通过 2删除"]},COMMENT:"//拉取列表Model"},SystemCreateConversationModel:{def:{model:["1","CreateConversationModel","model","//1:默认无验证限制 2:需要群主验证"],messageModel:["2","SendMessageModel","messageModel","// optional 给新成员发送的入群系统消息"],notifyReceivers:["3",["Array","long"],"notifyReceivers","// optional 需要群创建通知的receivers,默认为空"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},SystemAddMembersModel:{def:{conversationId:["1","string","conversationId","// required 会话id"],openIds:["2",["Array","long"],"openIds","// required 添加的成员列表"],messageModel:["3","SendMessageModel","messageModel","// optional 给新成员发送的入群系统消息"],notifyReceivers:["4",["Array","long"],"notifyReceivers","// optional 接受群创建通知的receivers,务必为非系统账号"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},SystemUpdateTitleModel:{def:{conversationId:["1","string","conversationId","// required 会话id"],newTitle:["2","String","newTitle","// required"],sendMessageModel:["3","SendMessageModel","sendMessageModel","// optional 发送的系统消息，请指定receivers为非系统账号"],notifyReceivers:["4",["Array","long"],"notifyReceivers","// optional 接受群创建通知的receivers,务必为非系统账号"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},SystemUpdateIconModel:{def:{conversationId:["1","string","conversationId","// required 会话id"],newIcon:["2","String","newIcon","// required"],sendMessageModel:["3","SendMessageModel","sendMessageModel","// optional 发送的系统消息，请指定receivers为非系统账号"],notifyReceivers:["4",["Array","long"],"notifyReceivers","// optional 接受群创建通知的receivers,务必为非系统账号"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},SystemQuitSilentModel:{def:{conversationId:["1","string","conversationId","// required 会话id"],isCleanUp:["2","boolean","isCleanUp","// required 是否清楚历史数据"],sendMessageModel:["3","SendMessageModel","sendMessageModel","// optional 发送的系统消息，请指定receivers为非系统账号"],notifyReceivers:["4",["Array","long"],"notifyReceivers","// optional 接受群创建通知的receivers,务必为非系统账号"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},GroupNickModel:{def:{groupNick:["1","string","groupNick","// 昵称字符串"],tag:["2","int","tag","// 昵称tag"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},UpdateShowHistoryTypeModel:{def:{conversationId:["1","string","conversationId","// required 会话id"],showHistoryType:["2","int","showHistoryType","// required 设置新入群成员能否看到历史消息"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},UpdateBanWordsTypeModel:{def:{conversationId:["1","string","conversationId","// required 会话id"],banWordsType:["2","int","banWordsType","// required 设置新入群成员能否看到历史消息"],sendMessageModel:["3","SendMessageModel","sendMessageModel","// 0:不禁言 1:禁言"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},UpdateBanWordsWhitelistModel:{def:{conversationId:["1","string","conversationId","// required 会话id"],openIds:["2",["Array","long"],"openIds","// required "],type:["3","int","type","// 0:剔除出白名单 1:加入白名单"],sendMessageModel:["4","SendMessageModel","sendMessageModel"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},UpdateBanWordsBlacklistModel:{def:{conversationId:["1","string","conversationId","// required 会话id"],openIds:["2",["Array","long"],"openIds","// required "],type:["3","int","type","// 0:剔除出名单 1:加入名单"],banWordsTime:["4","int","banWordsTime","// optional  禁言时间，单位为ms"],sendMessageModel:["5","SendMessageModel","sendMessageModel"]},COMMENT:"/**\n * 系统账号建立群参数\n */"},UserBanModel:{def:{conversationId:["1","string","conversationId","// required 会话id"],openId:["2","int","openId","// required "],inBanWhite:["3","int","inBanWhite","// 0不在名单，1在名"],inBanBlack:["4","int","inBanBlack","// 0不在名单，1在名单"],banWordsTime:["5","int","banWordsTime","//禁言截止时间点(ms)"],banWhiteOptTime:["6","int","banWhiteOptTime","//白名单操作时间(ms)"],inBanBlackOptTime:["7","int","inBanBlackOptTime","// 0不在名单，1在名单"]},COMMENT:"/**\n * 系统账号建立群参数\n */"}}),t.model.auth=keyPaddingGen({OAuthModel:{def:{accessToken:["1","string","accessToken"],refreshToken:["2","string","refreshToken"],expertIn:["3","int","expertIn"],cmd:["4","string","cmd"],openId:["5","int","openId"]}},LoginModel:{def:{org:["1","string","org"],domain:["2","string","domain"],appKey:["3","string","appKey"],appSecret:["4","string","appSecret"],openId:["5","int","openId"],openSecret:["6","string","openSecret"],deviceId:["7","string","deviceId"],withRegister:["8","boolean","withRegister"]}},RefreshTokenModel:{def:{refreshToken:["1","string","refreshToken"],appKey:["2","string","appKey"],deviceId:["3","string","deviceId"]}},TokenLoginModel:{def:{domain:["1","string","domain"],appKey:["2","string","appKey"],deviceId:["3","string","deviceId"],secretToken:["4","string","secretToken"]}},SmsRequestModel:{def:{org:["1","string","org"],domain:["2","string","domain"],appKey:["3","string","appKey"],appSecret:["4","string","appSecret"],mobile:["5","string","mobile"],code:["6","string","code"],deviceId:["7","string","deviceId"]}},AdvancedLoginModel:{def:{domain:["1","string","domain"],appKey:["2","string","appKey"],openId:["3","int","openId"],nonce:["4","string","nonce"],timestamp:["5","int","timestamp","// 随机数"],signature:["6","string","signature"],deviceId:["7","string","deviceId","//签名，规则  SHA1(appToken,appSecret,openId,timestamp,nonce)"]}}}),t.model.oauth=keyPaddingGen({DAuthModel:{def:{accessToken:["1","string","accessToken"],refreshToken:["2","string","refreshToken"],expireIn:["3","int","expireIn"],deviceId:["4","string","deviceId"]}},DeviceLoginModel:{def:{domain:["1","string","domain"],appKey:["2","string","appKey"],nonce:["3","string","nonce"],timestamp:["4","int","timestamp"],signature:["5","string","signature"],deviceId:["6","string","deviceId"],accessTokenPeriod:["7","int","accessTokenPeriod","/**自定义的accessToken有效期，单位毫秒。auth系统默认是1天。\n     *目前最长不得超过15天，最短不得低于1天.可以为null,则认为是1天\n     **/"]}}}),t.model.user=keyPaddingGen({ProfileModel:{def:{openId:["1","int","openId"],nick:["2","string","nick"],nickPinyin:["3","string","nickPinyin"],gender:["4","int","gender"],avatar:["5","string","avatar"],remark:["6","string","remark"],dob:["7","int","dob"],city:["8","string","city"],stateCode:["9","string","stateCode"],mobile:["10","string","mobile"],isActive:["11","boolean","isActive"],ver:["12","int","ver"],extension:["13","string","extension"]}},AliasModel:{def:{openId:["1","int","openId"],alias:["2","string","alias"],pinyin:["3","string","pinyin","//别名内容"],audio:["4","string","audio","//备注名拼音"],extension:["5",["Object","string","string"],"extension","// 备注音"]}}}),t.model.relation=keyPaddingGen({FollowModel:{def:{openId:["1","int","openId"],status:["2","int","status","// 对应的openid信息"],tag:["3","int","tag","// 对应的状态信息,0:following，1：follower，2：双向关系， -1：要推下去。"],lastModify:["4","int","lastModify","//由使用法自定义的筛选标记"]}},FollowPageModel:{def:{models:["1",["Array","FollowModel"],"models","//最后更新的时间戳"],nextCursor:["2","int","nextCursor","//返回的openid结果列表"],previousCursor:["3","int","previousCursor","// 下一页的起始cursor"]}},BlacklistModel:{def:{openId:["1","int","openId","// 4: long totalCount;           //这期暂不加入"],status:["2","int","status","// 对应的openid信息"],lastModify:["3","int","lastModify","// 对应的状态信息,0:openid在我的黑名单中，1：我在openid的黑名单中，2：双方互加为黑名单关系， -1：黑名单关系删除。"]
}},BlacklistPageModel:{def:{models:["1",["Array","BlacklistModel"],"models","//最后更新的时间戳"],nextCursor:["2","int","nextCursor","// 返回的openid结果列表"],previousCursor:["3","int","previousCursor","// 下一页的起始cursor"]}}}),t.model.typing=keyPaddingGen({TypingModel:{def:{conversationId:["1","string","conversationId"],type:["2","int","type","// 消息类型，0-文字，1-语音，2-图片"],command:["3","int","command","// typing状态，0-正在typing，1-取消typing"]}},DeliveryTypingModel:{def:{typingModels:["1",["Array","TypingModel"],"typingModels"]},COMMENT:"// 下行Typing model, 对应push topic: /s/typing"}}),t.model.push=keyPaddingGen({NoticeModel:{def:{type:["1","int","type","// * 业务定义的事件类型"],content:["2","byte[]","content","// * 事件内容"]},COMMENT:"// 业务推送的事件对象"},NoticeListModel:{def:{noticeModels:["1",["Array","NoticeModel"],"noticeModels","// * 列表"]},COMMENT:"// 业务推送的事件列表对象"},PayloadModel:{def:{type:["1","int","type","// * 消息自定义类型"],content:["2","byte[]","content","// * 消息内容"],pushMessageId:["3","string","pushMessageId","// * 消息ID"]},COMMENT:"// 下行推送消息model"}}),t};
},{"./dist/AliasI":760,"./dist/BlacklistI":761,"./dist/ClientLogI":762,"./dist/ColdBootI":763,"./dist/DAuthI":764,"./dist/FollowI":765,"./dist/IDLConversation":766,"./dist/IDLGroupValidation":767,"./dist/IDLMessage":768,"./dist/IDLMessageStatus":769,"./dist/IDLSend":770,"./dist/IDLSystemSend":771,"./dist/Notification":772,"./dist/OAuthI":773,"./dist/Sync":774,"./dist/Typing":775,"./dist/UserI":776,"./keyPaddingGen":778}],778:[function(require,module,exports){
"use strict";var PaddingKey=function(e){this.keys=this._processDef(e),this.paddings={};var n=this;Object.keys(e).forEach(function(e){n.paddings[e]=function(r){return n._padding(e,r)}})};PaddingKey.prototype._padding=function(e,n){var r={},t=this;if(n&&this.keys[e]){var a=this.keys[e].keys;Object.keys(n).forEach(function(e){var i=parseInt(e);if(a[i]){var s=a[i].name,f=a[i].type;if("string"==typeof f&&t.keys[f])var d=t._padding(f,n[e]);else if(Array.isArray(f))if("Array"===f[0]&&t.keys[f[1]])var d=n[e].map(function(e){return t._padding(f[1],e)});else var d=n[e];else var d=n[e];r[s]=d}})}return r},PaddingKey.prototype._processDef=function(e){var n={};return Object.keys(e).forEach(function(r){var t={};Object.keys(e[r].def).forEach(function(n){var a=e[r].def[n];t[parseInt(a[0])]={type:a[1],name:n}}),n[r]={keys:t}}),n};var gen=function(e){return new PaddingKey(e)};module.exports=gen;

},{}],779:[function(require,module,exports){
"use strict";var initManager=require("./libs/init/initManager"),WKEngine={init:initManager.init,mainInit:initManager.mainInit,imInit:initManager.imInit,version:require("./libs/version"),errorCode:require("./libs/error/errorCode"),config:require("./libs/config/config"),syncProtocolStatus:require("./libs/syncProtocolStatus/syncProtocolStatus"),conversationService:require("./libs/conversation/conversationService"),banWordsType:require("./libs/conversation/banWordsType"),inBanBlackStatus:require("./libs/conversation/inBanBlackStatus"),inBanWhiteStatus:require("./libs/conversation/inBanWhiteStatus"),errorLogEventEmitter:require("./libs/error/errorLogEventEmitter"),typingStatus:require("./libs/conversation/typingStatus"),conversationStatus:require("./libs/conversation/conversationStatus"),groupAuthority:require("./libs/conversation/groupAuthority"),groupValidationStatus:require("./libs/conversation/groupValidationStatus"),iconOptionModelType:require("./libs/conversation/iconOptionModelType"),showHistoryType:require("./libs/conversation/showHistoryType"),batchGetConvIcon:require("./libs/conversation/batchGetConvIcon"),messageSendStatus:require("./libs/message/msgSendStatus"),messageType:require("./libs/message/msgType"),messageCreatorType:require("./libs/message/msgCreatorType"),syncSinglePackageActionMerge:require("./libs/sync/syncSinglePackageActionMerge"),syncMultiPackageActionMerge:require("./libs/sync/syncMultiPackageActionMerge"),conversationTableDef:require("./libs/dbEntry/conversationTableDef"),messageTableDef:require("./libs/dbEntry/messageTableDef"),aliasService:require("./libs/user/aliasService"),followService:require("./libs/user/followService"),groupNickService:require("./libs/user/groupNickService"),ws:require("./libs/io/mainWS"),decryptType:require("./libs/safety/decryptType"),subscribe:require("./libs/subscribe/subscribe"),upload:require("./libs/upload/upload"),trans:require("./libs/upload/trans"),groupValidationService:require("./libs/group/groupValidationService"),joinGroupStatus:require("./libs/group/joinGroupStatus"),cloudSetting:require("./libs/cloudSetting/cloudSetting"),clientLog:require("./libs/clientLog/clientLog"),syncRegister:require("./libs/sync/syncManager").register};module.exports=WKEngine;

},{"./libs/clientLog/clientLog":784,"./libs/cloudSetting/cloudSetting":785,"./libs/config/config":787,"./libs/conversation/banWordsType":788,"./libs/conversation/batchGetConvIcon":789,"./libs/conversation/conversationService":793,"./libs/conversation/conversationStatus":794,"./libs/conversation/groupAuthority":797,"./libs/conversation/groupValidationStatus":799,"./libs/conversation/iconOptionModelType":800,"./libs/conversation/inBanBlackStatus":801,"./libs/conversation/inBanWhiteStatus":802,"./libs/conversation/showHistoryType":803,"./libs/conversation/typingStatus":805,"./libs/dbEntry/conversationTableDef":811,"./libs/dbEntry/messageTableDef":818,"./libs/error/errorCode":820,"./libs/error/errorLogEventEmitter":821,"./libs/group/groupValidationService":822,"./libs/group/joinGroupStatus":823,"./libs/init/initManager":826,"./libs/io/mainWS":830,"./libs/message/msgCreatorType":846,"./libs/message/msgSendStatus":848,"./libs/message/msgType":849,"./libs/safety/decryptType":858,"./libs/subscribe/subscribe":860,"./libs/sync/syncManager":863,"./libs/sync/syncMultiPackageActionMerge":864,"./libs/sync/syncSinglePackageActionMerge":866,"./libs/syncProtocolStatus/syncProtocolStatus":869,"./libs/upload/trans":873,"./libs/upload/upload":874,"./libs/user/aliasService":876,"./libs/user/followService":879,"./libs/user/groupNickService":881,"./libs/version":882}],780:[function(require,module,exports){
"use strict";var Config=require("../config/config"),LocalLog=Config.get("log"),Class=require("../class/class"),LOCK_STATUS={LOCK:0,UNLOCK:1},ActionMerge=Class.create({initialize:function(t,i){this.name=t,this._actionCache={},this.status=LOCK_STATUS.UNLOCK,this.timeout=i||0,this.timeoutId=null},lock:function(){this.status===LOCK_STATUS.UNLOCK&&(this.status=LOCK_STATUS.LOCK,this.timeout>0&&(clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){this.unlock()}.bind(this),this.timeout)))},unlock:function(){return this.status=LOCK_STATUS.UNLOCK,clearTimeout(this.timeoutId),this._runActions()},registerAction:function(t,i){this._actionCache[t]=i,this.status===LOCK_STATUS.UNLOCK&&(this.lock(),setTimeout(function(){this.unlock()}.bind(this),0))},_runActions:function(){Object.keys(this._actionCache).forEach(function(t){try{this._actionCache[t]()}catch(i){LocalLog.error("run action error",this.name,t,i)}delete this._actionCache[t]}.bind(this))}});module.exports=ActionMerge;

},{"../class/class":783,"../config/config":787}],781:[function(require,module,exports){
"use strict";var Aladin=require("@ali/aladin").Aladin,Jsonp=require("../tools/jsonp"),Storage=require("../storage/storage"),Config=require("../config/config"),Querystring=require("querystring"),localLog=Config.get("log"),PROTOCAL="https:",_=require("lodash"),My=require("../my/my"),localStore={getItem:function(){return Storage.local.getItem(Storage.KEYS.WSURL)},setItem:function(e){return Storage.local.setItem(Storage.KEYS.WSURL,e)}},fetchRemoteServer={fetch:function(){var e={sdkver:"0.0.1",os:"web",net:"wifi",appkey:Config.get("appKey"),env:Config.get("env")},r=My.get("openId");return r&&Config.get("domain")&&(e.uid=r+"@"+Config.get("domain")),new Promise(function(r,t){var o=Querystring.encode(e);Jsonp(Config.get("aladinUrl")+"?"+o,{timeout:1e4},function(e,o){if(e)return localLog.error("fetch the aladin servers error: "+e.toString()),void t(e);var i=_.get(o,"domainList[0].ipList");i&&Array.isArray(i)?(localLog.info("get ws list success",JSON.stringify(i)),r(i)):(localLog.error("get ws list error",JSON.stringify(o)),t(new Error("get ws list error")))})})}};exports.getAladin=function(){var e=Config.get("backUpWSURL")||[],r=new Aladin(e,localStore,fetchRemoteServer);return r};

},{"../config/config":787,"../my/my":856,"../storage/storage":859,"../tools/jsonp":871,"@ali/aladin":676,"lodash":919,"querystring":12}],782:[function(require,module,exports){
var Class=require("../class/class"),Cache=Class.create({initialize:function(t){this.name=t,this.cache={}},set:function(t){t.getId&&t.getId()?this.cache[t.getId()]=t:console.error("item must have getId method")},getItemById:function(t){return this.cache[t]}}),ExpireCache=Class.create({initialize:function(t){this._expireTime=t,this._storage={},this.initCleanTimer()},initCleanTimer:function(){var t=this;setTimeout(function(){Object.keys(t._storage).forEach(function(e){t._isExpire(e)&&t._remove(e)})},12e5)},_getNow:function(){return+new Date},_isExpire:function(t){var e=this._expireTime;return this._getNow()-this._getTime(t)>e},_getTime:function(t){return this._storage[t][1]},_getVal:function(t){return this._storage[t][0]},_remove:function(t){delete this._storage[t]},_isHit:function(t){return this._storage[t]},addCache:function(t,e){this._storage[t]=[e,this._getNow()]},getCache:function(t){var e=!1;return this._isHit(t)?this._isExpire(t)?(this._remove(t),e):this._getVal(t):e},updateCache:function(t,e){return this._isHit(t)?this._storage[t][0].allData=this._storage[t][0].allData.concat(e.allData):this._storage[t]=[e,this._getNow()],this._storage[t][0]}});exports.Cache=Cache,exports.ExpireCache=ExpireCache;

},{"../class/class":783}],783:[function(require,module,exports){
function Class(t){if(!(this instanceof Class)&&isFunction(t))return classify(t)}function implement(t){var n,i;for(n in t)i=t[n],Class.Mutators.hasOwnProperty(n)?Class.Mutators[n].call(this,i):this.prototype[n]=i}function classify(t){return t.extend=Class.extend,t.implement=implement,t}function Ctor(){}function mix(t,n,i){for(var r in n)if(n.hasOwnProperty(r)){if(i&&indexOf(i,r)===-1)continue;"prototype"!==r&&(t[r]=n[r])}}module.exports=Class,Class.create=function(t,n){function i(){t.apply(this,arguments),this.constructor===i&&this.initialize&&this.initialize.apply(this,arguments)}return isFunction(t)||(n=t,t=null),n||(n={}),t||(t=n.Extends||Class),n.Extends=t,t!==Class&&mix(i,t,t.StaticsWhiteList),implement.call(i,n),classify(i)},Class.extend=function(t){return t||(t={}),t.Extends=this,Class.create(t)},Class.Mutators={Extends:function(t){var n=this.prototype,i=createProto(t.prototype);mix(i,n),i.constructor=this,this.prototype=i,this.superclass=t.prototype},Implements:function(t){isArray(t)||(t=[t]);for(var n,i=this.prototype;n=t.shift();)mix(i,n.prototype||n)},Statics:function(t){mix(this,t)}};var createProto=Object.__proto__?function(t){return{__proto__:t}}:function(t){return Ctor.prototype=t,new Ctor},toString=Object.prototype.toString,isArray=Array.isArray||function(t){return"[object Array]"===toString.call(t)},isFunction=function(t){return"[object Function]"===toString.call(t)},indexOf=Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var i=0,r=t.length;i<r;i++)if(t[i]===n)return i;return-1};

},{}],784:[function(require,module,exports){
"use strict";var Class=require("../class/class"),IDL=require("../idl/idl"),ClientLogI=IDL.interface.ClientLogI,_=require("lodash");exports.alarm=function(e){var e=_.assign(e,{localTime:Date.now()});return ClientLogI.alarm(e)};

},{"../class/class":783,"../idl/idl":824,"lodash":919}],785:[function(require,module,exports){
"use strict";var EventEmitter=require("wolfy87-eventemitter"),_=require("lodash"),config=require("../config/config"),localLog=config.get("log"),_openId=null,_settings={latestVersion:0,cloudSettings:{}},localStroagePrefix="wkCloudSettingV2_",eventEmitter=null,_buildKey=function(e,t){return t+"@"+e},_setValue=function(e){var t=e.moduleName,n=e.key;_settings.cloudSettings[_buildKey(t,n)]=e,eventEmitter&&eventEmitter.emit(_buildKey(t,n),e)};exports.setOpenId=function(e){if(_openId!==e){var t=window.localStorage.getItem(localStroagePrefix+e);if(t)try{var n=JSON.parse(t);n.latestVersion&&n.cloudSettings&&(_settings.latestVersion=n.latestVersion,_settings.cloudSettings=n.cloudSettings)}catch(e){_settings={latestVersion:0,cloudSettings:{}}}else _settings={latestVersion:0,cloudSettings:{}};_openId=e,eventEmitter=new EventEmitter}return!0},exports.getVersion=function(){if(!_openId)throw new Error("openId is null");return _settings.latestVersion},exports.getConfig=function(e,t){if(!_openId)throw new Error("openId is null");return _settings.cloudSettings[_buildKey(e,t)]},exports.addListener=function(e,t,n){if(!_openId)throw new Error("openId is null");eventEmitter&&eventEmitter.addListener(_buildKey(e,t),n)},exports.removeListener=function(e,t,n){if(!_openId)throw new Error("openId is null");eventEmitter&&eventEmitter.removeListener(_buildKey(e,t),n)},exports.receiveChange=function(e){if(!_openId)throw new Error("openId is null");e.latestVersion>_settings.latestVersion&&e.cloudSettings&&Array.isArray(e.cloudSettings)&&(e.cloudSettings.forEach(function(e){var t=exports.getConfig(e.moduleName,e.key);t&&t.settingValue===e.settingValue||_setValue(e)}),_settings.latestVersion=e.latestVersion,window.localStorage.setItem(localStroagePrefix+_openId,JSON.stringify(_settings))),localLog.info("receive cloud setting update",JSON.stringify(e))};

},{"../config/config":787,"lodash":919,"wolfy87-eventemitter":944}],786:[function(require,module,exports){
"use strict";var cloudSetting=require("./cloudSetting"),subscribe=require("../subscribe/subscribe");exports.init=function(){subscribe.on("/s/setting",function(e,i){i({}),e.body&&cloudSetting.receiveChange(e.body)})};

},{"../subscribe/subscribe":860,"./cloudSetting":785}],787:[function(require,module,exports){
"use strict";var _=require("lodash"),defaultConf={messageTpl:{createGroupText:"发起了群聊",createChatText:"",quitGroup:"已经退出群聊",inviteJoin:"邀请 $whos$ 加入群聊",convKickout:"将 $whos$ 移出了群聊",editGroupName:'把群 "$original$" 修改为 "$now$" ',editGroupIcon:"修改了群头像",loginKickout:"您的账户在其他设备登录",groupOwner:"成为群主"},nickName:"",ua:window.navigator.userAgent,beforeAuthLWPWhiteList:[],env:"online",appKey:null,log:{info:function(){window.debug===!0&&console.info(arguments)},error:function(){window.debug===!0&&console.error(arguments)}},didByCookie:!1,aladinUrl:"https://vip.laiwang.com/alfa",domain:null,backUpWSURL:[],initConvListSize:200,dbCollectioin:null,msgEncryptor:null,mode:"nosync"},config=defaultConf;exports.set=function(o,n){switch(o){case"appKey":if(!_.isString(n))throw new Error("appKey must be a string");break;case"beforeAuthLWPWhiteList":if(!_.isArray(n))throw new Error("beforeAuthLWPWhiteList must be an array");break;case"log":if(!_.isFunction(n.info)||!_.isFunction(n.error))throw new Error("log.info and log.error must be a function");return config.log.info=n.info.bind(n),void(config.log.error=n.error.bind(n))}var i={};return i[o]=n,_.assign(config,i),!0},exports.get=function(o){return o?_.get(config,o):_.assign({},config)};

},{"lodash":919}],788:[function(require,module,exports){
module.exports={OFF:0,ON:1};

},{}],789:[function(require,module,exports){
"use strict";var Config=require("../config/config"),localLog=Config.get("log"),IDL=require("../idl/idl"),IDLConversation=IDL.interface.IDLConversation,DELAY_TIME=300,MAX_CID_ONE_REQUEST=10,waitCache={},WaitIconInfo=function(e){this.cid=e,this.result=new Promise(function(e,n){this.resolve=e,this.reject=n}.bind(this))},addToWait=function(e){var n=e;return waitCache[n]?waitCache[n]:(waitCache[n]=new WaitIconInfo(e),waitCache[n])},consumeTimer=null,doRequest=function(e){return IDLConversation.getIcon(e).result},prepareConsume=function(){null===consumeTimer&&(consumeTimer=setTimeout(function(){consumeTimer=null;var e=waitCache;waitCache={};for(var n=[],o=Object.keys(e),r=Math.ceil(o.length/MAX_CID_ONE_REQUEST),t=0;t<r;t++){var i=o.slice(t*MAX_CID_ONE_REQUEST,(t+1)*MAX_CID_ONE_REQUEST);n.push(doRequest(i).catch(function(e){return localLog.error("get conv icons error",JSON.stringify(this._cids),e),{}}.bind({_cids:i})))}Promise.all(n).then(function(n){var o={};Array.isArray(n)&&n.forEach(function(e){e.body&&Object.keys(e.body).forEach(function(n){o[n]=e.body[n]})}),Object.keys(e).forEach(function(n){var r=e[n];o[n]?r.resolve(o[n]):r.reject(new Error("get conv icon info error"))})})},DELAY_TIME))},getConvIcon=function(e){return e?(prepareConsume(),addToWait(e).result):Promise.reject(new Error("cid 不能为空"))};exports.getConvIcon=getConvIcon;

},{"../config/config":787,"../idl/idl":824}],790:[function(require,module,exports){
"use strict";var conversationEventCenter=require("./conversationEventCenter"),conversationStatus=require("./conversationStatus"),typingStatus=require("./typingStatus"),typingCommand=require("./typingCommand"),errorCode=require("../error/errorCode"),syncSinglePackageActionMerge=require("../sync/syncSinglePackageActionMerge"),syncDBTransaction=require("../sync/syncDBTransaction"),batchGetConvIcon=require("./batchGetConvIcon"),msgType=require("../message/msgType"),BaseMsg=require("../message/BaseMsg"),TextMsg=require("../message/TextMsg"),ImgMsg=require("../message/ImgMsg"),CustomMsg=require("../message/CustomMsg"),GapMsg=require("../message/GapMsg"),SystemMsg=require("../message/SystemMsg"),decryptType=require("../safety/decryptType"),sendMsgBuilder=require("../message/sendMsgBuilder"),msgContentType=require("../message/msgContentType"),msgCreatorType=require("../message/msgCreatorType"),msgReadStatus=require("../message/messageReadStatus"),msgViewStatus=require("../message/msgViewStatus"),forwardMsgBuilder=require("../message/forwardMsgBuilder"),SEND_STATUS=require("../message/msgSendStatus"),groupAuthority=require("./groupAuthority"),showHistoryType=require("./showHistoryType"),msgInstanceHelper=require("../message/receiveMsgInstanceHelper"),messageDbEntryService=require("../dbEntry/messageDbEntryService"),groupNickService=require("../user/groupNickService"),getConversationFromServer=require("./getConversationFromServer"),IDL=require("../idl/idl"),IDLConversation=IDL.interface.IDLConversation,IDLMessage=IDL.interface.IDLMessage,Typing=IDL.interface.Typing,GroupRole=require("./groupRole"),ConversationType=require("./conversationType"),BanWordsType=require("./banWordsType"),InBanBlackStatus=require("./inBanBlackStatus"),InBanWhiteStatus=require("./inBanWhiteStatus"),decryptMsg=require("../safety/decryptMsg"),Config=require("../config/config"),EventEmitter=require("wolfy87-eventemitter"),Class=require("../class/class"),My=require("../my/my"),INIT_SIZE=20,DEFAULT_MEMBER_LIMIT=1e3,MEMBER_MAX_NUMBER=2147483647,SEARCH_PRE_CONTEXT_LIMIT=3,SEARCH_CONTEXT_LIMIT=10,OVER_NORMAL_MEMBER_LIMIT=1500,MEMBERS_CACHE_MAX_TIME=18e5,_=require("lodash"),Conv=Class.create({initialize:function(e,t){if(this.baseConversation=_.assign({memberCount:0,title:"",icon:"",createAt:0,memberExtension:0,notificationOff:0,tag:0,sort:0,status:1,authority:0,ownerId:0,groupValidationInfo:{type:1},iconOption:{},showHistoryType:showHistoryType.OFF,memberLimit:0,superGroup:0,unreadPoint:0,banWordsType:BanWordsType.OFF,inBanWhite:InBanBlackStatus.OFF,inBanBlack:InBanWhiteStatus.OFF,banWordsTime:0},e.baseConversation),this._local=e._local||{},this.cid=e.baseConversation.conversationId,this.isSingleChat=!1,this.isToMySelf=!1,this.members=null,this.isPin=this.baseConversation.sort>0,this.isActive=!1,this.isUIVisible=!0,this.baseConversation.type===ConversationType.SINGLE){this.isSingleChat=!0;var s=this.baseConversation.conversationId.split(":");this.isToMySelf=s[0]===s[1]}else this.isSingleChat=!1;if(this.myTypingStatus=typingStatus.IDLE,this.peerTypingStatus=typingStatus.IDLE,this.latestPeerMsgCreatedTime=0,this._sendTypingTimer=null,this._cancelPeerTypingTimer=null,this._latestTextChangeTime=0,this._isPullingHistory=!1,this.conversationDbEntry=t,this._msgCache={createdIndex:{},msgIdIndex:{}},this.conversationDbEntry){var i=messageDbEntryService.getMessageEntry();this.messageDbEntry=new i(this.cid)}if(this.messages=[],this._msgIds=[],this._lastMsg=null,this.localLog=Config.get("log"),this._handleLastMsgChangeBindThis=this._handleLastMsgChange.bind(this),e.lastMessages=e.lastMessages||[],e.lastMessages.length>0){var n=e.lastMessages.map(function(e){return this._getMsgInstance(e)}.bind(this));this._batchInsertToMsgList(n)}_.get(e,"_local.clientExtension.complete")===!1&&this._completeConv(),this._getMembersTime=0},Implements:EventEmitter,EventsName:{MESSAGES_UPDATE:"messages_update",SHOW_HISTORY_TYPE_UPDATE:"showHistoryTypeUpdate",RECEIVE_NEW_MESSAGE:"receive_new_message",NOTIFICATION_STATUS_UPDATE:"notification_status_update",AUTHORITY_UPDATE:"authority_update",EXTENSION_UPDATE:"extension_update",MEMBER_COUNT_UPDATE:"member_count_update",MEMBER_LIMIT_UPDATE:"member_limit_update",OWNER_ID_UPDATE:"owner_id_update",STATUS_UPDATE:"status_update",SUPER_GROUP_UPDATE:"super_group_update",TAG_UPDATE:"tag_update",TITLE_UPDATE:"title_update",GROUP_VALIDATION_UPDATE:"group_validation_update",ICON_UPDATE:"icon_update",SORT_UPDATE:"sort_update",NO_MORE_MSG:"no_more_msg",UNREAD_POINT_UPDATE:"unread_point_update",MEMBERS_UPDATE:"members_update",REMIND_TYPE_UPDATE:"remind_type_update",SAVE_DRAFT:"save_draft",DESTROY:"destroy",BAN_WORDS_STATUS_UPDATE:"ban_words_update",PEER_TYPING_STATUS_UPDATE:"peer_typing_status_update"},active:function(e){return this.isActive===!0?Promise.resolve():(this.isActive=!0,this.clearUnReadPoint(),this.localLog.info("active conv",this.cid),this._setSize(e||INIT_SIZE))},deactive:function(){if(this.isActive===!1)return Promise.resolve();this.isActive=!1,this.isUIVisible=!0;this._safeClearMsgList(),this._safeClearGap();this._cancelTyping(),this.localLog.info("deactive conv",this.cid)},setUIVisibleStatus:function(e){return this.isUIVisible=e,e===!0&&this.clearUnReadPoint(),!0},search:function(e){return this._safeClearMsgList(),this.localLog.info("search by messageId",e),this._searchByMessageId(e).catch(function(e){this.localLog.error("search by message id error",e)}.bind(this))},clearSearchResult:function(){var e=this._safeClearGap();if(e===!0)return this.messages.length>=INIT_SIZE?Promise.resolve():this._setSize(INIT_SIZE)},_batchInsertToMsgList:function(e){return e.forEach(function(e){return this._insertToMsgList(e)}.bind(this)),!0},_searchByMessageId:function(e){return this.messageDbEntry?Promise.resolve().then(function(){return this.messageDbEntry.getMessageById(e)}.bind(this)).then(function(e){var t=_.get(e,"baseMessage.createdAt");if(t){var s=this.messageDbEntry.listMessages(!1,t,SEARCH_PRE_CONTEXT_LIMIT),i=this.messageDbEntry.listMessages(!0,t,SEARCH_CONTEXT_LIMIT);return Promise.all([s,i]).then(function(e){var t=e[0],s=e[1];return _.uniqBy(t.concat(s),function(e){return e.baseMessage.messageId}).sort(function(e,t){return _.get(e,"baseMessage.createdAt")-_.get(t,"baseMessage.createdAt")})})}return Promise.reject(new Error("cannot get createdAt from search message"))}.bind(this)).then(function(e){var t=e.map(function(e){return this._getMsgInstance(e)}.bind(this));return this._insertSearchResult(t)}.bind(this)):Promise.reject(new Error("message db entry not exist, can't search"))},_insertSearchResult:function(e){if(!e||0===e.length)return!1;var t=e[e.length-1],s=t.getCreatedAt(),i=new GapMsg(this.cid,s+1);return 0===this.messages.length?e.push(i):s<this.messages[0].getCreatedAt()&&e.push(i),this._batchInsertToMsgList(e)},_insertToMsgList:function(e){try{var t=e.getId()}catch(e){return this.localLog.error("insert to msg list error, msg id not exist",e),!1}if(this._msgIds.indexOf(t)!==-1)return!1;for(var s=e.getCreatedAt(),i=this.messages.length;i>0&&!(s>this.messages[i-1].getCreatedAt());)i--;return this.messages.splice(i,0,e),this._msgIds.splice(i,0,t),this.isActive===!1&&this._safeClearMsgList(INIT_SIZE),syncSinglePackageActionMerge.registerAction("updateConvLastMessages_"+this.cid,function(){this._detectLastMsgChange()}.bind(this)),this._emitMsgUpdateEvent(),!0},_safeClearMsgList:function(e){for(var e=e||20,t=0;this.messages.length-t>=e&&this.messages[t].sendStatus===SEND_STATUS.SENDED;)t++;return t>0&&(this.messages.splice(0,t-1),this._msgIds.splice(0,t-1),this._emitMsgUpdateEvent(),!0)},_safeClearGap:function(){var e=-1;if(this.messages.some(function(t,s){return t instanceof GapMsg&&(e=s,!0)}),e>-1){var t=e+1;return this.messages.splice(0,t),this._msgIds.splice(0,t),this._emitMsgUpdateEvent(),!0}return!1},_deleteMsgFromMsgList:function(e){var t=this._msgIds.indexOf(e);t>-1&&(this._msgIds.splice(t,1),this.messages.splice(t,1),this._emitMsgUpdateEvent())},_cleanSendingMsg:function(e){var t=e.getId(),s=e.getLocalId(),i=this._msgIds.indexOf(t);i>-1&&(this.messages.splice(i,1),this._msgIds.splice(i,1));var n=this._msgIds.indexOf(s);return n>-1&&this._msgIds.splice(n,1,t),!0},_forceClearMsgs:function(){this.messages=[],this._msgIds=[],this._emitMsgUpdateEvent()},_detectLastMsgChange:function(){for(var e=null,t=this.messages.length-1;t>=0;){var s=this.messages[t];if(s.sendStatus===SEND_STATUS.SENDED&&!s.isDel()){e=s;break}t--}return!e||e===this._lastMsg||(this._lastMsg=e,void this._handleLastMsgChangeBindThis())},_handleLastMsgChange:function(){if(this._lastMsg){var e=this._lastMsg.getMessageModel();this._lastMsg.isSilence()||(this._local.lastModify=_.get(e,"baseMessage.createdAt")),this.conversationDbEntry&&(this.localLog.info("update last messages for conversation : ",this.cid,this._lastMsg.getId()),syncDBTransaction.registerAction("1_updateLastMsg_"+this.cid,function(t){return this.conversationDbEntry.updateLastMessages(this.cid,[e],this._local.lastModify,t)}.bind(this)))}},_emitMsgUpdateEvent:function(){syncSinglePackageActionMerge.registerAction("convMessagesUpdateEvent"+this.cid,function(){this.emit(this.EventsName.MESSAGES_UPDATE,this.messages)}.bind(this))},pullSafetyInfo:function(){return IDLConversation.getByIdUnlimited(this.cid).result.then(function(e){if(e.body&&e.body.baseConversation){var t=e.body.baseConversation,s={tag:t.tag,extension:t.extension};return this.receiveConvChange(s),Promise.resolve(s)}return this.localLog.error("pull safety conv info resp body empty",this.cid),Promise.reject("pull safety conv info resp body empty")}.bind(this))},pullHistory:function(){if(this._isPullingHistory===!0){var e=new Error("pull history is locked");return e.code=errorCode.CONVERSATION.PULL_HISTORY_IS_LOCKED,this.localLog.info("pull history locked",this.cid),Promise.reject(e)}var t=this.messages.length+INIT_SIZE;return this._isPullingHistory=!0,this._setSize(t).then(function(e){return this._isPullingHistory=!1,this.localLog.info("pull history success"),e}.bind(this)).catch(function(e){return this._isPullingHistory=!1,this.localLog.error("pull history fail",e),Promise.reject(e)}.bind(this))},isVisible:function(){return this.baseConversation.status===conversationStatus.VISIBLE},isDiscard:function(){return this.baseConversation.status===conversationStatus.DISBANDED||this.baseConversation.status===conversationStatus.KICKED||this.baseConversation.status===conversationStatus.QUIT},_getMsgInstance:function(e){var t=msgInstanceHelper.instance(e);return t},_setSize:function(e){return Promise.resolve().then(function(){var t=this.messages.length;if(e<=t){this.localLog.info("set size, old size is greater than new size",t,e);var s=this._safeClearMsgList(e);return s}var i=(new Date).getTime();return this.messages.length>0&&(i=_.get(this.messages[0],"baseMessage.createdAt")),this._pullData(i,e-t).then(function(e){var t=!1;return e.forEach(function(e){var s=_.get(e,"baseMessage.messageId")+"";if(this._msgIds.indexOf(s)===-1){var i=this._getMsgInstance(e);this._insertToMsgList(i),t=!0}}.bind(this)),t}.bind(this))}.bind(this)).catch(function(e){return e.code===errorCode.CONVERSATION.NO_MORE_MSGS&&this.emit(this.EventsName.NO_MORE_MSG),this.localLog.error("set size error",e),Promise.reject(e)}.bind(this))},_pullData:function(e,t){return this.localLog.info("pull data",e,t),this._pullMsgsFromCache(e,t).then(function(e){return e}.bind(this)).catch(function(e){return this.localLog.error("pull msgs from cache error",this.cid,e),[]}.bind(this)).then(function(s){return s.length>=t?s:(s.length>0&&(e=s[s.length-1].baseMessage.createdAt),this.localLog.info("list messages from server",this.cid,e,t),IDLMessage.listMessages(this.cid,!1,e,t).result.then(function(e){return e.body&&e.body.length>0?this._cacheMsgs(e.body).then(function(e){return this.localLog.info("pull from server result",this.cid,JSON.stringify(e.map(function(e){return e.baseMessage.messageId}))),e.sort(function(e,t){return _.get(t,"baseMessage.createdAt")-_.get(e,"baseMessage.createdAt")})}.bind(this)):[]}.bind(this)).then(function(e){return s.concat(e)}).catch(function(e){return this.localLog.error("pull data error",this.cid,e),Promise.reject(e)}.bind(this)))}.bind(this))},receiveMsg:function(e){var t=String(_.get(e,"baseMessage.messageId"));return e.senderMessageStatus||parseInt(_.get(e,"baseMessage.openIdEx.openId"))!==My.get("openId")||(e.senderMessageStatus={totalCount:this.baseConversation.memberCount,unReadCount:this.baseConversation.memberCount-1}),e.receiverMessageStatus||(e.receiverMessageStatus={readStatus:1}),this._cacheMsgs([e]).then(function(e){var s=Promise.resolve(),i=e[0];if(this.localLog.info("conv module receive msg ",this.cid,t),this._msgIds.indexOf(t)===-1){var n=this._getMsgInstance(i),r=this._insertToMsgList(n);(n.isMe()||n.isMeRead())&&this.clearUnReadPoint(),r===!0&&(n.isMe()||n.isMeRead()||n.isSys()||this.isActive&&this.isUIVisible||this.isDiscard()||n.isSilence()||this.addUnReadPoint(),n.isMe()||(this.latestPeerMsgCreatedTime=n.baseMessage.createdAt),this.emit(this.EventsName.RECEIVE_NEW_MESSAGE,{message:n}),this.isDiscard()||n.isSilence()||this._makeThisConvToTop(),this.baseConversation.status===conversationStatus.QUIT&&(s=getConversationFromServer.getById(this.cid).then(function(e){return e.body&&e.body.baseConversation&&(this.receiveConvChange({status:e.body.baseConversation.status}),this.isDiscard()||n.isSilence()||this._makeThisConvToTop()),!0}.bind(this)).catch(function(e){return this.localLog.error("get conv from server",this.cid,e),!0}.bind(this))))}return s}.bind(this)).catch(function(e){return this.localLog.error("receive message error",this.cid,e),!0}.bind(this))},_makeThisConvToTop:function(){conversationEventCenter.emit(conversationEventCenter.EventsName.MAKE_CONV_TO_TOP,{cid:this.cid,isPin:this.isPin})},cleanMsgFromCreatedAt:function(e){this.messageDbEntry&&syncSinglePackageActionMerge.registerAction("convDropMsg_"+this.cid,function(){this.messageDbEntry.removeFromCreatedAt(e).then(function(){var t=_.findIndex(this.messages,function(t){return t.baseMessage.createdAt===e});this._msgIds=this._msgIds.splice(t),this.messages=this.messages.splice(t),this._emitMsgUpdateEvent()}.bind(this)).catch(function(e){this.localLog.error("drop msg from created at error",e)}.bind(this))}.bind(this))},addUnReadPoint:function(){this._updateUnreadPoint(this.baseConversation.unreadPoint+1)},clearUnReadPoint:function(e){var t=this.baseConversation.unreadPoint;0!==t&&(this._updateUnreadPoint(0),e&&this.messages.length>0&&this.messages[this.messages.length-1].updateToView())},_updateUnreadPoint:function(e){this.localLog.info("update unread point to ",e,this.cid),this.baseConversation.unreadPoint=e,this.emit(this.EventsName.UNREAD_POINT_UPDATE,{unreadPoint:this.baseConversation.unreadPoint}),syncSinglePackageActionMerge.registerAction("convUpdateUnreadPoint"+this.cid,function(){syncDBTransaction.registerAction("1_convUpdateUnreadPoint"+this.cid,function(e){return this.conversationDbEntry&&this.conversationDbEntry.updateUnreadCount(this.cid,this.baseConversation.unreadPoint,e)}.bind(this))}.bind(this))},deleteMsgById:function(e){return this._deleteMsgFromMsgList(String(e)),!0},receiveMsgChange:function(e){var t=e.messageId;(e.receiverMessageStatus&&e.receiverMessageStatus.readStatus===msgReadStatus.READ||e.viewStatus===msgViewStatus.VIEWED)&&this.clearUnReadPoint(),this.messages.some(function(s,i){try{if(s.getMessageId()===t)return s.receiveMsgChange(e),!0}catch(e){}}.bind(this));var s={baseMessage:{},_local:{}};if(Object.keys(e).forEach(function(t){if("conversationId"!==t&&"messageId"!==t){var i=e[t];if("senderMessageStatus"===t)s.senderMessageStatus=i;else if("receiverMessageStatus"===t)s.receiverMessageStatus=i;else if("privateTag"===t)s.baseMessage.memberTag=i;else if("privateExtension"===t)s.baseMessage.memberExtension=i;else if("deleted"===t){var n=i===!0?1:0;s._local.isDel=n,this._detectLastMsgChange()}else s.baseMessage[t]=i}}.bind(this)),this.messageDbEntry)syncDBTransaction.registerAction("2_updateMsg_"+t+"_"+JSON.stringify(Object.keys(e)),function(e){return this.messageDbEntry.updateMsg(t,s,e).then(function(e){}).catch(function(e){this.localLog.error("update msg status error",e)}.bind(this))}.bind(this));else{var i=this._msgCache.msgIdIndex[t];i&&(this._msgCache.msgIdIndex[t]=_.defaultsDeep(i,s))}return this._lastMsg&&this._lastMsg.getMessageId()===t&&this._handleLastMsgChange(),this.localLog.info("receive message change",JSON.stringify(e)),!0},receiveTyping:function(e){return Promise.resolve().then(function(){return e.command===typingCommand.CANCEL?this._cancelPeerTyping():e.command===typingCommand.TYPING&&this._showPeerTyping(),!0}.bind(this))},_showPeerTyping:function(){this.peerTypingStatus===typingStatus.IDLE&&(this.peerTypingStatus=typingStatus.TYPING,this.emit(this.EventsName.PEER_TYPING_STATUS_UPDATE,typingStatus.TYPING)),clearTimeout(this._cancelPeerTypingTimer),this._cancelPeerTypingTimer=setTimeout(function(){this._cancelPeerTyping()}.bind(this),5e3)},_cancelPeerTyping:function(){this.peerTypingStatus===typingStatus.TYPING&&(this.peerTypingStatus=typingStatus.IDLE,this.emit(this.EventsName.PEER_TYPING_STATUS_UPDATE,typingStatus.IDLE))},inputTextHasChanged:function(e){if(this.isSingleChat){var e=e||"";e=e.trim();var t=(new Date).getTime();this._latestTextChangeTime=t,0===e.length&&this.myTypingStatus===typingStatus.TYPING?this._cancelTyping():e.length>0&&t-this.latestPeerMsgCreatedTime<1e4&&this.myTypingStatus===typingStatus.IDLE&&this._startSendTyping()}},_startSendTyping:function(){this.myTypingStatus===typingStatus.IDLE&&(this.myTypingStatus=typingStatus.TYPING,this._sendTypingCommand(typingCommand.TYPING),clearInterval(this._sendTypingTimer),this._sendTypingTimer=setInterval(function(){var e=(new Date).getTime();e-this._latestTextChangeTime<5e3?this._sendTypingCommand(typingCommand.TYPING):(clearInterval(this._sendTypingTimer),this.myTypingStatus=typingStatus.IDLE)}.bind(this),4500))},_cancelTyping:function(){this.myTypingStatus===typingStatus.TYPING&&(this.myTypingStatus=typingStatus.IDLE,this._sendTypingCommand(typingCommand.CANCEL),clearTimeout(this._sendTypingTimer))},_sendTypingCommand:function(e){return Typing.send({conversationId:this.cid,type:msgContentType.TEXT,command:e}).result},getMembers:function(){return this.members&&Date.now()-this._getMembersTime<MEMBERS_CACHE_MAX_TIME?Promise.resolve(this.members):this.isSingleChat?(this.members=this.cid.split(":").map(function(e){return{openIdEx:{openId:parseInt(e),tag:-1},role:GroupRole.MEMBER}}),this.isToMySelf&&(this.members=this.members.slice(0,1)),Promise.resolve(this.members)):IDLConversation.listMembers(this.cid,0,MEMBER_MAX_NUMBER).result.then(function(e){this.members=e.body,this.localLog.info("list members success",this.cid,"length: "+this.members.length),this._getMembersTime=Date.now(),this.members.length<MEMBER_MAX_NUMBER&&this.members.length!=this.baseConversation.memberCount&&this.receiveConvChange({memberCount:this.members.length});var t=[];return this.members.forEach(function(e){if(0!==e.groupNickModel.tag){var s={conversationId:this.cid,openId:e.openIdEx.openId,groupNickModel:e.groupNickModel};t.push(groupNickService.receiveChange(s).catch(function(e){return this.localLog.error("groupNick receiveChange error",e),Promise.resolve()}.bind(this)))}}.bind(this)),Promise.all(t).then(function(){return this.members}.bind(this))}.bind(this)).catch(function(e){return this.localLog.error("list members error",e),Promise.reject(e)}.bind(this))},removeMembers:function(e,t,s){var i=sendMsgBuilder.buildMsg(this.cid,{contentType:msgContentType.TEXT,textContent:{text:s}},{creatorType:msgCreatorType.SYSTEM,receivers:t});return IDLConversation.removeMembers(this.cid,e,!0,i).result},addMembers:function(e,t){var s=this,e=e||[];if(this.isSingleChat)return Promise.reject(new Error("single chat can't addMembers"));if(e=e.map(function(e){return parseInt(e)}),0===e.length)return Promise.reject(new Error("uids 为空"));var i=sendMsgBuilder.buildMsg(this.cid,{contentType:msgContentType.TEXT,textContent:{text:t}},{creatorType:msgCreatorType.SYSTEM});return IDLConversation.addMembers(s.cid,e,i).result},updateTitle:function(e,t){var s=sendMsgBuilder.buildMsg(this.cid,{contentType:msgContentType.TEXT,textContent:{text:t||"修改群名为"+e}},{creatorType:msgCreatorType.SYSTEM}),i=this.baseConversation.title;return this.receiveConvChange({title:e}),IDLConversation.updateTitle(this.cid,e,s).result.catch(function(e){return this.localLog.error("wksdk conv update title fail",e,JSON.stringify(e._originMsg)),this.receiveConvChange({title:i}),Promise.reject(e)}.bind(this))},quitSilent:function(e,t){var s=sendMsgBuilder.buildMsg(this.cid,{contentType:msgContentType.TEXT,textContent:{text:t}},{creatorType:msgCreatorType.SYSTEM});return IDLConversation.quitSilent(this.cid,e,s).result.then(function(e){return this.receiveConvChange({isQuit:!0}),e}.bind(this))},updateOwner:function(e,t){var s=sendMsgBuilder.buildMsg(this.cid,{contentType:msgContentType.TEXT,textContent:{text:t}},{creatorType:msgCreatorType.SYSTEM});return IDLConversation.updateOwner(this.cid,e,s).result.then(function(t){return this.receiveConvChange({ownerId:e}),t}.bind(this))},disband:function(){return IDLConversation.disband(this.cid).result.then(function(e){return this.receiveConvChange({isDisband:!0}),conversationEventCenter.emit(conversationEventCenter.EventsName.HIDE_CONV,{cid:this.cid,isPin:this.isPin}),e}.bind(this))},updateNotificationOffStatus:function(e){var e=!!e,t=e?1:0;return IDLConversation.updateNotificationOff(this.cid,t).result.then(function(e){return this.receivePersonalChange({notificationOff:t}),e}.bind(this))},updateShowHistoryType:function(e){var t={conversationId:this.cid,showHistoryType:e};return IDLConversation.updateShowHistoryType(t).result.then(function(t){return this.receiveConvChange({showHistoryType:e}),!0}.bind(this)).catch(function(e){return this.localLog.error("update group show history type error",e),Promise.reject(e)}.bind(this))},updateGroupValidationType:function(e){var t={type:e};return IDLConversation.updateGroupValidationInfo(this.cid,t).result.then(function(s){this.localLog.info("update group validation",this.cid,e),this.receiveConvChange({groupValidationInfo:t})}.bind(this)).catch(function(e){return this.localLog.error("update group validation error",e),Promise.reject(e)}.bind(this))},acceptForwardMsg:function(e){if(1===e.baseMessage.recallStatus)return Promise.reject(new Error("该消息已被撤回，不能被转发"));var t=e.baseMessage.content.contentType;switch(t){case msgContentType.TEXT:return this.sendTextMsg(this._removeTextContentOpenId(e.baseMessage.content));case msgContentType.IMG:var s=e.baseMessage.content,i=sendMsgBuilder.buildMsg(this.cid,s,{minimumCreatedAt:this._getLastMessageCreatedAt()}),e=new ImgMsg(null,i);return this.sendMsg(e);default:var s=e.baseMessage.content,i=sendMsgBuilder.buildMsg(this.cid,s,{minimumCreatedAt:this._getLastMessageCreatedAt()}),e=new BaseMsg(null,i);return this.sendMsg(e)}},_removeTextContentOpenId:function(e){var t=_.get(e,"textContent.text"),s=e.atOpenIds,i=/@(\d+)(?=\s)/g,n=t.replace(i,function(e,t){return"@"+(s[t]||t)});return n},updateAuthority:function(e){var t=this.baseConversation.authority,s=e?groupAuthority.ONLY_OWNER:groupAuthority.ALL;return this.receiveConvChange({authority:s}),IDLConversation.updateAuthority(this.cid,s).result.then(function(){}.bind(this)).catch(function(e){return this.receiveConvChange({authority:t}),this.localLog.error("update authority fail",e,JSON.stringify(e._originMsg)),Promise.reject(e)}.bind(this))},_getLastMessageCreatedAt:function(){if(this.messages.length>0){var e=this.messages[this.messages.length-1];return e.getCreatedAt()}return(new Date).getTime()},updateMsgToDb:function(e){var t=_.get(e,"baseMessage.messageId");this.messageDbEntry&&t&&this.messageDbEntry.updateMsg(t,e),this._lastMsg&&this._lastMsg.getMessageId()===t&&this._handleLastMsgChange()},sendCustomMsg:function(e,t,s,i){var n=CustomMsg.createWithCustomSendFunction(this.cid,e,t,s,i,this._getLastMessageCreatedAt());return this.sendMsg(n)},sendTextMsg:function(e,t,s){var s=s||{};s.minimumCreatedAt=this._getLastMessageCreatedAt();var i=TextMsg.createWithText(this.cid,e,t,s);return this.sendMsg(i)},sendImgMsg:function(e){var t=ImgMsg.createWithImgFile(this.cid,e,this._getLastMessageCreatedAt());return this.sendMsg(t)},sendImgMsgWithMediaId:function(e){var t=ImgMsg.createWithMediaIdOption(this.cid,e,this._getLastMessageCreatedAt());return this.sendMsg(t)},sendMsg:function(e){var t=e.getId();this._insertToMsgList(e),this._cancelTyping(),this._makeThisConvToTop();var s=function(t){if(t===SEND_STATUS.SENDED){var i=e.getMessageModel();this._cacheMsgs([i]).then(function(){this.localLog.info("msg send success, clean sending msg",this.cid,e.getId()),this._cleanSendingMsg(e),this._detectLastMsgChange()}.bind(this)).catch(function(e){this.localLog.error("cache msg error after send success",e)}.bind(this)),e.removeListener(e.EventsName.SEND_STATUS_CHANGE,s)}}.bind(this);return e.addListener(e.EventsName.SEND_STATUS_CHANGE,s),this.emit(this.EventsName.RECEIVE_NEW_MESSAGE,{message:e}),e.send().then(function(e){return e}.bind(this)).catch(function(e){return this.localLog.error("send msg error",this.cid,t,e),Promise.reject(e)}.bind(this))},setPin:function(e){return IDLConversation.setTop(this.cid,e).result.then(function(e){var t=e.body;return this.receivePersonalChange({sort:t})}.bind(this))},hide:function(){return this.receivePersonalChange({status:0}),IDLConversation.updateStatus([this.cid],conversationStatus.HIDE).result.then(function(){this.localLog.info("hide conversation success",this.cid)}.bind(this)).catch(function(){this.localLog.error("hide conversation fail",this.cid)}.bind(this))},show:function(){return this.baseConversation.status===conversationStatus.HIDE?(this.receivePersonalChange({status:1}),IDLConversation.updateStatus([this.cid],conversationStatus.VISIBLE).result.then(function(){this.localLog.info("make conversation visible success",this.cid)}.bind(this)).catch(function(){this.localLog.error("make conversation visible fail",this.cid)}.bind(this))):Promise.resolve(!0)},getMemberLimitState:function(){var e=this.baseConversation.memberLimit;return this.baseConversation.memberLimit||(e=this.baseConversation.memberCount<=DEFAULT_MEMBER_LIMIT?DEFAULT_MEMBER_LIMIT:OVER_NORMAL_MEMBER_LIMIT),{memberLimit:e,memberCount:this.baseConversation.memberCount}},clearMsg:function(){return IDLConversation.clear(this.cid).result.then(function(e){return this.handleClearMsg()}.bind(this))},setRemindType:function(e){this.receiveConvChange({remindType:e})},saveDraft:function(e){this.receiveConvChange({draft:e})},handleClearMsg:function(e){return this._forceClearMsgs(),e&&this.receivePersonalChange({status:0}),this._clearCache().then(function(e){return this.baseConversation.unreadPoint>0&&this.clearUnReadPoint(),e}.bind(this))},receivePersonalChange:function(e){return void 0!==e.notificationOff&&this.baseConversation.notificationOff!==e.notificationOff&&(this.baseConversation.notificationOff=e.notificationOff,this.emit(this.EventsName.NOTIFICATION_STATUS_UPDATE,e.notificationOff)),void 0!==e.sort&&this.baseConversation.sort!==e.sort&&(this.baseConversation.sort=e.sort,this.isPin=!!e.sort,this._makeThisConvToTop(),this.emit(this.EventsName.SORT_UPDATE,e.sort)),e.status===conversationStatus.HIDE&&this.baseConversation.status===conversationStatus.VISIBLE&&(this.baseConversation.status=conversationStatus.HIDE,this.deactive()),e.status===conversationStatus.HIDE&&conversationEventCenter.emit(conversationEventCenter.EventsName.HIDE_CONV,{cid:this.cid,isPin:this.isPin}),e.status===conversationStatus.VISIBLE&&this.baseConversation.status===conversationStatus.HIDE&&(this.baseConversation.status=conversationStatus.VISIBLE),this.conversationDbEntry&&this._saveToDb(),!0},getDataFromServer:function(e){return getConversationFromServer.getById(this.cid).then(function(t){if(t.body&&t.body.baseConversation){var s={};return e.forEach(function(e){s[e]=t.body.baseConversation[e]}),this.receiveConvChange(s),s}return{}}.bind(this)).catch(function(t){return this.localLog("conv, getDataFromServer error",this.cid,e,t,JSON.stringify(t)),Promise.reject(t)}.bind(this))},_clearSendedMsg:function(){var e=[],t=[];this.messages.forEach(function(s){s.isSended()||(e.push(s),t.push(s.getId()))}),this.messages=e,this._msgIds=t,this._emitMsgUpdateEvent()},updateConvFromConvData:function(e,t){var s={},i=e.baseConversation,n=["title","memberCount","icon","isKicked","tag","extension","status","authority","memberLimit","superGroup","ownerId","groupValidationInfo"];n.forEach(function(e){void 0!==i[e]&&(s[e]=i[e])});var r=_.get(e,"_local.lastModify");return r&&(this._local.lastModify=r),Promise.resolve().then(function(){if(e.lastMessages&&e.lastMessages.length>0&&!t){for(var s=e.lastMessages[e.lastMessages.length-1],n=s.baseMessage.messageId,r=s.baseMessage.createdAt,a=this.messages.length-1,o=0,c=0;a>=0;){var h=this.messages[a];if(h.isSended()){o=h.getMessageId(),c=h.getCreatedAt();break}a--}if(n!==o&&r>=c){this._updateUnreadPoint(i.unreadPoint);var g=Promise.resolve();return o&&(g=g.then(function(){return this._clearCache()}.bind(this))),g.then(function(){return this._cacheMsgs(e.lastMessages)}.bind(this)).then(function(e){var t=e.map(function(e){return this._getMsgInstance(e)}.bind(this));this._batchInsertToMsgList(t),this.isActive&&this._setSize(INIT_SIZE)}.bind(this))}return Promise.resolve()}}.bind(this)).then(function(){this.receiveConvChange(s)}.bind(this))},receiveConvChange:function(e){var t=null;e.isQuit===!0?t=conversationStatus.QUIT:e.isDisband===!0?t=conversationStatus.DISBANDED:e.isKicked===!0?t=conversationStatus.KICKED:e.isQuit===!1&&e.isKicked===!1&&e.isDisband===!1&&this.baseConversation.status!==conversationStatus.HIDE&&(t=conversationStatus.VISIBLE),delete e.isQuit,delete e.isKicked,delete e.isDisband,null!==t&&(e.status=t),Object.keys(e).forEach(function(t){var s=e[t];if("title"===t)s&&this.baseConversation.title!==s&&(this.baseConversation[t]=s,this._handleConvChange(t,s));else if("icon"===t)s&&this.baseConversation.value!==s&&(this.baseConversation[t]=s,this._handleConvChange(t,s));else if("remindType"===t)_.isUndefined(s)||this._local.remindType===s||(this._local.remindType=s,this._handleConvChange(t,s));else if("draft"===t)this._local.draft!==s&&(this._local.draft=s,this._handleConvChange(t,s));else if("groupValidationInfo"===t)s&&s.type&&_.get(this.baseConversation,"groupValidationInfo.type")!==s.type&&(this.baseConversation[t]=s,this._handleConvChange(t,s));else{if("unreadPoint"===t)return;_.isNumber(s)||_.isString(s)?this.baseConversation[t]!==s&&(this.baseConversation[t]=s,this._handleConvChange(t,s)):_.isPlainObject(s)&&(_.isEqual(this.baseConversation[t],s)||(this.baseConversation[t]=s,this._handleConvChange(t,s)))}}.bind(this)),this.conversationDbEntry&&this._saveToDb()},_handleConvChange:function(e,t){var s;switch(e){case"memberCount":s=this.EventsName.MEMBER_COUNT_UPDATE,this.members=null;break;case"title":s=this.EventsName.TITLE_UPDATE;break;case"showHistoryType":s=this.EventsName.SHOW_HISTORY_TYPE_UPDATE;break;case"iconOption":s=this.EventsName.ICON_UPDATE;break;case"icon":s=this.EventsName.ICON_UPDATE;break;case"draft":s=this.EventsName.SAVE_DRAFT;break;case"remindType":s=this.EventsName.REMIND_TYPE_UPDATE;break;case"groupValidationInfo":s=this.EventsName.GROUP_VALIDATION_UPDATE;break;case"status":s=this.EventsName.STATUS_UPDATE,t===conversationStatus.QUIT&&conversationEventCenter.emit(conversationEventCenter.EventsName.HIDE_CONV,{cid:this.cid,isPin:this.isPin});break;case"tag":s=this.EventsName.TAG_UPDATE;break;case"extension":s=this.EventsName.EXTENSION_UPDATE;break;case"authority":s=this.EventsName.AUTHORITY_UPDATE;break;case"memberLimit":s=this.EventsName.MEMBER_LIMIT_UPDATE;break;case"superGroup":s=this.EventsName.SUPER_GROUP_UPDATE;break;case"banWordsType":case"inBanWhite":case"inBanBlack":case"banWordsTime":s=this.EventsName.BAN_WORDS_STATUS_UPDATE;
break;case"ownerId":s=this.EventsName.OWNER_ID_UPDATE}return s&&syncSinglePackageActionMerge.registerAction("convChangeEmit_"+this.cid+"_"+s,function(){this.emit(s,t)}.bind(this)),s},getMsgDataByMid:function(e){return this.messageDbEntry?this.messageDbEntry.getMessageById(e):Promise.resolve(this._msgCache.msgIdIndex[e])},getIconOption:function(){return this.baseConversation.iconOption&&"undefined"!=typeof this.baseConversation.iconOption.type?this.baseConversation.iconOption:(batchGetConvIcon.getConvIcon(this.cid).then(function(e){this.receiveConvChange({iconOption:e})}.bind(this)).catch(function(e){this.localLog.error("get conv icon error",e)}.bind(this)),{})},_cacheMsgs:function(e){return decryptMsg.tryDecryptMsgs(e).then(function(e){return this.messageDbEntry?(syncDBTransaction.registerAction("0_insertMsgs_"+JSON.stringify(e.map(function(e){return e.baseMessage.messageId})),function(t){return this.messageDbEntry.multiInsertWkmsgs(e,t)}.bind(this)),Promise.resolve(e)):(e.forEach(function(e){var t=_.get(e,"baseMessage.messageId");if(!this._msgCache.msgIdIndex[t]){this._msgCache.msgIdIndex[t]=e;var s=_.get(e,"baseMessage.createdAt");Array.isArray(this._msgCache.createdIndex[s])||(this._msgCache.createdIndex[s]=[]),this._msgCache.createdIndex[s].push(t)}}.bind(this)),Promise.resolve(e))}.bind(this)).then(function(e){return e.forEach(function(e){var t=_.get(e,"baseMessage.openIdEx.openId"),s=_.get(e,"baseMessage.groupNickTag")||0;syncSinglePackageActionMerge.registerAction("receiveChange_"+this.cid+"_"+t+"_"+s,function(){var e={conversationId:this.cid,openId:t,groupNickModel:{tag:s}};groupNickService.receiveChange(e)}.bind(this))}.bind(this)),Promise.resolve(e)}.bind(this))},_clearCache:function(){return this._clearSendedMsg(),this.messageDbEntry?this.messageDbEntry.rebuild():(this._msgCache.msgIdIndex={},this._msgCache.createdIndex={},Promise.resolve())},_pullMsgsFromCache:function(e,t){if(this.messageDbEntry)return this.messageDbEntry.listMessages(!1,e,t).then(function(e){this.localLog.info("pull from cache result",this.cid,JSON.stringify(e.map(function(e){return e.baseMessage.messageId})));var e=e||[],t=e.filter(function(e){return e.baseMessage.type===msgType.ENCRYPTED&&e.baseMessage.isDecrypt!==decryptType.YES&&e.baseMessage.isDecrypt!==decryptType.NEVER});return Promise.all(t.map(function(e){return decryptMsg.decryptMsg(e).then(function(e){return e.baseMessage.isDecrypt=decryptType.YES,this.updateMsgToDb(e),e}.bind(this)).catch(function(){return e})}.bind(this))).then(function(t){var s={};return t.forEach(function(e){s[e.baseMessage.messageId]=e}),e.forEach(function(t,i){var n=t.baseMessage.messageId;s[n]&&(e[i]=s[n])}),e=e.sort(function(e,t){return _.get(t,"baseMessage.createdAt")-_.get(e,"baseMessage.createdAt")})})}.bind(this));var s=[];Object.keys(this._msgCache.createdIndex).filter(function(t){return t<=e}).sort(function(e,t){return t-e}).some(function(e){return this._msgCache.createdIndex[e].some(function(e){return s.push(e),s.length>=t})}.bind(this));var i=s.map(function(e){return this._msgCache.msgIdIndex[e]}.bind(this));return Promise.resolve(i)},_completeConv:function(){return IDLConversation.getByIdUnlimited(this.cid).result.then(function(e){if(this._local.clientExtension.complete=!0,e.body&&e.body.baseConversation){var t=e.body.baseConversation;this.baseConversation.createdAt=t.createAt,this.receiveConvChange({conversationId:t.conversationId,memberCount:t.memberCount,title:t.title,icon:t.icon,tag:t.tag,extension:t.extension,authority:t.authority,memberLimit:t.memberLimit,groupValidationInfo:t.groupValidationInfo,superGroup:t.superGroup,ownerId:t.ownerId}),this.receivePersonalChange({conversationId:t.conversationId,sort:t.sort,notificationOff:t.notificationOff})}else this.localLog.info("complete conv resp body empty",this.cid,this.isSingleChat),this.isSingleChat||this.receiveConvChange({isQuit:!0})}.bind(this))},_saveToDb:function(){var e=this.baseConversation,t=this._local,s={baseConversation:e,_local:t};syncDBTransaction.registerAction("1_updateConv_"+this.cid,function(e){return this.conversationDbEntry.updateConversation(this.cid,s,e)}.bind(this))},destroy:function(){this._forceClearMsgs(),this.emit(this.EventsName.DESTROY)}});module.exports=Conv;

},{"../class/class":783,"../config/config":787,"../dbEntry/messageDbEntryService":817,"../error/errorCode":820,"../idl/idl":824,"../message/BaseMsg":834,"../message/CustomMsg":835,"../message/GapMsg":836,"../message/ImgMsg":837,"../message/SystemMsg":838,"../message/TextMsg":839,"../message/forwardMsgBuilder":843,"../message/messageReadStatus":844,"../message/msgContentType":845,"../message/msgCreatorType":846,"../message/msgSendStatus":848,"../message/msgType":849,"../message/msgViewStatus":850,"../message/receiveMsgInstanceHelper":851,"../message/sendMsgBuilder":852,"../my/my":856,"../safety/decryptMsg":857,"../safety/decryptType":858,"../sync/syncDBTransaction":862,"../sync/syncSinglePackageActionMerge":866,"../user/groupNickService":881,"./banWordsType":788,"./batchGetConvIcon":789,"./conversationEventCenter":791,"./conversationStatus":794,"./conversationType":795,"./getConversationFromServer":796,"./groupAuthority":797,"./groupRole":798,"./inBanBlackStatus":801,"./inBanWhiteStatus":802,"./showHistoryType":803,"./typingCommand":804,"./typingStatus":805,"lodash":919,"wolfy87-eventemitter":944}],791:[function(require,module,exports){
"use strict";var EventEmitter=require("wolfy87-eventemitter"),Class=require("../class/class"),EventCenter=Class.create({initialize:function(){},Implements:EventEmitter,EventsName:{MAKE_CONV_TO_TOP:"make_conv_to_top",HIDE_CONV:"hide_conv",DELETE_CONV:"delete_conv",DELETE_MSG:"delete_msg",MSG_CONTENT_CHANGE:"msg_content_change",REMOVE_MSG:"remove_msg"}});module.exports=new EventCenter;

},{"../class/class":783,"wolfy87-eventemitter":944}],792:[function(require,module,exports){
"use strict";var Sync=require("../sync/syncManager"),conversationService=require("../conversation/conversationService"),syncObjectType=require("../sync/syncObjectType"),_=require("lodash"),Config=require("../config/config"),LocalLog=Config.get("log"),subscribe=require("../subscribe/subscribe"),syncProtocolStatus=require("../syncProtocolStatus/syncProtocolStatus"),initMsgSync=function(){Sync.register({objectType:syncObjectType.IM_MSG,onSyncMsg:function(e){return syncProtocolStatus.setSyncStatus(!0),LocalLog.info("conversationInit","receive im msg",e.baseMessage.conversationId,e.baseMessage.messageId),conversationService.receiveMsg(e).catch(function(n){LocalLog.error("receive im msg error",e.baseMessage.conversationId,e.baseMessage.messageId,n)})},onNeedPullData:function(){return conversationService.pullConvListFromServer().catch(function(e){throw LocalLog.error("conversationInit","pull conversation list from server error",e.toString()),e})}}),Sync.register({objectType:syncObjectType.MSG_SENDER_MESSAGE_STATUS,onSyncMsg:function(e){return syncProtocolStatus.setSyncStatus(!0),LocalLog.info("conversationInit","receive im msg status",JSON.stringify(e)),conversationService.receiveMsgChange(e)}}),Sync.register({objectType:syncObjectType.MSG_RECALL_STATUS,onSyncMsg:function(e){return syncProtocolStatus.setSyncStatus(!0),LocalLog.info("conversationInit","receive im msg recall status",JSON.stringify(e)),conversationService.receiveMsgChange(e)}}),Sync.register({objectType:syncObjectType.MSG_EXTENSION,onSyncMsg:function(e){return syncProtocolStatus.setSyncStatus(!0),LocalLog.info("conversationInit","receive im msg extension",JSON.stringify(e)),conversationService.receiveMsgChange(e)}}),Sync.register({objectType:syncObjectType.MSG_PRIVATE_TAG,onSyncMsg:function(e){return syncProtocolStatus.setSyncStatus(!0),LocalLog.info("conversationInit","receive im msg private tag",JSON.stringify(e)),conversationService.receiveMsgChange(e)}}),Sync.register({objectType:syncObjectType.MSG_PRIVATE_EXTENSION,onSyncMsg:function(e){return syncProtocolStatus.setSyncStatus(!0),LocalLog.info("conversationInit","receive im msg private extension",JSON.stringify(e)),conversationService.receiveMsgChange(e)}}),Sync.register({objectType:syncObjectType.MSG_PRIVATE_TAG_WITH_PRIVATE_EXTENSION,onSyncMsg:function(e){return syncProtocolStatus.setSyncStatus(!0),LocalLog.info("conversationInit","receive im msg private extension with private tag",JSON.stringify(e)),conversationService.receiveMsgChange(e)}}),Sync.register({objectType:syncObjectType.MSG_VIEW_STATUS,onSyncMsg:function(e){return syncProtocolStatus.setSyncStatus(!0),LocalLog.info("conversationInit","receive im msg view status",JSON.stringify(e)),conversationService.receiveMsgChange(e)}}),Sync.register({objectType:syncObjectType.MSG_RECEIVE_MESSAGE_STATUS_BATCH,onSyncMsg:function(e){return syncProtocolStatus.setSyncStatus(!0),LocalLog.info("conversationInit","receive im msg receive message status batch",JSON.stringify(e)),Promise.all(Array.isArray(e.messageChangeList)&&e.messageChangeList.map(function(e){return conversationService.receiveMsgChange(e)})||[])}}),Sync.register({objectType:syncObjectType.CONV_CLEAR_MSG,onSyncMsg:function(e){syncProtocolStatus.setSyncStatus(!0);var n=_.get(e,"conversationId");return LocalLog.info("conversationInit","receive clear conv msg push",JSON.stringify(e)),n?conversationService.clearMsgByCid(n):(LocalLog.error("conversationInit","receive clear conv msg push",new Error("消息格式错误,cid为空")),Promise.resolve())}}),Sync.register({objectType:syncObjectType.CONV_CLEAR_MSG_AND_STATUS_CHANGE,onSyncMsg:function(e){var n=_.get(e,"conversationId");return LocalLog.info("conversationInit","receive clear conv msg and status change",JSON.stringify(e)),n?conversationService.clearMsgByCid(n,!0):(LocalLog.error("conversationInit","receive clear conv msg push",new Error("消息格式错误,cid为空")),Promise.resolve())}}),Sync.register({objectType:syncObjectType.CONV_NOTICE,onSyncMsg:function(e){var n=_.get(e,"conversationId");return LocalLog.info("conversationInit","receive conv notice",JSON.stringify(e)),n?conversationService.receiveConvChange(e.convNoticeModel):(LocalLog.error("conversationInit","receive conv notice error",new Error("消息格式错误,cid为空")),Promise.resolve())}}),Sync.register({objectType:syncObjectType.CONV_STATUS,onSyncMsg:function(e){var n=_.get(e,"conversationId");return LocalLog.info("conversationInit","receive conv status change",JSON.stringify(e)),n?conversationService.receiveConvPChange(e):(LocalLog.error("conversationInit","receive conv notice error",new Error("消息格式错误,cid为空")),Promise.resolve())}}),Sync.register({objectType:syncObjectType.CONV_NOTIFICATION_OFF,onSyncMsg:function(e){var n=_.get(e,"conversationId");return LocalLog.info("conversationInit","receive conv notification off change",JSON.stringify(e)),n?conversationService.receiveConvPChange(e):(LocalLog.error("conversationInit","receive conv notice error",new Error("消息格式错误,cid为空")),Promise.resolve())}}),Sync.register({objectType:syncObjectType.CONV_SORT,onSyncMsg:function(e){var n=_.get(e,"conversationId");return LocalLog.info("conversationInit","receive conv sort change",JSON.stringify(e)),n?conversationService.receiveConvPChange(e):(LocalLog.error("conversationInit","receive conv notice error",new Error("消息格式错误,cid为空")),Promise.resolve())}}),Sync.register({objectType:syncObjectType.MSG_DELETE,onSyncMsg:function(e){var n=_.get(e,"conversationId");return LocalLog.info("conversationInit","receive msg delete push",JSON.stringify(e)),n?conversationService.receiveMsgChange(e):(LocalLog.error("conversationInit","receive msg delete push",new Error("消息格式错误,cid为空")),Promise.resolve())}}),Sync.register({objectType:syncObjectType.GROUP_BAN_WORDS,onSyncMsg:function(e){var n=_.get(e,"conversationId");return LocalLog.info("conversationInit","receive group ban words setting",JSON.stringify(e)),n?conversationService.receiveConvChange(e):(LocalLog.error("conversationInit","receive group ban words setting",new Error("消息格式错误,cid为空")),Promise.resolve())}}),subscribe.on("/s/typing",function(e,n){var o=e.body;LocalLog.info("conversationInit","receive typing topic",JSON.stringify(o)),conversationService.receiveTyping(o).then(function(){n({})})})},initMsgTopic=function(){subscribe.on("/s/msg",function(e,n){1!==_.get(e.body,"compensateType")&&syncProtocolStatus.setSyncStatus(!1),conversationService.receiveMsg({baseMessage:e.body}),LocalLog.info("conversationInit","receive im msg by /s/msg",e.body.conversationId,e.body.messageId),n({})}),subscribe.on("/s/status",function(e,n){syncProtocolStatus.setSyncStatus(!1),conversationService.receiveMsgChange({conversationId:e.body.conversationId,messageId:e.body.messageId,senderMessageStatus:e.body.status}),LocalLog.info("conversationInit","receive im msg status by /s/status",JSON.stringify(e.body)),n({})}),subscribe.on("/s/readstatus",function(e,n){syncProtocolStatus.setSyncStatus(!1),e.body.readStatusList&&Array.isArray(e.body.readStatusList)&&e.body.readStatusList.forEach(function(e){conversationService.receiveMsgChange({conversationId:e.conversationId,messageId:e.messageId,receiverMessageStatus:e.status})}),LocalLog.info("conversationInit","receive im msg read  status by /s/readstatus",JSON.stringify(e.body)),n({})}),subscribe.on("/s/msgInfo",function(e,n){syncProtocolStatus.setSyncStatus(!1),conversationService.receiveMsgChange(e.body),LocalLog.info("conversationInit","receive im msg info by /s/msgInfo",JSON.stringify(e.body)),n({})}),subscribe.on("/s/msgTag",function(e,n){syncProtocolStatus.setSyncStatus(!1),conversationService.receiveMsgChange({conversationId:e.body.conversationId,messageId:e.body.messageId,privateTag:e.body.memberTag,privateExtension:e.body.memberExtension}),LocalLog.info("conversationInit","receive im msg tag by /s/msgTag",JSON.stringify(e.body)),n({})})},init=function(){initMsgSync(),initMsgTopic()};exports.init=init;
},{"../config/config":787,"../conversation/conversationService":793,"../subscribe/subscribe":860,"../sync/syncManager":863,"../sync/syncObjectType":865,"../syncProtocolStatus/syncProtocolStatus":869,"lodash":919}],793:[function(require,module,exports){
"use strict";var Conv=require("./conv"),IDL=require("../idl/idl"),IDLConversation=IDL.interface.IDLConversation,_=require("lodash"),Config=require("../config/config"),InitConvListSize=Config.get("initConvListSize"),EventEmitter=require("wolfy87-eventemitter"),conversationStatus=require("./conversationStatus"),conversationEventCenter=require("./conversationEventCenter"),conversationType=require("./conversationType"),getConversationFromServer=require("./getConversationFromServer"),sendMsgBuilder=require("../message/sendMsgBuilder"),msgContentType=require("../message/msgContentType"),msgCreatorType=require("../message/msgCreatorType"),msgType=require("../message/msgType"),decryptType=require("../safety/decryptType"),Class=require("../class/class"),conversationDbEntryService=require("../dbEntry/conversationDbEntryService"),afterAuthInit=require("../init/afterAuthInit"),mainWS=require("../io/mainWS"),syncProtocolStatus=require("../syncProtocolStatus/syncProtocolStatus"),decryptMsg=require("../safety/decryptMsg"),baseMsgTag=require("../message/baseMsgTag"),localLog=Config.get("log"),ConversationService=Class.create({initialize:function(){this.emitter=new EventEmitter,this.EventsName={CONV_LIST_UPDATE:"conv_list_update",HIDE_CONV:"hide_conv"},this.convCache={},this.convList={order:[],pinOrder:[]},this.conversationDbEntry=null,this.init(),this.afterAuthInit(),this._getDataFromLocalDBPromiseHandler={_resolve:function(){},_reject:function(){}},this._getDataFromLocalDBPromise=new Promise(function(e,t){this._getDataFromLocalDBPromiseHandler._resolve=e,this._getDataFromLocalDBPromiseHandler._reject=t}.bind(this))},init:function(){conversationEventCenter.addListener(conversationEventCenter.EventsName.MAKE_CONV_TO_TOP,function(e){var t=e.cid,n=e.isPin,i=this.convList.pinOrder.indexOf(t);i>-1&&this.convList.pinOrder.splice(i,1);var r=this.convList.order.indexOf(t);r>-1&&this.convList.order.splice(r,1),n?this.convList.pinOrder.unshift(t):this.convList.order.unshift(t),this.emitListUpdateEvent(),localLog.info("receive make conv to top event",JSON.stringify(e))}.bind(this)),conversationEventCenter.addListener(conversationEventCenter.EventsName.HIDE_CONV,function(e){this.handleHideConv(e.cid),localLog.info("receive delete conv event",JSON.stringify(e))}.bind(this)),conversationEventCenter.addListener(conversationEventCenter.EventsName.MSG_CONTENT_CHANGE,function(e){var t=_.get(e,"baseMessage.conversationId");t&&this.getConvByCid(t,!0).then(function(t){t.updateMsgToDb(e)})}.bind(this)),conversationEventCenter.addListener(conversationEventCenter.EventsName.DELETE_MSG,function(e){try{var t=this.getConvByCidSync(e.cid);t.deleteMsgById(e.messageId)}catch(e){localLog.error("delete msg error",e)}localLog.info("receive delete msg event",JSON.stringify(e))}.bind(this)),conversationEventCenter.addListener(conversationEventCenter.EventsName.REMOVE_MSG,function(e){try{var t=this.getConvByCidSync(e.cid);t.receiveMsgChange({deleted:!0,messageId:e.messageId})}catch(e){localLog.error("remove msg error",e)}localLog.info("receive remove msg event",JSON.stringify(e))}.bind(this)),mainWS.addListener(mainWS.EventsName.WS_STATE_CHANGE,function(e){e===mainWS.WSState.SUBSCRIBED&&syncProtocolStatus.status===syncProtocolStatus.STATUS.CLOSED&&(localLog.info("pull conv list from server by mainWS status change, syncProtocolStatus is",syncProtocolStatus.status),this.pullConvListFromServer())}.bind(this)),syncProtocolStatus.addListener(syncProtocolStatus.EventsName.STATUS_CHANGE,function(){syncProtocolStatus.status===syncProtocolStatus.STATUS.CLOSED&&(console.log("pull conv list from server by protocol status change"),this.pullConvListFromServer())}.bind(this))},pullConvListFromServer:function(){var e=require("../config/config").get("dbCollection");if(e&&e.TableEntry&&e.TableEntry.eraseTables)var t=e.TableEntry.eraseTables();else var t=Promise.resolve();return this.getInitConvListFromServer().then(function(e){return Object.keys(this.convCache).forEach(function(e){var t=this.convCache[e];t&&t._clearSendedMsg()}.bind(this)),t.then(function(){return this._storeToDb(e).then(function(){return this._handleInitConvList(e)}.bind(this))}.bind(this))}.bind(this)).catch(function(e){throw localLog.error("get conversation list from server fail",e),e})},afterAuthInit:function(){afterAuthInit.register("conversationService",function(){var e=conversationDbEntryService.getConversationEntry();e?(this.conversationDbEntry=new e,this.conversationDbEntry.listNewest(1e3).then(function(e){return localLog.info("get conversation list from local db success",JSON.stringify(e.map(function(e){return e.baseConversation.conversationId}))),Promise.all(e.map(function(e){return this.tryDecryptConvData(e)}.bind(this)))}.bind(this)).then(this._handleInitConvList.bind(this)).then(function(e){return this._getDataFromLocalDBPromiseHandler._resolve(),e}.bind(this)).catch(function(e){this._getDataFromLocalDBPromiseHandler._resolve(),localLog.error("get conversation list from local DB fail",e)}.bind(this))):this._getDataFromLocalDBPromiseHandler._resolve()}.bind(this))},_storeToDb:function(e){return this.conversationDbEntry?this.conversationDbEntry.multiInsertwkConversation(e).then(function(t){return localLog.info("write conversation to local DB success",JSON.stringify(e.map(function(e){return e.baseConversation.conversationId}))),t}).catch(function(e){return localLog.error("write conversation to local DB fail",e),Promise.reject(e)}):Promise.resolve()},getConvInstance:function(e){var t=_.get(e,"baseConversation.conversationId");if(this.convCache[t])return this.convCache[t].updateConvFromConvData(e),this.convCache[t];var n=new Conv(e,this.conversationDbEntry);return this.convCache[t]=n,n},convIsSupportByCid:function(e){var t=!0;if(e.indexOf(":")!==-1){var n=e.split(":");parseInt(n[0])>parseInt(n[1])&&(t=!1)}return t},convIsSupport:function(e){var t=_.get(e,"baseConversation.conversationId"),n=this.convIsSupportByCid(t);return n},getUpdateTime:function(e){var t=_.get(e,"_local.lastModify");if(t){if(_.get(e,"lastMessages[0].baseMessage.type")!==msgType.SILENCE&&_.get(e,"lastMessages[0].baseMessage.tag")!==baseMsgTag.SILENCE)return t;if(_.get(e,"lastMessages[0].baseMessage.createdAt")!==t)return t}return e.lastMessage&&e.lastMessage.baseMessage&&e.lastMessage.baseMessage.type!==msgType.SILENCE&&e.lastMessage.baseMessage.tag!==baseMsgTag.SILENCE?e.lastMessage.baseMessage.createdAt:e.lastMessages&&e.lastMessages.length>0&&e.lastMessages[0].baseMessage.type!==msgType.SILENCE&&e.lastMessages[0].baseMessage.tag!==baseMsgTag.SILENCE?e.lastMessages[0].baseMessage.createdAt:e.baseConversation.createAt||0},getInitConvListFromServer:function(){return IDLConversation.listNewest(1e3).result.then(function(e){return e.body&&Array.isArray(e.body)?(localLog.info("get conversation list from server success",JSON.stringify(e.body.map(function(e){return e.baseConversation.conversationId}))),Promise.all(e.body.map(function(e){return this.tryDecryptConvData(e)}.bind(this))).then(function(e){return e.map(function(e){return e._local={},e._local.lastModify=this.getUpdateTime(e),e}.bind(this))}.bind(this))):[]}.bind(this))},_handleInitConvList:function(e){this.convList.pinOrder=[],this.convList.order=[],e.sort(function(e,t){return this.getUpdateTime(t)-this.getUpdateTime(e)}.bind(this)),e.forEach(function(e){if(this.convIsSupport(e)){var t=this.getConvInstance(e);t.isVisible()&&(t.baseConversation.sort>0?this.convList.pinOrder.push(t.cid):this.convList.order.push(t.cid))}}.bind(this)),this.convList.order=this.convList.order.slice(0,InitConvListSize-this.convList.pinOrder.length),this.emitListUpdateEvent()},emitListUpdateEvent:function(){var e={order:[].concat(this.convList.order),pinOrder:[].concat(this.convList.pinOrder)};this.emitter.emit(this.EventsName.CONV_LIST_UPDATE,e)},emitHideConvEvent:function(e){this.emitter.emit(this.EventsName.HIDE_CONV,e)},getConvByCidSync:function(e){if(this.convCache[e])return this.convCache[e];throw new Error("conversation not exist at local: "+e)},tryDecryptConvData:function(e){var t=e.lastMessages||[];return Promise.all(t.map(function(t){var n=_.get(t,"baseMessage.extension.oid")||_.get(e,"baseConversation.extension.id");return n?(t.baseMessage.extension=_.assign(t.baseMessage.extension||{},{oid:n}),decryptMsg.decryptMsg(t).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.resolve(t)})):Promise.resolve(t)})).then(function(t){return e.lastMessages=t,Promise.resolve(e)})},getConvByCid:function(e,t){return this.convIsSupportByCid(e)?this._getDataFromLocalDBPromise.then(function(){return this.convCache[e]?this.convCache[e]:(localLog.info("get conv by cid, not hit cache, get conversation from server",e),getConversationFromServer.getById(e).then(function(t){var n=Promise.resolve();if(t.body&&t.body.baseConversation){var i=t.body;n=this.tryDecryptConvData(i)}else{if(e.indexOf(":")===-1)return localLog.error("cid is not exist in server , and is not a single chat",e),Promise.reject(new Error("cid not exist in server"));var i={baseConversation:{conversationId:e,type:conversationType.SINGLE,memberCount:2,title:"",icon:"",createAt:new Date-0},lastMessages:[]};localLog.info("the cid is a single chat , and not exist in server yet",e),n=Promise.resolve(i)}return n.then(function(t){if(this.convCache[e])return this.convCache[e];this._storeToDb([t]);var n=this.getConvInstance(t);return n}.bind(this))}.bind(this)))}.bind(this)).then(function(e){return t||e.isDiscard()||this.convList.pinOrder.indexOf(e.cid)!==-1||this.convList.order.indexOf(e.cid)!==-1||(e.show(),conversationEventCenter.emit(conversationEventCenter.EventsName.MAKE_CONV_TO_TOP,{cid:e.cid,isPin:e.isPin})),e}.bind(this)):Promise.reject(new Error("conversation not support"))},makeConvTopByCid:function(e){return this.getConvByCid(e).then(function(t){conversationEventCenter.emit(conversationEventCenter.EventsName.MAKE_CONV_TO_TOP,{cid:e,isPin:t.isPin})})},handleHideConv:function(e){if(this.convCache[e]){var t=this.convCache[e];if(t.isPin){var n=this.convList.pinOrder.indexOf(t.cid);n>-1&&this.convList.pinOrder.splice(n,1)}else{var n=this.convList.order.indexOf(t.cid);n>-1&&this.convList.order.splice(n,1)}localLog.info("hide conv",e),this.emitListUpdateEvent()}return Promise.resolve({result:!0})},hideConv:function(e){try{var t=this.getConvByCidSync(e);return t.hide().then(function(){this.emitHideConvEvent(e)}.bind(this))}catch(e){return localLog.error("try hide conv, but conv not exist",e),Promise.resolve(!0)}},getConvList:function(){return this.convList},receiveMsg:function(e){var t=_.get(e,"baseMessage.conversationId"),n=_.get(e,"baseMessage.type")===msgType.SILENCE||_.get(e,"baseMessage.tag")===baseMsgTag.SILENCE;return this.getConvByCid(t,n).then(function(t){return t.receiveMsg(e)})},receiveConvPChange:function(e){var t=_.get(e,"conversationId");return this._getDataFromLocalDBPromise.then(function(){return this.getConvByCidSync(t)}.bind(this)).then(function(t){return t.receivePersonalChange(e)}).catch(function(e){return localLog.error("receive personal change error",e),!0})},receiveConvChange:function(e){var t=_.get(e,"conversationId");return this._getDataFromLocalDBPromise.then(function(){return this.getConvByCidSync(t)}.bind(this)).then(function(t){return t.receiveConvChange(e)},function(e){return localLog.info("receiveConvChange but not exist at local",t),!0}).catch(function(e){return localLog.error("receiveConvChange error",e),!0})},clearMsgByCid:function(e,t){return this._getDataFromLocalDBPromise.then(function(){return this.getConvByCidSync(e)}.bind(this)).then(function(e){return e.handleClearMsg(t)}).catch(function(){return!0})},receiveMsgChange:function(e){var t=_.get(e,"conversationId");return this._getDataFromLocalDBPromise.then(function(){return this.getConvByCidSync(t)}.bind(this)).then(function(t){return t.receiveMsgChange(e)}).catch(function(e){return localLog.error("receive msg change error",e),!0})},createConversation:function(e,t){var n=sendMsgBuilder.buildMsg(null,{contentType:msgContentType.TEXT,textContent:{text:t}},{creatorType:msgCreatorType.SYSTEM});return localLog.info("create conversation",JSON.stringify(e),t),IDLConversation.create(e,n).result.then(function(e){return e.body}).catch(function(e){return localLog.error("create conversation fail",e),Promise.reject(e)})},receiveTyping:function(e){return Promise.resolve().then(function(){return Promise.all(e.typingModels.map(function(e){var t=e.conversationId;return Promise.resolve().then(function(){return this.getConvByCidSync(t)}.bind(this)).then(function(t){return t.receiveTyping(e)}).catch(function(){return!0})}.bind(this)))}.bind(this))},listAllGroup:function(e,t){return IDLConversation.listAllGroup(e,t).result}});module.exports=new ConversationService;

},{"../class/class":783,"../config/config":787,"../dbEntry/conversationDbEntryService":810,"../idl/idl":824,"../init/afterAuthInit":825,"../io/mainWS":830,"../message/baseMsgTag":840,"../message/msgContentType":845,"../message/msgCreatorType":846,"../message/msgType":849,"../message/sendMsgBuilder":852,"../safety/decryptMsg":857,"../safety/decryptType":858,"../syncProtocolStatus/syncProtocolStatus":869,"./conv":790,"./conversationEventCenter":791,"./conversationStatus":794,"./conversationType":795,"./getConversationFromServer":796,"lodash":919,"wolfy87-eventemitter":944}],794:[function(require,module,exports){
"use strict";module.exports={HIDE:0,VISIBLE:1,QUIT:-1,KICKED:-2,DISBANDED:-3};

},{}],795:[function(require,module,exports){
"use strict";module.exports={SINGLE:1,GROUP:2};

},{}],796:[function(require,module,exports){
"use strict";var IDL=require("../idl/idl"),IDLConversation=IDL.interface.IDLConversation,GetConversationFromServer=function(){this._cache={}};GetConversationFromServer.prototype.getById=function(e){if(!e)return Promise.reject(new Error("cid is null"));if(this._cache[e])return this._cache[e];var t=IDLConversation.getByIdUnlimited(e).result.then(function(t){return delete this._cache[e],t}.bind(this)).catch(function(t){return delete this._cache[e],Promise.reject(t)}.bind(this));return this._cache[e]=t,t},module.exports=new GetConversationFromServer;

},{"../idl/idl":824}],797:[function(require,module,exports){
"use strict";module.exports={ONLY_OWNER:1,ALL:0};

},{}],798:[function(require,module,exports){
"use strict";module.exports={BOSS:1,MEMBER:3};

},{}],799:[function(require,module,exports){
module.exports={OFF:1,ON:2};

},{}],800:[function(require,module,exports){
module.exports={AUTO:1,CUSTOM:2,ORG:3};

},{}],801:[function(require,module,exports){
module.exports={OFF:0,ON:1};

},{}],802:[function(require,module,exports){
module.exports={OFF:0,ON:1};

},{}],803:[function(require,module,exports){
module.exports={OFF:0,ON:1};

},{}],804:[function(require,module,exports){
"use strict";module.exports={TYPING:0,CANCEL:1};

},{}],805:[function(require,module,exports){
"use strict";module.exports={TYPING:1,IDLE:0};

},{}],806:[function(require,module,exports){
var docCookies={getItem:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,o,n,t,c,r){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(n)switch(n.constructor){case Number:s=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:s="; expires="+n;break;case Date:s="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+s+(c?"; domain="+c:"")+(t?"; path="+t:"")+(r?"; secure":""),!0},removeItem:function(e,o,n){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(o?"; path="+o:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),o=e.length,n=0;n<o;n++)e[n]=decodeURIComponent(e[n]);return e}};module.exports=docCookies;

},{}],807:[function(require,module,exports){
"use strict";module.exports={DEVICE_ID_EXIST:"deviceid_exist"};

},{}],808:[function(require,module,exports){
"use strict";function _initAliasEntry(e){var i=e.TableEntry;AliasEntry=i.extend({initialize:function(){AliasEntry.superclass.initialize.call(this),this.tableName=aliasTableDef.TABLE_NAME,this._initTable()},_defineTable:function(){this.tableDef=tableDef,this.colsDefs=this.tableDef.map(function(e){return e.name+" "+e.constraint}),this.cols=this.tableDef.map(function(e){return e.name}),this.indexDefs=indexDefs},_defineSerializationMap:function(){this.serializeMap={},this.serializeMap[colsEnums.OPEN_ID]="openId",this.serializeMap[colsEnums.ALIAS]="alias",this.serializeMap[colsEnums.PINYIN]="pinyin",this.serializeMap[colsEnums.EXTENSION]="extension",this.serializeMap[colsEnums.AUDIO]="audio"},multiInsertWkAlias:function(e,i){var t=e.map(function(e){return this._serialization(e)}.bind(this));return this.getTableWrapper.then(function(){return this.tableWrapper.insertAll(this.cols,t,!0,i)}.bind(this))},queryAll:function(e){var i=["*"],t=this,n={columns:i};return this.getTableWrapper.then(function(){return this.tableWrapper.query(n,e)}.bind(this)).then(function(e){var i=e.map(function(e){return t._deserialization(e)});return Promise.resolve(i)})},update:function(e,i){var t=_.get(e,"openId");if(!t)return Promise.reject("openId is null");var n=colsEnums.OPEN_ID+"=?",s=[t],a={},r=this._serialization(e);r.forEach(function(e,i){a[this.cols[i]]=e}.bind(this));var l={columns:["*"],selection:n,selectionArgs:s};return this.getTableWrapper.then(function(){return this.tableWrapper.query(l,i)}.bind(this)).then(function(e){return e&&e.length?this.tableWrapper.update(a,n,s,i):this.tableWrapper.insert(a,null,i)}.bind(this))},getAliasModelById:function(e,i){var t=colsEnums.OPEN_ID+"=?",n=[e],s=["*"],a={columns:s,selection:t,selectionArgs:n};return this.getTableWrapper.then(function(){return this.tableWrapper.query(a,i)}.bind(this)).then(function(e){var i=e.map(function(e){return this._deserialization(e)}.bind(this));return i&&i.length?Promise.resolve(i[0]):Promise.reject("not in local db")}.bind(this))}})}var _=require("lodash"),aliasTableDef=require("./aliasTableDef"),colsEnums=aliasTableDef.colsEnums,tableDef=aliasTableDef.tableDef,indexDefs=aliasTableDef.indexDefs,AliasEntry=null;module.exports={initAliasEntry:_initAliasEntry,getAliasEntry:function(){return AliasEntry}};

},{"./aliasTableDef":809,"lodash":919}],809:[function(require,module,exports){
var colsEnums={OPEN_ID:"openId",ALIAS:"alias",PINYIN:"pinyin",EXTENSION:"extensionJson",AUDIO:"audio"},tableDef=[{name:colsEnums.OPEN_ID,constraint:"INTEGER primary key"},{name:colsEnums.ALIAS,constraint:"TEXT"},{name:colsEnums.PINYIN,constraint:"TEXT"},{name:colsEnums.EXTENSION,constraint:"TEXT"},{name:colsEnums.AUDIO,constraint:"TEXT"}],tableName="WKAlias",indexEnums={OPEN_ID:"idx_wkalias_openId"},indexDefs=[{name:indexEnums.OPEN_ID,colName:colsEnums.OPEN_ID,isUnique:!0}];module.exports={indexEnums:indexEnums,indexDefs:indexDefs,tableDef:tableDef,colsEnums:colsEnums,TABLE_NAME:tableName};

},{}],810:[function(require,module,exports){
"use strict";function _initConversationEntry(n){var e=n.TableEntry;ConversationEntry=e.extend({initialize:function(){ConversationEntry.superclass.initialize.call(this),this.tableName=conversationTableDef.TABLE_NAME,this._initTable()},_defineTable:function(){this.tableDef=tableDef,this.colsDefs=this.tableDef.map(function(n){return n.name+" "+n.constraint}),this.cols=this.tableDef.map(function(n){return n.name}),this.indexDefs=indexDefs},_defineSerializationMap:function(){this.serializeMap={},this.serializeMap[conversationColsEnums.CONVERSATION_ID]="baseConversation.conversationId",this.serializeMap[conversationColsEnums.TYPE]="baseConversation.type",this.serializeMap[conversationColsEnums.TITLE]="baseConversation.title",this.serializeMap[conversationColsEnums.ICON]="baseConversation.icon",this.serializeMap[conversationColsEnums.CREATED_AT]="baseConversation.createAt",this.serializeMap[conversationColsEnums.STATUS]="baseConversation.status",this.serializeMap[conversationColsEnums.UNREAD_COUNT]="baseConversation.unreadPoint",this.serializeMap[conversationColsEnums.LAST_MESSAGE]="lastMessages",this.serializeMap[conversationColsEnums.MEMBER_COUNT]="baseConversation.memberCount",this.serializeMap[conversationColsEnums.SORT]="baseConversation.sort",this.serializeMap[conversationColsEnums.NOTIFICATION_OFF]="baseConversation.notificationOff",this.serializeMap[conversationColsEnums.EXTENSION]="baseConversation.extension",this.serializeMap[conversationColsEnums.MEMBER_EXTENSION]="baseConversation.memberExtension",this.serializeMap[conversationColsEnums.TAG]="baseConversation.tag",this.serializeMap[conversationColsEnums.NOTIFICATION_SOUND]="baseConversation.notificationSound",this.serializeMap[conversationColsEnums.AUTHORITY]="baseConversation.authority",this.serializeMap[conversationColsEnums.GROUP_VALIDATION_INFO]="baseConversation.groupValidationInfo",this.serializeMap[conversationColsEnums.MEMBER_LIMIT]="baseConversation.memberLimit",this.serializeMap[conversationColsEnums.GROUP_LEVEL]="baseConversation.superGroup",this.serializeMap[conversationColsEnums.PARENT_ID]="baseConversation.parentId",this.serializeMap[conversationColsEnums.NODE_TYPE]="baseConversation.nodeType",this.serializeMap[conversationColsEnums.OWNER_ID]="baseConversation.ownerId",this.serializeMap[conversationColsEnums.ICON_OPTION_MODEL]="baseConversation.iconOption",this.serializeMap[conversationColsEnums.SHOW_HISTORY_TYPE]="baseConversation.showHistoryType",this.serializeMap[conversationColsEnums.CLIENT_EXTENSION]="_local.clientExtension",this.serializeMap[conversationColsEnums.DRAFT]="_local.draft",this.serializeMap[conversationColsEnums.UNREAD_AT_ME_COUNT]="_local.unreadAtMeCount",this.serializeMap[conversationColsEnums.LAST_MODIFY]="_local.lastModify",this.serializeMap[conversationColsEnums.MEMBERS]="_local.members",this.serializeMap[conversationColsEnums.REMIND_TYPE]="_local.remindType",this.serializeMap[conversationColsEnums.BAN_WORDS_TYPE]="baseConversation.banWordsType",this.serializeMap[conversationColsEnums.IN_BAN_WHITE]="baseConversation.inBanWhite",this.serializeMap[conversationColsEnums.IN_BAN_BLACK]="baseConversation.inBanBlack",this.serializeMap[conversationColsEnums.BAN_WORDS_TIME]="baseConversation.banWordsTime"},multiInsertwkConversation:function(n,e){var t=this,s=n.map(function(n){return t._serialization(n)});return this.getTableWrapper.then(function(){return this.tableWrapper.insertAll(this.cols,s,!0,e)}.bind(this))},_neadJsonParse:function(n){return/(Json$|clientExtension$)/.test(n)},listNewest:function(n,e){var t=["*"],s="createdAt DESC",o=""+n,i=this,r={columns:t,orderBy:s,limit:o};return this.getTableWrapper.then(function(){return this.tableWrapper.query(r,e)}.bind(this)).then(function(n){var e=n.map(function(n){return i._deserialization(n)});return Promise.resolve(e)})},listGroup:function(n,e,t){var s=["*"],o="(type=?) AND createdAt > ?",i=[ConvType.GROUP,n],r="createdAt",a=e+"",u=this,l={columns:s,selection:o,selectionArgs:i,ordeBy:r,limit:a};return this.getTableWrapper.then(function(){return this.tableWrapper.query(l,t)}.bind(this)).then(function(n){var e=n.map(function(n){return u._deserialization(n)});return Promise.resolve(e)})},listMembers:function(n,e){var t=[conversationColsEnums.MEMBERS],s=conversationColsEnums.CONVERSATION_ID+"=?",o=[n],i={columns:t,selection:s,selectionArgs:o};return this.getTableWrapper.then(function(){return this.tableWrapper.query(i,e)}.bind(this)).then(function(n){if(n&&n.length){try{var e=JSON.parse(n[0].membersJson)}catch(n){return Promise.reject(n)}return Promise.resolve(e)}return Promise.reject(new Error("NO ANY DATA"))})},getById:function(n,e){var t=["*"],s=conversationColsEnums.CONVERSATION_ID+"=?",o=[n],i=this,r={columns:t,selection:s,selectionArgs:o};return this.getTableWrapper.then(function(){return this.tableWrapper.query(r,e)}.bind(this)).then(function(n){var e=n.map(function(n){return i._deserialization(n)});return e&&e.length?Promise.resolve(e[0]):Promise.reject(new Error("not in local db"))})},_updateByConversationId:function(n,e,t){var s=conversationColsEnums.CONVERSATION_ID+"=?",o=[n];return this.getTableWrapper.then(function(){return this.tableWrapper.update(e,s,o,t)}.bind(this)).catch(function(n){return localLog.error("db update conversation error",JSON.stringify(Object.keys(e)),n),Promise.reject(n)})},updateTitle:function(n,e,t){var s={};return s[conversationColsEnums.TITLE]=e,this._updateByConversationId(n,s,t)},updateSort:function(n,e,t){var s={};return s[conversationColsEnums.SORT]=e,this._updateByConversationId(n,s,t)},updateStatus:function(n,e,t){var s={};return s[conversationColsEnums.STATUS]=e,this._updateByConversationId(n,s,t)},updateMembers:function(n,e,t){try{var s=JSON.stringify(e)}catch(n){return Promise.reject(n)}var o={};return o[conversationColsEnums.MEMBERS]=s,this._updateByConversationId(n,o,t)},updateUnreadCount:function(n,e,t){var s={};return s[conversationColsEnums.UNREAD_COUNT]=e,this._updateByConversationId(n,s,t)},updateNotificationOff:function(n,e,t){var s={};return s[conversationColsEnums.NOTIFICATION_OFF]=e,this._updateByConversationId(n,s,t)},updateIcon:function(n,e,t){var s={};return s[conversationColsEnums.ICON]=e,this._updateByConversationId(n,s,t)},updateOwner:function(n,e,t){var s={};return s[conversationColsEnums.OWNER_ID]=e,this._updateByConversationId(n,s,t)},updateAuthority:function(n,e,t){var s={};return s[conversationColsEnums.AUTHORITY]=e,this._updateByConversationId(n,s,t)},updateMemberCount:function(n,e,t){var s={};return s[conversationColsEnums.MEMBER_COUNT]=e,this._updateByConversationId(n,s,t)},updateMemberLimit:function(n,e,t){var s={};return s[conversationColsEnums.MEMBER_LIMIT]=e,this._updateByConversationId(n,s,t)},updateGroupLevel:function(n,e,t){var s={};return s[conversationColsEnums.GROUP_LEVEL]=e,this._updateByConversationId(n,s,t)},updateTag:function(n,e,t){var s={};return s[conversationColsEnums.TAG]=e,this._updateByConversationId(n,s,t)},updateLastMessages:function(n,e,t,s){try{var o=JSON.stringify(e)}catch(n){return Promise.reject(n)}var i={};return i[conversationColsEnums.LAST_MESSAGE]=o,t&&(i[conversationColsEnums.LAST_MODIFY]=t),this._updateByConversationId(n,i,s)},updateDraft:function(n,e,t){var s={};return s[conversationColsEnums.DRAFT]=e,this._updateByConversationId(n,s,t)},updateUnreadAtMeCount:function(n,e,t){var s={};return s[conversationColsEnums.UNREAD_AT_ME_COUNT]=e,this._updateByConversationId(n,s,t)},updateExtension:function(n,e,t){try{JSON.stringify(e)}catch(n){return Promise.reject(n)}var s={};return s[conversationColsEnums.EXTENSION]=e,this._updateByConversationId(n,s,t)},updateClientExtension:function(n,e,t){try{var s=JSON.stringify(e)}catch(n){return Promise.reject(n)}var o={};return o[conversationColsEnums.CLIENT_EXTENSION]=s,this._updateByConversationId(n,o,t)},updateLastModify:function(n,e,t){var s={};return s[conversationColsEnums.LAST_MODIFY]=e,this._updateByConversationId(n,s,t)},updateConversation:function(n,e,t){var s=this._serialization(e),o={},i=!1;return s.forEach(function(n,e){void 0!==n&&(o[this.cols[e]]=n,i=!0)}.bind(this)),i===!0?this._updateByConversationId(n,o,t):Promise.resolve()}})}var _=require("lodash"),ConvType=require("../conversation/conversationType"),conversationTableDef=require("./conversationTableDef"),conversationColsEnums=conversationTableDef.colsEnums,tableDef=conversationTableDef.tableDef,indexDefs=conversationTableDef.indexDefs,ConversationEntry=null,Config=require("../config/config"),localLog=Config.get("log");module.exports={initConversationEntry:_initConversationEntry,getConversationEntry:function(){return ConversationEntry}};

},{"../config/config":787,"../conversation/conversationType":795,"./conversationTableDef":811,"lodash":919}],811:[function(require,module,exports){
var conversationColsEnums={CONVERSATION_ID:"conversationId",TYPE:"type",TITLE:"title",ICON:"icon",CREATED_AT:"createdAt",STATUS:"status",UNREAD_COUNT:"unreadCount",UNREAD_AT_ME_COUNT:"unreadAtMeCount",LAST_MESSAGE:"lastMessageJson",DRAFT:"draft",MEMBER_COUNT:"memberCount",MEMBERS:"membersJson",SORT:"sort",LAST_MODIFY:"lastModify",NOTIFICATION_OFF:"notificationOff",EXTENSION:"extensionJson",MEMBER_EXTENSION:"memberExtensionJson",TAG:"tag",CLIENT_EXTENSION:"clientExtension",NOTIFICATION_SOUND:"notificationSound",AUTHORITY:"authority",MEMBER_LIMIT:"memberLimit",GROUP_VALIDATION_INFO:"groupValidationInfoJson",GROUP_LEVEL:"groupLevel",PARENT_ID:"parentId",NODE_TYPE:"nodeType",REMIND_TYPE:"remindType",OWNER_ID:"ownerId",SHOW_HISTORY_TYPE:"showHistoryType",ICON_OPTION_MODEL:"iconOptionModelJson",BAN_WORDS_TYPE:"banWordsType",IN_BAN_WHITE:"inBanWhite",IN_BAN_BLACK:"inBanBlack",BAN_WORDS_TIME:"banWordsTime"},conversationTableDef=[{name:conversationColsEnums.CONVERSATION_ID,constraint:"TEXT PRIMARY KEY"},{name:conversationColsEnums.TYPE,constraint:"INTEGER"},{name:conversationColsEnums.TITLE,constraint:"TEXT"},{name:conversationColsEnums.ICON,constraint:"TEXT"},{name:conversationColsEnums.CREATED_AT,constraint:"INTEGER"},{name:conversationColsEnums.STATUS,constraint:"INTEGER"},{name:conversationColsEnums.UNREAD_COUNT,constraint:"INTEGER"},{name:conversationColsEnums.UNREAD_AT_ME_COUNT,constraint:"INTEGER"},{name:conversationColsEnums.LAST_MESSAGE,constraint:"TEXT"},{name:conversationColsEnums.DRAFT,constraint:"TEXT"},{name:conversationColsEnums.MEMBER_COUNT,constraint:"INTEGER"},{name:conversationColsEnums.MEMBERS,constraint:"TEXT"},{name:conversationColsEnums.SORT,constraint:"INTEGER"},{name:conversationColsEnums.LAST_MODIFY,constraint:"INTEGER DEFAULT 0"},{name:conversationColsEnums.NOTIFICATION_OFF,constraint:"INTEGER"},{name:conversationColsEnums.EXTENSION,constraint:"TEXT"},{name:conversationColsEnums.MEMBER_EXTENSION,constraint:"TEXT"},{name:conversationColsEnums.TAG,constraint:"INTEGER"},{name:conversationColsEnums.CLIENT_EXTENSION,constraint:"TEXT"},{name:conversationColsEnums.NOTIFICATION_SOUND,constraint:"TEXT"},{name:conversationColsEnums.AUTHORITY,constraint:"INTEGER"},{name:conversationColsEnums.GROUP_VALIDATION_INFO,constraint:"TEXT"},{name:conversationColsEnums.MEMBER_LIMIT,constraint:"INTEGER"},{name:conversationColsEnums.REMIND_TYPE,constraint:"INTEGER"},{name:conversationColsEnums.GROUP_LEVEL,constraint:"INTEGER"},{name:conversationColsEnums.PARENT_ID,constraint:"TEXT DEFAULT '0'"},{name:conversationColsEnums.NODE_TYPE,constraint:"INTEGER DEFAULT 0"},{name:conversationColsEnums.OWNER_ID,constraint:"INTEGER"},{name:conversationColsEnums.ICON_OPTION_MODEL,constraint:"TEXT"},{name:conversationColsEnums.SHOW_HISTORY_TYPE,constraint:"INTEGER"},{name:conversationColsEnums.BAN_WORDS_TYPE,constraint:"INTEGER DEFAULT 0"},{name:conversationColsEnums.IN_BAN_WHITE,constraint:"INTEGER DEFAULT 0"},{name:conversationColsEnums.IN_BAN_BLACK,constraint:"INTEGER DEFAULT 0"},{name:conversationColsEnums.BAN_WORDS_TIME,constraint:"INTEGER"}],indexEnums={CONVERSATION_ID:"idx_ddConversation_conversationId"},indexDefs=[{name:indexEnums.CONVERSATION_ID,colName:conversationColsEnums.CONVERSATION_ID}],tableName="ddConversation";module.exports={tableDef:conversationTableDef,colsEnums:conversationColsEnums,indexDefs:indexDefs,indexEnums:indexEnums,TABLE_NAME:tableName};

},{}],812:[function(require,module,exports){
var init=function(){var i=require("../config/config").get("dbCollection");i&&(require("./conversationDbEntryService").initConversationEntry(i),require("./messageDbEntryService").initMessageEntry(i),require("./followDbEntryService").initFollowEntry(i),require("./aliasDbEntryService").initAliasEntry(i),require("./groupNickDbEntryService").initGroupNickEntry(i))};module.exports={init:init};

},{"../config/config":787,"./aliasDbEntryService":808,"./conversationDbEntryService":810,"./followDbEntryService":813,"./groupNickDbEntryService":815,"./messageDbEntryService":817}],813:[function(require,module,exports){
"use strict";function _initFollowEntry(e){var t=e.TableEntry;FollowEntry=t.extend({initialize:function(){FollowEntry.superclass.initialize.call(this),this.tableName=followTableDef.TABLE_NAME,this._initTable()},_defineTable:function(){this.tableDef=tableDef,this.colsDefs=this.tableDef.map(function(e){return e.name+" "+e.constraint}),this.cols=this.tableDef.map(function(e){return e.name}),this.indexDefs=indexDefs},_defineSerializationMap:function(){this.serializeMap={},this.serializeMap[colsEnums.OPEN_ID]="openId",this.serializeMap[colsEnums.STATUS]="status",this.serializeMap[colsEnums.LAST_MODIFY]="lastModify",this.serializeMap[colsEnums.TAG]="tag"},multiInsertWkfollows:function(e,t){var n=e.map(function(e){return this._serialization(e)}.bind(this));return this.getTableWrapper.then(function(){return this.tableWrapper.insertAll(this.cols,n,!0,t)}.bind(this))},queryAll:function(e){var t=["*"],n=this,i={columns:t};return this.getTableWrapper.then(function(){return this.tableWrapper.query(i,e)}.bind(this)).then(function(e){var t=e.map(function(e){return n._deserialization(e)});return Promise.resolve(t)})},update:function(e,t){var n=_.get(e,"openId");if(!n)return Promise.reject("openId is null");var i=colsEnums.OPEN_ID+"=?",l=[n],r={},s=this._serialization(e);s.forEach(function(e,t){r[this.cols[t]]=e}.bind(this));var o={columns:["*"],selection:i,selectionArgs:l};return this.getTableWrapper.then(function(){return this.tableWrapper.query(o,t)}.bind(this)).then(function(e){return e&&e.length?this.tableWrapper.update(r,i,l,t):this.tableWrapper.insert(r,null,t)}.bind(this))},getFollowModelById:function(e,t){var n=colsEnums.OPEN_ID+"=?",i=[e],l=["*"],r={columns:l,selection:n,selectionArgs:i};return this.getTableWrapper.then(function(){return this.tableWrapper.query(r,t)}.bind(this)).then(function(e){var t=e.map(function(e){return this._deserialization(e)}.bind(this));return t&&t.length?Promise.resolve(t[0]):Promise.reject("not in local db")}.bind(this))}})}var _=require("lodash"),followTableDef=require("./followTableDef"),colsEnums=followTableDef.colsEnums,tableDef=followTableDef.tableDef,indexDefs=followTableDef.indexDefs,FollowEntry=null;module.exports={initFollowEntry:_initFollowEntry,getFollowEntry:function(){return FollowEntry}};

},{"./followTableDef":814,"lodash":919}],814:[function(require,module,exports){
var colsEnums={OPEN_ID:"openId",STATUS:"status",TAG:"tag",LAST_MODIFY:"lastModify"},tableDef=[{name:colsEnums.OPEN_ID,constraint:"INTEGER primary key"},{name:colsEnums.STATUS,constraint:"INTEGER"},{name:colsEnums.TAG,constraint:"INTEGER"},{name:colsEnums.LAST_MODIFY,constraint:"INTEGER"}],tableName="WKFollow",indexEnums={OPEN_ID:"idx_wkfollow_openId"},indexDefs=[{name:indexEnums.OPEN_ID,colName:colsEnums.OPEN_ID,isUnique:!0}];module.exports={indexEnums:indexEnums,indexDefs:indexDefs,tableDef:tableDef,colsEnums:colsEnums,TABLE_NAME:tableName};

},{}],815:[function(require,module,exports){
"use strict";function _initGroupNickEntry(i){var e=i.TableEntry;GroupNickEntry=e.extend({initialize:function(){GroupNickEntry.superclass.initialize.call(this),this.tableName=groupNickTableDef.TABLE_NAME,this._initTable()},_defineTable:function(){this.tableDef=tableDef,this.colsDefs=this.tableDef.map(function(i){return i.name+" "+i.constraint}),this.cols=this.tableDef.map(function(i){return i.name}),this.indexDefs=indexDefs},_defineSerializationMap:function(){this.serializeMap={},this.serializeMap[colsEnums.PRIMARY_KEY]="primaryKey",this.serializeMap[colsEnums.CONVERSATION_ID]="cid",this.serializeMap[colsEnums.OPEN_ID]="uid",this.serializeMap[colsEnums.GROUP_NICK]="groupNick",this.serializeMap[colsEnums.GROUP_NICK_PINYIN]="groupNickPinYin",this.serializeMap[colsEnums.SERVER_TAG]="tag",this.serializeMap[colsEnums.LOCAL_TAG]="localTag"},_updateGroupNick:function(i,e,r,t){var n=colsEnums.CONVERSATION_ID+" = ? AND "+colsEnums.OPEN_ID+"= ?",s=[i,e];return this.getTableWrapper.then(function(){return this.tableWrapper.update(r,n,s,t)}.bind(this)).catch(function(i){return localLog.error("db update group nick error",JSON.stringify(Object.keys(r)),i),Promise.reject(i)})},_queryGroupNicks:function(i,e){return this.getTableWrapper.then(function(){return this.tableWrapper.query(i,e)}.bind(this)).then(function(i){var e=i.map(function(i){return this._deserialization(i)}.bind(this));return e&&e.length?Promise.resolve(e):Promise.reject("not in local db")}.bind(this))},getGroupNick:function(i,e,r){if(!i||!e)return Promise.reject(new Error("cid or uid is null"));var t=["*"],n=colsEnums.CONVERSATION_ID+" = ? AND "+colsEnums.OPEN_ID+" = ?",s=[i,e],u={columns:t,selection:n,selectionArgs:s};return this._queryGroupNicks(u).then(function(i){return i[0]})},listGroupNickByUid:function(i,e){if(!i)return Promise.reject(new Error("uid is null"));var r=["*"],t=colsEnums.OPEN_ID+" = ?",n=[i],s={columns:r,selection:t,selectionArgs:n};return this._queryGroupNicks(s,e)},listGroupNicksByCid:function(i,e){if(!i)return Promise.reject(new Error("cid is null"));var r=["*"],t=colsEnums.CONVERSATION_ID+" = ?",n=[i],s={columns:r,selection:t,selectionArgs:n};return this._queryGroupNicks(s,e)},updateGroupNick:function(i,e,r,t){var n=this._serialization(r),s={},u=!1;return n.forEach(function(i,e){void 0!==i&&(s[this.cols[e]]=i,u=!0)}.bind(this)),u===!0?this._updateGroupNick(i,e,s,t):Promise.resolve()},saveGroupNick:function(i,e){var r=i.cid,t=i.uid;return r&&t?this.getGroupNick(r,t).then(function(){return this.updateGroupNick(r,t,i,e)}.bind(this)).catch(function(r){return this.multiInsertGroupNicks([i],e)}.bind(this)):Promise.reject(new Error("cid or uid is null"))},multiInsertGroupNicks:function(i,e){var r=this,t=i.map(function(i){return r._serialization(i)});return this.getTableWrapper.then(function(){return this.tableWrapper.insertAll(this.cols,t,!0,e)}.bind(this))}})}var _=require("lodash"),groupNickTableDef=require("./groupNickTableDef"),colsEnums=groupNickTableDef.colsEnums,tableDef=groupNickTableDef.tableDef,indexDefs=groupNickTableDef.indexDefs,GroupNickEntry=null,Config=require("../config/config"),localLog=Config.get("log");module.exports={initGroupNickEntry:_initGroupNickEntry,getGroupNickEntry:function(){return GroupNickEntry}};

},{"../config/config":787,"./groupNickTableDef":816,"lodash":919}],816:[function(require,module,exports){
"use strict";var colsEnums={PRIMARY_KEY:"primaryKey",CONVERSATION_ID:"conversationId",OPEN_ID:"openId",GROUP_NICK:"groupNick",GROUP_NICK_PINYIN:"groupNickPinYin",SERVER_TAG:"serverTag",LOCAL_TAG:"localTag",UPDATED_AT:"updatedAt"},tableDef=[{name:colsEnums.PRIMARY_KEY,constraint:"INTEGER primary key autoincrement"},{name:colsEnums.CONVERSATION_ID,constraint:"TEXT NOT NULL"},{name:colsEnums.OPEN_ID,constraint:"INTEGER NOT NULL"},{name:colsEnums.GROUP_NICK,constraint:"TEXT"},{name:colsEnums.GROUP_NICK_PINYIN,constraint:"TEXT"},{name:colsEnums.SERVER_TAG,constraint:"INTEGER"},{name:colsEnums.LOCAL_TAG,constraint:"INTEGER"},{name:colsEnums.UPDATED_AT,constraint:"INTEGER"}],tableName="WKGroupNick",indexEnums={CONVERSATION_ID:"idx_wkgroupnick_conversation_id",OPEN_ID:"idx_wkgroupni_open_id",CID_UID_COMPOSITE:"idx_wkgroupnick_cid_uid_composite"},indexDefs=[{name:indexEnums.CONVERSATION_ID,colName:colsEnums.CONVERSATION_ID},{name:indexEnums.OPEN_ID,colName:colsEnums.OPEN_ID},{name:indexEnums.CID_UID_COMPOSITE,colName:[colsEnums.CONVERSATION_ID,colsEnums.OPEN_ID].join(","),isUnique:!0}];module.exports={indexEnums:indexEnums,indexDefs:indexDefs,tableDef:tableDef,colsEnums:colsEnums,TABLE_NAME:tableName};

},{}],817:[function(require,module,exports){
"use strict";var _=require("lodash"),messageTableDef=require("./messageTableDef"),indexDefs=messageTableDef.indexDefs,tableDef=messageTableDef.tableDef,colsEnums=messageTableDef.colsEnums,MessageEntry=null,indexEnums=messageTableDef.indexEnums,Config=require("../config/config"),localLog=Config.get("log"),md5=require("md5"),MSG_DELETE_STATUS=require("../message/msgDelStatus"),initMessageEntry=function(e){var s=e.TableEntry;MessageEntry=s.extend({initialize:function(e){this.conversationId=e,MessageEntry.superclass.initialize.call(this),this._genName(),this._customIndexDef(),this._initTable()},_genName:function(){var e=md5(this.conversationId);this.tableName="ddmsg_"+e},_customIndexDef:function(){this.indexDefs=[{name:"index_"+this.tableName+"_messageId",colName:colsEnums.MESSAGE_ID,isUnique:!0},{name:"index_"+this.tableName+"_createdId",colName:colsEnums.CREATED_AT}]},_defineTable:function(){this.tableDef=tableDef,this.colsDefs=this.tableDef.map(function(e){return e.name+" "+e.constraint}),this.cols=this.tableDef.map(function(e){return e.name}),this.indexDefs=indexDefs},_defineSerializationMap:function(){this.serializeMap={},this.serializeMap[colsEnums.CONVERSATION_ID]="baseMessage.conversationId",this.serializeMap[colsEnums.MESSAGE_ID]="baseMessage.messageId",this.serializeMap[colsEnums.SENDER_ID]="baseMessage.openIdEx.openId",this.serializeMap[colsEnums.TYPE]="baseMessage.type",this.serializeMap[colsEnums.CREATOR_TYPE]="baseMessage.creatorType",this.serializeMap[colsEnums.CREATED_AT]="baseMessage.createdAt",this.serializeMap[colsEnums.READ_STATUS]="receiverMessageStatus.readStatus",this.serializeMap[colsEnums.UNREAD_COUNT]="senderMessageStatus.unReadCount",this.serializeMap[colsEnums.TOTAL_COUNT]="senderMessageStatus.totalCount",this.serializeMap[colsEnums.CONTENT_TYPE]="baseMessage.content.contentType",this.serializeMap[colsEnums.CONTENT]="baseMessage.content",this.serializeMap[colsEnums.TAG]="baseMessage.tag",this.serializeMap[colsEnums.EXTENSION]="baseMessage.extension",this.serializeMap[colsEnums.MEMBER_TAG]="baseMessage.memberTag",this.serializeMap[colsEnums.MEMBER_EXTENSION]="baseMessage.memberExtension",this.serializeMap[colsEnums.RECALL_STATUS]="baseMessage.recallStatus",this.serializeMap[colsEnums.SENDER_TAG]="baseMessage.openIdEx.tag",this.serializeMap[colsEnums.LOCAL_ID]="_local.localId",this.serializeMap[colsEnums.IS_DEL]="_local.isDel",this.serializeMap[colsEnums.CLIENT_EXTENSION]="_local.clientExtension",this.serializeMap[colsEnums.PRIMARY_KEY]="_local.primaryKey",this.serializeMap[colsEnums.IS_DECRYPT]="baseMessage.isDecrypt",this.serializeMap[colsEnums.GROUP_NICK_TAG]="baseMessage.groupNickTag",this.serializeMap[colsEnums.SEND_STATUS]="_local.sendStatus"},multiInsertWkmsgs:function(e,s){var t=this,a=e.map(function(e){return t._serialization(e)});return this.getTableWrapper.then(function(){return this.tableWrapper.insertAll(this.cols,a,!0,s)}.bind(this))},listMessages:function(e,s,t,a){var n=this,i=["*"],r="",u=colsEnums.CREATED_AT;e?(r=colsEnums.CREATED_AT+" >= ? AND ("+colsEnums.IS_DEL+" IS NULL OR "+colsEnums.IS_DEL+" = "+MSG_DELETE_STATUS.NORMAL+")",u+=" ASC"):(r=colsEnums.CREATED_AT+" <= ? AND ("+colsEnums.IS_DEL+" IS NULL OR "+colsEnums.IS_DEL+" = "+MSG_DELETE_STATUS.NORMAL+")",u+=" DESC");var o=[s],l=""+t,E={columns:i,selection:r,selectionArgs:o,orderBy:u,limit:l};return this.getTableWrapper.then(function(){return this.tableWrapper.query(E,a)}.bind(this)).then(function(e){var s=e.map(function(e){return n._deserialization(e)});return Promise.resolve(s)})},getMessageById:function(e,s){var t=["*"],a=colsEnums.MESSAGE_ID+" = ?",n=[e],i={columns:t,selection:a,selectionArgs:n};return this.getTableWrapper.then(function(){return this.tableWrapper.query(i,s)}.bind(this)).then(function(e){var s=e.map(function(e){return this._deserialization(e)}.bind(this));return s&&s.length?Promise.resolve(s[0]):Promise.reject("not in local db")}.bind(this))},recallMessage:function(e,s){var t={};t[colsEnums.RECALL_STATUS]=1;var a=colsEnums.MESSAGE_ID+"=?",n=[e];return this.getTableWrapper.then(function(){return this.tableWrapper.update(t,a,n,s)}.bind(this))},_updateByMessageId:function(e,s,t){var a=colsEnums.MESSAGE_ID+"=?",n=[e];return this.getTableWrapper.then(function(){return this.tableWrapper.update(s,a,n,t)}.bind(this)).catch(function(e){return localLog.error("db update message error",JSON.stringify(Object.keys(s)),e),Promise.reject(e)})},updateReadStatus:function(e,s,t){var a={};return a[colsEnums.READ_STATUS]=s,this._updateByMessageId(e,a,t)},updateUnReadCount:function(e,s,t){var a={};return a[colsEnums.UNREAD_COUNT]=s,this._updateByMessageId(e,a,t)},updateIsDel:function(e,s,t){var a={};return a[colsEnums.IS_DEL]=s,this._updateByMessageId(e,a,t)},updateSendStatus:function(e,s,t){var a={};return a[colsEnums.SEND_STATUS]=s,this._updateByMessageId(e,a,t)},updateClientExtension:function(e,s,t){var a={};try{var n=JSON.stringify(s)}catch(e){return Promise.reject(e)}return a[colsEnums.CLIENT_EXTENSION]=n,this._updateByMessageId(e,a,t)},updateLocalId:function(e,s,t){var a={};return a[colsEnums.LOCAL_ID]=s,this._updateByMessageId(e,a,t)},updateSenderTag:function(e,s,t){var a={};return a[colsEnums.SENDER_TAG]=s,this._updateByMessageId(e,a,t)},updateMemberExtension:function(e,s,t){var a={};try{var n=JSON.stringify(s)}catch(e){return Promise.reject(e)}return a[colsEnums.MEMBER_EXTENSION]=n,this._updateByMessageId(e,a,t)},updateMessageId:function(e,s,t){var a={};a[colsEnums.MESSAGE_ID]=s;var n=colsEnums.LOCAL_ID+"=?",i=[e];return this.tableWrapper.update(a,n,i,t)},updateTag:function(e,s,t){var a={};return a[colsEnums.TAG]=s,this._updateByMessageId(e,a,t)},updateExtension:function(e,s,t){var a={};try{var n=JSON.stringify(s)}catch(e){return Promise.reject(e)}return a[colsEnums.EXTENSION]=n,this._updateByMessageId(e,a,t)},removeFromCreatedAt:function(e,s){var t=colsEnums.CREATED_AT+" < ?",a=[e];return this.tableWrapper.remove(t,a,s)},updateMsg:function(e,s,t){var a=this._serialization(s),n={},i=!1;return a.forEach(function(e,s){void 0!==e&&(n[this.cols[s]]=e,i=!0)}.bind(this)),i===!0?this._updateByMessageId(e,n,t):Promise.resolve()}})};module.exports={initMessageEntry:initMessageEntry,getMessageEntry:function(){return MessageEntry}};

},{"../config/config":787,"../message/msgDelStatus":847,"./messageTableDef":818,"lodash":919,"md5":920}],818:[function(require,module,exports){
var messageColsEnums={CONVERSATION_ID:"conversationId",LOCAL_ID:"localId",MESSAGE_ID:"messageId",SENDER_ID:"senderId",SENDER_TAG:"senderTag",SEND_STATUS:"sendStatus",TYPE:"type",CREATOR_TYPE:"creatorType",CREATED_AT:"createdAt",READ_STATUS:"readStatus",UNREAD_COUNT:"unreadCount",TOTAL_COUNT:"totalCount",CONTENT_TYPE:"contentType",CONTENT:"contentJson",TAG:"tag",EXTENSION:"extensionJson",MEMBER_TAG:"memberTag",MEMBER_EXTENSION:"memberExtensionJson",RECALL_STATUS:"recallStatus",IS_DECRYPT:"isDecrypt",IS_DEL:"isDel",CLIENT_EXTENSION:"clientExtensionJson",PRIMARY_KEY:"primaryKey",GROUP_NICK_TAG:"groupNickTag"},indexEnums={MESSAGE_ID:"index_ddmsg_messageId",CREATED_AT:"index_ddMsg_createdAt"},messageTableDef=[{name:messageColsEnums.CONVERSATION_ID,constraint:"TEXT NOT NULL"},{name:messageColsEnums.LOCAL_ID,constraint:"TEXT"},{name:messageColsEnums.MESSAGE_ID,constraint:"INTEGER"},{name:messageColsEnums.SENDER_ID,constraint:"INTEGER NOT NULL"},{name:messageColsEnums.SENDER_TAG,constraint:"INTEGER"},{name:messageColsEnums.SEND_STATUS,constraint:"INTEGER"},{name:messageColsEnums.TYPE,constraint:"INTEGER DEFAULT 1"},{name:messageColsEnums.CREATOR_TYPE,constraint:"INTEGER DEFAULT 1"},{name:messageColsEnums.CREATED_AT,constraint:"INTEGER NOT NULL"},{name:messageColsEnums.READ_STATUS,constraint:"INTEGER DEFAULT 0"},{name:messageColsEnums.UNREAD_COUNT,constraint:"INTEGER DEFAULT 0"},{name:messageColsEnums.TOTAL_COUNT,constraint:"INTEGER DEFAULT 0"},{name:messageColsEnums.CONTENT_TYPE,constraint:"INTEGER DEFAULT 1"},{name:messageColsEnums.CONTENT,constraint:"TEXT"},{name:messageColsEnums.TAG,constraint:"INTEGER"},{name:messageColsEnums.EXTENSION,constraint:"TEXT"},{name:messageColsEnums.MEMBER_TAG,constraint:"INTEGER"},{name:messageColsEnums.MEMBER_EXTENSION,constraint:"TEXT"},{name:messageColsEnums.RECALL_STATUS,constraint:"INTEGER DEFAULT 0"},{name:messageColsEnums.IS_DEL,constraint:"INTEGER default 0"},{name:messageColsEnums.IS_DECRYPT,constraint:"INTEGER"},{name:messageColsEnums.CLIENT_EXTENSION,constraint:"TEXT"},{name:messageColsEnums.GROUP_NICK_TAG,constraint:"INTEGER default 0"},{name:messageColsEnums.PRIMARY_KEY,constraint:"INTEGER PRIMARY KEY AUTOINCREMENT"}],indexDefs=[{name:indexEnums.MESSAGE_ID,colName:messageColsEnums.MESSAGE_ID},{name:indexEnums.CREATED_AT,colName:messageColsEnums.CREATED_AT}],tableRegExp=/^ddmsg_([0-9a-zA-Z]){32}/;module.exports={colsEnums:messageColsEnums,tableDef:messageTableDef,indexDefs:indexDefs,indexEnums:indexEnums,tableRegExp:tableRegExp};

},{}],819:[function(require,module,exports){
"use strict";var Class=require("../class/class"),ParamError=Class.create(Error,{initialize:function(r){var s=Error.call(this,r);return this.message=s.message,Object.defineProperty(this,"stack",{get:function(){return s.stack}}),this.name="ParamError",this}});module.exports=ParamError;

},{"../class/class":783}],820:[function(require,module,exports){
"use strict";module.exports={CONVERSATION:{NO_MORE_MSGS:"50001",PULL_HISTORY_IS_LOCKED:"50002"}};

},{}],821:[function(require,module,exports){
"use strict";var EventEmitter=require("wolfy87-eventemitter"),Class=require("../class/class"),EventCenter=Class.create({initialize:function(){},Implements:EventEmitter,EventsName:{DB_TRANSACTION_ERROR:"db_transaction_error"}});module.exports=new EventCenter;

},{"../class/class":783,"wolfy87-eventemitter":944}],822:[function(require,module,exports){
var Class=require("../class/class"),IDL=require("../idl/idl"),sendMsgBuilder=require("../message/sendMsgBuilder"),IDLGroupValidation=IDL.interface.IDLGroupValidation,msgContentType=require("../message/msgContentType"),msgCreatorType=require("../message/msgCreatorType"),GroupValidationService=Class.create({initialize:function(){},listJoinGroupValidation:function(e,i){return IDLGroupValidation.listJoinGroupValidation(e,i)},cleanJoinGroupValidationByOwner:function(e){return IDLGroupValidation.cleanJoinGroupValidationByOwner(e)},auditJoinGroupStatus:function(e,i,t,n){var r={conversationId:e,applyId:i,status:n},a=sendMsgBuilder.buildMsg(e,{contentType:msgContentType.TEXT,textContent:{text:t}},{creatorType:msgCreatorType.SYSTEM});return IDLGroupValidation.auditJoinGroupStatus(r,a)}});module.exports=new GroupValidationService;

},{"../class/class":783,"../idl/idl":824,"../message/msgContentType":845,"../message/msgCreatorType":846,"../message/sendMsgBuilder":852}],823:[function(require,module,exports){
"use strict";module.exports={PENDING:0,PASS:1};

},{}],824:[function(require,module,exports){
var IDL=require("@ali/wkidl"),mainWS=require("../io/mainWS");module.exports=IDL(mainWS);

},{"../io/mainWS":830,"@ali/wkidl":777}],825:[function(require,module,exports){
"use strict";var afterAuthInit={_callbacks:{},hasInited:!1,init:function(){this.hasInited===!1&&(Object.keys(this._callbacks).forEach(function(t){this._callbacks[t]()}.bind(this)),this._callbacks={},this.hasInited=!0)},register:function(t,i){this.hasInited===!1?this._callbacks[t]=i:setTimeout(function(){i()},0)}};module.exports=afterAuthInit;

},{}],826:[function(require,module,exports){
"use strict";var mainWS=require("../io/mainWS"),conversationInit=require("../conversation/conversationInit"),syncManager=require("../sync/syncManager"),dbEntryManager=require("../dbEntry/dbEntryManager"),aliasInit=require("../user/aliasInit"),followInit=require("../user/followInit"),getSyncProtocolStatus=require("../syncProtocolStatus/getSyncProtocolStatus"),cloudSettingInit=require("../cloudSetting/cloudSettingInit"),groupNickInit=require("../user/groupNickInit");module.exports={mainInit:function(){dbEntryManager.init(),mainWS.init(),syncManager.init(),aliasInit.init(),followInit.init(),getSyncProtocolStatus.init(),cloudSettingInit.init(),groupNickInit.init()},imInit:function(){conversationInit.init()}};

},{"../cloudSetting/cloudSettingInit":786,"../conversation/conversationInit":792,"../dbEntry/dbEntryManager":812,"../io/mainWS":830,"../sync/syncManager":863,"../syncProtocolStatus/getSyncProtocolStatus":868,"../user/aliasInit":875,"../user/followInit":878,"../user/groupNickInit":880}],827:[function(require,module,exports){
"use strict";var DEFAULT_TIMEOUT=15e3,IOReceiveMsg=function(e){this.msg=e,this.headers=e.headers,this.topic=e.lwp,this._p={},this.result=new Promise(function(e,t){this._p.resolve=e,this._p.reject=t}.bind(this)),this._timeoutTimer=setTimeout(function(){this._p.reject(new Error("timeout"))}.bind(this),DEFAULT_TIMEOUT)};IOReceiveMsg.prototype.respond=function(e,t,i){var e=e||null,t=t||200,i=i||{};i.mid=this.headers.mid,clearTimeout(this._timeoutTimer),this._p.resolve({headers:i,code:t,body:e})},module.exports=IOReceiveMsg;

},{}],828:[function(require,module,exports){
"use strict";var _=require("lodash"),Class=require("../class/class"),RPCError=require("./RPCError"),config=require("../config/config"),mid=require("./mid"),SEND_BEFORE_AUTH_LIST=["/subscribe","/!","/up/pre","/up/frag","/up/ci","/r/OAuthI/alogin"],CACHE_WHEN_OFFLINE_LIST=["/r/IDLMessageStatus/updateToRead","/r/Sync/getState"],defaultOption={timeout:6e4,cacheWhenOffline:!1},MSG_CODE={SUCCESS:200,OFFLINE:502,TIMEOUT:504,DISMISS:601},timeoutMsg={code:MSG_CODE.TIMEOUT,headers:{_source:"local"},body:{reason:"连接超时"}},offlineMsg={code:MSG_CODE.OFFLINE,headers:{_source:"local"},body:{reason:"连接不可用"}},dismissMsg={code:MSG_CODE.DISMISS,headers:{_source:"local"},body:{reason:"取消请求"}},MSG_STATE={INACTIVE:0,ACTIVE:1,NORMAL_END:10,TIMEOUT_END:11,OFFLINE_END:12,DISMISS_END:20},IOSendMsg=Class.create({initialize:function(e,s,i,t){if(!e)throw new Error("url 不能为空");this.messageId=mid.genMid(),this.url=e;var s=s||{};s.mid=this.messageId+" 0",this.msgEntity={lwp:e,headers:s,body:i},this.conf=_.assign({},defaultOption,t),this._timeoutTimer=null,this.state=MSG_STATE.INACTIVE,this._p={},this.result=new Promise(function(e,s){this._p.resolve=e,this._p.reject=s}.bind(this)),this.conf.cacheWhenOffline||(this._timeoutTimer=setTimeout(function(){var e=_.assign({},timeoutMsg);this.respond(e)}.bind(this),this.conf.timeout))},active:function(){this.state=MSG_STATE.ACTIVE},respond:function(e){if(!this.isFinish()){switch(e.code){case MSG_CODE.OFFLINE:this.state=MSG_STATE.OFFLINE_END;break;case MSG_CODE.TIMEOUT:this.state=MSG_STATE.TIMEOUT_END;break;case MSG_CODE.DISMISS:this.state=MSG_STATE.DISMISS_END;break;default:this.state=MSG_STATE.NORMAL_END}200===e.code?this._p.resolve(e):this._p.reject(new RPCError(e)),clearTimeout(this._timeoutTimer)}},canCacheWhenOffline:function(){return CACHE_WHEN_OFFLINE_LIST.indexOf(this.url)>-1},sendOfflineMsg:function(){var e=_.assign({},offlineMsg);this.respond(e)},getMsgId:function(){return this.messageId},canSendBeforeAuth:function(){return SEND_BEFORE_AUTH_LIST.indexOf(this.url)>-1||config.get("beforeAuthLWPWhiteList").indexOf(this.url)>-1},dismiss:function(){this.respond(dismissMsg)},genNewMsgId:function(){this.messageId=++msgId,this.msgEntity.headers.mid=this.messageId+" 0"},isFinish:function(){return this.state>=MSG_STATE.NORMAL_END}});module.exports=IOSendMsg;

},{"../class/class":783,"../config/config":787,"./RPCError":829,"./mid":831,"lodash":919}],829:[function(require,module,exports){
"use strict";var Class=require("../class/class"),_=require("lodash"),RPCError=Class.create(Error,{initialize:function(r){var s=_.get(r,"body.reason","出错了"),e=Error.call(this,s);return this.message=e.message,Object.defineProperty(this,"stack",{get:function(){return e.stack}}),this.name="RPCError",this.code=r.code,this.headers=r.headers,this.body=r.body,this._originMsg=r,this}});module.exports=RPCError;

},{"../class/class":783,"lodash":919}],830:[function(require,module,exports){
"use strict";var WS=require("./ws3"),config=require("../config/config"),aladin=require("../aladin/aladin"),subscribe=require("../subscribe/subscribe"),EventEmitter=require("wolfy87-eventemitter"),RPCError=require("./RPCError"),_=require("lodash"),wsState=require("./wsState"),afterAuthInit=require("../init/afterAuthInit"),My=require("../my/my"),localLog=config.get("log"),haveInited=!1,_ws=null,eventEmitter=new EventEmitter,EventsName={WS_STATE_CHANGE:"ws_state_change",PUSH_MSG:"push_msg",SUBSCRIBE_FAIL:"subscribe_fail",PERF_EVENT:"perf_event"},_bindEvent=function(e){e.addListener(e.EventsName.STATE_CHANGE,function(e){eventEmitter.emit(EventsName.WS_STATE_CHANGE,e),localLog.info("WKSDK","mainWS","ws state change",e)}),e.addListener(e.EventsName.PUSH_MSG,function(e){subscribe.receiveMsg(e),localLog.info("WKSDK","mainWS","receive push msg",e.topic)}),e.addListener(e.EventsName.SUBSCRIBE_FAIL,function(e){eventEmitter.emit(EventsName.SUBSCRIBE_FAIL,e),localLog.info("WKSDK","mainWS","subscribe fail")}),e.addListener(e.EventsName.PERF_EVENT,function(e){eventEmitter.emit(EventsName.PERF_EVENT,e)})},init=function(){var e=config.get("appKey");if(!e)throw new Error("init 之前必须设置 appKey");if(_ws)return _ws.state===wsState.CLOSED&&_ws.connect(),!0;var n=aladin.getAladin();return _ws=new WS("mainWS",{wsServerPool:n,UA:config.get("ua"),APP_KEY:config.get("appKey")}),_bindEvent(_ws),haveInited=!0,_ws.connect(),localLog.info("WKSDK","mainWS","init"),!0},sendMsg=function(e,n,t,i){if(haveInited===!1)throw new Error("sendMsg 之前必须 init");var o=_ws.sendMsg(e,n,t);return o.result.then(function(e){i&&i(e)}).catch(function(e){e instanceof RPCError&&i&&i(e._originMsg)}),o},disconnect=function(){if(haveInited===!1)throw new Error("disconnect 之前必须 init");return localLog.info("WKSDK","mainWS","disconnect"),_ws.disconnect()},getConnectTime=function(){if(haveInited===!1)throw new Error("getConnectTime 之前必须 init");return localLog.info("WKSDK","mainWS","getConnectTime"),_ws.connectTime},auth=function(e,n){return haveInited===!1&&init(),localLog.info("WKSDK","mainWS","auth"),_ws.auth(e,n).then(function(e){return My.set("openId",e.uid),afterAuthInit.init(),e})},autoLogin=function(){return haveInited===!1&&init(),localLog.info("WKSDK","mainWS","autoLogin"),_ws.autoLogin().then(function(e){return My.set("openId",e.uid),afterAuthInit.init(),e})},logout=function(){if(haveInited===!1)throw new Error("logout 之前必须 init");return localLog.info("WKSDK","mainWS","logout"),_ws.logout()};module.exports=_.assign(eventEmitter,{init:init,sendMsg:sendMsg,disconnect:disconnect,getConnectTime:getConnectTime,auth:auth,autoLogin:autoLogin,EventsName:EventsName,logout:logout,WSState:wsState});

},{"../aladin/aladin":781,"../config/config":787,"../init/afterAuthInit":825,"../my/my":856,"../subscribe/subscribe":860,"./RPCError":829,"./ws3":832,"./wsState":833,"lodash":919,"wolfy87-eventemitter":944}],831:[function(require,module,exports){
"use strict";var id=0,DIGITS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],genMid=function(){var I=Math.floor(Math.random()*Math.pow(2,16)),D=id++,G="";return G+=DIGITS[I>>12&15],G+=DIGITS[I>>8&15],G+=DIGITS[I>>4&15],G+=DIGITS[15&I],G+=DIGITS[D>>12&15],G+=DIGITS[D>>8&15],G+=DIGITS[D>>4&15],G+=DIGITS[15&D]};exports.genMid=genMid;

},{}],832:[function(require,module,exports){
"use strict";var deviceId=require("../tools/deviceId"),IOSendMsg=require("./IOSendMsg"),IOReceiveMsg=require("./IOReceiveMsg"),wsState=require("./wsState"),cookieManager=require("../cookie/cookie"),cookieNames=require("../cookie/cookieNames"),syncState=require("../sync/syncState"),storage=require("../storage/storage"),ParamError=require("../error/ParamError"),Class=require("../class/class"),_=require("lodash"),EventEmitter=require("wolfy87-eventemitter"),jsonp=require("../tools/jsonp"),querystring=require("querystring"),config=require("../config/config"),My=require("../my/my"),cloudSetting=require("../cloudSetting/cloudSetting"),defaultOption={WebSocket:window.WebSocket,jsonp:jsonp,isAssistant:!1},PRIVATE_CONN_STATE={IDLE:0,PREPARE_CONN:1,CONNECTING:2},WS=Class.create({initialize:function(e,t){if(this.option=_.assign({},defaultOption,t),!this.option.wsServerPool)throw"must config wsServerPool";if(!this.option.APP_KEY)throw"must config APP_KEY";this.option.UA||(this.option.UA=window.navigator.userAgent),this.name=e,this._ws=null,this.state=wsState.CLOSED,this.pendingMsgs={},this.waitingRegMsgs=[],this.offlineCacheMsgs=[],this.tmpCacheMsgs=[],this.connectTime=0,this._subscribeTimer=null,this._refreshTokenTimer=null,this._tryConnectTime=0,this._resetConnectTimer=null,this._tryConnectTimer=null,this._firstConnect=!0,this._connectId=0,this._pingTimer=null,this._pingInterval=15e3,this._haveSubscribeSuccessOnce=!1,this._subscribe400HasHappened=!1,this.localLog=config.get("log"),this._pushMsgCache=[],this._isConnect=!1,window.addEventListener("offline",function(e){this._connect(),this.localLog.info("WKSDK","network offline")}.bind(this)),window.addEventListener("online",function(e){this._tryConnectTime=0,this._connect(),this.localLog.info("WKSDK","network online")}.bind(this))},Implements:EventEmitter,EventsName:{OPEN:"open",REGED:"reged",SUBSCRIBED:"subscribed",CLOSED:"closed",STATE_CHANGE:"state_change",SUBSCRIBE_FAIL:"subscribe_fail",PUSH_MSG:"push_msg",PERF_EVENT:"perf_event"},_setState:function(e){if(e!==this.state){switch(this.state=e,this.emit(this.EventsName.STATE_CHANGE,e),e){case wsState.REGED:this.emit(this.EventsName.REGED);break;case wsState.SUBSCRIBED:this.emit(this.EventsName.SUBSCRIBED);break;case wsState.OPENED:this.emit(this.EventsName.OPEN);break;case wsState.CLOSED:this.emit(this.EventsName.CLOSED)}this.localLog.info("WKSDK","ws: "+this.name+"change state to "+e)}},connect:function(){this._setState(wsState.INITED),this._tryConnectTime=0,this._connect()},connectIfHasClosed:function(){return this.state!==wsState.CLOSED&&this.state!==wsState.CLOSING||this.connect()},disconnect:function(){var e=this._ws;this._ws=null,this._setState(wsState.CLOSING),this._haveSubscribeSuccessOnce=!1,this._unbindEvent(e),this._onClose(),e&&e.close(),this._setState(wsState.CLOSED)},_connect:function(){if(this.state!==wsState.CLOSED&&this.state!==wsState.CLOSING&&this._isConnect!==!0){this._isConnect=!0,Object.keys(this.pendingMsgs).forEach(function(e){var t=this.pendingMsgs[e];t.canSendBeforeAuth()?this.waitingRegMsgs.push(t):this.tmpCacheMsgs.push(t),delete this.pendingMsgs[e]}.bind(this));var e=this._ws;this._unbindEvent(e),this._tryConnectTime<4?this._setState(wsState.SILENT_CONNECTING):this._setState(wsState.CONNECTING),clearTimeout(this._resetConnectTimer),clearTimeout(this._tryConnectTimer),this._open().then(function(e){if(clearTimeout(this._tryConnectTimer),this.localLog.info("WKSDK",this.name,"ws open"),this._isConnect=!1,this.state!==wsState.CLOSED&&this.state!==wsState.CLOSING){var t=this._ws;this._unbindEvent(t),this._ws=e,this._bindEvent(),this._setState(wsState.OPENED),this._reg(),this._resetConnectTimer=setTimeout(function(){this._tryConnectTime=0}.bind(this),2e3),this.connectTime=(new Date).getTime()}}.bind(this)).catch(function(e){this.localLog.error("WKSDK",this.name,"open ws error",e),this._isConnect=!1,this._tryConnectTime++,clearTimeout(this._tryConnectTimer),this._tryConnectTimer=setTimeout(function(){this._connect()}.bind(this),Math.min(Math.pow(2,this._tryConnectTime),5e3))}.bind(this))}},_bindEvent:function(){this._ws?(this._ws.onmessage=this._onMessage.bind(this),this._ws.onclose=this._onClose.bind(this)):this.localLog.error("this._ws is null , ws name: "+this.name)},_unbindEvent:function(e){e&&(e.onmessage=function(){},e.onclose=function(){})},_open:function(){var e=this;return Promise.resolve().then(function(){return this._tryConnectTime<2?this.option.wsServerPool.getCurrentWSURI():this.option.wsServerPool.getNewWSURI()}.bind(this)).then(function(t){return e.localLog.info("WKSDK",this.name,"try open websocket"),new Promise(function(s,i){var n=setTimeout(function(){e.localLog.info("WKSDK",this.name,"open websocket timeout",t),i(new Error("timeout"))},5e3),o=this._connectId++;this.emit(this.EventsName.PERF_EVENT,{connectId:o,event:"open"});try{var r=new this.option.WebSocket(t);r._connectId=o}catch(s){return e.localLog.error("WKSDK",this.name,"try new WebSocket error",t,s.toString(),s),void i(s)}r.onopen=function(){clearTimeout(n),e.emit(e.EventsName.PERF_EVENT,{connectId:o,event:"opened"}),s(r)},r.onclose=function(s){clearTimeout(n),e.localLog.info("WKSDK",this.name,"ws close",t,s.reason,s.wasClean,s.code),i(new Error(s.reason))},r.onerror=function(s){clearTimeout(n),e.localLog.error("WKSDK",this.name,t,"ws error",s),i(new Error(s.reason))}}.bind(this))}.bind(this))},_onMessage:function(e){try{var t=JSON.parse(e.data)}catch(t){return void this.localLog.error("WKSDK: ",this.name+" parse json error :"+e.data)}if(t.code){var s=_.get(t,"headers.mid").split(" ")[0];this.pendingMsgs[s]&&this.pendingMsgs[s].respond(t)}else if(t.lwp){var i=new IOReceiveMsg(t);i.result.then(function(e){this._send(e)}.bind(this)).catch(function(e){this.localLog.info("WKSDK","push msg respond error :",e,t.lwp,JSON.stringify(t.headers))}.bind(this)),this.state===wsState.SUBSCRIBED?this.emit(this.EventsName.PUSH_MSG,i):this._pushMsgCache.push(i)}clearTimeout(this._pingTimer),this._pingTimer=setTimeout(function(){this._ping()}.bind(this),this._pingInterval),window.debug===!0&&console.log("receive msg: "+JSON.stringify(e.data)),this.option.isAssistant===!0&&this.localLog.info("WKSDK assistant connect receive msg",e.data)},_onClose:function(){this._connect(),this.localLog.info("WKSDK",this.name,"ws close")},_ping:function(){this.sendMsg("/!",null,null,{timeout:1e4}).result.then(function(){},function(e){this.localLog.info("WKSDK","ws: "+this.name+"ping 检查失败 :",e),this._connect()}.bind(this))},_reg:function(){var e={"cache-header":"token app-key did ua vhost wv",vhost:"WK",ua:this.option.UA,"app-key":this.option.APP_KEY,wv:"im:3,au:3,sy:2"},t=this.authInfo;if(t||(t=storage.local.getItem(storage.KEYS.TOKEN)),t||(t=storage.session.getItem(storage.KEYS.TOKEN)),!cookieManager.hasItem(cookieNames.DEVICE_ID_EXIST)||!t){var s=deviceId.getDid();e.did=s}this.option.isAssistant===!0&&(e.token=_.get(My.get("authInfo"),"accessToken"),e.subscribe="false");var i=this.sendMsg("/reg",e,null);return i.result.then(function(e){return this._setState(wsState.REGED),this._clearWaitingRegMsgs(),this._haveSubscribeSuccessOnce?this._subscribe().catch(function(e){e.code&&e.code>499?setTimeout(function(){this.state===wsState.REGED&&this._connect()}.bind(this),1e4):(this._ws._connectId=this._connectId++,this.emit(this.EventsName.SUBSCRIBE_FAIL,e))}.bind(this)):(this.emit(this.EventsName.PERF_EVENT,{connectId:this._ws._connectId,event:"reged"}),this._ws._connectId=this._connectId++),this.localLog.info("WKSDK",this.name,"reg success"),e}.bind(this),function(e){return this.state!==wsState.OPENED?void this.localLog.info("WKSDK",this.name,"reg fail, and the state right now is",this.state):void(this.option.isAssistant!==!0||!e||400!==e.code&&401!==e.code?(this._connect(),this.localLog.error("WKSDK",this.name,"reg failure")):(this._setState(wsState.REGED),this._clearWaitingRegMsgs(),this.localLog.info("WKSDK",this.name,"reg fail ,but this is an assistant connect , ignore error")))}.bind(this))},_clearWaitingRegMsgs:function(){for(var e=[];this.waitingRegMsgs.length>0;){var t=this.waitingRegMsgs.shift();if(t.isFinish())break;if(!this._send(t.msgEntity)){e.push(t);break}this._addPending(t)}this.waitingRegMsgs=e,this.localLog.info("WKSDK",this.name,"clear waiting reg msgs")},_clearTmpCacheMsgs:function(){for(var e=[];this.tmpCacheMsgs.length>0;){var t=this.tmpCacheMsgs.shift();if(t.isFinish())break;if(!this._send(t.msgEntity)){e.push(t);break}this._addPending(t)}this.tmpCacheMsgs=e,this.localLog.info("WKSDK",this.name,"clear tmp cache msgs")},_clearOfflineCacheMsgs:function(){for(var e=[];this.offlineCacheMsgs.length>0;){var t=this.offlineCacheMsgs.shift();if(t.isFinish())break;if(!this._send(t.msgEntity)){e.push(t);break}this._addPending(t)}this.offlineCacheMsgs=e,this.localLog.info("WKSDK",this.name,"clear offline cache msgs")},auth:function(e,t){var t=t||{};if(!e)return Promise.reject(new ParamError("authInfo 不能为空"));if(!e.accessToken||!_.isString(e.accessToken))return Promise.reject(new ParamError("authInfo.accessToken 必须为字符串"));if(!e.refreshToken||!_.isString(e.refreshToken))return Promise.reject(new ParamError("authInfo.refreshToken 必须为字符串"));if(!e.expiredTime||!_.isNumber(e.expiredTime))return Promise.reject(new ParamError("authInfo.expiredTime 必须为数字"));if(!(config.get("didByCookie")!==!0||e.tmpCode&&_.isString(e.tmpCode)))return Promise.reject(new ParamError("authInfo.tmpCode 必须为字符串"));if(!e.uid||!_.isNumber(e.uid))return Promise.reject(new ParamError("authInfo.uid 必须为数字"));var s=e.tmpCode;return delete e.tmpCode,this.authInfo=e,this.isTempLogin=!!t.isTempLogin,this.isAutoLogin=!!t.isAutoLogin,this.authInfo.isAutoLogin=this.isAutoLogin,Promise.resolve().then(function(){return config.get("didByCookie")===!0?t.needReconnectAfterDidSet===!0?this._setCookie(s,!!t.isAutoLogin).then(function(){return this._connect(),Promise.resolve(!0)}.bind(this)):(this._setCookie(s,!!t.isAutoLogin),Promise.resolve(!0)):Promise.resolve(!0)}.bind(this)).then(function(){return this._subscribe()}.bind(this))},autoLogin:function(){if(!cookieManager.hasItem(cookieNames.DEVICE_ID_EXIST))return this.localLog.info("WKSDK","auto login did not exist"),Promise.reject(new Error("did is not exist"));var e=storage.local.getItem(storage.KEYS.TOKEN);if(e||(e=storage.session.getItem(storage.KEYS.TOKEN)),!e)return this.localLog.info("WKSDK","auto login local token not exist"),Promise.reject(new Error("local token not exist"));try{e=JSON.parse(e)}catch(e){return this.localLog.info("WKSDK","auto login local token syntax error"),Promise.reject(new Error("token syntax error"))}return e.expiredTime=parseInt(e.expiredTime),e.accessToken&&e.refreshToken&&e.expiredTime&&_.isNumber(e.expiredTime)&&_.isNumber(e.uid)?(this.authInfo=e,this.isAutoLogin=!!e.isAutoLogin,this._subscribe()):Promise.reject(new Error("token data not complete"))},_subscribe:function(){if(this.authInfo){syncState.setOpenId(this.authInfo.uid),cloudSetting.setOpenId(this.authInfo.uid);var e=cloudSetting.getVersion()||0,t=syncState.getSyncInfo(),s=t.pts+","+t.highPts+";"+t.seq+";"+t.timestamp+";"+(t.tooLong2Tag?t.tooLong2Tag:"");this.localLog.info("WKSDK","start subscribe",this.authInfo.uid),this.localLog.info("WKSDK","syncHeader",s),this._pushMsgCache=[];var i=this.sendMsg("/subscribe",{token:this.authInfo.accessToken,sync:s,"set-ver":e+""});return i.result.then(function(){return this.emit(this.EventsName.PERF_EVENT,{connectId:this._ws._connectId,event:"authed"}),this._setState(wsState.SUBSCRIBED),this._haveSubscribeSuccessOnce=!0,this._subscribe400HasHappened=!1,this._clearTmpCacheMsgs(),this._clearOfflineCacheMsgs(),this._setSubscribeTimer(),this._setRefreshTokenTimer(),this._persistAuthInfo(),this.localLog.info("WKSDK",this.name,"subscribe success"),setTimeout(function(){this._pushMsgCache.forEach(function(e){this.emit(this.EventsName.PUSH_MSG,e)}.bind(this)),this._pushMsgCache=[]}.bind(this),10),{uid:this.authInfo.uid}}.bind(this)).catch(function(e){return this.localLog.error("WKSDK","ws : "+this.name+" subscribe error : "+e.toString(),JSON.stringify(e._originMsg)),400===e.code&&this._subscribe400HasHappened===!1?(this._subscribe400HasHappened=!0,cookieManager.removeItem(cookieNames.DEVICE_ID_EXIST),this._reg(),this._subscribe()):Promise.reject(e)}.bind(this))}return Promise.reject(new Error("authInfo 不存在"))},_persistAuthInfo:function(){this.isTempLogin||(this.isAutoLogin?(storage.local.setItem(storage.KEYS.TOKEN,JSON.stringify(this.authInfo)),storage.session.removeItem(storage.KEYS.TOKEN)):(storage.session.setItem(storage.KEYS.TOKEN,JSON.stringify(this.authInfo)),storage.local.removeItem(storage.KEYS.TOKEN)),My.set("authInfo",this.authInfo))},_setSubscribeTimer:function(){clearTimeout(this._subscribeTimer),this._subscribeTimer=setTimeout(function(){this._subscribe(),this.localLog.info("WKSDK","re subscribe")}.bind(this),828e5)},_setRefreshTokenTimer:function(){clearTimeout(this._refreshTokenTimer);var e=this.authInfo.expiredTime-(new Date).getTime()-72e5;_.isNumber(e)||(e=18e5),e<6e4&&(e=6e4),e>5904e5&&(e=5904e5),this._refreshTokenTimer=setTimeout(function(){this.sendMsg("/r/OAuthI/refreshToken",null,[{refreshToken:this.authInfo.refreshToken,appKey:this.option.APP_KEY}]).result.then(function(e){e.body.accessToken&&e.body.refreshToken&&_.isNumber(e.body.expertIn)&&(this.authInfo.accessToken=e.body.accessToken,this.authInfo.refreshToken=e.body.refreshToken,this.authInfo.expiredTime=e.body.expertIn,this._subscribe()),this.localLog.info("WKSDK",this.name,"refresh token success")}.bind(this)).catch(function(e){this.localLog.error("WKSDK",this.name,"refresh token error: "+e.toString()),this._setRefreshTokenTimer()}.bind(this)),this.localLog.info("WKSDK",this.name,"start refreshToken")}.bind(this),e),this.localLog.info("WKSDK",this.name,"set refresh token timer",e)},_setCookie:function(e,t){var s={code:e,appkey:this.option.APP_KEY};t||(s.isSession=!0);var i=querystring.encode(s);return this.option.wsServerPool.getCurrentHTTPOrigin().then(function(e){return new Promise(function(t,s){this.option.jsonp(e+"/setCookie?"+i,{timeout:1e4},function(e,i){return e?(this.localLog.error("WKSDK","webalfa set cookie failure",e),void s(e)):void(200===i.code?(this.localLog.info("WKSDK","webalfa set cookie success"),t()):(this.localLog.error("WKSDK","webalfa set cookie failure",JSON.stringify(i)),s(new Error("种 Cookie 失败"))))}.bind(this))}.bind(this))}.bind(this))},sendMsg:function(e,t,s,i){var n=new IOSendMsg(e,t,s,i);if(this.state===wsState.OPENED||this.state===wsState.REGED||this.state===wsState.SUBSCRIBED){if("/reg"===e)return this._send(n.msgEntity)?(this._addPending(n),this.localLog.info("WKSDK",this.name,this.state,"send reg success")):(n.sendOfflineMsg(),this.localLog.info("WKSDK",this.name,this.state,"send reg failure")),n;this.state===wsState.OPENED&&(n.canSendBeforeAuth()?(this.waitingRegMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but push to waiting",e)):n.canCacheWhenOffline()?(this.offlineCacheMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but cache",e)):(n.sendOfflineMsg(),this.localLog.info("WKSDK",this.name,this.state,"send failure",e))),this.state===wsState.REGED&&(n.canSendBeforeAuth()?this._send(n.msgEntity)?(this._addPending(n),this.localLog.info("WKSDK",this.name,this.state,"send success",e)):(this.waitingRegMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but push to waiting",e)):n.canCacheWhenOffline()?(this.offlineCacheMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but offline cache",e)):(n.sendOfflineMsg(),this.localLog.info("WKSDK",this.name,this.state,"send failure",e))),this.state===wsState.SUBSCRIBED&&(this._send(n.msgEntity)?this._addPending(n):n.canCacheWhenOffline()?(this.offlineCacheMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but offline cache",e)):(this.tmpCacheMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but push to tmp cache",e)))}else this.state===wsState.CLOSED||this.state===wsState.INITED?(n.sendOfflineMsg(),this.localLog.info("WKSDK",this.name,this.state,"send failure",e)):this.state===wsState.SILENT_CONNECTING?n.canSendBeforeAuth()?(this.waitingRegMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but push to waiting",e)):(this.tmpCacheMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but push to tmp cache",e)):this.state===wsState.CONNECTING&&(n.canSendBeforeAuth()?(this.waitingRegMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but push to waiting",e)):n.canCacheWhenOffline()?(this.offlineCacheMsgs.push(n),this.localLog.info("WKSDK",this.name,this.state,"send failure but push to offline cache",e)):(n.sendOfflineMsg(),this.localLog.info("WKSDK",this.name,this.state,"send failure",e)));return n},_addPending:function(e){e.active(),this.pendingMsgs[e.getMsgId()]=e,e.result.then(function(){delete this.pendingMsgs[e.getMsgId()]}.bind(this),function(){delete this.pendingMsgs[e.getMsgId()]}.bind(this))},_send:function(e){if(this._ws&&1===this._ws.readyState)try{return this._ws.send(JSON.stringify(e)),window.debug===!0&&console.log("send msg: "+JSON.stringify(e)),!0}catch(e){return this.localLog.error("WKSDK","ws._send failure ws name :"+this.name+", err msg: ",e),!1}else this.localLog.error("WKSDK","try send data fail",this._ws.readyState)},logout:function(){return cookieManager.removeItem(cookieNames.DEVICE_ID_EXIST),storage.local.removeItem(storage.KEYS.TOKEN),storage.session.removeItem(storage.KEYS.TOKEN),My.clear(),this.disconnect(),!0}});module.exports=WS;

},{"../class/class":783,"../cloudSetting/cloudSetting":785,"../config/config":787,"../cookie/cookie":806,"../cookie/cookieNames":807,"../error/ParamError":819,"../my/my":856,"../storage/storage":859,"../sync/syncState":867,"../tools/deviceId":870,"../tools/jsonp":871,"./IOReceiveMsg":827,"./IOSendMsg":828,"./wsState":833,"lodash":919,"querystring":12,"wolfy87-eventemitter":944}],833:[function(require,module,exports){
"use strict";module.exports={INITED:0,CONNECTING:1,OPENED:2,REGED:3,SUBSCRIBED:4,SILENT_CONNECTING:5,CLOSING:6,CLOSED:7};

},{}],834:[function(require,module,exports){
"use strict";var IDL=require("../idl/idl"),IDLSend=IDL.interface.IDLSend,IDLMessage=IDL.interface.IDLMessage,IDLMessageStatus=IDL.interface.IDLMessageStatus,_=require("lodash"),SEND_STATUS=require("./msgSendStatus"),updateToRead=require("./updateToRead"),senderExtFactory=require("./senderExtFactory"),conversationEventCenter=require("../conversation/conversationEventCenter"),My=require("../my/my"),EventEmitter=require("wolfy87-eventemitter"),Config=require("../config/config"),localLog=Config.get("log"),Class=require("../class/class"),MsgType=require("./msgType"),MsgCreatorType=require("./msgCreatorType"),decryptType=require("../safety/decryptType"),decryptMsg=require("../safety/decryptMsg"),baseMsgTag=require("./baseMsgTag"),batchUpdateMsgRead=require("./batchUpdateMsgRead"),BaseMsg=Class.create({initialize:function(e,s){if(this.baseMessage={},this.cancelAble=!1,this.hasAtMe=!1,this._isViewed=!1,this._local={},e)this._initWithMessageModel(e);else{if(!s)throw localLog.error("WKSDK","实例化 msg 失败, baseMsg 和 sendMsgParam 都不存在"),new Error("实例化 msg 失败, baseMsg 和 sendMsgParam 都不存在");this._initWithSendMsgParam(s)}},Implements:EventEmitter,EventsName:{SEND_STATUS_CHANGE:"send_status_change",SEND_PROGRESS:"send_progress",SENDER_MESSAGE_STATUS_CHANGE:"sender_message_status_change",CANCELABLE_STATUS_CHANGE:"cancelable_status_change",RECALL_STATUS_CHANGE:"recall_status_change",EXTENSION_CHANGE:"extension_change",PRIVATE_TAG_CHANGE:"private_tag_change",PRIVATE_EXTENSION_CHANGE:"private_extension_change",RECEIVER_MESSAGE_STATUS_CHANGE:"receiver_message_status_change",DELETED_CHANGE:"deleted_change",DECRYPT_STATUS_CHANGE:"decrypt_status_change"},SEND_STATUS:SEND_STATUS,_initWithSendMsgParam:function(e){this.sendStatus=SEND_STATUS.WAITING_SEND,this.baseMessage.openIdEx=senderExtFactory.genOpenIdEx(),this.baseMessage.isDecrypt=decryptType.YES,_.assign(this.baseMessage,e),this.senderMessageStatus={},this.receiverMessageStatus={},this.sendProgress=0},_initWithMessageModel:function(e){_.assign(this,e),this.baseMessage.groupNickTag=this.baseMessage.groupNick||0,this.sendStatus=SEND_STATUS.SENDED,this.baseMessage.type===MsgType.ENCRYPTED&&this.baseMessage.isDecrypt!==decryptType.YES&&this.baseMessage.isDecrypt!==decryptType.NEVER&&(this.baseMessage.isDecrypt=decryptType.NO)},decrypt:function(){return decryptMsg.decryptMsg(this.getMessageModel()).then(function(e){this.baseMessage.isDecrypt=decryptType.YES,this.baseMessage.content=e.baseMessage.content,this.emit(this.EventsName.DECRYPT_STATUS_CHANGE),conversationEventCenter.emit(conversationEventCenter.EventsName.MSG_CONTENT_CHANGE,this.getMessageModel())}.bind(this)).catch(function(e){return this.baseMessage.isDecrypt!==decryptType.YES&&(this.baseMessage.isDecrypt=decryptType.NO),Promise.reject(e)}.bind(this))},send:function(){var e=this;if(this.sendStatus===SEND_STATUS.SENDED)throw localLog.error("Can't send multi time, this msg have been sended, messageId: "+this.getId()),new Error("Can't send multi time, this msg have been sended");this._setSendStatus(SEND_STATUS.SENDING);var s=function(s){return new Promise(function(t,a){IDLSend.send(s,function(s){200===s.code?(_.assign(e.senderMessageStatus,s.body.model),e.baseMessage.messageId=s.body.messageId,e.baseMessage.createdAt=s.body.createdAt,this._setSendStatus(SEND_STATUS.SENDED),this.sendProgress=1,this.emit(this.EventsName.SEND_PROGRESS,this.sendProgress),t(s)):(localLog.error("msg send error",JSON.stringify(s)),this._setSendStatus(SEND_STATUS.SENDFAIL),a(s))}.bind(this))}.bind(this))}.bind(this),t=e._getSendMessageModel(),a=Config.get("msgEncryptor");return Promise.resolve(t).then(function(e){return e.type===MsgType.ENCRYPTED?a?a.encryptMsg(e).catch(function(s){return localLog.error("encrypt send msg error",s),e.type=MsgType.NORMAL,e}.bind(this)):(e.type=MsgType.NORMAL,e):e}.bind(this)).then(function(e){return s(e)})},_setSendStatus:function(e){e!==this.sendStatus&&(this.sendStatus=e,this.emit(this.EventsName.SEND_STATUS_CHANGE,e))},resend:function(){return this.send()},_getSendMessageModel:function(){return{uuid:this.baseMessage.uuid,conversationId:this.baseMessage.conversationId,type:this.baseMessage.type,creatorType:this.baseMessage.creatorType,content:this.baseMessage.content,tag:this.baseMessage.tag,extension:this.baseMessage.extension,nickName:Config.get("nickName"),xpnModel:this.baseMessage.xpnModel}},getMessageModel:function(){return{_local:this._local,baseMessage:this.baseMessage,receiverMessageStatus:this.receiverMessageStatus,senderMessageStatus:this.senderMessageStatus}},getId:function(){if(this.sendStatus===SEND_STATUS.SENDED){if(this.baseMessage.messageId)return String(this.baseMessage.messageId);throw localLog.error("msg#getId error, message is is not exist",JSON.stringify(this.baseMessage)),new Error("message id 不存在")}return this.baseMessage.uuid?String(this.baseMessage.uuid):new Error("uuid 不存在")},getCreatedAt:function(){return this.baseMessage.createdAt},getMessageId:function(){if(this.baseMessage.messageId)return this.baseMessage.messageId;throw new Error("messageId 不存在")},getLocalId:function(){if(this.baseMessage.uuid)return String(this.baseMessage.uuid);if(this.baseMessage.messageId)return String(this.baseMessage.messageId);throw new Error("messageId 和 uuid都不存在")},getOpenId:function(){return parseInt(this.baseMessage.openIdEx.openId)},getConvId:function(){return String(this.baseMessage.conversationId)},receiveMsgChange:function(e){var s=[];Object.keys(e).forEach(function(t){if("conversationId"!==t&&"messageId"!==t){var a=e[t];if("senderMessageStatus"===t&&_.get(a,"unReadCount")<_.get(this,"senderMessageStatus.unReadCount"))_.assign(this.senderMessageStatus,e.senderMessageStatus),s.push([t,a]);else if("receiverMessageStatus"!==t||_.isEqual(a,this.receiverMessageStatus))if("privateTag"===t&&a!==this.baseMessage.memberTag)this.baseMessage.memberTag=a,s.push([t,a]);else if("privateExtension"!==t||_.isEqual(a,this.baseMessage.memberExtension))if("viewStatus"===t)this._isViewed=2===a;else if("deleted"===t){var i=a?1:0;i!==this._local.isDel&&(this._local.isDel=i,s.push([t,i]))}else(_.isNumber(a)||_.isString(a))&&this.baseMessage[t]!==a?(this.baseMessage[t]=a,s.push([t,a])):_.isPlainObject(a)&&!_.isEqual(a,this.baseMessage[t])&&(this.baseMessage[t]=a,s.push([t,a]));else this.baseMessage.memberExtension=a,s.push([t,a]);else this.receiverMessageStatus=a,s.push([t,a])}}.bind(this)),s.forEach(function(e){this._emitMsgChangeEvent(e[0],e[1])}.bind(this))},_emitMsgChangeEvent:function(e,s){var t;switch(e){case"senderMessageStatus":t=this.EventsName.SENDER_MESSAGE_STATUS_CHANGE;break;case"recallStatus":t=this.EventsName.RECALL_STATUS_CHANGE;break;case"extension":t=this.EventsName.EXTENSION_CHANGE;break;case"privateTag":t=this.EventsName.PRIVATE_TAG_CHANGE;break;case"privateExtension":t=this.EventsName.PRIVATE_EXTENSION_CHANGE;break;case"receiverMessageStatus":t=this.EventsName.RECEIVER_MESSAGE_STATUS_CHANGE;break;case"deleted":t=this.EventsName.DELETED_CHANGE}t&&this.emit(t,s)},getReceivers:function(){return IDLMessage.listMemberStatusByMessageId(null,this.getMessageId()).result.then(function(e){if(e.body&&Array.isArray(e.body)){var s=e.body.filter(function(e){return 2===e.status});this.receiveMsgChange({senderMessageStatus:{unReadCount:s,totalCount:e.body.length}})}return e.body}.bind(this))},updateReadStatus:function(e){_.get(e,"readStatus")>_.get(this,"receiverMessageStatus.readStatus")&&(this.receiverMessageStatus=e)},updateToView:function(){return this._isViewed||this.isMeRead()||this.isMe()?Promise.resolve():(this._isViewed=!0,IDLMessageStatus.updateToView(this.getConvId(),this.getMessageId()))},updateToRead:function(){this.isMe()||this.isMeRead()||this.isSys()||this._updateToRead()},_updateToRead:function(){try{var e=this.getMessageId()}catch(e){localLog.error("get messageId error, id: ",this.getId())}e&&batchUpdateMsgRead.updateMsgToRead(e).then(function(){this.receiveMsgChange({receiverMessageStatus:{readStatus:2}})}.bind(this)).catch(function(e){localLog.error("wksdk","update msg to read error",e,JSON.stringify(e._originMsg))})},isToMySelf:function(){var e=this.getConvId().split(":");return e[0]===e[1]},isMe:function(){return this.getOpenId()===My.get("openId")},isMeRead:function(){return!!this.isMe()||2===_.get(this,"receiverMessageStatus.readStatus")},isNoDcrypt:function(){return _.get(this,"baseMessage.isDecrypt")===decryptType.NO},isSys:function(){return _.get(this,"baseMessage.creatorType")===MsgCreatorType.SYSTEM},recallMessage:function(){return this.isSended()?IDLMessage.recallMessage(this.getMessageId()).result.then(function(e){return this.receiveMsgChange({recallStatus:1}),e}.bind(this)):Promise.reject(new Error("不能撤回未发送成功的消息"))},remove:function(){return this.isDel()?Promise.reject(new Error("不能删除已经删除了的消息")):IDLMessage.removes([this.getMessageId()]).result.then(function(e){conversationEventCenter.emit(conversationEventCenter.EventsName.REMOVE_MSG,{cid:this.baseMessage.conversationId,messageId:this.getMessageId()})}.bind(this))},isSilence:function(){return _.get(this,"baseMessage.type")===MsgType.SILENCE||_.get(this,"baseMessage.tag")===baseMsgTag.SILENCE},isDel:function(){return 1===this._local.isDel},isSended:function(){return this.sendStatus===SEND_STATUS.SENDED},needDecrypt:function(){return _.get(this,"baseMessage.type")===MsgType.ENCRYPTED&&_.get(this,"baseMessage.isDecrypt")===decryptType.NO}});module.exports=BaseMsg;

},{"../class/class":783,"../config/config":787,"../conversation/conversationEventCenter":791,"../idl/idl":824,"../my/my":856,"../safety/decryptMsg":857,"../safety/decryptType":858,"./baseMsgTag":840,"./batchUpdateMsgRead":841,"./msgCreatorType":846,"./msgSendStatus":848,"./msgType":849,"./senderExtFactory":853,"./updateToRead":854,"lodash":919,"wolfy87-eventemitter":944}],835:[function(require,module,exports){
"use strict";var BaseMsg=require("./BaseMsg"),sendMsgBuilder=require("./sendMsgBuilder"),SEND_STATUS=require("./msgSendStatus"),Config=require("../config/config"),LocalLog=Config.get("log"),conversationEventCenter=require("../conversation/conversationEventCenter"),CustomMsg=BaseMsg.extend({initialize:function(e,t,s,n){s&&(this.localInfo=s),n&&(this._sendFunction=n),t&&(this._customSended=!1),CustomMsg.superclass.initialize.call(this,e,t)},send:function(){if(this.sendStatus===SEND_STATUS.SENDED)throw LocalLog.error("Can't send multi time, this msg has been sended, messageId: "+this.getId()),new Error("Can't send multi time, this msg has been sended");return this._setSendStatus(SEND_STATUS.WAITING_SEND),Promise.resolve().then(function(){if(this._customSended===!0)return!0;if(this._sendFunction){var e=this._sendFunction(this.localInfo,function(e){this.sendProgress=e,this.emit(this.EventsName.SEND_PROGRESS,e)}.bind(this),function(){this._setSendStatus(SEND_STATUS.SENDING)}.bind(this));return e.cancel&&(this.cancelAble=!0,this.cancel=function(){e.cancel()},this.emit(this.EventsName.CANCELABLE_STATUS_CHANGE,this.cancelAble)),e.result.then(function(e){this.baseMessage.content=e,this._customSended=!0,this.cancelAble=!1,this.cancel=function(){throw new Error("can't cancel, msg have sended")},this.emit(this.EventsName.CANCELABLE_STATUS_CHANGE,this.cancelAble)}.bind(this))}return!0}.bind(this)).then(function(){return delete this.localInfo,delete this._sendFunction,CustomMsg.superclass.send.call(this)}.bind(this)).catch(function(e){return e.delete!==!0?(LocalLog.error("msg send error",e.toString()),this._setSendStatus(SEND_STATUS.SENDFAIL),Promise.reject(e)):void conversationEventCenter.emit(conversationEventCenter.EventsName.DELETE_MSG,{messageId:this.getId(),cid:this.getConvId()})}.bind(this))}});CustomMsg.createWithCustomSendFunction=function(e,t,s,n,i,r){var n=n||{};n.minimumCreatedAt=r;var o=sendMsgBuilder.buildMsg(e,t,n);return new CustomMsg(null,o,s,i)},module.exports=CustomMsg;

},{"../config/config":787,"../conversation/conversationEventCenter":791,"./BaseMsg":834,"./msgSendStatus":848,"./sendMsgBuilder":852}],836:[function(require,module,exports){
"use strict";var MsgType=require("./msgType"),BaseMsg=require("./BaseMsg"),CreatorType=require("./msgCreatorType"),ContentType=require("./msgContentType"),senderExtFactory=require("./senderExtFactory"),GapMsg=BaseMsg.extend({initialize:function(e,t){var r={baseMessage:{conversationId:e,messageId:parseInt((new Date).getTime().toString()+parseInt(1e3*Math.random())),type:MsgType.GAP,createdAt:t,creatorType:CreatorType.SYSTEM,content:{contentType:ContentType.TEXT,textContent:{text:"GAP"}},openIdEx:senderExtFactory.genOpenIdEx()}};GapMsg.superclass.initialize.call(this,r)}});module.exports=GapMsg;

},{"./BaseMsg":834,"./msgContentType":845,"./msgCreatorType":846,"./msgType":849,"./senderExtFactory":853}],837:[function(require,module,exports){
"use strict";var BaseMsg=require("./BaseMsg"),contentType=require("./msgContentType"),sendMsgBuilder=require("./sendMsgBuilder"),fileCache=require("./fileCache"),upload=require("../upload/upload"),Config=require("../config/config"),LocalLog=Config.get("log"),SEND_STATUS=require("./msgSendStatus"),mediaId=require("@ali/ding-mediaid"),_=require("lodash"),DATAURI_SIZE_LIMIT=3145728,PHOTO_TYPE={ORIGIN:1},ImgMsg=BaseMsg.extend({initialize:function(e,t,i){i&&(this.localInfo=i),ImgMsg.superclass.initialize.call(this,e,t)},getLocalFile:function(){if(this.localInfo&&this.localInfo.fileId)return fileCache.get(this.localInfo.fileId);throw new Error("fileId is not exist")},send:function(){if(this.sendStatus===SEND_STATUS.SENDED)throw LocalLog.error("Can't send multi time, this msg has been sended, messageId: "+this.getId()),new Error("Can't send multi time, this msg has been sended");return this._setSendStatus(SEND_STATUS.SENDING),Promise.resolve().then(function(){if(_.get(this,"baseMessage.content.photoContent.mediaId"))return _.get(this,"baseMessage.content.photoContent.mediaId");if(_.get(this,"localInfo.fileId")){var e=this.getLocalFile();return upload.upload(e,function(e){this.sendProgress=e,this.emit(this.EventsName.SEND_PROGRESS,e)}.bind(this)).then(function(e){return e.hd?_.set(this,"baseMessage.content.photoContent.mediaId",e.hd):_.set(this,"baseMessage.content.photoContent.mediaId",e.uri),_.get(this,"baseMessage.content.photoContent.mediaId")}.bind(this))}return Promise.reject(new Error("fileId 和 mediaId 都不存在"))}.bind(this)).catch(function(e){return LocalLog.error("msg send error",e.toString()),this._setSendStatus(SEND_STATUS.SENDFAIL),Promise.reject(e)}.bind(this)).then(function(){return delete this.localInfo,ImgMsg.superclass.send.call(this)}.bind(this))}});ImgMsg.createWithImgFile=function(e,t,i){var n=fileCache.cache(t),s={fileId:n};t.dataURI&&(s.dataURI=t.dataURI);var o={contentType:contentType.IMG,photoContent:{mediaId:null,filename:t.name,picSize:t.size,orientation:t.orientation,type:PHOTO_TYPE.ORIGIN}},r=sendMsgBuilder.buildMsg(e,o,{minimumCreatedAt:i});return new ImgMsg(null,r,s)},ImgMsg.createWithMediaIdOption=function(e,t,i){var n={contentType:contentType.IMG,photoContent:{mediaId:t.mediaId,filename:t.name,picSize:t.picSize||0,type:PHOTO_TYPE.ORIGIN}};t.extension&&(n.photoContent.extension=t.extension);var s=sendMsgBuilder.buildMsg(e,n,{minimumCreatedAt:i});return new ImgMsg(null,s)},module.exports=ImgMsg;

},{"../config/config":787,"../upload/upload":874,"./BaseMsg":834,"./fileCache":842,"./msgContentType":845,"./msgSendStatus":848,"./sendMsgBuilder":852,"@ali/ding-mediaid":715,"lodash":919}],838:[function(require,module,exports){
"use strict";var MsgType=require("./msgType"),BaseMsg=require("./BaseMsg"),CreatorType=require("./msgCreatorType"),ContentType=require("./msgContentType"),sendMsgBuilder=require("./sendMsgBuilder"),_=require("lodash"),SystemMsg=BaseMsg.extend({initialize:function(e,t){SystemMsg.superclass.initialize.call(this,e,t)}});SystemMsg.createWithText=function(e,t,s){var r=_.get(s,"atOpenIds"),n=_.get(s,"minimumCreatedAt"),i=_.get(s,"extension"),g={contentType:ContentType.TEXT,textContent:{text:t},atOpenIds:r||{}},a={type:MsgType.TIPS,creatorType:CreatorType.SYSTEM,extension:i||{},minimumCreatedAt:n},a=sendMsgBuilder.buildMsg(e,g,a);return new SystemMsg(null,a)},module.exports=SystemMsg;

},{"./BaseMsg":834,"./msgContentType":845,"./msgCreatorType":846,"./msgType":849,"./sendMsgBuilder":852,"lodash":919}],839:[function(require,module,exports){
"use strict";var BaseMsg=require("./BaseMsg"),contentType=require("./msgContentType"),msgType=require("./msgType"),sendMsgBuilder=require("./sendMsgBuilder"),decryptType=require("../safety/decryptType"),TextMsg=BaseMsg.extend({initialize:function(e,t){TextMsg.superclass.initialize.call(this,e,t)}});TextMsg.createWithText=function(e,t,s,n){var r={contentType:contentType.TEXT,textContent:{text:t},atOpenIds:s||{}},i=sendMsgBuilder.buildMsg(e,r,n);return new TextMsg(null,i)},module.exports=TextMsg;

},{"../safety/decryptType":858,"./BaseMsg":834,"./msgContentType":845,"./msgType":849,"./sendMsgBuilder":852}],840:[function(require,module,exports){
module.exports={SILENCE:100,DROP_MSG:200,SAFETY_TIPS:300};

},{}],841:[function(require,module,exports){
"use strict";var IDL=require("../idl/idl"),IDLMessageStatus=IDL.interface.IDLMessageStatus,SingleToBatch=require("@ali/single-to-batch").SingleToBatch,buildParamKey=function(e){return e+""},buildResultKey=function(e){return e.messageId+""},doRequest=function(e,t){return IDLMessageStatus.updateToRead(e).result.then(function(t){var a=t.body;return e.map(function(e){return{messageId:e,result:a}})})},batchUpdate=new SingleToBatch(buildParamKey,buildResultKey,doRequest,100,1e3),updateMsgToRead=function(e){return batchUpdate.getResult(e,"same")};exports.updateMsgToRead=updateMsgToRead;

},{"../idl/idl":824,"@ali/single-to-batch":734}],842:[function(require,module,exports){
"use strict";var cache={},id=1;exports.cache=function(c){var e=id++;return cache[e]=c,e},exports.delCache=function(c){return cache[c]=null,!0},exports.get=function(c){return cache[c]};

},{}],843:[function(require,module,exports){
"use strict";var uuid=require("./uuid"),Config=require("../config/config");module.exports={buildForwardModel:function(e,i){return{uuid:uuid(),messageId:e.getMessageId(),toConversationId:i,nickName:Config.get("nickName")}}};

},{"../config/config":787,"./uuid":855}],844:[function(require,module,exports){
"use strict";module.exports={READ:2};

},{}],845:[function(require,module,exports){
module.exports={TEXT:1,IMG:2,AUDIO:3,FILE:4};

},{}],846:[function(require,module,exports){
"use strict";module.exports={SELF:1,SYSTEM:2};

},{}],847:[function(require,module,exports){
"use strict";module.exports={NORMAL:0,DELETED:1};

},{}],848:[function(require,module,exports){
"use strict";module.exports={SENDING:0,SENDED:1,SENDFAIL:-1,WAITING_SEND:2};

},{}],849:[function(require,module,exports){
"use strict";module.exports={NORMAL:1,PRIVATE:2,SILENCE:3,ENCRYPTED:5,GAP:-1,TIPS:-2};

},{}],850:[function(require,module,exports){
"use strict";var ViewStatus={VIEWED:2};module.exports=ViewStatus;

},{}],851:[function(require,module,exports){
"use strict";var TextMsg=require("./TextMsg"),ImgMsg=require("./ImgMsg"),BaseMsg=require("./BaseMsg"),msgContentType=require("./msgContentType"),_=require("lodash");exports.instance=function(e){var s=(_.get(e,"baseMessage.conversationId"),_.get(e,"baseMessage.messageId"),_.get(e,"baseMessage.content.contentType"));switch(s){case msgContentType.TEXT:return new TextMsg(e);case msgContentType.IMG:return new ImgMsg(e);default:return new BaseMsg(e)}};

},{"./BaseMsg":834,"./ImgMsg":837,"./TextMsg":839,"./msgContentType":845,"lodash":919}],852:[function(require,module,exports){
"use strict";var creatorType=require("./msgCreatorType"),msgType=require("./msgType"),uuid=require("./uuid"),sendMsgBuilder={buildMsg:function(e,r,t){var i={uuid:uuid(),conversationId:e,content:r,creatorType:creatorType.SELF,type:msgType.NORMAL,createdAt:(new Date).getTime()};return t&&(t.creatorType&&(i.creatorType=t.creatorType),t.type&&(i.type=t.type),t.hasOwnProperty("isDecrypt")&&(i.isDecrypt=t.isDecrypt),t.tag&&(i.tag=t.tag),t.extension&&(i.extension=t.extension),t.creatorType&&(i.creatorType=t.creatorType),t.receivers&&(i.receivers=t.receivers),t.minimumCreatedAt&&i.createdAt<=t.minimumCreatedAt&&(i.createdAt=t.minimumCreatedAt+1),t.xpnModel&&(i.xpnModel=t.xpnModel)),i}};module.exports=sendMsgBuilder;

},{"./msgCreatorType":846,"./msgType":849,"./uuid":855}],853:[function(require,module,exports){
"use strict";var My=require("../my/my");module.exports={genOpenIdEx:function(){return{openId:My.get("openId"),tag:My.get("tag")}}};

},{"../my/my":856}],854:[function(require,module,exports){
"use strict";function batchUpdateToRead(t){batchMids.push(t),0===batchUpdateStatus&&(batchUpdateStatus=1,setTimeout(function(){IDLMessageStatus.updateToRead(batchMids),LocalLog.info("WKSDK","update to read",JSON.stringify(batchMids)),batchUpdateStatus=0,batchMids=[]},1e3))}var IDL=require("../idl/idl"),IDLMessageStatus=IDL.interface.IDLMessageStatus,Config=require("../config/config"),LocalLog=Config.get("log"),batchUpdateStatus=0,batchMids=[];module.exports=batchUpdateToRead;

},{"../config/config":787,"../idl/idl":824}],855:[function(require,module,exports){
"use strict";module.exports=function(){return(new Date).getTime().toString()+parseInt(1e3*Math.random())};

},{}],856:[function(require,module,exports){
var conf={openId:null,tag:0,authInfo:null};module.exports={get:function(n){return conf[n]},set:function(n,o){conf[n]=o},clear:function(){conf={}}};

},{}],857:[function(require,module,exports){
"use strict";var config=require("../config/config"),localLog=config.get("log"),MsgType=require("../message/msgType"),decryptType=require("../safety/decryptType"),_=require("lodash"),decryptMsg=function(e){var e=_.assign({},e),r=e.baseMessage,t=config.get("msgEncryptor");return r.isDecrypt===decryptType.YES||r.type!==MsgType.ENCRYPTED?Promise.resolve(e):t?t.decryptMsg(r).then(function(r){return r.isDecrypt=decryptType.YES,e.baseMessage=r,e}).catch(function(e){return localLog.error("decrypt msg fail",r.messageId,e),Promise.reject(e)}):(localLog.error("decrypt msg error, cannot find msgEncryptor"),Promise.reject(new Error("找不到加密应用")))},tryDecryptMsgs=function(e){return Promise.all(e.map(function(e){return decryptMsg(e).then(function(e){return e}).catch(function(){return e})}))};exports.decryptMsg=decryptMsg,exports.tryDecryptMsgs=tryDecryptMsgs;

},{"../config/config":787,"../message/msgType":849,"../safety/decryptType":858,"lodash":919}],858:[function(require,module,exports){
module.exports={YES:0,NO:1,NEVER:2};

},{}],859:[function(require,module,exports){
var KEYS={TOKEN:"wk_token",APPKEY:"wk_appkey",OPENID:"wk_openId",NICK:"wk_nick_storage",DID:"wk_device_id",WSURL:"wk_wsurl"},session={getItem:function(e){return window.sessionStorage.getItem(e)},setItem:function(e,t){return window.sessionStorage.setItem(e,t)},removeItem:function(e){return window.sessionStorage.removeItem(e)}},local={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){return window.localStorage.setItem(e,t)},removeItem:function(e){return window.localStorage.removeItem(e)}};module.exports={KEYS:KEYS,session:session,local:local};

},{}],860:[function(require,module,exports){
"use strict";var EventEmitter=require("wolfy87-eventemitter"),Class=require("../class/class"),subscribeEventCenter=Class.create({initialize:function(){},Implements:EventEmitter,receiveMsg:function(e){var t=function(t,s,i){e.respond(t,s,i)},s=e.topic;this.emit(s,e.msg,t)}});module.exports=new subscribeEventCenter;

},{"../class/class":783,"wolfy87-eventemitter":944}],861:[function(require,module,exports){
"use strict";function Sync(){this.affairs={}}var msgpack=require("@ali/msgpack"),IDL=require("../idl/idl"),userPadding=IDL.model.user,relationPadding=IDL.model.relation,imPadding=IDL.model.im,pushPadding=IDL.model.push,syncObjectTypes=require("./syncObjectType"),config=require("../config/config"),localLog=config.get("log"),seriesPromise=require("../tools/seriesPromise"),promiseRetry=require("promise-retry"),decodeFuncs={};decodeFuncs[syncObjectTypes.RELATION_ALIAS]=userPadding.paddings.AliasModel,decodeFuncs[syncObjectTypes.RELATION_FOLLOW]=relationPadding.paddings.FollowModel,decodeFuncs[syncObjectTypes.IM_MSG]=imPadding.paddings.MessageModel,decodeFuncs[syncObjectTypes.MSG_RECALL_STATUS]=imPadding.paddings.MessageChangeModel,decodeFuncs[syncObjectTypes.MSG_DELETE]=imPadding.paddings.MessageChangeModel,decodeFuncs[syncObjectTypes.MSG_EXTENSION]=imPadding.paddings.MessageChangeModel,decodeFuncs[syncObjectTypes.MSG_PRIVATE_TAG]=imPadding.paddings.MessageChangeModel,decodeFuncs[syncObjectTypes.MSG_PRIVATE_EXTENSION]=imPadding.paddings.MessageChangeModel,decodeFuncs[syncObjectTypes.MSG_RECEIVE_MESSAGE_STATUS_BATCH]=imPadding.paddings.MessageChangeListModel,decodeFuncs[syncObjectTypes.MSG_SENDER_MESSAGE_STATUS]=imPadding.paddings.MessageChangeModel,decodeFuncs[syncObjectTypes.MSG_PRIVATE_TAG_WITH_PRIVATE_EXTENSION]=imPadding.paddings.MessageChangeModel,decodeFuncs[syncObjectTypes.MSG_VIEW_STATUS]=imPadding.paddings.MessageChangeModel,decodeFuncs[syncObjectTypes.PUSH_RECEIVE]=pushPadding.paddings.PayloadModel,decodeFuncs[syncObjectTypes.CONV_CLEAR_MSG]=imPadding.paddings.ConversationChangeModel,decodeFuncs[syncObjectTypes.CONV_CLEAR_MSG_AND_STATUS_CHANGE]=imPadding.paddings.ConversationChangeModel,decodeFuncs[syncObjectTypes.CONV_NOTICE]=imPadding.paddings.ConversationChangeModel,decodeFuncs[syncObjectTypes.CONV_STATUS]=imPadding.paddings.ConversationChangeModel,decodeFuncs[syncObjectTypes.CONV_NOTIFICATION_OFF]=imPadding.paddings.ConversationChangeModel,decodeFuncs[syncObjectTypes.CONV_SORT]=imPadding.paddings.ConversationChangeModel,decodeFuncs[syncObjectTypes.GROUP_NICK_CHANGE]=imPadding.paddings.GroupNickChangeModel,decodeFuncs[syncObjectTypes.GROUP_BAN_WORDS]=imPadding.paddings.ConversationChangeModel,Sync.prototype.register=function(e){e&&(e.decodeFunc&&(decodeFuncs[e.objectType]=e.decodeFunc),this.affairs[e.objectType]={onSyncMsg:e.onSyncMsg,onNeedPullData:e.onNeedPullData})},Sync.prototype.unregister=function(e){var d=this;delete d.affairs[e]},Sync.prototype.pullData=function(){var e=[];for(var d in this.affairs)(function(d){var n=this.affairs[d];if(n.onNeedPullData){var s=promiseRetry(function(e,s){return s>1&&localLog.error("sync model retry pull data for",d,s),n.onNeedPullData().catch(e)},{retries:5});s.catch(function(e){return localLog.error("after 5 times retry , still fail",d),Promise.reject(e)}),e.push(s)}}).bind(this)(d);return Promise.all(e)},Sync.prototype.dispatchMsg=function(e){var d=this,n=e.map(function(e){return function(){var e=this.dataItem.objectType,n=null;try{n=msgpack.decodeFromB64(this.dataItem.data),decodeFuncs[e]?n=decodeFuncs[e](n):localLog.error("can't decode sync data, object type: ",e)}catch(e){return localLog.error("decode sync data error",n,e),Promise.resolve()}return d.affairs[e]&&d.affairs[e].onSyncMsg?d.affairs[e].onSyncMsg(n).catch(function(d){return localLog.error("dispatch msg error",e,d),!0}):(localLog.info("receive a msg which don't have a handler, objectType is",e),Promise.resolve())}.bind({dataItem:e})});return seriesPromise(n)},module.exports=Sync;

},{"../config/config":787,"../idl/idl":824,"../tools/seriesPromise":872,"./syncObjectType":865,"@ali/msgpack":729,"promise-retry":926}],862:[function(require,module,exports){
"use strict";var Config=require("../config/config"),LocalLog=Config.get("log"),ActionMerge=require("../actionMerge/ActionMerge"),errorLogEventEmitter=require("../error/errorLogEventEmitter"),my=require("../my/my"),logError=function(r){var e=my.get("openId")+" | "+r.toString()+r.stack;errorLogEventEmitter.emit(errorLogEventEmitter.EventsName.DB_TRANSACTION_ERROR,e)},DBTransaction=ActionMerge.extend({initialize:function(r){DBTransaction.superclass.initialize.call(this,r)},_runActions:function(){var r=Config.get("dbCollection"),e=this._actionCache;if(this._actionCache={},r){var t=(new Date).getTime();if(Object.keys(e).length>0){var n=(new Date).getTime();return r.TableEntry.beginTransaction(function(r){return n=(new Date).getTime(),Promise.all(Object.keys(e).sort(function(r,e){var t=parseInt(r.split("_")[0]),n=parseInt(e.split("_")[0]);return t=isNaN(t)?0:t,n=isNaN(n)?0:n,t-n}).map(function(t){try{return e[t](r)}catch(r){return logError(r),LocalLog.error("run action error",this.name,t,r),!0}}.bind(this))).then(function(){r.commit()}).catch(function(e){LocalLog.error("sync db transaction exec error",e),logError(e),r.rollback()})}).then(function(){var r=(new Date).getTime(),o=r-t;return LocalLog.info("start db transaction spend time: ",n-t),LocalLog.info("exec sync db transaction spend time: ",o),o>2e3&&LocalLog.error("exec synd db transaction over 2s ",o,JSON.stringify(Object.keys(e))),!0}).catch(function(r){return LocalLog.error("exec transaction error occur",JSON.stringify(r),r),logError(r),Promise.reject(r)})}return Promise.resolve()}return Promise.resolve()}});module.exports=new DBTransaction("syncDBTransaction");

},{"../actionMerge/ActionMerge":780,"../config/config":787,"../error/errorLogEventEmitter":821,"../my/my":856}],863:[function(require,module,exports){
"use strict";function init(){Subscribe.on("/s/sync",function(e,n){var t=syncPadding.paddings.SyncPushModel(e.body);t.syncExtraType&&2===t.syncExtraType.type&&(LocalLog.info("too long 2 occur"),n({}),_pullData()),t.syncPushPackage&&t.syncPushPackage.data&&_handleSyncPackage(t.syncPushPackage).then(function(){n({})}).catch(function(){n({},500),getDiffFailTime=0,_getDiff(syncState.getSyncInfo()).then(function(){return _ackDiff()}).catch(function(e){LocalLog.error("receive /s/sync error, and get diff error",e.toString())})})})}function register(e){syncModel.register(e)}function _pullData(){return _getState().then(function(e){return syncModel.pullData().then(function(){return e})}).then(function(e){var n=syncState.setSyncInfoInMemory(e);return syncState.persistSyncInfo(n),getDiffFailTime=0,_getDiff(e)}).then(function(){return _ackDiff()}).catch(function(e){return LocalLog.error("pullData","err",e,JSON.stringify(e),e._originMsg),Promise.reject(e)})}function _getState(){var e=syncState.getSyncInfo();return Sync.getState(e).result.then(function(e){return e.body}).catch(function(n){return LocalLog.error("get State error",JSON.stringify(e)),Promise.reject(n)})}function _getDiff(e){return Sync.getDiff(e).result.then(function(e){return _handleSyncPackage(e.body)}).catch(function(e){return getDiffFailTime++,getDiffFailTime>TRY_GET_DIFF_LIMIT?Promise.reject(e):_getDiff(syncState.getSyncInfo())})}function _ackDiff(){return Sync.ackDiff(syncState.getSyncInfo()).result.then(function(e){return LocalLog.info("sync ackDiff",JSON.stringify(e)),!0})}function _checkSeq(e){if(0===e.startSeq&&0===e.endSeq)return LocalLog.info("receive unreliable sync seq"),{code:CHECK_SEQ_CODE.UNRELIABLE,unRepeatMsgs:e.data};var n={},t=syncState.getSyncInfo();return e.startSeq-t.seq>1?n={code:CHECK_SEQ_CODE.LOST_MSG}:e.maxPts<=t.pts&&e.maxHighPts<=t.highPts?(n={code:CHECK_SEQ_CODE.OK,unRepeatMsgs:[]},LocalLog.info("sync protocol","receive repeat msg, local sync info is "+JSON.stringify({pts:t.pts,highPts:t.highPts,seq:t.seq,timestamp:t.timestamp}),"receive syncInfo is "+JSON.stringify({maxHighPts:e.maxHighPts,maxPts:e.maxPts,startSeq:e.startSeq,endSeq:e.endSeq,timestamp:e.timestamp}))):n={code:CHECK_SEQ_CODE.OK,unRepeatMsgs:e.data},n.code!==CHECK_SEQ_CODE.OK&&LocalLog.error("sync package check error , code : "+n.code,JSON.stringify({startSeq:e.startSeq,endSeq:e.endSeq,length:e.data.length,seq:t.seq})),n}var SyncModel=require("./SyncModel"),syncState=require("./syncState"),IDL=require("../idl/idl"),syncPadding=IDL.model.sync,Subscribe=require("../subscribe/subscribe"),syncModel=new SyncModel,Sync=IDL.interface.Sync,Config=require("../config/config"),LocalLog=Config.get("log"),syncDBTransaction=require("./syncDBTransaction"),syncSinglePackageActionMerge=require("./syncSinglePackageActionMerge"),syncMultiPackageActionMerge=require("./syncMultiPackageActionMerge"),CHECK_SEQ_CODE={OK:0,LOST_MSG:1,REPEAT:2,DATA_NOT_MATCH:3,UNRELIABLE:4},_handleSyncPackage=function(e){var n=(new Date).getTime(),t=_checkSeq(e),c=function(){var c=t.code===CHECK_SEQ_CODE.UNRELIABLE;if(!c)var r=syncState.setSyncInfoInMemory({pts:e.maxPts,highPts:e.maxHighPts,seq:e.endSeq,timestamp:e.timestamp});var i=(new Date).getTime();syncSinglePackageActionMerge.unlock(),e.hasMore||syncMultiPackageActionMerge.unlock();var a=(new Date).getTime();return syncDBTransaction.unlock().then(function(){var e=(new Date).getTime();LocalLog.info("write sync package to local db spend time: ",e-a),c||syncState.persistSyncInfo(r)}).catch(function(e){LocalLog.info("syncDBTransaction exec error",e)}),LocalLog.info("handle sync package spend time: ",i-n),!0};return t.code===CHECK_SEQ_CODE.OK||t.code===CHECK_SEQ_CODE.UNRELIABLE?(syncDBTransaction.lock(),syncSinglePackageActionMerge.lock(),syncMultiPackageActionMerge.lock(),syncModel.dispatchMsg(t.unRepeatMsgs).then(function(){return c()},function(e){return LocalLog.error("dispatch msg error, but skip this error, save sync info",e),c()}).catch(function(e){LocalLog.error("after dispatch error",e)})):Promise.reject(new Error("check seq error"))},TRY_GET_DIFF_LIMIT=5,getDiffFailTime=0;module.exports={init:init,register:register};

},{"../config/config":787,"../idl/idl":824,"../subscribe/subscribe":860,"./SyncModel":861,"./syncDBTransaction":862,"./syncMultiPackageActionMerge":864,"./syncSinglePackageActionMerge":866,"./syncState":867}],864:[function(require,module,exports){
"use strict";var ActionMerge=require("../actionMerge/ActionMerge");module.exports=new ActionMerge("syncMultiPackageActionMerge",2e4);

},{"../actionMerge/ActionMerge":780}],865:[function(require,module,exports){
"use strict";module.exports={RELATION_ALIAS:2501,RELATION_FOLLOW:2503,IM_MSG:1e3,MSG_RECALL_STATUS:1001,MSG_DELETE:1002,MSG_EXTENSION:1003,MSG_PRIVATE_TAG:1004,MSG_PRIVATE_EXTENSION:1005,MSG_RECEIVE_MESSAGE_STATUS_BATCH:1007,MSG_SENDER_MESSAGE_STATUS:1008,MSG_PRIVATE_TAG_WITH_PRIVATE_EXTENSION:1009,MSG_VIEW_STATUS:1015,CONV_CLEAR_MSG:1006,CONV_CLEAR_MSG_AND_STATUS_CHANGE:1010,CONV_NOTICE:1016,CONV_STATUS:1011,CONV_NOTIFICATION_OFF:1012,CONV_SORT:1013,GROUP_NICK_CHANGE:1017,GROUP_BAN_WORDS:1018,IM_CONVERSATION:1e4,PUSH_RECEIVE:3501};
},{}],866:[function(require,module,exports){
"use strict";var ActionMerge=require("../actionMerge/ActionMerge");module.exports=new ActionMerge("syncSinglePackageActionMerge");

},{"../actionMerge/ActionMerge":780}],867:[function(require,module,exports){
"use strict";var _=require("lodash"),my=require("../my/my"),config=require("../config/config"),localLog=config.get("log"),syncInfoId=0,_openId=null,memorySyncInfoQueue=[],startSyncInfo={pts:0,highPts:0,seq:0,timestamp:0,tooLong2Tag:""},localStoragePrefix="syncInfo_",latestTooLong2Tag="";exports.setOpenId=function(o){_openId!==o&&(memorySyncInfoQueue=[]),_openId=o},exports.getSyncInfo=function(){if(!_openId)throw new Error("openId is null");if(memorySyncInfoQueue.length>0)return memorySyncInfoQueue[memorySyncInfoQueue.length-1].syncInfo;try{var o=JSON.parse(window.localStorage.getItem(localStoragePrefix+_openId))}catch(o){localLog.info("parse sync info from localStorage error",window.localStorage.getItem(localStoragePrefix+_openId))}return o&&config.get("dbCollection")?o:startSyncInfo},exports.setSyncInfoInMemory=function(o){var e=syncInfoId++;return o.tooLong2Tag?latestTooLong2Tag=o.tooLong2Tag:o.tooLong2Tag=latestTooLong2Tag,memorySyncInfoQueue.push({syncId:e,syncInfo:o,persisted:!1}),e},exports.persistSyncInfo=function(o){for(var e=0,n=-1,r=!0,t=!1;e<memorySyncInfoQueue.length;){var c=memorySyncInfoQueue[e];if(c.syncId===o&&(c.persisted=!0,t=!0),c.persisted===!0&&r===!0?n=e:r=!1,t===!0&&r===!1)break;e++}if(n>-1){var f=memorySyncInfoQueue[n].syncInfo;config.get("dbCollection")&&window.localStorage.setItem(localStoragePrefix+_openId,JSON.stringify(f)),memorySyncInfoQueue.splice(0,n)}return!0};

},{"../config/config":787,"../my/my":856,"lodash":919}],868:[function(require,module,exports){
"use strict";var syncProtocolStatus=require("./syncProtocolStatus"),IDL=require("../idl/idl"),Sync=IDL.interface.Sync,mainWS=require("../io/mainWS"),getStatus=function(){return Sync.getSwitchStatus().result.then(function(t){var n=t.body;return 0===n||2===n?syncProtocolStatus.setSyncStatus(!1):1===n&&syncProtocolStatus.setSyncStatus(!0),t})},init=function(){mainWS.addListener(mainWS.EventsName.WS_STATE_CHANGE,function(t){t===mainWS.WSState.SUBSCRIBED&&getStatus()}.bind(this))};exports.init=init;

},{"../idl/idl":824,"../io/mainWS":830,"./syncProtocolStatus":869}],869:[function(require,module,exports){
"use strict";var EventEmitter=require("wolfy87-eventemitter"),Class=require("../class/class"),SyncProtocolStatus=Class.create({initialize:function(){this.status=void 0},Implements:EventEmitter,EventsName:{READY:"ready",STATUS_CHANGE:"status_change"},STATUS:{OPEN:"open",CLOSED:"closed"},setSyncStatus:function(t){void 0===this.status&&this.emit(this.EventsName.READY,this.status);var s=t?this.STATUS.OPEN:this.STATUS.CLOSED;s!==this.status&&(this.status=s,this.emit(this.EventsName.STATUS_CHANGE,this.status))}});module.exports=new SyncProtocolStatus;

},{"../class/class":783,"wolfy87-eventemitter":944}],870:[function(require,module,exports){
"use strict";var uuid=require("uuid"),storage=require("../storage/storage");exports.getDid=function(){var e=storage.session.getItem(storage.KEYS.DID);if(e)return e;var e=uuid.v4().replace(/\-/g,"");return storage.session.setItem(storage.KEYS.DID,e),e};

},{"../storage/storage":859,"uuid":942}],871:[function(require,module,exports){
function noop(){}function jsonp(e,n,o){function t(){c.parentNode&&c.parentNode.removeChild(c),window[a]=noop,i&&clearTimeout(i)}function r(){window[a]&&t()}"function"==typeof n&&(o=n,n={}),n||(n={});var c,i,u=n.prefix||"__jp",a=n.name||u+count++,m=n.param||"callback",p=null!=n.timeout?n.timeout:6e4,d=encodeURIComponent,l=document.getElementsByTagName("script")[0]||document.head;return p&&(i=setTimeout(function(){t(),o&&o(new Error("Timeout"))},p)),window[a]=function(e){t(),o&&o(null,e)},e+=(~e.indexOf("?")?"&":"?")+m+"="+d(a),e=e.replace("?&","?"),c=document.createElement("script"),c.src=e,l.parentNode.insertBefore(c,l),r}module.exports=jsonp;var count=0;

},{}],872:[function(require,module,exports){
"use strict";function seriesPromise(e){var r=Promise.resolve();return e.reduce(function(e,r){return e=e.then(r)},r)}module.exports=seriesPromise;

},{}],873:[function(require,module,exports){
var mainWS=require("../io/mainWS");module.exports=function(n,r){return mainWS.sendMsg("/up/trans",{},{src:n,dstType:r||5}).result.then(function(n){return n})};

},{"../io/mainWS":830}],874:[function(require,module,exports){
function Upload(){var e=Config.get("appKey");if(!e)throw new Error("初始化之前必须设置 appKey");var t=aladin.getAladin();this.ws=new WS3("upload",{wsServerPool:t,UA:Config.get("ua"),APP_KEY:e,isAssistant:!0}),this.state="DISCONNECTED",this.uploadTaskCount=0}var WS3=require("../io/ws3"),Config=require("../config/config"),LocalLog=Config.get("log"),aladin=require("../aladin/aladin"),FileTypes=require("@ali/ding-filetypes"),FRAG_FILE_SIZE=102e3,MAX_ERR_NUM=5;Upload.prototype.upload=function(e,t,i){var o=this;i=i||{},e instanceof Blob||LocalLog.error("upload error,because file must be instanceof Blob ");var t=t||function(){},r=FileTypes.getIdByType(FileTypes.getTypeByName(e.name)),n=i.isPrivate||!1;return this.ws.connectIfHasClosed(),this.setState("UPLOADING"),LocalLog.info("start uploading"),this.uploadTaskCount++,Promise.resolve().then(function(){return o.pre({fileType:r,isPrivate:n})}).then(function(i){var s=i.headers["up-resp"].split("&")[0],a=i.headers.uip;return o.frag(e,{resp:s,uip:a,fileType:r,isPrivate:n},t)}).catch(function(e){return o.uploadTaskCount--,0===o.uploadTaskCount&&o.setState("IDLE"),LocalLog.error("upload error",JSON.stringify(e),e),Promise.reject(e)})},Upload.prototype.blobToBase64=function(e,t){var i=new FileReader;i.onload=function(){var e=i.result,o=e.split(",")[1];t(o)},i.readAsDataURL(e)},Upload.prototype.setState=function(e){var t=this;t.state=e,"IDLE"===e?t.closeTimeout=setTimeout(function(){"IDLE"===t.state&&(this.setState("DISCONNECTED"),t.ws.disconnect())}.bind(this),3e4):clearTimeout(t.closeTimeout)},Upload.prototype.pre=function(e){var t=this,i=e.isPrivate?"hd&ori&pri":"hd&mi&ori",o={};return o.dt="j",o["up-req"]="-1;-1;"+e.fileType+";flag="+i+";",o["net-type"]="wifi",Promise.resolve().then(function(){return t.ws.sendMsg("/up/pre",o,null).result})},Upload.prototype.frag=function(e,t,i){var o=this,r=0,n=0,s=function(a){return Promise.resolve().then(function(){return new Promise(function(t,i){var r=a*FRAG_FILE_SIZE;n=Math.min(e.size,r+FRAG_FILE_SIZE);var s=e.slice(r,n);o.blobToBase64(s,function(e){t(e)})})}).then(function(i){var r=t.isPrivate?"hd&ori&pri":"hd&mi&ori",s="frag",u={};return u.dt="b",u["up-req"]=t.resp+";"+a+";"+t.fileType+";flag="+r+";",u["net-type"]="wifi",u.uip=t.uip,n===e.size&&(s="ci"),o.ws.sendMsg("/up/"+s,u,i).result}).then(function(t){return i(n/e.size),r=0,n===e.size?(o.uploadTaskCount--,0===o.uploadTaskCount&&o.setState("IDLE"),Promise.resolve(t.body)):(a++,s(a))}).catch(function(e){return r++,r<=MAX_ERR_NUM?s(a):Promise.reject(e)})};return s(0)},module.exports={isInit:!1,upload:function(e,t,i){return this.isInit||(this.uploadInstance=new Upload,this.isInit=!0),this.uploadInstance.upload(e,t,i)}};

},{"../aladin/aladin":781,"../config/config":787,"../io/ws3":832,"@ali/ding-filetypes":714}],875:[function(require,module,exports){
"use strict";var Sync=require("../sync/syncManager"),syncObjectType=require("../sync/syncObjectType"),alias=require("./aliasService"),initAliasSync=function(){Sync.register({objectType:syncObjectType.RELATION_ALIAS,onSyncMsg:function(e){return Promise.resolve().then(function(){return alias.saveAlias(e)})},onNeedPullData:function(){return alias.getAllFromServer()}})},init=function(){initAliasSync()};exports.init=init;

},{"../sync/syncManager":863,"../sync/syncObjectType":865,"./aliasService":876}],876:[function(require,module,exports){
"use strict";var Class=require("../class/class"),IDL=require("../idl/idl"),AliasI=IDL.interface.AliasI,EventEmitter=require("wolfy87-eventemitter"),Config=require("../config/config"),afterAuthInit=require("../init/afterAuthInit"),aliasDbEntryService=require("../dbEntry/aliasDbEntryService"),ALIAS_UPDATE_TYPE={TEXT:1,AUDIO:16,EXTENSION:256},Alias=Class.create({initialize:function(){this.aliasMap={},this.updateEventNamePrefix="aliasUpdate",this.localLog=Config.get("log"),this.afterAuthInit()},Implements:EventEmitter,EventsName:{DESTROY:"destroy"},_clearCache:function(){this.aliasMap={}},getAll:function(){return this.aliasMap},saveAlias:function(i){return this.aliasDbEntry?this.aliasDbEntry.update(i).then(function(){this.aliasMap[i.openId]=i}.bind(this)):this.aliasMap[i.openId]=i,this.emit(this.updateEventNamePrefix+i.openId,i),!0},getAliasByOpenId:function(i){return this.aliasMap[i]?Promise.resolve(this.aliasMap[i]):Promise.reject("not in aliasMap")},afterAuthInit:function(){afterAuthInit.register("aliasService",function(){var i=aliasDbEntryService.getAliasEntry(),t=[];i&&(this.aliasDbEntry=new i,this.aliasDbEntry.queryAll().then(function(i){i.forEach(function(i){t.push(i.openId),this.aliasMap[i.openId]=i,this.emit(this.updateEventNamePrefix+i.openId,i)}.bind(this)),this.localLog.info("alias mapping ids",t)}.bind(this)).catch(function(i){this.localLog.error("init alias mapping error",i)}.bind(this)))}.bind(this))},updateAlias:function(i,t){return AliasI.updateData(ALIAS_UPDATE_TYPE.TEXT,{openId:i,alias:t}).result.then(function(i){this.saveAlias(i.body)}.bind(this))},getAllFromServer:function(){var i=Promise.resolve();return this.aliasDbEntry&&(i=this.aliasDbEntry.rebuild()),AliasI.queryAll().result.then(function(t){return i.then(function(){return Array.isArray(t.body)&&t.body.forEach(function(i){this.saveAlias(i)}.bind(this)),!0}.bind(this))}.bind(this)).catch(function(i){throw this.localLog.error("get alias from server error",i),i}.bind(this))},destroy:function(){this._clearCache(),this.emit(this.EventsName.DESTROY)}});module.exports=new Alias;

},{"../class/class":783,"../config/config":787,"../dbEntry/aliasDbEntryService":808,"../idl/idl":824,"../init/afterAuthInit":825,"wolfy87-eventemitter":944}],877:[function(require,module,exports){
"use strict";var Config=require("../config/config"),localLog=Config.get("log"),IDL=require("../idl/idl"),IDLConversation=IDL.interface.IDLConversation,DELAY_TIME=100,WaitGroupNick=function(e,r){this.cid=e,this.uid=r,this.result=new Promise(function(e,r){this.resolve=e,this.reject=r}.bind(this))},addToWait=function(e,r){var i=[e,r].join(":");return waitCache[i]?waitCache[i]:(waitCache[i]=new WaitGroupNick(e,r),waitCache[i])},consumeTimer=null,waitCache={},doRequest=function(e,r){return IDLConversation.listRoles(e,r).result},prepareConsume=function(){consumeTimer||(consumeTimer=setTimeout(function(){consumeTimer=null;var e=waitCache;waitCache={};var r={},i=[];Object.keys(e).forEach(function(e){var i=e.split(":"),o=i[0],t=parseInt(i[1]);r[o]?r[o].indexOf(t)===-1&&r[o].push(t):r[o]=[t]}),Object.keys(r).forEach(function(e){var o=r[e];i.push(doRequest(e,o).then(function(r){return r.cid=e,Promise.resolve(r)}).catch(function(e){return localLog.error("listRoles error",e),{}}))}),Promise.all(i).then(function(r){var i={};Array.isArray(r)&&r.forEach(function(e){e.body&&e.cid&&e.body.forEach(function(r){var o=r.openIdEx.openId,t=[e.cid,o].join(":");i[t]=r})}),Object.keys(e).forEach(function(r){var o=e[r];i[r]?o.resolve(i[r]):o.reject(new Error("get group nick error"))})})},DELAY_TIME))},getGroupNick=function(e,r){return e&&r?(prepareConsume(),addToWait(e,r).result):Promise.reject(new Error("cid 或 uid 不能为空"))};exports.getGroupNick=getGroupNick;

},{"../config/config":787,"../idl/idl":824}],878:[function(require,module,exports){
"use strict";var Sync=require("../sync/syncManager"),syncObjectType=require("../sync/syncObjectType"),follow=require("./followService"),initFollowSync=function(){Sync.register({objectType:syncObjectType.RELATION_FOLLOW,onSyncMsg:function(e){return Promise.resolve().then(function(){return follow.saveFollow(e)})},onNeedPullData:function(){return follow.getAllFromServer()}})},init=function(){initFollowSync()};exports.init=init;

},{"../sync/syncManager":863,"../sync/syncObjectType":865,"./followService":879}],879:[function(require,module,exports){
"use strict";var Class=require("../class/class"),IDL=require("../idl/idl"),FollowI=IDL.interface.FollowI,EventEmitter=require("wolfy87-eventemitter"),Config=require("../config/config"),afterAuthInit=require("../init/afterAuthInit"),followDbEntryService=require("../dbEntry/followDbEntryService"),FOLLOW_STATUS={FOLLOWING:0,FOLLOWER:1,FOLLOW_EACH_OTHER:2,REMOVE:-1},DEFAULT_TAG=0,Follow=Class.create({initialize:function(){this.followMap={},this.updateEventNamePrefix="followUpdate",this.localLog=Config.get("log"),this.afterAuthInit(),this.FOLLOW_STATUS=FOLLOW_STATUS},Implements:EventEmitter,EventsName:{FOLLOW_LIST_UPDATE:"follow_list_update",DESTROY:"destroy"},_clearCache:function(){this.followMap={}},afterAuthInit:function(){afterAuthInit.register("followService",function(){var t=followDbEntryService.getFollowEntry(),o=[];t&&(this.followDbEntry=new t,this.followDbEntry.queryAll().then(function(t){t.forEach(function(t){o.push(t.openId),this.followMap[t.openId]=t,this.emit(this.updateEventNamePrefix+t.openId,t)}.bind(this)),this.emit(this.EventsName.FOLLOW_LIST_UPDATE),this.localLog.info("follow mapping ids",o)}.bind(this)).catch(function(t){this.localLog.error("init follow mapping error",t)}.bind(this)))}.bind(this))},saveFollow:function(t){return this.followDbEntry?this.followDbEntry.update(t).then(function(){this.followMap[t.openId]=t}.bind(this)):this.followMap[t.openId]=t,this.emit(this.updateEventNamePrefix+t.openId,t),this.emit(this.EventsName.FOLLOW_LIST_UPDATE),!0},getFollowRelationByOpenId:function(t){return this.followMap[t]?this.followMap[t]:null},getAllFromLocal:function(){return Promise.resolve(Object.keys(this.followMap).map(function(t){return this.followMap[t]}.bind(this)))},getAllFromServer:function(){var t=Promise.resolve();return this.followDbEntry&&(t=this.followDbEntry.rebuild()),FollowI.listAll(DEFAULT_TAG,0,1e3).result.then(function(o){return t.then(function(){return o.body&&Array.isArray(o.body.models)&&o.body.models.forEach(function(t){this.saveFollow(t)}.bind(this)),!0}.bind(this))}.bind(this)).catch(function(t){throw this.localLog.error("get follow relation from server error",t),t}.bind(this))},follow:function(t){return FollowI.follow(DEFAULT_TAG,t).result.then(function(t){this.saveFollow(t.body)}.bind(this))},unFollow:function(t){return FollowI.unfollow(DEFAULT_TAG,t).result.then(function(t){this.saveFollow(t.body)}.bind(this))},destroy:function(){this._clearCache(),this.emit(this.EventsName.DESTROY)}});module.exports=new Follow;

},{"../class/class":783,"../config/config":787,"../dbEntry/followDbEntryService":813,"../idl/idl":824,"../init/afterAuthInit":825,"wolfy87-eventemitter":944}],880:[function(require,module,exports){
"use strict";var Sync=require("../sync/syncManager"),syncObjectType=require("../sync/syncObjectType"),groupNickService=require("./groupNickService"),Config=require("../config/config"),LocalLog=Config.get("log"),initGroupNickSync=function(){Sync.register({objectType:syncObjectType.GROUP_NICK_CHANGE,onSyncMsg:function(c){return LocalLog.info("groupNickInit","receive group nick change",JSON.stringify(c)),groupNickService.receiveChange(c).catch(function(c){LocalLog.error("groupNickInit","receive group nick change err",c)})}})},init=function(){initGroupNickSync()};exports.init=init;

},{"../config/config":787,"../sync/syncManager":863,"../sync/syncObjectType":865,"./groupNickService":881}],881:[function(require,module,exports){
"use strict";var Class=require("../class/class"),EventEmitter=require("wolfy87-eventemitter"),Config=require("../config/config"),afterAuthInit=require("../init/afterAuthInit"),GroupNickDbEntryService=require("../dbEntry/groupNickDbEntryService"),cache=require("../cache/cache"),batchGetGroupNickFromServer=require("./batchGetGroupNickFromServer"),Config=require("../config/config"),localLog=Config.get("log"),pinyin=require("@ali/pinyin-es5-browser"),DELAY_TIME=300,WaitGroupNick=function(i,e){this.cid=i,this.uid=e,this.result=new Promise(function(i,e){this.resolve=i,this.reject=e}.bind(this))},GroupNickService=Class.create({initialize:function(){this.groupNickCache=new cache.ExpireCache(6e5),this.afterAuthInit(),this._consumeTimer=null,this._groupNickDb={index:[],entity:{}},this.waitCache={},this._getGroupNickFromDbPromise={}},Implements:EventEmitter,EventsName:{UPDATE_BY_UID:"updateByUid",UPDATE_BY_CID:"updateByCid"},_buildCacheKey:function(i,e){return[i,e].join("_")},afterAuthInit:function(){afterAuthInit.register("GroupNickService",function(){var i=GroupNickDbEntryService.getGroupNickEntry();i&&(this.groupNickEntry=new i)}.bind(this))},getGroupNickModel:function(i){var i=i||{};return{cid:i.cid,uid:parseInt(i.uid),tag:i.tag,groupNick:i.groupNick,groupNickPinYin:i.groupNickPinYin}},getData:function(i,e){var t=this._buildCacheKey(i,e);return this.groupNickCache.getCache(t)},setData:function(i,e,t){var t=t||{};if(t.cid&&t.uid){var r=!1,n=this._buildCacheKey(i,e),o=this.getData(i,e),c=this.getGroupNickModel(t);o?Object.keys(c).forEach(function(i){o[i]!==c[i]&&(r=!0)}):r=!0,r&&(this.groupNickCache.addCache(n,c),this.emit(this.EventsName.UPDATE_BY_UID+e,c),this.emit(this.EventsName.UPDATE_BY_CID+i,c))}},_prepareConsume:function(){this._consumeTimer||(this._consumeTimer=setTimeout(function(){this._consumeTimer=null;var i=this.waitCache;this.waitCache={};var e={},t=[];Object.keys(i).forEach(function(i){var t=i.split(":"),r=t[0],n=parseInt(t[1]);e[r]?e[r].indexOf(n)===-1&&e[r].push(n):e[r]=[n]}),Object.keys(e).forEach(function(i){t.push(this.getGroupNickObjsByCid(i).then(function(i){return Promise.resolve(i)}).catch(function(i){return[]}))}.bind(this)),Promise.all(t).then(function(e){var t={};Array.isArray(e)&&e.forEach(function(i){i.forEach(function(i){var e=[i.cid,i.uid].join(":");t[e]=i})}),Object.keys(i).forEach(function(e){var r=i[e];r.resolve(t[e])})})}.bind(this),DELAY_TIME))},_addToWait:function(i,e){var t=[i,e].join(":");return this.waitCache[t]?this.waitCache[t]:(this.waitCache[t]=new WaitGroupNick(i,e),this.waitCache[t])},getGroupNickObj:function(i,e,t){var t=t||{},r=this.getData(i,e);if(r&&!t.isBatch)return r.groupNick?Promise.resolve(r):Promise.resolve(null);if(t.isBatch)var n=this.batchGetGroupNickObj(i,e);else var n=this.getGroupNickFromDb(i,e);return n.then(function(r){return!t.disableCache&&this.setData(i,e,r),r.groupNick?Promise.resolve(r):Promise.resolve(null)}.bind(this)).catch(function(i){return Promise.resolve(null)})},batchGetGroupNickObj:function(i,e){return this._prepareConsume(),this._addToWait(i,e).result},receiveChange:function(i){var e=this,t=i.conversationId,r=i.openId,n=_.get(i,"groupNickModel.tag")||0,o=this.getData(t,r);return o?n>o.tag?e.handleGroupNickChange(i):Promise.resolve():this.getGroupNickFromDb(t,r).then(function(o){return n>o.tag?e.handleGroupNickChange(i):(e.setData(t,r,o),Promise.resolve())}).catch(function(o){if(0!==n)return e.handleGroupNickChange(i);var c={cid:t,uid:r,tag:0,groupNick:""};return e.setData(t,r,c),Promise.resolve()})},handleGroupNickChange:function(i){var e=this,t=i.conversationId,r=i.openId,n=_.get(i,"groupNickModel.tag")||0,o=_.get(i,"groupNickModel.groupNick"),c={cid:t,uid:r,tag:n,groupNick:o,groupNickPinYin:pinyin(o,{style:pinyin.STYLE_NORMAL}).map(function(i){return i[0]}).join("")};return o?this.saveGroupNick(c).then(function(){return e.setData(t,r,c),Promise.resolve()}.bind(this)):this.fetchAndUpdate(t,r)},fetchAndUpdate:function(i,e){var t=this;return batchGetGroupNickFromServer.getGroupNick(i,e).then(function(r){var n=_.get(r,"groupNickModel.groupNick")||"",o={cid:i,uid:e,tag:_.get(r,"groupNickModel.tag"),groupNick:n,groupNickPinYin:pinyin(n,{style:pinyin.STYLE_NORMAL}).map(function(i){return i[0]}).join("")};return t.saveGroupNick(o).then(function(){return t.setData(i,e,o),Promise.resolve()})})},getGroupNickFromDb:function(i,e){if(this.groupNickEntry){var t=this._buildCacheKey(i,e);return this._getGroupNickFromDbPromise[t]||(this._getGroupNickFromDbPromise[t]=this.groupNickEntry.getGroupNick(i,e),this._getGroupNickFromDbPromise[t]=this._getGroupNickFromDbPromise[t].then(function(i){return this._getGroupNickFromDbPromise[t]=null,Promise.resolve(i)}.bind(this)).catch(function(i){return this._getGroupNickFromDbPromise[t]=null,Promise.reject(i)}.bind(this))),this._getGroupNickFromDbPromise[t]}return Promise.resolve()},saveGroupNick:function(i){var e=i.cid,t=i.uid;if(!e||!t)return Promise.reject(new Error("cid or uid is null"));if(this.groupNickEntry)return this.groupNickEntry.saveGroupNick(i);var r=[e,t].join(":");return this._groupNickDb.entity[r]?this._groupNickDb.entity[r]=this.getGroupNickModel(i):(this._groupNickDb.entity[r]=this.getGroupNickModel(i),this._groupNickDb.index.push(r)),Promise.resolve()},getGroupNickObjsByCid:function(i){if(!i)return Promise.reject(new Error("cid is null"));if(this.groupNickEntry)return this.groupNickEntry.listGroupNicksByCid(i);var e=this._groupNickDb.index.filter(function(e){return i===e.split(":")[0]}),t=e.map(function(i){return this._groupNickDb.entity[i]}.bind(this));return Promise.resolve(t)},getGroupNick:function(i,e){if(this.groupNickEntry)return this.groupNickEntry.getGroupNick(i,e);var t=[i,e].join(":");return this._groupNickDb.entity[t]=this.getGroupNickModel(groupNickModel),Promise.resolve(this._groupNickDb.entity[t])}});module.exports=new GroupNickService;

},{"../cache/cache":782,"../class/class":783,"../config/config":787,"../dbEntry/groupNickDbEntryService":815,"../init/afterAuthInit":825,"./batchGetGroupNickFromServer":877,"@ali/pinyin-es5-browser":733,"wolfy87-eventemitter":944}],882:[function(require,module,exports){
module.exports="{{version}}";

},{}],883:[function(require,module,exports){
!function(e,t){"use strict";function n(){function n(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?l(i[n]):i[n]]=!0;return r}function r(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),v.innerHTML=t;var r=5;do{if(0===r)throw h("uinput","Failed to sanitize html because the input is unstable");r--,e.document.documentMode&&g(v),t=v.innerHTML,v.innerHTML=t}while(t!==v.innerHTML);for(var i=v.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),p(i.attributes));break;case 3:n.chars(i.textContent)}var a;if(!(a=i.firstChild)&&(1==i.nodeType&&n.end(i.nodeName.toLowerCase()),a=i.nextSibling,!a))for(;null==a&&(i=i.parentNode,i!==v);)a=i.nextSibling,1==i.nodeType&&n.end(i.nodeName.toLowerCase());i=a}for(;i=v.firstChild;)v.removeChild(i)}function p(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function f(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(k,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=l(e),!n&&D[e]&&(n=e),n||$[e]!==!0||(r("<"),r(e),o(i,function(n,i){var a=l(i),o="img"===e&&"src"===a||"background"===a;M[a]!==!0||N[a]===!0&&!t(n,o)||(r(" "),r(i),r('="'),r(f(n)),r('"'))}),r(">"))},end:function(e){e=l(e),n||$[e]!==!0||x[e]===!0||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(f(e))}}}function g(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var a=n[r],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),r--,i--)}var s=t.firstChild;s&&g(s),s=t.nextSibling,s&&g(s)}var b=!1;this.$get=["$$sanitizeUri",function(e){return b&&a($,T),function(t){var n=[];return u(t,d(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(b=e,this):b},i=t.bind,a=t.extend,o=t.forEach,s=t.isDefined,l=t.lowercase,c=t.noop,u=r,d=m;var v,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k=/([^\#-~ |!])/g,x=n("area,br,col,hr,img,wbr"),w=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=n("rp,rt"),E=a({},C,w),z=a({},w,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),L=a({},C,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),D=n("script,style"),$=a({},x,z,L,E),N=n("background,cite,href,longdesc,src,xlink:href"),S=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),F=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),M=a({},N,F,S);!function(e){var t;if(!e.document||!e.document.implementation)throw h("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)v=r[0];else{var i=t.createElement("html");v=t.createElement("body"),i.appendChild(v),t.appendChild(i)}}(e)}function r(e){var t=[],n=d(t,c);return n.chars(e),t.join("")}var i,a,o,s,l,c,u,d,h=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,a=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,d){function h(e){e&&y.push(r(e))}function p(e,t){var n,r=b(e);y.push("<a ");for(n in r)y.push(n+'="'+r[n]+'" ');!o(u)||"target"in r||y.push('target="',u,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),h(t),y.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw a("notstring","Expected string but received: {0}",t);for(var f,m,g,b=s(d)?d:l(d)?function(){return d}:function(){return{}},v=t,y=[];f=v.match(n);)m=f[0],f[2]||f[4]||(m=(f[3]?"http://":"mailto:")+m),g=f.index,h(v.substr(0,g)),p(m,f[0].replace(i,"")),v=v.substring(g+f[0].length);return h(v),e(y.join(""))}}])}(window,window.angular);

},{}],884:[function(require,module,exports){
require("./angular-sanitize"),module.exports="ngSanitize";

},{"./angular-sanitize":883}],885:[function(require,module,exports){
!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),r=function(){var r=t.preferredLanguage();angular.isString(r)?t.use(r):n.put(e,t.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e)).catch(r):r():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n=null,r=!1,a=!1;e={sanitize:function(t,e){return"text"===e&&(t=s(t)),t},escape:function(t,e){return"text"===e&&(t=i(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=o(t,s)),t},escapeParameters:function(t,e){return"params"===e&&(t=o(t,i)),t}},e.escaped=e.escapeParameters,this.addStrategy=function(t,n){return e[t]=n,this},this.removeStrategy=function(t){return delete e[t],this},this.useStrategy=function(t){return r=!0,n=t,this},this.$get=["$injector","$log",function(i,s){var o={},u=function(t,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,n);else if(angular.isFunction(e[r]))t=e[r](t,n);else{if(!angular.isString(e[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!o[e[r]])try{o[e[r]]=i.get(e[r])}catch(t){throw o[e[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}t=o[e[r]](t,n)}}),t},l=function(){r||a||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),a=!0)};return i.has("$sanitize")&&(t=i.get("$sanitize")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,r){if(n||l(),arguments.length<3&&(r=n),!r)return t;var a=angular.isArray(r)?r:[r];return u(t,e,a)}}}];var i=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},s=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},o=function(t,e,n){if(angular.isObject(t)){var r=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,a){angular.isFunction(t)||(r[a]=o(t,e,n))}),n.splice(-1,1),r}return angular.isNumber(t)?t:e(t)}}function n(t,e,n,r){"use strict";var a,i,s,o,u,l,c,f,g,p,h,d,v,m,y,$,b={},L=[],S=t,j=[],w="translate-cloak",N=!1,C=!1,O=".",P=!1,k=!1,E=0,x=!0,F="default",T={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n[0].toLowerCase()}},z="2.11.1",A=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var t,n,a=e.$get().navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(a.languages))for(t=0;t<a.languages.length;t++)if(n=a.languages[t],n&&n.length)return n;for(t=0;t<i.length;t++)if(n=a[i[t]],n&&n.length)return n;return null};A.displayName="angular-translate/service: getFirstBrowserLanguage";var I=function(){var t=A()||"";return T[F]&&(t=T[F](t)),t};I.displayName="angular-translate/service: getLocale";var R=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},_=function(){return this.toString().replace(/^\s+|\s+$/g,"")},K=function(t){if(t){for(var e=[],n=angular.lowercase(t),r=0,a=L.length;r<a;r++)e.push(angular.lowercase(L[r]));if(R(e,n)>-1)return t;if(i){var s;for(var o in i)if(i.hasOwnProperty(o)){var u=!1,l=Object.prototype.hasOwnProperty.call(i,o)&&angular.lowercase(o)===angular.lowercase(t);if("*"===o.slice(-1)&&(u=o.slice(0,-1)===t.slice(0,o.length-1)),(l||u)&&(s=i[o],R(e,angular.lowercase(s))>-1))return s}}var c=t.split("_");return c.length>1&&R(e,angular.lowercase(c[0]))>-1?c[0]:void 0}},D=function(t,e){if(!t&&!e)return b;if(t&&!e){if(angular.isString(t))return b[t]}else angular.isObject(b[t])||(b[t]={}),angular.extend(b[t],V(e));return this};this.translations=D,this.cloakClassName=function(t){return t?(w=t,this):w},this.nestedObjectDelimeter=function(t){return t?(O=t,this):O};var V=function(t,e,n,r){var a,i,s,o;e||(e=[]),n||(n={});for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(o=t[a],angular.isObject(o)?V(o,e.concat(a),n,a):(i=e.length?""+e.join(O)+O+a:a,e.length&&a===r&&(s=""+e.join(O),n[s]="@:"+i),n[i]=o));return n};V.displayName="flatObject",this.addInterpolation=function(t){return j.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return p=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(M(t),this):a};var M=function(t){return t&&(a=t),a};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(v=t,this):v},this.translationNotFoundIndicatorRight=function(t){return t?(m=t,this):m},this.fallbackLanguage=function(t){return U(t),this};var U=function(t){return t?(angular.isString(t)?(o=!0,s=[t]):angular.isArray(t)&&(o=!1,s=t),angular.isString(a)&&R(s,a)<0&&s.push(a),this):o?s[0]:s};this.use=function(t){if(t){if(!b[t]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return u=t,this}return u},this.resolveClientLocale=function(){return I()};var H=function(t){return t?(S=t,this):f?f+S:S};this.storageKey=H,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return h=t,d=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(f=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return g=t,this},this.usePostCompiling=function(t){return N=!!t,this},this.forceAsyncReload=function(t){return C=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},F=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():I();return a=L.length?K(e)||e:e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(L=t,e&&(i=e),this):L},this.useLoaderCache=function(t){return t===!1?y=void 0:t===!0?y=!0:"undefined"==typeof t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?E:(E=t,this)},this.statefulFilter=function(t){return void 0===t?x:(x=t,this)},this.postProcess=function(t){return $=t?t:void 0,this},this.keepContent=function(t){return k=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,r){var i,f,F,T=e.get(p||"$translateDefaultInterpolation"),A=!1,q={},G={},Y=function(t,e,n,o,l){!u&&a&&(u=a);var g=l&&l!==u?K(l)||l:u;if(l&&ct(l),angular.isArray(t)){var p=function(t){for(var a={},i=[],s=function(t){var i=r.defer(),s=function(e){a[t]=e,i.resolve([t,e])};return Y(t,e,n,o,l).then(s,s),i.promise},u=0,c=t.length;u<c;u++)i.push(s(t[u]));return r.all(i).then(function(){return a})};return p(t)}var h=r.defer();t&&(t=_.apply(t));var d=function(){var t=a?G[a]:G[g];if(f=0,c&&!t){var e=i.get(S);if(t=G[e],s&&s.length){var n=R(s,e);f=0===n?1:0,R(s,a)<0&&s.push(a)}}return t}();if(d){var v=function(){l||(g=u),st(t,e,n,o,g).then(h.resolve,h.reject)};v.displayName="promiseResolved",d.finally(v)}else st(t,e,n,o,g).then(h.resolve,h.reject);return h.promise},B=function(t){return v&&(t=[v,t].join(" ")),m&&(t=[t,m].join(" ")),t},J=function(t){u=t,c&&i.put(Y.storageKey(),u),n.$emit("$translateChangeSuccess",{language:t}),T.setLocale(u);var e=function(t,e){q[e].setLocale(u)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(q,e),n.$emit("$translateChangeEnd",{language:t})},Q=function(t){if(!t)throw"No language key specified for loading.";var a=r.defer();n.$emit("$translateLoadingStart",{language:t}),A=!0;var i=y;"string"==typeof i&&(i=e.get(i));var s=angular.extend({},d,{key:t,$http:angular.extend({},{cache:i},d.$http)}),o=function(e){var r={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(r,V(t))}):angular.extend(r,V(e)),A=!1,a.resolve({key:t,table:r}),n.$emit("$translateLoadingEnd",{language:t})};o.displayName="onLoaderSuccess";var u=function(t){n.$emit("$translateLoadingError",{language:t}),a.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return u.displayName="onLoaderError",e.get(h)(s).then(o,u),a.promise};if(c&&(i=e.get(c),!i.get||!i.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(j.length){var W=function(t){var n=e.get(t);n.setLocale(a||u),q[n.getInterpolationIdentifier()]=n};W.displayName="interpolationFactoryAdder",angular.forEach(j,W)}var X=function(t){var e=r.defer();if(Object.prototype.hasOwnProperty.call(b,t))e.resolve(b[t]);else if(G[t]){var n=function(t){D(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",G[t].then(n,e.reject)}else e.reject();return e.promise},Z=function(t,e,n,a){var i=r.defer(),s=function(r){if(Object.prototype.hasOwnProperty.call(r,e)){a.setLocale(t);var s=r[e];if("@:"===s.substr(0,2))Z(t,s.substr(2),n,a).then(i.resolve,i.reject);else{var o=a.interpolate(r[e],n);o=lt(e,r[e],o,n,t),i.resolve(o)}a.setLocale(u)}else i.reject()};return s.displayName="fallbackTranslationResolver",X(t).then(s,i.reject),i.promise},tt=function(t,e,n,r){var a,i=b[t];if(i&&Object.prototype.hasOwnProperty.call(i,e)){if(r.setLocale(t),a=r.interpolate(i[e],n),a=lt(e,i[e],a,n,t),"@:"===a.substr(0,2))return tt(t,a.substr(2),n,r);r.setLocale(u)}return a},et=function(t,n,r){if(g){var a=e.get(g)(t,u,n,r);return void 0!==a?a:t}return t},nt=function(t,e,n,a,i){var o=r.defer();if(t<s.length){var u=s[t];Z(u,e,n,a).then(function(t){o.resolve(t)},function(){return nt(t+1,e,n,a,i).then(o.resolve,o.reject)})}else i?o.resolve(i):g?o.resolve(et(e,n)):o.reject(et(e,n));return o.promise},rt=function(t,e,n,r){var a;if(t<s.length){var i=s[t];a=tt(i,e,n,r),a||(a=rt(t+1,e,n,r))}return a},at=function(t,e,n,r){return nt(F>0?F:f,t,e,n,r)},it=function(t,e,n){return rt(F>0?F:f,t,e,n)},st=function(t,e,n,a,i){var o=r.defer(),u=i?b[i]:b,l=n?q[n]:T;if(u&&Object.prototype.hasOwnProperty.call(u,t)){var c=u[t];if("@:"===c.substr(0,2))Y(c.substr(2),e,n,a,i).then(o.resolve,o.reject);else{var f=l.interpolate(c,e);f=lt(t,c,f,e,i),o.resolve(f)}}else{var p;g&&!A&&(p=et(t,e,a)),i&&s&&s.length?at(t,e,l,a).then(function(t){o.resolve(t)},function(t){o.reject(B(t))}):g&&!A&&p?a?o.resolve(a):o.resolve(p):a?o.resolve(a):o.reject(B(t))}return o.promise},ot=function(t,e,n,r){var a,i=r?b[r]:b,o=T;if(q&&Object.prototype.hasOwnProperty.call(q,n)&&(o=q[n]),i&&Object.prototype.hasOwnProperty.call(i,t)){var u=i[t];"@:"===u.substr(0,2)?a=ot(u.substr(2),e,n,r):(a=o.interpolate(u,e),a=lt(t,u,a,e,r))}else{var l;g&&!A&&(l=et(t,e)),r&&s&&s.length?(f=0,a=it(t,e,o)):a=g&&!A&&l?l:B(t)}return a},ut=function(t){l===t&&(l=void 0),G[t]=void 0},lt=function(t,n,r,a,i){var s=$;return s&&("string"==typeof s&&(s=e.get(s)),s)?s(t,n,r,a,i):r},ct=function(t){b[t]||!h||G[t]||(G[t]=Q(t).then(function(t){return D(t.key,t.table),t}))};Y.preferredLanguage=function(t){return t&&M(t),a},Y.cloakClassName=function(){return w},Y.nestedObjectDelimeter=function(){return O},Y.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(U(t),h&&s&&s.length)for(var e=0,n=s.length;e<n;e++)G[s[e]]||(G[s[e]]=Q(s[e]));Y.use(Y.use())}return o?s[0]:s},Y.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=R(s,t);e>-1&&(F=e)}else F=0},Y.proposedLanguage=function(){return l},Y.storage=function(){return i},Y.negotiateLocale=K,Y.use=function(t){if(!t)return u;var e=r.defer();n.$emit("$translateChangeStart",{language:t});var a=K(t);return L.length>0&&!a?r.reject(t):(a&&(t=a),l=t,!C&&b[t]||!h||G[t]?G[t]?G[t].then(function(t){return l===t.key&&J(t.key),e.resolve(t.key),t},function(t){return!u&&s&&s.length>0?Y.use(s[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),J(t)):(G[t]=Q(t).then(function(n){return D(n.key,n.table),e.resolve(n.key),l===t&&J(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),r.reject(t)}),G[t].finally(function(){ut(t)})),e.promise)},Y.resolveClientLocale=function(){return I()},Y.storageKey=function(){return H()},Y.isPostCompilingEnabled=function(){return N},Y.isForceAsyncReloadEnabled=function(){return C},Y.isKeepContent=function(){return k},Y.refresh=function(t){function e(){i.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function a(){i.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");var i=r.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if(b[t]){var o=function(n){return D(n.key,n.table),t===u&&J(u),e(),n};o.displayName="refreshPostProcessor",Q(t).then(o,a)}else a();else{var l=[],c={};if(s&&s.length)for(var f=0,g=s.length;f<g;f++)l.push(Q(s[f])),c[s[f]]=!0;u&&!c[u]&&l.push(Q(u));var p=function(t){b={},angular.forEach(t,function(t){D(t.key,t.table)}),u&&J(u),e()};p.displayName="refreshPostProcessor",r.all(l).then(p,a)}return i.promise},Y.instant=function(t,e,n,r){var i=r&&r!==u?K(r)||r:u;if(null===t||angular.isUndefined(t))return t;if(r&&ct(r),angular.isArray(t)){for(var o={},l=0,c=t.length;l<c;l++)o[t[l]]=Y.instant(t[l],e,n,r);return o}if(angular.isString(t)&&t.length<1)return t;t&&(t=_.apply(t));var f,p=[];a&&p.push(a),i&&p.push(i),s&&s.length&&(p=p.concat(s));for(var h=0,d=p.length;h<d;h++){var y=p[h];if(b[y]&&"undefined"!=typeof b[y][t]&&(f=ot(t,e,n,i)),"undefined"!=typeof f)break}return f||""===f||(v||m?f=B(t):(f=T.interpolate(t,e),g&&!A&&(f=et(t,e)))),f},Y.versionInfo=function(){return z},Y.loaderCache=function(){return y},Y.directivePriority=function(){return E},Y.statefulFilter=function(){return x},Y.isReady=function(){return P};var ft=r.defer();ft.promise.then(function(){P=!0}),Y.onReady=function(t){var e=r.defer();return angular.isFunction(t)&&e.promise.then(t),P?e.resolve():ft.promise.then(e.resolve),e.promise},Y.getAvailableLanguageKeys=function(){return L.length>0?L:null};var gt=n.$on("$translateReady",function(){ft.resolve(),gt(),gt=null}),pt=n.$on("$translateChangeEnd",function(){ft.resolve(),pt(),pt=null});if(h){if(angular.equals(b,{})&&Y.use()&&Y.use(Y.use()),s&&s.length)for(var ht=function(t){return D(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},dt=0,vt=s.length;dt<vt;dt++){var mt=s[dt];!C&&b[mt]||(G[mt]=Q(mt).then(ht))}}else n.$emit("$translateReady",{language:Y.use()});return Y}]}function r(t,e){"use strict";var n,r={},a="default";return r.setLocale=function(t){n=t},r.getInterpolationIdentifier=function(){return a},r.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},r.interpolate=function(n,r){r=r||{},r=e.sanitize(r,"params");var a;return angular.isNumber(n)?a=""+n:angular.isString(n)?(a=t(n)(r),a=e.sanitize(a,"text")):a="",a},r}function a(t,e,n,r,a,s){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(e,u){var l=u.translateValues?u.translateValues:void 0,c=u.translateInterpolation?u.translateInterpolation:void 0,f=e[0].outerHTML.match(/translate-value-+/i),g="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",p="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(e,h,d){e.interpolateParams={},e.preText="",e.postText="",e.translateNamespace=i(e);var v={},m=function(t,n,r){if(n.translateValues&&angular.extend(t,a(n.translateValues)(e.$parent)),f)for(var i in r)if(Object.prototype.hasOwnProperty.call(n,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i){var s=angular.lowercase(i.substr(14,1))+i.substr(15);t[s]=r[i]}},y=function(t){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var r=o.apply(h.text()),a=r.match(g);if(angular.isArray(a)){e.preText=a[1],e.postText=a[3],v.translate=n(a[2])(e.$parent);var i=r.match(p);angular.isArray(i)&&i[2]&&i[2].length&&(y._unwatchOld=e.$watch(i[2],function(t){v.translate=t,w()}))}else v.translate=r?r:void 0}else v.translate=t;w()},$=function(t){d.$observe(t,function(e){v[t]=e,w()})};m(e.interpolateParams,d,u);var b=!0;d.$observe("translate",function(t){"undefined"==typeof t?y(""):""===t&&b||(v.translate=t,w()),b=!1});for(var L in d)d.hasOwnProperty(L)&&"translateAttr"===L.substr(0,13)&&$(L);if(d.$observe("translateDefault",function(t){e.defaultText=t,w()}),l&&d.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,a(t)(e.$parent))})}),f){var S=function(t){d.$observe(t,function(n){var r=angular.lowercase(t.substr(14,1))+t.substr(15);e.interpolateParams[r]=n})};for(var j in d)Object.prototype.hasOwnProperty.call(d,j)&&"translateValue"===j.substr(0,14)&&"translateValues"!==j&&S(j)}var w=function(){for(var t in v)v.hasOwnProperty(t)&&void 0!==v[t]&&N(t,v[t],e,e.interpolateParams,e.defaultText,e.translateNamespace)},N=function(e,n,r,a,i,s){n?(s&&"."===n.charAt(0)&&(n=s+n),t(n,a,c,i,r.translateLanguage).then(function(t){C(t,r,!0,e)},function(t){C(t,r,!1,e)})):C(n,r,!1,e)},C=function(e,n,a,i){if(a||"undefined"!=typeof n.defaultText&&(e=n.defaultText),"translate"===i){(a||!a&&!t.isKeepContent()&&"undefined"==typeof d.translateKeepContent)&&h.empty().append(n.preText+e+n.postText);var s=t.isPostCompilingEnabled(),o="undefined"!=typeof u.translateCompile,l=o&&"false"!==u.translateCompile;(s&&!o||l)&&r(h.contents())(n)}else{var c=d.$attr[i];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),h.attr(c,e)}};(l||f||d.translateDefault)&&e.$watch("interpolateParams",w,!0);var O=e.$on("translateLanguageChanged",w),P=s.$on("$translateChangeSuccess",w);h.text().length?y(d.translate?d.translate:""):d.translate&&y(d.translate),w(),e.$on("$destroy",function(){O(),P()})}}}}function i(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?i(t.$parent):void 0}function s(t,e){"use strict";return{compile:function(n){var r=function(){n.addClass(t.cloakClassName())},a=function(){n.removeClass(t.cloakClassName())};return t.onReady(function(){a()}),r(),function(n,i,s){s.translateCloak&&s.translateCloak.length&&(s.$observe("translateCloak",function(e){t(e).then(a,r)}),e.$on("$translateChangeSuccess",function(){t(s.translateCloak).then(a,r)}))}}}}function o(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=i(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function i(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?i(t.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function l(t,e){"use strict";var n=function(n,r,a,i){return angular.isObject(r)||(r=t(r)(this)),e.instant(n,r,a,i)};return e.statefulFilter()&&(n.$stateful=!0),n}function c(t){"use strict";return t("translations")}return t.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],r.$inject=["$interpolate","$translateSanitization"],a.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],s.$inject=["$translate","$rootScope"],l.$inject=["$parse","$translate"],c.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",a),a.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",s),s.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",o),o.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",l),l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.displayName="$translationCache","pascalprecht.translate"});

},{}],886:[function(require,module,exports){
angular.module("ui.router.stateHelper",["ui.router"]).provider("stateHelper",["$stateProvider",function(e){function t(e){e.parent&&(e.name=(angular.isObject(e.parent)?e.parent.name:e.parent)+"."+e.name)}function a(e){e.children.forEach(function(e,t,a){a[t+1]&&(e.nextSibling=a[t+1].name),a[t-1]&&(e.previousSibling=a[t-1].name)})}var n=this;this.state=function(r){var i=Array.prototype.slice.apply(arguments),l={keepOriginalNames:!1,siblingTraversal:!1};return"boolean"==typeof i[1]?l.keepOriginalNames=i[1]:"object"==typeof i[1]&&angular.extend(l,i[1]),l.keepOriginalNames||t(r),e.state(r),r.children&&r.children.length&&(r.children.forEach(function(e){e.parent=r,n.state(e,l)}),l.siblingTraversal&&a(r)),n},this.setNestedState=this.state,n.$get=angular.noop}]);

},{}],887:[function(require,module,exports){
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,r){"use strict";function n(e,t){return K(new(K(function(){},{prototype:e})),t)}function a(e){return J(arguments,function(t){t!==e&&J(t,function(t,r){e.hasOwnProperty(r)||(e[r]=t)})}),e}function i(e,t){var r=[];for(var n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}function o(e){if(Object.keys)return Object.keys(e);var t=[];return J(e,function(e,r){t.push(r)}),t}function u(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var r=e.length>>>0,n=Number(arguments[2])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=r);n<r;n++)if(n in e&&e[n]===t)return n;return-1}function s(e,t,r,n){var a,s=i(r,n),l={},c=[];for(var f in s)if(s[f]&&s[f].params&&(a=o(s[f].params),a.length))for(var p in a)u(c,a[p])>=0||(c.push(a[p]),l[a[p]]=e[a[p]]);return K({},l,t)}function l(e,t,r){if(!r){r=[];for(var n in e)r.push(n)}for(var a=0;a<r.length;a++){var i=r[a];if(e[i]!=t[i])return!1}return!0}function c(e,t){var r={};return J(e,function(e){r[e]=t[e]}),r}function f(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return J(r,function(r){r in e&&(t[r]=e[r])}),t}function p(e){var t={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var n in e)u(r,n)==-1&&(t[n]=e[n]);return t}function h(e,t){var r=L(e),n=r?[]:{};return J(e,function(e,a){t(e,a)&&(n[r?n.length:a]=e)}),n}function $(e,t){var r=L(e)?[]:{};return J(e,function(e,n){r[n]=t(e,n)}),r}function v(e){return e.then(r,function(){})&&e}function d(e,t){var n=1,i=2,s={},l=[],c=s,f=K(e.when(s),{$$promises:s,$$values:s});this.study=function(s){function h(e,r){if(g[r]!==i){if(m.push(r),g[r]===n)throw m.splice(0,u(m,r)),new Error("Cyclic dependency: "+m.join(" -> "));if(g[r]=n,T(e))d.push(r,[function(){return t.get(e)}],l);else{var a=t.annotate(e);J(a,function(e){e!==r&&s.hasOwnProperty(e)&&h(s[e],e)}),d.push(r,e,a)}m.pop(),g[r]=i}}function $(e){return z(e)&&e.then&&e.$$promises}if(!z(s))throw new Error("'invocables' must be an object");var v=o(s||{}),d=[],m=[],g={};return J(s,h),s=m=g=null,function(n,i,o){function u(){--w||(b||a(y,i.$$values),m.$$values=y,m.$$promises=m.$$promises||!0,delete m.$$inheritedValues,h.resolve(y))}function s(e){m.$$failure=e,h.reject(e)}function l(r,a,i){function l(e){f.reject(e),s(e)}function c(){if(!D(m.$$failure))try{f.resolve(t.invoke(a,o,y)),f.promise.then(function(e){y[r]=e,u()},l)}catch(e){l(e)}}var f=e.defer(),p=0;J(i,function(e){g.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(p++,g[e].then(function(t){y[e]=t,--p||c()},l))}),p||c(),g[r]=f.promise}if($(n)&&o===r&&(o=i,i=n,n=null),n){if(!z(n))throw new Error("'locals' must be an object")}else n=c;if(i){if(!$(i))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else i=f;var h=e.defer(),m=h.promise,g=m.$$promises={},y=K({},n),w=1+d.length/3,b=!1;if(D(i.$$failure))return s(i.$$failure),m;i.$$inheritedValues&&a(y,p(i.$$inheritedValues,v)),K(g,i.$$promises),i.$$values?(b=a(y,p(i.$$values,v)),m.$$inheritedValues=p(i.$$values,v),u()):(i.$$inheritedValues&&(m.$$inheritedValues=p(i.$$inheritedValues,v)),i.then(u,s));for(var S=0,E=d.length;S<E;S+=3)n.hasOwnProperty(d[S])?u():l(d[S],d[S+1],d[S+2]);return m}},this.resolve=function(e,t,r,n){return this.study(e)(t,r,n)}}function m(e,t,r){this.fromConfig=function(e,t,r){return D(e.template)?this.fromString(e.template,t):D(e.templateUrl)?this.fromUrl(e.templateUrl,t):D(e.templateProvider)?this.fromProvider(e.templateProvider,t,r):null},this.fromString=function(e,t){return U(e)?e(t):e},this.fromUrl=function(r,n){return U(r)&&(r=r(n)),null==r?null:e.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,n){return r.invoke(e,null,n||{params:t})}}function g(e,t,a){function i(t,r,n,a){if(d.push(t),$[t])return $[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(v[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return v[t]=new G.Param(t,r,n,a),v[t]}function o(e,t,r,n){var a=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(r){case!1:a=["(",")"+(n?"?":"")];break;case!0:i=i.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+r+"|",")?"]}return i+a[0]+t+a[1]}function u(a,i){var o,u,s,l,c;return o=a[2]||a[3],c=t.params[o],s=e.substring(p,a.index),u=i?a[4]:a[4]||("*"==a[1]?".*":null),u&&(l=G.type(u)||n(G.type("string"),{pattern:new RegExp(u,t.caseInsensitive?"i":r)})),{id:o,regexp:u,segment:s,type:l,cfg:c}}t=K({params:{}},z(t)?t:{});var s,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",p=0,h=this.segments=[],$=a?a.params:{},v=this.params=a?a.params.$$new():new G.ParamSet,d=[];this.source=e;for(var m,g,y;(s=l.exec(e))&&(m=u(s,!1),!(m.segment.indexOf("?")>=0));)g=i(m.id,m.type,m.cfg,"path"),f+=o(m.segment,g.type.pattern.source,g.squash,g.isOptional),h.push(m.segment),p=l.lastIndex;y=e.substring(p);var w=y.indexOf("?");if(w>=0){var b=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=e.substring(0,p+w),b.length>0)for(p=0;s=c.exec(b);)m=u(s,!0),g=i(m.id,m.type,m.cfg,"search"),p=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=o(y)+(t.strict===!1?"/?":"")+"$",h.push(y),this.regexp=new RegExp(f,t.caseInsensitive?"i":r),this.prefix=h[0],this.$$paramNames=d}function y(e){K(this,e)}function w(){function e(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function a(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function i(){return{strict:v,caseInsensitive:p}}function s(e){return U(e)||L(e)&&U(e[e.length-1])}function l(){for(;S.length;){var e=S.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(m[e.name],f.invoke(e.def))}}function c(e){K(this,e||{})}G=this;var f,p=!1,v=!0,d=!1,m={},b=!0,S=[],E={string:{encode:e,decode:a,is:function(e){return null==e||!D(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return D(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):r},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):r},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};w.$$getDefaultValue=function(e){if(!s(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return D(e)&&(p=e),p},this.strictMode=function(e){return D(e)&&(v=e),v},this.defaultSquashPolicy=function(e){if(!D(e))return d;if(e!==!0&&e!==!1&&!T(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return d=e,e},this.compile=function(e,t){return new g(e,K(i(),t))},this.isMatcher=function(e){if(!z(e))return!1;var t=!0;return J(g.prototype,function(r,n){U(r)&&(t=t&&D(e[n])&&U(e[n]))}),t},this.type=function(e,t,r){if(!D(t))return m[e];if(m.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return m[e]=new y(K({name:e},t)),r&&(S.push({name:e,def:r}),b||l()),this},J(E,function(e,t){m[t]=new y(K({name:t},e))}),m=n(m,{}),this.$get=["$injector",function(e){return f=e,b=!1,l(),J(E,function(e,t){m[t]||(m[t]=new y(e))}),this}],this.Param=function(e,n,a,i){function l(e){var t=z(e)?o(e):[],r=u(t,"value")===-1&&u(t,"type")===-1&&u(t,"squash")===-1&&u(t,"array")===-1;return r&&(e={value:e}),e.$$fn=s(e.value)?e.value:function(){return e.value},e}function c(r,n,a){if(r.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:r.type?t.isString(r.type)?m[r.type]:r.type instanceof y?r.type:new y(r.type):"config"===a?m.any:m.string}function p(){var t={array:"search"===i&&"auto"},r=e.match(/\[\]$/)?{array:!0}:{};return K(t,r,a).array}function v(e,t){var r=e.squash;if(!t||r===!1)return!1;if(!D(r)||null==r)return d;if(r===!0||T(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,n,a){var i,o,s=[{from:"",to:n||t?r:""},{from:null,to:n||t?r:""}];return i=L(e.replace)?e.replace:[],T(a)&&i.push({from:a,to:r}),o=$(i,function(e){return e.from}),h(s,function(e){return u(o,e.from)===-1}).concat(i)}function w(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var e=f.invoke(a.$$fn);if(null!==e&&e!==r&&!E.type.is(e))throw new Error("Default value ("+e+") for parameter '"+E.id+"' is not an instance of Type ("+E.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function r(e){var r=$(h(E.replace,t(e)),function(e){return e.to});return r.length?r[0]:e}return e=r(e),D(e)?E.type.$normalize(e):w()}function S(){return"{Param:"+e+" "+n+" squash: '"+j+"' optional: "+P+"}"}var E=this;a=l(a),n=c(a,n,i);var x=p();n=x?n.$asArray(x,"search"===i):n,"string"!==n.name||x||"path"!==i||a.value!==r||(a.value="");var P=a.value!==r,j=v(a,P),A=g(a,x,P,j);K(this,{id:e,type:n,location:i,array:x,squash:j,replace:A,isOptional:P,value:b,dynamic:r,config:a,toString:S})},c.prototype={$$new:function(){return n(this,K(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],r=this,n=o(c.prototype);r;)t.push(r),r=r.$$parent;return t.reverse(),J(t,function(t){J(o(t),function(t){u(e,t)===-1&&u(n,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},r=this;return J(r.$$keys(),function(n){t[n]=r[n].value(e&&e[n])}),t},$$equals:function(e,t){var r=!0,n=this;return J(n.$$keys(),function(a){var i=e&&e[a],o=t&&t[a];n[a].type.equals(i,o)||(r=!1)}),r},$$validates:function(e){var n,a,i,o,u,s=this.$$keys();for(n=0;n<s.length&&(a=this[s[n]],i=e[s[n]],i!==r&&null!==i||!a.isOptional);n++){if(o=a.type.$normalize(i),!a.type.is(o))return!1;if(u=a.type.encode(o),t.isString(u)&&!a.type.pattern.exec(u))return!1}return!0},$$parent:r},this.ParamSet=c}function b(e,n){function a(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function i(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}function o(e,t,r){if(!r)return!1;var n=e.invoke(t,t,{$match:r});return!D(n)||n}function u(n,a,i,o,u){function p(e,t,r){return"/"===d?e:t?d.slice(0,-1)+e:r?d.slice(1)+e:e}function h(e){function t(e){var t=e(i,n);return!!t&&(T(t)&&n.replace().url(t),!0)}if(!e||!e.defaultPrevented){v&&n.url()===v;v=r;var a,o=l.length;for(a=0;a<o;a++)if(t(l[a]))return;c&&t(c)}}function $(){return s=s||a.$on("$locationChangeSuccess",h)}var v,d=o.baseHref(),m=n.url();return f||$(),{sync:function(){h()},listen:function(){return $()},update:function(e){return e?void(m=n.url()):void(n.url()!==m&&(n.url(m),n.replace()))},push:function(e,t,a){var i=e.format(t||{});null!==i&&t&&t["#"]&&(i+="#"+t["#"]),n.url(i),v=a&&a.$$avoidResync?n.url():r,a&&a.replace&&n.replace()},href:function(r,a,i){if(!r.validates(a))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled),o=o&&u.history;var s=r.format(a);if(i=i||{},o||null===s||(s="#"+e.hashPrefix()+s),null!==s&&a&&a["#"]&&(s+="#"+a["#"]),s=p(s,o,i.absolute),!i.absolute||!s)return s;var l=!o&&s?"/":"",c=n.port();return c=80===c||443===c?"":":"+c,[n.protocol(),"://",n.host(),c,l,s].join("")}}}var s,l=[],c=null,f=!1;this.rule=function(e){if(!U(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(T(e)){var t=e;e=function(){return t}}else if(!U(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var r,u=T(t);if(T(e)&&(e=n.compile(e)),!u&&!U(t)&&!L(t))throw new Error("invalid 'handler' in when()");var s={matcher:function(e,t){return u&&(r=n.compile(t),t=["$match",function(e){return r.format(e)}]),K(function(r,n){return o(r,t,e.exec(n.path(),n.search()))},{prefix:T(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(r=t,t=["$match",function(e){return i(r,e)}]),K(function(r,n){return o(r,t,e.exec(n.path()))},{prefix:a(e)})}},l={matcher:n.isMatcher(e),regex:e instanceof RegExp};for(var c in l)if(l[c])return this.rule(s[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===r&&(e=!0),f=e},this.$get=u,u.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function S(e,a){function i(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return r;var n=T(e),a=n?e:e.name,o=i(a);if(o){if(!t)throw new Error("No reference point given for path '"+a+"'");t=p(t);for(var u=a.split("."),s=0,l=u.length,c=t;s<l;s++)if(""!==u[s]||0!==s){if("^"!==u[s])break;if(!c.parent)throw new Error("Path '"+a+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;u=u.slice(s).join("."),a=c.name+(c.name&&u?".":"")+u}var f=j[a];return!f||!n&&(n||f!==e&&f.self!==e)?r:f}function h(e,t){A[e]||(A[e]=[]),A[e].push(t)}function d(e){for(var t=A[e]||[];t.length;)m(t.shift())}function m(t){t=n(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var r=t.name;if(!T(r)||r.indexOf("@")>=0)throw new Error("State must have a valid name");if(j.hasOwnProperty(r))throw new Error("State '"+r+"' is already defined");var a=r.indexOf(".")!==-1?r.substring(0,r.lastIndexOf(".")):T(t.parent)?t.parent:z(t.parent)&&T(t.parent.name)?t.parent.name:"";if(a&&!j[a])return h(a,t.self);for(var i in O)U(O[i])&&(t[i]=O[i](t,O.$delegates[i]));return j[r]=t,!t[C]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,r){P.$current.navigable==t&&l(e,r)||P.transitionTo(t,e,{inherit:!0,location:!1})}]),d(r),t}function g(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),r=P.$current.name.split("."),n=0,a=t.length;n<a;n++)"*"===t[n]&&(r[n]="*");return"**"===t[0]&&(r=r.slice(u(r,t[1])),r.unshift("**")),"**"===t[t.length-1]&&(r.splice(u(r,t[t.length-2])+1,Number.MAX_VALUE),r.push("**")),t.length==r.length&&r.join("")===t.join("")}function w(e,t){return T(e)&&!D(t)?O[e]:U(t)&&T(e)?(O[e]&&!O.$delegates[e]&&(O.$delegates[e]=O[e]),O[e]=t,this):this}function b(e,t){return z(e)?t=e:t.name=e,m(t),this}function S(e,a,i,u,f,h,d,m,w){function b(t,r,n,i){var o=e.$broadcast("$stateNotFound",t,r,n);if(o.defaultPrevented)return d.update(),q;if(!o.retry)return null;if(i.$retry)return d.update(),I;var u=P.transition=a.when(o.retry);return u.then(function(){return u!==P.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,r,n),O):(t.options.$retry=!0,P.transitionTo(t.to,t.toParams,t.options))},function(){return q}),d.update(),u}function S(e,r,n,o,s,l){function p(){var r=[];return J(e.views,function(n,a){var o=n.resolve&&n.resolve!==e.resolve?n.resolve:{};o.$template=[function(){return i.load(a,{view:n,locals:s.globals,params:h,notify:l.notify})||""}],r.push(f.resolve(o,s.globals,s.resolve,e).then(function(r){if(U(n.controllerProvider)||L(n.controllerProvider)){var i=t.extend({},o,s.globals);r.$$controller=u.invoke(n.controllerProvider,null,i)}else r.$$controller=n.controller;r.$$state=e,r.$$controllerAs=n.controllerAs,r.$$resolveAs=n.resolveAs,s[a]=r}))}),a.all(r).then(function(){return s.globals})}var h=n?r:c(e.params.$$keys(),r),$={$stateParams:h};s.resolve=f.resolve(e.resolve,$,s.resolve,e);var v=[s.resolve.then(function(e){s.globals=e})];return o&&v.push(o),a.all(v).then(p).then(function(e){return s})}var A=new Error("transition superseded"),O=v(a.reject(A)),k=v(a.reject(new Error("transition prevented"))),q=v(a.reject(new Error("transition aborted"))),I=v(a.reject(new Error("transition failed")));return x.locals={resolve:null,globals:{$stateParams:{}}},P={params:{},current:x.self,$current:x,transition:null},P.reload=function(e){return P.transitionTo(P.current,h,{reload:e||!0,inherit:!1,notify:!0})},P.go=function(e,t,r){return P.transitionTo(e,t,K({inherit:!0,relative:P.$current},r))},P.transitionTo=function(t,r,i){r=r||{},i=K({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var o,l=P.$current,f=P.params,$=l.path,v=p(t,i.relative),m=r["#"];if(!D(v)){var g={to:t,toParams:r,options:i},y=b(g,l.self,f,i);if(y)return y;if(t=g.to,r=g.toParams,i=g.options,v=p(t,i.relative),!D(v)){if(!i.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+i.relative+"'")}}if(v[C])throw new Error("Cannot transition to abstract state '"+t+"'");if(i.inherit&&(r=s(h,r||{},P.$current,v)),!v.params.$$validates(r))return I;r=v.params.$$values(r),t=v;var w=t.path,j=0,q=w[j],V=x.locals,M=[];if(i.reload){if(T(i.reload)||z(i.reload)){if(z(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var F=i.reload===!0?$[0]:p(i.reload);if(i.reload&&!F)throw new Error("No such reload state '"+(T(i.reload)?i.reload:i.reload.name)+"'");for(;q&&q===$[j]&&q!==F;)V=M[j]=q.locals,j++,q=w[j]}}else for(;q&&q===$[j]&&q.ownParams.$$equals(r,f);)V=M[j]=q.locals,j++,q=w[j];if(E(t,r,l,f,V,i))return m&&(r["#"]=m),P.params=r,Y(P.params,h),Y(c(t.params.$$keys(),h),t.locals.globals.$stateParams),i.location&&t.navigable&&t.navigable.url&&(d.push(t.navigable.url,r,{$$avoidResync:!0,replace:"replace"===i.location}),d.update(!0)),P.transition=null,a.when(P.current);if(r=c(t.params.$$keys(),r||{}),m&&(r["#"]=m),i.notify&&e.$broadcast("$stateChangeStart",t.self,r,l.self,f,i).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,r,l.self,f),null==P.transition&&d.update(),k;for(var N=a.when(V),R=j;R<w.length;R++,q=w[R])V=M[R]=n(V),N=S(q,r,q===t,N,V,i);var U=P.transition=N.then(function(){var n,a,o;if(P.transition!==U)return e.$broadcast("$stateChangeCancel",t.self,r,l.self,f),O;for(n=$.length-1;n>=j;n--)o=$[n],o.self.onExit&&u.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(n=j;n<w.length;n++)a=w[n],a.locals=M[n],a.self.onEnter&&u.invoke(a.self.onEnter,a.self,a.locals.globals);return P.transition!==U?(e.$broadcast("$stateChangeCancel",t.self,r,l.self,f),O):(P.$current=t,P.current=t.self,P.params=r,Y(P.params,h),P.transition=null,i.location&&t.navigable&&d.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&e.$broadcast("$stateChangeSuccess",t.self,r,l.self,f),d.update(!0),P.current)}).then(null,function(n){return n===A?O:P.transition!==U?(e.$broadcast("$stateChangeCancel",t.self,r,l.self,f),O):(P.transition=null,o=e.$broadcast("$stateChangeError",t.self,r,l.self,f,n),o.defaultPrevented||d.update(),a.reject(n))});return U},P.is=function(e,t,n){n=K({relative:P.$current},n||{});var a=p(e,n.relative);return D(a)?P.$current===a&&(!t||l(a.params.$$values(t),h)):r},P.includes=function(e,t,n){if(n=K({relative:P.$current},n||{}),T(e)&&g(e)){if(!y(e))return!1;e=P.$current.name}var a=p(e,n.relative);if(!D(a))return r;if(!D(P.$current.includes[a.name]))return!1;if(!t)return!0;for(var i=o(t),u=0;u<i.length;u++){var s=i[u],l=a.params[s];if(l&&!l.type.equals(h[s],t[s]))return!1}return!0},P.href=function(e,t,n){n=K({lossy:!0,inherit:!0,absolute:!1,relative:P.$current},n||{});var a=p(e,n.relative);if(!D(a))return null;n.inherit&&(t=s(h,t||{},P.$current,a));var i=a&&n.lossy?a.navigable:a;return i&&i.url!==r&&null!==i.url?d.href(i.url,c(a.params.$$keys().concat("#"),t||{}),{absolute:n.absolute}):null},P.get=function(e,t){if(0===arguments.length)return $(o(j),function(e){return j[e].self});var r=p(e,t||P.$current);return r&&r.self?r.self:null},P}function E(e,t,r,n,a,i){function o(e,t,r){function n(t){return"search"!=e.params[t].location}var a=e.params.$$keys().filter(n),i=f.apply({},[e.params].concat(a)),o=new G.ParamSet(i);return o.$$equals(t,r)}if(!i.reload&&e===r&&(a===r.locals||e.self.reloadOnSearch===!1&&o(r,n,t)))return!0}var x,P,j={},A={},C="abstract",O={parent:function(e){if(D(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):x},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=n(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(T(t))return"^"==t.charAt(0)?a.compile(t.substring(1),r):(e.parent.navigable||x).url.concat(t,r);if(!t||a.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new G.ParamSet;return J(e.params||{},function(e,r){t[r]||(t[r]=new G.Param(r,null,e,"config"))}),t},params:function(e){var t=f(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?K(e.parent.params.$$new(),t):new G.ParamSet},views:function(e){var t={};return J(D(e.views)?e.views:{"":e},function(r,n){n.indexOf("@")<0&&(n+="@"+e.parent.name),r.resolveAs=r.resolveAs||e.resolveAs||"$resolve",t[n]=r}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?K({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};x=m({name:"",url:"^",views:null,abstract:!0}),x.navigable=null,this.decorator=w,this.state=b,this.$get=S,S.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function E(){function e(e,t){return{load:function(e,r){var n,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=K(a,r),r.view&&(n=t.fromConfig(r.view,r.params,r.locals)),n}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function x(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,r){return e?t:function(e){return r(function(){e[0].scrollIntoView()},0,!1)}}]}function P(e,r,n,a,i){function o(){return r.has?function(e){return r.has(e)?r.get(e):null}:function(e){try{return r.get(e)}catch(e){return null}}}function u(e,r){var n=function(){return{enter:function(e,t,r){t.after(e),r()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,r,n){t.version.minor>2?c.enter(e,null,r).then(n):c.enter(e,null,r,n)},leave:function(e,r){t.version.minor>2?c.leave(e).then(r):c.leave(e,r)}};if(l){var a=l&&l(r,e);return{enter:function(e,t,r){a.enter(e,null,t),r()},leave:function(e,t){a.leave(e),t()}}}return n()}var s=o(),l=s("$animator"),c=s("$animate"),f={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(r,o,s){return function(r,o,l){function c(){if(p&&(p.remove(),p=null),$&&($.$destroy(),$=null),h){var e=h.data("$uiViewAnim");g.leave(h,function(){e.$$animLeave.resolve(),p=null}),p=h,h=null}}function f(u){var f,p=A(r,l,o,a),y=p&&e.$current&&e.$current.locals[p];if(u||y!==v){f=r.$new(),v=e.$current.locals[p],f.$emit("$viewContentLoading",p);var w=s(f,function(e){var a=i.defer(),u=i.defer(),s={$animEnter:a.promise,$animLeave:u.promise,$$animLeave:u};e.data("$uiViewAnim",s),g.enter(e,o,function(){a.resolve(),$&&$.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||r.$eval(m))&&n(e)}),c()});h=w,$=f,$.$emit("$viewContentLoaded",p),$.$eval(d)}}var p,h,$,v,d=l.onload||"",m=l.autoscroll,g=u(l,r);o.inheritedData("$uiView");r.$on("$stateChangeSuccess",function(){f(!1)}),f(!0)}}};return f}function j(e,r,n,a){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,u,s){var l=n.$current,c=A(i,s,u,a),f=l&&l.locals[c];if(f){u.data("$uiView",{name:c,state:f.$$state}),u.html(f.$template?f.$template:o);var p=t.extend({},f);i[f.$$resolveAs]=p;var h=e(u.contents());if(f.$$controller){f.$scope=i,f.$element=u;var $=r(f.$$controller,f);f.$$controllerAs&&(i[f.$$controllerAs]=$,i[f.$$controllerAs][f.$$resolveAs]=p),U($.$onInit)&&$.$onInit(),u.data("$ngControllerController",$),u.children().data("$ngControllerController",$)}h(i)}}}}}function A(e,t,r,n){var a=n(t.uiView||t.name||"")(e),i=r.inheritedData("$uiView");return a.indexOf("@")>=0?a:a+"@"+(i?i.state.name:"")}function C(e,t){var r,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e=t+"("+n[1]+")"),r=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!r||4!==r.length)throw new Error("Invalid state ref '"+e+"'");return{state:r[1],paramExpr:r[3]||null}}function O(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function k(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),r="FORM"===e[0].nodeName;return{attr:r?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!r}}function q(e,t,r,n,a){return function(i){var o=i.which||i.button,u=a();if(!(o>1||i.ctrlKey||i.metaKey||i.shiftKey||e.attr("target"))){var s=r(function(){t.go(u.state,u.params,u.options)});i.preventDefault();var l=n.isAnchor&&!u.href?1:0;i.preventDefault=function(){l--<=0&&r.cancel(s)}}}}function I(e,t){return{relative:O(e)||t.$current,inherit:!0}}function V(e,r){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,a,i,o){var u,s=C(i.uiSref,e.current.name),l={state:s.state,href:null,params:null},c=k(a),f=o[1]||o[0],p=null;l.options=K(I(a,e),i.uiSrefOpts?n.$eval(i.uiSrefOpts):{});var h=function(r){r&&(l.params=t.copy(r)),l.href=e.href(s.state,l.params,l.options),p&&p(),f&&(p=f.$$addStateInfo(s.state,l.params)),null!==l.href&&i.$set(c.attr,l.href)};s.paramExpr&&(n.$watch(s.paramExpr,function(e){e!==l.params&&h(e)},!0),l.params=t.copy(n.$eval(s.paramExpr))),h(),c.clickable&&(u=q(a,e,r,c,function(){return l}),a[a.on?"on":"bind"]("click",u),n.$on("$destroy",function(){a[a.off?"off":"unbind"]("click",u)}))}}}function M(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,n,a,i){function o(t){p.state=t[0],p.params=t[1],p.options=t[2],p.href=e.href(p.state,p.params,p.options),h&&h(),l&&(h=l.$$addStateInfo(p.state,p.params)),p.href&&a.$set(s.attr,p.href)}var u,s=k(n),l=i[1]||i[0],c=[a.uiState,a.uiStateParams||null,a.uiStateOpts||null],f="["+c.map(function(e){return e||"null"}).join(", ")+"]",p={state:null,params:null,options:null,href:null},h=null;r.$watch(f,o,!0),o(r.$eval(f)),s.clickable&&(u=q(n,e,t,s,function(){return p}),n[n.on?"on":"bind"]("click",u),r.$on("$destroy",function(){n[n.off?"off":"unbind"]("click",u)}))}}}function F(e,t,r){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,n,a,i){function o(t,r,a){var i=e.get(t,O(n)),o=u(t,r),s={state:i||{name:t},params:r,hash:o};return v.push(s),d[o]=a,function(){var e=v.indexOf(s);e!==-1&&v.splice(e,1)}}function u(e,r){if(!T(e))throw new Error("state should be a string");return z(r)?e+B(r):(r=t.$eval(r),z(r)?e+B(r):e)}function s(){for(var e=0;e<v.length;e++)f(v[e].state,v[e].params)?l(n,d[v[e].hash]):c(n,d[v[e].hash]),p(v[e].state,v[e].params)?l(n,h):c(n,h)}function l(e,t){i(function(){e.addClass(t)})}function c(e,t){e.removeClass(t)}function f(t,r){return e.includes(t.name,r)}function p(t,r){return e.is(t.name,r)}var h,$,v=[],d={};h=r(a.uiSrefActiveEq||"",!1)(t);try{$=t.$eval(a.uiSrefActive)}catch(e){}$=$||r(a.uiSrefActive||"",!1)(t),z($)&&J($,function(r,n){if(T(r)){var a=C(r,e.current.name);o(a.state,t.$eval(a.paramExpr),n)}}),this.$$addStateInfo=function(e,t){if(!(z($)&&v.length>0)){var r=o(e,t,$);return s(),r}},t.$on("$stateChangeSuccess",s),s()}]}}function N(e){var t=function(t,r){return e.is(t,r)};return t.$stateful=!0,t}function R(e){var t=function(t,r,n){return e.includes(t,r,n)};return t.$stateful=!0,t}var D=t.isDefined,U=t.isFunction,T=t.isString,z=t.isObject,L=t.isArray,J=t.forEach,K=t.extend,Y=t.copy,B=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),d.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",d),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var G;g.prototype.concat=function(e,t){var r={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,K(r,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){function r(e){function t(e){return e.split("").reverse().join("")}function r(e){return e.replace(/\\-/g,"-")}var n=t(e).split(/-(?!\\)/),a=$(n,t);return $(a,r).reverse()}var n=this.regexp.exec(e);if(!n)return null;t=t||{};var a,i,o,u=this.parameters(),s=u.length,l=this.segments.length-1,c={};if(l!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var f,p;for(a=0;a<l;a++){for(o=u[a],f=this.params[o],p=n[a+1],i=0;i<f.replace.length;i++)f.replace[i].from===p&&(p=f.replace[i].to);p&&f.array===!0&&(p=r(p)),D(p)&&(p=f.type.decode(p)),c[o]=f.value(p)}for(;a<s;a++){for(o=u[a],c[o]=this.params[o].value(t[o]),f=this.params[o],p=t[o],i=0;i<f.replace.length;i++)f.replace[i].from===p&&(p=f.replace[i].to);D(p)&&(p=f.type.decode(p)),c[o]=f.value(p)}return c},g.prototype.parameters=function(e){return D(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var r=this.segments,n=this.parameters(),a=this.params;if(!this.validates(e))return null;var i,o=!1,u=r.length-1,s=n.length,l=r[0];for(i=0;i<s;i++){var c=i<u,f=n[i],p=a[f],h=p.value(e[f]),v=p.isOptional&&p.type.equals(p.value(),h),d=!!v&&p.squash,m=p.type.encode(h);if(c){var g=r[i+1],y=i+1===u;if(d===!1)null!=m&&(l+=L(m)?$(m,t).join("-"):encodeURIComponent(m)),l+=g;else if(d===!0){var w=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=g.match(w)[1]}else T(d)&&(l+=d+g);y&&p.squash===!0&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==m||v&&d!==!1)continue;if(L(m)||(m=[m]),0===m.length)continue;m=$(m,encodeURIComponent).join("&"+f+"="),l+=(o?"&":"?")+(f+"="+m),o=!0}}return l},y.prototype.is=function(e,t){return!0},y.prototype.encode=function(e,t){return e},y.prototype.decode=function(e,t){return e},y.prototype.equals=function(e,t){return e==t},y.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},y.prototype.$asArray=function(e,t){function n(e,t){function n(e,t){return function(){return e[t].apply(e,arguments)}}function a(e){return L(e)?e:D(e)?[e]:[]}function i(e){switch(e.length){case 0:return r;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function u(e,t){return function(r){if(L(r)&&0===r.length)return r;r=a(r);var n=$(r,e);return t===!0?0===h(n,o).length:i(n)}}function s(e){return function(t,r){var n=a(t),i=a(r);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!e(n[o],i[o]))return!1;return!0}}this.encode=u(n(e,"encode")),this.decode=u(n(e,"decode")),this.is=u(n(e,"is"),!0),this.equals=s(n(e,"equals")),this.pattern=e.pattern,this.$normalize=u(n(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new n(this,e);
},t.module("ui.router.util").provider("$urlMatcherFactory",w),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",b),S.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",S).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),E.$inject=[],t.module("ui.router.state").provider("$view",E),t.module("ui.router.state").provider("$uiViewScroll",x),P.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],j.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",P),t.module("ui.router.state").directive("uiView",j),V.$inject=["$state","$timeout"],M.$inject=["$state","$timeout"],F.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",V).directive("uiSrefActive",F).directive("uiSrefActiveEq",F).directive("uiState",M),N.$inject=["$state"],R.$inject=["$state"],t.module("ui.router.state").filter("isState",N).filter("includedByState",R)}(window,window.angular);

},{}],888:[function(require,module,exports){
!function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?ge(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.8/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(ge(o[r]));return new t(s)}}function n(e){if(null==e||A(e))return!1;if(Jr(e)||w(e)||Rr&&e instanceof Rr)return!0;var t="length"in Object(e)&&e.length;return x(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var o,a;if(e)if(S(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(i,e[o],o,e);else if(Jr(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;o<a;o++)(s||o in e)&&t.call(i,e[o],o,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(b(e))for(o in e)t.call(i,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e);else for(o in e)Vr.call(e,o)&&t.call(i,e[o],o,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function o(e){return function(t,n){e(n,t)}}function a(){return++Zr}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(y(a)||S(a))for(var c=Object.keys(a),l=0,f=c.length;l<f;l++){var h=c[l],p=a[h];n&&y(p)?C(p)?e[h]=new Date(p.valueOf()):E(p)?e[h]=new RegExp(p):p.nodeName?e[h]=p.cloneNode(!0):D(p)?e[h]=p.clone():(y(e[h])||(e[h]=Jr(p)?[]:{}),u(e[h],[p],!0)):e[h]=p}}return s(e,r),e}function c(e){return u(e,Ur.call(arguments,1),!1)}function l(e){return u(e,Ur.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return c(Object.create(e),t)}function p(){}function d(e){return e}function $(e){return function(){return e}}function v(e){return S(e.toString)&&e.toString!==Br}function m(e){return"undefined"==typeof e}function g(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function b(e){return null!==e&&"object"==typeof e&&!zr(e)}function w(e){return"string"==typeof e}function x(e){return"number"==typeof e}function C(e){return"[object Date]"===Br.call(e)}function S(e){return"function"==typeof e}function E(e){return"[object RegExp]"===Br.call(e)}function A(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function O(e){return"[object File]"===Br.call(e)}function M(e){return"[object FormData]"===Br.call(e)}function T(e){return"[object Blob]"===Br.call(e)}function N(e){return"boolean"==typeof e}function V(e){return e&&S(e.then)}function j(e){return e&&x(e.length)&&Yr.test(Br.call(e))}function I(e){return"[object ArrayBuffer]"===Br.call(e)}function D(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function _(e){return jr(e.nodeName||e[0]&&e[0].nodeName)}function R(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function F(e,t){function n(e,t){var n,r=t.$$hashKey;if(Jr(e))for(var o=0,a=e.length;o<a;o++)t.push(i(e[o]));else if(b(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)Vr.call(e,n)&&(t[n]=i(e[n]));return s(t,r),t}function i(e){if(!y(e))return e;var t=a.indexOf(e);if(t!==-1)return u[t];if(A(e)||k(e))throw Wr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=o(e);return void 0===i&&(i=Jr(e)?[]:Object.create(zr(e)),r=!0),a.push(e),u.push(i),r?n(e,i):i}function o(e){switch(Br.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(S(e.cloneNode))return e.cloneNode(!0)}var a=[],u=[];if(t){if(j(t)||I(t))throw Wr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Wr("cpi","Can't copy! Source and destination are identical.");return Jr(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),u.push(t),n(e,t)}return i(e)}function q(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Jr(e)){if(C(e))return!!C(t)&&q(e.getTime(),t.getTime());if(E(e))return!!E(t)&&e.toString()==t.toString();if(k(e)||k(t)||A(e)||A(t)||Jr(t)||C(t)||E(t))return!1;i=de();for(r in e)if("$"!==r.charAt(0)&&!S(e[r])){if(!q(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&g(t[r])&&!S(t[r]))return!1;return!0}if(!Jr(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!q(e[r],t[r]))return!1;return!0}}return!1}function U(e,t,n){return e.concat(Ur.call(t,n))}function L(e,t){return Ur.call(e,t||0)}function H(e,t){var n=arguments.length>2?L(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,U(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function B(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:A(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":k(n)&&(r="$SCOPE"),r}function z(e,t){if(!m(e))return x(t)||(t=t?2:null),JSON.stringify(e,B,t)}function W(e){return w(e)?JSON.parse(e):e}function G(e,t){e=e.replace(ti,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Z(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function J(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=G(t,r);return Z(e,n*(i-r))}function Y(e){e=Rr(e).clone();try{e.empty()}catch(e){}var t=Rr("<div>").append(e).html();try{return e[0].nodeType===si?jr(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+jr(t)})}catch(e){return jr(t)}}function K(e){try{return decodeURIComponent(e)}catch(e){}}function X(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(r=e.substring(0,n),i=e.substring(n+1)),r=K(r),g(r)&&(i=!g(i)||K(i),Vr.call(t,r)?Jr(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function Q(e){var t=[];return r(e,function(e,n){Jr(e)?r(e,function(e){t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}):t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}),t.length?t.join("&"):""}function ee(e){return te(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function te(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ne(e,t){var n,r,i=ni.length;for(r=0;r<i;++r)if(n=ni[r]+t,w(n=e.getAttribute(n)))return n;return null}function re(e,t){var n,i,o={};r(ni,function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))}),r(ni,function(t){var r,o=t+"app";!n&&(r=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(o.strictDi=null!==ne(n,"strict-di"),t(n,i?[i]:[],o))}function ie(t,n,i){y(i)||(i={});var o={strictDi:!1};i=c(o,i);var a=function(){if(t=Rr(t),t.injector()){var r=t[0]===e.document?"document":Y(t);throw Wr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=rt(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!u.test(e.name)?a():(e.name=e.name.replace(u,""),Gr.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),a()},void(S(Gr.resumeDeferredBootstrap)&&Gr.resumeDeferredBootstrap()))}function oe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ae(e){var t=Gr.element(e).injector();if(!t)throw Wr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function se(e,t){return t=t||"_",e.replace(ri,function(e,n){return(n?t:"")+e.toLowerCase()})}function ue(){var t;if(!ii){var n=ei();Fr=m(n)?e.jQuery:n?e[n]:void 0,Fr&&Fr.fn.on?(Rr=Fr,c(Fr.fn,{scope:Ai.scope,isolateScope:Ai.isolateScope,controller:Ai.controller,injector:Ai.injector,inheritedData:Ai.inheritedData}),t=Fr.cleanData,Fr.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=Fr._data(r,"events"),n&&n.$destroy&&Fr(r).triggerHandler("$destroy");t(e)}):Rr=Me,Gr.element=Rr,ii=!0}}function ce(e,t,n){if(!e)throw Wr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function le(e,t,n){return n&&Jr(e)&&(e=e[e.length-1]),ce(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function fe(e,t){if("hasOwnProperty"===e)throw Wr("badname","hasOwnProperty is not a valid {0} name",t)}function he(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&S(e)?H(o,e):e}function pe(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Rr(Ur.call(e,0,i))),t.push(n));return t||e}function de(){return Object.create(null)}function $e(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),l}}function n(e,n){return function(r,o){return o&&S(o)&&(o.$$moduleName=t),i.push([e,n,arguments]),l}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var i=[],s=[],u=[],c=e("$injector","invoke","push",s),l={_invokeQueue:i,_configBlocks:s,_runBlocks:u,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(e){return u.push(e),this}};return a&&c(a),l})}})}function ve(e,t){if(Jr(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function me(e){var t=[];return JSON.stringify(e,function(e,n){if(n=B(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function ge(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):m(e)?"undefined":"string"!=typeof e?me(e):e}function ye(n){c(n,{bootstrap:ie,copy:F,extend:c,merge:l,equals:q,element:Rr,forEach:r,injector:rt,noop:p,bind:H,toJson:z,fromJson:W,identity:d,isUndefined:m,isDefined:g,isString:w,isFunction:S,isObject:y,isNumber:x,isElement:D,isArray:Jr,version:fi,isDate:C,lowercase:jr,uppercase:Ir,callbacks:{$$counter:0},getTestability:ae,$$minErr:t,$$csp:Qr,reloadWithDebugInfo:oe}),(qr=$e(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:En}),e.provider("$compile",dt).directive({a:Do,input:ea,textarea:ea,form:qo,script:Ja,select:Xa,style:es,option:Qa,ngBind:ra,ngBindHtml:oa,ngBindTemplate:ia,ngClass:sa,ngClassEven:ca,ngClassOdd:ua,ngCloak:la,ngController:fa,ngForm:Uo,ngHide:La,ngIf:da,ngInclude:$a,ngInit:ma,ngNonBindable:ja,ngPluralize:_a,ngRepeat:Ra,ngShow:Ua,ngStyle:Ha,ngSwitch:Ba,ngSwitchWhen:za,ngSwitchDefault:Wa,ngOptions:Pa,ngTransclude:Za,ngModel:Ta,ngList:ga,ngChange:aa,pattern:ns,ngPattern:ns,required:ts,ngRequired:ts,minlength:is,ngMinlength:is,maxlength:rs,ngMaxlength:rs,ngValue:na,ngModelOptions:Va}).directive({ngInclude:va}).directive(Po).directive(ha),e.provider({$anchorScroll:it,$animate:Li,$animateCss:zi,$$animateJs:qi,$$animateQueue:Ui,$$AnimateRunner:Bi,$$animateAsyncRun:Hi,$browser:lt,$cacheFactory:ft,$controller:bt,$document:wt,$exceptionHandler:xt,$filter:Fn,$$forceReflow:Ki,$interpolate:Pt,$interval:_t,$http:Vt,$httpParamSerializer:St,$httpParamSerializerJQLike:Et,$httpBackend:It,$xhrFactory:jt,$jsonpCallbacks:ao,$location:Xt,$log:Qt,$parse:yn,$rootScope:Sn,$q:bn,$$q:wn,$sce:Mn,$sceDelegate:On,$sniffer:Tn,$templateCache:ht,$templateRequest:Nn,$$testability:Vn,$timeout:jn,$window:Pn,$$rAF:Cn,$$jqLite:Ye,$$HashMap:Ti,$$cookieReader:Rn})}])}function be(){return++pi}function we(e){return e.replace(vi,function(e,t,n,r){return r?n.toUpperCase():n}).replace(mi,"Moz$1")}function xe(e){return!wi.test(e)}function Ce(e){var t=e.nodeType;return t===oi||!t||t===ci}function Se(e){for(var t in hi[e.ng339])return!0;return!1}function Ee(e){for(var t=0,n=e.length;t<n;t++)je(e[t])}function Ae(e,t){var n,i,o,a,s=t.createDocumentFragment(),u=[];if(xe(e))u.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),i=(xi.exec(e)||["",""])[1].toLowerCase(),o=Si[i]||Si._default,n.innerHTML=o[1]+e.replace(Ci,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;u=U(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(u,function(e){s.appendChild(e)}),s}function ke(t,n){n=n||e.document;var r;return(r=bi.exec(t))?[n.createElement(r[1])]:(r=Ae(t,n))?r.childNodes:[]}function Oe(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Me(e){if(e instanceof Me)return e;var t;if(w(e)&&(e=Kr(e),t=!0),!(this instanceof Me)){if(t&&"<"!=e.charAt(0))throw yi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Me(e)}t?Fe(this,ke(e)):Fe(this,e)}function Te(e){return e.cloneNode(!0)}function Ne(e,t){if(t||je(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)je(n[r])}function Ve(e,t,n,i){if(g(i))throw yi("offargs","jqLite#off() does not support the `selector` argument");var o=Ie(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var u=function(t){var r=a[t];g(n)&&R(r||[],n),g(n)&&r&&r.length>0||($i(e,t,s),delete a[t])};r(t.split(" "),function(e){u(e),gi[e]&&u(gi[e])})}else for(t in a)"$destroy"!==t&&$i(e,t,s),delete a[t]}function je(e,t){var n=e.ng339,r=n&&hi[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Ve(e)),delete hi[n],e.ng339=void 0}}function Ie(e,t){var n=e.ng339,r=n&&hi[n];return t&&!r&&(e.ng339=n=be(),r=hi[n]={events:{},data:{},handle:void 0}),r}function De(e,t,n){if(Ce(e)){var r=g(n),i=!r&&t&&!y(t),o=!t,a=Ie(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];c(s,t)}}}function Pe(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function _e(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Kr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Kr(t)+" "," ")))})}function Re(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Kr(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",Kr(n))}}function Fe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function qe(e,t){return Ue(e,"$"+(t||"ngController")+"Controller")}function Ue(e,t,n){e.nodeType==ci&&(e=e.documentElement);for(var r=Jr(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(g(n=Rr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===li&&e.host}}function Le(e){for(Ne(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function He(e,t){t||Ne(e);var n=e.parentNode;n&&n.removeChild(e)}function Be(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Rr(n).on("load",t)}function ze(e,t){var n=ki[t.toLowerCase()];return n&&Oi[_(e)]&&n}function We(e){return Mi[e]}function Ge(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(m(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||Ze;o>1&&(i=ve(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(e,n,i[u])}};return n.elem=e,n}function Ze(e,t,n){n.call(e,t)}function Je(e,t,n){var r=t.relatedTarget;r&&(r===e||Ei.call(e,r))||n.call(e,t)}function Ye(){this.$get=function(){return c(Me,{hasClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),_e(e,t)}})}}function Ke(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||a)():r+":"+e}function Xe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Qe(e){return Function.prototype.toString.call(e)+" "}function et(e){var t=Qe(e).replace(Di,""),n=t.match(Ni)||t.match(Vi);return n}function tt(e){var t=et(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function nt(e,t,n){var i,o,a;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw w(n)&&n||(n=e.name||tt(e)),Pi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=et(e),r(o[1].split(ji),function(e){e.replace(Ii,function(e,t,n){i.push(n)})})}e.$inject=i}}else Jr(e)?(a=e.length-1,le(e[a],"fn"),i=e.slice(0,a)):le(e,"fn",!0);return i}function rt(e,t){function n(e){return function(t,n){return y(t)?void r(t,o(e)):e(t,n)}}function i(e,t){if(fe(e,"service"),(S(t)||Jr(t))&&(t=C.instantiate(t)),!t.$get)throw Pi("pget","Provider '{0}' must define $get factory method.",e);return x[e+v]=t}function a(e,t){return function(){var n=k.invoke(t,this);if(m(n))throw Pi("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function u(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,$(t),!1)}function l(e,t){fe(e,"constant"),x[e]=t,E[e]=t}function f(e,t){var n=C.get(e+v),r=n.$get;n.$get=function(){var e=k.invoke(r,n);return k.invoke(t,null,{$delegate:e})}}function h(e){ce(m(e)||Jr(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=C.get(r[0]);i[r[1]].apply(i,r[2])}}if(!b.get(e)){b.put(e,!0);try{w(e)?(t=qr(e),n=n.concat(h(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):S(e)?n.push(C.invoke(e)):Jr(e)?n.push(C.invoke(e)):le(e,"module")}catch(t){throw Jr(e)&&(e=e[e.length-1]),t.message&&t.stack&&t.stack.indexOf(t.message)==-1&&(t=t.message+"\n"+t.stack),Pi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function p(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===d)throw Pi("cdep","Circular dependency found: {0}",t+" <- "+g.join(" <- "));return e[t]}try{return g.unshift(t),e[t]=d,e[t]=n(t,r)}catch(n){throw e[t]===d&&delete e[t],n}finally{g.shift()}}function i(e,n,i){for(var o=[],a=rt.$$annotate(e,t,i),s=0,u=a.length;s<u;s++){var c=a[s];if("string"!=typeof c)throw Pi("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:r(c,i))}return o}function o(e){return!(_r<=11)&&("function"==typeof e&&/^(?:class\b|constructor\()/.test(Qe(e)))}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=i(e,n,r);return Jr(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=Jr(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:rt.$$annotate,has:function(t){return x.hasOwnProperty(t+v)||e.hasOwnProperty(t)}}}t=t===!0;var d={},v="Provider",g=[],b=new Xe([],!0),x={$provide:{provider:n(i),factory:n(s),service:n(u),value:n(c),constant:n(l),decorator:f}},C=x.$injector=p(x,function(e,t){throw Gr.isString(t)&&g.push(t),Pi("unpr","Unknown provider: {0}",g.join(" <- "))}),E={},A=p(E,function(e,t){var n=C.get(e+v,t);return k.invoke(n.$get,n,void 0,e)}),k=A;x["$injector"+v]={$get:$(A)};var O=h(e);return k=A.get("$injector"),k.strictDi=t,r(O,function(e){e&&k.invoke(e)}),k}function it(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===_(e))return t=e,!0}),t}function o(){var e=s.yOffset;if(S(e))e=e();else if(D(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else x(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=w(e)?e:n.hash();var t;e?(t=u.getElementById(e))?a(t):(t=i(u.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var u=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Be(function(){r.$evalAsync(s)})}),s}]}function ot(e,t){return e||t?e?t?(Jr(e)&&(e=e.join(" ")),Jr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function at(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Ri)return n}}function st(e){w(e)&&(e=e.split(" "));var t=de();return r(e,function(e){e.length&&(t[e]=!0)}),t}function ut(e){return y(e)?e:{}}function ct(e,t,n,i){function o(e){try{e.apply(null,L(arguments,1))}finally{if(g--,0===g)for(;y.length;)try{y.pop()()}catch(e){n.error(e)}}}function a(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function s(){S=null,u(),c()}function u(){b=E(),b=m(b)?null:b,q(b,O)&&(b=O),O=b}function c(){x===l.url()&&w===b||(x=l.url(),w=b,r(A,function(e){e(l.url(),b)}))}var l=this,f=e.location,h=e.history,d=e.setTimeout,$=e.clearTimeout,v={};l.isMock=!1;var g=0,y=[];l.$$completeOutstandingRequest=o,l.$$incOutstandingRequestCount=function(){g++},l.notifyWhenNoOutstandingRequests=function(e){0===g?e():y.push(e)};var b,w,x=f.href,C=t.find("base"),S=null,E=i.history?function(){try{return h.state}catch(e){}}:p;u(),w=b,l.url=function(t,n,r){if(m(r)&&(r=null),f!==e.location&&(f=e.location),h!==e.history&&(h=e.history),t){var o=w===r;if(x===t&&(!i.history||o))return l;var s=x&&Ht(x)===Ht(t);return x=t,w=r,!i.history||s&&o?(s||(S=t),n?f.replace(t):s?f.hash=a(t):f.href=t,f.href!==t&&(S=t)):(h[n?"replaceState":"pushState"](r,"",t),u(),w=b),S&&(S=t),l}return S||f.href.replace(/%27/g,"'")},l.state=function(){return b};var A=[],k=!1,O=null;l.onUrlChange=function(t){return k||(i.history&&Rr(e).on("popstate",s),Rr(e).on("hashchange",s),k=!0),A.push(t),t},l.$$applicationDestroyed=function(){Rr(e).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var e=C.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(e,t){var n;return g++,n=d(function(){delete v[n],o(e)},t||0),v[n]=!0,n},l.defer.cancel=function(e){return!!v[e]&&(delete v[e],$(e),o(p),!0)}}function lt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new ct(e,r,t,n)}]}function ft(){this.$get=function(){function e(e,r){function i(e){e!=h&&(p?p==e&&(p=e.n):p=e,o(e.n,e.p),o(e,h),h=e,h.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=c({},r,{id:e}),u=de(),l=r&&r.capacity||Number.MAX_VALUE,f=de(),h=null,p=null;return n[e]={put:function(e,t){if(!m(t)){if(l<Number.MAX_VALUE){var n=f[e]||(f[e]={key:e});i(n)}return e in u||a++,u[e]=t,a>l&&this.remove(p.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=f[e];if(!t)return;i(t)}return u[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=f[e];if(!t)return;t==h&&(h=t.p),t==p&&(p=t.n),o(t.n,t.p),delete f[e]}e in u&&(delete u[e],a--)},removeAll:function(){u=de(),a=0,f=de(),h=p=null},destroy:function(){u=null,s=null,f=null,delete n[e]},info:function(){return c({},s,{size:a})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function ht(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function pt(){}function dt(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=de();return r(e,function(e,r){if(e in A)return void(o[r]=A[e]);var a=e.match(i);if(!a)throw Wi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(A[e]=o[r])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),y(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw Wi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!yt(r,o))throw Wi("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==jr(t))throw Wi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Wi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function u(e){var t=e.require||e.controller&&e.name;return!Jr(t)&&y(t)&&r(t,function(e,n){var r=e.match(C),i=e.substring(r[0].length);i||(t[n]=r[0]+n)}),t}var l={},f="Directive",v=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,b=/(([\w\-]+)(?:\:([^;]+))?;?)/,x=P("ngSrc,ngSrcset,src,srcset"),C=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,E=/^(on[a-z]+|formaction)$/,A=de();this.directive=function e(n,i){return fe(n,"directive"),w(n)?(s(n),ce(i,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],t.factory(n+f,["$injector","$exceptionHandler",function(e,t){var i=[];return r(l[n],function(r,o){try{var a=e.invoke(r);S(a)?a={compile:$(a)}:!a.compile&&a.link&&(a.compile=$(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=u(a),a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(e){t(e)}}),i}])),l[n].push(i)):r(n,o(e)),this},this.component=function(e,t){function n(e){function n(t){return S(t)||Jr(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:i,controllerAs:yt(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,S(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return g(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return g(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var O=!0;this.debugInfoEnabled=function(e){return g(e)?(O=e,this):O};var M=10;this.onChangesTtl=function(e){return arguments.length?(M=e,this):M},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,o,s,u,$,A,T,V){function j(){try{if(!--Ce)throw ye=void 0,Wi("infchng","{0} $onChanges() iterations reached. Aborting!\n",M);$.$apply(function(){for(var e=[],t=0,n=ye.length;t<n;++t)try{ye[t]()}catch(t){e.push(t)}if(ye=void 0,e.length)throw e})}finally{Ce++}}function I(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function D(e,t,n){we.innerHTML="<span "+t+">";var r=we.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function P(e,t){try{e.addClass(t)}catch(e){}}function F(t,n,r,i,o){t instanceof Rr||(t=Rr(t));for(var a=/\S+/,s=0,u=t.length;s<u;s++){var c=t[s];c.nodeType===si&&c.nodeValue.match(a)&&Oe(c,t[s]=e.document.createElement("span"))}var l=B(t,n,t,r,i,o);F.$$addScopeClass(t);var f=null;return function(e,n,r){ce(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,s=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),f||(f=U(s));var u;if(u="html"!==f?Rr(fe(f,Rr("<div>").append(t).html())):n?Ai.clone.call(t):t,a)for(var c in a)u.data("$"+c+"Controller",a[c].instance);return F.$$addScopeInfo(u,e),n&&n(u,e),l&&l(e,u,u,i),u}}function U(e){var t=e&&e[0];return t&&"foreignobject"!==_(t)&&Br.call(t).match(/SVG/)?"svg":"html"}function B(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,u,c,l,f,h,$;if(p){var v=n.length;for($=new Array(v),c=0;c<d.length;c+=3)f=d[c],$[f]=n[f]}else $=n;for(c=0,l=d.length;c<l;)s=$[d[c++]],o=d[c++],a=d[c++],o?(o.scope?(u=e.$new(),F.$$addScopeInfo(Rr(s),u)):u=e,h=o.transcludeOnThisElement?z(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?z(e,t):null,o(a,u,s,r,h)):a&&a(e,s.childNodes,void 0,i)}for(var s,u,c,l,f,h,p,d=[],$=0;$<e.length;$++)s=new I,u=W(e[$],[],s,0===$?r:void 0,i),c=u.length?X(u,e[$],s,t,n,null,[],[],o):null,c&&c.scope&&F.$$addScopeClass(s.$$element),f=c&&c.terminal||!(l=e[$].childNodes)||!l.length?null:B(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||f)&&(d.push($,c,f),h=!0,p=p||c),o=null;return h?a:null}function z(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=de();for(var o in t.$$slots)t.$$slots[o]?i[o]=z(e,t.$$slots[o],n):i[o]=null;return r}function W(e,t,n,r,i){var o,a,s=e.nodeType,u=n.$attr;switch(s){case oi:ne(t,vt(_(e)),"E",r,i);for(var c,l,f,h,p,d,$=e.attributes,v=0,m=$&&$.length;v<m;v++){var g=!1,x=!1;c=$[v],l=c.name,p=Kr(c.value),h=vt(l),(d=ke.test(h))&&(l=l.replace(Zi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=h.match(Me);C&&re(C[1])&&(g=l,x=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),f=vt(l.toLowerCase()),u[f]=l,!d&&n.hasOwnProperty(f)||(n[f]=p,ze(e,f)&&(n[f]=!0)),pe(e,t,p,f,d),ne(t,f,"A",r,i,g,x)}if(a=e.className,y(a)&&(a=a.animVal),w(a)&&""!==a)for(;o=b.exec(a);)f=vt(o[2]),ne(t,f,"C",r,i)&&(n[f]=Kr(o[3])),a=a.substr(o.index+o[0].length);break;case si:if(11===_r)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===si;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);le(t,e.nodeValue);break;case ui:G(e,t,n,r,i)}return t.sort(ae),t}function G(e,t,n,r,i){try{var o=v.exec(e.nodeValue);if(o){var a=vt(o[1]);
ne(t,a,"M",r,i)&&(n[a]=Kr(o[2]))}}catch(e){}}function Z(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Wi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==oi&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Rr(r)}function J(e,t,n){return function(r,i,o,a,s){return i=Z(i[0],t,n),e(r,i,o,a,s)}}function K(e,t,n,r,i,o){var a;return e?F(t,n,r,i,o):function(){return a||(a=F(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function X(e,t,n,o,a,s,u,l,f){function h(e,t,n,r){e&&(n&&(e=J(e,n,r)),e.require=d.require,e.directiveName=$,(E===d||d.$$isolateScope)&&(e=ve(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=J(t,n,r)),t.require=d.require,t.directiveName=$,(E===d||d.$$isolateScope)&&(t=ve(t,{isolateScope:!0})),l.push(t))}function p(e,o,a,s,f){function h(e,t,n,r){var i;if(k(e)||(r=n,n=t,t=e,e=void 0),N&&(i=b),n||(n=N?O.parent():O),!r)return f(e,t,i,n,R);var o=f.$$slots[r];if(o)return o(e,t,i,n,R);if(m(o))throw Wi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,Y(O))}var p,d,$,v,g,b,w,O,M,T;t===a?(M=n,O=n.$$element):(O=Rr(a),M=new I(O,n)),g=o,E?v=o.$new(!0):x&&(g=o.$parent),f&&(w=h,w.$$boundTransclude=f,w.isSlotFilled=function(e){return!!f.$$slots[e]}),C&&(b=ee(O,M,w,C,v,o,E)),E&&(F.$$addScopeInfo(O,v,!0,!(A&&(A===E||A===E.$$originalDirective))),F.$$addScopeClass(O,!0),v.$$isolateBindings=E.$$isolateBindings,T=ge(o,M,v,v.$$isolateBindings,E),T.removeWatches&&v.$on("$destroy",T.removeWatches));for(var V in b){var j=C[V],D=b[V],P=j.$$bindings.bindToController;D.identifier&&P?D.bindingInfo=ge(g,M,D.instance,P,j):D.bindingInfo={};var _=D();_!==D.instance&&(D.instance=_,O.data("$"+j.name+"Controller",_),D.bindingInfo.removeWatches&&D.bindingInfo.removeWatches(),D.bindingInfo=ge(g,M,D.instance,P,j))}for(r(C,function(e,t){var n=e.require;e.bindToController&&!Jr(n)&&y(n)&&c(b[t].instance,Q(t,n,O,b))}),r(b,function(e){var t=e.instance;if(S(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){i(e)}if(S(t.$onInit))try{t.$onInit()}catch(e){i(e)}S(t.$doCheck)&&(g.$watch(function(){t.$doCheck()}),t.$doCheck()),S(t.$onDestroy)&&g.$on("$destroy",function(){t.$onDestroy()})}),p=0,d=u.length;p<d;p++)$=u[p],me($,$.isolateScope?v:o,O,M,$.require&&Q($.directiveName,$.require,O,b),w);var R=o;for(E&&(E.template||null===E.templateUrl)&&(R=v),e&&e(R,a.childNodes,void 0,f),p=l.length-1;p>=0;p--)$=l[p],me($,$.isolateScope?v:o,O,M,$.require&&Q($.directiveName,$.require,O,b),w);r(b,function(e){var t=e.instance;S(t.$postLink)&&t.$postLink()})}f=f||{};for(var d,$,v,g,b,w=-Number.MAX_VALUE,x=f.newScopeDirective,C=f.controllerDirectives,E=f.newIsolateScopeDirective,A=f.templateDirective,O=f.nonTlbTranscludeDirective,M=!1,T=!1,N=f.hasElementTranscludeDirective,V=n.$$element=Rr(t),j=s,D=o,P=!1,R=!1,q=0,U=e.length;q<U;q++){d=e[q];var B=d.$$start,z=d.$$end;if(B&&(V=Z(t,B,z)),v=void 0,w>d.priority)break;if((b=d.scope)&&(d.templateUrl||(y(b)?(ue("new/isolated scope",E||x,d,V),E=d):ue("new/isolated scope",E,d,V)),x=x||d),$=d.name,!P&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var G,X=q+1;G=e[X++];)if(G.transclude&&!G.$$tlb||G.replace&&(G.templateUrl||G.template)){R=!0;break}P=!0}if(!d.templateUrl&&d.controller&&(b=d.controller,C=C||de(),ue("'"+$+"' controller",C[$],d,V),C[$]=d),b=d.transclude)if(M=!0,d.$$tlb||(ue("transclusion",O,d,V),O=d),"element"==b)N=!0,w=d.priority,v=V,V=n.$$element=Rr(F.$$createComment($,n[$])),t=V[0],$e(a,L(v),t),v[0].$$parentNode=v[0].parentNode,D=K(R,v,o,w,j&&j.name,{nonTlbTranscludeDirective:O});else{var ne=de();if(v=Rr(Te(t)).contents(),y(b)){v=[];var re=de(),ae=de();r(b,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,re[e]=t,ne[t]=null,ae[t]=n}),r(V.contents(),function(e){var t=re[vt(_(e))];t?(ae[t]=!0,ne[t]=ne[t]||[],ne[t].push(e)):v.push(e)}),r(ae,function(e,t){if(!e)throw Wi("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var se in ne)ne[se]&&(ne[se]=K(R,ne[se],o))}V.empty(),D=K(R,v,o,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),D.$$slots=ne}if(d.template)if(T=!0,ue("template",A,d,V),A=d,b=S(d.template)?d.template(V,n):d.template,b=Ae(b),d.replace){if(j=d,v=xe(b)?[]:gt(fe(d.templateNamespace,Kr(b))),t=v[0],1!=v.length||t.nodeType!==oi)throw Wi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");$e(a,V,t);var ce={$attr:{}},le=W(t,[],ce),he=e.splice(q+1,e.length-(q+1));(E||x)&&te(le,E,x),e=e.concat(le).concat(he),ie(n,ce),U=e.length}else V.html(b);if(d.templateUrl)T=!0,ue("template",A,d,V),A=d,d.replace&&(j=d),p=oe(e.splice(q,e.length-q),V,n,a,M&&D,u,l,{controllerDirectives:C,newScopeDirective:x!==d&&x,newIsolateScopeDirective:E,templateDirective:A,nonTlbTranscludeDirective:O}),U=e.length;else if(d.compile)try{g=d.compile(V,n,D);var pe=d.$$originalDirective||d;S(g)?h(null,H(pe,g),B,z):g&&h(H(pe,g.pre),H(pe,g.post),B,z)}catch(e){i(e,Y(V))}d.terminal&&(p.terminal=!0,w=Math.max(w,d.priority))}return p.scope=x&&x.scope===!0,p.transcludeOnThisElement=M,p.templateOnThisElement=T,p.transclude=D,f.hasElementTranscludeDirective=N,p}function Q(e,t,n,i){var o;if(w(t)){var a=t.match(C),s=t.substring(a[0].length),u=a[1]||a[3],c="?"===a[2];if("^^"===u?n=n.parent():(o=i&&i[s],o=o&&o.instance),!o){var l="$"+s+"Controller";o=u?n.inheritedData(l):n.data(l)}if(!o&&!c)throw Wi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Jr(t)){o=[];for(var f=0,h=t.length;f<h;f++)o[f]=Q(e,t[f],n,i)}else y(t)&&(o={},r(t,function(t,r){o[r]=Q(e,t,n,i)}));return o||null}function ee(e,t,n,r,i,o,a){var s=de();for(var c in r){var l=r[c],f={$scope:l===a||l.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},h=l.controller;"@"==h&&(h=t[l.name]);var p=u(h,f,!0,l.controllerAs);s[l.name]=p,e.data("$"+l.name+"Controller",p.instance)}return s}function te(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=h(e[r],{$$isolateScope:t,$$newScope:n})}function ne(e,n,r,o,s,u,c){if(n===s)return null;var p=null;if(l.hasOwnProperty(n))for(var d,$=t.get(n+f),v=0,g=$.length;v<g;v++)try{if(d=$[v],(m(o)||o>d.priority)&&d.restrict.indexOf(r)!=-1){if(u&&(d=h(d,{$$start:u,$$end:c})),!d.$$bindings){var b=d.$$bindings=a(d,d.name);y(b.isolateScope)&&(d.$$isolateBindings=b.isolateScope)}e.push(d),p=d}}catch(e){i(e)}return p}function re(e){if(l.hasOwnProperty(e))for(var n,r=t.get(e+f),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function ie(e,t){var n=t.$attr,i=e.$attr;e.$$element;r(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function oe(e,t,n,i,a,s,u,c){var l,f,p=[],d=t[0],$=e.shift(),v=h($,{templateUrl:null,transclude:null,replace:null,$$originalDirective:$}),m=S($.templateUrl)?$.templateUrl(t,n):$.templateUrl,g=$.templateNamespace;return t.empty(),o(m).then(function(o){var h,b,w,x;if(o=Ae(o),$.replace){if(w=xe(o)?[]:gt(fe(g,Kr(o))),h=w[0],1!=w.length||h.nodeType!==oi)throw Wi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$.name,m);b={$attr:{}},$e(i,t,h);var C=W(h,[],b);y($.scope)&&te(C,!0),e=C.concat(e),ie(n,b)}else h=d,t.html(o);for(e.unshift(v),l=X(e,h,n,a,t,$,s,u,c),r(i,function(e,n){e==h&&(i[n]=t[0])}),f=B(t[0].childNodes,a);p.length;){var S=p.shift(),E=p.shift(),A=p.shift(),k=p.shift(),O=t[0];if(!S.$$destroyed){if(E!==d){var M=E.className;c.hasElementTranscludeDirective&&$.replace||(O=Te(h)),$e(A,Rr(E),O),P(Rr(O),M)}x=l.transcludeOnThisElement?z(S,l.transclude,k):k,l(f,S,O,i,x)}}p=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(p?p.push(t,n,r,o):(l.transcludeOnThisElement&&(o=z(t,l.transclude,i)),l(f,t,n,r,o)))}}function ae(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ue(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Wi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,Y(r))}function le(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&F.$$addBindingClass(t),function(e,t){var i=t.parent();n||F.$$addBindingClass(i),F.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function fe(t,n){switch(t=jr(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function he(e,t){if("srcdoc"==t)return A.HTML;var n=_(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?A.RESOURCE_URL:void 0}function pe(e,t,r,i,o){var a=he(e,i);o=x[i]||o;var s=n(r,!0,a,o);if(s){if("multiple"===i&&"select"===_(e))throw Wi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Y(e));t.push({priority:100,compile:function(){return{pre:function(e,t,u){var c=u.$$observers||(u.$$observers=de());if(E.test(i))throw Wi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=u[i];l!==r&&(s=l&&n(l,!0,a,o),r=l),s&&(u[i]=s(e),(c[i]||(c[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?u.$updateClass(e,t):u.$set(i,e)}))}}}})}}function $e(t,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]==a){t[i++]=r;for(var c=i,l=c+s-1,f=t.length;c<f;c++,l++)l<f?t[c]=t[l]:delete t[c];t.length-=s-1,t.context===a&&(t.context=r);break}u&&u.replaceChild(r,a);var h=e.document.createDocumentFragment();for(i=0;i<s;i++)h.appendChild(n[i]);for(Rr.hasData(a)&&(Rr.data(r,Rr.data(a)),Rr(a).off("$destroy")),Rr.cleanData(h.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function ve(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function me(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(e){i(e,Y(n))}}function ge(e,t,i,o,a){function u(t,n,r){S(i.$onChanges)&&n!==r&&(ye||(e.$$postDigest(j),ye=[]),l||(l={},ye.push(c)),l[t]&&(r=l[t].previousValue),l[t]=new $t(r,n))}function c(){i.$onChanges(l),l=void 0}var l,f=[],h={};return r(o,function(r,o){var c,l,d,$,v,m=r.attrName,g=r.optional,y=r.mode;switch(y){case"@":g||Vr.call(t,m)||(i[o]=t[m]=void 0),t.$observe(m,function(e){if(w(e)||N(e)){var t=i[o];u(o,e,t),i[o]=e}}),t.$$observers[m].$$scope=e,c=t[m],w(c)?i[o]=n(c)(e):N(c)&&(i[o]=c),h[o]=new $t(Gi,i[o]);break;case"=":if(!Vr.call(t,m)){if(g)break;t[m]=void 0}if(g&&!t[m])break;l=s(t[m]),$=l.literal?q:function(e,t){return e===t||e!==e&&t!==t},d=l.assign||function(){throw c=i[o]=l(e),Wi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[m],m,a.name)},c=i[o]=l(e);var b=function(t){return $(t,i[o])||($(t,c)?d(e,t=i[o]):i[o]=t),c=t};b.$stateful=!0,v=r.collection?e.$watchCollection(t[m],b):e.$watch(s(t[m],b),null,l.literal),f.push(v);break;case"<":if(!Vr.call(t,m)){if(g)break;t[m]=void 0}if(g&&!t[m])break;l=s(t[m]);var x=i[o]=l(e);h[o]=new $t(Gi,i[o]),v=e.$watch(l,function(e,t){if(t===e){if(t===x)return;t=x}u(o,e,t),i[o]=e},l.literal),f.push(v);break;case"&":if(l=t.hasOwnProperty(m)?s(t[m]):p,l===p&&g)break;i[o]=function(t){return l(e,t)}}}),{initialChanges:h,removeWatches:f.length&&function(){for(var e=0,t=f.length;e<t;++e)f[e]()}}}var ye,be=/^\w/,we=e.document.createElement("div"),Ce=M;I.prototype={$normalize:vt,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=mt(e,t);n&&n.length&&T.addClass(this.$$element,n);var r=mt(t,e);r&&r.length&&T.removeClass(this.$$element,r)},$set:function(e,t,n,o){var a,s=this.$$element[0],u=ze(s,e),c=We(e),l=e;if(u?(this.$$element.prop(e,t),o=u):c&&(this[c]=t,l=c),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=se(e,"-"))),a=_(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=V(t,"src"===e);else if("img"===a&&"srcset"===e&&g(t)){for(var f="",h=Kr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test(h)?p:/(,)/,$=h.split(d),v=Math.floor($.length/2),y=0;y<v;y++){var b=2*y;f+=V(Kr($[b]),!0),f+=" "+Kr($[b+1])}var w=Kr($[2*y]).split(/\s/);f+=V(Kr(w[0]),!0),2===w.length&&(f+=" "+Kr(w[1])),this[e]=t=f}n!==!1&&(null===t||m(t)?this.$$element.removeAttr(o):be.test(o)?this.$$element.attr(o,t):D(this.$$element[0],o,t));var x=this.$$observers;x&&r(x[l],function(e){try{e(t)}catch(e){i(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=de()),i=r[e]||(r[e]=[]);return i.push(t),$.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||m(n[e])||t(n[e])}),function(){R(i,t)}}};var Se=n.startSymbol(),Ee=n.endSymbol(),Ae="{{"==Se&&"}}"==Ee?d:function(e){return e.replace(/\{\{/g,Se).replace(/}}/g,Ee)},ke=/^ngAttr[A-Z]/,Me=/^(.+)Start$/;return F.$$addBindingInfo=O?function(e,t){var n=e.data("$binding")||[];Jr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,F.$$addBindingClass=O?function(e){P(e,"ng-binding")}:p,F.$$addScopeInfo=O?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:p,F.$$addScopeClass=O?function(e,t){P(e,t?"ng-isolate-scope":"ng-scope")}:p,F.$$createComment=function(t,n){var r="";return O&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},F}]}function $t(e,t){this.previousValue=e,this.currentValue=t}function vt(e){return we(e.replace(Zi,""))}function mt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function gt(e){e=Rr(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];n.nodeType===ui&&Lr.call(e,t,1)}return e}function yt(e,t){if(t&&w(t))return t;if(w(e)){var n=Yi.exec(e);if(n)return n[3]}}function bt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){fe(t,"controller"),y(t)?c(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!y(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);e.$scope[n]=r}return function(t,a,s,u){var l,f,h,p;if(s=s===!0,u&&w(u)&&(p=u),w(t)){if(f=t.match(Yi),!f)throw Ji("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);h=f[1],p=p||f[3],t=e.hasOwnProperty(h)?e[h]:he(a.$scope,h,!0)||(n?he(i,h,!0):void 0),le(t,h,!0)}if(s){var d=(Jr(t)?t[t.length-1]:t).prototype;l=Object.create(d||null),p&&o(a,p,l,h||t.name);var $;return $=c(function(){var e=r.invoke(t,l,a,h);return e!==l&&(y(e)||S(e))&&(l=e,p&&o(a,p,l,h||t.name)),l},{instance:l,identifier:p})}return l=r.instantiate(t,a,h),p&&o(a,p,l,h||t.name),l}}]}function wt(){this.$get=["$window",function(e){return Rr(e.document)}]}function xt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Ct(e){return y(e)?C(e)?e.toISOString():z(e):e}function St(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||m(e)||(Jr(e)?r(e,function(e){t.push(te(n)+"="+te(Ct(e)))}):t.push(te(n)+"="+te(Ct(e))))}),t.join("&")}}}function Et(){this.$get=function(){return function(e){function t(e,o,a){null===e||m(e)||(Jr(e)?r(e,function(e,n){t(e,o+"["+(y(e)?n:"")+"]")}):y(e)&&!C(e)?i(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(te(o)+"="+te(Ct(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function At(e,t){if(w(e)){var n=e.replace(no,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Xi)||kt(n))&&(e=W(n))}}return e}function kt(e){var t=e.match(eo);return t&&to[t[0]].test(e)}function Ot(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=de();return w(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(jr(Kr(e.substr(0,n))),Kr(e.substr(n+1)))}):y(e)&&r(e,function(e,n){t(jr(n),Kr(e))}),i}function Mt(e){var t;return function(n){if(t||(t=Ot(e)),n){var r=t[jr(n)];return void 0===r&&(r=null),r}return t}}function Tt(e,t,n,i){return S(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function Nt(e){return 200<=e&&e<300}function Vt(){var e=this.defaults={transformResponse:[At],transformRequest:[function(e){return!y(e)||O(e)||T(e)||M(e)?e:z(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ve(Qi),put:ve(Qi),patch:ve(Qi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return g(e)?(n=!!e,this):n};var i=!0;this.useLegacyPromiseExtensions=function(e){return g(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,u,l,f,h){function p(n){function o(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(e,t){var n,i={};return r(e,function(e,r){S(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function s(t){var n,r,i,o=e.headers,s=c({},t.headers);o=c({},o.common,o[jr(t.method)]);e:for(n in o){r=jr(n);for(i in s)if(jr(i)===r)continue e;s[n]=o[n]}return a(s,ve(t))}function u(t){var n=t.headers,i=Tt(t.data,Mt(n),void 0,t.transformRequest);return m(i)&&r(n,function(e,t){"content-type"===jr(t)&&delete n[t]}),m(t.withCredentials)&&!m(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,i).then(l,l)}function l(e){var t=c({},e);return t.data=Tt(e.data,e.headers,e.status,p.transformResponse),Nt(e.status)?t:f.reject(t)}if(!y(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!w(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var p=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);p.headers=s(n),p.method=Ir(p.method),p.paramSerializer=w(p.paramSerializer)?h.get(p.paramSerializer):p.paramSerializer;var d=[],$=[],g=f.when(p);return r(C,function(e){(e.request||e.requestError)&&d.unshift(e.request,e.requestError),(e.response||e.responseError)&&$.push(e.response,e.responseError)}),g=o(g,d),g=g.then(u),g=o(g,$),i?(g.success=function(e){return le(e,"fn"),g.then(function(t){e(t.data,t.status,t.headers,p)}),g},g.error=function(e){return le(e,"fn"),g.then(null,function(t){e(t.data,t.status,t.headers,p)}),g}):(g.success=io("success"),g.error=io("error")),g}function d(e){r(arguments,function(e){p[e]=function(t,n){return p(c({},n||{},{method:e,url:t}))}})}function $(e){r(arguments,function(e){p[e]=function(t,n,r){return p(c({},r||{},{method:e,url:t,data:n}))}})}function v(t,i){function o(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?l.$applyAsync(r):l.$$phase?r():l.$apply(r)}}),t}}function u(e,t,r,i){function o(){c(t,e,r,i)}$&&(Nt(e)?$.put(E,[e,t,Ot(r),i]):$.remove(E)),n?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function c(e,n,r,i){n=n>=-1?n:0,(Nt(n)?w.resolve:w.reject)({data:e,status:n,headers:Mt(r),config:t,statusText:i})}function h(e){c(e.data,e.status,ve(e.headers()),e.statusText)}function d(){var e=p.pendingRequests.indexOf(t);e!==-1&&p.pendingRequests.splice(e,1)}var $,v,w=f.defer(),C=w.promise,S=t.headers,E=b(t.url,t.paramSerializer(t.params));if(p.pendingRequests.push(t),C.then(d,d),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||($=y(t.cache)?t.cache:y(e.cache)?e.cache:x),$&&(v=$.get(E),g(v)?V(v)?v.then(h,h):Jr(v)?c(v[1],v[0],ve(v[2]),v[3]):c(v,200,{},"OK"):$.put(E,C)),m(v)){var A=Dn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;A&&(S[t.xsrfHeaderName||e.xsrfHeaderName]=A),a(t.method,E,i,u,S,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return C}function b(e,t){return t.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+t),e}var x=u("$http");e.paramSerializer=w(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var C=[];return r(o,function(e){C.unshift(w(e)?h.get(e):h.invoke(e))}),p.pendingRequests=[],d("get","delete","head","jsonp"),$("post","put","patch"),p.defaults=e,p}]}function jt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function It(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return Dt(e,r,e.defer,t,n[0])}]}function Dt(e,t,n,i,o){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){$i(r,"load",a),$i(r,"error",a),o.body.removeChild(r),r=null;var s=-1,u="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),u=e.type,s="error"===e.type?404:200),n&&n(s,u)},di(r,"load",a),di(r,"error",a),o.body.appendChild(r),a}return function(o,s,u,c,l,f,h,d,$,v){function y(){x&&x(),C&&C.abort()}function b(t,r,i,o,a){g(E)&&n.cancel(E),x=C=null,t(r,i,o,a),e.$$completeOutstandingRequest(p)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===jr(o))var w=i.createCallback(s),x=a(s,w,function(e,t){var n=200===e&&i.getResponse(w);b(c,e,n,"",t),i.removeCallback(w)});else{var C=t(o,s);C.open(o,s,!0),r(l,function(e,t){g(e)&&C.setRequestHeader(t,e)}),C.onload=function(){var e=C.statusText||"",t="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=t?200:"file"==In(s).protocol?404:0),b(c,n,t,C.getAllResponseHeaders(),e)};var S=function(){b(c,-1,null,null,"")};if(C.onerror=S,C.onabort=S,r($,function(e,t){C.addEventListener(t,e)}),r(v,function(e,t){C.upload.addEventListener(t,e)}),h&&(C.withCredentials=!0),d)try{C.responseType=d}catch(e){if("json"!==d)throw e}C.send(m(u)?null:u)}if(f>0)var E=n(y,f);else V(f)&&f.then(y)}}function Pt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(p,e).replace(d,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=z(e)}return e}function u(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function l(o,l,p,d){function v(e){try{return e=V(e),d&&!g(e)?e:s(e)}catch(e){r(oo.interr(o,e))}}if(!o.length||o.indexOf(e)===-1){var y;if(!l){var b=a(o);y=$(b),y.exp=o,y.expressions=[],y.$$watchDelegate=u}return y}d=!!d;for(var w,x,C,E=0,A=[],k=[],O=o.length,M=[],T=[];E<O;){if((w=o.indexOf(e,E))==-1||(x=o.indexOf(t,w+f))==-1){E!==O&&M.push(a(o.substring(E)));break}E!==w&&M.push(a(o.substring(E,w))),C=o.substring(w+f,x),A.push(C),k.push(n(C,v)),E=x+h,T.push(M.length),M.push("")}if(p&&M.length>1&&oo.throwNoconcat(o),!l||A.length){var N=function(e){for(var t=0,n=A.length;t<n;t++){if(d&&m(e[t]))return;M[T[t]]=e[t]}return M.join("")},V=function(e){return p?i.getTrusted(p,e):i.valueOf(e)};return c(function(e){var t=0,n=A.length,i=new Array(n);try{for(;t<n;t++)i[t]=k[t](e);return N(i)}catch(e){r(oo.interr(o,e))}},{exp:o,expressions:A,$$watchDelegate:function(e,t){var n;return e.$watchGroup(k,function(r,i){var o=N(r);S(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var f=e.length,h=t.length,p=new RegExp(e.replace(/./g,o),"g"),d=new RegExp(t.replace(/./g,o),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function _t(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,u,c){function l(){f?o.apply(null,h):o($)}var f=arguments.length>4,h=f?L(arguments,4):[],p=t.setInterval,d=t.clearInterval,$=0,v=g(c)&&!c,m=(v?r:n).defer(),y=m.promise;return u=g(u)?u:0,y.$$intervalId=p(function(){v?i.defer(l):e.$evalAsync(l),m.notify($++),u>0&&$>=u&&(m.resolve($),d(y.$$intervalId),delete a[y.$$intervalId]),v||e.$apply()},s),a[y.$$intervalId]=m,y}var a={};return o.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},o}]}function Rt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ee(t[n]);return t.join("/")}function Ft(e,t){var n=In(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||uo[n.protocol]||null}function qt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=In(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=X(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ut(e,t){return 0===e.lastIndexOf(t,0)}function Lt(e,t){if(Ut(t,e))return t.substr(e.length)}function Ht(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function Bt(e){return e.replace(/(#.+)|#$/,"$1")}function zt(e){return e.substr(0,Ht(e).lastIndexOf("/")+1)}function Wt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Gt(e,t,n){this.$$html5=!0,n=n||"",Ft(e,this),this.$$parse=function(e){var n=Lt(t,e);if(!w(n))throw co("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);qt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),n=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Rt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return g(o=Lt(e,r))?(a=o,s=g(o=Lt(n,o))?t+(Lt("/",o)||o):e+a):g(o=Lt(t,r))?s=t+o:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Zt(e,t,n){Ft(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return Ut(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Lt(e,r)||Lt(t,r);m(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",m(a)&&(e=r,this.replace())):(o=Lt(n,a),m(o)&&(o=a)),qt(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Rt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Ht(e)==Ht(t)&&(this.$$parse(t),!0)}}function Jt(e,t,n){this.$$html5=!0,Zt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==Ht(r)?o=r:(a=Lt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=Q(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Rt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Yt(e){return function(){return this[e]}}function Kt(e,t){return function(n){return m(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Xt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return g(t)?(e=t,this):e},this.html5Mode=function(e){return N(e)?(t.enabled=e,this):y(e)?(N(e.enabled)&&(t.enabled=e.enabled),N(e.requireBase)&&(t.requireBase=e.requireBase),N(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=c.url(),o=c.$$state;try{r.url(e,t,n),c.$$state=r.state()}catch(e){throw c.url(i),c.$$state=o,e}}function u(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,l,f,h=r.baseHref(),p=r.url();if(t.enabled){if(!h&&t.requireBase)throw co("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=Wt(p)+(h||"/"),l=i.history?Gt:Jt}else f=Ht(p),l=Zt;var d=zt(f);c=new l(f,d,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=r.state();var $=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Rr(e.target);"a"!==_(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=In(s.animVal).href),$.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(s,u)&&(e.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Bt(c.absUrl())!=Bt(p)&&r.url(c.absUrl(),!0);var v=!0;return r.onUrlChange(function(e,t){return m(Lt(d,e))?void(a.location.href=e):(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;e=Bt(e),c.$$parse(e),c.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,c.absUrl()===e&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(v=!1,u(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Bt(r.url()),t=Bt(c.absUrl()),o=r.state(),a=c.$$replace,l=e!==t||c.$$html5&&i.history&&o!==c.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var t=c.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(r?(c.$$parse(e),c.$$state=o):(l&&s(t,a,o===c.$$state?null:c.$$state),u(e,o)))})),c.$$replace=!1}),c}]}function Qt(){var e=!0,t=this;this.debugEnabled=function(t){return g(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||p,a=!1;try{a=!!o.apply}catch(e){}return a?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function en(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw fo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function tn(e){return e+""}function nn(e,t){if(e){if(e.constructor===e)throw fo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw fo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw fo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw fo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function rn(e,t){if(e){if(e.constructor===e)throw fo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===ho||e===po||e===$o)throw fo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function on(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw fo("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function an(e,t){return"undefined"!=typeof e?e:t}function sn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function un(e,t){var n=e(t);return!n.$stateful}function cn(e,t){var n,i;switch(e.type){case yo.Program:n=!0,r(e.body,function(e){cn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case yo.Literal:e.constant=!0,e.toWatch=[];break;case yo.UnaryExpression:cn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case yo.BinaryExpression:cn(e.left,t),cn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case yo.LogicalExpression:cn(e.left,t),cn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case yo.ConditionalExpression:cn(e.test,t),cn(e.alternate,t),cn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case yo.Identifier:e.constant=!1,e.toWatch=[e];break;case yo.MemberExpression:cn(e.object,t),e.computed&&cn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case yo.CallExpression:
n=!!e.filter&&un(t,e.callee.name),i=[],r(e.arguments,function(e){cn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&un(t,e.callee.name)?i:[e];break;case yo.AssignmentExpression:cn(e.left,t),cn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case yo.ArrayExpression:n=!0,i=[],r(e.elements,function(e){cn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case yo.ObjectExpression:n=!0,i=[],r(e.properties,function(e){cn(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case yo.ThisExpression:e.constant=!1,e.toWatch=[];break;case yo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function ln(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function fn(e){return e.type===yo.Identifier||e.type===yo.MemberExpression}function hn(e){if(1===e.body.length&&fn(e.body[0].expression))return{type:yo.AssignmentExpression,left:e.body[0].expression,right:{type:yo.NGValueParameter},operator:"="}}function pn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===yo.Literal||e.body[0].expression.type===yo.ArrayExpression||e.body[0].expression.type===yo.ObjectExpression)}function dn(e){return e.constant}function $n(e,t){this.astBuilder=e,this.$filter=t}function vn(e,t){this.astBuilder=e,this.$filter=t}function mn(e){return"constructor"==e}function gn(e){return S(e.valueOf)?e.valueOf():wo.call(e)}function yn(){var e,t,n=de(),i=de(),o={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(a){function s(e,t,r){var o,s,c;switch(r=r||b,typeof e){case"string":e=e.trim(),c=e;var v=r?i:n;if(o=v[c],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var g=r?y:m,w=new go(g),x=new bo(w,a,g);o=x.parse(e),o.constant?o.$$watchDelegate=d:s?o.$$watchDelegate=o.literal?h:f:o.inputs&&(o.$$watchDelegate=l),r&&(o=u(o)),v[c]=o}return $(o,t);case"function":return $(e,t);default:return $(p,t)}}function u(e){function t(t,n,r,i){var o=b;b=!0;try{return e(t,n,r,i)}finally{b=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=u(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=u(e.inputs[n]);return t.inputs=e.inputs,t}function c(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=gn(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function l(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var s=c;return a=a[0],e.$watch(function(e){var t=a(e);return c(t,s)||(o=r(e,void 0,void 0,[t]),s=t&&gn(t)),o},t,n,i)}for(var u=[],l=[],f=0,h=a.length;f<h;f++)u[f]=c,l[f]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;n<i;n++){var s=a[n](e);(t||(t=!c(s,u[n])))&&(l[n]=s,u[n]=s&&gn(s))}return t&&(o=r(e,void 0,void 0,l)),o},t,n,i)}function f(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,S(t)&&t.apply(this,arguments),g(e)&&r.$$postDigest(function(){g(o)&&i()})},n)}function h(e,t,n,i){function o(e){var t=!0;return r(e,function(e){g(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,r){s=e,S(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(s)&&a()})},n)}function d(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function $(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==h&&n!==f,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return g(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==l?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=l,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var v=Qr().noUnsafeEval,m={csp:v,expensiveChecks:!1,literals:F(o),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},y={csp:v,expensiveChecks:!0,literals:F(o),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},b=!1;return s.$$runningExpensiveChecks=function(){return b},s}]}function bn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return xn(function(t){e.$evalAsync(t)},t)}]}function wn(){this.$get=["$browser","$exceptionHandler",function(e,t){return xn(function(t){e.defer(t)},t)}]}function xn(e,n){function i(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(e){var t,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=i.length;o<a;++o){r=i[o][0],t=i[o][e.status];try{S(t)?r.resolve(t(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(e){r.reject(e),n(e)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){a(t)}))}function u(){this.promise=new i}function l(e){var t=new u,n=0,i=Jr(e)?[]:{};return r(e,function(e,r){n++,g(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}function f(e){var t=p();return r(e,function(e){g(e).then(t.resolve,t.reject)}),t.promise}var h=t("$q",TypeError),p=function(){var e=new u;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};c(i.prototype,{then:function(e,t,n){if(m(e)&&m(t)&&m(n))return this;var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&s(this.$$state),r.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return v(t,!0,e)},function(t){return v(t,!1,e)},t)}}),c(u.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){u||(u=!0,a.$$resolve(e))}function r(e){u||(u=!0,a.$$reject(e))}var i,a=this,u=!1;try{(y(e)||S(e))&&(i=e&&e.then),S(i)?(this.promise.$$state.status=-1,i.call(e,t,r,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(e){r(e),n(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;o<a;o++){i=r[o][0],e=r[o][3];try{i.notify(S(e)?e(t):t)}catch(e){n(e)}}})}});var d=function(e){var t=new u;return t.reject(e),t.promise},$=function(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},v=function(e,t,n){var r=null;try{S(n)&&(r=n())}catch(e){return $(e,!1)}return V(r)?r.then(function(){return $(e,t)},function(e){return $(e,!1)}):$(e,t)},g=function(e,t,n,r){var i=new u;return i.resolve(e),i.promise.then(t,n,r)},b=g,w=function(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!S(e))throw h("norslvr","Expected resolverFn, got '{0}'",e);var r=new u;return e(t,n),r.promise};return w.prototype=i.prototype,w.defer=p,w.reject=d,w.when=g,w.resolve=b,w.all=l,w.race=f,w}function Cn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function Sn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var i=10,o=t("$rootScope"),s=null,u=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$exceptionHandler","$parse","$browser",function(t,c,l){function f(e){e.currentScope.$$destroyed=!0}function h(e){9===_r&&(e.$$childHead&&h(e.$$childHead),e.$$nextSibling&&h(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function d(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function $(e){if(E.$$phase)throw o("inprog","{0} already in progress",E.$$phase);E.$$phase=e}function v(){E.$$phase=null}function g(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function x(){for(;O.length;)try{O.shift()()}catch(e){t(e)}u=null}function C(){null===u&&(u=l.defer(function(){E.$apply(x)}))}d.prototype={constructor:d,$new:function(t,n){var r;return n=n||this,t?(r=new d,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",f),r},$watch:function(e,t,n,r){var i=c(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,a=o.$$watchers,u={fn:t,last:w,get:i,exp:r||e,eq:!!n};return s=null,S(t)||(u.fn=p),a||(a=o.$$watchers=[]),a.unshift(u),g(this,1),function(){R(a,u)>=0&&g(o,-1),s=null}},$watchGroup:function(e,t){function n(){u=!1,c?(c=!1,t(o,o,s)):t(o,i,s)}var i=new Array(e.length),o=new Array(e.length),a=[],s=this,u=!1,c=!0;if(!e.length){var l=!0;return s.$evalAsync(function(){l&&t(o,o,s)}),function(){l=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){o[t]=e,i[t]=r,u||(u=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function r(e){o=e;var t,r,i,s,u;if(!m(o)){if(y(o))if(n(o)){a!==p&&(a=p,v=a.length=0,f++),t=o.length,v!==t&&(f++,a.length=v=t);for(var c=0;c<t;c++)u=a[c],s=o[c],i=u!==u&&s!==s,i||u===s||(f++,a[c]=s)}else{a!==d&&(a=d={},v=0,f++),t=0;for(r in o)Vr.call(o,r)&&(t++,s=o[r],u=a[r],r in a?(i=u!==u&&s!==s,i||u===s||(f++,a[r]=s)):(v++,a[r]=s,f++));if(v>t){f++;for(r in a)Vr.call(o,r)||(v--,delete a[r])}}else a!==o&&(a=o,f++);return f}}function i(){if($?($=!1,t(o,o,u)):t(o,s,u),l)if(y(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var r in o)Vr.call(o,r)&&(s[r]=o[r])}else s=o}r.$stateful=!0;var o,a,s,u=this,l=t.length>1,f=0,h=c(e,r),p=[],d={},$=!0,v=0;return this.$watch(h,i)},$digest:function(){var e,n,r,a,c,f,h,p,d,m,g,y,b=i,C=this,O=[];$("$digest"),l.$$checkUrlChange(),this===E&&null!==u&&(l.defer.cancel(u),x()),s=null;do{p=!1,m=C;for(var T=0;T<A.length;T++){try{y=A[T],y.scope.$eval(y.expression,y.locals)}catch(e){t(e)}s=null}A.length=0;e:do{if(f=m.$$watchers)for(h=f.length;h--;)try{if(e=f[h])if(c=e.get,(n=c(m))===(r=e.last)||(e.eq?q(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(e===s){p=!1;break e}}else p=!0,s=e,e.last=e.eq?F(n,null):n,a=e.fn,a(n,r===w?n:r,m),b<5&&(g=4-b,O[g]||(O[g]=[]),O[g].push({msg:S(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(e){t(e)}if(!(d=m.$$watchersCount&&m.$$childHead||m!==C&&m.$$nextSibling))for(;m!==C&&!(d=m.$$nextSibling);)m=m.$parent}while(m=d);if((p||A.length)&&!b--)throw v(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,O)}while(p||A.length);for(v();M<k.length;)try{k[M++]()}catch(e){t(e)}k.length=M=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===E&&l.$$applicationDestroyed(),g(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){E.$$phase||A.length||l.defer(function(){A.length&&E.$digest()}),A.push({scope:this,expression:c(e),locals:t})},$$postDigest:function(e){k.push(e)},$apply:function(e){try{$("$apply");try{return this.$eval(e)}finally{v()}}catch(e){t(e)}finally{try{E.$digest()}catch(e){throw t(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&O.push(t),e=c(e),C()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);r!==-1&&(n[r]=null,b(i,1,e))}},$emit:function(e,n){var r,i,o,a=[],s=this,u=!1,c={name:e,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=U([c],arguments,1);do{for(r=s.$$listeners[e]||a,c.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,l)}catch(e){t(e)}else r.splice(i,1),i--,o--;if(u)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,n){var r=this,i=r,o=r,a={name:e,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return a;for(var s,u,c,l=U([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[e]||[],u=0,c=s.length;u<c;u++)if(s[u])try{s[u].apply(null,l)}catch(e){t(e)}else s.splice(u,1),u--,c--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var E=new d,A=E.$$asyncQueue=[],k=E.$$postDigestQueue=[],O=E.$$applyAsyncQueue=[],M=0;return E}]}function En(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=In(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function An(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw xo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Xr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(E(e))return new RegExp("^"+e.source+"$");throw xo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function kn(e){var t=[];return g(e)&&r(e,function(e){t.push(An(e))}),t}function On(){this.SCE_CONTEXTS=Co;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=kn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=kn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Dn(t):!!e.exec(t.href)}function i(n){var i,o,a=In(n.toString()),s=!1;for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=f.hasOwnProperty(e)?f[e]:null;if(!n)throw xo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||m(t)||""===t)return t;if("string"!=typeof t)throw xo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof l?e.$$unwrapTrustedValue():e}function u(e,t){if(null===t||m(t)||""===t)return t;var n=f.hasOwnProperty(e)?f[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Co.RESOURCE_URL){if(i(t))return t;throw xo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Co.HTML)return c(t);throw xo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw xo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var l=o(),f={};return f[Co.HTML]=o(l),f[Co.CSS]=o(l),f[Co.URL]=o(l),f[Co.JS]=o(l),f[Co.RESOURCE_URL]=o(f[Co.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function Mn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&_r<8)throw xo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=ve(Co);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=d),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(Co,function(e,t){var n=jr(t);i[we("parse_as_"+n)]=function(t){return o(e,t)},i[we("get_trusted_"+n)]=function(t){return a(e,t)},i[we("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function Tn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!o&&e.history&&e.history.pushState,s=f((/android (\d+)/.exec(jr((e.navigator||{}).userAgent))||[])[1]),u=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,h=c.body&&c.body.style,p=!1,d=!1;if(h){for(var $ in h)if(r=l.exec($)){n=r[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in h&&"webkit"),p=!!("transition"in h||n+"Transition"in h),d=!!("animation"in h||n+"Animation"in h),!s||p&&d||(p=w(h.webkitTransition),d=w(h.webkitAnimation))}return{history:!(!a||s<4||u),hasEvent:function(e){if("input"===e&&_r<=11)return!1;if(m(i[e])){var t=c.createElement("div");i[e]="on"+e in t}return i[e]},csp:Qr(),vendorPrefix:n,transitions:p,animations:d,android:s}}]}function Nn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function o(a,s){function u(e){if(!s)throw So("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return r.reject(e)}o.totalPendingRequests++,w(a)&&!m(t.get(a))||(a=i.getTrustedResourceUrl(a));var l=n.defaults&&n.defaults.transformResponse;return Jr(l)?l=l.filter(function(e){return e!==At}):l===At&&(l=null),n.get(a,c({cache:t,transformResponse:l},e)).finally(function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},u)}return o.totalPendingRequests=0,o}]}function Vn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),o=[];return r(i,function(e){var i=Gr.element(e).data("$binding");i&&r(i,function(r){if(n){var i=new RegExp("(^|\\s)"+Xr(t)+"(\\s|\\||$)");i.test(r)&&o.push(e)}else r.indexOf(t)!=-1&&o.push(e)})}),o},i.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function jn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,u){S(o)||(u=s,s=o,o=p);var c,l=L(arguments,3),f=g(u)&&!u,h=(f?r:n).defer(),d=h.promise;return c=t.defer(function(){try{h.resolve(o.apply(null,l))}catch(e){h.reject(e),i(e)}finally{delete a[d.$$timeoutId]}f||e.$apply()},s),d.$$timeoutId=c,a[c]=h,d}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function In(e){var t=e;return _r&&(Eo.setAttribute("href",t),t=Eo.href),Eo.setAttribute("href",t),{href:Eo.href,protocol:Eo.protocol?Eo.protocol.replace(/:$/,""):"",host:Eo.host,search:Eo.search?Eo.search.replace(/^\?/,""):"",hash:Eo.hash?Eo.hash.replace(/^#/,""):"",hostname:Eo.hostname,port:Eo.port,pathname:"/"===Eo.pathname.charAt(0)?Eo.pathname:"/"+Eo.pathname}}function Dn(e){var t=w(e)?In(e):e;return t.protocol===Ao.protocol&&t.host===Ao.host}function Pn(){this.$get=$(e)}function _n(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,u,c=n.cookie||"";if(c!==i)for(i=c,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(u=t(o.substring(0,s)),m(r[u])&&(r[u]=t(o.substring(s+1))));return r}}function Rn(){this.$get=_n}function Fn(e){function t(i,o){if(y(i)){var a={};return r(i,function(e,n){a[n]=t(n,e)}),a}return e.factory(i+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Bn),t("date",or),t("filter",qn),t("json",ar),t("limitTo",sr),t("lowercase",jo),t("number",zn),t("orderBy",cr),t("uppercase",Io)}function qn(){return function(e,r,i,o){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var a,s,u=Hn(r);switch(u){case"function":a=r;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Un(r,i,o,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function Un(e,t,n,r){var i,o=y(e)&&n in e;return t===!0?t=q:S(t)||(t=function(e,t){return!m(e)&&(null===e||null===t?e===t:!(y(t)||y(e)&&!v(e))&&(e=jr(""+e),t=jr(""+t),e.indexOf(t)!==-1))}),i=function(i){return o&&!y(i)?Ln(i,e[n],t,n,!1):Ln(i,e,t,n,r)}}function Ln(e,t,n,r,i,o){var a=Hn(e),s=Hn(t);if("string"===s&&"!"===t.charAt(0))return!Ln(e,t.substring(1),n,r,i);if(Jr(e))return e.some(function(e){return Ln(e,t,n,r,i)});switch(a){case"object":var u;if(i){for(u in e)if("$"!==u.charAt(0)&&Ln(e[u],t,n,r,!0))return!0;return!o&&Ln(e,t,n,r,!1)}if("object"===s){for(u in t){var c=t[u];if(!S(c)&&!m(c)){var l=u===r,f=l?e:e[u];if(!Ln(f,c,n,r,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Hn(e){return null===e?"null":typeof e}function Bn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return m(n)&&(n=t.CURRENCY_SYM),m(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Zn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function zn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Zn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Wn(e){var t,n,r,i,o,a=0;for((n=e.indexOf(Oo))>-1&&(e=e.replace(Oo,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)==Mo;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==Mo;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>ko&&(t=t.splice(0,ko-1),a=n-1,n=1),{d:t,e:a,i:n}}function Gn(e,t,n,r){var i=e.d,o=i.length-e.i;t=m(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var u=a;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var f=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);f&&(i.unshift(f),e.i++)}function Zn(e,t,n,r,i){if(!w(e)&&!x(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,u=Math.abs(e)+"",c="";if(a)c="∞";else{o=Wn(u),Gn(o,i,t.minFrac,t.maxFrac);var l=o.d,f=o.i,h=o.e,p=[];for(s=l.reduce(function(e,t){return e&&!t},!0);f<0;)l.unshift(0),f++;f>0?p=l.splice(f,l.length):(p=l,l=[0]);var d=[];for(l.length>=t.lgSize&&d.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)d.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),c=d.join(n),p.length&&(c+=r+p.join("")),h&&(c+="e+"+h)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Jn(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=Mo+e;return n&&(e=e.substr(e.length-t)),i+e}function Yn(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&n==-12&&(a=12),Jn(a,t,r,i)}}function Kn(e,t,n){return function(r,i){var o=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Ir(a+e);return i[s][o]}}function Xn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Jn(Math[r>0?"floor":"ceil"](r/60),2)+Jn(Math.abs(r%60),2)}function Qn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function er(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function tr(e){return function(t){var n=Qn(t.getFullYear()),r=er(t),i=+r-+n,o=1+Math.round(i/6048e5);return Jn(o,e)}}function nr(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function rr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function ir(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function or(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=f(t[9]+t[10]),o=f(t[9]+t[11])),a.call(r,f(t[1]),f(t[2])-1,f(t[3]));var u=f(t[4]||0)-i,c=f(t[5]||0)-o,l=f(t[6]||0),h=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,u,c,l,h),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,u="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,w(n)&&(n=Vo.test(n)?f(n):t(n)),x(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;i;)s=No.exec(i),s?(c=U(c,s,1),i=c.pop()):(c.push(i),i=null);var l=n.getTimezoneOffset();return o&&(l=G(o,l),n=J(n,o,!0)),r(c,function(t){a=To[t],u+=a?a(n,e.DATETIME_FORMATS,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function ar(){return function(e,t){return m(t)&&(t=2),z(e,t)}}function sr(){return function(e,t,r){return t=Math.abs(Number(t))===1/0?Number(t):f(t),isNaN(t)?e:(x(e)&&(e=e.toString()),n(e)?(r=!r||isNaN(r)?0:f(r),r=r<0?Math.max(0,e.length+r):r,t>=0?ur(e,r,r+t):0===r?ur(e,t,e.length):ur(e,Math.max(0,r+t),r)):e)}}function ur(e,t,n){return w(e)?e.slice(t,n):Ur.call(e,t,n)}function cr(e){function r(t){return t.map(function(t){var n=1,r=d;if(S(t))r=t;else if(w(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return S(e.valueOf)&&(e=e.valueOf(),i(e))?e:v(e)&&(e=e.toString(),i(e))?e:e}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(y(o)&&(o=e.index),y(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(e,i,o,u){function c(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:f.map(function(n){return a(n.get(e),t)})}}function l(e,t){for(var n=0,r=f.length;n<r;n++){var i=p(e.predicateValues[n],t.predicateValues[n]);if(i)return i*f[n].descending*h}return p(e.tieBreaker,t.tieBreaker)*h}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Jr(i)||(i=[i]),0===i.length&&(i=["+"]);var f=r(i),h=o?-1:1,p=S(u)?u:s,d=Array.prototype.map.call(e,c);return d.sort(l),e=d.map(function(e){return e.value})}}function lr(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",$(e)}function fr(e,t){e.$name=t}function hr(e,t,n,i,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=_o,a.$rollbackViewValue=function(){r(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){r(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){fe(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],r(a.$pending,function(t,n){a.$setValidity(n,null,e)}),r(a.$error,function(t,n){a.$setValidity(n,null,e)}),r(a.$$success,function(t,n){a.$setValidity(n,null,e)}),R(s,e),e.$$parentForm=_o},kr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(R(r,n),0===r.length&&delete e[t])},$animate:i}),a.$setDirty=function(){i.removeClass(e,wa),i.addClass(e,xa),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(e,wa,xa+" "+Ro),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(s,function(e){e.$setPristine()})},a.$setUntouched=function(){r(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){i.addClass(e,Ro),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function pr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function dr(e,t,n,r,i,o){$r(e,t,n,r,i,o),pr(r)}function $r(e,t,n,r,i,o){var a=jr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var u,c=function(e){if(u&&(o.defer.cancel(u),u=null),!s){var i=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Kr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))t.on("input",c);else{var l=function(e,t,n){u||(u=o.defer(function(){u=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||l(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",l)}t.on("change",c),Xo[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(Ko,function(e){if(!u){var t=this[Nr],n=t.badInput,r=t.typeMismatch;u=o.defer(function(){u=null,t.badInput===n&&t.typeMismatch===r||c(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function vr(e,t){if(C(e))return e;if(w(e)){Zo.lastIndex=0;var n=Zo.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=Qn(r),l=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function mr(e,t){return function(n,i){var o,a;if(C(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Lo.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function gr(e,t,n,r){return function(i,o,a,s,u,c,l){function f(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return g(e)&&!C(e)?n(e)||void 0:e}yr(i,o,a,s),$r(i,o,a,s,u,c);var p,d=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,p);return d&&(r=J(r,d)),r}}),s.$formatters.push(function(e){if(e&&!C(e))throw Oa("datefmt","Expected `{0}` to be a date",e);return f(e)?(p=e,p&&d&&(p=J(p,d,!0)),l("date")(e,r,d)):(p=null,"")}),g(a.min)||a.ngMin){var $;s.$validators.min=function(e){return!f(e)||m($)||n(e)>=$},a.$observe("min",function(e){
$=h(e),s.$validate()})}if(g(a.max)||a.ngMax){var v;s.$validators.max=function(e){return!f(e)||m(v)||n(e)<=v},a.$observe("max",function(e){v=h(e),s.$validate()})}}}function yr(e,t,n,r){var i=t[0],o=r.$$hasNativeValidators=y(i.validity);o&&r.$parsers.push(function(e){var n=t.prop(Nr)||{};return n.badInput||n.typeMismatch?void 0:e})}function br(e,t,n,r,i,o){if(yr(e,t,n,r),$r(e,t,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:zo.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!x(e))throw Oa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),g(n.min)||n.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||m(a)||e>=a},n.$observe("min",function(e){g(e)&&!x(e)&&(e=parseFloat(e)),a=x(e)&&!isNaN(e)?e:void 0,r.$validate()})}if(g(n.max)||n.ngMax){var s;r.$validators.max=function(e){return r.$isEmpty(e)||m(s)||e<=s},n.$observe("max",function(e){g(e)&&!x(e)&&(e=parseFloat(e)),s=x(e)&&!isNaN(e)?e:void 0,r.$validate()})}}function wr(e,t,n,r,i,o){$r(e,t,n,r,i,o),pr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Ho.test(n)}}function xr(e,t,n,r,i,o){$r(e,t,n,r,i,o),pr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Bo.test(n)}}function Cr(e,t,n,r){m(n.name)&&t.attr("name",a());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Sr(e,t,n,r,i){var o;if(g(r)){if(o=e(r),!o.constant)throw Oa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function Er(e,t,n,r,i,o,a,s){var u=Sr(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Sr(s,e,"ngFalseValue",n.ngFalseValue,!1),l=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",l),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return q(e,u)}),r.$parsers.push(function(e){return e?u:c})}function Ar(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function o(e){var t=[];return Jr(e)?(r(e,function(e){t=t.concat(o(e))}),t):w(e)?e.split(" "):y(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,u){function c(e){var t=f(e,1);u.$addClass(t)}function l(e){var t=f(e,-1);u.$removeClass(t)}function f(e,t){var n=s.data("$classCounts")||de(),i=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function h(e,t){var r=i(t,e),o=i(e,t);r=f(r,1),o=f(o,-1),r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function p(e){if(t===!0||(1&a.$index)===t){var n=o(e||[]);if(d){if(!q(e,d)){var r=o(d);h(r,n)}}else c(n)}d=Jr(e)?e.map(function(e){return ve(e)}):ve(e)}var d;a.$watch(u[e],p,!0),u.$observe("class",function(t){p(a.$eval(u[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=o(a.$eval(u[e]));i===t?c(s):l(s)}})}}}]}function kr(e){function t(e,t,s){m(t)?n("$pending",e,s):r("$pending",e,s),N(t)?t?(l(a.$error,e,s),c(a.$$success,e,s)):(c(a.$error,e,s),l(a.$$success,e,s)):(l(a.$error,e,s),l(a.$$success,e,s)),a.$pending?(i(Ea,!0),a.$valid=a.$invalid=void 0,o("",null)):(i(Ea,!1),a.$valid=Or(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var u;u=a.$pending&&a.$pending[e]?void 0:!a.$error[e]&&(!!a.$$success[e]||null),o(e,u),a.$$parentForm.$setValidity(e,u,a)}function n(e,t,n){a[e]||(a[e]={}),c(a[e],t,n)}function r(e,t,n){a[e]&&l(a[e],t,n),Or(a[e])&&(a[e]=void 0)}function i(e,t){t&&!u[e]?(f.addClass(s,e),u[e]=!0):!t&&u[e]&&(f.removeClass(s,e),u[e]=!1)}function o(e,t){e=e?"-"+se(e,"-"):"",i(ya+e,t===!0),i(ba+e,t===!1)}var a=e.ctrl,s=e.$element,u={},c=e.set,l=e.unset,f=e.$animate;u[ba]=!(u[ya]=s.hasClass(ya)),a.$setValidity=t}function Or(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Mr(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Tr=/^\/(.+)\/([a-z]*)$/,Nr="validity",Vr=Object.prototype.hasOwnProperty,jr=function(e){return w(e)?e.toLowerCase():e},Ir=function(e){return w(e)?e.toUpperCase():e},Dr=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Pr=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(jr=Dr,Ir=Pr);var _r,Rr,Fr,qr,Ur=[].slice,Lr=[].splice,Hr=[].push,Br=Object.prototype.toString,zr=Object.getPrototypeOf,Wr=t("ng"),Gr=e.angular||(e.angular={}),Zr=0;_r=e.document.documentMode,p.$inject=[],d.$inject=[];var Jr=Array.isArray,Yr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Kr=function(e){return w(e)?e.trim():e},Xr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Qr=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!g(Qr.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Qr.rules={noUnsafeEval:!r||r.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!r||r.indexOf("no-inline-style")!==-1}}else Qr.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Qr.rules},ei=function(){if(g(ei.name_))return ei.name_;var t,n,r,i,o=ni.length;for(n=0;n<o;++n)if(r=ni[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return ei.name_=i},ti=/:/g,ni=["ng-","data-ng-","ng:","x-ng-"],ri=/[A-Z]/g,ii=!1,oi=1,ai=2,si=3,ui=8,ci=9,li=11,fi={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};Me.expando="ng339";var hi=Me.cache={},pi=1,di=function(e,t,n){e.addEventListener(t,n,!1)},$i=function(e,t,n){e.removeEventListener(t,n,!1)};Me._data=function(e){return this.cache[e[this.expando]]||{}};var vi=/([\:\-\_]+(.))/g,mi=/^moz([A-Z])/,gi={mouseleave:"mouseout",mouseenter:"mouseover"},yi=t("jqLite"),bi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,wi=/<|&#?\w+;/,xi=/<([\w:-]+)/,Ci=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Si={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Si.optgroup=Si.option,Si.tbody=Si.tfoot=Si.colgroup=Si.caption=Si.thead,Si.th=Si.td;var Ei=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ai=Me.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),Me(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Rr(e>=0?this[e]:this[this.length+e])},length:0,push:Hr,sort:[].sort,splice:[].splice},ki={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){ki[jr(e)]=e});var Oi={};r("input,select,option,textarea,button,form,details".split(","),function(e){Oi[e]=!0});var Mi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:De,removeData:je,hasData:Se,cleanData:Ee},function(e,t){Me[t]=e}),r({data:De,inheritedData:Ue,scope:function(e){return Rr.data(e,"$scope")||Ue(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Rr.data(e,"$isolateScope")||Rr.data(e,"$isolateScopeNoTemplate")},controller:qe,injector:function(e){return Ue(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Pe,css:function(e,t,n){return t=we(t),g(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==si&&r!==ai&&r!==ui){var i=jr(t);if(ki[i]){if(!g(n))return e[t]||(e.attributes.getNamedItem(t)||p).specified?i:void 0;n?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(g(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return g(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(m(t)){var n=e.nodeType;return n===oi||n===si?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(m(t)){if(e.multiple&&"select"===_(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return m(t)?e.innerHTML:(Ne(e,!0),void(e.innerHTML=t))},empty:Le},function(e,t){Me.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Le&&m(2==e.length&&e!==Pe&&e!==qe?t:n)){if(y(t)){for(r=0;r<o;r++)if(e===De)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=m(a)?Math.min(o,1):o,u=0;u<s;u++){var c=e(this[u],t,n);a=a?a+c:c}return a}for(r=0;r<o;r++)e(this[r],t,n);return this}}),r({removeData:je,on:function(e,t,n,r){if(g(r))throw yi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ce(e)){var i=Ie(e,!0),o=i.events,a=i.handle;a||(a=i.handle=Ge(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],u=s.length,c=function(t,r,i){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||di(e,t,a)),s.push(n)};u--;)t=s[u],gi[t]?(c(gi[t],Je),c(t,void 0,!0)):c(t)}},off:Ve,one:function(e,t,n){e=Rr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Ne(e),r(new Me(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===oi&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===oi||n===li){t=new Me(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===oi){var n=e.firstChild;r(new Me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Oe(e,Rr(t).eq(0).clone()[0])},remove:He,detach:function(e){He(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Me(t);for(var i=0,o=t.length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Re,removeClass:_e,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;m(r)&&(r=!Pe(e,t)),(r?Re:_e)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==li?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Te,triggerHandler:function(e,t,n){var i,o,a,s=t.type||t,u=Ie(e),l=u&&u.events,f=l&&l[s];f&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:e},t.type&&(i=c(i,t)),o=ve(f),a=n?[i].concat(n):[i],r(o,function(t){i.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Me.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)m(i)?(i=e(this[o],t,n,r),g(i)&&(i=Rr(i))):Fe(i,e(this[o],t,n,r));return g(i)?i:this},Me.prototype.bind=Me.prototype.on,Me.prototype.unbind=Me.prototype.off}),Xe.prototype={put:function(e,t){this[Ke(e,this.nextUid)]=t},get:function(e){return this[Ke(e,this.nextUid)]},remove:function(e){var t=this[e=Ke(e,this.nextUid)];return delete this[e],t}};var Ti=[function(){this.$get=[function(){return Xe}]}],Ni=/^([^\(]+?)=>/,Vi=/^[^\(]*\(\s*([^\)]*)\)/m,ji=/,/,Ii=/^\s*(_?)(\S+?)\1\s*$/,Di=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pi=t("$injector");rt.$$annotate=nt;var _i=t("$animate"),Ri=1,Fi="ng-animate",qi=function(){this.$get=p},Ui=function(){var e=new Xe,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(e,t,n){var i=!1;return t&&(t=w(t)?t.split(" "):Jr(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function a(){r(t,function(t){var n=e.get(t);if(n){var i=st(t.attr("class")),o="",a="";r(n,function(e,t){var n=!!i[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),r(t,function(e){o&&Re(e,o),a&&_e(e,a)}),e.remove(t)}}),t.length=0}function s(n,r,s){var u=e.get(n)||{},c=o(u,r,!0),l=o(u,s,!1);(c||l)&&(e.put(n,u),t.push(n),1===t.length&&i.$$postDigest(a))}return{enabled:p,on:p,off:p,pin:p,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},Li=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw _i("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Fi+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw _i("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Fi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=at(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Rr(r),i=i&&Rr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",ut(o))},move:function(n,r,i,o){return r=r&&Rr(r),i=i&&Rr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",ut(o))},leave:function(t,n){return e.push(t,"leave",ut(n),function(){t.remove()})},addClass:function(t,n,r){return r=ut(r),r.addClass=ot(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=ut(r),r.removeClass=ot(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=ut(i),i.addClass=ot(i.addClass,n),i.removeClass=ot(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=ut(o),o.from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=ot(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Hi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Bi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,o){function a(e){this.setHost(e);var t=n(),r=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?r(e):t(e)},this._state=0}var s=0,u=1,c=2;return a.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},a.all=function(e,t){function n(n){o=o&&n,++i===e.length&&t(o)}var i=0,o=!0;r(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===c?e():this._doneCallbacks.push(e)},progress:p,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=u,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==c&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=c)}},a}]},zi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=F(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,u=new n;return{start:i,end:i}}}]},Wi=t("$compile"),Gi=new pt;dt.$inject=["$provide","$$sanitizeUriProvider"],$t.prototype.isFirstChange=function(){return this.previousValue===Gi};var Zi=/^((?:x|data)[\:\-_])/i,Ji=t("$controller"),Yi=/^(\S+)(\s+as\s+([\w$]+))?$/,Ki=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Rr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Xi="application/json",Qi={"Content-Type":Xi+";charset=utf-8"},eo=/^\[|^\{(?!\{)/,to={"[":/]$/,"{":/}$/},no=/^\)\]\}',?\n/,ro=t("$http"),io=function(e){return function(){throw ro("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},oo=Gr.$interpolateMinErr=t("$interpolate");oo.throwNoconcat=function(e){throw oo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},oo.interr=function(e,t){return oo("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ao=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,r={};return{createCallback:function(e){var i="_"+(n.$$counter++).toString(36),o="angular.callbacks."+i,a=t(i);return r[o]=n[i]=a,o},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){var t=r[e];delete n[t.id],delete r[e]}}}]},so=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,uo={http:80,https:443,ftp:21},co=t("$location"),lo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Yt("$$absUrl"),url:function(e){if(m(e))return this.$$url;var t=so.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Yt("$$protocol"),host:Yt("$$host"),port:Yt("$$port"),path:Kt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||x(e))e=e.toString(),this.$$search=X(e);else{if(!y(e))throw co("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=F(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:m(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Kt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Jt,Zt,Gt],function(e){e.prototype=Object.create(lo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Gt||!this.$$html5)throw co("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=m(t)?null:t,this}});var fo=t("$parse"),ho=Function.prototype.call,po=Function.prototype.apply,$o=Function.prototype.bind,vo=de();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){vo[e]=!0});var mo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},go=function(e){this.options=e};go.prototype={constructor:go,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=vo[t],o=vo[n],a=vo[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=g(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw fo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=jr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=mo[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var yo=function(e,t){this.lexer=e,this.options=t};yo.Program="Program",yo.ExpressionStatement="ExpressionStatement",yo.AssignmentExpression="AssignmentExpression",yo.ConditionalExpression="ConditionalExpression",yo.LogicalExpression="LogicalExpression",yo.BinaryExpression="BinaryExpression",yo.UnaryExpression="UnaryExpression",yo.CallExpression="CallExpression",yo.MemberExpression="MemberExpression",yo.Identifier="Identifier",yo.Literal="Literal",yo.ArrayExpression="ArrayExpression",yo.Property="Property",yo.ObjectExpression="ObjectExpression",yo.ThisExpression="ThisExpression",yo.LocalsExpression="LocalsExpression",yo.NGValueParameter="NGValueParameter",yo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:yo.Program,body:e}},expressionStatement:function(){return{type:yo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:yo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:yo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:yo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:yo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:yo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:yo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:yo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:yo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:yo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:yo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:yo.Identifier,name:e.text}},constant:function(){return{type:yo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:yo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:yo.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:yo.ObjectExpression,properties:t}},throwError:function(e,t){throw fo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw fo("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw fo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:yo.ThisExpression},$locals:{type:yo.LocalsExpression}}},$n.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},cn(i,n.$filter);var o,a="";if(this.stage="assign",o=hn(i)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var u=ln(i.body);n.stage="inputs",r(u,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",l=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,en,nn,rn,tn,on,an,sn,e);return this.state=this.stage=void 0,l.literal=pn(i),l.constant=dn(i),l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,o,a){var s,u,c,l,f,h=this;if(i=i||p,!a&&g(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,o,!0));switch(e.type){case yo.Program:r(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){u=e}),n!==e.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case yo.Literal:l=this.escape(e.value),this.assign(t,l),i(l);break;case yo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){u=e}),l=e.operator+"("+this.ifDefined(u,0)+")",this.assign(t,l),i(l);break;case yo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){u=e}),l="+"===e.operator?this.plus(s,u):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(u,0):"("+s+")"+e.operator+"("+u+")",this.assign(t,l),i(l);break;case yo.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),i(t);break;case yo.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),i(t);break;case yo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),en(e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){
h.if_("inputs"===h.stage||"s",function(){o&&1!==o&&h.if_(h.not(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),(h.state.expensiveChecks||mn(e.name))&&h.addEnsureSafeObject(t),i(t);break;case yo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){o&&1!==o&&h.addEnsureSafeAssignContext(s),e.computed?(u=h.nextId(),h.recurse(e.property,u),h.getStringValue(u),h.addEnsureSafeMemberName(u),o&&1!==o&&h.if_(h.not(h.computedMember(s,u)),h.lazyAssign(h.computedMember(s,u),"{}")),l=h.ensureSafeObject(h.computedMember(s,u)),h.assign(t,l),n&&(n.computed=!0,n.name=u)):(en(e.property.name),o&&1!==o&&h.if_(h.not(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),l=h.nonComputedMember(s,e.property.name),(h.state.expensiveChecks||mn(e.property.name))&&(l=h.ensureSafeObject(l)),h.assign(t,l),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),i(t)},!!o);break;case yo.CallExpression:t=t||this.nextId(),e.filter?(u=h.filter(e.callee.name),c=[],r(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),c.push(t)}),l=u+"("+c.join(",")+")",h.assign(t,l),i(t)):(u=h.nextId(),s={},c=[],h.recurse(e.callee,u,s,function(){h.if_(h.notNull(u),function(){h.addEnsureSafeFunction(u),r(e.arguments,function(e){h.recurse(e,h.nextId(),void 0,function(e){c.push(h.ensureSafeObject(e))})}),s.name?(h.state.expensiveChecks||h.addEnsureSafeObject(s.context),l=h.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):l=u+"("+c.join(",")+")",l=h.ensureSafeObject(l),h.assign(t,l)},function(){h.assign(t,"undefined")}),i(t)}));break;case yo.AssignmentExpression:if(u=this.nextId(),s={},!fn(e.left))throw fo("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,u),h.addEnsureSafeObject(h.member(s.context,s.name,s.computed)),h.addEnsureSafeAssignContext(s.context),l=h.member(s.context,s.name,s.computed)+e.operator+u,h.assign(t,l),i(t||l)})},1);break;case yo.ArrayExpression:c=[],r(e.elements,function(e){h.recurse(e,h.nextId(),void 0,function(e){c.push(e)})}),l="["+c.join(",")+"]",this.assign(t,l),i(l);break;case yo.ObjectExpression:c=[],f=!1,r(e.properties,function(e){e.computed&&(f=!0)}),f?(t=t||this.nextId(),this.assign(t,"{}"),r(e.properties,function(e){e.computed?(s=h.nextId(),h.recurse(e.key,s)):s=e.key.type===yo.Identifier?e.key.name:""+e.key.value,u=h.nextId(),h.recurse(e.value,u),h.assign(h.member(t,s,e.computed),u)})):(r(e.properties,function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,function(e){c.push(h.escape(t.key.type===yo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),l="{"+c.join(",")+"}",this.assign(t,l)),i(t||l);break;case yo.ThisExpression:this.assign(t,"s"),i("s");break;case yo.LocalsExpression:this.assign(t,"l"),i("l");break;case yo.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw fo("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},vn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,cn(i,n.$filter);var o,a;(o=hn(i))&&(a=this.recurse(o));var s,u=ln(i.body);u&&(s=[],r(u,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var c=[];r(i.body,function(e){c.push(n.recurse(e.expression))});var l=0===i.body.length?p:1===i.body.length?c[0]:function(e,t){var n;return r(c,function(r){n=r(e,t)}),n};return a&&(l.assign=function(e,t,n){return a(e,n,t)}),s&&(l.inputs=s),l.literal=pn(i),l.constant=dn(i),l},recurse:function(e,t,n){var i,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case yo.Literal:return this.value(e.value,t);case yo.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case yo.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case yo.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case yo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case yo.Identifier:return en(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||mn(e.name),t,n,s.expression);case yo.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(en(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,n,s.expression):this.nonComputedMember(i,o,s.expensiveChecks,t,n,s.expression);case yo.CallExpression:return a=[],r(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var s=[],u=0;u<a.length;++u)s.push(a[u](e,n,r,i));var c=o.apply(void 0,s,i);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,r,i){var u,c=o(e,n,r,i);if(null!=c.value){nn(c.context,s.expression),rn(c.value,s.expression);for(var l=[],f=0;f<a.length;++f)l.push(nn(a[f](e,n,r,i),s.expression));u=nn(c.value.apply(c.context,l),s.expression)}return t?{value:u}:u};case yo.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,a){var u=i(e,n,r,a),c=o(e,n,r,a);return nn(u.value,s.expression),on(u.context),u.context[u.name]=c,t?{value:c}:c};case yo.ArrayExpression:return a=[],r(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case yo.ObjectExpression:return a=[],r(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===yo.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,r,i)]=a[s].value(e,n,r,i):o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case yo.ThisExpression:return function(e){return t?{value:e}:e};case yo.LocalsExpression:return function(e,n){return t?{value:n}:n};case yo.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=g(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=g(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),u=t(r,i,o,a),c=sn(s,u);return n?{value:c}:c}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),u=t(r,i,o,a),c=(g(s)?s:0)-(g(u)?u:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var u=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,a,s,u){var c=a&&e in a?a:o;r&&1!==r&&c&&!c[e]&&(c[e]={});var l=c?c[e]:void 0;return t&&nn(l,i),n?{context:c,name:e,value:l}:l}},computedMember:function(e,t,n,r,i){return function(o,a,s,u){var c,l,f=e(o,a,s,u);return null!=f&&(c=t(o,a,s,u),c=tn(c),en(c,i),r&&1!==r&&(on(f),f&&!f[c]&&(f[c]={})),l=f[c],nn(l,i)),n?{context:f,name:c,value:l}:l}},nonComputedMember:function(e,t,n,r,i,o){return function(a,s,u,c){var l=e(a,s,u,c);i&&1!==i&&(on(l),l&&!l[t]&&(l[t]={}));var f=null!=l?l[t]:void 0;return(n||mn(t))&&nn(f,o),r?{context:l,name:t,value:f}:f}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var bo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new yo(e,n),this.astCompiler=n.csp?new vn(this.ast,t):new $n(this.ast,t)};bo.prototype={constructor:bo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var wo=Object.prototype.valueOf,xo=t("$sce"),Co={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},So=t("$compile"),Eo=e.document.createElement("a"),Ao=In(e.location.href);_n.$inject=["$document"],Fn.$inject=["$provide"];var ko=22,Oo=".",Mo="0";Bn.$inject=["$locale"],zn.$inject=["$locale"];var To={yyyy:Yn("FullYear",4,0,!1,!0),yy:Yn("FullYear",2,0,!0,!0),y:Yn("FullYear",1,0,!1,!0),MMMM:Kn("Month"),MMM:Kn("Month",!0),MM:Yn("Month",2,1),M:Yn("Month",1,1),LLLL:Kn("Month",!1,!0),dd:Yn("Date",2),d:Yn("Date",1),HH:Yn("Hours",2),H:Yn("Hours",1),hh:Yn("Hours",2,-12),h:Yn("Hours",1,-12),mm:Yn("Minutes",2),m:Yn("Minutes",1),ss:Yn("Seconds",2),s:Yn("Seconds",1),sss:Yn("Milliseconds",3),EEEE:Kn("Day"),EEE:Kn("Day",!0),a:nr,Z:Xn,ww:tr(2),w:tr(1),G:rr,GG:rr,GGG:rr,GGGG:ir},No=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Vo=/^\-?\d+$/;or.$inject=["$locale"];var jo=$(jr),Io=$(Ir);cr.$inject=["$parse"];var Do=$({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Br.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Po={};r(ki,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=vt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Po[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Mi,function(e,t){Po[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Tr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=vt("ng-"+e);Po[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Br.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(_r&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var _o={$addControl:p,$$renameControl:fr,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Ro="ng-submitted";hr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Fo=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||p}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:hr,compile:function(n,i){n.addClass(wa).addClass(ya);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var u=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};di(n[0],"submit",u),n.on("$destroy",function(){t(function(){$i(n[0],"submit",u)},0,!1)})}var l=a[1]||s.$$parentForm;l.$addControl(s);var f=o?r(s.$name):p;o&&(f(e,s),i.$observe(o,function(t){s.$name!==t&&(f(e,void 0),s.$$parentForm.$$renameControl(s,t),(f=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),f(e,void 0),c(s,_o)})}}}};return i}]},qo=Fo(),Uo=Fo(!0),Lo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Ho=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Bo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,zo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Wo=/^(\d{4,})-(\d{2})-(\d{2})$/,Go=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Zo=/^(\d{4,})-W(\d\d)$/,Jo=/^(\d{4,})-(\d\d)$/,Yo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ko="keydown wheel mousedown",Xo=de();r("date,datetime-local,month,time,week".split(","),function(e){Xo[e]=!0});var Qo={text:dr,date:gr("date",Wo,mr(Wo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":gr("datetimelocal",Go,mr(Go,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:gr("time",Yo,mr(Yo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:gr("week",Zo,vr,"yyyy-Www"),month:gr("month",Jo,mr(Jo,["yyyy","MM"]),"yyyy-MM"),number:br,url:wr,email:xr,radio:Cr,checkbox:Er,hidden:p,button:p,submit:p,reset:p,file:p},ea=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Qo[jr(a.type)]||Qo.text)(i,o,a,s[0],t,e,n,r)}}}}],ta=/^(true|false|\d+)$/,na=function(){return{restrict:"A",priority:100,compile:function(e,t){return ta.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},ra=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=m(e)?"":e})}}}}],ia=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=m(e)?"":e})}}}}],oa=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],aa=$({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),sa=Ar("",!0),ua=Ar("Odd",0),ca=Ar("Even",1),la=lr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),fa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ha={},pa={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=vt("ng-"+e);ha[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};pa[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var da=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=pe(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],$a=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Gr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,p,d=0,$=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).then(function(){h=null}),h=p,p=null)};r.$watch(o,function(o){var u=function(){!g(s)||s&&!r.$eval(s)||t()},h=++d;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&h===d){var t=r.$new();c.template=e;var s=l(t,function(e){$(),n.enter(e,null,i).then(u)});f=t,p=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===d&&($(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):($(),c.template=null)})}}}}],va=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return Br.call(r[0]).match(/SVG/)?(r.empty(),void t(Ae(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],ma=lr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ga=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Kr(o):o,u=function(e){if(!m(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(a?Kr(e):e)}),t}};i.$parsers.push(u),i.$formatters.push(function(e){if(Jr(e))return e.join(o)}),i.$isEmpty=function(e){return!e||!e.length}}}},ya="ng-valid",ba="ng-invalid",wa="ng-pristine",xa="ng-dirty",Ca="ng-untouched",Sa="ng-touched",Ea="ng-pending",Aa="ng-empty",ka="ng-not-empty",Oa=t("ngModel"),Ma=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,i,o,a,s,u,c,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=_o;var f,h=o(n.ngModel),d=h.assign,$=h,v=d,y=null,b=this;this.$$setOptions=function(e){if(b.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),r=o(n.ngModel+"($$$p)");$=function(e){var n=h(e);return S(n)&&(n=t(e)),n},v=function(e,t){S(h(e))?r(e,{$$$p:t}):d(e,t)}}else if(!h.assign)throw Oa("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,Y(i))},this.$render=p,this.$isEmpty=function(e){return m(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){b.$isEmpty(e)?(a.removeClass(i,ka),a.addClass(i,Aa)):(a.removeClass(i,Aa),a.addClass(i,ka))};var w=0;kr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,a.removeClass(i,xa),a.addClass(i,wa)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,a.removeClass(i,wa),a.addClass(i,xa),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,a.setClass(i,Ca,Sa)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,a.setClass(i,Sa,Ca)},this.$rollbackViewValue=function(){s.cancel(y),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!x(b.$modelValue)||!isNaN(b.$modelValue)){var e=b.$$lastCommittedViewValue,t=b.$$rawModelValue,n=b.$valid,r=b.$modelValue,i=b.$options&&b.$options.allowInvalid;b.$$runValidators(t,e,function(e){i||n===e||(b.$modelValue=e?t:void 0,b.$modelValue!==r&&b.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function i(){var e=b.$$parserName||"parse";return m(f)?(s(e,null),!0):(f||(r(b.$validators,function(e,t){s(t,null)}),r(b.$asyncValidators,function(e,t){s(t,null)})),s(e,f),f)}function o(){var n=!0;return r(b.$validators,function(r,i){var o=r(e,t);n=n&&o,s(i,o)}),!!n||(r(b.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],i=!0;r(b.$asyncValidators,function(r,o){var a=r(e,t);if(!V(a))throw Oa("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),n.length?c.all(n).then(function(){u(i)},p):u(!0)}function s(e,t){l===w&&b.$setValidity(e,t)}function u(e){l===w&&n(e)}w++;var l=w;return i()&&o()?void a():void u(!1)},this.$commitViewValue=function(){var e=b.$viewValue;s.cancel(y),(b.$$lastCommittedViewValue!==e||""===e&&b.$$hasNativeValidators)&&(b.$$updateEmptyClasses(e),b.$$lastCommittedViewValue=e,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){b.$modelValue!==o&&b.$$writeModelToScope()}var n=b.$$lastCommittedViewValue,r=n;if(f=!m(r)||void 0)for(var i=0;i<b.$parsers.length;i++)if(r=b.$parsers[i](r),m(r)){f=!1;break}x(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=$(e));var o=b.$modelValue,a=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=r,a&&(b.$modelValue=r,t()),b.$$runValidators(r,b.$$lastCommittedViewValue,function(e){a||(b.$modelValue=e?r:void 0,t())})},this.$$writeModelToScope=function(){v(e,b.$modelValue),r(b.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){b.$viewValue=e,b.$options&&!b.$options.updateOnDefault||b.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=b.$options;i&&g(i.debounce)&&(n=i.debounce,x(n)?r=n:x(n[t])?r=n[t]:x(n.default)&&(r=n.default)),s.cancel(y),r?y=s(function(){b.$commitViewValue()},r):u.$$phase?b.$commitViewValue():e.$apply(function(){b.$commitViewValue()})},e.$watch(function(){var t=$(e);if(t!==b.$modelValue&&(b.$modelValue===b.$modelValue||t===t)){b.$modelValue=b.$$rawModelValue=t,f=void 0;for(var n=b.$formatters,r=n.length,i=t;r--;)i=n[r](i);b.$viewValue!==i&&(b.$$updateEmptyClasses(i),b.$viewValue=b.$$lastCommittedViewValue=i,b.$render(),b.$$runValidators(t,i,p))}return t})}],Ta=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ma,priority:1,compile:function(t){return t.addClass(wa).addClass(Ca).addClass(ya),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Na=/(\s+|^)default(\s+|$)/,Va=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=F(e.$eval(t.ngModelOptions)),g(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Kr(this.$options.updateOn.replace(Na,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ja=lr({terminal:!0,priority:1e3}),Ia=t("ngOptions"),Da=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pa=["$compile","$document","$parse",function(t,i,o){function a(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!c&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(Da);if(!s)throw Ia("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Y(t));var u=s[5]||s[7],c=s[6],l=/ as /.test(s[0])&&s[1],f=s[9],h=o(s[2]?s[1]:u),p=l&&o(l),d=p||h,$=f&&o(f),v=f?function(e,t){return $(r,t)}:function(e){return Ke(e)},m=function(e,t){return v(e,C(e,t))},g=o(s[2]||s[1]),y=o(s[3]||""),b=o(s[4]||""),w=o(s[8]),x={},C=c?function(e,t){return x[c]=t,x[u]=e,x}:function(e){return x[u]=e,x};return{trackBy:f,getTrackByValue:m,getWatchables:o(w,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;o<i;o++){var u=e===n?o:n[o],c=e[u],l=C(c,u),f=v(c,l);if(t.push(f),s[2]||s[1]){var h=g(r,l);t.push(h)}if(s[4]){var p=b(r,l);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=w(r)||[],o=a(n),s=o.length,u=0;u<s;u++){var c=n===o?u:o[u],l=n[c],h=C(l,c),p=d(r,h),$=v(p,h),x=g(r,h),S=y(r,h),E=b(r,h),A=new i($,p,x,S,E);e.push(A),t[$]=A}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[m(e)]},getViewValueFromOption:function(e){return f?Gr.copy(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function l(e,t){var n=u.cloneNode(!1);t.appendChild(n),f(e,n)}function f(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function h(){var e=C&&d.readValue();if(C)for(var t=C.items.length-1;t>=0;t--){var r=C.items[t];He(g(r.group)?r.element.parentNode:r.element)}C=S.getOptions();var i={};if(w&&n.prepend(p),C.items.forEach(function(e){var t;g(e.group)?(t=i[e.group],t||(t=c.cloneNode(!1),E.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),l(e,t)):l(e,E)}),n[0].appendChild(E),$.$render(),!$.$isEmpty(e)){var o=d.readValue(),a=S.trackBy||v;(a?q(e,o):e===o)||($.$setViewValue(o),$.$render())}}for(var p,d=s[0],$=s[1],v=o.multiple,m=0,y=n.children(),b=y.length;m<b;m++)if(""===y[m].value){p=y.eq(m);break}var w=!!p,x=Rr(u.cloneNode(!1));x.val("?");var C,S=a(o.ngOptions,n,e),E=i[0].createDocumentFragment(),A=function(){w||n.prepend(p),n.val(""),p.prop("selected",!0),p.attr("selected",!0)},k=function(){w||p.remove()},O=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},M=function(){x.remove()};v?($.$isEmpty=function(e){return!e||0===e.length},d.writeValue=function(e){C.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=C.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},d.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=C.selectValueMap[e];n&&!n.disabled&&t.push(C.getViewValueFromOption(n))}),t},S.trackBy&&e.$watchCollection(function(){if(Jr($.$viewValue))return $.$viewValue.map(function(e){return S.getTrackByValue(e)})},function(){$.$render()})):(d.writeValue=function(e){var t=C.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(M(),k(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||w?(M(),A()):(k(),O())},d.readValue=function(){var e=C.selectValueMap[n.val()];return e&&!e.disabled?(k(),M(),C.getViewValueFromOption(e)):null},S.trackBy&&e.$watch(function(){return S.getTrackByValue($.$viewValue)},function(){$.$render()})),w?(p.remove(),t(p)(e),p.removeClass("ng-scope")):p=Rr(u.cloneNode(!1)),n.empty(),h(),e.$watchCollection(S.getWatchables,h)}var u=e.document.createElement("option"),c=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=p},post:s}}}],_a=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function c(e){s.text(e||"")}var l,f=u.count,h=u.$attr.when&&s.attr(u.$attr.when),d=u.offset||0,$=a.$eval(h)||{},v={},g=t.startSymbol(),y=t.endSymbol(),b=g+f+"-"+d+y,w=Gr.noop;r(u,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+jr(n[2]);$[r]=s.attr(u.$attr[t])}}),r($,function(e,n){v[n]=t(e.replace(i,b))}),a.$watch(f,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in $||(r=e.pluralCat(r-d)),r!==l&&!(i&&x(l)&&isNaN(l))){w();var o=v[r];m(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),w=p,c()):w=a.$watch(o,c),l=r}})}}}],Ra=["$parse","$animate","$compile",function(e,i,o){var a="$$NG_REMOVED",s=t("ngRepeat"),u=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},l=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,f){var h=f.ngRepeat,p=o.$$createComment("end ngRepeat",h),d=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var $=d[1],v=d[2],m=d[3],g=d[4];if(d=$.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!d)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",$);var y=d[3]||d[1],b=d[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var w,x,C,S,E={$id:Ke};return g?w=e(g):(C=function(e,t){return Ke(t)},S=function(e){return e}),function(e,t,o,f,d){w&&(x=function(t,n,r){return b&&(E[b]=t),E[y]=n,E.$index=r,w(e,E)});var $=de();e.$watchCollection(v,function(o){var f,v,g,w,E,A,k,O,M,T,N,V,j=t[0],I=de();if(m&&(e[m]=o),n(o))M=o,O=x||C;else{
O=x||S,M=[];for(var D in o)Vr.call(o,D)&&"$"!==D.charAt(0)&&M.push(D)}for(w=M.length,N=new Array(w),f=0;f<w;f++)if(E=o===M?f:M[f],A=o[E],k=O(E,A,f),$[k])T=$[k],delete $[k],I[k]=T,N[f]=T;else{if(I[k])throw r(N,function(e){e&&e.scope&&($[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,k,A);N[f]={id:k,scope:void 0,clone:void 0},I[k]=!0}for(var P in $){if(T=$[P],V=pe(T.clone),i.leave(V),V[0].parentNode)for(f=0,v=V.length;f<v;f++)V[f][a]=!0;T.scope.$destroy()}for(f=0;f<w;f++)if(E=o===M?f:M[f],A=o[E],T=N[f],T.scope){g=j;do g=g.nextSibling;while(g&&g[a]);c(T)!=g&&i.move(pe(T.clone),null,j),j=l(T),u(T.scope,f,y,A,b,E,w)}else d(function(e,t){T.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,i.enter(e,null,j),j=n,T.clone=e,I[T.id]=T,u(T.scope,f,y,A,b,E,w)});$=I})}}}}],Fa="ng-hide",qa="ng-hide-animate",Ua=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Fa,{tempClasses:qa})})}}}],La=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Fa,{tempClasses:qa})})}}}],Ha=lr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ba=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=o.ngSwitch||o.on,u=[],c=[],l=[],f=[],h=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var i,o;for(i=0,o=l.length;i<o;++i)e.cancel(l[i]);for(l.length=0,i=0,o=f.length;i<o;++i){var s=pe(c[i].clone);f[i].$destroy();var p=l[i]=e.leave(s);p.then(h(l,i))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&r(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};c.push(a),e.enter(r,o.parent(),o)})})})}}}],za=lr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Wa=lr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ga=t("ngTransclude"),Za=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function a(e,n){e.length?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}if(!o)throw Ga("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Y(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var u=r.ngTransclude||r.ngTranscludeSlot;o(a,null,u),u&&!o.isSlotFilled(u)&&s()}}}}],Ja=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ya={$setViewValue:p,$render:p},Ka=["$element","$scope",function(t,n){var r=this,i=new Xe;r.ngModelCtrl=Ya,r.unknownOption=Rr(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Ke(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=p}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==ui){fe(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),Mr(t)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var a;n.$observe("value",function(e){g(a)&&r.removeOption(a),a=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Xa=function(){function e(e,t,n,i){var o=i[1];if(o){var a=i[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Xe(e);r(t.find("option"),function(e){e.selected=g(n.get(e.value))})};var s,u=NaN;e.$watch(function(){u!==o.$viewValue||q(s,o.$viewValue)||(s=ve(o.$viewValue),o.$render()),u=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ka,priority:1,link:{pre:e,post:t}}},Qa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(g(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],es=$({restrict:"E",terminal:!1}),ts=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},ns=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(w(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,Y(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||m(o)||o.test(t)}}}}},rs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=f(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(ue(),ye(Gr),Gr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r),o=(e*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void Rr(e.document).ready(function(){re(e.document,ie)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
},{}],889:[function(require,module,exports){
require("./angular"),module.exports=angular;

},{"./angular":888}],890:[function(require,module,exports){
var charenc={utf8:{stringToBytes:function(n){return charenc.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(charenc.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],r=0;r<n.length;r++)e.push(255&n.charCodeAt(r));return e},bytesToString:function(n){for(var e=[],r=0;r<n.length;r++)e.push(String.fromCharCode(n[r]));return e.join("")}}};module.exports=charenc;

},{}],891:[function(require,module,exports){
!function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(r,t){return r<<t|r>>>32-t},rotr:function(r,t){return r<<32-t|r>>>t},endian:function(r){if(r.constructor==Number)return 16711935&t.rotl(r,8)|4278255360&t.rotl(r,24);for(var n=0;n<r.length;n++)r[n]=t.endian(r[n]);return r},randomBytes:function(r){for(var t=[];r>0;r--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(r){for(var t=[],n=0,o=0;n<r.length;n++,o+=8)t[o>>>5]|=r[n]<<24-o%32;return t},wordsToBytes:function(r){for(var t=[],n=0;n<32*r.length;n+=8)t.push(r[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(r){for(var t=[],n=0;n<r.length;n++)t.push((r[n]>>>4).toString(16)),t.push((15&r[n]).toString(16));return t.join("")},hexToBytes:function(r){for(var t=[],n=0;n<r.length;n+=2)t.push(parseInt(r.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],o=0;o<t.length;o+=3)for(var e=t[o]<<16|t[o+1]<<8|t[o+2],u=0;u<4;u++)8*o+6*u<=8*t.length?n.push(r.charAt(e>>>6*(3-u)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],o=0,e=0;o<t.length;e=++o%4)0!=e&&n.push((r.indexOf(t.charAt(o-1))&Math.pow(2,-2*e+8)-1)<<2*e|r.indexOf(t.charAt(o))>>>6-2*e);return n}};module.exports=t}();

},{}],892:[function(require,module,exports){
(function (process){
function toString(e){return Object.prototype.toString.call(e)}function isObject(e){return"[object Object]"===toString(e)}function isFunction(e){return"[object Function]"===toString(e)}function each(e,r,n){for(var i=0,o=e.length;i<o&&r.call(e,e[i],i)!==!1;i++);}function IEMode(e){if(!re_msie.test(e))return null;var r,n,i,o,a;if(e.indexOf("trident/")!==-1&&(r=/\btrident\/([0-9.]+)/.exec(e),r&&r.length>=2)){i=r[1];var t=r[1].split(".");t[0]=parseInt(t[0],10)+4,a=t.join(".")}r=re_msie.exec(e),o=r[1];var b=r[1].split(".");return"undefined"==typeof a&&(a=o),b[0]=parseInt(b[0],10)-4,n=b.join("."),"undefined"==typeof i&&(i=n),{browserVersion:a,browserMode:o,engineVersion:i,engineMode:n,compatible:i!==n}}function checkTW360External(e){if(external)try{var r=external.twGetRunPath.toLowerCase(),n=external.twGetSecurityID(win),i=external.twGetVersion(n);if(r&&r.indexOf(e)===-1)return!1;if(i)return{version:i}}catch(e){}}function detect(e,r,n){var i=isFunction(r)?r.call(null,n):r;if(!i)return null;var o={name:e,version:NA_VERSION,codename:""},a=toString(i);if(i===!0)return o;if("[object String]"===a){if(n.indexOf(i)!==-1)return o}else{if(isObject(i))return i.hasOwnProperty("version")&&(o.version=i.version),o;if(i.exec){var t=i.exec(n);if(t)return t.length>=2&&t[1]?o.version=t[1].replace(/_/g,"."):o.version=NA_VERSION,o}}}function init(e,r,n,i){var o=na;each(r,function(r){var n=detect(r[0],r[1],e);if(n)return o=n,!1}),n.call(i,o.name,o.version)}var detector={},NA_VERSION="-1",win=this,external,re_msie=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,re_blackberry_10=/\bbb10\b.+?\bversion\/([\d.]+)/,re_blackberry_6_7=/\bblackberry\b.+\bversion\/([\d.]+)/,re_blackberry_4_5=/\bblackberry\d+\/([\d.]+)/,DEVICES=[["nokia",function(e){return e.indexOf("nokia ")!==-1?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],["samsung",function(e){return e.indexOf("samsung")!==-1?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(e){return e.indexOf("windows phone ")!==-1||e.indexOf("xblwp")!==-1||e.indexOf("zunewp")!==-1||e.indexOf("windows ce")!==-1}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",function(e){return e.indexOf("meizu")>=0?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9x]{1,3})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(e){var r=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return e.indexOf("huawei-huawei")!==-1?/\bhuawei\-huawei\-([a-z0-9\-]+)/:r.test(e)?r:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(e){return e.indexOf("lenovo-lenovo")!==-1?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(e){return/\bzte\-[tu]/.test(e)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(e){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(e){return e.indexOf("blackberry")>=0?/\bblackberry\s?(\d+)/:"bb10"}]],OS=[["wp",function(e){return e.indexOf("windows phone ")!==-1?/\bwindows phone (?:os )?([0-9.]+)/:e.indexOf("xblwp")!==-1?/\bxblwp([0-9.]+)/:e.indexOf("zunewp")!==-1?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:e.indexOf("iph os ")!==-1?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",function(e){return e.indexOf("android")>=0?/\bandroid[ \/-]?([0-9.x]+)?/:e.indexOf("adr")>=0?e.indexOf("mqqbrowser")>=0?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(e){var r=e.match(re_blackberry_10)||e.match(re_blackberry_6_7)||e.match(re_blackberry_4_5);return r?{version:r[1]}:"blackberry"}]],ENGINE=[["trident",re_msie],["blink",function(e){return"chrome"in win&&"CSS"in win&&/\bapplewebkit[\/]?([0-9.+]+)/}],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(e){var r;if(r=e.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/))return{version:r[1]+"."+r[2]}}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],BROWSER=[["sogou",function(e){return e.indexOf("sogoumobilebrowser")>=0?/sogoumobilebrowser\/([0-9.]+)/:e.indexOf("sogoumse")>=0||/ se ([0-9.x]+)/}],["theworld",function(e){var r=checkTW360External("theworld");return"undefined"!=typeof r?r:"theworld"}],["360",function(e){var r=checkTW360External("360se");return"undefined"!=typeof r?r:e.indexOf("360 aphone browser")!==-1?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["maxthon",function(e){try{if(external&&(external.mxVersion||external.max_version))return{version:external.mxVersion||external.max_version}}catch(e){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(e){if(e.indexOf("liebaofast")>=0)return/\bliebaofast\/([0-9.]+)/;if(e.indexOf("lbbrowser")===-1)return!1;var r;try{external&&external.LiebaoGetVersion&&(r=external.LiebaoGetVersion())}catch(e){}return{version:r||NA_VERSION}}],["tao",/\btaobrowser\/([0-9.]+)/],["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",re_msie],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(e){var r=/\bopera.+version\/([0-9.ab]+)/,n=/\bopr\/([0-9.]+)/;return r.test(e)?r:n}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["ali-ap",function(e){return e.indexOf("aliapp")>0?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-ap-pd",/\baliapp\(ap-pd\/([0-9.]+)\)/],["ali-am",/\baliapp\(am\/([0-9.]+)\)/],["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tb-pd",/\baliapp\(tb-pd\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["ali-tm-pd",/\baliapp\(tm-pd\/([0-9.]+)\)/],["uc",function(e){return e.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:e.indexOf("ubrowser/")>=0?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:e.indexOf("ucweb")>=0?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){if(e.indexOf("android")!==-1)return/\bversion\/([0-9.]+(?: beta)?)/}],["blackberry",function(e){var r=e.match(re_blackberry_10)||e.match(re_blackberry_6_7)||e.match(re_blackberry_4_5);return r?{version:r[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]],na={name:"na",version:NA_VERSION},parse=function(e){e=(e||"").toLowerCase();var r={};init(e,DEVICES,function(e,n){var i=parseFloat(n);r.device={name:e,version:i,fullVersion:n},r.device[e]=i},r),init(e,OS,function(e,n){var i=parseFloat(n);r.os={name:e,version:i,fullVersion:n},r.os[e]=i},r);var n=IEMode(e);return init(e,ENGINE,function(e,i){var o=i;n&&(i=n.engineVersion||n.engineMode,o=n.engineMode);var a=parseFloat(i);r.engine={name:e,version:a,fullVersion:i,mode:parseFloat(o),fullMode:o,compatible:!!n&&n.compatible},r.engine[e]=a},r),init(e,BROWSER,function(e,i){var o=i;n&&("ie"===e&&(i=n.browserVersion),o=n.browserMode);var a=parseFloat(i);r.browser={name:e,version:a,fullVersion:i,mode:parseFloat(o),fullMode:o,compatible:!!n&&n.compatible},r.browser[e]=a},r),r};if("object"==typeof process&&"[object process]"===process.toString()){var morerule=module.require("./morerule");[].unshift.apply(DEVICES,morerule.DEVICES||[]),[].unshift.apply(OS,morerule.OS||[]),[].unshift.apply(BROWSER,morerule.BROWSER||[]),[].unshift.apply(ENGINE,morerule.ENGINE||[])}else{var userAgent=navigator.userAgent||"",appVersion=navigator.appVersion||"",vendor=navigator.vendor||"";external=win.external,detector=parse(userAgent+" "+appVersion+" "+vendor)}detector.parse=parse,module.exports=detector;

}).call(this,require('_process'))
},{"_process":8}],893:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function typeOf(e){return function(n){return Object.prototype.toString.call(n)==="[object "+e+"]"}}function each(e,n){for(var r=0,i=e.length;r<i&&n.call(e,e[r],r)!==!1;r++);}function detect(e,n,r){var i=isFunction(n)?n.call(null,r):n;if(!i)return null;var t={name:e,version:NA_VERSION,codename:""};if(i===!0)return t;if(isString(i)){if(r.indexOf(i)!==-1)return t}else{if(isObject(i))return i.hasOwnProperty("version")&&(t.version=i.version),t;if(isRegExp(i)){var o=i.exec(r);if(o)return o.length>=2&&o[1]?t.version=o[1].replace(/_/g,"."):t.version=NA_VERSION,t}}}function init(e,n,r,i){var t=NA;each(n,function(n){var r=detect(n[0],n[1],e);if(r)return t=r,!1}),r.call(i,t.name,t.version)}var _createClass=function(){function e(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,r,i){return r&&e(n.prototype,r),i&&e(n,i),n}}(),NA_VERSION="-1",NA={name:"na",version:NA_VERSION},isString=typeOf("String"),isRegExp=typeOf("RegExp"),isObject=typeOf("Object"),isFunction=typeOf("Function"),Detector=function(){function e(n){_classCallCheck(this,e),this._rules=n}return _createClass(e,[{key:"parse",value:function(e){e=(e||"").toLowerCase();var n={};init(e,this._rules.device,function(e,r){var i=parseFloat(r);n.device={name:e,version:i,fullVersion:r},n.device[e]=i},n),init(e,this._rules.os,function(e,r){var i=parseFloat(r);n.os={name:e,version:i,fullVersion:r},n.os[e]=i},n);var r=this.IEMode(e);return init(e,this._rules.engine,function(e,i){var t=i;r&&(i=r.engineVersion||r.engineMode,t=r.engineMode);var o=parseFloat(i);n.engine={name:e,version:o,fullVersion:i,mode:parseFloat(t),fullMode:t,compatible:!!r&&r.compatible},n.engine[e]=o},n),init(e,this._rules.browser,function(e,i){var t=i;r&&("ie"===e&&(i=r.browserVersion),t=r.browserMode);var o=parseFloat(i);n.browser={name:e,version:o,fullVersion:i,mode:parseFloat(t),fullMode:t,compatible:!!r&&r.compatible},n.browser[e]=o},n),n}},{key:"IEMode",value:function(e){if(!this._rules.re_msie.test(e))return null;var n=void 0,r=void 0,i=void 0,t=void 0,o=void 0;if(e.indexOf("trident/")!==-1&&(n=/\btrident\/([0-9.]+)/.exec(e),n&&n.length>=2)){i=n[1];var s=n[1].split(".");s[0]=parseInt(s[0],10)+4,o=s.join(".")}n=this._rules.re_msie.exec(e),t=n[1];var a=n[1].split(".");return"undefined"==typeof o&&(o=t),a[0]=parseInt(a[0],10)-4,r=a.join("."),"undefined"==typeof i&&(i=r),{browserVersion:o,browserMode:t,engineVersion:i,engineMode:r,compatible:i!==r}}}]),e}();module.exports=Detector;

},{}],894:[function(require,module,exports){
"use strict";function IEMode(e){if(!WebRules.re_msie.test(e))return null;var r=void 0,n=void 0,o=void 0,i=void 0,a=void 0;if(e.indexOf("trident/")!==-1&&(r=/\btrident\/([0-9.]+)/.exec(e),r&&r.length>=2)){o=r[1];var s=r[1].split(".");s[0]=parseInt(s[0],10)+4,a=s.join(".")}r=WebRules.re_msie.exec(e),i=r[1];var t=r[1].split(".");return"undefined"==typeof a&&(a=i),t[0]=parseInt(t[0],10)-4,n=t.join("."),"undefined"==typeof o&&(o=n),{browserVersion:a,browserMode:i,engineVersion:o,engineMode:n,compatible:o!==n}}function WebParse(e){var r=detector.parse(e),n=IEMode(e);if(n){var o=r.engine.name,i=n.engineVersion||n.engineMode,a=parseFloat(i),s=n.engineMode;r.engine={name:o,version:a,fullVersion:i,mode:parseFloat(s),fullMode:s,compatible:!!n&&n.compatible},r.engine[r.engine.name]=a;var t=r.browser.name,d=r.browser.fullVersion;"ie"===t&&(d=n.browserVersion);var l=n.browserMode,u=parseFloat(d);r.browser={name:t,version:u,fullVersion:d,mode:parseFloat(l),fullMode:l,compatible:!!n&&n.compatible},r.browser[t]=u}return r}var Detector=require("./detector"),WebRules=require("./web-rules"),userAgent=navigator.userAgent||"",appVersion=navigator.appVersion||"",vendor=navigator.vendor||"",ua=userAgent+" "+appVersion+" "+vendor,detector=new Detector(WebRules),Tan=WebParse(ua);Tan.parse=WebParse,module.exports=Tan;
},{"./detector":893,"./web-rules":895}],895:[function(require,module,exports){
(function (global){
"use strict";function checkTW360External(e){if(external)try{var r=external.twGetRunPath.toLowerCase(),n=external.twGetSecurityID(win),i=external.twGetVersion(n);if(r&&r.indexOf(e)===-1)return!1;if(i)return{version:i}}catch(e){}}var win="undefined"==typeof window?global:window,external=win.external,re_msie=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,re_blackberry_10=/\bbb10\b.+?\bversion\/([\d.]+)/,re_blackberry_6_7=/\bblackberry\b.+\bversion\/([\d.]+)/,re_blackberry_4_5=/\bblackberry\d+\/([\d.]+)/,NA_VERSION="-1",DEVICES=[["nokia",function(e){return e.indexOf("nokia ")!==-1?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],["samsung",function(e){return e.indexOf("samsung")!==-1?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(e){return e.indexOf("windows phone ")!==-1||e.indexOf("xblwp")!==-1||e.indexOf("zunewp")!==-1||e.indexOf("windows ce")!==-1}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",function(e){return e.indexOf("meizu")>=0?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9cx]{1,4})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(e){var r=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return e.indexOf("huawei-huawei")!==-1?/\bhuawei\-huawei\-([a-z0-9\-]+)/:r.test(e)?r:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(e){return e.indexOf("lenovo-lenovo")!==-1?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(e){return/\bzte\-[tu]/.test(e)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(e){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(e){return e.indexOf("blackberry")>=0?/\bblackberry\s?(\d+)/:"bb10"}]],OS=[["wp",function(e){return e.indexOf("windows phone ")!==-1?/\bwindows phone (?:os )?([0-9.]+)/:e.indexOf("xblwp")!==-1?/\bxblwp([0-9.]+)/:e.indexOf("zunewp")!==-1?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:e.indexOf("iph os ")!==-1?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",function(e){return e.indexOf("android")>=0?/\bandroid[ \/-]?([0-9.x]+)?/:e.indexOf("adr")>=0?e.indexOf("mqqbrowser")>=0?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(e){var r=e.match(re_blackberry_10)||e.match(re_blackberry_6_7)||e.match(re_blackberry_4_5);return r?{version:r[1]}:"blackberry"}]],ENGINE=[["edgehtml",/edge\/([0-9.]+)/],["trident",re_msie],["blink",function(){return"chrome"in win&&"CSS"in win&&/\bapplewebkit[\/]?([0-9.+]+)/}],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(e){var r=e.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/);if(r)return{version:r[1]+"."+r[2]}}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],BROWSER=[["edge",/edge\/([0-9.]+)/],["sogou",function(e){return e.indexOf("sogoumobilebrowser")>=0?/sogoumobilebrowser\/([0-9.]+)/:e.indexOf("sogoumse")>=0||/ se ([0-9.x]+)/}],["theworld",function(){var e=checkTW360External("theworld");return"undefined"!=typeof e?e:/theworld(?: ([\d.])+)?/}],["360",function(e){var r=checkTW360External("360se");return"undefined"!=typeof r?r:e.indexOf("360 aphone browser")!==-1?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["maxthon",function(){try{if(external&&(external.mxVersion||external.max_version))return{version:external.mxVersion||external.max_version}}catch(e){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["micromessenger",/\bmicromessenger\/([\d.]+)/],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(e){if(e.indexOf("liebaofast")>=0)return/\bliebaofast\/([0-9.]+)/;if(e.indexOf("lbbrowser")===-1)return!1;var r=void 0;try{external&&external.LiebaoGetVersion&&(r=external.LiebaoGetVersion())}catch(e){}return{version:r||NA_VERSION}}],["tao",/\btaobrowser\/([0-9.]+)/],["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",re_msie],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(e){var r=/\bopera.+version\/([0-9.ab]+)/,n=/\bopr\/([0-9.]+)/;return r.test(e)?r:n}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["ali-ap",function(e){return e.indexOf("aliapp")>0?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-ap-pd",/\baliapp\(ap-pd\/([0-9.]+)\)/],["ali-am",/\baliapp\(am\/([0-9.]+)\)/],["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tb-pd",/\baliapp\(tb-pd\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["ali-tm-pd",/\baliapp\(tm-pd\/([0-9.]+)\)/],["uc",function(e){return e.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:e.indexOf("ubrowser/")>=0?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:e.indexOf("ucweb")>=0?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){if(e.indexOf("android")!==-1)return/\bversion\/([0-9.]+(?: beta)?)/}],["blackberry",function(e){var r=e.match(re_blackberry_10)||e.match(re_blackberry_6_7)||e.match(re_blackberry_4_5);return r?{version:r[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]];module.exports={device:DEVICES,os:OS,browser:BROWSER,engine:ENGINE,re_msie:re_msie};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],896:[function(require,module,exports){
"use strict";function createError(r,e,o){var t,n=r instanceof Error?r:new Error(r);if("object"==typeof e?o=e:null!=e&&(n.code=e),o)for(t in o)n[t]=o[t];return n}module.exports=createError;
},{}],897:[function(require,module,exports){
var BinaryFile=function(t,e,n){var r=t,i=e||0,s=0;this.getRawData=function(){return r},"string"==typeof t?(s=n||r.length,this.getByteAt=function(t){return 255&r.charCodeAt(t+i)},this.getBytesAt=function(t,e){for(var n=[],s=0;s<e;s++)n[s]=255&r.charCodeAt(t+s+i);return n}):"unknown"==typeof t&&(s=n||IEBinary_getLength(r),this.getByteAt=function(t){return IEBinary_getByteAt(r,t+i)},this.getBytesAt=function(t,e){return new VBArray(IEBinary_getBytesAt(r,t+i,e)).toArray()}),this.getLength=function(){return s},this.getSByteAt=function(t){var e=this.getByteAt(t);return e>127?e-256:e},this.getShortAt=function(t,e){var n=e?(this.getByteAt(t)<<8)+this.getByteAt(t+1):(this.getByteAt(t+1)<<8)+this.getByteAt(t);return n<0&&(n+=65536),n},this.getSShortAt=function(t,e){var n=this.getShortAt(t,e);return n>32767?n-65536:n},this.getLongAt=function(t,e){var n=this.getByteAt(t),r=this.getByteAt(t+1),i=this.getByteAt(t+2),s=this.getByteAt(t+3),o=e?(((n<<8)+r<<8)+i<<8)+s:(((s<<8)+i<<8)+r<<8)+n;return o<0&&(o+=4294967296),o},this.getSLongAt=function(t,e){var n=this.getLongAt(t,e);return n>2147483647?n-4294967296:n},this.getStringAt=function(t,e){for(var n=[],r=this.getBytesAt(t,e),i=0;i<e;i++)n[i]=String.fromCharCode(r[i]);return n.join("")},this.getCharAt=function(t){return String.fromCharCode(this.getByteAt(t))},this.toBase64=function(){return window.btoa(r)},this.fromBase64=function(t){r=window.atob(t)}},BinaryAjax=function(){function t(){var t=null;return window.ActiveXObject?t=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(t=new XMLHttpRequest),t}function e(e,n,r){var i=t();i?(n&&("undefined"!=typeof i.onload?i.onload=function(){"200"==i.status?n(this):r&&r(),i=null}:i.onreadystatechange=function(){4==i.readyState&&("200"==i.status?n(this):r&&r(),i=null)}),i.open("HEAD",e,!0),i.send(null)):r&&r()}function n(e,n,r,i,s,o){var a=t();if(a){var u=0;i&&!s&&(u=i[0]);var y=0;i&&(y=i[1]-i[0]+1),n&&("undefined"!=typeof a.onload?a.onload=function(){"200"==a.status||"206"==a.status||"0"==a.status?(a.binaryResponse=new BinaryFile(a.responseText,u,y),a.fileSize=o||a.getResponseHeader("Content-Length"),n(a)):r&&r(),a=null}:a.onreadystatechange=function(){if(4==a.readyState){if("200"==a.status||"206"==a.status||"0"==a.status){var t={status:a.status,binaryResponse:new BinaryFile("unknown"==typeof a.responseBody?a.responseBody:a.responseText,u,y),fileSize:o||a.getResponseHeader("Content-Length")};n(t)}else r&&r();a=null}}),a.open("GET",e,!0),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),i&&s&&a.setRequestHeader("Range","bytes="+i[0]+"-"+i[1]),a.setRequestHeader("If-Modified-Since","Sat, 1 Jan 1970 00:00:00 GMT"),a.send(null)}else r&&r()}return function(t,r,i,s){s?e(t,function(e){var o,a,u=parseInt(e.getResponseHeader("Content-Length"),10),y=e.getResponseHeader("Accept-Ranges");o=s[0],s[0]<0&&(o+=u),a=o+s[1]-1,n(t,r,i,[o,a],"bytes"==y,u)}):n(t,r,i)}}();document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n\tIEBinary_getByteAt = AscB(MidB(strBinary, iOffset + 1, 1))\r\nEnd Function\r\nFunction IEBinary_getBytesAt(strBinary, iOffset, iLength)\r\n  Dim aBytes()\r\n  ReDim aBytes(iLength - 1)\r\n  For i = 0 To iLength - 1\r\n   aBytes(i) = IEBinary_getByteAt(strBinary, iOffset + i)\r\n  Next\r\n  IEBinary_getBytesAt = aBytes\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n\tIEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n</script>\r\n"),module.exports=BinaryAjax;
},{}],898:[function(require,module,exports){
BinaryAjax=require("./binaryajax");var EXIF=function(){function e(e){return!!e.exifdata}function t(e,t){function n(n){var o=r(n);e.exifdata=o||{},t&&t.call(e)}if(e instanceof Image||e instanceof HTMLImageElement)BinaryAjax(e.src,function(e){n(e.binaryResponse)});else if(window.FileReader&&e instanceof window.File){var o=new FileReader;o.onload=function(e){f&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},o.readAsArrayBuffer(e)}}function r(e){var t=new DataView(e);if(f&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return f&&console.log("Not a valid JPEG"),!1;for(var n,r=2,o=e.byteLength;r<o;){if(255!=t.getUint8(r))return f&&console.log("Not a valid marker at offset "+r+", found: "+e.getByteAt(r)),!1;if(n=t.getUint8(r+1),f&&console.log(n),225==n)return f&&console.log("Found 0xFFE1 marker"),s(t,r+4,t.getUint16(r+2)-2);r+=2+t.getUint16(r+2)}}function o(e,t,n,r,o){var a,s,l,u=e.getUint16(n,!o),d={};for(l=0;l<u;l++)a=n+12*l+2,s=r[e.getUint16(a,!o)],!s&&f&&console.log("Unknown tag: "+e.getUint16(a,!o)),d[s]=i(e,a,t,n,o);return d}function i(e,t,n,r,o){var i,s,l,u,d,c,g=e.getUint16(t+2,!o),f=e.getUint32(t+4,!o),h=e.getUint32(t+8,!o)+n;switch(g){case 1:case 7:if(1==f)return e.getUint8(t+8,!o);for(i=f>4?h:t+8,s=[],u=0;u<f;u++)s[u]=e.getUint8(i+u);return s;case 2:return i=f>4?h:t+8,a(e,i,f-1);case 3:if(1==f)return e.getUint16(t+8,!o);for(i=f>2?h:t+8,s=[],u=0;u<f;u++)s[u]=e.getUint16(i+2*u,!o);return s;case 4:if(1==f)return e.getUint32(t+8,!o);s=[];for(var u=0;u<f;u++)s[u]=e.getUint32(h+4*u,!o);return s;case 5:if(1==f)return d=e.getUint32(h,!o),c=e.getUint32(h+4,!o),l=new Number(d/c),l.numerator=d,l.denominator=c,l;for(s=[],u=0;u<f;u++)d=e.getUint32(h+8*u,!o),c=e.getUint32(h+4+8*u,!o),s[u]=new Number(d/c),s[u].numerator=d,s[u].denominator=c;return s;case 9:if(1==f)return e.getInt32(t+8,!o);for(s=[],u=0;u<f;u++)s[u]=e.getInt32(h+4*u,!o);return s;case 10:if(1==f)return e.getInt32(h,!o)/e.getInt32(h+4,!o);for(s=[],u=0;u<f;u++)s[u]=e.getInt32(h+8*u,!o)/e.getInt32(h+4+8*u,!o);return s}}function a(e,t,r){var o="";for(n=t;n<t+r;n++)o+=String.fromCharCode(e.getUint8(n));return o}function s(e,t){if("Exif"!=a(e,t,4))return f&&console.log("Not valid EXIF data! "+a(e,t,4)),!1;var n,r,i,s,l,u=t+6;if(18761==e.getUint16(u))n=!1;else{if(19789!=e.getUint16(u))return f&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(u+2,!n))return f&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=e.getUint32(u+4,!n))return f&&console.log("Not valid TIFF data! (First offset not 8)",e.getUint16(u+4,!n)),!1;if(r=o(e,u,u+8,m,n),r.ExifIFDPointer){s=o(e,u,u+r.ExifIFDPointer,h,n);for(i in s){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":s[i]=p[i][s[i]];break;case"ExifVersion":case"FlashpixVersion":s[i]=String.fromCharCode(s[i][0],s[i][1],s[i][2],s[i][3]);break;case"ComponentsConfiguration":s[i]=p.Components[s[i][0]]+p.Components[s[i][1]]+p.Components[s[i][2]]+p.Components[s[i][3]]}r[i]=s[i]}}if(r.GPSInfoIFDPointer){l=o(e,u,u+r.GPSInfoIFDPointer,S,n);for(i in l){switch(i){case"GPSVersionID":l[i]=l[i][0]+"."+l[i][1]+"."+l[i][2]+"."+l[i][3]}r[i]=l[i]}}return r}function l(n,r){return!((n instanceof Image||n instanceof HTMLImageElement)&&!n.complete)&&(e(n)?r&&r.call(n):t(n,r),!0)}function u(t,n){if(e(t))return t.exifdata[n]}function d(t){if(!e(t))return{};var n,r=t.exifdata,o={};for(n in r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o}function c(t){if(!e(t))return"";var n,r=t.exifdata,o="";for(n in r)r.hasOwnProperty(n)&&(o+="object"==typeof r[n]?r[n]instanceof Number?n+" : "+r[n]+" ["+r[n].numerator+"/"+r[n].denominator+"]\r\n":n+" : ["+r[n].length+" values]\r\n":n+" : "+r[n]+"\r\n");return o}function g(e){return r(e)}var f=!1,h={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},m={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},S={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},p={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};return{readFromBinaryFile:g,pretty:c,getTag:u,getAllTags:d,getData:l,Tags:h,TiffTags:m,GPSTags:S,StringValues:p}}();module.exports=EXIF;

},{"./binaryajax":897}],899:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};

},{}],900:[function(require,module,exports){
function isBuffer(f){return!!f.constructor&&"function"==typeof f.constructor.isBuffer&&f.constructor.isBuffer(f)}function isSlowBuffer(f){return"function"==typeof f.readFloatLE&&"function"==typeof f.slice&&isBuffer(f.slice(0,0))}module.exports=function(f){return null!=f&&(isBuffer(f)||isSlowBuffer(f)||!!f._isBuffer)};

},{}],901:[function(require,module,exports){
!function(t){function r(t){return t&&(t=t.toString().replace(o.pluses,"%20"),t=decodeURIComponent(t)),t}function e(t){var r=o.uri_parser,e=["source","protocol","authority","userInfo","user","password","host","port","isColonUri","relative","path","directory","file","query","anchor"],i=r.exec(t||""),s={};return e.forEach(function(t,r){s[t]=i[r]||""}),s}function i(t){var e,i,s,n,h,u,a,f=[];if("undefined"==typeof t||null===t||""===t)return f;for(0===t.indexOf("?")&&(t=t.substring(1)),i=t.toString().split(o.query_separator),e=0,a=i.length;e<a;e++)s=i[e],n=s.indexOf("="),0!==n&&(h=r(s.substring(0,n)),u=r(s.substring(n+1)),f.push(n===-1?[s,null]:[h,u]));return f}function s(t){this.uriParts=e(t),this.queryPairs=i(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}var o={starts_with_slashes:/^\/+/,ends_with_slashes:/\/+$/,pluses:/\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?(:)?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};Array.prototype.forEach||(Array.prototype.forEach=function(t,r){var e,i;if(null==this)throw new TypeError(" this is null or not defined");var s=Object(this),o=s.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(e=r),i=0;i<o;){var n;i in s&&(n=s[i],t.call(e,n,i,s)),i++}}),["protocol","userInfo","host","port","path","anchor"].forEach(function(t){s.prototype[t]=function(r){return"undefined"!=typeof r&&(this.uriParts[t]=r),this.uriParts[t]}}),s.prototype.hasAuthorityPrefix=function(t){return"undefined"!=typeof t&&(this.hasAuthorityPrefixUserPref=t),null===this.hasAuthorityPrefixUserPref?this.uriParts.source.indexOf("//")!==-1:this.hasAuthorityPrefixUserPref},s.prototype.isColonUri=function(t){return"undefined"==typeof t?!!this.uriParts.isColonUri:void(this.uriParts.isColonUri=!!t)},s.prototype.query=function(t){var r,e,s,o="";for("undefined"!=typeof t&&(this.queryPairs=i(t)),r=0,s=this.queryPairs.length;r<s;r++)e=this.queryPairs[r],o.length>0&&(o+="&"),null===e[1]?o+=e[0]:(o+=e[0],o+="=","undefined"!=typeof e[1]&&(o+=encodeURIComponent(e[1])));return o.length>0?"?"+o:o},s.prototype.getQueryParamValue=function(t){var r,e,i;for(e=0,i=this.queryPairs.length;e<i;e++)if(r=this.queryPairs[e],t===r[0])return r[1]},s.prototype.getQueryParamValues=function(t){var r,e,i,s=[];for(r=0,i=this.queryPairs.length;r<i;r++)e=this.queryPairs[r],t===e[0]&&s.push(e[1]);return s},s.prototype.deleteQueryParam=function(t,e){var i,s,o,n,h,u=[];for(i=0,h=this.queryPairs.length;i<h;i++)s=this.queryPairs[i],o=r(s[0])===r(t),n=s[1]===e,(1!==arguments.length||o)&&(2!==arguments.length||o&&n)||u.push(s);return this.queryPairs=u,this},s.prototype.addQueryParam=function(t,r,e){return 3===arguments.length&&e!==-1?(e=Math.min(e,this.queryPairs.length),this.queryPairs.splice(e,0,[t,r])):arguments.length>0&&this.queryPairs.push([t,r]),this},s.prototype.hasQueryParam=function(t){var r,e=this.queryPairs.length;for(r=0;r<e;r++)if(this.queryPairs[r][0]==t)return!0;return!1},s.prototype.replaceQueryParam=function(t,e,i){var s,o,n=-1,h=this.queryPairs.length;if(3===arguments.length){for(s=0;s<h;s++)if(o=this.queryPairs[s],r(o[0])===r(t)&&decodeURIComponent(o[1])===r(i)){n=s;break}n>=0&&this.deleteQueryParam(t,r(i)).addQueryParam(t,e,n)}else{for(s=0;s<h;s++)if(o=this.queryPairs[s],r(o[0])===r(t)){n=s;break}this.deleteQueryParam(t),this.addQueryParam(t,e,n)}return this},["protocol","hasAuthorityPrefix","isColonUri","userInfo","host","port","path","query","anchor"].forEach(function(t){var r="set"+t.charAt(0).toUpperCase()+t.slice(1);s.prototype[r]=function(r){return this[t](r),this}}),s.prototype.scheme=function(){var t="";return this.protocol()?(t+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(t+=":"),t+="//"):this.hasAuthorityPrefix()&&this.host()&&(t+="//"),t},s.prototype.origin=function(){var t=this.scheme();return this.userInfo()&&this.host()&&(t+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(t+="@")),this.host()&&(t+=this.host(),(this.port()||this.path()&&this.path().substr(0,1).match(/[0-9]/))&&(t+=":"+this.port())),t},s.prototype.addTrailingSlash=function(){var t=this.path()||"";return"/"!==t.substr(-1)&&this.path(t+"/"),this},s.prototype.toString=function(){var t,r=this.origin();return this.isColonUri()?this.path()&&(r+=":"+this.path()):this.path()?(t=this.path(),o.ends_with_slashes.test(r)||o.starts_with_slashes.test(t)?(r&&r.replace(o.ends_with_slashes,"/"),t=t.replace(o.starts_with_slashes,"/")):r+="/",r+=t):this.host()&&(this.query().toString()||this.anchor())&&(r+="/"),this.query().toString()&&(r+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(r+="#"),r+=this.anchor()),r},s.prototype.clone=function(){return new s(this.toString())},"function"==typeof define&&define.amd?define(function(){return s}):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=s:t.Uri=s}(this);

},{}],902:[function(require,module,exports){
(function (global){
function addMapEntry(e,t){return e.set(t[0],t[1]),e}function addSetEntry(e,t){return e.add(t),e}function arrayEach(e,t){for(var a=-1,r=e.length;++a<r&&t(e[a],a,e)!==!1;);return e}function arrayPush(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e}function arrayReduce(e,t,a,r){var n=-1,o=e.length;for(r&&o&&(a=e[++n]);++n<o;)a=t(a,e[n],n,e);return a}function baseTimes(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}function checkGlobal(e){return e&&e.Object===Object?e:null}function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function mapToArray(e){var t=-1,a=Array(e.size);return e.forEach(function(e,r){a[++t]=[r,e]}),a}function setToArray(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=e}),a}function Hash(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(e){return this.has(e)&&delete this.__data__[e]}function hashGet(e){var t=this.__data__;if(nativeCreate){var a=t[e];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty.call(t,e)?t[e]:void 0}function hashHas(e){var t=this.__data__;return nativeCreate?void 0!==t[e]:hasOwnProperty.call(t,e)}function hashSet(e,t){var a=this.__data__;return a[e]=nativeCreate&&void 0===t?HASH_UNDEFINED:t,this}function ListCache(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(e){var t=this.__data__,a=assocIndexOf(t,e);if(a<0)return!1;var r=t.length-1;return a==r?t.pop():splice.call(t,a,1),!0}function listCacheGet(e){var t=this.__data__,a=assocIndexOf(t,e);return a<0?void 0:t[a][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var a=this.__data__,r=assocIndexOf(a,e);return r<0?a.push([e,t]):a[r][1]=t,this}function MapCache(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(e){return getMapData(this,e).delete(e)}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){return getMapData(this,e).set(e,t),this}function Stack(e){this.__data__=new ListCache(e)}function stackClear(){this.__data__=new ListCache}function stackDelete(e){return this.__data__.delete(e)}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}function stackSet(e,t){var a=this.__data__;return a instanceof ListCache&&a.__data__.length==LARGE_ARRAY_SIZE&&(a=this.__data__=new MapCache(a.__data__)),a.set(e,t),this}function assignValue(e,t,a){var r=e[t];hasOwnProperty.call(e,t)&&eq(r,a)&&(void 0!==a||t in e)||(e[t]=a)}function assocIndexOf(e,t){for(var a=e.length;a--;)if(eq(e[a][0],t))return a;return-1}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseClone(e,t,a,r,n,o,c){var s;if(r&&(s=o?r(e,n,o,c):r(e)),void 0!==s)return s;if(!isObject(e))return e;var i=isArray(e);if(i){if(s=initCloneArray(e),!t)return copyArray(e,s)}else{var u=getTag(e),l=u==funcTag||u==genTag;if(isBuffer(e))return cloneBuffer(e,t);if(u==objectTag||u==argsTag||l&&!o){if(isHostObject(e))return o?e:{};if(s=initCloneObject(l?{}:e),!t)return copySymbols(e,baseAssign(s,e))}else{if(!cloneableTags[u])return o?e:{};s=initCloneByTag(e,u,baseClone,t)}}c||(c=new Stack);var g=c.get(e);if(g)return g;if(c.set(e,s),!i)var f=a?getAllKeys(e):keys(e);return arrayEach(f||e,function(n,o){f&&(o=n,n=e[o]),assignValue(s,o,baseClone(n,t,a,r,o,e,c))}),s}function baseCreate(e){return isObject(e)?objectCreate(e):{}}function baseGetAllKeys(e,t,a){var r=t(e);return isArray(e)?r:arrayPush(r,a(e))}function baseHas(e,t){return hasOwnProperty.call(e,t)||"object"==typeof e&&t in e&&null===getPrototype(e)}function baseKeys(e){return nativeKeys(Object(e))}function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function cloneBuffer(e,t){if(t)return e.slice();var a=new e.constructor(e.length);return e.copy(a),a}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}function cloneDataView(e,t){var a=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function cloneMap(e,t,a){var r=t?a(mapToArray(e),!0):mapToArray(e);return arrayReduce(r,addMapEntry,new e.constructor)}function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}function cloneSet(e,t,a){var r=t?a(setToArray(e),!0):setToArray(e);return arrayReduce(r,addSetEntry,new e.constructor)}function cloneSymbol(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}function cloneTypedArray(e,t){var a=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function copyArray(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}function copyObject(e,t,a,r){a||(a={});for(var n=-1,o=t.length;++n<o;){var c=t[n],s=r?r(a[c],e[c],c,a,e):e[c];assignValue(a,c,s)}return a}function copySymbols(e,t){return copyObject(e,getSymbols(e),t)}function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols)}function getMapData(e,t){var a=e.__data__;return isKeyable(t)?a["string"==typeof t?"string":"hash"]:a.map}function getNative(e,t){var a=e[t];return isNative(a)?a:void 0}function getPrototype(e){return nativeGetPrototype(Object(e))}function getSymbols(e){return getOwnPropertySymbols(Object(e))}function getTag(e){return objectToString.call(e)}function initCloneArray(e){var t=e.length,a=e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(getPrototype(e))}function initCloneByTag(e,t,a,r){var n=e.constructor;switch(t){case arrayBufferTag:return cloneArrayBuffer(e);case boolTag:case dateTag:return new n(+e);case dataViewTag:return cloneDataView(e,r);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(e,r);case mapTag:return cloneMap(e,r,a);case numberTag:case stringTag:return new n(e);case regexpTag:return cloneRegExp(e);case setTag:return cloneSet(e,r,a);case symbolTag:return cloneSymbol(e)}}function indexKeys(e){var t=e?e.length:void 0;return isLength(t)&&(isArray(e)||isString(e)||isArguments(e))?baseTimes(t,String):null}function isIndex(e,t){return t=null==t?MAX_SAFE_INTEGER:t,!!t&&("number"==typeof e||reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function isPrototype(e){var t=e&&e.constructor,a="function"==typeof t&&t.prototype||objectProto;return e===a}function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eq(e,t){return e===t||e!==e&&t!==t}function isArguments(e){return isArrayLikeObject(e)&&hasOwnProperty.call(e,"callee")&&(!propertyIsEnumerable.call(e,"callee")||objectToString.call(e)==argsTag)}function isArrayLike(e){return null!=e&&isLength(getLength(e))&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?objectToString.call(e):"";return t==funcTag||t==genTag}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isNative(e){if(!isObject(e))return!1;var t=isFunction(e)||isHostObject(e)?reIsNative:reIsHostCtor;return t.test(toSource(e))}function isString(e){return"string"==typeof e||!isArray(e)&&isObjectLike(e)&&objectToString.call(e)==stringTag}function keys(e){var t=isPrototype(e);if(!t&&!isArrayLike(e))return baseKeys(e);var a=indexKeys(e),r=!!a,n=a||[],o=n.length;for(var c in e)!baseHas(e,c)||r&&("length"==c||isIndex(c,o))||t&&"constructor"==c||n.push(c);return n}function constant(e){return function(){return e}}var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reFlags=/\w*$/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var objectTypes={function:!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:void 0,freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:void 0,moduleExports=freeModule&&freeModule.exports===freeExports?freeExports:void 0,freeGlobal=checkGlobal(freeExports&&freeModule&&"object"==typeof global&&global),freeSelf=checkGlobal(objectTypes[typeof self]&&self),freeWindow=checkGlobal(objectTypes[typeof window]&&window),thisGlobal=checkGlobal(objectTypes[typeof this]&&this),root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")(),arrayProto=Array.prototype,objectProto=Object.prototype,funcToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getOwnPropertySymbols=Object.getOwnPropertySymbols,objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetPrototype=Object.getPrototypeOf,nativeKeys=Object.keys,DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var getLength=baseProperty("length");getOwnPropertySymbols||(getSymbols=function(){return[]}),(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(e){var t=objectToString.call(e),a=t==objectTag?e.constructor:void 0,r=a?toSource(a):void 0;if(r)switch(r){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return t});var isArray=Array.isArray,isBuffer=Buffer?function(e){return e instanceof Buffer}:constant(!1);module.exports=baseClone;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],903:[function(require,module,exports){
function baseTimes(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function baseForOwn(e,t){return e&&baseFor(e,t,keys)}function baseHas(e,t){return hasOwnProperty.call(e,t)||"object"==typeof e&&t in e&&null===getPrototype(e)}function baseKeys(e){return nativeKeys(Object(e))}function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function createBaseEach(e,t){return function(r,n){if(null==r)return r;if(!isArrayLike(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&n(a[i],i,a)!==!1;);return r}}function createBaseFor(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),c=a.length;c--;){var s=a[e?c:++o];if(r(i[s],s,i)===!1)break}return t}}function getPrototype(e){return nativeGetPrototype(Object(e))}function indexKeys(e){var t=e?e.length:void 0;return isLength(t)&&(isArray(e)||isString(e)||isArguments(e))?baseTimes(t,String):null}function isIndex(e,t){return t=null==t?MAX_SAFE_INTEGER:t,!!t&&("number"==typeof e||reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function isPrototype(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||objectProto;return e===r}function isArguments(e){return isArrayLikeObject(e)&&hasOwnProperty.call(e,"callee")&&(!propertyIsEnumerable.call(e,"callee")||objectToString.call(e)==argsTag)}function isArrayLike(e){return null!=e&&isLength(getLength(e))&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?objectToString.call(e):"";return t==funcTag||t==genTag}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isString(e){return"string"==typeof e||!isArray(e)&&isObjectLike(e)&&objectToString.call(e)==stringTag}function keys(e){var t=isPrototype(e);if(!t&&!isArrayLike(e))return baseKeys(e);var r=indexKeys(e),n=!!r,o=r||[],i=o.length;for(var a in e)!baseHas(e,a)||n&&("length"==a||isIndex(a,i))||t&&"constructor"==a||o.push(a);return o}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",stringTag="[object String]",reIsUint=/^(?:0|[1-9]\d*)$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeGetPrototype=Object.getPrototypeOf,nativeKeys=Object.keys,baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor(),getLength=baseProperty("length"),isArray=Array.isArray;module.exports=baseEach;

},{}],904:[function(require,module,exports){
function arraySome(r,a){for(var t=-1,e=r.length;++t<e;)if(a(r[t],t,r))return!0;return!1}function isHostObject(r){var a=!1;if(null!=r&&"function"!=typeof r.toString)try{a=!!(r+"")}catch(r){}return a}function mapToArray(r){var a=-1,t=Array(r.size);return r.forEach(function(r,e){t[++a]=[e,r]}),t}function setToArray(r){var a=-1,t=Array(r.size);return r.forEach(function(r){t[++a]=r}),t}function baseHas(r,a){return hasOwnProperty.call(r,a)||"object"==typeof r&&a in r&&null===getPrototypeOf(r)}function baseIsEqual(r,a,t,e,o){return r===a||(null==r||null==a||!isObject(r)&&!isObjectLike(a)?r!==r&&a!==a:baseIsEqualDeep(r,a,baseIsEqual,t,e,o))}function baseIsEqualDeep(r,a,t,e,o,n){var g=isArray(r),c=isArray(a),i=arrayTag,s=arrayTag;g||(i=getTag(r),i==argsTag?i=objectTag:i!=objectTag&&(g=isTypedArray(r))),c||(s=getTag(a),s==argsTag?s=objectTag:s!=objectTag&&(c=isTypedArray(a)));var y=i==objectTag&&!isHostObject(r),T=s==objectTag&&!isHostObject(a),u=i==s;if(u&&!g&&!y)return equalByTag(r,a,i,t,e,o);var l=o&PARTIAL_COMPARE_FLAG;if(!l){var p=y&&hasOwnProperty.call(r,"__wrapped__"),b=T&&hasOwnProperty.call(a,"__wrapped__");if(p||b)return t(p?r.value():r,b?a.value():a,e,o,n)}return!!u&&(n||(n=new Stack),(g?equalArrays:equalObjects)(r,a,t,e,o,n))}function equalArrays(r,a,t,e,o,n){var g=-1,c=o&PARTIAL_COMPARE_FLAG,i=o&UNORDERED_COMPARE_FLAG,s=r.length,y=a.length;if(s!=y&&!(c&&y>s))return!1;var T=n.get(r);if(T)return T==a;var u=!0;for(n.set(r,a);++g<s;){var l=r[g],p=a[g];if(e)var b=c?e(p,l,g,a,r,n):e(l,p,g,r,a,n);if(void 0!==b){if(b)continue;u=!1;break}if(i){if(!arraySome(a,function(r){return l===r||t(l,r,e,o,n)})){u=!1;break}}else if(l!==p&&!t(l,p,e,o,n)){u=!1;break}}return n.delete(r),u}function equalByTag(r,a,t,e,o,n){switch(t){case arrayBufferTag:return!(r.byteLength!=a.byteLength||!e(new Uint8Array(r),new Uint8Array(a)));case boolTag:case dateTag:return+r==+a;case errorTag:return r.name==a.name&&r.message==a.message;case numberTag:return r!=+r?a!=+a:r==+a;case regexpTag:case stringTag:return r==a+"";case mapTag:var g=mapToArray;case setTag:var c=n&PARTIAL_COMPARE_FLAG;return g||(g=setToArray),(c||r.size==a.size)&&e(g(r),g(a),o,n|UNORDERED_COMPARE_FLAG);case symbolTag:return!!Symbol&&symbolValueOf.call(r)==symbolValueOf.call(a)}return!1}function equalObjects(r,a,t,e,o,n){var g=o&PARTIAL_COMPARE_FLAG,c=keys(r),i=c.length,s=keys(a),y=s.length;if(i!=y&&!g)return!1;for(var T=i;T--;){var u=c[T];if(!(g?u in a:baseHas(a,u)))return!1}var l=n.get(r);if(l)return l==a;var p=!0;n.set(r,a);for(var b=g;++T<i;){u=c[T];var f=r[u],A=a[u];if(e)var j=g?e(A,f,u,a,r,n):e(f,A,u,r,a,n);if(!(void 0===j?f===A||t(f,A,e,o,n):j)){p=!1;break}b||(b="constructor"==u)}if(p&&!b){var v=r.constructor,d=a.constructor;v!=d&&"constructor"in r&&"constructor"in a&&!("function"==typeof v&&v instanceof v&&"function"==typeof d&&d instanceof d)&&(p=!1)}return n.delete(r),p}function getNative(r,a){var t=null==r?void 0:r[a];return isNative(t)?t:void 0}function getTag(r){return objectToString.call(r)}function isFunction(r){var a=isObject(r)?objectToString.call(r):"";return a==funcTag||a==genTag}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function isObject(r){var a=typeof r;return!!r&&("object"==a||"function"==a)}function isObjectLike(r){return!!r&&"object"==typeof r}function isNative(r){return null!=r&&(isFunction(r)?reIsNative.test(funcToString.call(r)):isObjectLike(r)&&(isHostObject(r)?reIsNative:reIsHostCtor).test(r))}function isTypedArray(r){return isObjectLike(r)&&isLength(r.length)&&!!typedArrayTags[objectToString.call(r)]}var Stack=require("lodash._stack"),keys=require("lodash.keys"),root=require("lodash._root"),UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var objectProto=Object.prototype,funcToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototypeOf=Object.getPrototypeOf,Map=getNative(root,"Map"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),mapCtorString=Map?funcToString.call(Map):"",setCtorString=Set?funcToString.call(Set):"",weakMapCtorString=WeakMap?funcToString.call(WeakMap):"",symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=Symbol?symbolProto.valueOf:void 0;(Map&&getTag(new Map)!=mapTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(r){var a=objectToString.call(r),t=a==objectTag?r.constructor:null,e="function"==typeof t?funcToString.call(t):"";if(e)switch(e){case mapCtorString:return mapTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return a});var isArray=Array.isArray;module.exports=baseIsEqual;

},{"lodash._root":907,"lodash._stack":908,"lodash.keys":915}],905:[function(require,module,exports){
function baseIsMatch(e,r,a,s){var i=a.length,t=i,u=!s;if(null==e)return!t;for(e=Object(e);i--;){var n=a[i];if(u&&n[2]?n[1]!==e[n[0]]:!(n[0]in e))return!1}for(;++i<t;){n=a[i];var A=n[0],l=e[A],o=n[1];if(u&&n[2]){if(void 0===l&&!(A in e))return!1}else{var E=new Stack,R=s?s(l,o,A,e,r,E):void 0;if(!(void 0===R?baseIsEqual(o,l,s,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,E):R))return!1}}return!0}var Stack=require("lodash._stack"),baseIsEqual=require("lodash._baseisequal"),UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2;module.exports=baseIsMatch;

},{"lodash._baseisequal":904,"lodash._stack":908}],906:[function(require,module,exports){
function baseReduce(e,u,n,c,o){return o(e,function(e,o,t){n=c?(c=!1,e):u(n,e,o,t)}),n}module.exports=baseReduce;

},{}],907:[function(require,module,exports){
(function (global){
function checkGlobal(e){return e&&e.Object===Object?e:null}var objectTypes={function:!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:void 0,freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:void 0,freeGlobal=checkGlobal(freeExports&&freeModule&&"object"==typeof global&&global),freeSelf=checkGlobal(objectTypes[typeof self]&&self),freeWindow=checkGlobal(objectTypes[typeof window]&&window),thisGlobal=checkGlobal(objectTypes[typeof this]&&this),root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();module.exports=root;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],908:[function(require,module,exports){
(function (global){
function checkGlobal(t){return t&&t.Object===Object?t:null}function isHostObject(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function Hash(){}function hashDelete(t,e){return hashHas(t,e)&&delete t[e]}function hashGet(t,e){if(nativeCreate){var a=t[e];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty.call(t,e)?t[e]:void 0}function hashHas(t,e){return nativeCreate?void 0!==t[e]:hasOwnProperty.call(t,e)}function hashSet(t,e,a){t[e]=nativeCreate&&void 0===a?HASH_UNDEFINED:a}function MapCache(t){var e=-1,a=t?t.length:0;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}function mapClear(){this.__data__={hash:new Hash,map:Map?new Map:[],string:new Hash}}function mapDelete(t){var e=this.__data__;return isKeyable(t)?hashDelete("string"==typeof t?e.string:e.hash,t):Map?e.map.delete(t):assocDelete(e.map,t)}function mapGet(t){var e=this.__data__;return isKeyable(t)?hashGet("string"==typeof t?e.string:e.hash,t):Map?e.map.get(t):assocGet(e.map,t)}function mapHas(t){var e=this.__data__;return isKeyable(t)?hashHas("string"==typeof t?e.string:e.hash,t):Map?e.map.has(t):assocHas(e.map,t)}function mapSet(t,e){var a=this.__data__;return isKeyable(t)?hashSet("string"==typeof t?a.string:a.hash,t,e):Map?a.map.set(t,e):assocSet(a.map,t,e),this}function Stack(t){var e=-1,a=t?t.length:0;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}function stackClear(){this.__data__={array:[],map:null}}function stackDelete(t){var e=this.__data__,a=e.array;return a?assocDelete(a,t):e.map.delete(t)}function stackGet(t){var e=this.__data__,a=e.array;return a?assocGet(a,t):e.map.get(t)}function stackHas(t){var e=this.__data__,a=e.array;return a?assocHas(a,t):e.map.has(t)}function stackSet(t,e){var a=this.__data__,r=a.array;r&&(r.length<LARGE_ARRAY_SIZE-1?assocSet(r,t,e):(a.array=null,a.map=new MapCache(r)));var o=a.map;return o&&o.set(t,e),this}function assocDelete(t,e){var a=assocIndexOf(t,e);if(a<0)return!1;var r=t.length-1;return a==r?t.pop():splice.call(t,a,1),!0}function assocGet(t,e){var a=assocIndexOf(t,e);return a<0?void 0:t[a][1]}function assocHas(t,e){return assocIndexOf(t,e)>-1}function assocIndexOf(t,e){for(var a=t.length;a--;)if(eq(t[a][0],e))return a;return-1}function assocSet(t,e,a){var r=assocIndexOf(t,e);r<0?t.push([e,a]):t[r][1]=a}function getNative(t,e){var a=t[e];return isNative(a)?a:void 0}function isKeyable(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}function toSource(t){if(null!=t){try{return funcToString.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function eq(t,e){return t===e||t!==t&&e!==e}function isFunction(t){var e=isObject(t)?objectToString.call(t):"";return e==funcTag||e==genTag}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isNative(t){if(!isObject(t))return!1;var e=isFunction(t)||isHostObject(t)?reIsNative:reIsHostCtor;return e.test(toSource(t))}var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",funcTag="[object Function]",genTag="[object GeneratorFunction]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,objectTypes={function:!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:void 0,freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:void 0,freeGlobal=checkGlobal(freeExports&&freeModule&&"object"==typeof global&&global),freeSelf=checkGlobal(objectTypes[typeof self]&&self),freeWindow=checkGlobal(objectTypes[typeof window]&&window),thisGlobal=checkGlobal(objectTypes[typeof this]&&this),root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")(),arrayProto=Array.prototype,objectProto=Object.prototype,funcToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create");Hash.prototype=nativeCreate?nativeCreate(null):objectProto,MapCache.prototype.clear=mapClear,MapCache.prototype.delete=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],909:[function(require,module,exports){
function assignValue(e,t,n){var r=e[t];hasOwnProperty.call(e,t)&&eq(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function copyObject(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var u=t[o],s=r?r(n[u],e[u],u,n,e):e[u];assignValue(n,u,s)}return n}function createAssigner(e){return rest(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,u&&isIterateeCall(n[0],n[1],u)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}function isIndex(e,t){return t=null==t?MAX_SAFE_INTEGER:t,!!t&&("number"==typeof e||reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;return!!("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n)&&eq(n[t],e)}function isPrototype(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||objectProto;return e===n}function eq(e,t){return e===t||e!==e&&t!==t}function isArrayLike(e){return null!=e&&isLength(getLength(e))&&!isFunction(e)}function isFunction(e){var t=isObject(e)?objectToString.call(e):"";return t==funcTag||t==genTag}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var keys=require("lodash.keys"),rest=require("lodash.rest"),MAX_SAFE_INTEGER=9007199254740991,funcTag="[object Function]",genTag="[object GeneratorFunction]",reIsUint=/^(?:0|[1-9]\d*)$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nonEnumShadows=!propertyIsEnumerable.call({valueOf:1},"valueOf"),getLength=baseProperty("length"),assign=createAssigner(function(e,t){if(nonEnumShadows||isPrototype(t)||isArrayLike(t))return void copyObject(t,keys(t),e);for(var n in t)hasOwnProperty.call(t,n)&&assignValue(e,n,t[n])});module.exports=assign;

},{"lodash.keys":915,"lodash.rest":917}],910:[function(require,module,exports){
function cloneDeep(e){return baseClone(e,!0,!0)}var baseClone=require("lodash._baseclone");module.exports=cloneDeep;
},{"lodash._baseclone":902}],911:[function(require,module,exports){
(function (global){
function getValue(t,e){return null==t?void 0:t[e]}function isHostObject(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function Hash(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(t){return this.has(t)&&delete this.__data__[t]}function hashGet(t){var e=this.__data__;if(nativeCreate){var r=e[t];return r===HASH_UNDEFINED?void 0:r}return hasOwnProperty.call(e,t)?e[t]:void 0}function hashHas(t){var e=this.__data__;return nativeCreate?void 0!==e[t]:hasOwnProperty.call(e,t)}function hashSet(t,e){var r=this.__data__;return r[t]=nativeCreate&&void 0===e?HASH_UNDEFINED:e,this}function ListCache(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(t){var e=this.__data__,r=assocIndexOf(e,t);if(r<0)return!1;var a=e.length-1;return r==a?e.pop():splice.call(e,r,1),!0}function listCacheGet(t){var e=this.__data__,r=assocIndexOf(e,t);return r<0?void 0:e[r][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var r=this.__data__,a=assocIndexOf(r,t);return a<0?r.push([t,e]):r[a][1]=e,this}function MapCache(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(t){return getMapData(this,t).delete(t)}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){return getMapData(this,t).set(t,e),this}function assocIndexOf(t,e){for(var r=t.length;r--;)if(eq(t[r][0],e))return r;return-1}function baseGet(t,e){e=isKey(e,t)?[e]:castPath(e);for(var r=0,a=e.length;null!=t&&r<a;)t=t[toKey(e[r++])];return r&&r==a?t:void 0}function baseIsNative(t){if(!isObject(t)||isMasked(t))return!1;var e=isFunction(t)||isHostObject(t)?reIsNative:reIsHostCtor;return e.test(toSource(t))}function baseToString(t){if("string"==typeof t)return t;if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return"0"==e&&1/t==-INFINITY?"-0":e}function castPath(t){return isArray(t)?t:stringToPath(t)}function getMapData(t,e){var r=t.__data__;return isKeyable(e)?r["string"==typeof e?"string":"hash"]:r.map}function getNative(t,e){var r=getValue(t,e);return baseIsNative(r)?r:void 0}function isKey(t,e){if(isArray(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!isSymbol(t))||(reIsPlainProp.test(t)||!reIsDeepProp.test(t)||null!=e&&t in Object(e))}function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}function toKey(t){if("string"==typeof t||isSymbol(t))return t;var e=t+"";return"0"==e&&1/t==-INFINITY?"-0":e}function toSource(t){if(null!=t){try{return funcToString.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function memoize(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);var r=function(){var a=arguments,o=e?e.apply(this,a):a[0],n=r.cache;if(n.has(o))return n.get(o);var i=t.apply(this,a);return r.cache=n.set(o,i),i};return r.cache=new(memoize.Cache||MapCache),r}function eq(t,e){return t===e||t!==t&&e!==e}function isFunction(t){var e=isObject(t)?objectToString.call(t):"";return e==funcTag||e==genTag}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isObjectLike(t){return!!t&&"object"==typeof t}function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&objectToString.call(t)==symbolTag}function toString(t){return null==t?"":baseToString(t)}function get(t,e,r){var a=null==t?void 0:baseGet(t,e);return void 0===a?r:a}var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var stringToPath=memoize(function(t){t=toString(t);var e=[];return reLeadingDot.test(t)&&e.push(""),t.replace(rePropName,function(t,r,a,o){e.push(a?o.replace(reEscapeChar,"$1"):r||t)}),e});memoize.Cache=MapCache;var isArray=Array.isArray;module.exports=get;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],912:[function(require,module,exports){
(function (global){
function getValue(t,e){return null==t?void 0:t[e]}function isHostObject(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function Hash(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(t){return this.has(t)&&delete this.__data__[t]}function hashGet(t){var e=this.__data__;if(nativeCreate){var r=e[t];return r===HASH_UNDEFINED?void 0:r}return hasOwnProperty.call(e,t)?e[t]:void 0}function hashHas(t){var e=this.__data__;return nativeCreate?void 0!==e[t]:hasOwnProperty.call(e,t)}function hashSet(t,e){var r=this.__data__;return r[t]=nativeCreate&&void 0===e?HASH_UNDEFINED:e,this}function ListCache(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(t){var e=this.__data__,r=assocIndexOf(e,t);if(r<0)return!1;var a=e.length-1;return r==a?e.pop():splice.call(e,r,1),!0}function listCacheGet(t){var e=this.__data__,r=assocIndexOf(e,t);return r<0?void 0:e[r][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var r=this.__data__,a=assocIndexOf(r,t);return a<0?r.push([t,e]):r[a][1]=e,this}function MapCache(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(t){return getMapData(this,t).delete(t)}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){return getMapData(this,t).set(t,e),this}function assocIndexOf(t,e){for(var r=t.length;r--;)if(eq(t[r][0],e))return r;return-1}function baseHasIn(t,e){return null!=t&&e in Object(t)}function baseIsNative(t){if(!isObject(t)||isMasked(t))return!1;var e=isFunction(t)||isHostObject(t)?reIsNative:reIsHostCtor;return e.test(toSource(t))}function baseToString(t){if("string"==typeof t)return t;if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return"0"==e&&1/t==-INFINITY?"-0":e}function castPath(t){return isArray(t)?t:stringToPath(t)}function getMapData(t,e){var r=t.__data__;return isKeyable(e)?r["string"==typeof e?"string":"hash"]:r.map}function getNative(t,e){var r=getValue(t,e);return baseIsNative(r)?r:void 0}function hasPath(t,e,r){e=isKey(e,t)?[e]:castPath(e);for(var a,n=-1,o=e.length;++n<o;){var i=toKey(e[n]);if(!(a=null!=t&&r(t,i)))break;t=t[i]}if(a)return a;var o=t?t.length:0;return!!o&&isLength(o)&&isIndex(i,o)&&(isArray(t)||isArguments(t))}function isIndex(t,e){return e=null==e?MAX_SAFE_INTEGER:e,!!e&&("number"==typeof t||reIsUint.test(t))&&t>-1&&t%1==0&&t<e}function isKey(t,e){if(isArray(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!isSymbol(t))||(reIsPlainProp.test(t)||!reIsDeepProp.test(t)||null!=e&&t in Object(e))}function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}function toKey(t){if("string"==typeof t||isSymbol(t))return t;var e=t+"";return"0"==e&&1/t==-INFINITY?"-0":e}function toSource(t){if(null!=t){try{return funcToString.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function memoize(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);var r=function(){var a=arguments,n=e?e.apply(this,a):a[0],o=r.cache;if(o.has(n))return o.get(n);var i=t.apply(this,a);return r.cache=o.set(n,i),i};return r.cache=new(memoize.Cache||MapCache),r}function eq(t,e){return t===e||t!==t&&e!==e}function isArguments(t){return isArrayLikeObject(t)&&hasOwnProperty.call(t,"callee")&&(!propertyIsEnumerable.call(t,"callee")||objectToString.call(t)==argsTag)}function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}function isFunction(t){var e=isObject(t)?objectToString.call(t):"";return e==funcTag||e==genTag}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isObjectLike(t){return!!t&&"object"==typeof t}function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&objectToString.call(t)==symbolTag}function toString(t){return null==t?"":baseToString(t)}function hasIn(t,e){return null!=t&&hasPath(t,e,baseHasIn)}var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var stringToPath=memoize(function(t){t=toString(t);var e=[];return reLeadingDot.test(t)&&e.push(""),t.replace(rePropName,function(t,r,a,n){e.push(a?n.replace(reEscapeChar,"$1"):r||t)}),e});memoize.Cache=MapCache;var isArray=Array.isArray;module.exports=hasIn;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],913:[function(require,module,exports){
function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isRegExp(t){return isObject(t)&&objectToString.call(t)==regexpTag}var regexpTag="[object RegExp]",objectProto=Object.prototype,objectToString=objectProto.toString;module.exports=isRegExp;

},{}],914:[function(require,module,exports){
function isObjectLike(t){return!!t&&"object"==typeof t}function isString(t){return"string"==typeof t||!isArray(t)&&isObjectLike(t)&&objectToString.call(t)==stringTag}var stringTag="[object String]",objectProto=Object.prototype,objectToString=objectProto.toString,isArray=Array.isArray;module.exports=isString;

},{}],915:[function(require,module,exports){
function baseTimes(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}function overArg(r,e){return function(t){return r(e(t))}}function arrayLikeKeys(r,e){var t=isArray(r)||isArguments(r)?baseTimes(r.length,String):[],n=t.length,o=!!n;for(var i in r)!e&&!hasOwnProperty.call(r,i)||o&&("length"==i||isIndex(i,n))||t.push(i);return t}function baseKeys(r){if(!isPrototype(r))return nativeKeys(r);var e=[];for(var t in Object(r))hasOwnProperty.call(r,t)&&"constructor"!=t&&e.push(t);return e}function isIndex(r,e){return e=null==e?MAX_SAFE_INTEGER:e,!!e&&("number"==typeof r||reIsUint.test(r))&&r>-1&&r%1==0&&r<e}function isPrototype(r){var e=r&&r.constructor,t="function"==typeof e&&e.prototype||objectProto;return r===t}function isArguments(r){return isArrayLikeObject(r)&&hasOwnProperty.call(r,"callee")&&(!propertyIsEnumerable.call(r,"callee")||objectToString.call(r)==argsTag)}function isArrayLike(r){return null!=r&&isLength(r.length)&&!isFunction(r)}function isArrayLikeObject(r){return isObjectLike(r)&&isArrayLike(r)}function isFunction(r){var e=isObject(r)?objectToString.call(r):"";return e==funcTag||e==genTag}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function isObject(r){var e=typeof r;return!!r&&("object"==e||"function"==e)}function isObjectLike(r){return!!r&&"object"==typeof r}function keys(r){return isArrayLike(r)?arrayLikeKeys(r):baseKeys(r)}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",reIsUint=/^(?:0|[1-9]\d*)$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeKeys=overArg(Object.keys,Object),isArray=Array.isArray;module.exports=keys;

},{}],916:[function(require,module,exports){
(function (global){
function arrayReduce(e,r,t,o){var n=-1,a=e.length;for(o&&a&&(t=e[++n]);++n<a;)t=r(t,e[n],n,e);return t}function checkGlobal(e){return e&&e.Object===Object?e:null}function baseGet(e,r){r=isKey(r,e)?[r+""]:baseToPath(r);for(var t=0,o=r.length;null!=e&&t<o;)e=e[r[t++]];return t&&t==o?e:void 0}function baseIteratee(e){var r=typeof e;return"function"==r?e:null==e?identity:"object"==r?isArray(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}function baseMatches(e){var r=getMatchData(e);if(1==r.length&&r[0][2]){var t=r[0][0],o=r[0][1];return function(e){return null!=e&&(e[t]===o&&(void 0!==o||t in Object(e)))}}return function(t){return t===e||baseIsMatch(t,e,r)}}function baseMatchesProperty(e,r){return function(t){var o=get(t,e);return void 0===o&&o===r?hasIn(t,e):baseIsEqual(r,o,void 0,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG)}}function baseProperty(e){return function(r){return null==r?void 0:r[e]}}function basePropertyDeep(e){return function(r){return baseGet(r,e)}}function baseToPath(e){return isArray(e)?e:stringToPath(e)}function getMatchData(e){for(var r=toPairs(e),t=r.length;t--;)r[t][2]=isStrictComparable(r[t][1]);return r}function isKey(e,r){return"number"==typeof e||!isArray(e)&&(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=r&&e in Object(r))}function isStrictComparable(e){return e===e&&!isObject(e)}function stringToPath(e){var r=[];return toString(e).replace(rePropName,function(e,t,o,n){r.push(o?n.replace(reEscapeChar,"$1"):t||e)}),r}function reduce(e,r,t){var o=isArray(e)?arrayReduce:baseReduce,n=arguments.length<3;return o(e,baseIteratee(r,4),t,n,baseEach)}function isObject(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}function isObjectLike(e){return!!e&&"object"==typeof e}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toString(e){if("string"==typeof e)return e;if(null==e)return"";if(isSymbol(e))return Symbol?symbolToString.call(e):"";var r=e+"";return"0"==r&&1/e==-INFINITY?"-0":r}function identity(e){return e}function property(e){return isKey(e)?baseProperty(e):basePropertyDeep(e)}var baseEach=require("lodash._baseeach"),baseIsEqual=require("lodash._baseisequal"),baseIsMatch=require("lodash._baseismatch"),baseReduce=require("lodash._basereduce"),get=require("lodash.get"),hasIn=require("lodash.hasin"),toPairs=require("lodash.topairs"),UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2,INFINITY=1/0,symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,reEscapeChar=/\\(\\)?/g,objectTypes={function:!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:null,freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:null,freeGlobal=checkGlobal(freeExports&&freeModule&&"object"==typeof global&&global),freeSelf=checkGlobal(objectTypes[typeof self]&&self),freeWindow=checkGlobal(objectTypes[typeof window]&&window),thisGlobal=checkGlobal(objectTypes[typeof this]&&this),root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,Symbol=root.Symbol,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=Symbol?symbolProto.toString:void 0,isArray=Array.isArray;module.exports=reduce;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"lodash._baseeach":903,"lodash._baseisequal":904,"lodash._baseismatch":905,"lodash._basereduce":906,"lodash.get":911,"lodash.hasin":912,"lodash.topairs":918}],917:[function(require,module,exports){
function apply(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function baseRest(e,t){return t=nativeMax(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,o=nativeMax(r.length-t,0),i=Array(o);++n<o;)i[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=i,apply(e,this,a)}}function rest(e,t){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);return t=void 0===t?t:toInteger(t),baseRest(e,t)}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toFinite(e){if(!e)return 0===e?e:0;if(e=toNumber(e),e===INFINITY||e===-INFINITY){var t=e<0?-1:1;return t*MAX_INTEGER}return e===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t===t?r?t-r:t:0}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var r=reIsBinary.test(e);return r||reIsOctal.test(e)?freeParseInt(e.slice(2),r?2:8):reIsBadHex.test(e)?NAN:+e}var FUNC_ERROR_TEXT="Expected a function",INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max;module.exports=rest;

},{}],918:[function(require,module,exports){
(function (global){
function arrayMap(e,t){for(var r=-1,a=e?e.length:0,o=Array(a);++r<a;)o[r]=t(e[r],r,e);return o}function baseTimes(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}function baseToPairs(e,t){return arrayMap(t,function(t){return[t,e[t]]})}function getValue(e,t){return null==e?void 0:e[t]}function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function mapToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e,a){r[++t]=[a,e]}),r}function overArg(e,t){return function(r){return e(t(r))}}function setToPairs(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function arrayLikeKeys(e,t){var r=isArray(e)||isArguments(e)?baseTimes(e.length,String):[],a=r.length,o=!!a;for(var n in e)!t&&!hasOwnProperty.call(e,n)||o&&("length"==n||isIndex(n,a))||r.push(n);return r}function baseGetTag(e){return objectToString.call(e)}function baseIsNative(e){if(!isObject(e)||isMasked(e))return!1;var t=isFunction(e)||isHostObject(e)?reIsNative:reIsHostCtor;return t.test(toSource(e))}function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var t=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&"constructor"!=r&&t.push(r);return t}function createToPairs(e){return function(t){var r=getTag(t);return r==mapTag?mapToArray(t):r==setTag?setToPairs(t):baseToPairs(t,e(t))}}function getNative(e,t){var r=getValue(e,t);return baseIsNative(r)?r:void 0}function isIndex(e,t){return t=null==t?MAX_SAFE_INTEGER:t,!!t&&("number"==typeof e||reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}function isPrototype(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||objectProto;return e===r}function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function isArguments(e){return isArrayLikeObject(e)&&hasOwnProperty.call(e,"callee")&&(!propertyIsEnumerable.call(e,"callee")||objectToString.call(e)==argsTag)}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?objectToString.call(e):"";return t==funcTag||t==genTag}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(e){var t=objectToString.call(e),r=t==objectTag?e.constructor:void 0,a=r?toSource(r):void 0;if(a)switch(a){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return t});var isArray=Array.isArray,toPairs=createToPairs(keys);module.exports=toPairs;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],919:[function(require,module,exports){
(function (global){
(function(){function n(n,t){return n.set(t[0],t[1]),n}function t(n,t){return n.add(t),n}function r(n,t,r){var e=r.length;switch(e){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function e(n,t,r,e){for(var u=-1,i=n?n.length:0;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function u(n,t){for(var r=-1,e=n?n.length:0;++r<e&&t(n[r],r,n)!==!1;);return n}function i(n,t){for(var r=n?n.length:0;r--&&t(n[r],r,n)!==!1;);return n}function o(n,t){for(var r=-1,e=n?n.length:0;++r<e;)if(!t(n[r],r,n))return!1;return!0}function f(n,t){for(var r=-1,e=n?n.length:0,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function a(n,t){var r=n?n.length:0;return!!r&&y(n,t,0)>-1}function c(n,t,r){for(var e=-1,u=n?n.length:0;++e<u;)if(r(t,n[e]))return!0;return!1}function l(n,t){for(var r=-1,e=n?n.length:0,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function s(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function h(n,t,r,e){var u=-1,i=n?n.length:0;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function p(n,t,r,e){var u=n?n.length:0;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function v(n,t){for(var r=-1,e=n?n.length:0;++r<e;)if(t(n[r],r,n))return!0;return!1}function _(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){if(t!==t)return z(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function d(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n,t){var r=n?n.length:0;return r?x(n,t)/r:xn}function w(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function m(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function x(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==K&&(r=r===K?i:r+i)}return r}function j(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function A(n,t){return l(t,function(t){return[t,n[t]]})}function O(n){return function(t){return n(t)}}function k(n,t){return l(t,function(t){return n[t]})}function I(n,t){return n.has(t)}function R(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function E(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function S(n){return n&&n.Object===Object?n:null}function W(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&e++;return e}function L(n){return Ar[n]}function C(n){return Or[n]}function B(n){return"\\"+Ir[n]}function $(n,t){return null==n?K:n[t]}function z(n,t,r){for(var e=n.length,u=t+(r?1:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function U(n){var t=!1;if(null!=n&&"function"!=typeof n.toString)try{t=!!(n+"")}catch(n){}return t}function F(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function M(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function D(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==Q||(n[r]=Q,i[u++]=r)}return i}function P(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function N(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function q(n){if(!n||!dr.test(n))return n.length;for(var t=gr.lastIndex=0;gr.test(n);)t++;return t}function T(n){return n.match(gr)}function Z(n){return kr[n]}function V(S){function Wt(n){if(bf(n)&&!ys(n)&&!(n instanceof Bt)){if(n instanceof Ct)return n;if(Sc.call(n,"__wrapped__"))return si(n)}return new Ct(n)}function Lt(){}function Ct(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=K}function Bt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jn,this.__views__=[]}function $t(){var n=new Bt(this.__wrapped__);return n.__actions__=ru(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=ru(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=ru(this.__views__),n}function zt(){if(this.__filtered__){var n=new Bt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Ut(){var n=this.__wrapped__.value(),t=this.__dir__,r=ys(n),e=t<0,u=r?n.length:0,i=Nu(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=nl(a,this.__takeCount__);if(!r||u<J||u==a&&p==a)return Ue(n,this.__actions__);var v=[];n:for(;a--&&h<p;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,b=y.type,w=d(g);if(b==yn)g=w;else if(!w){if(b==gn)continue n;break n}}v[h++]=g}return v}function Ft(n){var t=-1,r=n?n.length:0;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Mt(){this.__data__=sl?sl(null):{}}function Dt(n){return this.has(n)&&delete this.__data__[n]}function Pt(n){var t=this.__data__;if(sl){var r=t[n];return r===H?K:r}return Sc.call(t,n)?t[n]:K}function Nt(n){var t=this.__data__;return sl?t[n]!==K:Sc.call(t,n)}function qt(n,t){var r=this.__data__;return r[n]=sl&&t===K?H:t,this}function Tt(n){var t=-1,r=n?n.length:0;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Zt(){this.__data__=[]}function Vt(n){var t=this.__data__,r=gr(t,n);if(r<0)return!1;var e=t.length-1;return r==e?t.pop():Zc.call(t,r,1),!0}function Kt(n){var t=this.__data__,r=gr(t,n);return r<0?K:t[r][1]}function Gt(n){return gr(this.__data__,n)>-1}function Jt(n,t){var r=this.__data__,e=gr(r,n);return e<0?r.push([n,t]):r[e][1]=t,this}function Yt(n){var t=-1,r=n?n.length:0;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Ht(){this.__data__={hash:new Ft,map:new(fl||Tt),string:new Ft}}function Qt(n){return zu(this,n).delete(n)}function Xt(n){return zu(this,n).get(n)}function nr(n){return zu(this,n).has(n)}function tr(n,t){return zu(this,n).set(n,t),this}function rr(n){var t=-1,r=n?n.length:0;for(this.__data__=new Yt;++t<r;)this.add(n[t])}function er(n){return this.__data__.set(n,H),this}function ur(n){return this.__data__.has(n)}function ir(n){this.__data__=new Tt(n)}function or(){this.__data__=new Tt}function fr(n){return this.__data__.delete(n)}function ar(n){return this.__data__.get(n)}function cr(n){return this.__data__.has(n)}function lr(n,t){var r=this.__data__;return r instanceof Tt&&r.__data__.length==J&&(r=this.__data__=new Yt(r.__data__)),r.set(n,t),this}function sr(n,t,r,e){return n===K||tf(n,Oc[r])&&!Sc.call(e,r)?t:n}function hr(n,t,r){(r===K||tf(n[t],r))&&("number"!=typeof t||r!==K||t in n)||(n[t]=r)}function pr(n,t,r){var e=n[t];Sc.call(n,t)&&tf(e,r)&&(r!==K||t in n)||(n[t]=r)}function gr(n,t){for(var r=n.length;r--;)if(tf(n[r][0],t))return r;return-1}function Ar(n,t,r,e){return jl(n,function(n,u,i){t(e,n,r(n),i)}),e}function Or(n,t){return n&&eu(t,ua(t),n)}function kr(n,t){for(var r=-1,e=null==n,u=t.length,i=Array(u);++r<u;)i[r]=e?K:ta(n,t[r]);return i}function Ir(n,t,r){return n===n&&(r!==K&&(n=n<=r?n:r),t!==K&&(n=n>=t?n:t)),n}function Sr(n,t,r,e,i,o,f){var a;if(e&&(a=o?e(n,i,o,f):e(n)),a!==K)return a;if(!df(n))return n;var c=ys(n);if(c){if(a=Tu(n),!t)return ru(n,a)}else{var l=Pu(n),s=l==Wn||l==Ln;if(ds(n))return Te(n,t);if(l==$n||l==kn||s&&!o){if(U(n))return o?n:{};if(a=Zu(s?{}:n),!t)return uu(n,Or(a,n))}else{if(!jr[l])return o?n:{};a=Vu(n,l,Sr,t)}}f||(f=new ir);var h=f.get(n);if(h)return h;if(f.set(n,a),!c)var p=r?Wu(n):ua(n);return u(p||n,function(u,i){p&&(i=u,u=n[i]),pr(a,i,Sr(u,t,r,e,i,n,f))}),a}function Wr(n){var t=ua(n),r=t.length;return function(e){if(null==e)return!r;for(var u=r;u--;){var i=t[u],o=n[i],f=e[i];if(f===K&&!(i in Object(e))||!o(f))return!1}return!0}}function Cr(n){return df(n)?qc(n):{}}function Br(n,t,r){if("function"!=typeof n)throw new jc(Y);return Vc(function(){n.apply(K,r)},t)}function $r(n,t,r,e){var u=-1,i=a,o=!0,f=n.length,s=[],h=t.length;if(!f)return s;r&&(t=l(t,O(r))),e?(i=c,o=!1):t.length>=J&&(i=I,o=!1,t=new rr(t));n:for(;++u<f;){var p=n[u],v=r?r(p):p;if(p=e||0!==p?p:0,o&&v===v){for(var _=h;_--;)if(t[_]===v)continue n;s.push(p)}else i(t,v,e)||s.push(p)}return s}function Fr(n,t){var r=!0;return jl(n,function(n,e,u){return r=!!t(n,e,u)}),r}function Mr(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===K?o===o&&!Cf(o):r(o,f)))var f=o,a=i}return a}function Dr(n,t,r,e){var u=n.length;for(r=Df(r),r<0&&(r=-r>u?0:u+r),e=e===K||e>u?u:Df(e),e<0&&(e+=u),e=r>e?0:Pf(e);r<e;)n[r++]=t;return n}function Pr(n,t){var r=[];return jl(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Nr(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Gu),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?Nr(f,t-1,r,e,u):s(u,f):e||(u[u.length]=f)}return u}function qr(n,t){return n&&Ol(n,t,ua)}function Tr(n,t){return n&&kl(n,t,ua)}function Zr(n,t){return f(t,function(t){return _f(n[t])})}function Vr(n,t){t=Qu(t,n)?[t]:Ne(t);for(var r=0,e=t.length;null!=n&&r<e;)n=n[ci(t[r++])];return r&&r==e?n:K}function Kr(n,t,r){var e=t(n);return ys(n)?e:s(e,r(n))}function Gr(n,t){return n>t}function Jr(n,t){return null!=n&&(Sc.call(n,t)||"object"==typeof n&&t in n&&null===Mu(n))}function Yr(n,t){return null!=n&&t in Object(n)}function Hr(n,t,r){return n>=nl(t,r)&&n<Xc(t,r)}function Qr(n,t,r){for(var e=r?c:a,u=n[0].length,i=n.length,o=i,f=Array(i),s=1/0,h=[];o--;){var p=n[o];o&&t&&(p=l(p,O(t))),s=nl(p.length,s),f[o]=!r&&(t||u>=120&&p.length>=120)?new rr(o&&p):K}p=n[0];var v=-1,_=f[0];n:for(;++v<u&&h.length<s;){var g=p[v],y=t?t(g):g;if(g=r||0!==g?g:0,!(_?I(_,y):e(h,y,r))){for(o=i;--o;){var d=f[o];if(!(d?I(d,y):e(n[o],y,r)))continue n}_&&_.push(y),h.push(g)}}return h}function Xr(n,t,r,e){return qr(n,function(n,u,i){t(e,r(n),u,i)}),e}function ne(n,t,e){Qu(t,n)||(t=Ne(t),n=fi(n,t),t=Si(t));var u=null==n?n:n[ci(t)];return null==u?K:r(u,n,e)}function te(n,t,r,e,u){return n===t||(null==n||null==t||!df(n)&&!bf(t)?n!==n&&t!==t:re(n,t,te,r,e,u))}function re(n,t,r,e,u,i){var o=ys(n),f=ys(t),a=In,c=In;o||(a=Pu(n),a=a==kn?$n:a),f||(c=Pu(t),c=c==kn?$n:c);var l=a==$n&&!U(n),s=c==$n&&!U(t),h=a==c;if(h&&!l)return i||(i=new ir),o||Bf(n)?Ru(n,t,r,e,u,i):Eu(n,t,a,r,e,u,i);if(!(u&sn)){var p=l&&Sc.call(n,"__wrapped__"),v=s&&Sc.call(t,"__wrapped__");if(p||v){var _=p?n.value():n,g=v?t.value():t;return i||(i=new ir),r(_,g,e,u,i)}}return!!h&&(i||(i=new ir),Su(n,t,r,e,u,i))}function ee(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=Object(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var a=f[0],c=n[a],l=f[1];if(o&&f[2]){if(c===K&&!(a in n))return!1}else{var s=new ir;if(e)var h=e(c,l,a,n,t,s);if(!(h===K?te(l,c,e,ln|sn,s):h))return!1}}return!0}function ue(n){if(!df(n)||ti(n))return!1;var t=_f(n)||U(n)?$c:Ot;return t.test(li(n))}function ie(n){return"function"==typeof n?n:null==n?Ka:"object"==typeof n?ys(n)?se(n[0],n[1]):le(n):tc(n)}function oe(n){return Qc(Object(n))}function fe(n){n=null==n?n:Object(n);var t=[];for(var r in n)t.push(r);return t}function ae(n,t){return n<t}function ce(n,t){var r=-1,e=uf(n)?Array(n.length):[];return jl(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function le(n){var t=Uu(n);return 1==t.length&&t[0][2]?ui(t[0][0],t[0][1]):function(r){return r===n||ee(r,n,t)}}function se(n,t){return Qu(n)&&ei(t)?ui(ci(n),t):function(r){var e=ta(r,n);return e===K&&e===t?ea(r,n):te(t,e,K,ln|sn)}}function he(n,t,r,e,i){if(n!==t){if(!ys(t)&&!Bf(t))var o=ia(t);u(o||t,function(u,f){if(o&&(f=u,u=t[f]),df(u))i||(i=new ir),pe(n,t,f,r,he,e,i);else{var a=e?e(n[f],u,f+"",n,t,i):K;a===K&&(a=u),hr(n,f,a)}})}}function pe(n,t,r,e,u,i,o){var f=n[r],a=t[r],c=o.get(a);if(c)return void hr(n,r,c);var l=i?i(f,a,r+"",n,t,o):K,s=l===K;s&&(l=a,ys(a)||Bf(a)?ys(f)?l=f:of(f)?l=ru(f):(s=!1,l=Sr(a,!0)):Rf(a)||rf(a)?rf(f)?l=qf(f):!df(f)||e&&_f(f)?(s=!1,l=Sr(a,!0)):l=f:s=!1),o.set(a,l),s&&u(l,a,e,i,o),o.delete(a),hr(n,r,l)}function ve(n,t){var r=n.length;if(r)return t+=t<0?r:0,Yu(t,r)?n[t]:K}function _e(n,t,r){var e=-1;t=l(t.length?t:[Ka],O($u()));var u=ce(n,function(n,r,u){var i=l(t,function(t){return t(n)});return{criteria:i,index:++e,value:n}});return m(u,function(n,t){return Xe(n,t,r)})}function ge(n,t){return n=Object(n),h(t,function(t,r){return r in n&&(t[r]=n[r]),t},{})}function ye(n,t){for(var r=-1,e=Lu(n),u=e.length,i={};++r<u;){var o=e[r],f=n[o];t(f,o)&&(i[o]=f)}return i}function de(n){return function(t){return null==t?K:t[n]}}function be(n){return function(t){return Vr(t,n)}}function we(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=ru(t)),r&&(f=l(n,O(r)));++i<o;)for(var a=0,c=t[i],s=r?r(c):c;(a=u(f,s,a,e))>-1;)f!==n&&Zc.call(f,a,1),Zc.call(n,a,1);return n}function me(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;if(Yu(u))Zc.call(n,u,1);else if(Qu(u,n))delete n[ci(u)];else{var o=Ne(u),f=fi(n,o);null!=f&&delete f[ci(Si(o))]}}}return n}function xe(n,t){return n+Gc(rl()*(t-n+1))}function je(n,t,r,e){for(var u=-1,i=Xc(Kc((t-n)/(r||1)),0),o=Array(i);i--;)o[e?i:++u]=n,n+=r;return o}function Ae(n,t){var r="";if(!n||t<1||t>wn)return r;do t%2&&(r+=n),t=Gc(t/2),t&&(n+=n);while(t);return r}function Oe(n,t,r,e){t=Qu(t,n)?[t]:Ne(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=ci(t[u]);if(df(f)){var c=r;if(u!=o){var l=f[a];c=e?e(l,a,f):K,c===K&&(c=null==l?Yu(t[u+1])?[]:{}:l)}pr(f,a,c)}f=f[a]}return n}function ke(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(u);++e<u;)i[e]=n[e+t];return i}function Ie(n,t){var r;return jl(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Re(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&u<=On){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!Cf(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return Ee(n,t,Ka,r)}function Ee(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=Cf(t),c=t===K;u<i;){var l=Gc((u+i)/2),s=r(n[l]),h=s!==K,p=null===s,v=s===s,_=Cf(s);if(o)var g=e||v;else g=c?v&&(e||h):f?v&&h&&(e||!p):a?v&&h&&!p&&(e||!_):!p&&!_&&(e?s<=t:s<t);g?u=l+1:i=l}return nl(i,An)}function Se(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!tf(f,a)){var a=f;i[u++]=0===o?0:o}}return i}function We(n){return"number"==typeof n?n:Cf(n)?xn:+n}function Le(n){if("string"==typeof n)return n;if(Cf(n))return xl?xl.call(n):"";var t=n+"";return"0"==t&&1/n==-bn?"-0":t}function Ce(n,t,r){var e=-1,u=a,i=n.length,o=!0,f=[],l=f;if(r)o=!1,u=c;else if(i>=J){var s=t?null:Rl(n);if(s)return P(s);o=!1,u=I,l=new rr}else l=t?[]:f;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,o&&p===p){for(var v=l.length;v--;)if(l[v]===p)continue n;t&&l.push(p),f.push(h)}else u(l,p,r)||(l!==f&&l.push(p),f.push(h))}return f}function Be(n,t){t=Qu(t,n)?[t]:Ne(t),n=fi(n,t);var r=ci(Si(t));return!(null!=n&&Jr(n,r))||delete n[r]}function $e(n,t,r,e){return Oe(n,t,r(Vr(n,t)),e)}function ze(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?ke(n,e?0:i,e?i+1:u):ke(n,e?i+1:0,e?u:i)}function Ue(n,t){var r=n;return r instanceof Bt&&(r=r.value()),h(t,function(n,t){return t.func.apply(t.thisArg,s([n],t.args))},r)}function Fe(n,t,r){for(var e=-1,u=n.length;++e<u;)var i=i?s($r(i,n[e],t,r),$r(n[e],i,t,r)):n[e];return i&&i.length?Ce(i,t,r):[]}function Me(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){var f=e<i?t[e]:K;r(o,n[e],f)}return o}function De(n){return of(n)?n:[]}function Pe(n){return"function"==typeof n?n:Ka}function Ne(n){return ys(n)?n:Bl(n)}function qe(n,t,r){var e=n.length;return r=r===K?e:r,!t&&r>=e?n:ke(n,t,r)}function Te(n,t){if(t)return n.slice();var r=new n.constructor(n.length);return n.copy(r),r}function Ze(n){var t=new n.constructor(n.byteLength);return new Mc(t).set(new Mc(n)),t}function Ve(n,t){var r=t?Ze(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}function Ke(t,r,e){var u=r?e(M(t),!0):M(t);return h(u,n,new t.constructor)}function Ge(n){var t=new n.constructor(n.source,mt.exec(n));return t.lastIndex=n.lastIndex,t}function Je(n,r,e){var u=r?e(P(n),!0):P(n);return h(u,t,new n.constructor)}function Ye(n){return ml?Object(ml.call(n)):{}}function He(n,t){var r=t?Ze(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function Qe(n,t){if(n!==t){var r=n!==K,e=null===n,u=n===n,i=Cf(n),o=t!==K,f=null===t,a=t===t,c=Cf(t);if(!f&&!c&&!i&&n>t||i&&o&&a&&!f&&!c||e&&o&&a||!r&&a||!u)return 1;if(!e&&!i&&!c&&n<t||c&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!a)return-1}return 0}function Xe(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var a=Qe(u[e],i[e]);if(a){if(e>=f)return a;var c=r[e];return a*("desc"==c?-1:1)}}return n.index-t.index}function nu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,a=t.length,c=Xc(i-o,0),l=Array(a+c),s=!e;++f<a;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;c--;)l[f++]=n[u++];return l}function tu(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,a=-1,c=t.length,l=Xc(i-f,0),s=Array(l+c),h=!e;++u<l;)s[u]=n[u];for(var p=u;++a<c;)s[p+a]=t[a];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function ru(n,t){var r=-1,e=n.length;for(t||(t=Array(e));++r<e;)t[r]=n[r];return t}function eu(n,t,r,e){r||(r={});for(var u=-1,i=t.length;++u<i;){var o=t[u],f=e?e(r[o],n[o],o,r,n):n[o];pr(r,o,f)}return r}function uu(n,t){return eu(n,Du(n),t)}function iu(n,t){return function(r,u){var i=ys(r)?e:Ar,o=t?t():{};return i(r,n,$u(u),o)}}function ou(n){return Zo(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:K,o=u>2?r[2]:K;for(i=n.length>3&&"function"==typeof i?(u--,i):K,o&&Hu(r[0],r[1],o)&&(i=u<3?K:i,u=1),t=Object(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function fu(n,t){return function(r,e){if(null==r)return r;if(!uf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=Object(r);(t?i--:++i<u)&&e(o[i],i,o)!==!1;);return r}}function au(n){return function(t,r,e){for(var u=-1,i=Object(t),o=e(t),f=o.length;f--;){var a=o[n?f:++u];if(r(i[a],a,i)===!1)break}return t}}function cu(n,t,r){function e(){var t=this&&this!==zr&&this instanceof e?i:n;return t.apply(u?r:this,arguments)}var u=t&X,i=hu(n);return e}function lu(n){return function(t){t=Zf(t);var r=dr.test(t)?T(t):K,e=r?r[0]:t.charAt(0),u=r?qe(r,1).join(""):t.slice(1);return e[n]()+u}}function su(n){return function(t){return h(qa(ja(t).replace(vr,"")),n,"")}}function hu(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Cr(n.prototype),e=n.apply(r,t);return df(e)?e:r}}function pu(n,t,e){function u(){for(var o=arguments.length,f=Array(o),a=o,c=Bu(u);a--;)f[a]=arguments[a];var l=o<3&&f[0]!==c&&f[o-1]!==c?[]:D(f,c);if(o-=l.length,o<e)return Au(n,t,gu,u.placeholder,K,f,l,K,K,e-o);var s=this&&this!==zr&&this instanceof u?i:n;return r(s,this,f)}var i=hu(n);return u}function vu(n){return function(t,r,e){var u=Object(t);if(r=$u(r,3),!uf(t))var i=ua(t);var o=n(i||t,function(n,t){return i&&(t=n,n=u[t]),r(n,t,u)},e);return o>-1?t[i?i[o]:o]:K}}function _u(n){return Zo(function(t){t=Nr(t,1);var r=t.length,e=r,u=Ct.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new jc(Y);if(u&&!o&&"wrapper"==Cu(i))var o=new Ct([],!0)}for(e=o?e:r;++e<r;){i=t[e];var f=Cu(i),a="wrapper"==f?El(i):K;o=a&&ni(a[0])&&a[1]==(fn|rn|un|an)&&!a[4].length&&1==a[9]?o[Cu(a[0])].apply(o,a[3]):1==i.length&&ni(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&ys(e)&&e.length>=J)return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function gu(n,t,r,e,u,i,o,f,a,c){function l(){for(var y=arguments.length,d=Array(y),b=y;b--;)d[b]=arguments[b];if(v)var w=Bu(l),m=W(d,w);if(e&&(d=nu(d,e,u,v)),i&&(d=tu(d,i,o,v)),y-=m,v&&y<c){var x=D(d,w);return Au(n,t,gu,l.placeholder,r,d,x,f,a,c-y)}var j=h?r:this,A=p?j[n]:n;return y=d.length,f?d=ai(d,f):_&&y>1&&d.reverse(),s&&a<y&&(d.length=a),this&&this!==zr&&this instanceof l&&(A=g||hu(A)),A.apply(j,d)}var s=t&fn,h=t&X,p=t&nn,v=t&(rn|en),_=t&cn,g=p?K:hu(n);return l}function yu(n,t){return function(r,e){return Xr(r,n,t(e),{})}}function du(n){return function(t,r){var e;if(t===K&&r===K)return 0;if(t!==K&&(e=t),r!==K){if(e===K)return r;"string"==typeof t||"string"==typeof r?(t=Le(t),r=Le(r)):(t=We(t),r=We(r)),e=n(t,r)}return e}}function bu(n){return Zo(function(t){return t=1==t.length&&ys(t[0])?l(t[0],O($u())):l(Nr(t,1,Ju),O($u())),Zo(function(e){var u=this;return n(t,function(n){return r(n,u,e)})})})}function wu(n,t){t=t===K?" ":Le(t);var r=t.length;if(r<2)return r?Ae(t,n):t;var e=Ae(t,Kc(n/q(t)));return dr.test(t)?qe(T(e),0,n).join(""):e.slice(0,n)}function mu(n,t,e,u){function i(){for(var t=-1,a=arguments.length,c=-1,l=u.length,s=Array(l+a),h=this&&this!==zr&&this instanceof i?f:n;++c<l;)s[c]=u[c];for(;a--;)s[c++]=arguments[++t];return r(h,o?e:this,s)}var o=t&X,f=hu(n);return i}function xu(n){return function(t,r,e){return e&&"number"!=typeof e&&Hu(t,r,e)&&(r=e=K),t=Nf(t),t=t===t?t:0,r===K?(r=t,t=0):r=Nf(r)||0,e=e===K?t<r?1:-1:Nf(e)||0,je(t,r,e,n)}}function ju(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Nf(t),r=Nf(r)),n(t,r)}}function Au(n,t,r,e,u,i,o,f,a,c){var l=t&rn,s=l?o:K,h=l?K:o,p=l?i:K,v=l?K:i;t|=l?un:on,t&=~(l?on:un),t&tn||(t&=~(X|nn));var _=[n,t,u,p,s,v,h,f,a,c],g=r.apply(K,_);return ni(n)&&Cl(g,_),g.placeholder=e,g}function Ou(n){var t=mc[n];return function(n,r){if(n=Nf(n),r=nl(Df(r),292)){var e=(Zf(n)+"e").split("e"),u=t(e[0]+"e"+(+e[1]+r));return e=(Zf(u)+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ku(n){return function(t){var r=Pu(t);return r==Cn?M(t):r==Fn?N(t):A(t,n(t))}}function Iu(n,t,r,e,u,i,o,f){var a=t&nn;if(!a&&"function"!=typeof n)throw new jc(Y);var c=e?e.length:0;if(c||(t&=~(un|on),e=u=K),o=o===K?o:Xc(Df(o),0),f=f===K?f:Df(f),c-=u?u.length:0,t&on){var l=e,s=u;e=u=K}var h=a?K:El(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&ii(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=null==p[9]?a?0:n.length:Xc(p[9]-c,0),!f&&t&(rn|en)&&(t&=~(rn|en)),t&&t!=X)v=t==rn||t==en?pu(n,t,f):t!=un&&t!=(X|un)||u.length?gu.apply(K,p):mu(n,t,r,e);else var v=cu(n,t,r);var _=h?Il:Cl;return _(v,p)}function Ru(n,t,r,e,u,i){var o=u&sn,f=n.length,a=t.length;if(f!=a&&!(o&&a>f))return!1;var c=i.get(n);if(c)return c==t;var l=-1,s=!0,h=u&ln?new rr:K;for(i.set(n,t);++l<f;){var p=n[l],_=t[l];if(e)var g=o?e(_,p,l,t,n,i):e(p,_,l,n,t,i);if(g!==K){if(g)continue;s=!1;break}if(h){if(!v(t,function(n,t){if(!h.has(t)&&(p===n||r(p,n,e,u,i)))return h.add(t)})){s=!1;break}}else if(p!==_&&!r(p,_,e,u,i)){s=!1;break}}return i.delete(n),s}function Eu(n,t,r,e,u,i,o){switch(r){case Tn:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case qn:return!(n.byteLength!=t.byteLength||!e(new Mc(n),new Mc(t)));case Rn:case En:return+n==+t;case Sn:return n.name==t.name&&n.message==t.message;case Bn:return n!=+n?t!=+t:n==+t;case Un:case Mn:return n==t+"";case Cn:var f=M;case Fn:var a=i&sn;if(f||(f=P),n.size!=t.size&&!a)return!1;var c=o.get(n);return c?c==t:(i|=ln,o.set(n,t),Ru(f(n),f(t),e,u,i,o));case Dn:if(ml)return ml.call(n)==ml.call(t)}return!1}function Su(n,t,r,e,u,i){var o=u&sn,f=ua(n),a=f.length,c=ua(t),l=c.length;if(a!=l&&!o)return!1;for(var s=a;s--;){var h=f[s];if(!(o?h in t:Jr(t,h)))return!1}var p=i.get(n);if(p)return p==t;var v=!0;i.set(n,t);for(var _=o;++s<a;){h=f[s];var g=n[h],y=t[h];if(e)var d=o?e(y,g,h,t,n,i):e(g,y,h,n,t,i);if(!(d===K?g===y||r(g,y,e,u,i):d)){v=!1;break}_||(_="constructor"==h)}if(v&&!_){var b=n.constructor,w=t.constructor;b!=w&&"constructor"in n&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(v=!1)}return i.delete(n),v}function Wu(n){return Kr(n,ua,Du)}function Lu(n){return Kr(n,ia,Wl)}function Cu(n){for(var t=n.name+"",r=vl[t],e=Sc.call(vl,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Bu(n){var t=Sc.call(Wt,"placeholder")?Wt:n;return t.placeholder}function $u(){var n=Wt.iteratee||Ga;return n=n===Ga?ie:n,arguments.length?n(arguments[0],arguments[1]):n}function zu(n,t){var r=n.__data__;return Xu(t)?r["string"==typeof t?"string":"hash"]:r.map}function Uu(n){for(var t=ua(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,ei(u)]}return t}function Fu(n,t){var r=$(n,t);return ue(r)?r:K}function Mu(n){return Jc(Object(n))}function Du(n){return Pc(Object(n))}function Pu(n){return Cc.call(n)}function Nu(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=nl(t,n+o);break;case"takeRight":n=Xc(n,t-o)}}return{start:n,end:t}}function qu(n,t,r){t=Qu(t,n)?[t]:Ne(t);for(var e,u=-1,i=t.length;++u<i;){var o=ci(t[u]);if(!(e=null!=n&&r(n,o)))break;n=n[o]}if(e)return e;var i=n?n.length:0;return!!i&&yf(i)&&Yu(o,i)&&(ys(n)||Lf(n)||rf(n))}function Tu(n){var t=n.length,r=n.constructor(t);return t&&"string"==typeof n[0]&&Sc.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Zu(n){return"function"!=typeof n.constructor||ri(n)?{}:Cr(Mu(n))}function Vu(n,t,r,e){var u=n.constructor;switch(t){case qn:return Ze(n);case Rn:case En:return new u(+n);case Tn:return Ve(n,e);case Zn:case Vn:case Kn:case Gn:case Jn:case Yn:case Hn:case Qn:case Xn:return He(n,e);case Cn:return Ke(n,e,r);case Bn:case Mn:return new u(n);case Un:return Ge(n);case Fn:return Je(n,e,r);case Dn:return Ye(n)}}function Ku(n){var t=n?n.length:K;return yf(t)&&(ys(n)||Lf(n)||rf(n))?j(t,String):null}function Gu(n){return ys(n)||rf(n)}function Ju(n){return ys(n)&&!(2==n.length&&!_f(n[0]))}function Yu(n,t){return t=null==t?wn:t,!!t&&("number"==typeof n||It.test(n))&&n>-1&&n%1==0&&n<t}function Hu(n,t,r){if(!df(r))return!1;var e=typeof t;return!!("number"==e?uf(r)&&Yu(t,r.length):"string"==e&&t in r)&&tf(r[t],n)}function Qu(n,t){if(ys(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!Cf(n))||(st.test(n)||!lt.test(n)||null!=t&&n in Object(t))}function Xu(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function ni(n){var t=Cu(n),r=Wt[t];if("function"!=typeof r||!(t in Bt.prototype))return!1;if(n===r)return!0;var e=El(r);return!!e&&n===e[0]}function ti(n){return!!Rc&&Rc in n}function ri(n){var t=n&&n.constructor,r="function"==typeof t&&t.prototype||Oc;return n===r}function ei(n){return n===n&&!df(n)}function ui(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==K||n in Object(r)))}}function ii(n,t){var r=n[1],e=t[1],u=r|e,i=u<(X|nn|fn),o=e==fn&&r==rn||e==fn&&r==an&&n[7].length<=t[8]||e==(fn|an)&&t[7].length<=t[8]&&r==rn;if(!i&&!o)return n;e&X&&(n[2]=t[2],u|=r&X?0:tn);var f=t[3];if(f){var a=n[3];n[3]=a?nu(a,f,t[4]):f,n[4]=a?D(n[3],Q):t[4]}return f=t[5],f&&(a=n[5],n[5]=a?tu(a,f,t[6]):f,n[6]=a?D(n[5],Q):t[6]),f=t[7],f&&(n[7]=f),e&fn&&(n[8]=null==n[8]?t[8]:nl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function oi(n,t,r,e,u,i){return df(n)&&df(t)&&he(n,t,K,oi,i.set(t,n)),n}function fi(n,t){return 1==t.length?n:Vr(n,ke(t,0,-1))}function ai(n,t){for(var r=n.length,e=nl(t.length,r),u=ru(n);e--;){var i=t[e];n[e]=Yu(i,r)?u[i]:K}return n}function ci(n){if("string"==typeof n||Cf(n))return n;var t=n+"";return"0"==t&&1/n==-bn?"-0":t}function li(n){if(null!=n){try{return Ec.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function si(n){if(n instanceof Bt)return n.clone();var t=new Ct(n.__wrapped__,n.__chain__);return t.__actions__=ru(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function hi(n,t,r){t=(r?Hu(n,t,r):t===K)?1:Xc(Df(t),0);var e=n?n.length:0;if(!e||t<1)return[];for(var u=0,i=0,o=Array(Kc(e/t));u<e;)o[i++]=ke(n,u,u+=t);return o}function pi(n){for(var t=-1,r=n?n.length:0,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function vi(){for(var n=arguments.length,t=Array(n?n-1:0),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return n?s(ys(r)?ru(r):[r],Nr(t,1)):[]}function _i(n,t,r){var e=n?n.length:0;return e?(t=r||t===K?1:Df(t),ke(n,t<0?0:t,e)):[]}function gi(n,t,r){var e=n?n.length:0;return e?(t=r||t===K?1:Df(t),t=e-t,ke(n,0,t<0?0:t)):[]}function yi(n,t){return n&&n.length?ze(n,$u(t,3),!0,!0):[]}function di(n,t){return n&&n.length?ze(n,$u(t,3),!0):[]}function bi(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Hu(n,t,r)&&(r=0,e=u),Dr(n,t,r,e)):[]}function wi(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=null==r?0:Df(r);return u<0&&(u=Xc(e+u,0)),g(n,$u(t,3),u)}function mi(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e-1;return r!==K&&(u=Df(r),u=r<0?Xc(e+u,0):nl(u,e-1)),g(n,$u(t,3),u,!0)}function xi(n){var t=n?n.length:0;return t?Nr(n,1):[]}function ji(n){var t=n?n.length:0;return t?Nr(n,bn):[]}function Ai(n,t){var r=n?n.length:0;return r?(t=t===K?1:Df(t),Nr(n,t)):[]}function Oi(n){for(var t=-1,r=n?n.length:0,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function ki(n){return n&&n.length?n[0]:K}function Ii(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=null==r?0:Df(r);return u<0&&(u=Xc(e+u,0)),y(n,t,u)}function Ri(n){return gi(n,1)}function Ei(n,t){return n?Hc.call(n,t):""}function Si(n){var t=n?n.length:0;return t?n[t-1]:K}function Wi(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if(r!==K&&(u=Df(r),u=(u<0?Xc(e+u,0):nl(u,e-1))+1),t!==t)return z(n,u-1,!0);for(;u--;)if(n[u]===t)return u;return-1}function Li(n,t){return n&&n.length?ve(n,Df(t)):K}function Ci(n,t){return n&&n.length&&t&&t.length?we(n,t):n}function Bi(n,t,r){return n&&n.length&&t&&t.length?we(n,t,$u(r)):n}function $i(n,t,r){return n&&n.length&&t&&t.length?we(n,t,K,r):n}function zi(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=$u(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return me(n,u),r}function Ui(n){return n?ul.call(n):n}function Fi(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Hu(n,t,r)?(t=0,r=e):(t=null==t?0:Df(t),r=r===K?e:Df(r)),ke(n,t,r)):[]}function Mi(n,t){return Re(n,t)}function Di(n,t,r){return Ee(n,t,$u(r))}function Pi(n,t){var r=n?n.length:0;if(r){var e=Re(n,t);if(e<r&&tf(n[e],t))return e}return-1}function Ni(n,t){return Re(n,t,!0)}function qi(n,t,r){return Ee(n,t,$u(r),!0)}function Ti(n,t){var r=n?n.length:0;if(r){var e=Re(n,t,!0)-1;if(tf(n[e],t))return e}return-1}function Zi(n){return n&&n.length?Se(n):[]}function Vi(n,t){return n&&n.length?Se(n,$u(t)):[]}function Ki(n){return _i(n,1)}function Gi(n,t,r){return n&&n.length?(t=r||t===K?1:Df(t),ke(n,0,t<0?0:t)):[]}function Ji(n,t,r){var e=n?n.length:0;return e?(t=r||t===K?1:Df(t),t=e-t,ke(n,t<0?0:t,e)):[]}function Yi(n,t){return n&&n.length?ze(n,$u(t,3),!1,!0):[]}function Hi(n,t){return n&&n.length?ze(n,$u(t,3)):[]}function Qi(n){return n&&n.length?Ce(n):[]}function Xi(n,t){return n&&n.length?Ce(n,$u(t)):[]}function no(n,t){return n&&n.length?Ce(n,K,t):[]}function to(n){if(!n||!n.length)return[];var t=0;return n=f(n,function(n){if(of(n))return t=Xc(n.length,t),!0}),j(t,function(t){return l(n,de(t))})}function ro(n,t){if(!n||!n.length)return[];var e=to(n);return null==t?e:l(e,function(n){return r(t,K,n)})}function eo(n,t){return Me(n||[],t||[],pr)}function uo(n,t){return Me(n||[],t||[],Oe)}function io(n){var t=Wt(n);return t.__chain__=!0,t}function oo(n,t){return t(n),n}function fo(n,t){return t(n)}function ao(){return io(this)}function co(){return new Ct(this.value(),this.__chain__)}function lo(){this.__values__===K&&(this.__values__=Ff(this.value()));var n=this.__index__>=this.__values__.length,t=n?K:this.__values__[this.__index__++];return{done:n,value:t}}function so(){return this}function ho(n){for(var t,r=this;r instanceof Lt;){var e=si(r);e.__index__=0,e.__values__=K,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function po(){var n=this.__wrapped__;if(n instanceof Bt){var t=n;return this.__actions__.length&&(t=new Bt(this)),t=t.reverse(),t.__actions__.push({func:fo,args:[Ui],thisArg:K}),new Ct(t,this.__chain__)}return this.thru(Ui)}function vo(){return Ue(this.__wrapped__,this.__actions__)}function _o(n,t,r){var e=ys(n)?o:Fr;return r&&Hu(n,t,r)&&(t=K),e(n,$u(t,3))}function go(n,t){var r=ys(n)?f:Pr;return r(n,$u(t,3))}function yo(n,t){return Nr(Ao(n,t),1);
}function bo(n,t){return Nr(Ao(n,t),bn)}function wo(n,t,r){return r=r===K?1:Df(r),Nr(Ao(n,t),r)}function mo(n,t){var r=ys(n)?u:jl;return r(n,$u(t,3))}function xo(n,t){var r=ys(n)?i:Al;return r(n,$u(t,3))}function jo(n,t,r,e){n=uf(n)?n:ya(n),r=r&&!e?Df(r):0;var u=n.length;return r<0&&(r=Xc(u+r,0)),Lf(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function Ao(n,t){var r=ys(n)?l:ce;return r(n,$u(t,3))}function Oo(n,t,r,e){return null==n?[]:(ys(t)||(t=null==t?[]:[t]),r=e?K:r,ys(r)||(r=null==r?[]:[r]),_e(n,t,r))}function ko(n,t,r){var e=ys(n)?h:w,u=arguments.length<3;return e(n,$u(t,4),r,u,jl)}function Io(n,t,r){var e=ys(n)?p:w,u=arguments.length<3;return e(n,$u(t,4),r,u,Al)}function Ro(n,t){var r=ys(n)?f:Pr;return t=$u(t,3),r(n,function(n,r,e){return!t(n,r,e)})}function Eo(n){var t=uf(n)?n:ya(n),r=t.length;return r>0?t[xe(0,r-1)]:K}function So(n,t,r){var e=-1,u=Ff(n),i=u.length,o=i-1;for(t=(r?Hu(n,t,r):t===K)?1:Ir(Df(t),0,i);++e<t;){var f=xe(e,o),a=u[f];u[f]=u[e],u[e]=a}return u.length=t,u}function Wo(n){return So(n,jn)}function Lo(n){if(null==n)return 0;if(uf(n)){var t=n.length;return t&&Lf(n)?q(n):t}if(bf(n)){var r=Pu(n);if(r==Cn||r==Fn)return n.size}return ua(n).length}function Co(n,t,r){var e=ys(n)?v:Ie;return r&&Hu(n,t,r)&&(t=K),e(n,$u(t,3))}function Bo(){return bc.now()}function $o(n,t){if("function"!=typeof t)throw new jc(Y);return n=Df(n),function(){if(--n<1)return t.apply(this,arguments)}}function zo(n,t,r){return t=r?K:t,t=n&&null==t?n.length:t,Iu(n,fn,K,K,K,K,t)}function Uo(n,t){var r;if("function"!=typeof t)throw new jc(Y);return n=Df(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=K),r}}function Fo(n,t,r){t=r?K:t;var e=Iu(n,rn,K,K,K,K,K,t);return e.placeholder=Fo.placeholder,e}function Mo(n,t,r){t=r?K:t;var e=Iu(n,en,K,K,K,K,K,t);return e.placeholder=Mo.placeholder,e}function Do(n,t,r){function e(t){var r=h,e=p;return h=p=K,d=t,_=n.apply(e,r)}function u(n){return d=n,g=Vc(f,t),b?e(n):_}function i(n){var r=n-y,e=n-d,u=t-r;return w?nl(u,v-e):u}function o(n){var r=n-y,e=n-d;return y===K||r>=t||r<0||w&&e>=v}function f(){var n=Bo();return o(n)?a(n):void(g=Vc(f,i(n)))}function a(n){return g=K,m&&h?e(n):(h=p=K,_)}function c(){d=0,h=y=p=g=K}function l(){return g===K?_:a(Bo())}function s(){var n=Bo(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===K)return u(y);if(w)return g=Vc(f,t),e(y)}return g===K&&(g=Vc(f,t)),_}var h,p,v,_,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new jc(Y);return t=Nf(t)||0,df(r)&&(b=!!r.leading,w="maxWait"in r,v=w?Xc(Nf(r.maxWait)||0,t):v,m="trailing"in r?!!r.trailing:m),s.cancel=c,s.flush=l,s}function Po(n){return Iu(n,cn)}function No(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new jc(Y);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new(No.Cache||Yt),r}function qo(n){if("function"!=typeof n)throw new jc(Y);return function(){return!n.apply(this,arguments)}}function To(n){return Uo(2,n)}function Zo(n,t){if("function"!=typeof n)throw new jc(Y);return t=Xc(t===K?n.length-1:Df(t),0),function(){for(var e=arguments,u=-1,i=Xc(e.length-t,0),o=Array(i);++u<i;)o[u]=e[t+u];switch(t){case 0:return n.call(this,o);case 1:return n.call(this,e[0],o);case 2:return n.call(this,e[0],e[1],o)}var f=Array(t+1);for(u=-1;++u<t;)f[u]=e[u];return f[t]=o,r(n,this,f)}}function Vo(n,t){if("function"!=typeof n)throw new jc(Y);return t=t===K?0:Xc(Df(t),0),Zo(function(e){var u=e[t],i=qe(e,0,t);return u&&s(i,u),r(n,this,i)})}function Ko(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new jc(Y);return df(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Do(n,t,{leading:e,maxWait:t,trailing:u})}function Go(n){return zo(n,1)}function Jo(n,t){return t=null==t?Ka:t,hs(t,n)}function Yo(){if(!arguments.length)return[];var n=arguments[0];return ys(n)?n:[n]}function Ho(n){return Sr(n,!1,!0)}function Qo(n,t){return Sr(n,!1,!0,t)}function Xo(n){return Sr(n,!0,!0)}function nf(n,t){return Sr(n,!0,!0,t)}function tf(n,t){return n===t||n!==n&&t!==t}function rf(n){return of(n)&&Sc.call(n,"callee")&&(!Tc.call(n,"callee")||Cc.call(n)==kn)}function ef(n){return bf(n)&&Cc.call(n)==qn}function uf(n){return null!=n&&yf(Sl(n))&&!_f(n)}function of(n){return bf(n)&&uf(n)}function ff(n){return n===!0||n===!1||bf(n)&&Cc.call(n)==Rn}function af(n){return bf(n)&&Cc.call(n)==En}function cf(n){return!!n&&1===n.nodeType&&bf(n)&&!Rf(n)}function lf(n){if(uf(n)&&(ys(n)||Lf(n)||_f(n.splice)||rf(n)||ds(n)))return!n.length;if(bf(n)){var t=Pu(n);if(t==Cn||t==Fn)return!n.size}for(var r in n)if(Sc.call(n,r))return!1;return!(pl&&ua(n).length)}function sf(n,t){return te(n,t)}function hf(n,t,r){r="function"==typeof r?r:K;var e=r?r(n,t):K;return e===K?te(n,t,r):!!e}function pf(n){return!!bf(n)&&(Cc.call(n)==Sn||"string"==typeof n.message&&"string"==typeof n.name)}function vf(n){return"number"==typeof n&&Yc(n)}function _f(n){var t=df(n)?Cc.call(n):"";return t==Wn||t==Ln}function gf(n){return"number"==typeof n&&n==Df(n)}function yf(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=wn}function df(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function bf(n){return!!n&&"object"==typeof n}function wf(n){return bf(n)&&Pu(n)==Cn}function mf(n,t){return n===t||ee(n,t,Uu(t))}function xf(n,t,r){return r="function"==typeof r?r:K,ee(n,t,Uu(t),r)}function jf(n){return If(n)&&n!=+n}function Af(n){if(Ll(n))throw new wc("This method is not supported with `core-js`. Try https://github.com/es-shims.");return ue(n)}function Of(n){return null===n}function kf(n){return null==n}function If(n){return"number"==typeof n||bf(n)&&Cc.call(n)==Bn}function Rf(n){if(!bf(n)||Cc.call(n)!=$n||U(n))return!1;var t=Mu(n);if(null===t)return!0;var r=Sc.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ec.call(r)==Lc}function Ef(n){return df(n)&&Cc.call(n)==Un}function Sf(n){return gf(n)&&n>=-wn&&n<=wn}function Wf(n){return bf(n)&&Pu(n)==Fn}function Lf(n){return"string"==typeof n||!ys(n)&&bf(n)&&Cc.call(n)==Mn}function Cf(n){return"symbol"==typeof n||bf(n)&&Cc.call(n)==Dn}function Bf(n){return bf(n)&&yf(n.length)&&!!xr[Cc.call(n)]}function $f(n){return n===K}function zf(n){return bf(n)&&Pu(n)==Pn}function Uf(n){return bf(n)&&Cc.call(n)==Nn}function Ff(n){if(!n)return[];if(uf(n))return Lf(n)?T(n):ru(n);if(Nc&&n[Nc])return F(n[Nc]());var t=Pu(n),r=t==Cn?M:t==Fn?P:ya;return r(n)}function Mf(n){if(!n)return 0===n?n:0;if(n=Nf(n),n===bn||n===-bn){var t=n<0?-1:1;return t*mn}return n===n?n:0}function Df(n){var t=Mf(n),r=t%1;return t===t?r?t-r:t:0}function Pf(n){return n?Ir(Df(n),0,jn):0}function Nf(n){if("number"==typeof n)return n;if(Cf(n))return xn;if(df(n)){var t=_f(n.valueOf)?n.valueOf():n;n=df(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(_t,"");var r=At.test(n);return r||kt.test(n)?Er(n.slice(2),r?2:8):jt.test(n)?xn:+n}function qf(n){return eu(n,ia(n))}function Tf(n){return Ir(Df(n),-wn,wn)}function Zf(n){return null==n?"":Le(n)}function Vf(n,t){var r=Cr(n);return t?Or(r,t):r}function Kf(n,t){return _(n,$u(t,3),qr)}function Gf(n,t){return _(n,$u(t,3),Tr)}function Jf(n,t){return null==n?n:Ol(n,$u(t,3),ia)}function Yf(n,t){return null==n?n:kl(n,$u(t,3),ia)}function Hf(n,t){return n&&qr(n,$u(t,3))}function Qf(n,t){return n&&Tr(n,$u(t,3))}function Xf(n){return null==n?[]:Zr(n,ua(n))}function na(n){return null==n?[]:Zr(n,ia(n))}function ta(n,t,r){var e=null==n?K:Vr(n,t);return e===K?r:e}function ra(n,t){return null!=n&&qu(n,t,Jr)}function ea(n,t){return null!=n&&qu(n,t,Yr)}function ua(n){var t=ri(n);if(!t&&!uf(n))return oe(n);var r=Ku(n),e=!!r,u=r||[],i=u.length;for(var o in n)!Jr(n,o)||e&&("length"==o||Yu(o,i))||t&&"constructor"==o||u.push(o);return u}function ia(n){for(var t=-1,r=ri(n),e=fe(n),u=e.length,i=Ku(n),o=!!i,f=i||[],a=f.length;++t<u;){var c=e[t];o&&("length"==c||Yu(c,a))||"constructor"==c&&(r||!Sc.call(n,c))||f.push(c)}return f}function oa(n,t){var r={};return t=$u(t,3),qr(n,function(n,e,u){r[t(n,e,u)]=n}),r}function fa(n,t){var r={};return t=$u(t,3),qr(n,function(n,e,u){r[e]=t(n,e,u)}),r}function aa(n,t){return t=$u(t),ye(n,function(n,r){return!t(n,r)})}function ca(n,t){return null==n?{}:ye(n,$u(t))}function la(n,t,r){t=Qu(t,n)?[t]:Ne(t);var e=-1,u=t.length;for(u||(n=K,u=1);++e<u;){var i=null==n?K:n[ci(t[e])];i===K&&(e=u,i=r),n=_f(i)?i.call(n):i}return n}function sa(n,t,r){return null==n?n:Oe(n,t,r)}function ha(n,t,r,e){return e="function"==typeof e?e:K,null==n?n:Oe(n,t,r,e)}function pa(n,t,r){var e=ys(n)||Bf(n);if(t=$u(t,4),null==r)if(e||df(n)){var i=n.constructor;r=e?ys(n)?new i:[]:_f(i)?Cr(Mu(n)):{}}else r={};return(e?u:qr)(n,function(n,e,u){return t(r,n,e,u)}),r}function va(n,t){return null==n||Be(n,t)}function _a(n,t,r){return null==n?n:$e(n,t,Pe(r))}function ga(n,t,r,e){return e="function"==typeof e?e:K,null==n?n:$e(n,t,Pe(r),e)}function ya(n){return n?k(n,ua(n)):[]}function da(n){return null==n?[]:k(n,ia(n))}function ba(n,t,r){return r===K&&(r=t,t=K),r!==K&&(r=Nf(r),r=r===r?r:0),t!==K&&(t=Nf(t),t=t===t?t:0),Ir(Nf(n),t,r)}function wa(n,t,r){return t=Nf(t)||0,r===K?(r=t,t=0):r=Nf(r)||0,n=Nf(n),Hr(n,t,r)}function ma(n,t,r){if(r&&"boolean"!=typeof r&&Hu(n,t,r)&&(t=r=K),r===K&&("boolean"==typeof t?(r=t,t=K):"boolean"==typeof n&&(r=n,n=K)),n===K&&t===K?(n=0,t=1):(n=Nf(n)||0,t===K?(t=n,n=0):t=Nf(t)||0),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=rl();return nl(n+u*(t-n+Rr("1e-"+((u+"").length-1))),t)}return xe(n,t)}function xa(n){return Ts(Zf(n).toLowerCase())}function ja(n){return n=Zf(n),n&&n.replace(Rt,L).replace(_r,"")}function Aa(n,t,r){n=Zf(n),t=Le(t);var e=n.length;return r=r===K?e:Ir(Df(r),0,e),r-=t.length,r>=0&&n.indexOf(t,r)==r}function Oa(n){return n=Zf(n),n&&ot.test(n)?n.replace(ut,C):n}function ka(n){return n=Zf(n),n&&vt.test(n)?n.replace(pt,"\\$&"):n}function Ia(n,t,r){n=Zf(n),t=Df(t);var e=t?q(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return wu(Gc(u),r)+n+wu(Kc(u),r)}function Ra(n,t,r){n=Zf(n),t=Df(t);var e=t?q(n):0;return t&&e<t?n+wu(t-e,r):n}function Ea(n,t,r){n=Zf(n),t=Df(t);var e=t?q(n):0;return t&&e<t?wu(t-e,r)+n:n}function Sa(n,t,r){return r||null==t?t=0:t&&(t=+t),n=Zf(n).replace(_t,""),tl(n,t||(xt.test(n)?16:10))}function Wa(n,t,r){return t=(r?Hu(n,t,r):t===K)?1:Df(t),Ae(Zf(n),t)}function La(){var n=arguments,t=Zf(n[0]);return n.length<3?t:el.call(t,n[1],n[2])}function Ca(n,t,r){return r&&"number"!=typeof r&&Hu(n,t,r)&&(t=r=K),(r=r===K?jn:r>>>0)?(n=Zf(n),n&&("string"==typeof t||null!=t&&!Ef(t))&&(t=Le(t),""==t&&dr.test(n))?qe(T(n),0,r):il.call(n,t,r)):[]}function Ba(n,t,r){return n=Zf(n),r=Ir(Df(r),0,n.length),n.lastIndexOf(Le(t),r)==r}function $a(n,t,r){var e=Wt.templateSettings;r&&Hu(n,t,r)&&(t=K),n=Zf(n),t=js({},t,e,sr);var u,i,o=js({},t.imports,e.imports,sr),f=ua(o),a=k(o,f),c=0,l=t.interpolate||Et,s="__p += '",h=xc((t.escape||Et).source+"|"+l.source+"|"+(l===ct?wt:Et).source+"|"+(t.evaluate||Et).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++mr+"]")+"\n";n.replace(h,function(t,r,e,o,f,a){return e||(e=o),s+=n.slice(c,a).replace(St,B),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),c=a+t.length,t}),s+="';\n";var v=t.variable;v||(s="with (obj) {\n"+s+"\n}\n"),s=(i?s.replace(nt,""):s).replace(tt,"$1").replace(rt,"$1;"),s="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var _=Zs(function(){return Function(f,p+"return "+s).apply(K,a)});if(_.source=s,pf(_))throw _;return _}function za(n){return Zf(n).toLowerCase()}function Ua(n){return Zf(n).toUpperCase()}function Fa(n,t,r){if(n=Zf(n),n&&(r||t===K))return n.replace(_t,"");if(!n||!(t=Le(t)))return n;var e=T(n),u=T(t),i=R(e,u),o=E(e,u)+1;return qe(e,i,o).join("")}function Ma(n,t,r){if(n=Zf(n),n&&(r||t===K))return n.replace(yt,"");if(!n||!(t=Le(t)))return n;var e=T(n),u=E(e,T(t))+1;return qe(e,0,u).join("")}function Da(n,t,r){if(n=Zf(n),n&&(r||t===K))return n.replace(gt,"");if(!n||!(t=Le(t)))return n;var e=T(n),u=R(e,T(t));return qe(e,u).join("")}function Pa(n,t){var r=hn,e=pn;if(df(t)){var u="separator"in t?t.separator:u;r="length"in t?Df(t.length):r,e="omission"in t?Le(t.omission):e}n=Zf(n);var i=n.length;if(dr.test(n)){var o=T(n);i=o.length}if(r>=i)return n;var f=r-q(e);if(f<1)return e;var a=o?qe(o,0,f).join(""):n.slice(0,f);if(u===K)return a+e;if(o&&(f+=a.length-f),Ef(u)){if(n.slice(f).search(u)){var c,l=a;for(u.global||(u=xc(u.source,Zf(mt.exec(u))+"g")),u.lastIndex=0;c=u.exec(l);)var s=c.index;a=a.slice(0,s===K?f:s)}}else if(n.indexOf(Le(u),f)!=f){var h=a.lastIndexOf(u);h>-1&&(a=a.slice(0,h))}return a+e}function Na(n){return n=Zf(n),n&&it.test(n)?n.replace(et,Z):n}function qa(n,t,r){return n=Zf(n),t=r?K:t,t===K&&(t=br.test(n)?yr:dt),n.match(t)||[]}function Ta(n){var t=n?n.length:0,e=$u();return n=t?l(n,function(n){if("function"!=typeof n[1])throw new jc(Y);return[e(n[0]),n[1]]}):[],Zo(function(e){for(var u=-1;++u<t;){var i=n[u];if(r(i[0],this,e))return r(i[1],this,e)}})}function Za(n){return Wr(Sr(n,!0))}function Va(n){return function(){return n}}function Ka(n){return n}function Ga(n){return ie("function"==typeof n?n:Sr(n,!0))}function Ja(n){return le(Sr(n,!0))}function Ya(n,t){return se(n,Sr(t,!0))}function Ha(n,t,r){var e=ua(t),i=Zr(t,e);null!=r||df(t)&&(i.length||!e.length)||(r=t,t=n,n=this,i=Zr(t,ua(t)));var o=!(df(r)&&"chain"in r&&!r.chain),f=_f(n);return u(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__),u=r.__actions__=ru(this.__actions__);return u.push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,s([this.value()],arguments))})}),n}function Qa(){return zr._===this&&(zr._=Bc),this}function Xa(){}function nc(n){return n=Df(n),Zo(function(t){return ve(t,n)})}function tc(n){return Qu(n)?de(ci(n)):be(n)}function rc(n){return function(t){return null==n?K:Vr(n,t)}}function ec(){return[]}function uc(){return!1}function ic(){return{}}function oc(){return""}function fc(){return!0}function ac(n,t){if(n=Df(n),n<1||n>wn)return[];var r=jn,e=nl(n,jn);t=$u(t),n-=jn;for(var u=j(e,t);++r<n;)t(r);return u}function cc(n){return ys(n)?l(n,ci):Cf(n)?[n]:ru(Bl(n))}function lc(n){var t=++Wc;return Zf(n)+t}function sc(n){return n&&n.length?Mr(n,Ka,Gr):K}function hc(n,t){return n&&n.length?Mr(n,$u(t),Gr):K}function pc(n){return b(n,Ka)}function vc(n,t){return b(n,$u(t))}function _c(n){return n&&n.length?Mr(n,Ka,ae):K}function gc(n,t){return n&&n.length?Mr(n,$u(t),ae):K}function yc(n){return n&&n.length?x(n,Ka):0}function dc(n,t){return n&&n.length?x(n,$u(t)):0}S=S?Ur.defaults({},S,Ur.pick(zr,wr)):zr;var bc=S.Date,wc=S.Error,mc=S.Math,xc=S.RegExp,jc=S.TypeError,Ac=S.Array.prototype,Oc=S.Object.prototype,kc=S.String.prototype,Ic=S["__core-js_shared__"],Rc=function(){var n=/[^.]+$/.exec(Ic&&Ic.keys&&Ic.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Ec=S.Function.prototype.toString,Sc=Oc.hasOwnProperty,Wc=0,Lc=Ec.call(Object),Cc=Oc.toString,Bc=zr._,$c=xc("^"+Ec.call(Sc).replace(pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zc=Lr?S.Buffer:K,Uc=S.Reflect,Fc=S.Symbol,Mc=S.Uint8Array,Dc=Uc?Uc.enumerate:K,Pc=Object.getOwnPropertySymbols,Nc="symbol"==typeof(Nc=Fc&&Fc.iterator)?Nc:K,qc=Object.create,Tc=Oc.propertyIsEnumerable,Zc=Ac.splice,Vc=function(n,t){return S.setTimeout.call(zr,n,t)},Kc=mc.ceil,Gc=mc.floor,Jc=Object.getPrototypeOf,Yc=S.isFinite,Hc=Ac.join,Qc=Object.keys,Xc=mc.max,nl=mc.min,tl=S.parseInt,rl=mc.random,el=kc.replace,ul=Ac.reverse,il=kc.split,ol=Fu(S,"DataView"),fl=Fu(S,"Map"),al=Fu(S,"Promise"),cl=Fu(S,"Set"),ll=Fu(S,"WeakMap"),sl=Fu(Object,"create"),hl=ll&&new ll,pl=!Tc.call({valueOf:1},"valueOf"),vl={},_l=li(ol),gl=li(fl),yl=li(al),dl=li(cl),bl=li(ll),wl=Fc?Fc.prototype:K,ml=wl?wl.valueOf:K,xl=wl?wl.toString:K;Wt.templateSettings={escape:ft,evaluate:at,interpolate:ct,variable:"",imports:{_:Wt}},Wt.prototype=Lt.prototype,Wt.prototype.constructor=Wt,Ct.prototype=Cr(Lt.prototype),Ct.prototype.constructor=Ct,Bt.prototype=Cr(Lt.prototype),Bt.prototype.constructor=Bt,Ft.prototype.clear=Mt,Ft.prototype.delete=Dt,Ft.prototype.get=Pt,Ft.prototype.has=Nt,Ft.prototype.set=qt,Tt.prototype.clear=Zt,Tt.prototype.delete=Vt,Tt.prototype.get=Kt,Tt.prototype.has=Gt,Tt.prototype.set=Jt,Yt.prototype.clear=Ht,Yt.prototype.delete=Qt,Yt.prototype.get=Xt,Yt.prototype.has=nr,Yt.prototype.set=tr,rr.prototype.add=rr.prototype.push=er,rr.prototype.has=ur,ir.prototype.clear=or,ir.prototype.delete=fr,ir.prototype.get=ar,ir.prototype.has=cr,ir.prototype.set=lr;var jl=fu(qr),Al=fu(Tr,!0),Ol=au(),kl=au(!0);Dc&&!Tc.call({valueOf:1},"valueOf")&&(fe=function(n){return F(Dc(n))});var Il=hl?function(n,t){return hl.set(n,t),n}:Ka,Rl=cl&&1/P(new cl([,-0]))[1]==bn?function(n){return new cl(n)}:Xa,El=hl?function(n){return hl.get(n)}:Xa,Sl=de("length");Pc||(Du=ec);var Wl=Pc?function(n){for(var t=[];n;)s(t,Du(n)),n=Mu(n);return t}:Du;(ol&&Pu(new ol(new ArrayBuffer(1)))!=Tn||fl&&Pu(new fl)!=Cn||al&&Pu(al.resolve())!=zn||cl&&Pu(new cl)!=Fn||ll&&Pu(new ll)!=Pn)&&(Pu=function(n){var t=Cc.call(n),r=t==$n?n.constructor:K,e=r?li(r):K;if(e)switch(e){case _l:return Tn;case gl:return Cn;case yl:return zn;case dl:return Fn;case bl:return Pn}return t});var Ll=Ic?_f:uc,Cl=function(){var n=0,t=0;return function(r,e){var u=Bo(),i=_n-(u-t);if(t=u,i>0){if(++n>=vn)return r}else n=0;return Il(r,e)}}(),Bl=No(function(n){var t=[];return Zf(n).replace(ht,function(n,r,e,u){t.push(e?u.replace(bt,"$1"):r||n)}),t}),$l=Zo(function(n,t){return of(n)?$r(n,Nr(t,1,of,!0)):[]}),zl=Zo(function(n,t){var r=Si(t);return of(r)&&(r=K),of(n)?$r(n,Nr(t,1,of,!0),$u(r)):[]}),Ul=Zo(function(n,t){var r=Si(t);return of(r)&&(r=K),of(n)?$r(n,Nr(t,1,of,!0),K,r):[]}),Fl=Zo(function(n){var t=l(n,De);return t.length&&t[0]===n[0]?Qr(t):[]}),Ml=Zo(function(n){var t=Si(n),r=l(n,De);return t===Si(r)?t=K:r.pop(),r.length&&r[0]===n[0]?Qr(r,$u(t)):[]}),Dl=Zo(function(n){var t=Si(n),r=l(n,De);return t===Si(r)?t=K:r.pop(),r.length&&r[0]===n[0]?Qr(r,K,t):[]}),Pl=Zo(Ci),Nl=Zo(function(n,t){t=Nr(t,1);var r=n?n.length:0,e=kr(n,t);return me(n,l(t,function(n){return Yu(n,r)?+n:n}).sort(Qe)),e}),ql=Zo(function(n){return Ce(Nr(n,1,of,!0))}),Tl=Zo(function(n){var t=Si(n);return of(t)&&(t=K),Ce(Nr(n,1,of,!0),$u(t))}),Zl=Zo(function(n){var t=Si(n);return of(t)&&(t=K),Ce(Nr(n,1,of,!0),K,t)}),Vl=Zo(function(n,t){return of(n)?$r(n,t):[]}),Kl=Zo(function(n){return Fe(f(n,of))}),Gl=Zo(function(n){var t=Si(n);return of(t)&&(t=K),Fe(f(n,of),$u(t))}),Jl=Zo(function(n){var t=Si(n);return of(t)&&(t=K),Fe(f(n,of),K,t)}),Yl=Zo(to),Hl=Zo(function(n){var t=n.length,r=t>1?n[t-1]:K;return r="function"==typeof r?(n.pop(),r):K,ro(n,r)}),Ql=Zo(function(n){n=Nr(n,1);var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return kr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Bt&&Yu(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:fo,args:[u],thisArg:K}),new Ct(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(K),n})):this.thru(u)}),Xl=iu(function(n,t,r){Sc.call(n,r)?++n[r]:n[r]=1}),ns=vu(wi),ts=vu(mi),rs=iu(function(n,t,r){Sc.call(n,r)?n[r].push(t):n[r]=[t]}),es=Zo(function(n,t,e){var u=-1,i="function"==typeof t,o=Qu(t),f=uf(n)?Array(n.length):[];return jl(n,function(n){var a=i?t:o&&null!=n?n[t]:K;f[++u]=a?r(a,n,e):ne(n,t,e)}),f}),us=iu(function(n,t,r){n[r]=t}),is=iu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),os=Zo(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Hu(n,t[0],t[1])?t=[]:r>2&&Hu(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&ys(t[0])?t[0]:Nr(t,1,Ju),_e(n,t,[])}),fs=Zo(function(n,t,r){var e=X;if(r.length){var u=D(r,Bu(fs));e|=un}return Iu(n,e,t,r,u)}),as=Zo(function(n,t,r){var e=X|nn;if(r.length){var u=D(r,Bu(as));e|=un}return Iu(t,e,n,r,u)}),cs=Zo(function(n,t){return Br(n,1,t)}),ls=Zo(function(n,t,r){return Br(n,Nf(t)||0,r)});No.Cache=Yt;var ss=Zo(function(n,t){t=1==t.length&&ys(t[0])?l(t[0],O($u())):l(Nr(t,1,Ju),O($u()));var e=t.length;return Zo(function(u){for(var i=-1,o=nl(u.length,e);++i<o;)u[i]=t[i].call(this,u[i]);return r(n,this,u)})}),hs=Zo(function(n,t){var r=D(t,Bu(hs));return Iu(n,un,K,t,r)}),ps=Zo(function(n,t){var r=D(t,Bu(ps));return Iu(n,on,K,t,r)}),vs=Zo(function(n,t){return Iu(n,an,K,K,K,Nr(t,1))}),_s=ju(Gr),gs=ju(function(n,t){return n>=t}),ys=Array.isArray,ds=zc?function(n){return n instanceof zc}:uc,bs=ju(ae),ws=ju(function(n,t){return n<=t}),ms=ou(function(n,t){if(pl||ri(t)||uf(t))return void eu(t,ua(t),n);for(var r in t)Sc.call(t,r)&&pr(n,r,t[r])}),xs=ou(function(n,t){if(pl||ri(t)||uf(t))return void eu(t,ia(t),n);for(var r in t)pr(n,r,t[r])}),js=ou(function(n,t,r,e){eu(t,ia(t),n,e)}),As=ou(function(n,t,r,e){eu(t,ua(t),n,e)}),Os=Zo(function(n,t){return kr(n,Nr(t,1))}),ks=Zo(function(n){return n.push(K,sr),r(js,K,n)}),Is=Zo(function(n){return n.push(K,oi),r(Ls,K,n)}),Rs=yu(function(n,t,r){n[t]=r},Va(Ka)),Es=yu(function(n,t,r){Sc.call(n,t)?n[t].push(r):n[t]=[r]},$u),Ss=Zo(ne),Ws=ou(function(n,t,r){he(n,t,r)}),Ls=ou(function(n,t,r,e){he(n,t,r,e)}),Cs=Zo(function(n,t){return null==n?{}:(t=l(Nr(t,1),ci),ge(n,$r(Lu(n),t)))}),Bs=Zo(function(n,t){return null==n?{}:ge(n,l(Nr(t,1),ci))}),$s=ku(ua),zs=ku(ia),Us=su(function(n,t,r){return t=t.toLowerCase(),n+(r?xa(t):t)}),Fs=su(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Ms=su(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Ds=lu("toLowerCase"),Ps=su(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Ns=su(function(n,t,r){return n+(r?" ":"")+Ts(t)}),qs=su(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Ts=lu("toUpperCase"),Zs=Zo(function(n,t){try{return r(n,K,t)}catch(n){return pf(n)?n:new wc(n)}}),Vs=Zo(function(n,t){return u(Nr(t,1),function(t){t=ci(t),n[t]=fs(n[t],n)}),n}),Ks=_u(),Gs=_u(!0),Js=Zo(function(n,t){return function(r){return ne(r,n,t)}}),Ys=Zo(function(n,t){return function(r){return ne(n,r,t)}}),Hs=bu(l),Qs=bu(o),Xs=bu(v),nh=xu(),th=xu(!0),rh=du(function(n,t){return n+t}),eh=Ou("ceil"),uh=du(function(n,t){return n/t}),ih=Ou("floor"),oh=du(function(n,t){return n*t}),fh=Ou("round"),ah=du(function(n,t){return n-t});return Wt.after=$o,Wt.ary=zo,Wt.assign=ms,Wt.assignIn=xs,Wt.assignInWith=js,Wt.assignWith=As,Wt.at=Os,Wt.before=Uo,Wt.bind=fs,Wt.bindAll=Vs,Wt.bindKey=as,Wt.castArray=Yo,Wt.chain=io,Wt.chunk=hi,Wt.compact=pi,Wt.concat=vi,Wt.cond=Ta,Wt.conforms=Za,Wt.constant=Va,Wt.countBy=Xl,Wt.create=Vf,Wt.curry=Fo,Wt.curryRight=Mo,Wt.debounce=Do,Wt.defaults=ks,Wt.defaultsDeep=Is,Wt.defer=cs,Wt.delay=ls,Wt.difference=$l,Wt.differenceBy=zl,Wt.differenceWith=Ul,Wt.drop=_i,Wt.dropRight=gi,Wt.dropRightWhile=yi,Wt.dropWhile=di,Wt.fill=bi,Wt.filter=go,Wt.flatMap=yo,Wt.flatMapDeep=bo,Wt.flatMapDepth=wo,Wt.flatten=xi,Wt.flattenDeep=ji,Wt.flattenDepth=Ai,Wt.flip=Po,Wt.flow=Ks,Wt.flowRight=Gs,Wt.fromPairs=Oi,Wt.functions=Xf,Wt.functionsIn=na,Wt.groupBy=rs,Wt.initial=Ri,Wt.intersection=Fl,Wt.intersectionBy=Ml,Wt.intersectionWith=Dl,Wt.invert=Rs,Wt.invertBy=Es,Wt.invokeMap=es,Wt.iteratee=Ga,Wt.keyBy=us,Wt.keys=ua,Wt.keysIn=ia,Wt.map=Ao,Wt.mapKeys=oa,Wt.mapValues=fa,Wt.matches=Ja,Wt.matchesProperty=Ya,Wt.memoize=No,Wt.merge=Ws,Wt.mergeWith=Ls,Wt.method=Js,Wt.methodOf=Ys,Wt.mixin=Ha,Wt.negate=qo,Wt.nthArg=nc,Wt.omit=Cs,Wt.omitBy=aa,Wt.once=To,Wt.orderBy=Oo,Wt.over=Hs,Wt.overArgs=ss,Wt.overEvery=Qs,Wt.overSome=Xs,Wt.partial=hs,Wt.partialRight=ps,Wt.partition=is,Wt.pick=Bs,Wt.pickBy=ca,Wt.property=tc,Wt.propertyOf=rc,Wt.pull=Pl,Wt.pullAll=Ci,Wt.pullAllBy=Bi,Wt.pullAllWith=$i,Wt.pullAt=Nl,Wt.range=nh,Wt.rangeRight=th,Wt.rearg=vs,Wt.reject=Ro,Wt.remove=zi,Wt.rest=Zo,Wt.reverse=Ui,Wt.sampleSize=So,Wt.set=sa,Wt.setWith=ha,Wt.shuffle=Wo,Wt.slice=Fi,Wt.sortBy=os,Wt.sortedUniq=Zi,Wt.sortedUniqBy=Vi,Wt.split=Ca,Wt.spread=Vo,Wt.tail=Ki,Wt.take=Gi,Wt.takeRight=Ji,Wt.takeRightWhile=Yi,Wt.takeWhile=Hi,Wt.tap=oo,Wt.throttle=Ko,Wt.thru=fo,Wt.toArray=Ff,Wt.toPairs=$s,Wt.toPairsIn=zs,Wt.toPath=cc,Wt.toPlainObject=qf,Wt.transform=pa,Wt.unary=Go,Wt.union=ql,Wt.unionBy=Tl,Wt.unionWith=Zl,Wt.uniq=Qi,Wt.uniqBy=Xi,Wt.uniqWith=no,Wt.unset=va,Wt.unzip=to,Wt.unzipWith=ro,Wt.update=_a,Wt.updateWith=ga,Wt.values=ya,Wt.valuesIn=da,Wt.without=Vl,Wt.words=qa,Wt.wrap=Jo,Wt.xor=Kl,Wt.xorBy=Gl,Wt.xorWith=Jl,Wt.zip=Yl,Wt.zipObject=eo,Wt.zipObjectDeep=uo,Wt.zipWith=Hl,Wt.entries=$s,Wt.entriesIn=zs,Wt.extend=xs,Wt.extendWith=js,Ha(Wt,Wt),Wt.add=rh,Wt.attempt=Zs,Wt.camelCase=Us,Wt.capitalize=xa,Wt.ceil=eh,Wt.clamp=ba,Wt.clone=Ho,Wt.cloneDeep=Xo,Wt.cloneDeepWith=nf,Wt.cloneWith=Qo,Wt.deburr=ja,Wt.divide=uh,Wt.endsWith=Aa,Wt.eq=tf,Wt.escape=Oa,Wt.escapeRegExp=ka,Wt.every=_o,Wt.find=ns,Wt.findIndex=wi,Wt.findKey=Kf,Wt.findLast=ts,Wt.findLastIndex=mi,Wt.findLastKey=Gf,Wt.floor=ih,Wt.forEach=mo,Wt.forEachRight=xo,Wt.forIn=Jf,Wt.forInRight=Yf,Wt.forOwn=Hf,Wt.forOwnRight=Qf,Wt.get=ta,Wt.gt=_s,Wt.gte=gs,Wt.has=ra,Wt.hasIn=ea,Wt.head=ki,Wt.identity=Ka,Wt.includes=jo,Wt.indexOf=Ii,Wt.inRange=wa,Wt.invoke=Ss,Wt.isArguments=rf,Wt.isArray=ys,Wt.isArrayBuffer=ef,Wt.isArrayLike=uf,Wt.isArrayLikeObject=of,Wt.isBoolean=ff,Wt.isBuffer=ds,Wt.isDate=af,Wt.isElement=cf,Wt.isEmpty=lf,Wt.isEqual=sf,Wt.isEqualWith=hf,Wt.isError=pf,Wt.isFinite=vf,Wt.isFunction=_f,Wt.isInteger=gf,Wt.isLength=yf,Wt.isMap=wf,Wt.isMatch=mf,Wt.isMatchWith=xf,Wt.isNaN=jf,Wt.isNative=Af,Wt.isNil=kf,Wt.isNull=Of,Wt.isNumber=If,Wt.isObject=df,Wt.isObjectLike=bf,Wt.isPlainObject=Rf,Wt.isRegExp=Ef,Wt.isSafeInteger=Sf,Wt.isSet=Wf,Wt.isString=Lf,Wt.isSymbol=Cf,Wt.isTypedArray=Bf,Wt.isUndefined=$f,Wt.isWeakMap=zf,Wt.isWeakSet=Uf,Wt.join=Ei,Wt.kebabCase=Fs,Wt.last=Si,Wt.lastIndexOf=Wi,Wt.lowerCase=Ms,Wt.lowerFirst=Ds,Wt.lt=bs,Wt.lte=ws,Wt.max=sc,Wt.maxBy=hc,Wt.mean=pc,Wt.meanBy=vc,Wt.min=_c,Wt.minBy=gc,Wt.stubArray=ec,Wt.stubFalse=uc,Wt.stubObject=ic,Wt.stubString=oc,Wt.stubTrue=fc,Wt.multiply=oh,Wt.nth=Li,Wt.noConflict=Qa,Wt.noop=Xa,Wt.now=Bo,Wt.pad=Ia,Wt.padEnd=Ra,Wt.padStart=Ea,Wt.parseInt=Sa,Wt.random=ma,Wt.reduce=ko,Wt.reduceRight=Io,Wt.repeat=Wa,Wt.replace=La,Wt.result=la,Wt.round=fh,Wt.runInContext=V,Wt.sample=Eo,Wt.size=Lo,Wt.snakeCase=Ps,Wt.some=Co,Wt.sortedIndex=Mi,Wt.sortedIndexBy=Di,Wt.sortedIndexOf=Pi,Wt.sortedLastIndex=Ni,Wt.sortedLastIndexBy=qi,Wt.sortedLastIndexOf=Ti,Wt.startCase=Ns,Wt.startsWith=Ba,Wt.subtract=ah,Wt.sum=yc,Wt.sumBy=dc,Wt.template=$a,Wt.times=ac,Wt.toFinite=Mf,Wt.toInteger=Df,Wt.toLength=Pf,Wt.toLower=za,Wt.toNumber=Nf,Wt.toSafeInteger=Tf,Wt.toString=Zf,Wt.toUpper=Ua,Wt.trim=Fa,Wt.trimEnd=Ma,Wt.trimStart=Da,Wt.truncate=Pa,Wt.unescape=Na,Wt.uniqueId=lc,Wt.upperCase=qs,Wt.upperFirst=Ts,Wt.each=mo,Wt.eachRight=xo,Wt.first=ki,Ha(Wt,function(){var n={};return qr(Wt,function(t,r){Sc.call(Wt.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),Wt.VERSION=G,u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Wt[n].placeholder=Wt}),u(["drop","take"],function(n,t){Bt.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new Bt(this);r=r===K?1:Xc(Df(r),0);var u=this.clone();return e?u.__takeCount__=nl(r,u.__takeCount__):u.__views__.push({size:nl(r,jn),type:n+(u.__dir__<0?"Right":"")}),u},Bt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),u(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==gn||r==dn;Bt.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:$u(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),u(["head","last"],function(n,t){var r="take"+(t?"Right":"");Bt.prototype[n]=function(){return this[r](1).value()[0]}}),u(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Bt.prototype[n]=function(){return this.__filtered__?new Bt(this):this[r](1)}}),Bt.prototype.compact=function(){return this.filter(Ka)},Bt.prototype.find=function(n){return this.filter(n).head()},Bt.prototype.findLast=function(n){return this.reverse().find(n)},Bt.prototype.invokeMap=Zo(function(n,t){return"function"==typeof n?new Bt(this):this.map(function(r){return ne(r,n,t)})}),Bt.prototype.reject=function(n){return n=$u(n,3),this.filter(function(t){return!n(t)})},Bt.prototype.slice=function(n,t){n=Df(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Bt(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==K&&(t=Df(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Bt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Bt.prototype.toArray=function(){return this.take(jn)},qr(Bt.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=Wt[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(Wt.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Bt,a=o[0],c=f||ys(t),l=function(n){var t=u.apply(Wt,s([n],o));return e&&h?t[0]:t};c&&r&&"function"==typeof a&&1!=a.length&&(f=c=!1);var h=this.__chain__,p=!!this.__actions__.length,v=i&&!h,_=f&&!p;if(!i&&c){t=_?t:new Bt(this);var g=n.apply(t,o);return g.__actions__.push({func:fo,args:[l],thisArg:K}),new Ct(g,h)}return v&&_?n.apply(this,o):(g=this.thru(l),v?e?g.value()[0]:g.value():g)})}),u(["pop","push","shift","sort","splice","unshift"],function(n){var t=Ac[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);Wt.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(ys(u)?u:[],n)}return this[r](function(r){return t.apply(ys(r)?r:[],n)})}}),qr(Bt.prototype,function(n,t){var r=Wt[t];if(r){var e=r.name+"",u=vl[e]||(vl[e]=[]);u.push({name:t,func:r})}}),vl[gu(K,nn).name]=[{name:"wrapper",func:K}],Bt.prototype.clone=$t,Bt.prototype.reverse=zt,Bt.prototype.value=Ut,Wt.prototype.at=Ql,Wt.prototype.chain=ao,Wt.prototype.commit=co,Wt.prototype.next=lo,Wt.prototype.plant=ho,Wt.prototype.reverse=po,Wt.prototype.toJSON=Wt.prototype.valueOf=Wt.prototype.value=vo,Nc&&(Wt.prototype[Nc]=so),Wt}var K,G="4.13.1",J=200,Y="Expected a function",H="__lodash_hash_undefined__",Q="__lodash_placeholder__",X=1,nn=2,tn=4,rn=8,en=16,un=32,on=64,fn=128,an=256,cn=512,ln=1,sn=2,hn=30,pn="...",vn=150,_n=16,gn=1,yn=2,dn=3,bn=1/0,wn=9007199254740991,mn=1.7976931348623157e308,xn=NaN,jn=4294967295,An=jn-1,On=jn>>>1,kn="[object Arguments]",In="[object Array]",Rn="[object Boolean]",En="[object Date]",Sn="[object Error]",Wn="[object Function]",Ln="[object GeneratorFunction]",Cn="[object Map]",Bn="[object Number]",$n="[object Object]",zn="[object Promise]",Un="[object RegExp]",Fn="[object Set]",Mn="[object String]",Dn="[object Symbol]",Pn="[object WeakMap]",Nn="[object WeakSet]",qn="[object ArrayBuffer]",Tn="[object DataView]",Zn="[object Float32Array]",Vn="[object Float64Array]",Kn="[object Int8Array]",Gn="[object Int16Array]",Jn="[object Int32Array]",Yn="[object Uint8Array]",Hn="[object Uint8ClampedArray]",Qn="[object Uint16Array]",Xn="[object Uint32Array]",nt=/\b__p \+= '';/g,tt=/\b(__p \+=) '' \+/g,rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,et=/&(?:amp|lt|gt|quot|#39|#96);/g,ut=/[&<>"'`]/g,it=RegExp(et.source),ot=RegExp(ut.source),ft=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,ct=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,st=/^\w*$/,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,pt=/[\\^$.*+?()[\]{}|]/g,vt=RegExp(pt.source),_t=/^\s+|\s+$/g,gt=/^\s+/,yt=/\s+$/,dt=/[a-zA-Z0-9]+/g,bt=/\\(\\)?/g,wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mt=/\w*$/,xt=/^0x/i,jt=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,Ot=/^\[object .+?Constructor\]$/,kt=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,Rt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Wt="\\ud800-\\udfff",Lt="\\u0300-\\u036f\\ufe20-\\ufe23",Ct="\\u20d0-\\u20f0",Bt="\\u2700-\\u27bf",$t="a-z\\xdf-\\xf6\\xf8-\\xff",zt="\\xac\\xb1\\xd7\\xf7",Ut="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ft="\\u2000-\\u206f",Mt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dt="A-Z\\xc0-\\xd6\\xd8-\\xde",Pt="\\ufe0e\\ufe0f",Nt=zt+Ut+Ft+Mt,qt="['’]",Tt="["+Wt+"]",Zt="["+Nt+"]",Vt="["+Lt+Ct+"]",Kt="\\d+",Gt="["+Bt+"]",Jt="["+$t+"]",Yt="[^"+Wt+Nt+Kt+Bt+$t+Dt+"]",Ht="\\ud83c[\\udffb-\\udfff]",Qt="(?:"+Vt+"|"+Ht+")",Xt="[^"+Wt+"]",nr="(?:\\ud83c[\\udde6-\\uddff]){2}",tr="[\\ud800-\\udbff][\\udc00-\\udfff]",rr="["+Dt+"]",er="\\u200d",ur="(?:"+Jt+"|"+Yt+")",ir="(?:"+rr+"|"+Yt+")",or="(?:"+qt+"(?:d|ll|m|re|s|t|ve))?",fr="(?:"+qt+"(?:D|LL|M|RE|S|T|VE))?",ar=Qt+"?",cr="["+Pt+"]?",lr="(?:"+er+"(?:"+[Xt,nr,tr].join("|")+")"+cr+ar+")*",sr=cr+ar+lr,hr="(?:"+[Gt,nr,tr].join("|")+")"+sr,pr="(?:"+[Xt+Vt+"?",Vt,nr,tr,Tt].join("|")+")",vr=RegExp(qt,"g"),_r=RegExp(Vt,"g"),gr=RegExp(Ht+"(?="+Ht+")|"+pr+sr,"g"),yr=RegExp([rr+"?"+Jt+"+"+or+"(?="+[Zt,rr,"$"].join("|")+")",ir+"+"+fr+"(?="+[Zt,rr+ur,"$"].join("|")+")",rr+"?"+ur+"+"+or,rr+"+"+fr,Kt,hr].join("|"),"g"),dr=RegExp("["+er+Wt+Lt+Ct+Pt+"]"),br=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","isFinite","parseInt","setTimeout"],mr=-1,xr={};
xr[Zn]=xr[Vn]=xr[Kn]=xr[Gn]=xr[Jn]=xr[Yn]=xr[Hn]=xr[Qn]=xr[Xn]=!0,xr[kn]=xr[In]=xr[qn]=xr[Rn]=xr[Tn]=xr[En]=xr[Sn]=xr[Wn]=xr[Cn]=xr[Bn]=xr[$n]=xr[Un]=xr[Fn]=xr[Mn]=xr[Pn]=!1;var jr={};jr[kn]=jr[In]=jr[qn]=jr[Tn]=jr[Rn]=jr[En]=jr[Zn]=jr[Vn]=jr[Kn]=jr[Gn]=jr[Jn]=jr[Cn]=jr[Bn]=jr[$n]=jr[Un]=jr[Fn]=jr[Mn]=jr[Dn]=jr[Yn]=jr[Hn]=jr[Qn]=jr[Xn]=!0,jr[Sn]=jr[Wn]=jr[Pn]=!1;var Ar={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Or={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},kr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ir={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rr=parseFloat,Er=parseInt,Sr="object"==typeof exports&&exports,Wr=Sr&&"object"==typeof module&&module,Lr=Wr&&Wr.exports===Sr,Cr=S("object"==typeof global&&global),Br=S("object"==typeof self&&self),$r=S("object"==typeof this&&this),zr=Cr||Br||$r||Function("return this")(),Ur=V();(Br||{})._=Ur,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Ur}):Wr?((Wr.exports=Ur)._=Ur,Sr._=Ur):zr._=Ur}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],920:[function(require,module,exports){
!function(){var r=require("crypt"),e=require("charenc").utf8,n=require("is-buffer"),t=require("charenc").bin,i=function(o,u){o.constructor==String?o=u&&"binary"===u.encoding?t.stringToBytes(o):e.stringToBytes(o):n(o)?o=Array.prototype.slice.call(o,0):Array.isArray(o)||(o=o.toString());for(var s=r.bytesToWords(o),a=8*o.length,f=1732584193,c=-271733879,g=-1732584194,y=271733878,_=0;_<s.length;_++)s[_]=16711935&(s[_]<<8|s[_]>>>24)|4278255360&(s[_]<<24|s[_]>>>8);s[a>>>5]|=128<<a%32,s[(a+64>>>9<<4)+14]=a;for(var h=i._ff,v=i._gg,d=i._hh,l=i._ii,_=0;_<s.length;_+=16){var b=f,T=c,p=g,q=y;f=h(f,c,g,y,s[_+0],7,-680876936),y=h(y,f,c,g,s[_+1],12,-389564586),g=h(g,y,f,c,s[_+2],17,606105819),c=h(c,g,y,f,s[_+3],22,-1044525330),f=h(f,c,g,y,s[_+4],7,-176418897),y=h(y,f,c,g,s[_+5],12,1200080426),g=h(g,y,f,c,s[_+6],17,-1473231341),c=h(c,g,y,f,s[_+7],22,-45705983),f=h(f,c,g,y,s[_+8],7,1770035416),y=h(y,f,c,g,s[_+9],12,-1958414417),g=h(g,y,f,c,s[_+10],17,-42063),c=h(c,g,y,f,s[_+11],22,-1990404162),f=h(f,c,g,y,s[_+12],7,1804603682),y=h(y,f,c,g,s[_+13],12,-40341101),g=h(g,y,f,c,s[_+14],17,-1502002290),c=h(c,g,y,f,s[_+15],22,1236535329),f=v(f,c,g,y,s[_+1],5,-165796510),y=v(y,f,c,g,s[_+6],9,-1069501632),g=v(g,y,f,c,s[_+11],14,643717713),c=v(c,g,y,f,s[_+0],20,-373897302),f=v(f,c,g,y,s[_+5],5,-701558691),y=v(y,f,c,g,s[_+10],9,38016083),g=v(g,y,f,c,s[_+15],14,-660478335),c=v(c,g,y,f,s[_+4],20,-405537848),f=v(f,c,g,y,s[_+9],5,568446438),y=v(y,f,c,g,s[_+14],9,-1019803690),g=v(g,y,f,c,s[_+3],14,-187363961),c=v(c,g,y,f,s[_+8],20,1163531501),f=v(f,c,g,y,s[_+13],5,-1444681467),y=v(y,f,c,g,s[_+2],9,-51403784),g=v(g,y,f,c,s[_+7],14,1735328473),c=v(c,g,y,f,s[_+12],20,-1926607734),f=d(f,c,g,y,s[_+5],4,-378558),y=d(y,f,c,g,s[_+8],11,-2022574463),g=d(g,y,f,c,s[_+11],16,1839030562),c=d(c,g,y,f,s[_+14],23,-35309556),f=d(f,c,g,y,s[_+1],4,-1530992060),y=d(y,f,c,g,s[_+4],11,1272893353),g=d(g,y,f,c,s[_+7],16,-155497632),c=d(c,g,y,f,s[_+10],23,-1094730640),f=d(f,c,g,y,s[_+13],4,681279174),y=d(y,f,c,g,s[_+0],11,-358537222),g=d(g,y,f,c,s[_+3],16,-722521979),c=d(c,g,y,f,s[_+6],23,76029189),f=d(f,c,g,y,s[_+9],4,-640364487),y=d(y,f,c,g,s[_+12],11,-421815835),g=d(g,y,f,c,s[_+15],16,530742520),c=d(c,g,y,f,s[_+2],23,-995338651),f=l(f,c,g,y,s[_+0],6,-198630844),y=l(y,f,c,g,s[_+7],10,1126891415),g=l(g,y,f,c,s[_+14],15,-1416354905),c=l(c,g,y,f,s[_+5],21,-57434055),f=l(f,c,g,y,s[_+12],6,1700485571),y=l(y,f,c,g,s[_+3],10,-1894986606),g=l(g,y,f,c,s[_+10],15,-1051523),c=l(c,g,y,f,s[_+1],21,-2054922799),f=l(f,c,g,y,s[_+8],6,1873313359),y=l(y,f,c,g,s[_+15],10,-30611744),g=l(g,y,f,c,s[_+6],15,-1560198380),c=l(c,g,y,f,s[_+13],21,1309151649),f=l(f,c,g,y,s[_+4],6,-145523070),y=l(y,f,c,g,s[_+11],10,-1120210379),g=l(g,y,f,c,s[_+2],15,718787259),c=l(c,g,y,f,s[_+9],21,-343485551),f=f+b>>>0,c=c+T>>>0,g=g+p>>>0,y=y+q>>>0}return r.endian([f,c,g,y])};i._ff=function(r,e,n,t,i,o,u){var s=r+(e&n|~e&t)+(i>>>0)+u;return(s<<o|s>>>32-o)+e},i._gg=function(r,e,n,t,i,o,u){var s=r+(e&t|n&~t)+(i>>>0)+u;return(s<<o|s>>>32-o)+e},i._hh=function(r,e,n,t,i,o,u){var s=r+(e^n^t)+(i>>>0)+u;return(s<<o|s>>>32-o)+e},i._ii=function(r,e,n,t,i,o,u){var s=r+(n^(e|~t))+(i>>>0)+u;return(s<<o|s>>>32-o)+e},i._blocksize=16,i._digestsize=16,module.exports=function(e,n){if("undefined"!=typeof e){var o=r.wordsToBytes(i(e,n));return n&&n.asBytes?o:n&&n.asString?t.bytesToString(o):r.bytesToHex(o)}}}();

},{"charenc":890,"crypt":891,"is-buffer":900}],921:[function(require,module,exports){
!function(){var r=require("crypt"),n=require("charenc").utf8,e=require("is-buffer"),t=require("charenc").bin,i=function(o,u){o.constructor==String?o=u&&"binary"===u.encoding?t.stringToBytes(o):n.stringToBytes(o):e(o)?o=Array.prototype.slice.call(o,0):Array.isArray(o)||(o=o.toString());for(var a=r.bytesToWords(o),s=8*o.length,c=1732584193,f=-271733879,g=-1732584194,l=271733878,y=0;y<a.length;y++)a[y]=16711935&(a[y]<<8|a[y]>>>24)|4278255360&(a[y]<<24|a[y]>>>8);a[s>>>5]|=128<<s%32,a[(s+64>>>9<<4)+14]=s;for(var h=i._ff,v=i._gg,_=i._hh,b=i._ii,y=0;y<a.length;y+=16){var d=c,T=f,p=g,q=l;c=h(c,f,g,l,a[y+0],7,-680876936),l=h(l,c,f,g,a[y+1],12,-389564586),g=h(g,l,c,f,a[y+2],17,606105819),f=h(f,g,l,c,a[y+3],22,-1044525330),c=h(c,f,g,l,a[y+4],7,-176418897),l=h(l,c,f,g,a[y+5],12,1200080426),g=h(g,l,c,f,a[y+6],17,-1473231341),f=h(f,g,l,c,a[y+7],22,-45705983),c=h(c,f,g,l,a[y+8],7,1770035416),l=h(l,c,f,g,a[y+9],12,-1958414417),g=h(g,l,c,f,a[y+10],17,-42063),f=h(f,g,l,c,a[y+11],22,-1990404162),c=h(c,f,g,l,a[y+12],7,1804603682),l=h(l,c,f,g,a[y+13],12,-40341101),g=h(g,l,c,f,a[y+14],17,-1502002290),f=h(f,g,l,c,a[y+15],22,1236535329),c=v(c,f,g,l,a[y+1],5,-165796510),l=v(l,c,f,g,a[y+6],9,-1069501632),g=v(g,l,c,f,a[y+11],14,643717713),f=v(f,g,l,c,a[y+0],20,-373897302),c=v(c,f,g,l,a[y+5],5,-701558691),l=v(l,c,f,g,a[y+10],9,38016083),g=v(g,l,c,f,a[y+15],14,-660478335),f=v(f,g,l,c,a[y+4],20,-405537848),c=v(c,f,g,l,a[y+9],5,568446438),l=v(l,c,f,g,a[y+14],9,-1019803690),g=v(g,l,c,f,a[y+3],14,-187363961),f=v(f,g,l,c,a[y+8],20,1163531501),c=v(c,f,g,l,a[y+13],5,-1444681467),l=v(l,c,f,g,a[y+2],9,-51403784),g=v(g,l,c,f,a[y+7],14,1735328473),f=v(f,g,l,c,a[y+12],20,-1926607734),c=_(c,f,g,l,a[y+5],4,-378558),l=_(l,c,f,g,a[y+8],11,-2022574463),g=_(g,l,c,f,a[y+11],16,1839030562),f=_(f,g,l,c,a[y+14],23,-35309556),c=_(c,f,g,l,a[y+1],4,-1530992060),l=_(l,c,f,g,a[y+4],11,1272893353),g=_(g,l,c,f,a[y+7],16,-155497632),f=_(f,g,l,c,a[y+10],23,-1094730640),c=_(c,f,g,l,a[y+13],4,681279174),l=_(l,c,f,g,a[y+0],11,-358537222),g=_(g,l,c,f,a[y+3],16,-722521979),f=_(f,g,l,c,a[y+6],23,76029189),c=_(c,f,g,l,a[y+9],4,-640364487),l=_(l,c,f,g,a[y+12],11,-421815835),g=_(g,l,c,f,a[y+15],16,530742520),f=_(f,g,l,c,a[y+2],23,-995338651),c=b(c,f,g,l,a[y+0],6,-198630844),l=b(l,c,f,g,a[y+7],10,1126891415),g=b(g,l,c,f,a[y+14],15,-1416354905),f=b(f,g,l,c,a[y+5],21,-57434055),c=b(c,f,g,l,a[y+12],6,1700485571),l=b(l,c,f,g,a[y+3],10,-1894986606),g=b(g,l,c,f,a[y+10],15,-1051523),f=b(f,g,l,c,a[y+1],21,-2054922799),c=b(c,f,g,l,a[y+8],6,1873313359),l=b(l,c,f,g,a[y+15],10,-30611744),g=b(g,l,c,f,a[y+6],15,-1560198380),f=b(f,g,l,c,a[y+13],21,1309151649),c=b(c,f,g,l,a[y+4],6,-145523070),l=b(l,c,f,g,a[y+11],10,-1120210379),g=b(g,l,c,f,a[y+2],15,718787259),f=b(f,g,l,c,a[y+9],21,-343485551),c=c+d>>>0,f=f+T>>>0,g=g+p>>>0,l=l+q>>>0}return r.endian([c,f,g,l])};i._ff=function(r,n,e,t,i,o,u){var a=r+(n&e|~n&t)+(i>>>0)+u;return(a<<o|a>>>32-o)+n},i._gg=function(r,n,e,t,i,o,u){var a=r+(n&t|e&~t)+(i>>>0)+u;return(a<<o|a>>>32-o)+n},i._hh=function(r,n,e,t,i,o,u){var a=r+(n^e^t)+(i>>>0)+u;return(a<<o|a>>>32-o)+n},i._ii=function(r,n,e,t,i,o,u){var a=r+(e^(n|~t))+(i>>>0)+u;return(a<<o|a>>>32-o)+n},i._blocksize=16,i._digestsize=16,module.exports=function(n,e){if(void 0===n||null===n)throw new Error("Illegal argument "+n);var o=r.wordsToBytes(i(n,e));return e&&e.asBytes?o:e&&e.asString?t.bytesToString(o):r.bytesToHex(o)}}();

},{"charenc":890,"crypt":891,"is-buffer":900}],922:[function(require,module,exports){
(function(){function n(n){n.fn.__translateJavaFormat=o,n.fn.toMomentFormatString=function(n){return t[n]||(t[n]=o(n,e)),t[n]},n.fn.formatWithJDF=function(n){return this.format(this.toMomentFormatString(n))},n.fn.toJDFString=function(n){return d[n]||(d[n]=o(n,M)),d[n]},"undefined"!=typeof module&&null!==module?module.exports=n:this.moment=n}var t={},d={},e={d:"D",dd:"DD",y:"YYYY",yy:"YY",yyy:"YYYY",yyyy:"YYYY",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"SSS",SS:"SSS",SSS:"SSS",E:"ddd",EE:"ddd",EEE:"ddd",EEEE:"dddd",EEEEE:"dddd",EEEEEE:"dddd",D:"DDD",w:"W",ww:"WW",z:"ZZ",zzzz:"Z",Z:"ZZ",X:"ZZ",XX:"ZZ",XXX:"Z",u:"E"},M={D:"d",DD:"dd",YY:"yy",YYY:"yyyy",YYYY:"yyyy",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"S",SS:"S",SSS:"S",ddd:"E",dddd:"EEEE",DDD:"D",W:"w",WW:"ww",ZZ:"z",Z:"XXX",E:"u"};"undefined"==typeof this.moment&&"undefined"!=typeof require&&null!==require?"undefined"!=typeof module&&"undefined"!=typeof module.exports?n(require("moment")):require(["moment"],function(t){n(t)}):n(this.moment);var o=function(n,t){for(var d=n.length,e=0,M=-1,o=null,m="",u="";e<d;e++)m=n.charAt(e),null!==o&&o===m||(u=r(n,t,M,e,u),M=e),o=m;return r(n,t,M,e,u)},r=function(n,t,d,e,M){var o;return d!==-1&&(o=n.substring(d,e),t[o]&&(o=t[o]),M=M.concat(o)),M}}).call(this);
},{"moment":924}],923:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Pn.apply(null,arguments)}function e(t){Pn=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,i){return Ot(t,e,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(t){return null==t._pf&&(t._pf=u()),t._pf}function l(t){if(null==t._isValid){var e=d(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=a(NaN);return null!=t?o(d(e),t):d(e).userInvalidated=!0,e}function f(t,e){var n,i,r;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=d(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Hn.length>0)for(n in Hn)i=Hn[n],r=e[i],"undefined"!=typeof r&&(t[i]=r);return t}function h(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Ln===!1&&(Ln=!0,t.updateOffset(this),Ln=!1)}function m(t){return t instanceof h||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t):Math.floor(t)}function y(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=_(e)),n}function p(t,e,n){var i,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&y(t[i])!==y(e[i]))&&o++;return o+s}function g(){}function D(t){return t?t.toLowerCase().replace("_","-"):t}function v(t){for(var e,n,i,r,s=0;s<t.length;){for(r=D(t[s]).split("-"),e=r.length,n=D(t[s+1]),n=n?n.split("-"):null;e>0;){if(i=M(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&p(r,n,!0)>=e-1)break;e--}s++}return null}function M(t){var e=null;if(!In[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=xn._abbr,require("./locale/"+t),Y(e)}catch(t){}return In[t]}function Y(t,e){var n;return t&&(n="undefined"==typeof e?S(t):w(t,e),n&&(xn=n)),xn._abbr}function w(t,e){return null!==e?(e.abbr=t,In[t]=In[t]||new g,In[t].set(e),Y(t),In[t]):(delete In[t],null)}function S(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return xn;if(!n(t)){if(e=M(t))return e;t=[t]}return v(t)}function k(t,e){var n=t.toLowerCase();An[n]=An[n+"s"]=An[e]=t}function T(t){return"string"==typeof t?An[t]||An[t.toLowerCase()]:void 0}function b(t){var e,n,i={};for(n in t)s(t,n)&&(e=T(n),e&&(i[e]=t[n]));return i}function O(e,n){return function(i){return null!=i?(W(this,e,i),t.updateOffset(this,n),this):U(this,e)}}function U(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function W(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function C(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=T(t),"function"==typeof this[t])return this[t](e);return this}function G(t,e,n){var i=""+Math.abs(t),r=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function F(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(jn[t]=r),e&&(jn[e[0]]=function(){return G(r.apply(this,arguments),e[1],e[2])}),n&&(jn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function P(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function x(t){var e,n,i=t.match(zn);for(e=0,n=i.length;e<n;e++)jn[i[e]]?i[e]=jn[i[e]]:i[e]=P(i[e]);return function(r){var s="";for(e=0;e<n;e++)s+=i[e]instanceof Function?i[e].call(r,t):i[e];return s}}function H(t,e){return t.isValid()?(e=L(e,t.localeData()),Zn[e]=Zn[e]||x(e),Zn[e](t)):t.localeData().invalidDate()}function L(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Nn.lastIndex=0;i>=0&&Nn.test(t);)t=t.replace(Nn,n),Nn.lastIndex=0,i-=1;return t}function I(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function A(t,e,n){ri[t]=I(e)?e:function(t){return t&&n?n:e}}function z(t,e){return s(ri,t)?ri[t](e._strict,e._locale):new RegExp(N(t))}function N(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=y(t)}),n=0;n<t.length;n++)si[t[n]]=i}function j(t,e){Z(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function E(t,e,n){null!=e&&s(si,t)&&si[t](e,n._a,n,t)}function V(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function q(t){return this._months[t.month()]}function J(t){return this._monthsShort[t.month()]}function $(t,e,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function R(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),V(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function B(e){return null!=e?(R(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function Q(){return V(this.year(),this.month())}function X(t){var e,n=t._a;return n&&d(t).overflow===-2&&(e=n[ai]<0||n[ai]>11?ai:n[ui]<1||n[ui]>V(n[oi],n[ai])?ui:n[di]<0||n[di]>24||24===n[di]&&(0!==n[li]||0!==n[ci]||0!==n[fi])?di:n[li]<0||n[li]>59?li:n[ci]<0||n[ci]>59?ci:n[fi]<0||n[fi]>999?fi:-1,d(t)._overflowDayOfYear&&(e<oi||e>ui)&&(e=ui),d(t).overflow=e),t}function K(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var n=!0;return o(function(){return n&&(K(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function et(t,e){_i[t]||(K(e),_i[t]=!0)}function nt(t){var e,n,i=t._i,r=yi.exec(i);if(r){for(d(t).iso=!0,e=0,n=pi.length;e<n;e++)if(pi[e][1].exec(i)){t._f=pi[e][0];break}for(e=0,n=gi.length;e<n;e++)if(gi[e][1].exec(i)){t._f+=(r[6]||" ")+gi[e][0];break}i.match(ei)&&(t._f+="Z"),Mt(t)}else t._isValid=!1}function it(e){var n=Di.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(nt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function rt(t,e,n,i,r,s,o){var a=new Date(t,e,n,i,r,s,o);return t<1970&&a.setFullYear(t),a}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function ot(t){return at(t)?366:365}function at(t){return t%4===0&&t%100!==0||t%400===0}function ut(){return at(this.year())}function dt(t,e,n){var i,r=n-e,s=n-t.day();return s>r&&(s-=7),s<r-7&&(s+=7),i=Ut(t).add(s,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(t){return dt(t,this._week.dow,this._week.doy).week}function ct(){return this._week.dow}function ft(){return this._week.doy}function ht(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function mt(t){var e=dt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function _t(t,e,n,i,r){var s,o=6+r-i,a=st(t,0,1+o),u=a.getUTCDay();return u<r&&(u+=7),n=null!=n?1*n:r,s=1+o+7*(e-1)-u+n,{year:s>0?t:t-1,dayOfYear:s>0?s:ot(t-1)+s}}function yt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function pt(t,e,n){return null!=t?t:null!=e?e:n}function gt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Dt(t){var e,n,i,r,s=[];if(!t._d){for(i=gt(t),t._w&&null==t._a[ui]&&null==t._a[ai]&&vt(t),t._dayOfYear&&(r=pt(t._a[oi],i[oi]),t._dayOfYear>ot(r)&&(d(t)._overflowDayOfYear=!0),n=st(r,0,t._dayOfYear),t._a[ai]=n.getUTCMonth(),t._a[ui]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[di]&&0===t._a[li]&&0===t._a[ci]&&0===t._a[fi]&&(t._nextDay=!0,t._a[di]=0),t._d=(t._useUTC?st:rt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[di]=24)}}function vt(t){var e,n,i,r,s,o,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,o=4,n=pt(e.GG,t._a[oi],dt(Ut(),1,4).year),i=pt(e.W,1),r=pt(e.E,1)):(s=t._locale._week.dow,o=t._locale._week.doy,n=pt(e.gg,t._a[oi],dt(Ut(),s,o).year),i=pt(e.w,1),null!=e.d?(r=e.d,r<s&&++i):r=null!=e.e?e.e+s:s),a=_t(n,i,r,o,s),t._a[oi]=a.year,t._dayOfYear=a.dayOfYear}function Mt(e){if(e._f===t.ISO_8601)return void nt(e);e._a=[],d(e).empty=!0;var n,i,r,s,o,a=""+e._i,u=a.length,l=0;for(r=L(e._f,e._locale).match(zn)||[],n=0;n<r.length;n++)s=r[n],i=(a.match(z(s,e))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&d(e).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),l+=i.length),jn[s]?(i?d(e).empty=!1:d(e).unusedTokens.push(s),E(s,i,e)):e._strict&&!i&&d(e).unusedTokens.push(s);d(e).charsLeftOver=u-l,a.length>0&&d(e).unusedInput.push(a),d(e).bigHour===!0&&e._a[di]<=12&&e._a[di]>0&&(d(e).bigHour=void 0),e._a[di]=Yt(e._locale,e._a[di],e._meridiem),Dt(e),X(e)}function Yt(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function wt(t){var e,n,i,r,s;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Mt(e),l(e)&&(s+=d(e).charsLeftOver,s+=10*d(e).unusedTokens.length,d(e).score=s,(null==i||s<i)&&(i=s,n=e));o(t,n||e)}function St(t){if(!t._d){var e=b(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Dt(t)}}function kt(t){var e=new h(X(Tt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Tt(t){var e=t._i,r=t._f;return t._locale=t._locale||S(t._l),null===e||void 0===r&&""===e?c({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new h(X(e)):(n(r)?wt(t):r?Mt(t):i(e)?t._d=e:bt(t),t))}function bt(e){var s=e._i;void 0===s?e._d=new Date:i(s)?e._d=new Date(+s):"string"==typeof s?it(e):n(s)?(e._a=r(s.slice(0),function(t){return parseInt(t,10)}),Dt(e)):"object"==typeof s?St(e):"number"==typeof s?e._d=new Date(s):t.createFromInputFallback(e)}function Ot(t,e,n,i,r){var s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=i,kt(s)}function Ut(t,e,n,i){return Ot(t,e,n,i,!1)}function Wt(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ut();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function Ct(){var t=[].slice.call(arguments,0);return Wt("isBefore",t)}function Gt(){var t=[].slice.call(arguments,0);return Wt("isAfter",t)}function Ft(t){var e=b(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,u=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*u+36e5*a,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=S(),this._bubble()}function Pt(t){return t instanceof Ft}function xt(t,e){F(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+G(~~(t/60),2)+e+G(~~t%60,2)})}function Ht(t){var e=(t||"").match(ei)||[],n=e[e.length-1]||[],i=(n+"").match(Si)||["-",0,0],r=+(60*i[1])+y(i[2]);return"+"===i[0]?r:-r}function Lt(e,n){var r,s;return n._isUTC?(r=n.clone(),s=(m(e)||i(e)?+e:+Ut(e))-+r,r._d.setTime(+r._d+s),t.updateOffset(r,!1),r):Ut(e).local()}function It(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function At(e,n){var i,r=this._offset||0;return null!=e?("string"==typeof e&&(e=Ht(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=It(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?ee(this,Bt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:It(this)}function zt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Nt(t){return this.utcOffset(0,t)}function Zt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(It(this),"m")),this}function jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ht(this._i)),this}function Et(t){return t=t?Ut(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(f(t,this),t=Tt(t),t._a){var e=t._isUTC?a(t._a):Ut(t._a);this._isDSTShifted=this.isValid()&&p(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Jt(){return!this._isUTC}function $t(){return this._isUTC}function Rt(){return this._isUTC&&0===this._offset}function Bt(t,e){var n,i,r,o=t,a=null;return Pt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=ki.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:y(a[ui])*n,h:y(a[di])*n,m:y(a[li])*n,s:y(a[ci])*n,ms:y(a[fi])*n}):(a=Ti.exec(t))?(n="-"===a[1]?-1:1,o={y:Qt(a[2],n),M:Qt(a[3],n),d:Qt(a[4],n),h:Qt(a[5],n),m:Qt(a[6],n),s:Qt(a[7],n),w:Qt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Kt(Ut(o.from),Ut(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Ft(o),Pt(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function Qt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Xt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Kt(t,e){var n;return e=Lt(e,t),t.isBefore(e)?n=Xt(t,e):(n=Xt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function te(t,e){return function(n,i){var r,s;return null===i||isNaN(+i)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=Bt(n,i),ee(this,r,t),this}}function ee(e,n,i,r){var s=n._milliseconds,o=n._days,a=n._months;r=null==r||r,s&&e._d.setTime(+e._d+s*i),o&&W(e,"Date",U(e,"Date")+o*i),a&&R(e,U(e,"Month")+a*i),r&&t.updateOffset(e,o||a)}function ne(t,e){var n=t||Ut(),i=Lt(n,this).startOf("day"),r=this.diff(i,"days",!0),s=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(e&&e[s]||this.localeData().calendar(s,this,Ut(n)))}function ie(){return new h(this)}function re(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Ut(t),+this>+t):(n=m(t)?+t:+Ut(t),n<+this.clone().startOf(e))}function se(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Ut(t),+this<+t):(n=m(t)?+t:+Ut(t),+this.clone().endOf(e)<n)}function oe(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ae(t,e){var n;return e=T(e||"millisecond"),"millisecond"===e?(t=m(t)?t:Ut(t),+this===+t):(n=+Ut(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function ue(t,e,n){var i,r,s=Lt(t,this),o=6e4*(s.utcOffset()-this.utcOffset());return e=T(e),"year"===e||"month"===e||"quarter"===e?(r=de(this,s),"quarter"===e?r/=3:"year"===e&&(r/=12)):(i=this-s,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-o)/864e5:"week"===e?(i-o)/6048e5:i),n?r:_(r)}function de(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(r,"months");return e-s<0?(n=t.clone().add(r-1,"months"),i=(e-s)/(s-n)):(n=t.clone().add(r+1,"months"),i=(e-s)/(n-s)),-(r+i)}function le(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ce(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():H(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fe(e){var n=H(this,e||t.defaultFormat);return this.localeData().postformat(n)}function he(t,e){return this.isValid()?Bt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function me(t){return this.from(Ut(),t)}function _e(t,e){return this.isValid()?Bt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ye(t){return this.to(Ut(),t)}function pe(t){var e;return void 0===t?this._locale._abbr:(e=S(t),null!=e&&(this._locale=e),this)}function ge(){return this._locale}function De(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function ve(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Me(){return+this._d-6e4*(this._offset||0)}function Ye(){return Math.floor(+this/1e3)}function we(){return this._offset?new Date(+this):this._d}function Se(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ke(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Te(){return l(this)}function be(){return o({},d(this))}function Oe(){return d(this).overflow}function Ue(t,e){F(0,[t,t.length],0,e)}function We(t,e,n){return dt(Ut([t,11,31+e-n]),e,n).week}function Ce(t){var e=dt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Ge(t){var e=dt(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Fe(){return We(this.year(),1,4)}function Pe(){var t=this.localeData()._week;return We(this.year(),t.dow,t.doy)}function xe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function He(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Le(t){return this._weekdays[t.day()]}function Ie(t){return this._weekdaysShort[t.day()]}function Ae(t){return this._weekdaysMin[t.day()]}function ze(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;e<7;e++)if(this._weekdaysParse[e]||(n=Ut([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Ne(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=He(t,this.localeData()),this.add(t-e,"d")):e}function Ze(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function je(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ee(t,e){F(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ve(t,e){return e._meridiemParse}function qe(t){return"p"===(t+"").toLowerCase().charAt(0)}function Je(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function $e(t,e){e[fi]=y(1e3*("0."+t))}function Re(){return this._isUTC?"UTC":""}function Be(){return this._isUTC?"Coordinated Universal Time":""}function Qe(t){return Ut(1e3*t)}function Xe(){return Ut.apply(null,arguments).parseZone()}function Ke(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function en(){return this._invalidDate}function nn(t){return this._ordinal.replace("%d",t)}function rn(t){return t}function sn(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)}function on(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function an(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function un(t,e,n,i){var r=S(),s=a().set(i,e);return r[n](s,t)}function dn(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return un(t,e,n,r);var s,o=[];for(s=0;s<i;s++)o[s]=un(t,s,n,r);return o}function ln(t,e){return dn(t,e,"months",12,"month")}function cn(t,e){return dn(t,e,"monthsShort",12,"month")}function fn(t,e){return dn(t,e,"weekdays",7,"day")}function hn(t,e){return dn(t,e,"weekdaysShort",7,"day")}function mn(t,e){return dn(t,e,"weekdaysMin",7,"day")}function _n(){var t=this._data;return this._milliseconds=Ri(this._milliseconds),this._days=Ri(this._days),this._months=Ri(this._months),t.milliseconds=Ri(t.milliseconds),t.seconds=Ri(t.seconds),t.minutes=Ri(t.minutes),t.hours=Ri(t.hours),t.months=Ri(t.months),t.years=Ri(t.years),this}function yn(t,e,n,i){var r=Bt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function pn(t,e){return yn(this,t,e,1)}function gn(t,e){return yn(this,t,e,-1)}function Dn(t){return t<0?Math.floor(t):Math.ceil(t)}function vn(){var t,e,n,i,r,s=this._milliseconds,o=this._days,a=this._months,u=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*Dn(Yn(a)+o),o=0,a=0),u.milliseconds=s%1e3,t=_(s/1e3),u.seconds=t%60,e=_(t/60),u.minutes=e%60,n=_(e/60),u.hours=n%24,o+=_(n/24),r=_(Mn(o)),a+=r,o-=Dn(Yn(r)),i=_(a/12),a%=12,u.days=o,u.months=a,u.years=i,this}function Mn(t){return 4800*t/146097}function Yn(t){return 146097*t/4800}function wn(t){var e,n,i=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Mn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Yn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Sn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function kn(t){return function(){return this.as(t)}}function Tn(t){return t=T(t),this[t+"s"]()}function bn(t){return function(){return this._data[t]}}function On(){return _(this.days()/7)}function Un(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function Wn(t,e,n){var i=Bt(t).abs(),r=cr(i.as("s")),s=cr(i.as("m")),o=cr(i.as("h")),a=cr(i.as("d")),u=cr(i.as("M")),d=cr(i.as("y")),l=r<fr.s&&["s",r]||1===s&&["m"]||s<fr.m&&["mm",s]||1===o&&["h"]||o<fr.h&&["hh",o]||1===a&&["d"]||a<fr.d&&["dd",a]||1===u&&["M"]||u<fr.M&&["MM",u]||1===d&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=n,Un.apply(null,l)}function Cn(t,e){return void 0!==fr[t]&&(void 0===e?fr[t]:(fr[t]=e,!0))}function Gn(t){var e=this.localeData(),n=Wn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Fn(){var t,e,n,i=hr(this._milliseconds)/1e3,r=hr(this._days),s=hr(this._months);t=_(i/60),e=_(t/60),i%=60,t%=60,n=_(s/12),s%=12;var o=n,a=s,u=r,d=e,l=t,c=i,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(u?u+"D":"")+(d||l||c?"T":"")+(d?d+"H":"")+(l?l+"M":"")+(c?c+"S":""):"P0D"}var Pn,xn,Hn=t.momentProperties=[],Ln=!1,In={},An={},zn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Zn={},jn={},En=/\d/,Vn=/\d\d/,qn=/\d{3}/,Jn=/\d{4}/,$n=/[+-]?\d{6}/,Rn=/\d\d?/,Bn=/\d{1,3}/,Qn=/\d{1,4}/,Xn=/[+-]?\d{1,6}/,Kn=/\d+/,ti=/[+-]?\d+/,ei=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ri={},si={},oi=0,ai=1,ui=2,di=3,li=4,ci=5,fi=6;F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),F("MMMM",0,0,function(t){return this.localeData().months(this,t)}),k("month","M"),A("M",Rn),A("MM",Rn,Vn),A("MMM",ii),A("MMMM",ii),Z(["M","MM"],function(t,e){e[ai]=y(t)-1}),Z(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[ai]=r:d(n).invalidMonth=t});var hi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_i={};t.suppressDeprecationWarnings=!1;var yi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Di=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),k("year","y"),A("Y",ti),A("YY",Rn,Vn),A("YYYY",Qn,Jn),A("YYYYY",Xn,$n),A("YYYYYY",Xn,$n),Z(["YYYYY","YYYYYY"],oi),Z("YYYY",function(e,n){n[oi]=2===e.length?t.parseTwoDigitYear(e):y(e)}),Z("YY",function(e,n){n[oi]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var vi=O("FullYear",!1);F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),A("w",Rn),A("ww",Rn,Vn),A("W",Rn),A("WW",Rn,Vn),j(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=y(t)});var Mi={dow:0,doy:6};F("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),A("DDD",Bn),A("DDDD",qn),Z(["DDD","DDDD"],function(t,e,n){n._dayOfYear=y(t)}),t.ISO_8601=function(){};var Yi=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ut.apply(null,arguments);return t<this?this:t}),wi=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ut.apply(null,arguments);return t>this?this:t});xt("Z",":"),xt("ZZ",""),A("Z",ei),A("ZZ",ei),Z(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ht(t)});var Si=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var ki=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ti=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Bt.fn=Ft.prototype;var bi=te(1,"add"),Oi=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ui=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ue("gggg","weekYear"),Ue("ggggg","weekYear"),Ue("GGGG","isoWeekYear"),Ue("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),A("G",ti),A("g",ti),A("GG",Rn,Vn),A("gg",Rn,Vn),A("GGGG",Qn,Jn),A("gggg",Qn,Jn),A("GGGGG",Xn,$n),A("ggggg",Xn,$n),j(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=y(t)}),j(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),F("Q",0,0,"quarter"),k("quarter","Q"),A("Q",En),Z("Q",function(t,e){e[ai]=3*(y(t)-1)}),F("D",["DD",2],"Do","date"),k("date","D"),A("D",Rn),A("DD",Rn,Vn),A("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),Z(["D","DD"],ui),Z("Do",function(t,e){e[ui]=y(t.match(Rn)[0],10)});var Wi=O("Date",!0);F("d",0,"do","day"),F("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),F("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),F("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),A("d",Rn),A("e",Rn),A("E",Rn),A("dd",ii),A("ddd",ii),A("dddd",ii),j(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:d(n).invalidWeekday=t}),j(["d","e","E"],function(t,e,n,i){e[i]=y(t)});var Ci="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Gi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");F("H",["HH",2],0,"hour"),F("h",["hh",2],0,function(){return this.hours()%12||12}),Ee("a",!0),Ee("A",!1),k("hour","h"),A("a",Ve),A("A",Ve),A("H",Rn),A("h",Rn),A("HH",Rn,Vn),A("hh",Rn,Vn),Z(["H","HH"],di),Z(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),Z(["h","hh"],function(t,e,n){e[di]=y(t),d(n).bigHour=!0});var Pi=/[ap]\.?m?\.?/i,xi=O("Hours",!0);F("m",["mm",2],0,"minute"),k("minute","m"),A("m",Rn),A("mm",Rn,Vn),Z(["m","mm"],li);var Hi=O("Minutes",!1);F("s",["ss",2],0,"second"),k("second","s"),A("s",Rn),A("ss",Rn,Vn),Z(["s","ss"],ci);var Li=O("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return 10*this.millisecond()}),F(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),F(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),F(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),F(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),F(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),A("S",Bn,En),A("SS",Bn,Vn),A("SSS",Bn,qn);var Ii;for(Ii="SSSS";Ii.length<=9;Ii+="S")A(Ii,Kn);for(Ii="S";Ii.length<=9;Ii+="S")Z(Ii,$e);var Ai=O("Milliseconds",!1);F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var zi=h.prototype;zi.add=bi,zi.calendar=ne,zi.clone=ie,zi.diff=ue,zi.endOf=ve,zi.format=fe,zi.from=he,zi.fromNow=me,zi.to=_e,zi.toNow=ye,zi.get=C,zi.invalidAt=Oe,zi.isAfter=re,zi.isBefore=se,zi.isBetween=oe,zi.isSame=ae,zi.isValid=Te,zi.lang=Ui,zi.locale=pe,zi.localeData=ge,zi.max=wi,zi.min=Yi,zi.parsingFlags=be,zi.set=C,zi.startOf=De,zi.subtract=Oi,zi.toArray=Se,zi.toObject=ke,zi.toDate=we,zi.toISOString=ce,zi.toJSON=ce,zi.toString=le,zi.unix=Ye,zi.valueOf=Me,zi.year=vi,zi.isLeapYear=ut,zi.weekYear=Ce,zi.isoWeekYear=Ge,zi.quarter=zi.quarters=xe,zi.month=B,zi.daysInMonth=Q,zi.week=zi.weeks=ht,zi.isoWeek=zi.isoWeeks=mt,zi.weeksInYear=Pe,zi.isoWeeksInYear=Fe,zi.date=Wi,zi.day=zi.days=Ne,zi.weekday=Ze,zi.isoWeekday=je,zi.dayOfYear=yt,zi.hour=zi.hours=xi,zi.minute=zi.minutes=Hi,zi.second=zi.seconds=Li,
zi.millisecond=zi.milliseconds=Ai,zi.utcOffset=At,zi.utc=Nt,zi.local=Zt,zi.parseZone=jt,zi.hasAlignedHourOffset=Et,zi.isDST=Vt,zi.isDSTShifted=qt,zi.isLocal=Jt,zi.isUtcOffset=$t,zi.isUtc=Rt,zi.isUTC=Rt,zi.zoneAbbr=Re,zi.zoneName=Be,zi.dates=tt("dates accessor is deprecated. Use date instead.",Wi),zi.months=tt("months accessor is deprecated. Use month instead",B),zi.years=tt("years accessor is deprecated. Use year instead",vi),zi.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",zt);var Ni=zi,Zi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ji={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ei="Invalid date",Vi="%d",qi=/\d{1,2}/,Ji={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},$i=g.prototype;$i._calendar=Zi,$i.calendar=Ke,$i._longDateFormat=ji,$i.longDateFormat=tn,$i._invalidDate=Ei,$i.invalidDate=en,$i._ordinal=Vi,$i.ordinal=nn,$i._ordinalParse=qi,$i.preparse=rn,$i.postformat=rn,$i._relativeTime=Ji,$i.relativeTime=sn,$i.pastFuture=on,$i.set=an,$i.months=q,$i._months=hi,$i.monthsShort=J,$i._monthsShort=mi,$i.monthsParse=$,$i.week=lt,$i._week=Mi,$i.firstDayOfYear=ft,$i.firstDayOfWeek=ct,$i.weekdays=Le,$i._weekdays=Ci,$i.weekdaysMin=Ae,$i._weekdaysMin=Fi,$i.weekdaysShort=Ie,$i._weekdaysShort=Gi,$i.weekdaysParse=ze,$i.isPM=qe,$i._meridiemParse=Pi,$i.meridiem=Je,Y("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",Y),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",S);var Ri=Math.abs,Bi=kn("ms"),Qi=kn("s"),Xi=kn("m"),Ki=kn("h"),tr=kn("d"),er=kn("w"),nr=kn("M"),ir=kn("y"),rr=bn("milliseconds"),sr=bn("seconds"),or=bn("minutes"),ar=bn("hours"),ur=bn("days"),dr=bn("months"),lr=bn("years"),cr=Math.round,fr={s:45,m:45,h:22,d:26,M:11},hr=Math.abs,mr=Ft.prototype;mr.abs=_n,mr.add=pn,mr.subtract=gn,mr.as=wn,mr.asMilliseconds=Bi,mr.asSeconds=Qi,mr.asMinutes=Xi,mr.asHours=Ki,mr.asDays=tr,mr.asWeeks=er,mr.asMonths=nr,mr.asYears=ir,mr.valueOf=Sn,mr._bubble=vn,mr.get=Tn,mr.milliseconds=rr,mr.seconds=sr,mr.minutes=or,mr.hours=ar,mr.days=ur,mr.weeks=On,mr.months=dr,mr.years=lr,mr.humanize=Gn,mr.toISOString=Fn,mr.toString=Fn,mr.toJSON=Fn,mr.locale=pe,mr.localeData=ge,mr.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fn),mr.lang=Ui,F("X",0,0,"unix"),F("x",0,0,"valueOf"),A("x",ti),A("X",ni),Z("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),Z("x",function(t,e,n){n._d=new Date(y(t))}),t.version="2.10.6",e(Ut),t.fn=Ni,t.min=Ct,t.max=Gt,t.utc=a,t.unix=Qe,t.months=ln,t.isDate=i,t.locale=Y,t.invalid=c,t.duration=Bt,t.isMoment=m,t.weekdays=fn,t.parseZone=Xe,t.localeData=S,t.isDuration=Pt,t.monthsShort=cn,t.weekdaysMin=mn,t.defineLocale=w,t.weekdaysShort=hn,t.normalizeUnits=T,t.relativeTimeThreshold=Cn;var _r=t;return _r});
},{}],924:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return _s.apply(null,arguments)}function t(e){_s=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function r(e){return"number"==typeof value||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return gt(e,t,n,s,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function c(e){return null==e._pf&&(e._pf=h()),e._pf}function f(e){if(null==e._isValid){var t=c(e),n=gs.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function m(e){var t=d(NaN);return null!=e?l(c(t),e):c(t).userInvalidated=!0,t}function _(e){return void 0===e}function y(e,t){var n,s,i;if(_(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),_(t._i)||(e._i=t._i),_(t._f)||(e._f=t._f),_(t._l)||(e._l=t._l),_(t._strict)||(e._strict=t._strict),_(t._tzm)||(e._tzm=t._tzm),_(t._isUTC)||(e._isUTC=t._isUTC),_(t._offset)||(e._offset=t._offset),_(t._pf)||(e._pf=c(t)),_(t._locale)||(e._locale=t._locale),ps.length>0)for(n in ps)s=ps[n],i=t[s],_(i)||(e[s]=i);return e}function g(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),ws===!1&&(ws=!0,e.updateOffset(this),ws=!1)}function p(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function S(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&v(e[s])!==v(t[s]))&&a++;return a+r}function M(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function k(t,n){var s=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var o in arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}M(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function D(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),vs[t]||(M(n),vs[t]=!0)}function Y(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],Y(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function x(e,t){var n,i=l({},e);for(n in t)u(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)u(e,n)&&!u(t,n)&&s(e[n])&&(i[n]=l({},i[n]));return i}function T(e){null!=e&&this.set(e)}function b(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return Y(s)?s.call(t,n):s}function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function W(){return this._invalidDate}function R(e){return this._ordinal.replace("%d",e)}function U(e,t,n,s){var i=this._relativeTime[n];return Y(i)?i(e,t,n,s):i.replace(/%d/i,e)}function C(e,t){var n=this._relativeTime[e>0?"future":"past"];return Y(n)?n(t):n.replace(/%s/i,t)}function F(e,t){var n=e.toLowerCase();Ps[n]=Ps[n+"s"]=Ps[t]=e}function H(e){return"string"==typeof e?Ps[e]||Ps[e.toLowerCase()]:void 0}function L(e){var t,n,s={};for(n in e)u(e,n)&&(t=H(n),t&&(s[t]=e[n]));return s}function G(e,t){Ws[e]=t}function V(e){var t=[];for(var n in e)t.push({unit:n,priority:Ws[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function j(t,n){return function(s){return null!=s?(A(this,t,s),e.updateOffset(this,n),this):N(this,t)}}function N(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function A(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function E(e){return e=H(e),Y(this[e])?this[e]():this}function I(e,t){if("object"==typeof e){e=L(e);for(var n=V(e),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit])}else if(e=H(e),Y(this[e]))return this[e](t);return this}function z(e,t,n){var s=""+Math.abs(e),i=t-s.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function Z(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(Fs[e]=i),t&&(Fs[t[0]]=function(){return z(i.apply(this,arguments),t[1],t[2])}),n&&(Fs[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function $(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,s=e.match(Rs);for(t=0,n=s.length;t<n;t++)Fs[s[t]]?s[t]=Fs[s[t]]:s[t]=$(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=s[i]instanceof Function?s[i].call(t,e):s[i];return r}}function B(e,t){return e.isValid()?(t=J(t,e.localeData()),Cs[t]=Cs[t]||q(t),Cs[t](e)):e.localeData().invalidDate()}function J(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(Us.lastIndex=0;s>=0&&Us.test(e);)e=e.replace(Us,n),Us.lastIndex=0,s-=1;return e}function Q(e,t,n){Ks[e]=Y(t)?t:function(e,s){return e&&n?n:t}}function X(e,t){return u(Ks,e)?Ks[e](t._strict,t._locale):new RegExp(K(e))}function K(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),r(t)&&(s=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)ei[e[n]]=s}function ne(e,t){te(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function se(e,t,n){null!=t&&u(ei,e)&&ei[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function re(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||hi).test(t)?"format":"standalone"][e.month()]:this._months}function ae(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[hi.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function oe(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(i=di.call(this._shortMonthsParse,a),i!==-1?i:null):(i=di.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=di.call(this._shortMonthsParse,a),i!==-1?i:(i=di.call(this._longMonthsParse,a),i!==-1?i:null)):(i=di.call(this._longMonthsParse,a),i!==-1?i:(i=di.call(this._shortMonthsParse,a),i!==-1?i:null))}function ue(e,t,n){var s,i,r;if(this._monthsParseExact)return oe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),!r(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function de(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):N(this,"Month")}function he(){return ie(this.year(),this.month())}function ce(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=mi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=_i),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function me(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=ee(s[t]),i[t]=ee(i[t]);for(t=0;t<24;t++)r[t]=ee(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function _e(e){return ye(e)?366:365}function ye(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return ye(this.year())}function pe(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function we(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ve(e,t,n){var s=7+t-n,i=(7+we(e,0,s).getUTCDay()-t)%7;return-i+s-1}function Se(e,t,n,s,i){var r,a,o=(7+n-s)%7,u=ve(e,s,i),l=1+7*(t-1)+o+u;return l<=0?(r=e-1,a=_e(r)+l):l>_e(e)?(r=e+1,a=l-_e(e)):(r=e,a=l),{year:r,dayOfYear:a}}function Me(e,t,n){var s,i,r=ve(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(i=e.year()-1,s=a+ke(i,t,n)):a>ke(e.year(),t,n)?(s=a-ke(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function ke(e,t,n){var s=ve(e,t,n),i=ve(e+1,t,n);return(_e(e)-s+i)/7}function De(e){return Me(e,this._week.dow,this._week.doy).week}function Ye(){return this._week.dow}function Oe(){return this._week.doy}function xe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Te(e){var t=Me(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function be(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Pe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function We(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Re(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ue(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ce(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(i=di.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=di.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=di.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=di.call(this._weekdaysParse,a),i!==-1?i:(i=di.call(this._shortWeekdaysParse,a),i!==-1?i:(i=di.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=di.call(this._shortWeekdaysParse,a),i!==-1?i:(i=di.call(this._weekdaysParse,a),i!==-1?i:(i=di.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=di.call(this._minWeekdaysParse,a),i!==-1?i:(i=di.call(this._weekdaysParse,a),i!==-1?i:(i=di.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Fe(e,t,n){var s,i,r;if(this._weekdaysParseExact)return Ce.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function He(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=be(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ge(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ve(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ae.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Si),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function je(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ae.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ne(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ae.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ki),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ae(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=ee(o[t]),u[t]=ee(u[t]),l[t]=ee(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ee(){return this.hours()%12||12}function Ie(){return this.hours()||24}function ze(e,t){Z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ze(e,t){return t._meridiemParse}function $e(e){return"p"===(e+"").toLowerCase().charAt(0)}function qe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Be(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e){for(var t,n,s,i,r=0;r<e.length;){for(i=Be(e[r]).split("-"),t=i.length,n=Be(e[r+1]),n=n?n.split("-"):null;t>0;){if(s=Qe(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}r++}return null}function Qe(e){var t=null;if(!Ti[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Di._abbr,require("./locale/"+e),Xe(t)}catch(e){}return Ti[e]}function Xe(e,t){var n;return e&&(n=_(t)?tt(e):Ke(e,t),n&&(Di=n)),Di._abbr}function Ke(e,t){if(null!==t){var n=xi;if(t.abbr=e,null!=Ti[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ti[e]._config;else if(null!=t.parentLocale){if(null==Ti[t.parentLocale])return bi[t.parentLocale]||(bi[t.parentLocale]=[]),bi[t.parentLocale].push({name:e,config:t}),null;n=Ti[t.parentLocale]._config}return Ti[e]=new T(x(n,t)),bi[e]&&bi[e].forEach(function(e){Ke(e.name,e.config)}),Xe(e),Ti[e]}return delete Ti[e],null}function et(e,t){if(null!=t){var n,s=xi;null!=Ti[e]&&(s=Ti[e]._config),t=x(s,t),n=new T(t),n.parentLocale=Ti[e],Ti[e]=n,Xe(e)}else null!=Ti[e]&&(null!=Ti[e].parentLocale?Ti[e]=Ti[e].parentLocale:null!=Ti[e]&&delete Ti[e]);return Ti[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Di;if(!n(e)){if(t=Qe(e))return t;e=[e]}return Je(e)}function nt(){return ks(Ti)}function st(e){var t,n=e._a;return n&&c(e).overflow===-2&&(t=n[ni]<0||n[ni]>11?ni:n[si]<1||n[si]>ie(n[ti],n[ni])?si:n[ii]<0||n[ii]>24||24===n[ii]&&(0!==n[ri]||0!==n[ai]||0!==n[oi])?ii:n[ri]<0||n[ri]>59?ri:n[ai]<0||n[ai]>59?ai:n[oi]<0||n[oi]>999?oi:-1,c(e)._overflowDayOfYear&&(t<ti||t>si)&&(t=si),c(e)._overflowWeeks&&t===-1&&(t=ui),c(e)._overflowWeekday&&t===-1&&(t=li),c(e).overflow=t),e}function it(e){var t,n,s,i,r,a,o=e._i,u=Pi.exec(o)||Wi.exec(o);if(u){for(c(e).iso=!0,t=0,n=Ui.length;t<n;t++)if(Ui[t][1].exec(u[1])){i=Ui[t][0],s=Ui[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Ci.length;t<n;t++)if(Ci[t][1].exec(u[3])){r=(u[2]||" ")+Ci[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!Ri.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),dt(e)}else e._isValid=!1}function rt(t){var n=Fi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(it(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function at(e,t,n){return null!=e?e:null!=t?t:n}function ot(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ut(e){var t,n,s,i,r=[];if(!e._d){for(s=ot(e),e._w&&null==e._a[si]&&null==e._a[ni]&&lt(e),e._dayOfYear&&(i=at(e._a[ti],s[ti]),e._dayOfYear>_e(i)&&(c(e)._overflowDayOfYear=!0),n=we(i,0,e._dayOfYear),e._a[ni]=n.getUTCMonth(),e._a[si]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ii]&&0===e._a[ri]&&0===e._a[ai]&&0===e._a[oi]&&(e._nextDay=!0,e._a[ii]=0),e._d=(e._useUTC?we:pe).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ii]=24)}}function lt(e){var t,n,s,i,r,a,o,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,a=4,n=at(t.GG,e._a[ti],Me(pt(),1,4).year),s=at(t.W,1),i=at(t.E,1),(i<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Me(pt(),r,a);n=at(t.gg,e._a[ti],l.year),s=at(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>ke(n,r,a)?c(e)._overflowWeeks=!0:null!=u?c(e)._overflowWeekday=!0:(o=Se(n,s,i,r,a),e._a[ti]=o.year,e._dayOfYear=o.dayOfYear)}function dt(t){if(t._f===e.ISO_8601)return void it(t);t._a=[],c(t).empty=!0;var n,s,i,r,a,o=""+t._i,u=o.length,l=0;for(i=J(t._f,t._locale).match(Rs)||[],n=0;n<i.length;n++)r=i[n],s=(o.match(X(r,t))||[])[0],s&&(a=o.substr(0,o.indexOf(s)),a.length>0&&c(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),l+=s.length),Fs[r]?(s?c(t).empty=!1:c(t).unusedTokens.push(r),se(r,s,t)):t._strict&&!s&&c(t).unusedTokens.push(r);c(t).charsLeftOver=u-l,o.length>0&&c(t).unusedInput.push(o),t._a[ii]<=12&&c(t).bigHour===!0&&t._a[ii]>0&&(c(t).bigHour=void 0),c(t).parsedDateParts=t._a.slice(0),c(t).meridiem=t._meridiem,t._a[ii]=ht(t._locale,t._a[ii],t._meridiem),ut(t),st(t)}function ht(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(s=e.isPM(n),s&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function ct(e){var t,n,s,i,r;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],dt(t),f(t)&&(r+=c(t).charsLeftOver,r+=10*c(t).unusedTokens.length,c(t).score=r,(null==s||r<s)&&(s=r,n=t));l(e,n||t)}function ft(e){if(!e._d){var t=L(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function mt(e){var t=new g(st(_t(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function _t(e){var t=e._i,s=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===s&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),p(t)?new g(st(t)):(a(t)?e._d=t:n(s)?ct(e):s?dt(e):yt(e),f(e)||(e._d=null),e))}function yt(t){var s=t._i;void 0===s?t._d=new Date(e.now()):a(s)?t._d=new Date(s.valueOf()):"string"==typeof s?rt(t):n(s)?(t._a=o(s.slice(0),function(e){return parseInt(e,10)}),ut(t)):"object"==typeof s?ft(t):r(s)?t._d=new Date(s):e.createFromInputFallback(t)}function gt(e,t,r,a,o){var u={};return r!==!0&&r!==!1||(a=r,r=void 0),(s(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=t,u._strict=a,mt(u)}function pt(e,t,n,s){return gt(e,t,n,s,!1)}function wt(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return pt();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}function vt(){var e=[].slice.call(arguments,0);return wt("isBefore",e)}function St(){var e=[].slice.call(arguments,0);return wt("isAfter",e)}function Mt(e){var t=L(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=tt(),this._bubble()}function kt(e){return e instanceof Mt}function Dt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Yt(e,t){Z(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+z(~~(e/60),2)+t+z(~~e%60,2)})}function Ot(e,t){var n=(t||"").match(e);if(null===n)return null;var s=n[n.length-1]||[],i=(s+"").match(Vi)||["-",0,0],r=+(60*i[1])+v(i[2]);return 0===r?0:"+"===i[0]?r:-r}function xt(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(p(t)||a(t)?t.valueOf():pt(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):pt(t).local()}function Tt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function bt(t,n){var s,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Ot(Js,t),null===t)return this}else Math.abs(t)<16&&(t=60*t);return!this._isUTC&&n&&(s=Tt(this)),this._offset=t,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==t&&(!n||this._changeInProgress?zt(this,jt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Tt(this)}function Pt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Wt(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tt(this),"m")),this}function Ut(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Ot(Bs,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Ct(e){return!!this.isValid()&&(e=e?pt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ht(){if(!_(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=_t(e),e._a){var t=e._isUTC?d(e._a):pt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lt(){return!!this.isValid()&&!this._isUTC}function Gt(){return!!this.isValid()&&this._isUTC}function Vt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function jt(e,t){var n,s,i,a=e,o=null;return kt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=ji.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:v(o[si])*n,h:v(o[ii])*n,m:v(o[ri])*n,s:v(o[ai])*n,ms:v(Dt(1e3*o[oi]))*n}):(o=Ni.exec(e))?(n="-"===o[1]?-1:1,a={y:Nt(o[2],n),M:Nt(o[3],n),w:Nt(o[4],n),d:Nt(o[5],n),h:Nt(o[6],n),m:Nt(o[7],n),s:Nt(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=Et(pt(a.from),pt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),s=new Mt(a),kt(e)&&u(e,"_locale")&&(s._locale=e._locale),s}function Nt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function At(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Et(e,t){var n;return e.isValid()&&t.isValid()?(t=xt(t,e),e.isBefore(t)?n=At(e,t):(n=At(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function It(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(D(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=jt(n,s),zt(this,i,e),this}}function zt(t,n,s,i){var r=n._milliseconds,a=Dt(n._days),o=Dt(n._months);t.isValid()&&(i=null==i||i,r&&t._d.setTime(t._d.valueOf()+r*s),a&&A(t,"Date",N(t,"Date")+a*s),o&&le(t,N(t,"Month")+o*s),i&&e.updateOffset(t,a||o))}function Zt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $t(t,n){var s=t||pt(),i=xt(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(Y(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,pt(s)))}function qt(){return new g(this)}function Bt(e,t){var n=p(e)?e:pt(e);return!(!this.isValid()||!n.isValid())&&(t=H(_(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Jt(e,t){var n=p(e)?e:pt(e);return!(!this.isValid()||!n.isValid())&&(t=H(_(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Qt(e,t,n,s){return s=s||"()",("("===s[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Xt(e,t){var n,s=p(e)?e:pt(e);return!(!this.isValid()||!s.isValid())&&(t=H(t||"millisecond"),"millisecond"===t?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var s,i,r,a;return this.isValid()?(s=xt(e,this),s.isValid()?(i=6e4*(s.utcOffset()-this.utcOffset()),t=H(t),"year"===t||"month"===t||"quarter"===t?(a=nn(this,s),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-s,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),n?a:w(a)):NaN):NaN}function nn(e,t){var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,"months");return t-r<0?(n=e.clone().add(i-1,"months"),s=(t-r)/(r-n)):(n=e.clone().add(i+1,"months"),s=(t-r)/(n-r)),-(i+s)||0}function sn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?Y(Date.prototype.toISOString)?this.toDate().toISOString():B(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function an(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]';return this.format(n+s+i+r)}function on(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=B(this,t);return this.localeData().postformat(n)}function un(e,t){return this.isValid()&&(p(e)&&e.isValid()||pt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.from(pt(),e)}function dn(e,t){return this.isValid()&&(p(e)&&e.isValid()||pt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hn(e){return this.to(pt(),e)}function cn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function fn(){return this._locale}function mn(e){switch(e=H(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _n(e){return e=H(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function yn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function pn(){return new Date(this.valueOf())}function wn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function vn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Sn(){return this.isValid()?this.toISOString():null}function Mn(){return f(this)}function kn(){return l({},c(this))}function Dn(){return c(this).overflow}function Yn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function On(e,t){Z(0,[e,e.length],0,t)}function xn(e){return Wn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Tn(e){return Wn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function bn(){return ke(this.year(),1,4)}function Pn(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function Wn(e,t,n,s,i){var r;return null==e?Me(this,s,i).year:(r=ke(e,s,i),t>r&&(t=r),Rn.call(this,e,t,n,s,i))}function Rn(e,t,n,s,i){var r=Se(e,t,n,s,i),a=we(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Un(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Cn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Fn(e,t){t[oi]=v(1e3*("0."+e))}function Hn(){return this._isUTC?"UTC":""}function Ln(){return this._isUTC?"Coordinated Universal Time":""}function Gn(e){return pt(1e3*e)}function Vn(){return pt.apply(null,arguments).parseZone()}function jn(e){return e}function Nn(e,t,n,s){var i=tt(),r=d().set(s,t);return i[n](r,e)}function An(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return Nn(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Nn(e,s,n,"month");return i}function En(e,t,n,s){"boolean"==typeof e?(r(t)&&(n=t,
t=void 0),t=t||""):(t=e,n=t,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var i=tt(),a=e?i._week.dow:0;if(null!=n)return Nn(t,(n+a)%7,s,"day");var o,u=[];for(o=0;o<7;o++)u[o]=Nn(t,(o+a)%7,s,"day");return u}function In(e,t){return An(e,t,"months")}function zn(e,t){return An(e,t,"monthsShort")}function Zn(e,t,n){return En(e,t,n,"weekdays")}function $n(e,t,n){return En(e,t,n,"weekdaysShort")}function qn(e,t,n){return En(e,t,n,"weekdaysMin")}function Bn(){var e=this._data;return this._milliseconds=Xi(this._milliseconds),this._days=Xi(this._days),this._months=Xi(this._months),e.milliseconds=Xi(e.milliseconds),e.seconds=Xi(e.seconds),e.minutes=Xi(e.minutes),e.hours=Xi(e.hours),e.months=Xi(e.months),e.years=Xi(e.years),this}function Jn(e,t,n,s){var i=jt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function Qn(e,t){return Jn(this,e,t,1)}function Xn(e,t){return Jn(this,e,t,-1)}function Kn(e){return e<0?Math.floor(e):Math.ceil(e)}function es(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*Kn(ns(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=w(r/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,n=w(t/60),u.hours=n%24,a+=w(n/24),i=w(ts(a)),o+=i,a-=Kn(ns(i)),s=w(o/12),o%=12,u.days=a,u.months=o,u.years=s,this}function ts(e){return 4800*e/146097}function ns(e){return 146097*e/4800}function ss(e){var t,n,s=this._milliseconds;if(e=H(e),"month"===e||"year"===e)return t=this._days+s/864e5,n=this._months+ts(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ns(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function is(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function rs(e){return function(){return this.as(e)}}function as(e){return e=H(e),this[e+"s"]()}function os(e){return function(){return this._data[e]}}function us(){return w(this.days()/7)}function ls(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function ds(e,t,n){var s=jt(e).abs(),i=mr(s.as("s")),r=mr(s.as("m")),a=mr(s.as("h")),o=mr(s.as("d")),u=mr(s.as("M")),l=mr(s.as("y")),d=i<_r.s&&["s",i]||r<=1&&["m"]||r<_r.m&&["mm",r]||a<=1&&["h"]||a<_r.h&&["hh",a]||o<=1&&["d"]||o<_r.d&&["dd",o]||u<=1&&["M"]||u<_r.M&&["MM",u]||l<=1&&["y"]||["yy",l];return d[2]=t,d[3]=+e>0,d[4]=n,ls.apply(null,d)}function hs(e){return void 0===e?mr:"function"==typeof e&&(mr=e,!0)}function cs(e,t){return void 0!==_r[e]&&(void 0===t?_r[e]:(_r[e]=t,!0))}function fs(e){var t=this.localeData(),n=ds(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function ms(){var e,t,n,s=yr(this._milliseconds)/1e3,i=yr(this._days),r=yr(this._months);e=w(s/60),t=w(e/60),s%=60,e%=60,n=w(r/12),r%=12;var a=n,o=r,u=i,l=t,d=e,h=s,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(l||d||h?"T":"")+(l?l+"H":"")+(d?d+"M":"")+(h?h+"S":""):"P0D"}var _s,ys;ys=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var gs=ys,ps=e.momentProperties=[],ws=!1,vs={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Ss;Ss=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var Ms,ks=Ss,Ds={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ys={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Os="Invalid date",xs="%d",Ts=/\d{1,2}/,bs={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ps={},Ws={},Rs=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Us=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Cs={},Fs={},Hs=/\d/,Ls=/\d\d/,Gs=/\d{3}/,Vs=/\d{4}/,js=/[+-]?\d{6}/,Ns=/\d\d?/,As=/\d\d\d\d?/,Es=/\d\d\d\d\d\d?/,Is=/\d{1,3}/,zs=/\d{1,4}/,Zs=/[+-]?\d{1,6}/,$s=/\d+/,qs=/[+-]?\d+/,Bs=/Z|[+-]\d\d:?\d\d/gi,Js=/Z|[+-]\d\d(?::?\d\d)?/gi,Qs=/[+-]?\d+(\.\d{1,3})?/,Xs=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ks={},ei={},ti=0,ni=1,si=2,ii=3,ri=4,ai=5,oi=6,ui=7,li=8;Ms=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var di=Ms;Z("M",["MM",2],"Mo",function(){return this.month()+1}),Z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),F("month","M"),G("month",8),Q("M",Ns),Q("MM",Ns,Ls),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[ni]=v(e)-1}),te(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[ni]=i:c(n).invalidMonth=e});var hi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ci="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi=Xs,_i=Xs;Z("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),Z(0,["YY",2],0,function(){return this.year()%100}),Z(0,["YYYY",4],0,"year"),Z(0,["YYYYY",5],0,"year"),Z(0,["YYYYYY",6,!0],0,"year"),F("year","y"),G("year",1),Q("Y",qs),Q("YY",Ns,Ls),Q("YYYY",zs,Vs),Q("YYYYY",Zs,js),Q("YYYYYY",Zs,js),te(["YYYYY","YYYYYY"],ti),te("YYYY",function(t,n){n[ti]=2===t.length?e.parseTwoDigitYear(t):v(t)}),te("YY",function(t,n){n[ti]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[ti]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var yi=j("FullYear",!0);Z("w",["ww",2],"wo","week"),Z("W",["WW",2],"Wo","isoWeek"),F("week","w"),F("isoWeek","W"),G("week",5),G("isoWeek",5),Q("w",Ns),Q("ww",Ns,Ls),Q("W",Ns),Q("WW",Ns,Ls),ne(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=v(e)});var gi={dow:0,doy:6};Z("d",0,"do","day"),Z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Z("e",0,0,"weekday"),Z("E",0,0,"isoWeekday"),F("day","d"),F("weekday","e"),F("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),Q("d",Ns),Q("e",Ns),Q("E",Ns),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:c(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,s){t[s]=v(e)});var pi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Si=Xs,Mi=Xs,ki=Xs;Z("H",["HH",2],0,"hour"),Z("h",["hh",2],0,Ee),Z("k",["kk",2],0,Ie),Z("hmm",0,0,function(){return""+Ee.apply(this)+z(this.minutes(),2)}),Z("hmmss",0,0,function(){return""+Ee.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),Z("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),Z("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),ze("a",!0),ze("A",!1),F("hour","h"),G("hour",13),Q("a",Ze),Q("A",Ze),Q("H",Ns),Q("h",Ns),Q("HH",Ns,Ls),Q("hh",Ns,Ls),Q("hmm",As),Q("hmmss",Es),Q("Hmm",As),Q("Hmmss",Es),te(["H","HH"],ii),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[ii]=v(e),c(n).bigHour=!0}),te("hmm",function(e,t,n){var s=e.length-2;t[ii]=v(e.substr(0,s)),t[ri]=v(e.substr(s)),c(n).bigHour=!0}),te("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ii]=v(e.substr(0,s)),t[ri]=v(e.substr(s,2)),t[ai]=v(e.substr(i)),c(n).bigHour=!0}),te("Hmm",function(e,t,n){var s=e.length-2;t[ii]=v(e.substr(0,s)),t[ri]=v(e.substr(s))}),te("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ii]=v(e.substr(0,s)),t[ri]=v(e.substr(s,2)),t[ai]=v(e.substr(i))});var Di,Yi=/[ap]\.?m?\.?/i,Oi=j("Hours",!0),xi={calendar:Ds,longDateFormat:Ys,invalidDate:Os,ordinal:xs,ordinalParse:Ts,relativeTime:bs,months:ci,monthsShort:fi,week:gi,weekdays:pi,weekdaysMin:vi,weekdaysShort:wi,meridiemParse:Yi},Ti={},bi={},Pi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ri=/Z|[+-]\d\d(?::?\d\d)?/,Ui=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ci=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Fi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=k("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Hi=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Li=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Gi=function(){return Date.now?Date.now():+new Date};Yt("Z",":"),Yt("ZZ",""),Q("Z",Js),Q("ZZ",Js),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ot(Js,e)});var Vi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var ji=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ni=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;jt.fn=Mt.prototype;var Ai=It(1,"add"),Ei=It(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ii=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Z(0,["gg",2],0,function(){return this.weekYear()%100}),Z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),F("weekYear","gg"),F("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),Q("G",qs),Q("g",qs),Q("GG",Ns,Ls),Q("gg",Ns,Ls),Q("GGGG",zs,Vs),Q("gggg",zs,Vs),Q("GGGGG",Zs,js),Q("ggggg",Zs,js),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=v(e)}),ne(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),Z("Q",0,"Qo","quarter"),F("quarter","Q"),G("quarter",7),Q("Q",Hs),te("Q",function(e,t){t[ni]=3*(v(e)-1)}),Z("D",["DD",2],"Do","date"),F("date","D"),G("date",9),Q("D",Ns),Q("DD",Ns,Ls),Q("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],si),te("Do",function(e,t){t[si]=v(e.match(Ns)[0],10)});var zi=j("Date",!0);Z("DDD",["DDDD",3],"DDDo","dayOfYear"),F("dayOfYear","DDD"),G("dayOfYear",4),Q("DDD",Is),Q("DDDD",Gs),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),Z("m",["mm",2],0,"minute"),F("minute","m"),G("minute",14),Q("m",Ns),Q("mm",Ns,Ls),te(["m","mm"],ri);var Zi=j("Minutes",!1);Z("s",["ss",2],0,"second"),F("second","s"),G("second",15),Q("s",Ns),Q("ss",Ns,Ls),te(["s","ss"],ai);var $i=j("Seconds",!1);Z("S",0,0,function(){return~~(this.millisecond()/100)}),Z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Z(0,["SSS",3],0,"millisecond"),Z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),F("millisecond","ms"),G("millisecond",16),Q("S",Is,Hs),Q("SS",Is,Ls),Q("SSS",Is,Gs);var qi;for(qi="SSSS";qi.length<=9;qi+="S")Q(qi,$s);for(qi="S";qi.length<=9;qi+="S")te(qi,Fn);var Bi=j("Milliseconds",!1);Z("z",0,0,"zoneAbbr"),Z("zz",0,0,"zoneName");var Ji=g.prototype;Ji.add=Ai,Ji.calendar=$t,Ji.clone=qt,Ji.diff=tn,Ji.endOf=_n,Ji.format=on,Ji.from=un,Ji.fromNow=ln,Ji.to=dn,Ji.toNow=hn,Ji.get=E,Ji.invalidAt=Dn,Ji.isAfter=Bt,Ji.isBefore=Jt,Ji.isBetween=Qt,Ji.isSame=Xt,Ji.isSameOrAfter=Kt,Ji.isSameOrBefore=en,Ji.isValid=Mn,Ji.lang=Ii,Ji.locale=cn,Ji.localeData=fn,Ji.max=Li,Ji.min=Hi,Ji.parsingFlags=kn,Ji.set=I,Ji.startOf=mn,Ji.subtract=Ei,Ji.toArray=wn,Ji.toObject=vn,Ji.toDate=pn,Ji.toISOString=rn,Ji.inspect=an,Ji.toJSON=Sn,Ji.toString=sn,Ji.unix=gn,Ji.valueOf=yn,Ji.creationData=Yn,Ji.year=yi,Ji.isLeapYear=ge,Ji.weekYear=xn,Ji.isoWeekYear=Tn,Ji.quarter=Ji.quarters=Un,Ji.month=de,Ji.daysInMonth=he,Ji.week=Ji.weeks=xe,Ji.isoWeek=Ji.isoWeeks=Te,Ji.weeksInYear=Pn,Ji.isoWeeksInYear=bn,Ji.date=zi,Ji.day=Ji.days=He,Ji.weekday=Le,Ji.isoWeekday=Ge,Ji.dayOfYear=Cn,Ji.hour=Ji.hours=Oi,Ji.minute=Ji.minutes=Zi,Ji.second=Ji.seconds=$i,Ji.millisecond=Ji.milliseconds=Bi,Ji.utcOffset=bt,Ji.utc=Wt,Ji.local=Rt,Ji.parseZone=Ut,Ji.hasAlignedHourOffset=Ct,Ji.isDST=Ft,Ji.isLocal=Lt,Ji.isUtcOffset=Gt,Ji.isUtc=Vt,Ji.isUTC=Vt,Ji.zoneAbbr=Hn,Ji.zoneName=Ln,Ji.dates=k("dates accessor is deprecated. Use date instead.",zi),Ji.months=k("months accessor is deprecated. Use month instead",de),Ji.years=k("years accessor is deprecated. Use year instead",yi),Ji.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pt),Ji.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ht);var Qi=T.prototype;Qi.calendar=b,Qi.longDateFormat=P,Qi.invalidDate=W,Qi.ordinal=R,Qi.preparse=jn,Qi.postformat=jn,Qi.relativeTime=U,Qi.pastFuture=C,Qi.set=O,Qi.months=re,Qi.monthsShort=ae,Qi.monthsParse=ue,Qi.monthsRegex=fe,Qi.monthsShortRegex=ce,Qi.week=De,Qi.firstDayOfYear=Oe,Qi.firstDayOfWeek=Ye,Qi.weekdays=We,Qi.weekdaysMin=Ue,Qi.weekdaysShort=Re,Qi.weekdaysParse=Fe,Qi.weekdaysRegex=Ve,Qi.weekdaysShortRegex=je,Qi.weekdaysMinRegex=Ne,Qi.isPM=$e,Qi.meridiem=qe,Xe("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=k("moment.lang is deprecated. Use moment.locale instead.",Xe),e.langData=k("moment.langData is deprecated. Use moment.localeData instead.",tt);var Xi=Math.abs,Ki=rs("ms"),er=rs("s"),tr=rs("m"),nr=rs("h"),sr=rs("d"),ir=rs("w"),rr=rs("M"),ar=rs("y"),or=os("milliseconds"),ur=os("seconds"),lr=os("minutes"),dr=os("hours"),hr=os("days"),cr=os("months"),fr=os("years"),mr=Math.round,_r={s:45,m:45,h:22,d:26,M:11},yr=Math.abs,gr=Mt.prototype;return gr.abs=Bn,gr.add=Qn,gr.subtract=Xn,gr.as=ss,gr.asMilliseconds=Ki,gr.asSeconds=er,gr.asMinutes=tr,gr.asHours=nr,gr.asDays=sr,gr.asWeeks=ir,gr.asMonths=rr,gr.asYears=ar,gr.valueOf=is,gr._bubble=es,gr.get=as,gr.milliseconds=or,gr.seconds=ur,gr.minutes=lr,gr.hours=dr,gr.days=hr,gr.weeks=us,gr.months=cr,gr.years=fr,gr.humanize=fs,gr.toISOString=ms,gr.toString=ms,gr.toJSON=ms,gr.locale=cn,gr.localeData=fn,gr.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ms),gr.lang=Ii,Z("X",0,0,"unix"),Z("x",0,0,"valueOf"),Q("x",qs),Q("X",Qs),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.16.0",t(pt),e.fn=Ji,e.min=vt,e.max=St,e.now=Gi,e.utc=d,e.unix=Gn,e.months=In,e.isDate=a,e.locale=Xe,e.invalid=m,e.duration=jt,e.isMoment=p,e.weekdays=Zn,e.parseZone=Vn,e.localeData=tt,e.isDuration=kt,e.monthsShort=zn,e.weekdaysMin=qn,e.defineLocale=Ke,e.updateLocale=et,e.locales=nt,e.weekdaysShort=$n,e.normalizeUnits=H,e.relativeTimeRounding=hs,e.relativeTimeThreshold=cs,e.calendarFormat=Zt,e.prototype=Ji,e});

},{}],925:[function(require,module,exports){
"use strict";function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(r).map(function(e){return r[e]});if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=shouldUseNative()?Object.assign:function(e,r){for(var t,n,o=toObject(e),a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);if(Object.getOwnPropertySymbols){n=Object.getOwnPropertySymbols(t);for(var s=0;s<n.length;s++)propIsEnumerable.call(t,n[s])&&(o[n[s]]=t[n[s]])}}return o};

},{}],926:[function(require,module,exports){
"use strict";function isRetryError(r){return r&&"EPROMISERETRY"===r.code&&hasOwn.call(r,"retried")}function promiseRetry(r,e){var t,o;return"object"==typeof r&&"function"==typeof e&&(t=e,e=r,r=t),o=retry.operation(e),new Promise(function(e,t){o.attempt(function(n){Promise.resolve().then(function(){return r(function(r){throw isRetryError(r)&&(r=r.retried),errcode("Retrying","EPROMISERETRY",{retried:r})},n)}).then(e,function(r){isRetryError(r)&&(r=r.retried,o.retry(r||new Error))||t(r)})})})}var errcode=require("err-code"),retry=require("retry"),hasOwn=Object.prototype.hasOwnProperty;module.exports=promiseRetry;

},{"err-code":896,"retry":927}],927:[function(require,module,exports){
module.exports=require("./lib/retry");
},{"./lib/retry":928}],928:[function(require,module,exports){
var RetryOperation=require("./retry_operation");exports.operation=function(r){var t=exports.timeouts(r);return new RetryOperation(t,{forever:r&&r.forever,unref:r&&r.unref})},exports.timeouts=function(r){if(r instanceof Array)return[].concat(r);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var e in r)t[e]=r[e];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],n=0;n<t.retries;n++)o.push(this.createTimeout(n,t));return r&&r.forever&&!o.length&&o.push(this.createTimeout(n,t)),o.sort(function(r,t){return r-t}),o},exports.createTimeout=function(r,t){var e=t.randomize?Math.random()+1:1,o=Math.round(e*t.minTimeout*Math.pow(t.factor,r));return o=Math.min(o,t.maxTimeout)},exports.wrap=function(r,t,e){if(t instanceof Array&&(e=t,t=null),!e){e=[];for(var o in r)"function"==typeof r[o]&&e.push(o)}for(var n=0;n<e.length;n++){var i=e[n],a=r[i];r[i]=function(){var e=exports.operation(t),o=Array.prototype.slice.call(arguments),n=o.pop();o.push(function(r){e.retry(r)||(r&&(arguments[0]=e.mainError()),n.apply(this,arguments))}),e.attempt(function(){a.apply(r,o)})},r[i].options=t}};
},{"./retry_operation":929}],929:[function(require,module,exports){
function RetryOperation(t,e){"boolean"==typeof e&&(e={forever:e}),this._timeouts=t,this._options=e||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}module.exports=RetryOperation,RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},RetryOperation.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;this._errors.push(t);var e=this._timeouts.shift();if(void 0===e){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),e=this._timeouts.shift()}var o=this,i=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),this._options.unref&&o._timeout.unref()),o._fn(o._attempts)},e);return this._options.unref&&i.unref(),!0},RetryOperation.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var o=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){o._operationTimeoutCb()},o._operationTimeout)),this._fn(this._attempts)},RetryOperation.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},RetryOperation.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},RetryOperation.prototype.start=RetryOperation.prototype.try,RetryOperation.prototype.errors=function(){return this._errors},RetryOperation.prototype.attempts=function(){return this._attempts},RetryOperation.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,o=0,i=0;i<this._errors.length;i++){var r=this._errors[i],s=r.message,n=(t[s]||0)+1;t[s]=n,n>=o&&(e=r,o=n)}return e};
},{}],930:[function(require,module,exports){
!function(r){function e(r,e){if(r instanceof i)return r;if("string"!=typeof r)return null;if(r.length>O)return null;var t=e?D[pr]:D[sr];if(!t.test(r))return null;try{return new i(r,e)}catch(r){return null}}function t(r,t){var n=e(r,t);return n?n.version:null}function n(r,t){var n=e(r.trim().replace(/^[=v]+/,""),t);return n?n.version:null}function i(r,e){if(r instanceof i){if(r.loose===e)return r;r=r.version}else if("string"!=typeof r)throw new TypeError("Invalid Version: "+r);if(r.length>O)throw new TypeError("version is longer than "+O+" characters");if(!(this instanceof i))return new i(r,e);this.loose=e;var t=r.trim().match(e?D[pr]:D[sr]);if(!t)throw new TypeError("Invalid Version: "+r);if(this.raw=r,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>B||this.major<0)throw new TypeError("Invalid major version");if(this.minor>B||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>B||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var e=+r;if(e>=0&&e<B)return e}return r}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}function o(r,e,t,n){"string"==typeof t&&(n=t,t=void 0);try{return new i(r,t).inc(e,n).version}catch(r){return null}}function s(r,t){if(d(r,t))return null;var n=e(r),i=e(t);if(n.prerelease.length||i.prerelease.length){for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==i[o])return"pre"+o;return"prerelease"}for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==i[o])return o}function a(r,e){var t=_r.test(r),n=_r.test(e);return t&&n&&(r=+r,e=+e),t&&!n?-1:n&&!t?1:r<e?-1:r>e?1:0}function u(r,e){return a(e,r)}function p(r,e){return new i(r,e).major}function h(r,e){return new i(r,e).minor}function c(r,e){return new i(r,e).patch}function f(r,e,t){return new i(r,t).compare(e)}function l(r,e){return f(r,e,!0)}function v(r,e,t){return f(e,r,t)}function m(e,t){return e.sort(function(e,n){return r.compare(e,n,t)})}function g(e,t){return e.sort(function(e,n){return r.rcompare(e,n,t)})}function w(r,e,t){return f(r,e,t)>0}function y(r,e,t){return f(r,e,t)<0}function d(r,e,t){return 0===f(r,e,t)}function j(r,e,t){return 0!==f(r,e,t)}function b(r,e,t){return f(r,e,t)>=0}function E(r,e,t){return f(r,e,t)<=0}function $(r,e,t,n){var i;switch(e){case"===":"object"==typeof r&&(r=r.version),"object"==typeof t&&(t=t.version),i=r===t;break;case"!==":"object"==typeof r&&(r=r.version),"object"==typeof t&&(t=t.version),i=r!==t;break;case"":case"=":case"==":i=d(r,t,n);break;case"!=":i=j(r,t,n);break;case">":i=w(r,t,n);break;case">=":i=b(r,t,n);break;case"<":i=y(r,t,n);break;case"<=":i=E(r,t,n);break;default:throw new TypeError("Invalid operator: "+e)}return i}function k(r,e){if(r instanceof k){if(r.loose===e)return r;r=r.value}return this instanceof k?(this.loose=e,this.parse(r),void(this.semver===zr?this.value="":this.value=this.operator+this.semver.version)):new k(r,e)}function R(r,e){if(r instanceof R&&r.loose===e)return r;if(!(this instanceof R))return new R(r,e);if(this.loose=e,this.raw=r,this.set=r.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+r);this.format()}function S(r,e){return new R(r,e).set.map(function(r){return r.map(function(r){return r.value}).join(" ").trim().split(" ")})}function x(r,e){return r=A(r,e),r=T(r,e),r=M(r,e),r=_(r,e)}function I(r){return!r||"x"===r.toLowerCase()||"*"===r}function T(r,e){return r.trim().split(/\s+/).map(function(r){return V(r,e)}).join(" ")}function V(r,e){var t=e?D[br]:D[jr];return r.replace(t,function(r,e,t,n,i){var o;return I(e)?o="":I(t)?o=">="+e+".0.0 <"+(+e+1)+".0.0":I(n)?o=">="+e+"."+t+".0 <"+e+"."+(+t+1)+".0":i?("-"!==i.charAt(0)&&(i="-"+i),o=">="+e+"."+t+"."+n+i+" <"+e+"."+(+t+1)+".0"):o=">="+e+"."+t+"."+n+" <"+e+"."+(+t+1)+".0",o})}function A(r,e){return r.trim().split(/\s+/).map(function(r){return C(r,e)}).join(" ")}function C(r,e){var t=e?D[Sr]:D[Rr];return r.replace(t,function(r,e,t,n,i){var o;return I(e)?o="":I(t)?o=">="+e+".0.0 <"+(+e+1)+".0.0":I(n)?o="0"===e?">="+e+"."+t+".0 <"+e+"."+(+t+1)+".0":">="+e+"."+t+".0 <"+(+e+1)+".0.0":i?("-"!==i.charAt(0)&&(i="-"+i),o="0"===e?"0"===t?">="+e+"."+t+"."+n+i+" <"+e+"."+t+"."+(+n+1):">="+e+"."+t+"."+n+i+" <"+e+"."+(+t+1)+".0":">="+e+"."+t+"."+n+i+" <"+(+e+1)+".0.0"):o="0"===e?"0"===t?">="+e+"."+t+"."+n+" <"+e+"."+t+"."+(+n+1):">="+e+"."+t+"."+n+" <"+e+"."+(+t+1)+".0":">="+e+"."+t+"."+n+" <"+(+e+1)+".0.0",o})}function M(r,e){return r.split(/\s+/).map(function(r){return N(r,e)}).join(" ")}function N(r,e){r=r.trim();var t=e?D[gr]:D[mr];return r.replace(t,function(r,e,t,n,i,o){var s=I(t),a=s||I(n),u=a||I(i),p=u;return"="===e&&p&&(e=""),s?r=">"===e||"<"===e?"<0.0.0":"*":e&&p?(a&&(n=0),u&&(i=0),">"===e?(e=">=",a?(t=+t+1,n=0,i=0):u&&(n=+n+1,i=0)):"<="===e&&(e="<",a?t=+t+1:n=+n+1),r=e+t+"."+n+"."+i):a?r=">="+t+".0.0 <"+(+t+1)+".0.0":u&&(r=">="+t+"."+n+".0 <"+t+"."+(+n+1)+".0"),r})}function _(r,e){return r.trim().replace(D[Mr],"")}function z(r,e,t,n,i,o,s,a,u,p,h,c,f){return e=I(t)?"":I(n)?">="+t+".0.0":I(i)?">="+t+"."+n+".0":">="+e,a=I(u)?"":I(p)?"<"+(+u+1)+".0.0":I(h)?"<"+u+"."+(+p+1)+".0":c?"<="+u+"."+p+"."+h+"-"+c:"<="+a,(e+" "+a).trim()}function P(r,e){for(var t=0;t<r.length;t++)if(!r[t].test(e))return!1;if(e.prerelease.length){for(var t=0;t<r.length;t++)if(r[t].semver!==zr&&r[t].semver.prerelease.length>0){var n=r[t].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}function X(r,e,t){try{e=new R(e,t)}catch(r){return!1}return e.test(r)}function Z(r,e,t){return r.filter(function(r){return X(r,e,t)}).sort(function(r,e){return v(r,e,t)})[0]||null}function q(r,e){try{return new R(r,e).range||"*"}catch(r){return null}}function L(r,e,t){return G(r,e,"<",t)}function F(r,e,t){return G(r,e,">",t)}function G(r,e,t,n){r=new i(r,n),e=new R(e,n);var o,s,a,u,p;switch(t){case">":o=w,s=E,a=y,u=">",p=">=";break;case"<":o=y,s=b,a=w,u="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(X(r,e,n))return!1;for(var h=0;h<e.set.length;++h){var c=e.set[h],f=null,l=null;if(c.forEach(function(r){r.semver===zr&&(r=new k(">=0.0.0")),f=f||r,l=l||r,o(r.semver,f.semver,n)?f=r:a(r.semver,l.semver,n)&&(l=r)}),f.operator===u||f.operator===p)return!1;if((!l.operator||l.operator===u)&&s(r,l.semver))return!1;if(l.operator===p&&a(r,l.semver))return!1}return!0}"object"==typeof module&&module.exports===r&&(r=module.exports=i),r.SEMVER_SPEC_VERSION="2.0.0";var O=256,B=Number.MAX_SAFE_INTEGER||9007199254740991,D=r.re=[],H=r.src=[],J=0,K=J++;H[K]="0|[1-9]\\d*";var Q=J++;H[Q]="[0-9]+";var U=J++;H[U]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var W=J++;H[W]="("+H[K]+")\\.("+H[K]+")\\.("+H[K]+")";var Y=J++;H[Y]="("+H[Q]+")\\.("+H[Q]+")\\.("+H[Q]+")";var rr=J++;H[rr]="(?:"+H[K]+"|"+H[U]+")";var er=J++;H[er]="(?:"+H[Q]+"|"+H[U]+")";var tr=J++;H[tr]="(?:-("+H[rr]+"(?:\\."+H[rr]+")*))";var nr=J++;H[nr]="(?:-?("+H[er]+"(?:\\."+H[er]+")*))";var ir=J++;H[ir]="[0-9A-Za-z-]+";var or=J++;H[or]="(?:\\+("+H[ir]+"(?:\\."+H[ir]+")*))";var sr=J++,ar="v?"+H[W]+H[tr]+"?"+H[or]+"?";H[sr]="^"+ar+"$";var ur="[v=\\s]*"+H[Y]+H[nr]+"?"+H[or]+"?",pr=J++;H[pr]="^"+ur+"$";var hr=J++;H[hr]="((?:<|>)?=?)";var cr=J++;H[cr]=H[Q]+"|x|X|\\*";var fr=J++;H[fr]=H[K]+"|x|X|\\*";var lr=J++;H[lr]="[v=\\s]*("+H[fr]+")(?:\\.("+H[fr]+")(?:\\.("+H[fr]+")(?:"+H[tr]+")?"+H[or]+"?)?)?";var vr=J++;H[vr]="[v=\\s]*("+H[cr]+")(?:\\.("+H[cr]+")(?:\\.("+H[cr]+")(?:"+H[nr]+")?"+H[or]+"?)?)?";var mr=J++;H[mr]="^"+H[hr]+"\\s*"+H[lr]+"$";var gr=J++;H[gr]="^"+H[hr]+"\\s*"+H[vr]+"$";var wr=J++;H[wr]="(?:~>?)";var yr=J++;H[yr]="(\\s*)"+H[wr]+"\\s+",D[yr]=new RegExp(H[yr],"g");var dr="$1~",jr=J++;H[jr]="^"+H[wr]+H[lr]+"$";var br=J++;H[br]="^"+H[wr]+H[vr]+"$";var Er=J++;H[Er]="(?:\\^)";var $r=J++;H[$r]="(\\s*)"+H[Er]+"\\s+",D[$r]=new RegExp(H[$r],"g");var kr="$1^",Rr=J++;H[Rr]="^"+H[Er]+H[lr]+"$";var Sr=J++;H[Sr]="^"+H[Er]+H[vr]+"$";var xr=J++;H[xr]="^"+H[hr]+"\\s*("+ur+")$|^$";var Ir=J++;H[Ir]="^"+H[hr]+"\\s*("+ar+")$|^$";var Tr=J++;H[Tr]="(\\s*)"+H[hr]+"\\s*("+ur+"|"+H[lr]+")",D[Tr]=new RegExp(H[Tr],"g");var Vr="$1$2$3",Ar=J++;H[Ar]="^\\s*("+H[lr]+")\\s+-\\s+("+H[lr]+")\\s*$";var Cr=J++;H[Cr]="^\\s*("+H[vr]+")\\s+-\\s+("+H[vr]+")\\s*$";var Mr=J++;H[Mr]="(<|>)?=?\\s*\\*";for(var Nr=0;Nr<J;Nr++)D[Nr]||(D[Nr]=new RegExp(H[Nr]));r.parse=e,r.valid=t,r.clean=n,r.SemVer=i,i.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},i.prototype.inspect=function(){return'<SemVer "'+this+'">'},i.prototype.toString=function(){return this.version},i.prototype.compare=function(r){return r instanceof i||(r=new i(r,this.loose)),this.compareMain(r)||this.comparePre(r)},i.prototype.compareMain=function(r){return r instanceof i||(r=new i(r,this.loose)),a(this.major,r.major)||a(this.minor,r.minor)||a(this.patch,r.patch)},i.prototype.comparePre=function(r){if(r instanceof i||(r=new i(r,this.loose)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var e=0;do{var t=this.prerelease[e],n=r.prerelease[e];if(void 0===t&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===t)return-1;if(t!==n)return a(t,n)}while(++e)},i.prototype.inc=function(r,e){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);t===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+r)}return this.format(),this},r.inc=o,r.diff=s,r.compareIdentifiers=a;var _r=/^[0-9]+$/;r.rcompareIdentifiers=u,r.major=p,r.minor=h,r.patch=c,r.compare=f,r.compareLoose=l,r.rcompare=v,r.sort=m,r.rsort=g,r.gt=w,r.lt=y,r.eq=d,r.neq=j,r.gte=b,r.lte=E,r.cmp=$,r.Comparator=k;var zr={};k.prototype.parse=function(r){var e=this.loose?D[xr]:D[Ir],t=r.match(e);if(!t)throw new TypeError("Invalid comparator: "+r);this.operator=t[1],"="===this.operator&&(this.operator=""),t[2]?this.semver=new i(t[2],this.loose):this.semver=zr},k.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'},k.prototype.toString=function(){return this.value},k.prototype.test=function(r){return this.semver===zr||("string"==typeof r&&(r=new i(r,this.loose)),$(r,this.operator,this.semver,this.loose))},r.Range=R,R.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'},R.prototype.format=function(){return this.range=this.set.map(function(r){return r.join(" ").trim()}).join("||").trim(),this.range},R.prototype.toString=function(){return this.range},R.prototype.parseRange=function(r){var e=this.loose;r=r.trim();var t=e?D[Cr]:D[Ar];r=r.replace(t,z),r=r.replace(D[Tr],Vr),r=r.replace(D[yr],dr),r=r.replace(D[$r],kr),r=r.split(/\s+/).join(" ");var n=e?D[xr]:D[Ir],i=r.split(" ").map(function(r){return x(r,e)}).join(" ").split(/\s+/);return this.loose&&(i=i.filter(function(r){return!!r.match(n)})),i=i.map(function(r){return new k(r,e)})},r.toComparators=S,R.prototype.test=function(r){if(!r)return!1;"string"==typeof r&&(r=new i(r,this.loose));for(var e=0;e<this.set.length;e++)if(P(this.set[e],r))return!0;return!1},r.satisfies=X,r.maxSatisfying=Z,r.validRange=q,r.ltr=L,r.gtr=F,r.outside=G,"function"==typeof define&&define.amd&&define(r)}("object"==typeof exports?exports:"function"==typeof define&&define.amd?{}:semver={});

},{}],931:[function(require,module,exports){
(function (Buffer){
function Hash(t,i){this._block=new Buffer(t),this._finalSize=i,this._blockSize=t,this._len=0,this._s=0}Hash.prototype.update=function(t,i){"string"==typeof t&&(i=i||"utf8",t=new Buffer(t,i));for(var s=this._len+=t.length,e=this._s||0,h=0,o=this._block;e<s;){for(var l=Math.min(t.length,h+this._blockSize-e%this._blockSize),_=l-h,n=0;n<_;n++)o[e%this._blockSize+n]=t[n+h];e+=_,h+=_,e%this._blockSize===0&&this._update(o)}return this._s=e,this},Hash.prototype.digest=function(t){var i=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),i%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(i,this._blockSize-4);var s=this._update(this._block)||this._hash();return t?s.toString(t):s},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash;
}).call(this,require("buffer").Buffer)
},{"buffer":2}],932:[function(require,module,exports){
var exports=module.exports=function(e){e=e.toLowerCase();var r=exports[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};exports.sha=require("./sha"),exports.sha1=require("./sha1"),exports.sha224=require("./sha224"),exports.sha256=require("./sha256"),exports.sha384=require("./sha384"),exports.sha512=require("./sha512");

},{"./sha":933,"./sha1":934,"./sha224":935,"./sha256":936,"./sha384":937,"./sha512":938}],933:[function(require,module,exports){
(function (Buffer){
function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl5(t){return t<<5|t>>>27}function rotl30(t){return t<<30|t>>>2}function ft(t,i,h,r){return 0===t?i&h|~i&r:2===t?i&h|i&r|h&r:i^h^r}var inherits=require("inherits/inherits_browser"),Hash=require("./hash"),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(t){for(var i=this._w,h=0|this._a,r=0|this._b,s=0|this._c,e=0|this._d,n=0|this._e,_=0;_<16;++_)i[_]=t.readInt32BE(4*_);for(;_<80;++_)i[_]=i[_-3]^i[_-8]^i[_-14]^i[_-16];for(var a=0;a<80;++a){var o=~~(a/20),u=rotl5(h)+ft(o,r,s,e)+n+i[a]+K[o]|0;n=e,e=s,s=rotl30(r),r=h,h=u}this._a=h+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=e+this._d|0,this._e=n+this._e|0},Sha.prototype._hash=function(){var t=new Buffer(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=Sha;
}).call(this,require("buffer").Buffer)
},{"./hash":931,"buffer":2,"inherits/inherits_browser":899}],934:[function(require,module,exports){
(function (Buffer){
function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl1(t){return t<<1|t>>>31}function rotl5(t){return t<<5|t>>>27}function rotl30(t){return t<<30|t>>>2}function ft(t,i,r,h){return 0===t?i&r|~i&h:2===t?i&r|i&h|r&h:i^r^h}var inherits=require("inherits/inherits_browser"),Hash=require("./hash"),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(t){for(var i=this._w,r=0|this._a,h=0|this._b,s=0|this._c,n=0|this._d,e=0|this._e,_=0;_<16;++_)i[_]=t.readInt32BE(4*_);for(;_<80;++_)i[_]=rotl1(i[_-3]^i[_-8]^i[_-14]^i[_-16]);for(var o=0;o<80;++o){var a=~~(o/20),u=rotl5(r)+ft(a,h,s,n)+e+i[o]+K[a]|0;e=n,n=s,s=rotl30(h),h=r,r=u}this._a=r+this._a|0,this._b=h+this._b|0,this._c=s+this._c|0,this._d=n+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var t=new Buffer(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=Sha1;

}).call(this,require("buffer").Buffer)
},{"./hash":931,"buffer":2,"inherits/inherits_browser":899}],935:[function(require,module,exports){
(function (Buffer){
function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}var inherits=require("inherits/inherits_browser"),Sha256=require("./sha256"),Hash=require("./hash"),W=new Array(64);inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var t=new Buffer(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},module.exports=Sha224;

}).call(this,require("buffer").Buffer)
},{"./hash":931,"./sha256":936,"buffer":2,"inherits/inherits_browser":899}],936:[function(require,module,exports){
(function (Buffer){
function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function ch(t,i,h){return h^t&(i^h)}function maj(t,i,h){return t&i|h&(t|i)}function sigma0(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function sigma1(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function gamma0(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function gamma1(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var inherits=require("inherits/inherits_browser"),Hash=require("./hash"),K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(t){for(var i=this._w,h=0|this._a,s=0|this._b,r=0|this._c,n=0|this._d,_=0|this._e,e=0|this._f,a=0|this._g,u=0|this._h,o=0;o<16;++o)i[o]=t.readInt32BE(4*o);for(;o<64;++o)i[o]=gamma1(i[o-2])+i[o-7]+gamma0(i[o-15])+i[o-16]|0;for(var f=0;f<64;++f){var c=u+sigma1(_)+ch(_,e,a)+K[f]+i[f]|0,m=sigma0(h)+maj(h,s,r)|0;u=a,a=e,e=_,_=n+c|0,n=r,r=s,s=h,h=c+m|0}this._a=h+this._a|0,this._b=s+this._b|0,this._c=r+this._c|0,this._d=n+this._d|0,this._e=_+this._e|0,this._f=e+this._f|0,this._g=a+this._g|0,this._h=u+this._h|0},Sha256.prototype._hash=function(){var t=new Buffer(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},module.exports=Sha256;

}).call(this,require("buffer").Buffer)
},{"./hash":931,"buffer":2,"inherits/inherits_browser":899}],937:[function(require,module,exports){
(function (Buffer){
function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}var inherits=require("inherits/inherits_browser"),SHA512=require("./sha512"),Hash=require("./hash"),W=new Array(160);inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){function h(h,t,s){i.writeInt32BE(h,s),i.writeInt32BE(t,s+4)}var i=new Buffer(48);return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),i},module.exports=Sha384;

}).call(this,require("buffer").Buffer)
},{"./hash":931,"./sha512":938,"buffer":2,"inherits/inherits_browser":899}],938:[function(require,module,exports){
(function (Buffer){
function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(h,t,i){return i^h&(t^i)}function maj(h,t,i){return h&t|i&(h|t)}function sigma0(h,t){return(h>>>28|t<<4)^(t>>>2|h<<30)^(t>>>7|h<<25)}function sigma1(h,t){return(h>>>14|t<<18)^(h>>>18|t<<14)^(t>>>9|h<<23)}function Gamma0(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^h>>>7}function Gamma0l(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^(h>>>7|t<<25)}function Gamma1(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^h>>>6}function Gamma1l(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^(h>>>6|t<<26)}function getCarry(h,t){return h>>>0<t>>>0?1:0}var inherits=require("inherits/inherits_browser"),Hash=require("./hash"),K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(h){for(var t=this._w,i=0|this._ah,s=0|this._bh,_=0|this._ch,r=0|this._dh,a=0|this._eh,e=0|this._fh,l=0|this._gh,n=0|this._hh,g=0|this._al,f=0|this._bl,u=0|this._cl,c=0|this._dl,m=0|this._el,o=0|this._fl,y=0|this._gl,C=0|this._hl,d=0;d<32;d+=2)t[d]=h.readInt32BE(4*d),t[d+1]=h.readInt32BE(4*d+4);for(;d<160;d+=2){var b=t[d-30],p=t[d-30+1],v=Gamma0(b,p),G=Gamma0l(p,b);b=t[d-4],p=t[d-4+1];var w=Gamma1(b,p),S=Gamma1l(p,b),B=t[d-14],E=t[d-14+1],I=t[d-32],j=t[d-32+1],H=G+E|0,q=v+B+getCarry(H,G)|0;H=H+S|0,q=q+w+getCarry(H,S)|0,H=H+j|0,q=q+I+getCarry(H,j)|0,t[d]=q,t[d+1]=H}for(var W=0;W<160;W+=2){q=t[W],H=t[W+1];var x=maj(i,s,_),A=maj(g,f,u),k=sigma0(i,g),z=sigma0(g,i),D=sigma1(a,m),F=sigma1(m,a),J=K[W],L=K[W+1],M=Ch(a,e,l),N=Ch(m,o,y),O=C+F|0,P=n+D+getCarry(O,C)|0;O=O+N|0,P=P+M+getCarry(O,N)|0,O=O+L|0,P=P+J+getCarry(O,L)|0,O=O+H|0,P=P+q+getCarry(O,H)|0;var Q=z+A|0,R=k+x+getCarry(Q,z)|0;n=l,C=y,l=e,y=o,e=a,o=m,m=c+O|0,a=r+P+getCarry(m,c)|0,r=_,c=u,_=s,u=f,s=i,f=g,g=O+Q|0,i=P+R+getCarry(g,O)|0}this._al=this._al+g|0,this._bl=this._bl+f|0,this._cl=this._cl+u|0,this._dl=this._dl+c|0,this._el=this._el+m|0,this._fl=this._fl+o|0,this._gl=this._gl+y|0,this._hl=this._hl+C|0,this._ah=this._ah+i+getCarry(this._al,g)|0,this._bh=this._bh+s+getCarry(this._bl,f)|0,this._ch=this._ch+_+getCarry(this._cl,u)|0,this._dh=this._dh+r+getCarry(this._dl,c)|0,this._eh=this._eh+a+getCarry(this._el,m)|0,this._fh=this._fh+e+getCarry(this._fl,o)|0,this._gh=this._gh+l+getCarry(this._gl,y)|0,this._hh=this._hh+n+getCarry(this._hl,C)|0},Sha512.prototype._hash=function(){function h(h,i,s){t.writeInt32BE(h,s),t.writeInt32BE(i,s+4)}var t=new Buffer(64);return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),h(this._gh,this._gl,48),h(this._hh,this._hl,56),t},module.exports=Sha512;

}).call(this,require("buffer").Buffer)
},{"./hash":931,"buffer":2,"inherits/inherits_browser":899}],939:[function(require,module,exports){
(function (global){
var location=global.location||{},twemoji=function(){"use strict";function d(d){return document.createTextNode(d)}function u(d){return d.replace(x,b)}function c(d,u){return"".concat(u.base,u.size,"/",d,u.ext)}function e(d,u){for(var c,f,a=d.childNodes,t=a.length;t--;)c=a[t],f=c.nodeType,3===f?u.push(c):1!==f||N.test(c.nodeName)||e(c,u);return u}function f(d,u){return p("️"===u?d.slice(0,-1):3===d.length&&"️"===d.charAt(1)?d.charAt(0)+d.charAt(2):d)}function a(u,c){for(var a,t,b,n,r,o,i,s,l,p,m,x,N,C,A=e(u,[]),E=A.length;E--;){for(b=!1,n=document.createDocumentFragment(),r=A[E],o=r.nodeValue,s=0;i=g.exec(o);){if(l=i.index,l!==s&&n.appendChild(d(o.slice(s,l))),m=i[0],x=i[1],N=i[2],s=l+m.length,"︎"!==N&&(C=c.callback(f(x,N),c,N))){p=new Image,p.onerror=h.onerror,p.setAttribute("draggable","false"),a=c.attributes(x,N);for(t in a)a.hasOwnProperty(t)&&0!==t.indexOf("on")&&!p.hasAttribute(t)&&p.setAttribute(t,a[t]);p.className=c.className,p.alt=m,p.src=C,b=!0,n.appendChild(p)}p||n.appendChild(d(m)),p=null}b&&(s<o.length&&n.appendChild(d(o.slice(s))),r.parentNode.replaceChild(n,r))}return u}function t(d,c){return s(d,function(d,e,a){var t,b,n,r=d;if("︎"!==a&&(n=c.callback(f(e,a),c,a))){r="<img ".concat('class="',c.className,'" ','draggable="false" ','alt="',d,'"',' src="',n,'"'),t=c.attributes(e,a);for(b in t)t.hasOwnProperty(b)&&0!==b.indexOf("on")&&r.indexOf(" "+b+"=")===-1&&(r=r.concat(" ",b,'="',u(t[b]),'"'));r=r.concat(">")}return r})}function b(d){return m[d]}function n(){return null}function r(d){return"number"==typeof d?d+"x"+d:d}function o(d){var u="string"==typeof d?parseInt(d,16):d;return u<65536?C(u):(u-=65536,C(55296+(u>>10),56320+(1023&u)))}function i(d,u){return u&&"function"!=typeof u||(u={callback:u}),("string"==typeof d?t:a)(d,{callback:u.callback||c,attributes:"function"==typeof u.attributes?u.attributes:n,base:"string"==typeof u.base?u.base:h.base,ext:u.ext||h.ext,size:u.folder||r(u.size||h.size),className:u.className||h.className})}function s(d,u){return String(d).replace(g,u)}function l(d){g.lastIndex=0;var u=g.test(d);return g.lastIndex=0,u}function p(d,u){for(var c=[],e=0,f=0,a=0;a<d.length;)e=d.charCodeAt(a++),f?(c.push((65536+(f-55296<<10)+(e-56320)).toString(16)),f=0):55296<=e&&e<=56319?f=e:c.push(e.toString(16));return c.join(u||"-")}var h={base:("https:"===location.protocol?"https:":"http:")+"//twemoji.maxcdn.com/",ext:".png",size:"36x36",className:"emoji",convert:{fromCodePoint:o,toCodePoint:p},onerror:function(){this.parentNode&&this.parentNode.replaceChild(d(this.alt),this)},parse:i,replace:s,test:l},m={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},g=/((?:\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddef\ud83c\uddf5|\ud83c\uddee\ud83c\uddf9|\ud83c\uddec\ud83c\udde7|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\udde9\ud83c\uddea|\u0039\ufe0f?\u20e3|\u0038\ufe0f?\u20e3|\u0037\ufe0f?\u20e3|\u0036\ufe0f?\u20e3|\u0035\ufe0f?\u20e3|\u0034\ufe0f?\u20e3|\u0033\ufe0f?\u20e3|\u0032\ufe0f?\u20e3|\u0031\ufe0f?\u20e3|\u0030\ufe0f?\u20e3|\u0023\ufe0f?\u20e3|\ud83d\udeb3|\ud83d\udeb1|\ud83d\udeb0|\ud83d\udeaf|\ud83d\udeae|\ud83d\udea6|\ud83d\udea3|\ud83d\udea1|\ud83d\udea0|\ud83d\ude9f|\ud83d\ude9e|\ud83d\ude9d|\ud83d\ude9c|\ud83d\ude9b|\ud83d\ude98|\ud83d\ude96|\ud83d\ude94|\ud83d\ude90|\ud83d\ude8e|\ud83d\ude8d|\ud83d\ude8b|\ud83d\ude8a|\ud83d\ude88|\ud83d\ude86|\ud83d\ude82|\ud83d\ude81|\ud83d\ude36|\ud83d\ude34|\ud83d\ude2f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude27|\ud83d\ude26|\ud83d\ude1f|\ud83d\ude1b|\ud83d\ude19|\ud83d\ude17|\ud83d\ude15|\ud83d\ude11|\ud83d\ude10|\ud83d\ude0e|\ud83d\ude08|\ud83d\ude07|\ud83d\ude00|\ud83d\udd67|\ud83d\udd66|\ud83d\udd65|\ud83d\udd64|\ud83d\udd63|\ud83d\udd62|\ud83d\udd61|\ud83d\udd60|\ud83d\udd5f|\ud83d\udd5e|\ud83d\udd5d|\ud83d\udd5c|\ud83d\udd2d|\ud83d\udd2c|\ud83d\udd15|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd06|\ud83d\udd05|\ud83d\udd04|\ud83d\udd02|\ud83d\udd01|\ud83d\udd00|\ud83d\udcf5|\ud83d\udcef|\ud83d\udced|\ud83d\udcec|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcad|\ud83d\udc6d|\ud83d\udc6c|\ud83d\udc65|\ud83d\udc2a|\ud83d\udc16|\ud83d\udc15|\ud83d\udc13|\ud83d\udc10|\ud83d\udc0f|\ud83d\udc0b|\ud83d\udc0a|\ud83d\udc09|\ud83d\udc08|\ud83d\udc07|\ud83d\udc06|\ud83d\udc05|\ud83d\udc04|\ud83d\udc03|\ud83d\udc02|\ud83d\udc01|\ud83d\udc00|\ud83c\udfe4|\ud83c\udfc9|\ud83c\udfc7|\ud83c\udf7c|\ud83c\udf50|\ud83c\udf4b|\ud83c\udf33|\ud83c\udf32|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1c|\ud83c\udf1a|\ud83c\udf18|\ud83c\udccf|\ud83c\udd70|\ud83c\udd71|\ud83c\udd7e|\ud83c\udd8e|\ud83c\udd91|\ud83c\udd92|\ud83c\udd93|\ud83c\udd94|\ud83c\udd95|\ud83c\udd96|\ud83c\udd97|\ud83c\udd98|\ud83c\udd99|\ud83c\udd9a|\ud83d\udc77|\ud83d\udec5|\ud83d\udec4|\ud83d\udec3|\ud83d\udec2|\ud83d\udec1|\ud83d\udebf|\ud83d\udeb8|\ud83d\udeb7|\ud83d\udeb5|\ud83c\ude01|\ud83c\ude02|\ud83c\ude32|\ud83c\ude33|\ud83c\ude34|\ud83c\ude35|\ud83c\ude36|\ud83c\ude37|\ud83c\ude38|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude50|\ud83c\ude51|\ud83c\udf00|\ud83c\udf01|\ud83c\udf02|\ud83c\udf03|\ud83c\udf04|\ud83c\udf05|\ud83c\udf06|\ud83c\udf07|\ud83c\udf08|\ud83c\udf09|\ud83c\udf0a|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf0f|\ud83c\udf11|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf19|\ud83c\udf1b|\ud83c\udf1f|\ud83c\udf20|\ud83c\udf30|\ud83c\udf31|\ud83c\udf34|\ud83c\udf35|\ud83c\udf37|\ud83c\udf38|\ud83c\udf39|\ud83c\udf3a|\ud83c\udf3b|\ud83c\udf3c|\ud83c\udf3d|\ud83c\udf3e|\ud83c\udf3f|\ud83c\udf40|\ud83c\udf41|\ud83c\udf42|\ud83c\udf43|\ud83c\udf44|\ud83c\udf45|\ud83c\udf46|\ud83c\udf47|\ud83c\udf48|\ud83c\udf49|\ud83c\udf4a|\ud83c\udf4c|\ud83c\udf4d|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf51|\ud83c\udf52|\ud83c\udf53|\ud83c\udf54|\ud83c\udf55|\ud83c\udf56|\ud83c\udf57|\ud83c\udf58|\ud83c\udf59|\ud83c\udf5a|\ud83c\udf5b|\ud83c\udf5c|\ud83c\udf5d|\ud83c\udf5e|\ud83c\udf5f|\ud83c\udf60|\ud83c\udf61|\ud83c\udf62|\ud83c\udf63|\ud83c\udf64|\ud83c\udf65|\ud83c\udf66|\ud83c\udf67|\ud83c\udf68|\ud83c\udf69|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6e|\ud83c\udf6f|\ud83c\udf70|\ud83c\udf71|\ud83c\udf72|\ud83c\udf73|\ud83c\udf74|\ud83c\udf75|\ud83c\udf76|\ud83c\udf77|\ud83c\udf78|\ud83c\udf79|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf80|\ud83c\udf81|\ud83c\udf82|\ud83c\udf83|\ud83c\udf84|\ud83c\udf85|\ud83c\udf86|\ud83c\udf87|\ud83c\udf88|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf8b|\ud83c\udf8c|\ud83c\udf8d|\ud83c\udf8e|\ud83c\udf8f|\ud83c\udf90|\ud83c\udf91|\ud83c\udf92|\ud83c\udf93|\ud83c\udfa0|\ud83c\udfa1|\ud83c\udfa2|\ud83c\udfa3|\ud83c\udfa4|\ud83c\udfa5|\ud83c\udfa6|\ud83c\udfa7|\ud83c\udfa8|\ud83c\udfa9|\ud83c\udfaa|\ud83c\udfab|\ud83c\udfac|\ud83c\udfad|\ud83c\udfae|\ud83c\udfaf|\ud83c\udfb0|\ud83c\udfb1|\ud83c\udfb2|\ud83c\udfb3|\ud83c\udfb4|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb7|\ud83c\udfb8|\ud83c\udfb9|\ud83c\udfba|\ud83c\udfbb|\ud83c\udfbc|\ud83c\udfbd|\ud83c\udfbe|\ud83c\udfbf|\ud83c\udfc0|\ud83c\udfc1|\ud83c\udfc2|\ud83c\udfc3|\ud83c\udfc4|\ud83c\udfc6|\ud83c\udfc8|\ud83c\udfca|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfe7|\ud83c\udfe8|\ud83c\udfe9|\ud83c\udfea|\ud83c\udfeb|\ud83c\udfec|\ud83c\udfed|\ud83c\udfee|\ud83c\udfef|\ud83c\udff0|\ud83d\udc0c|\ud83d\udc0d|\ud83d\udc0e|\ud83d\udc11|\ud83d\udc12|\ud83d\udc14|\ud83d\udc17|\ud83d\udc18|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc1b|\ud83d\udc1c|\ud83d\udc1d|\ud83d\udc1e|\ud83d\udc1f|\ud83d\udc20|\ud83d\udc21|\ud83d\udc22|\ud83d\udc23|\ud83d\udc24|\ud83d\udc25|\ud83d\udc26|\ud83d\udc27|\ud83d\udc28|\ud83d\udc29|\ud83d\udc2b|\ud83d\udc2c|\ud83d\udc2d|\ud83d\udc2e|\ud83d\udc2f|\ud83d\udc30|\ud83d\udc31|\ud83d\udc32|\ud83d\udc33|\ud83d\udc34|\ud83d\udc35|\ud83d\udc36|\ud83d\udc37|\ud83d\udc38|\ud83d\udc39|\ud83d\udc3a|\ud83d\udc3b|\ud83d\udc3c|\ud83d\udc3d|\ud83d\udc3e|\ud83d\udc40|\ud83d\udc42|\ud83d\udc43|\ud83d\udc44|\ud83d\udc45|\ud83d\udc46|\ud83d\udc47|\ud83d\udc48|\ud83d\udc49|\ud83d\udc4a|\ud83d\udc4b|\ud83d\udc4c|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4f|\ud83d\udc50|\ud83d\udc51|\ud83d\udc52|\ud83d\udc53|\ud83d\udc54|\ud83d\udc55|\ud83d\udc56|\ud83d\udc57|\ud83d\udc58|\ud83d\udc59|\ud83d\udc5a|\ud83d\udc5b|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5e|\ud83d\udc5f|\ud83d\udc60|\ud83d\udc61|\ud83d\udc62|\ud83d\udc63|\ud83d\udc64|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc6a|\ud83d\udc6b|\ud83d\udc6e|\ud83d\udc6f|\ud83d\udc70|\ud83d\udc71|\ud83d\udc72|\ud83d\udc73|\ud83d\udc74|\ud83d\udc75|\ud83d\udc76|\ud83d\udeb4|\ud83d\udc78|\ud83d\udc79|\ud83d\udc7a|\ud83d\udc7b|\ud83d\udc7c|\ud83d\udc7d|\ud83d\udc7e|\ud83d\udc7f|\ud83d\udc80|\ud83d\udc81|\ud83d\udc82|\ud83d\udc83|\ud83d\udc84|\ud83d\udc85|\ud83d\udc86|\ud83d\udc87|\ud83d\udc88|\ud83d\udc89|\ud83d\udc8a|\ud83d\udc8b|\ud83d\udc8c|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc8f|\ud83d\udc90|\ud83d\udc91|\ud83d\udc92|\ud83d\udc93|\ud83d\udc94|\ud83d\udc95|\ud83d\udc96|\ud83d\udc97|\ud83d\udc98|\ud83d\udc99|\ud83d\udc9a|\ud83d\udc9b|\ud83d\udc9c|\ud83d\udc9d|\ud83d\udc9e|\ud83d\udc9f|\ud83d\udca0|\ud83d\udca1|\ud83d\udca2|\ud83d\udca3|\ud83d\udca4|\ud83d\udca5|\ud83d\udca6|\ud83d\udca7|\ud83d\udca8|\ud83d\udca9|\ud83d\udcaa|\ud83d\udcab|\ud83d\udcac|\ud83d\udcae|\ud83d\udcaf|\ud83d\udcb0|\ud83d\udcb1|\ud83d\udcb2|\ud83d\udcb3|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb8|\ud83d\udcb9|\ud83d\udcba|\ud83d\udcbb|\ud83d\udcbc|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcc1|\ud83d\udcc2|\ud83d\udcc3|\ud83d\udcc4|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcca|\ud83d\udccb|\ud83d\udccc|\ud83d\udccd|\ud83d\udcce|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd1|\ud83d\udcd2|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd5|\ud83d\udcd6|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcda|\ud83d\udcdb|\ud83d\udcdc|\ud83d\udcdd|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udce2|\ud83d\udce3|\ud83d\udce4|\ud83d\udce5|\ud83d\udce6|\ud83d\udce7|\ud83d\udce8|\ud83d\udce9|\ud83d\udcea|\ud83d\udceb|\ud83d\udcee|\ud83d\udcf0|\ud83d\udcf1|\ud83d\udcf2|\ud83d\udcf3|\ud83d\udcf4|\ud83d\udcf6|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udcfc|\ud83d\udd03|\ud83d\udd0a|\ud83d\udd0b|\ud83d\udd0c|\ud83d\udd0d|\ud83d\udd0e|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd12|\ud83d\udd13|\ud83d\udd14|\ud83d\udd16|\ud83d\udd17|\ud83d\udd18|\ud83d\udd19|\ud83d\udd1a|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd1d|\ud83d\udd1e|\ud83d\udd1f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd22|\ud83d\udd23|\ud83d\udd24|\ud83d\udd25|\ud83d\udd26|\ud83d\udd27|\ud83d\udd28|\ud83d\udd29|\ud83d\udd2a|\ud83d\udd2b|\ud83d\udd2e|\ud83d\udd2f|\ud83d\udd30|\ud83d\udd31|\ud83d\udd32|\ud83d\udd33|\ud83d\udd34|\ud83d\udd35|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39|\ud83d\udd3a|\ud83d\udd3b|\ud83d\udd3c|\ud83d\udd3d|\ud83d\udd50|\ud83d\udd51|\ud83d\udd52|\ud83d\udd53|\ud83d\udd54|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd5b|\ud83d\uddfb|\ud83d\uddfc|\ud83d\uddfd|\ud83d\uddfe|\ud83d\uddff|\ud83d\ude01|\ud83d\ude02|\ud83d\ude03|\ud83d\ude04|\ud83d\ude05|\ud83d\ude06|\ud83d\ude09|\ud83d\ude0a|\ud83d\ude0b|\ud83d\ude0c|\ud83d\ude0d|\ud83d\ude0f|\ud83d\ude12|\ud83d\ude13|\ud83d\ude14|\ud83d\ude16|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1e|\ud83d\ude20|\ud83d\ude21|\ud83d\ude22|\ud83d\ude23|\ud83d\ude24|\ud83d\ude25|\ud83d\ude28|\ud83d\ude29|\ud83d\ude2a|\ud83d\ude2b|\ud83d\ude2d|\ud83d\ude30|\ud83d\ude31|\ud83d\ude32|\ud83d\ude33|\ud83d\ude35|\ud83d\ude37|\ud83d\ude38|\ud83d\ude39|\ud83d\ude3a|\ud83d\ude3b|\ud83d\ude3c|\ud83d\ude3d|\ud83d\ude3e|\ud83d\ude3f|\ud83d\ude40|\ud83d\ude45|\ud83d\ude46|\ud83d\ude47|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\ude4b|\ud83d\ude4c|\ud83d\ude4d|\ud83d\ude4e|\ud83d\ude4f|\ud83d\ude80|\ud83d\ude83|\ud83d\ude84|\ud83d\ude85|\ud83d\ude87|\ud83d\ude89|\ud83d\ude8c|\ud83d\ude8f|\ud83d\ude91|\ud83d\ude92|\ud83d\ude93|\ud83d\ude95|\ud83d\ude97|\ud83d\ude99|\ud83d\ude9a|\ud83d\udea2|\ud83d\udea4|\ud83d\udea5|\ud83d\udea7|\ud83d\udea8|\ud83d\udea9|\ud83d\udeaa|\ud83d\udeab|\ud83d\udeac|\ud83d\udead|\ud83d\udeb2|\ud83d\udeb6|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebb|\ud83d\udebc|\ud83d\udebd|\ud83d\udebe|\ud83d\udec0|\ud83c\udde6|\ud83c\udde7|\ud83c\udde8|\ud83c\udde9|\ud83c\uddea|\ud83c\uddeb|\ud83c\uddec|\ud83c\udded|\ud83c\uddee|\ud83c\uddef|\ud83c\uddf0|\ud83c\uddf1|\ud83c\uddf2|\ud83c\uddf3|\ud83c\uddf4|\ud83c\uddf5|\ud83c\uddf6|\ud83c\uddf7|\ud83c\uddf8|\ud83c\uddf9|\ud83c\uddfa|\ud83c\uddfb|\ud83c\uddfc|\ud83c\uddfd|\ud83c\uddfe|\ud83c\uddff|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf10|\ud83c\udf12|\ud83c\udf16|\ud83c\udf17|\ue50a|\u3030|\u27b0|\u2797|\u2796|\u2795|\u2755|\u2754|\u2753|\u274e|\u274c|\u2728|\u270b|\u270a|\u2705|\u26ce|\u23f3|\u23f0|\u23ec|\u23eb|\u23ea|\u23e9|\u2122|\u27bf|\u00a9|\u00ae)|(?:(?:\ud83c\udc04|\ud83c\udd7f|\ud83c\ude1a|\ud83c\ude2f|\u3299|\u303d|\u2b55|\u2b50|\u2b1c|\u2b1b|\u2b07|\u2b06|\u2b05|\u2935|\u2934|\u27a1|\u2764|\u2757|\u2747|\u2744|\u2734|\u2733|\u2716|\u2714|\u2712|\u270f|\u270c|\u2709|\u2708|\u2702|\u26fd|\u26fa|\u26f5|\u26f3|\u26f2|\u26ea|\u26d4|\u26c5|\u26c4|\u26be|\u26bd|\u26ab|\u26aa|\u26a1|\u26a0|\u2693|\u267f|\u267b|\u3297|\u2666|\u2665|\u2663|\u2660|\u2653|\u2652|\u2651|\u2650|\u264f|\u264e|\u264d|\u264c|\u264b|\u264a|\u2649|\u2648|\u263a|\u261d|\u2615|\u2614|\u2611|\u260e|\u2601|\u2600|\u25fe|\u25fd|\u25fc|\u25fb|\u25c0|\u25b6|\u25ab|\u25aa|\u24c2|\u231b|\u231a|\u21aa|\u21a9|\u2199|\u2198|\u2197|\u2196|\u2195|\u2194|\u2139|\u2049|\u203c|\u2668)([\uFE0E\uFE0F]?)))/g,x=/[&<>'"]/g,N=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA/,C=String.fromCharCode;return h}();location.protocol||(twemoji.base=twemoji.base.replace(/^http:/,"")),module.exports=twemoji;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],940:[function(require,module,exports){
!function(){"use strict";function r(r){var n=encodeURIComponent(r),t=n.replace(/%([0-9A-F]{2})/g,function(r,n){return String.fromCharCode(parseInt(n,16))});return t}function n(n){var t=r(n),o=i(t);return o}function t(n){var t=r(n);return btoa(t)}function o(r){var n=r.replace(/(.)/g,function(r,n){var t=n.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t});return decodeURIComponent(n)}function e(r){var n=f(r);return o(n)}function a(r){var n=atob(r);return o(n)}function f(r){var n=Array.prototype.map.call(r,function(r){return String.fromCharCode(r)}).join("");return n}function u(r){var n=f(r);return btoa(n)}function i(r){var n;return n="undefined"!=typeof Uint8Array?new Uint8Array(r.length):[],Array.prototype.forEach.call(r,function(r,t){n[t]=r.charCodeAt(0)}),n}function c(r){var n=atob(r),t=i(n);return t}window.Unibabel={utf8ToBinaryString:r,utf8ToBuffer:n,utf8ToBase64:t,binaryStringToUtf8:o,bufferToUtf8:e,base64ToUtf8:a,bufferToBinaryString:f,bufferToBase64:u,binaryStringToBuffer:i,base64ToBuffer:c,strToUtf8Arr:n,utf8ArrToStr:e,arrToBase64:u,base64ToArr:c}}();

},{}],941:[function(require,module,exports){
(function (global){
var rng,crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){var _rnds8=new Uint8Array(16);rng=function(){return crypto.getRandomValues(_rnds8),_rnds8}}if(!rng){var _rnds=new Array(16);rng=function(){for(var r,n=0;n<16;n++)0===(3&n)&&(r=4294967296*Math.random()),_rnds[n]=r>>>((3&n)<<3)&255;return _rnds}}module.exports=rng;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],942:[function(require,module,exports){
function parse(e,s,r){var t=s&&r||0,n=0;for(s=s||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){n<16&&(s[t+n++]=_hexToByte[e])});n<16;)s[t+n++]=0;return s}function unparse(e,s){var r=s||0,t=_byteToHex;return t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+"-"+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]+t[e[r++]]}function v1(e,s,r){var t=s&&r||0,n=s||[];e=e||{};var o=void 0!==e.clockseq?e.clockseq:_clockseq,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:_lastNSecs+1,c=a-_lastMSecs+(u-_lastNSecs)/1e4;if(c<0&&void 0===e.clockseq&&(o=o+1&16383),(c<0||a>_lastMSecs)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=a,_lastNSecs=u,_clockseq=o,a+=122192928e5;var i=(1e4*(268435455&a)+u)%4294967296;n[t++]=i>>>24&255,n[t++]=i>>>16&255,n[t++]=i>>>8&255,n[t++]=255&i;var _=a/4294967296*1e4&268435455;n[t++]=_>>>8&255,n[t++]=255&_,n[t++]=_>>>24&15|16,n[t++]=_>>>16&255,n[t++]=o>>>8|128,n[t++]=255&o;for(var d=e.node||_nodeId,v=0;v<6;v++)n[t+v]=d[v];return s?s:unparse(n)}function v4(e,s,r){var t=s&&r||0;"string"==typeof e&&(s="binary"==e?new Array(16):null,e=null),e=e||{};var n=e.random||(e.rng||_rng)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,s)for(var o=0;o<16;o++)s[t+o]=n[o];return s||unparse(n)}for(var _rng=require("./rng"),_byteToHex=[],_hexToByte={},i=0;i<256;i++)_byteToHex[i]=(i+256).toString(16).substr(1),_hexToByte[_byteToHex[i]]=i;var _seedBytes=_rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0,uuid=v4;uuid.v1=v1,uuid.v4=v4,uuid.parse=parse,uuid.unparse=unparse,module.exports=uuid;

},{"./rng":941}],943:[function(require,module,exports){
!function(t,e){"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&"object"==typeof define.amd?define(e):this[t]=e()}("validator",function(t){"use strict";function e(t,e){t=t||{};for(var r in e)"undefined"==typeof t[r]&&(t[r]=e[r]);return t}function r(t){var e="(\\"+t.symbol.replace(/\./g,"\\.")+")"+(t.require_symbol?"":"?"),r="-?",n="[1-9]\\d*",i="[1-9]\\d{0,2}(\\"+t.thousands_separator+"\\d{3})*",o=["0",n,i],u="("+o.join("|")+")?",s="(\\"+t.decimal_separator+"\\d{2})?",a=u+s;return t.allow_negatives&&!t.parens_for_negatives&&(t.negative_sign_after_digits?a+=r:t.negative_sign_before_digits&&(a=r+a)),t.allow_negative_sign_placeholder?a="( (?!\\-))?"+a:t.allow_space_after_symbol?a=" ?"+a:t.allow_space_after_digits&&(a+="( (?!$))?"),t.symbol_after_digits?a+=e:a=e+a,t.allow_negatives&&(t.parens_for_negatives?a="(\\("+a+"\\)|"+a+")":t.negative_sign_before_digits||t.negative_sign_after_digits||(a=r+a)),new RegExp("^(?!-? )(?=.*\\d)"+a+"$")}t={version:"4.0.6"};var n=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,i=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,o=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,u=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,s=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,a=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,l=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/,f=/^(?:[0-9]{9}X|[0-9]{10})$/,c=/^(?:[0-9]{13})$/,p=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,g=/^[0-9A-F]{1,4}$/i,F={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},d=/^[A-Z]+$/i,_=/^[0-9A-Z]+$/i,x=/^[-+]?[0-9]+$/,h=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,v=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,A=/^[0-9A-F]+$/i,$=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,m=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i,w=/^[\x00-\x7F]+$/,b=/[^\x00-\x7F]/,D=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,y=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,I=/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i,O={"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"pt-PT":/^(\+351)?9[1236]\d{7}$/,"el-GR":/^(\+30)?((2\d{9})|(69\d{8}))$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"en-ZM":/^(\+26)?09[567]\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/},C=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;t.extend=function(e,r){t[e]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=t.toString(e[0]),r.apply(t,e)}},t.init=function(){for(var e in t)"function"==typeof t[e]&&"toString"!==e&&"toDate"!==e&&"extend"!==e&&"init"!==e&&t.extend(e,t[e])},t.toString=function(t){return"object"==typeof t&&null!==t&&t.toString?t=t.toString():null===t||"undefined"==typeof t||isNaN(t)&&!t.length?t="":"string"!=typeof t&&(t+=""),t},t.toDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)?t:(t=Date.parse(t),isNaN(t)?null:new Date(t))},t.toFloat=function(t){return parseFloat(t)},t.toInt=function(t,e){return parseInt(t,e||10)},t.toBoolean=function(t,e){return e?"1"===t||"true"===t:"0"!==t&&"false"!==t&&""!==t},t.equals=function(e,r){return e===t.toString(r)},t.contains=function(e,r){return e.indexOf(t.toString(r))>=0},t.matches=function(t,e,r){return"[object RegExp]"!==Object.prototype.toString.call(e)&&(e=new RegExp(e,r)),e.test(t)};var S={allow_display_name:!1,allow_utf8_local_part:!0,require_tld:!0};t.isEmail=function(r,a){if(a=e(a,S),a.allow_display_name){var l=r.match(s);l&&(r=l[1])}var f=r.split("@"),c=f.pop(),p=f.join("@"),g=c.toLowerCase();if("gmail.com"!==g&&"googlemail.com"!==g||(p=p.replace(/\./g,"").toLowerCase()),!t.isByteLength(p,0,64)||!t.isByteLength(c,0,256))return!1;if(!t.isFQDN(c,{require_tld:a.require_tld}))return!1;if('"'===p[0])return p=p.slice(1,p.length-1),a.allow_utf8_local_part?u.test(p):i.test(p);for(var F=a.allow_utf8_local_part?o:n,d=p.split("."),_=0;_<d.length;_++)if(!F.test(d[_]))return!1;return!0};var N={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1};t.isURL=function(r,n){if(!r||r.length>=2083||/\s/.test(r))return!1;if(0===r.indexOf("mailto:"))return!1;n=e(n,N);var i,o,u,s,a,l,f;if(f=r.split("://"),f.length>1){if(i=f.shift(),n.require_valid_protocol&&n.protocols.indexOf(i)===-1)return!1}else{if(n.require_protocol)return!1;n.allow_protocol_relative_urls&&"//"===r.substr(0,2)&&(f[0]=r.substr(2))}return r=f.join("://"),f=r.split("#"),r=f.shift(),f=r.split("?"),r=f.shift(),f=r.split("/"),r=f.shift(),f=r.split("@"),!(f.length>1&&(o=f.shift(),o.indexOf(":")>=0&&o.split(":").length>2))&&(s=f.join("@"),f=s.split(":"),u=f.shift(),!(f.length&&(l=f.join(":"),a=parseInt(l,10),!/^[0-9]+$/.test(l)||a<=0||a>65535))&&(!(!t.isIP(u)&&!t.isFQDN(u,n)&&"localhost"!==u)&&((!n.host_whitelist||n.host_whitelist.indexOf(u)!==-1)&&(!n.host_blacklist||n.host_blacklist.indexOf(u)===-1))))},t.isIP=function(e,r){if(r=t.toString(r),!r)return t.isIP(e,4)||t.isIP(e,6);if("4"===r){if(!p.test(e))return!1;var n=e.split(".").sort(function(t,e){return t-e});return n[3]<=255}if("6"===r){var i=e.split(":"),o=!1,u=t.isIP(i[i.length-1],4),s=u?7:8;if(i.length>s)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(i.shift(),i.shift(),o=!0):"::"===e.substr(e.length-2)&&(i.pop(),i.pop(),o=!0);for(var a=0;a<i.length;++a)if(""===i[a]&&a>0&&a<i.length-1){if(o)return!1;o=!0}else if(u&&a==i.length-1);else if(!g.test(i[a]))return!1;return o?i.length>=1:i.length===s}return!1};var B={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};t.isFQDN=function(t,r){r=e(r,B),r.allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var n=t.split(".");if(r.require_tld){var i=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(i))return!1}for(var o,u=0;u<n.length;u++){if(o=n[u],r.allow_underscores){if(o.indexOf("__")>=0)return!1;o=o.replace(/_/g,"")}if(!/^[a-z\u00a1-\uffff0-9-]+$/i.test(o))return!1;if(/[\uff01-\uff5e]/.test(o))return!1;if("-"===o[0]||"-"===o[o.length-1]||o.indexOf("---")>=0)return!1}return!0},t.isBoolean=function(t){return["true","false","1","0"].indexOf(t)>=0},t.isAlpha=function(t){return d.test(t)},t.isAlphanumeric=function(t){return _.test(t)},t.isNumeric=function(t){return x.test(t)},t.isDecimal=function(t){return""!==t&&$.test(t)},t.isHexadecimal=function(t){return A.test(t)},t.isHexColor=function(t){return m.test(t)},t.isLowercase=function(t){return t===t.toLowerCase()},t.isUppercase=function(t){return t===t.toUpperCase()},t.isInt=function(t,e){return e=e||{},h.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},t.isFloat=function(t,e){return e=e||{},""!==t&&v.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},t.isDivisibleBy=function(e,r){return t.toFloat(e)%t.toInt(r)===0},t.isNull=function(t){return 0===t.length},t.isLength=function(t,e,r){var n=t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],i=t.length-n.length;return i>=e&&("undefined"==typeof r||i<=r)},t.isByteLength=function(t,e,r){var n=encodeURI(t).split(/%..|./).length-1;return n>=e&&("undefined"==typeof r||n<=r)},t.isUUID=function(t,e){var r=F[e?e:"all"];return r&&r.test(t)},t.isDate=function(t){return!isNaN(Date.parse(t))},t.isAfter=function(e,r){var n=t.toDate(r||new Date),i=t.toDate(e);return!!(i&&n&&i>n)},t.isBefore=function(e,r){var n=t.toDate(r||new Date),i=t.toDate(e);return!!(i&&n&&i<n)},t.isIn=function(e,r){var n;if("[object Array]"===Object.prototype.toString.call(r)){var i=[];for(n in r)i[n]=t.toString(r[n]);return i.indexOf(e)>=0}return"object"==typeof r?r.hasOwnProperty(e):!(!r||"function"!=typeof r.indexOf)&&r.indexOf(e)>=0},t.isCreditCard=function(t){var e=t.replace(/[^0-9]+/g,"");if(!a.test(e))return!1;for(var r,n,i,o=0,u=e.length-1;u>=0;u--)r=e.substring(u,u+1),n=parseInt(r,10),i?(n*=2,o+=n>=10?n%10+1:n):o+=n,i=!i;return!(o%10!==0||!e)},t.isISIN=function(t){if(!l.test(t))return!1;for(var e,r,n=t.replace(/[A-Z]/g,function(t){return parseInt(t,36)}),i=0,o=!0,u=n.length-2;u>=0;u--)e=n.substring(u,u+1),r=parseInt(e,10),o?(r*=2,i+=r>=10?r+1:r):i+=r,o=!o;return parseInt(t.substr(t.length-1),10)===(1e4-i)%10},t.isISBN=function(e,r){if(r=t.toString(r),!r)return t.isISBN(e,10)||t.isISBN(e,13);var n,i=e.replace(/[\s-]+/g,""),o=0;if("10"===r){if(!f.test(i))return!1;for(n=0;n<9;n++)o+=(n+1)*i.charAt(n);if(o+="X"===i.charAt(9)?100:10*i.charAt(9),o%11===0)return!!i}else if("13"===r){if(!c.test(i))return!1;var u=[1,3];for(n=0;n<12;n++)o+=u[n%2]*i.charAt(n);if(i.charAt(12)-(10-o%10)%10===0)return!!i}return!1},t.isMobilePhone=function(t,e){return e in O&&O[e].test(t)};var j={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};t.isCurrency=function(t,n){return n=e(n,j),r(n).test(t)},t.isJSON=function(t){try{var e=JSON.parse(t);return!!e&&"object"==typeof e}catch(t){}return!1},t.isMultibyte=function(t){return b.test(t)},t.isAscii=function(t){return w.test(t)},t.isFullWidth=function(t){return D.test(t)},t.isHalfWidth=function(t){return y.test(t)},t.isVariableWidth=function(t){return D.test(t)&&y.test(t)},t.isSurrogatePair=function(t){return E.test(t)},t.isBase64=function(t){return I.test(t)},t.isMongoId=function(e){return t.isHexadecimal(e)&&24===e.length},t.isISO8601=function(t){return C.test(t)},t.ltrim=function(t,e){var r=e?new RegExp("^["+e+"]+","g"):/^\s+/g;return t.replace(r,"")},t.rtrim=function(t,e){var r=e?new RegExp("["+e+"]+$","g"):/\s+$/g;return t.replace(r,"")},t.trim=function(t,e){var r=e?new RegExp("^["+e+"]+|["+e+"]+$","g"):/^\s+|\s+$/g;return t.replace(r,"")},t.escape=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\`/g,"&#96;")},t.stripLow=function(e,r){var n=r?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return t.blacklist(e,n)},t.whitelist=function(t,e){return t.replace(new RegExp("[^"+e+"]+","g"),"")},t.blacklist=function(t,e){return t.replace(new RegExp("["+e+"]+","g"),"")};var q={lowercase:!0};return t.normalizeEmail=function(r,n){if(n=e(n,q),!t.isEmail(r))return!1;var i=r.split("@",2);if(i[1]=i[1].toLowerCase(),"gmail.com"===i[1]||"googlemail.com"===i[1]){if(i[0]=i[0].toLowerCase().replace(/\./g,""),"+"===i[0][0])return!1;i[0]=i[0].split("+")[0],i[1]="gmail.com"}else n.lowercase&&(i[0]=i[0].toLowerCase());return i.join("@")},t.init(),t});
},{}],944:[function(require,module,exports){
(function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&t(i[r],n)===-1&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),r!==-1&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}).call(this);

},{}]},{},[19]);
